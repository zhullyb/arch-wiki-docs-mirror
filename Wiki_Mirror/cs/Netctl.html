<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>netctl (Česky) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Netctl_Česky rootpage-Netctl_Česky skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">netctl (Česky)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><span></span>
</p>
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../cs/Network_configuration.html" class="mw-redirect" title="Network Configuration (Česky)">Network Configuration (Česky)</a></li>
<li><a href="../cs/c90420c5a022acc58009274851671aed.html" class="mw-redirect" title="Wireless Setup (Česky)">Wireless Setup (Česky)</a></li>
<li><a href="../cs/NetworkManager.html" title="NetworkManager (Česky)">NetworkManager (Česky)</a></li>
<li><a href="../en/Wicd.html" title="Wicd">Wicd</a></li>
<li><a href="../en/Bridge_with_netctl.html" title="Bridge with netctl">Bridge with netctl</a></li>
</ul>
</div>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a><b>This article or section needs to be <a href="../en/ArchWiki:Contributing.html#Translating" title="ArchWiki:Contributing">translated</a>.</b><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Notes:</b> <span style="color:red;">please use the first argument of the template to provide more detailed indications.</span> (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Netctl_(%C4%8Cesky)">Talk:Netctl (Česky)#</a>)</div>
</div>
<p>Netctl je aplikací vyvíjenou v rámci Arch Linuxu, která má za cíl nahradit původní <i>netcfg</i>. Netctl představuje budoucnost (a současnot) ve správě síťového nastavení v Arch Linuxu .
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Instalace"><span class="tocnumber">1</span> <span class="toctext">Instalace</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Required_reading"><span class="tocnumber">2</span> <span class="toctext">Required reading</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#Konfigurace"><span class="tocnumber">3</span> <span class="toctext">Konfigurace</span></a>
<ul>
<li class="toclevel-2 tocsection-4">
<a href="#Automatic_operation"><span class="tocnumber">3.1</span> <span class="toctext">Automatic operation</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#Just_one_profile"><span class="tocnumber">3.1.1</span> <span class="toctext">Just one profile</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Multiple_profiles"><span class="tocnumber">3.1.2</span> <span class="toctext">Multiple profiles</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="#Migrating_from_netcfg"><span class="tocnumber">3.2</span> <span class="toctext">Migrating from netcfg</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Passphrase_obfuscation_(256-bit_PSK)"><span class="tocnumber">3.3</span> <span class="toctext">Passphrase obfuscation (256-bit PSK)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Support"><span class="tocnumber">4</span> <span class="toctext">Support</span></a></li>
<li class="toclevel-1 tocsection-10">
<a href="#Tips_and_tricks"><span class="tocnumber">5</span> <span class="toctext">Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Replace_'netcfg_current'"><span class="tocnumber">5.1</span> <span class="toctext">Replace 'netcfg current'</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Eduroam"><span class="tocnumber">5.2</span> <span class="toctext">Eduroam</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Instalace">Instalace</span></h2>
<p>Balíček <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=netctl">netctl</a></span> je dostupný v oficiálních repozitářích. Installing netctl will replace <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/netcfg/">netcfg</a></span><sup><small>AUR</small></sup>. 
</p>
<p>Balíčky <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=netctl">netctl</a></span> a <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/netcfg/">netcfg</a></span><sup><small>AUR</small></sup> jsou konfliktní (pouze jeden z nich může být nainstalován). You will be potentially connectionless after installing <b>netctl</b> if your profiles are misconfigured.
</p>
<h2><span class="mw-headline" id="Required_reading">Required reading</span></h2>
<p>Před samotnou instalací si prosím prostudujte následjící manuálové stránky:
</p>
<ul>
<li><a rel="nofollow" class="external text" href="https://github.com/joukewitteveen/netctl/blob/master/docs/netctl.1.txt">netctl</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/joukewitteveen/netctl/blob/master/docs/netctl.profile.5.txt">netctl.profile</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/joukewitteveen/netctl/blob/master/docs/netctl.special.7.txt">netctl.special</a></li>
</ul>
<h2><span class="mw-headline" id="Konfigurace">Konfigurace</span></h2>
<p><code>netctl</code> may be used to introspect and control the state of the systemd services for the network profile manager. Example configuration files are provided for the user to assist them in configuring their network connection. These example profiles are located in <code>/etc/netctl/examples/</code>. The common configurations include:
</p>
<ul>
<li>ethernet-dhcp</li>
<li>ethernet-static</li>
<li>wireless-wpa</li>
<li>wireless-wpa-static</li>
</ul>
<p>For wireless settings, use <b>wifi-menu -o</b> will generate the config file in /etc/netctl.
</p>
<p>To use an example profile, simply copy one of them from <code>/etc/netctl/examples/</code> to <code>/etc/netctl/</code> and configure it to your needs:
</p>
<pre># cp /etc/netctl/examples/wireless-wpa /etc/netctl/
</pre>
<p>Once you have created your profile, make an attempt to establish a connection using the newly created profile by running:
</p>
<pre># netctl start <i>profile</i>
</pre>
<p>If issuing the above command results in a failure, then use <code>journalctl -xn</code> and <code>netctl status &lt;profile&gt;</code> in order to obtain a more in depth explanation of the failure. Make the needed corrections to the failed configuration and retest.
</p>
<h3><span class="mw-headline" id="Automatic_operation">Automatic operation</span></h3>
<h4><span class="mw-headline" id="Just_one_profile">Just one profile</span></h4>
<p>If you are using only one profile, once that profile is started successfully, it can be <code>enabled</code> using 
</p>
<pre># netctl enable <i>profile</i> 
</pre>
<p>This will create and enable a <a href="../en/Systemd.html" title="Systemd">systemd</a> service that will start when the computer boots.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The connection to a dhcp-server is only established if the interface is connected and up at boot time (or when the service starts). In order to have an automatic connection established on cable connect, proceed to <a href="#Multiple_profiles">#Multiple profiles</a>.</div>
<h4><span class="mw-headline" id="Multiple_profiles">Multiple profiles</span></h4>
<p>Whereas with <code>netcfg</code> there was <code>net-auto-wireless.service</code> and <code>net-auto-wired.service</code>, <code>netctl</code> uses <code>netctl-auto@<i>interface</i>.service</code> for wireless profiles, and <code>netctl-ifplugd@<i>interface</i>.service</code> for wired profiles. In order to make the <code>netctl-auto@<i>interface</i>.service</code> work for wireless interfaces, the package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wpa_actiond/">wpa_actiond</a></span><sup><small>AUR</small></sup> is required to be installed. In order to make the <code>netctl-ifplugd@<i>interface</i>.service</code> work for wired interfaces, the package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ifplugd">ifplugd</a></span> is required to be installed.  Configure <code>/etc/ifplugd/ifplugd.conf</code> accordingly. Automatic selection of a WPA-enabled profile by netctl-auto is not possible with option <code>Security=wpa-config</code>, please use <code>Security=wpa-configsection</code> instead.
</p>
<p>To set preferred wired profile for auto-connecting specify <code>AutoWired=yes</code> in that profile. By default on failure <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ifplugd">ifplugd</a></span> will pass to other DHCP wired profiles, then to static ones. If you do not want it to do so, set <code>ForceConnect=yes</code>.
</p>
<p>Once your profiles are set and verified to be working, simply enable these services with 
</p>
<pre># systemctl enable netctl-auto@<i>interface</i>.service 
# systemctl enable netctl-ifplugd@<i>interface</i>.service  
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If any of the profiles contain errors, such as an empty <code>Key=</code> variable, the unit will fail to load at boot.</div>
<p>If you have previously enabled a profile through <code>netctl</code>, run 
</p>
<pre># netctl disable <i>profile</i>
</pre>
<p>to prevent the profile from starting twice at boot, and possibly causing issues with wpa_supplicant.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>If there is ever a need to alter a currently enabled profile, execute <code>netctl reenable &lt;profile&gt;</code> to apply the changes.</li>
<li>
<i>interface</i> is hardware minus, e.g netctl-auto@wlan0.service or netctl-auto@wlo1.service</li>
</ul>
</div>
<h3><span class="mw-headline" id="Migrating_from_netcfg">Migrating from netcfg</span></h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> <code>netctl</code> conflicts with <code>netcfg</code> so disable existing <code>netcfg@<i>profile</i></code> service before installing <code>netctl</code>.</div>
<p><code>netctl</code> uses <code>/etc/netctl</code> to store its profiles, <i>not</i> <code>/etc/network.d</code> (<code>netcfg</code>'s profile storage location).
</p>
<p>In order to migrate from netcfg, at least the following is needed:
</p>
<ul>
<li>Move network profile files to the new directory.</li>
<li>Rename variables therein according to netctl.profile(5) (Most variable names have only UpperCamelCase i.e CONNECTION= becomes Connection=).</li>
<li>For static IP configuration make sure the Address= variables have a netmask after the IP (e.g. Address=('192.168.1.23<b>/24'</b> '192.168.1.87<b>/24'</b>) in the example profile).</li>
<li>If you setup a wireless profile according in the <code>wireless-wpa-configsection</code> example, note that this overrides <code>wpa_supplicant</code> options defined above the brackets. For a connection to a hidden wireless network, add <code>scan_ssid=1</code> to the options in the <code>wireless-wpa-configsection</code>; <code>Hidden=yes</code> does not work there.</li>
<li>Unquote interface variables and other variables that do not strictly need quoting (this is mainly a style thing).</li>
<li>Run <code>netctl enable <i>profile</i></code> for every profile in the old NETWORKS array. 'last' does not work this way, see netctl.special(7).</li>
<li>Use <code>netctl list</code>/<code>netctl start <i>profile</i></code> instead of <b>netcfg-menu</b>. <b>wifi-menu</b> remains available.</li>
<li>It may be a good idea to use <code>systemctl --type=service</code> to ensure that no other service is running that may want to configure the network.  Multiple networking services will conflict.</li>
</ul>
<h3>
<span id="Passphrase_obfuscation_.28256-bit_PSK.29"></span><span class="mw-headline" id="Passphrase_obfuscation_(256-bit_PSK)">Passphrase obfuscation (256-bit PSK)</span>
</h3>
<p>Users <i>not</i> wishing to have the passphrase to their wireless network stored in <i>plain text</i> have the option of storing the corresponding 256-bit pre-shared key (PSK) instead, which is calculated from the passphrase and the SSID using standard algorithms.
</p>
<ul>
<li>Method 1: Use <code>wifi-menu -o</code> to generate a config file in <code>/etc/netctl</code>
</li>
<li>Method 2: Manual settings as follows. If the passphrase fails, try removing the \" in Key= (see note below)</li>
</ul>
<p>For both methods it is suggested to <code>chmod 600 /etc/netctl/&lt;config_file&gt;</code> to prevent user access to the password.
</p>
<p>Calculate your 256-bit PSK using <a href="../en/Wpa_supplicant.html#Configuration" class="mw-redirect" title="WPA supplicant">wpa_passphrase</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">Usage: wpa_passphrase [ssid] [passphrase]</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">$ wpa_passphrase archlinux freenode</pre>
<p>In a second terminal window, copy the example file <code>wireless-wpa</code> from <code>/etc/netctl/examples</code> to <code>/etc/netctl</code>:
</p>
<pre># cp /etc/netctl/examples/wireless-wpa /etc/netctl/wireless-wpa
</pre>
<p>You will then need to edit <code>/etc/netctl/wireless-wpa</code> using your favorite text editor and add the <i>pre-shared key</i>, that was generated earlier using wpa_passphrase, to the <code><b>Key</b></code> variable of this profile.
</p>
<p>Once completed your network profile <code>wireless-wpa</code> containing a 256-bit PSK should resemble:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/netctl/wireless-wpa</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Description='A simple WPA encrypted wireless connection using 256-bit PSK'
Interface=wlp2s2
Connection=wireless
Security=wpa
IP=dhcp
ESSID=archlinux
Key=\"64cf3ced850ecef39197bb7b7b301fc39437a6aa6c6a599d0534b16af578e04a</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Make sure to use the <b>special non-quoted rules</b> for <code>Key=</code> that are explained at the end of <a rel="nofollow" class="external text" href="https://github.com/joukewitteveen/netctl/blob/master/docs/netctl.profile.5.txt">netctl.profile(5)</a>.</li>
<li>The key that you put in the profile configuration is enough to connect to a WPA-PSK network, which means this procedure is only good to hide the human-readable passphrase but will not prevent anyone with read access to this file from connecting to the network. You should ask yourself if there is any use in this at all, since using the same passphrase for anything else is a very poor security measure.</li>
</ul>
</div>
<h2><span class="mw-headline" id="Support">Support</span></h2>
<p>Official announcement thread: <a rel="nofollow" class="external free" href="https://bbs.archlinux.org/viewtopic.php?id=157670">https://bbs.archlinux.org/viewtopic.php?id=157670</a>
</p>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3>
<span id="Replace_.27netcfg_current.27"></span><span class="mw-headline" id="Replace_'netcfg_current'">Replace 'netcfg current'</span>
</h3>
<p>As of April 2013 there is no netctl alternative to <code>netcfg current</code>. If you relied on it for something, like a status bar for a tiling window manager, you can now use:
</p>
<pre># netctl list | awk '/*/ {print $2}'
</pre>
<p>or, when <code>netctl-auto</code> was used to connect:
</p>
<pre># wpa_cli -i <i>interface</i> status | sed -n 's/^id_str=//p'
</pre>
<h3><span class="mw-headline" id="Eduroam">Eduroam</span></h3>
<p>To connect ta a wireless network at university it is very likely you need a profile looking like this (tested in Freiburg, Germany):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/netctl/wlan0-eduroam</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Description='Eduroam-profile for &lt;user&gt;'
Interface=wlan0
Connection=wireless
Security=wpa-configsection
IP=dhcp
WPAConfigSection=(
 'ssid="eduroam"'
 'proto=RSN'
 'key_mgmt=WPA-EAP'
 'pairwise=CCMP'
 'auth_alg=OPEN'
 'eap=PEAP'
 'identity="&lt;user&gt;"'
 'password="&lt;password&gt;"'
)
</pre>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../cs/Category:Networking.html" title="Category:Networking (Česky)">Networking (Česky)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Translateme.html" title="Category:Pages or sections flagged with Template:Translateme">Pages or sections flagged with Template:Translateme</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Netctl_(%C4%8Cesky)&amp;oldid=659847">https://wiki.archlinux.org/index.php?title=Netctl_(Česky)&amp;oldid=659847</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 15 April 2021, at 11:50.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
