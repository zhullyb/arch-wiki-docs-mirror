<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>PulseAudio (Česky) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-PulseAudio_Česky rootpage-PulseAudio_Česky skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">PulseAudio (Česky)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><b>PulseAudio</b> je univerzální zvukový server pro systémy POSIX a WIN32, jehož základním rysem je mixování zdrojů zvuku což umožňuje přehrávat na zvukovém zařízení více zvukových zdrojů najednou.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Instalace"><span class="tocnumber">1</span> <span class="toctext">Instalace</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Spu%C5%A1t%C4%9Bn%C3%AD"><span class="tocnumber">2</span> <span class="toctext">Spuštění</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#Konfigurace_backend%C5%AF"><span class="tocnumber">3</span> <span class="toctext">Konfigurace backendů</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#ALSA"><span class="tocnumber">3.1</span> <span class="toctext">ALSA</span></a></li>
<li class="toclevel-2 tocsection-5">
<a href="#OSS"><span class="tocnumber">3.2</span> <span class="toctext">OSS</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#osspd"><span class="tocnumber">3.2.1</span> <span class="toctext">osspd</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#padsp_wrapper"><span class="tocnumber">3.2.2</span> <span class="toctext">padsp wrapper</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href="#GStreamer"><span class="tocnumber">3.3</span> <span class="toctext">GStreamer</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#OpenAL"><span class="tocnumber">3.4</span> <span class="toctext">OpenAL</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#libao"><span class="tocnumber">3.5</span> <span class="toctext">libao</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#PortAudio"><span class="tocnumber">3.6</span> <span class="toctext">PortAudio</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#ESD"><span class="tocnumber">3.7</span> <span class="toctext">ESD</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13">
<a href="#Desktopov%C3%A1_prost%C5%99ed%C3%AD"><span class="tocnumber">4</span> <span class="toctext">Desktopová prostředí</span></a>
<ul>
<li class="toclevel-2 tocsection-14">
<a href="#Obecn%C3%A9_X11"><span class="tocnumber">4.1</span> <span class="toctext">Obecné X11</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="#X11_zvonek"><span class="tocnumber">4.1.1</span> <span class="toctext">X11 zvonek</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-16"><a href="#GNOME"><span class="tocnumber">4.2</span> <span class="toctext">GNOME</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#KDE_3"><span class="tocnumber">4.3</span> <span class="toctext">KDE 3</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#KDE_4_a_Qt4"><span class="tocnumber">4.4</span> <span class="toctext">KDE 4 a Qt4</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19">
<a href="#Aplikace"><span class="tocnumber">5</span> <span class="toctext">Aplikace</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#Audacious"><span class="tocnumber">5.1</span> <span class="toctext">Audacious</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#mpd"><span class="tocnumber">5.2</span> <span class="toctext">mpd</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#MPlayer"><span class="tocnumber">5.3</span> <span class="toctext">MPlayer</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#%22Flashov%C3%BD%22_obsah"><span class="tocnumber">5.4</span> <span class="toctext">"Flashový" obsah</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Flashplugin_(pouze_pro_x86_64)"><span class="tocnumber">5.5</span> <span class="toctext">Flashplugin (pouze pro x86_64)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-25">
<a href="#Alternativn%C3%AD_konfigurace"><span class="tocnumber">6</span> <span class="toctext">Alternativní konfigurace</span></a>
<ul>
<li class="toclevel-2 tocsection-26"><a href="#Surround_sound_syst%C3%A9my"><span class="tocnumber">6.1</span> <span class="toctext">Surround sound systémy</span></a></li>
<li class="toclevel-2 tocsection-27">
<a href="#Roz%C5%A1%C3%AD%C5%99en%C3%A1_konfigurace_ALSA"><span class="tocnumber">6.2</span> <span class="toctext">Rozšířená konfigurace ALSA</span></a>
<ul>
<li class="toclevel-3 tocsection-28"><a href="#ALSA_zvukov%C3%BD_monitor"><span class="tocnumber">6.2.1</span> <span class="toctext">ALSA zvukový monitor</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-29"><a href="#PulseAudio_p%C5%99es_s%C3%AD%C5%A5"><span class="tocnumber">6.3</span> <span class="toctext">PulseAudio přes síť</span></a></li>
<li class="toclevel-2 tocsection-30">
<a href="#TCP_podpora_(zvuk_po_s%C3%ADti)"><span class="tocnumber">6.4</span> <span class="toctext">TCP podpora (zvuk po síti)</span></a>
<ul>
<li class="toclevel-3 tocsection-31"><a href="#Zeroconf_(Avahi)_publiskov%C3%A1n%C3%AD"><span class="tocnumber">6.4.1</span> <span class="toctext">Zeroconf (Avahi) publiskování</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-32"><a href="#P%C5%99ep%C3%ADn%C3%A1n%C3%AD_PulseAudio_server%C5%AF_lok%C3%A1ln%C3%ADmi_klienty"><span class="tocnumber">6.5</span> <span class="toctext">Přepínání PulseAudio serverů lokálními klienty</span></a></li>
<li class="toclevel-2 tocsection-33">
<a href="#Pulseaudio_p%C5%99es_JACK"><span class="tocnumber">6.6</span> <span class="toctext">Pulseaudio přes JACK</span></a>
<ul>
<li class="toclevel-3 tocsection-34"><a href="#QjackCtl_se_Start/Stop_Skripty"><span class="tocnumber">6.6.1</span> <span class="toctext">QjackCtl se Start/Stop Skripty</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-35"><a href="#Pulseaudio_zkrz_OSS"><span class="tocnumber">6.7</span> <span class="toctext">Pulseaudio zkrz OSS</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#Pulseaudio_z_chroot_(p%C5%99._32-bit_chroot_v_64-bit_instalaci)"><span class="tocnumber">6.8</span> <span class="toctext">Pulseaudio z chroot (př. 32-bit chroot v 64-bit instalaci)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-37">
<a href="#Rady_p%C5%99i_pot%C3%AD%C5%BE%C3%ADch"><span class="tocnumber">7</span> <span class="toctext">Rady při potížích</span></a>
<ul>
<li class="toclevel-2 tocsection-38">
<a href="#%C5%BD%C3%A1dn%C3%BD_zvuk_po_instalaci"><span class="tocnumber">7.1</span> <span class="toctext">Žádný zvuk po instalaci</span></a>
<ul>
<li class="toclevel-3 tocsection-39"><a href="#%C5%BD%C3%A1dn%C3%A9_zvukov%C3%A9_karty"><span class="tocnumber">7.1.1</span> <span class="toctext">Žádné zvukové karty</span></a></li>
<li class="toclevel-3 tocsection-40"><a href="#KDE4"><span class="tocnumber">7.1.2</span> <span class="toctext">KDE4</span></a></li>
<li class="toclevel-3 tocsection-41"><a href="#Ztlumen%C3%A9_audio_za%C5%99%C3%ADzen%C3%AD"><span class="tocnumber">7.1.3</span> <span class="toctext">Ztlumené audio zařízení</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-42"><a href="#Daemon_nenastartuje"><span class="tocnumber">7.2</span> <span class="toctext">Daemon nenastartuje</span></a></li>
<li class="toclevel-2 tocsection-43"><a href="#padevchooser"><span class="tocnumber">7.3</span> <span class="toctext">padevchooser</span></a></li>
<li class="toclevel-2 tocsection-44"><a href="#%C5%A0kub%C3%A1n%C3%AD_zvuku_a_vysok%C3%A9_vyt%C3%AD%C5%BEen%C3%AD_CPU_od_verze_0.9.14"><span class="tocnumber">7.4</span> <span class="toctext">Škubání zvuku a vysoké vytížení CPU od verze 0.9.14</span></a></li>
<li class="toclevel-2 tocsection-45"><a href="#Nekvalitn%C3%AD_zvuk"><span class="tocnumber">7.5</span> <span class="toctext">Nekvalitní zvuk</span></a></li>
<li class="toclevel-2 tocsection-46"><a href="#Nefunk%C4%8Dn%C3%AD_nastaven%C3%AD_hlasitosti"><span class="tocnumber">7.6</span> <span class="toctext">Nefunkční nastavení hlasitosti</span></a></li>
<li class="toclevel-2 tocsection-47"><a href="#Hlasitost_je_vy%C5%A1%C5%A1%C3%AD_po_ka%C5%BEd%C3%A9m_spu%C5%A1t%C4%9Bn%C3%AD_aplikace"><span class="tocnumber">7.7</span> <span class="toctext">Hlasitost je vyšší po každém spuštění aplikace</span></a></li>
<li class="toclevel-2 tocsection-48"><a href="#Realtime_pl%C3%A1nov%C3%A1n%C3%AD"><span class="tocnumber">7.8</span> <span class="toctext">Realtime plánování</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-49"><a href="#Viz_tak%C3%A9"><span class="tocnumber">8</span> <span class="toctext">Viz také</span></a></li>
<li class="toclevel-1 tocsection-50"><a href="#Extern%C3%AD_odkazy"><span class="tocnumber">9</span> <span class="toctext">Externí odkazy</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Instalace">Instalace</span></h2>
<p>Všechny potrebné balíčky se nacházejí v repozitáři community, který by měl být povolen. Pro instalaci : 
</p>
<pre># pacman -S pulseaudio
</pre>
<p>Volitelně lze nainstalovat GTK aplikace, které umožní nastavovat vstupní a výstupní zařízení apod. :
</p>
<pre># pacman -S paprefs pavucontrol
</pre>
<h2>
<span id="Spu.C5.A1t.C4.9Bn.C3.AD"></span><span class="mw-headline" id="Spuštění">Spuštění</span>
</h2>
<p>Pulseaudio potřebuje pro svou činnost spuštěný dbus daemon. Proto ho spusťte pokud ještě neběží:
</p>
<pre># /etc/rc.d/dbus start
</pre>
<p>Start pulseaudia lze provést příkazem:
</p>
<pre>$ pulseaudio --start
</pre>
<p>Pokud spouštíme pulseaudio v grafickém prostředí:
</p>
<pre>$ start-pulseaudio-x11
</pre>
<p>Pulseaudio lze zastavit příkazem:
</p>
<pre>$ pulseaudio --kill
</pre>
<p>Nutno upozornit, že některá X11 prostředí startují Pulseaudio automaticky při přihlášení uživatele, proto zkontrolujte pro jistotu wiki sekci pro dané desktopové prostředí.
</p>
<h2>
<span id="Konfigurace_backend.C5.AF"></span><span class="mw-headline" id="Konfigurace_backendů">Konfigurace backendů</span>
</h2>
<p>Slouží pro nastavení podpory pro mixování audio streamu od aplikace, která nepodporuje přímo PulseAudio.
</p>
<h3><span class="mw-headline" id="ALSA">ALSA</span></h3>
<p>Pro aplikace, které nepodporují PulseAudio, ale podporují ALSA je doporučeno nainstalovat ALSA plugin pro PulseAudio:
</p>
<pre># pacman -S pulseaudio-alsa
</pre>
<p>Tento balíček obsahuje i nezbytný konfigurační soubor <code>/etc/asound.conf</code> pro nastavení ALSA výstupu na PulseAudio server.
Pokud používáte x86_64 Archlinux a požadujete fungující zvuk i pro 32bit aplikace (jako Wine), musíte mít nainstalované i 32bit verze knihoven lib32-libpulse and lib32-alsa-plugins.
Některé aplikace, keré používají ALSA OSS emulaci by mohly PulseAudio obejít. Pro tento případ je dobré odstranit <code>snd_pcm_oss</code> modul jádra:
</p>
<pre># rmmod snd_pcm_oss
</pre>
<p>Poté je vhodné daný modul zakázat, což se provede v souboru <code>/etc/rc.conf</code> v sekci MODULES přídáním <code>!snd_pcm_oss</code>.
</p>
<h3><span class="mw-headline" id="OSS">OSS</span></h3>
<p>Existuje několik cest jak donutit OSS programy hrát přes PulseAudio:
</p>
<h4><span class="mw-headline" id="osspd">osspd</span></h4>
<p>Nejjednodušší metoda.
</p>
<p>Nainstalujte ossp a spusťte daemona příkazem:
</p>
<pre>/etc/rc.d/osspd start
</pre>
<p>Nezapomeňte přidát osspd do sekce DAEMONS v souboru rc.conf pro automatické spouštění při startu.
</p>
<h4><span class="mw-headline" id="padsp_wrapper">padsp wrapper</span></h4>
<p>Pokud máte program užívající OSS, můžete ho donutit pracovat s PulseAudiem spuštěním přes wrapper padsp:
</p>
<pre>$ padsp OSSprogram
</pre>
<p>Několik příkladů:
</p>
<pre>$ padsp aumix
$ padsp sox foo.wav -t ossdsp /dev/dsp
</pre>
<p>Pokud preferujete jednoduché spouštění, je možné použít script jako například tento, kde původní program byl přejmenován (přidána koncovka -bin) a takto vytvořený script pojmenovaný dle programu je pak spouštěn jako aplikace. Nutno podotknout, že tato metoda selže v případě aktualizace daného programu balíčkovacím systémem, který tento skript přepíše. Proto ji berte pouze jako příklad:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/bin/OSSProgram</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
if test -x /usr/bin/padsp; then
    exec /usr/bin/padsp /usr/bin/OSSprogram-bin "$@"
else
    exec /usr/bin/OSSprogram "$@"
fi
</pre>
<h3><span class="mw-headline" id="GStreamer">GStreamer</span></h3>
<p>Abychom přiměli <a href="../en/GStreamer.html" title="GStreamer">GStreamer</a> používat PulseAudio, nastavíme gconf proměnné <code>/system/gstreamer/0.10/default/audiosink</code> na 'pulsesink<i> a <code>/system/gstreamer/0.10/default/audiosrc</code> na </i>pulsesrc<i> následujícími příkazy: </i>
</p>
<pre> $ gconftool-2 -t string --set /system/gstreamer/0.10/default/audiosink pulsesink
 $ gconftool-2 -t string --set /system/gstreamer/0.10/default/audiosrc pulsesrc
</pre>
<p>Některé aplikace (jako Rhythmbox) ignorují <i>audiosink</i> nastavení a používají <i>musicaudiosink</i>. Proto musíme <i>musicaudiosink</i> přenastavit pro tyto aplikace také:
</p>
<pre> $ gconftool-2 -t string --set /system/gstreamer/0.10/default/musicaudiosink pulsesink
</pre>
<h3><span class="mw-headline" id="OpenAL">OpenAL</span></h3>
<p>
OpenAL software využívá defaultně PulseAudio, ale můžeme ho také explicitně nastavit : </p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/openal/alsoft.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">drivers=pulse,alsa</pre>
<h3><span class="mw-headline" id="libao">libao</span></h3>
<p>Editací libao konfiguračního souboru nastavíme pulse:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/libao.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">default_driver=pulse</pre>
<h3><span class="mw-headline" id="PortAudio">PortAudio</span></h3>
<p>Aktuální verze PortAudio v community repozitáři nedpodporuje PulseAudio a non-mmap audio zařízení. Pro podporu PulseAudia lze překompilovat balíček z ABS aplikováním <a rel="nofollow" class="external text" href="http://svn.mandriva.com/cgi-bin/viewvc.cgi/packages/cooker/portaudio/current/SOURCES/portaudio-19-alsa_pulse.patch?revision=313993">patche</a>.
</p>
<h3><span class="mw-headline" id="ESD">ESD</span></h3>
<p>PulseAudio je v podstatě náhrada za zvukový daemon ESD, proto pokud běží PulseAudio, klienti ESD hrají automaticky přes PulseAudio bez nutné ruční konfigurace.
</p>
<h2>
<span id="Desktopov.C3.A1_prost.C5.99ed.C3.AD"></span><span class="mw-headline" id="Desktopová_prostředí">Desktopová prostředí</span>
</h2>
<h3>
<span id="Obecn.C3.A9_X11"></span><span class="mw-headline" id="Obecné_X11">Obecné X11</span>
</h3>
<p>Spusťte PulseAudio po startu X11 příkazem:
</p>
<pre>$ start-pulseaudio-x11
</pre>
<p>Pokud používáte GNOME nebo KDE, PulseAudio se spouští automaticky s příhlášením uživatele a není třeba nic dělat.
</p>
<h4><span class="mw-headline" id="X11_zvonek">X11 zvonek</span></h4>
<p>Pokud požadujete, aby PulseAudio zahrálo zvuk generovaný X11 zvonkem či pípnutím při nějaké akci (například v terminálu), přidejte následující nastavení do
<code>/etc/pulse/default.pa</code>:
</p>
<pre>load-sample-lazy x11-bell /usr/share/sounds/freedesktop/stereo/dialog-error.oga
load-module module-x11-bell sample=x11-bell 
</pre>
<p>Samozřejmě si můžete nastavit použití i jiného zvukového vzorku než <code>dialog-error.oga</code>, který je částí balíčku <i>sound-theme-freedesktop</i>.
</p>
<h3><span class="mw-headline" id="GNOME">GNOME</span></h3>
<p>Úplná integrace PulseAudia do GNOME vyžaduje speciální nahrazující balíčky:
</p>
<ul>
<li>gnome-media-pulse</li>
<li>gnome-settings-daemon-pulse</li>
<li>libcanberra-pulse</li>
</ul>
<p>Tyto jsou součástí skupiny balíčků <i>pulseaudio-gnome</i>.
</p>
<h3><span class="mw-headline" id="KDE_3">KDE 3</span></h3>
<p>Pokud používáte KDE 3, nelze provozovat PulseAudio jakož náhradu za aRts.
</p>
<h3><span class="mw-headline" id="KDE_4_a_Qt4">KDE 4 a Qt4</span></h3>
<p>Pulseaudio lze používat pro KDE4/Qt4 aplikace. Více informací lze nalézt na <a rel="nofollow" class="external text" href="http://www.pulseaudio.org/wiki/KDE">PulseAudio wiki stránce věnované KDE</a>.
Pro KDE existuje také jakási alternativa za pavucontrol <a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?ID=43848">veromix plasmoid</a>, kterou lze nalézt v AURu.
</p>
<h2><span class="mw-headline" id="Aplikace">Aplikace</span></h2>
<h3><span class="mw-headline" id="Audacious">Audacious</span></h3>
<p>Audacious nativně podporuje PulseAudio takže stačí najít v nastavení Preferences -&gt; Audio -&gt; Current output nastavit na 'PulseAudio Output Plugin'.
</p>
<h3><span class="mw-headline" id="mpd">mpd</span></h3>
<p>Je nutno nakonfigurovat mpd dle <a rel="nofollow" class="external text" href="http://mpd.wikia.com/wiki/PulseAudio">návodu</a> pro nastavení výstupu na PulseAudio.
Na multimediálním zařízení spusťte PulseAudio jako <i>mpd</i> uživatele.
Na běžném PC spouštějte mpd i PulseAudio pod vlastním účtem a nepoužívejte <i>mpd</i> uživatele.
</p>
<h3><span class="mw-headline" id="MPlayer">MPlayer</span></h3>
<p>MPlayer nativně podporuje PulseAudio výstup s volbou "<code>-ao pulse</code>". Toto lze také nastavit jako výchozí v konfiguračním souboru pro každého uživatele <code>~/.mplayer/config</code> nebo pro celý systém <code>/etc/mplayer/mplayer.conf</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/mplayer/mplayer.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ao=pulse</pre>
<h3>
<span id=".22Flashov.C3.BD.22_obsah"></span><span class="mw-headline" id='"Flashový"_obsah'>"Flashový" obsah</span>
</h3>
<p>Pokud neslyšíte žádný zvukový výstup z multimediálního obsahu typu flash, můžete zkusit nainstalovat z AURu <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/libflashsupport-pulse/">libflashsupport-pulse</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>.
</p>
<h3>
<span id="Flashplugin_.28pouze_pro_x86_64.29"></span><span class="mw-headline" id="Flashplugin_(pouze_pro_x86_64)">Flashplugin (pouze pro x86_64)</span>
</h3>
<p>Pokud používáte flashplugin z multilib repozitáře, který je 32bit, je nutno nainstalovat také lib32-alsa-plugins a lib32-libcanberra-pulse pokud chcete mixování zvuku. Jinak nebude možné přehrávat jiný zvuk pokud zrovna přehráváte flash.
</p>
<pre># pacman -S lib32-alsa-plugins lib32-libcanberra-pulse
</pre>
<h2>
<span id="Alternativn.C3.AD_konfigurace"></span><span class="mw-headline" id="Alternativní_konfigurace">Alternativní konfigurace</span>
</h2>
<h3>
<span id="Surround_sound_syst.C3.A9my"></span><span class="mw-headline" id="Surround_sound_systémy">Surround sound systémy</span>
</h3>
<p>Pro povolení všech zvukových výstupů vaší karty editujte <code>/etc/pulse/daemon.conf</code> kde odkomentujte default-sample-channels řádek a nastavte na potřebnou hodnotu (<b>6</b>  <i>5.1</i>  <b>8</b>  <i>7.1</i>):
</p>
<pre># Výchozí 2 kanály
default-sample-channels=2
# nebo pro 5.1 výstup
default-sample-channels=6
# nebo pro 7.1 výstup
default-sample-channels=8
</pre>
<p>Po editaci je nutné restartovat PulseAudio.
</p>
<h3>
<span id="Roz.C5.A1.C3.AD.C5.99en.C3.A1_konfigurace_ALSA"></span><span class="mw-headline" id="Rozšířená_konfigurace_ALSA">Rozšířená konfigurace ALSA</span>
</h3>
<p>Někdy je nutno nastavit ručně soubor <code>/etc/asound.conf</code> (systémové nastavení) nebo <code>~/.asoundrc</code> (pro každého uživatele), aby ALSA používala PulseAudio:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/asound.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">pcm.pulse {
    type pulse
}
ctl.pulse {
    type pulse
}
pcm.!default {
    type pulse
}
ctl.!default {
    type pulse
}
</pre>
<p>Pokud vynecháte poslední dvě skupiny nastavení, pak budete muset konfigurovat každou ALSA aplikaci zvlášť v jejím nastavení, aby použila "pulse" výstup.
</p>
<h4>
<span id="ALSA_zvukov.C3.BD_monitor"></span><span class="mw-headline" id="ALSA_zvukový_monitor">ALSA zvukový monitor</span>
</h4>
<p>Pro možnost záznamu ze zvukového monitoru (př. Monitor pro to co slyším, Stereo Mix, .. ) musíte použit <code>pactl list</code> pro nalezení názvu zvukového zdroje PulseAudia (př. <code>alsa_output.pci-0000_00_1b.0.analog-stereo.monitor</code>). Pak přidat tyto do <code>/etc/asound.conf</code> nebo <code>~/.asoundrc</code>:
</p>
<pre>pcm.pulse_monitor {
  type pulse
  device alsa_output.pci-0000_00_1b.0.analog-stereo.monitor
}

ctl.pulse_monitor {
  type pulse
  device alsa_output.pci-0000_00_1b.0.analog-stereo.monitor
}
</pre>
<p>Nyní můžete vybrat <code>pulse_monitor</code> jako zdroj nahrávání zvuku.
</p>
<h3>
<span id="PulseAudio_p.C5.99es_s.C3.AD.C5.A5"></span><span class="mw-headline" id="PulseAudio_přes_síť">PulseAudio přes síť</span>
</h3>
<p>Jedna z předností PulseAudia je možnost streamování audia pomocí clientů a serveru s běžícím pulseaudio daemonem přes vaší LAN. Pro tuto možnost musíte povolit module-native-protocol-tcp a zkopírovat pulse-cookie do klientů v síťi.
</p>
<h3>
<span id="TCP_podpora_.28zvuk_po_s.C3.ADti.29"></span><span class="mw-headline" id="TCP_podpora_(zvuk_po_síti)">TCP podpora (zvuk po síti)</span>
</h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a><b>This article or section is out of date.</b><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> <span style="color:red;">please use the first argument of the template to provide a brief explanation.</span> (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:PulseAudio_(%C4%8Cesky)">Talk:PulseAudio (Česky)#</a>)</div>
</div>
<p>Pro povolení TCP modulu přidejte či odkomentujte <code>/etc/pulse/default.pa</code>:
</p>
<pre>load-module module-native-protocol-tcp
</pre>
<p>Pro povolení vzdáleného připojení na TCP modul musíte odblokovat službu v <code>/etc/hosts.allow</code>:
</p>
<pre>pulseaudio-native: ALL
</pre>
<p>Pozor: Pokud máte problém s připojením, zkuste na serveru:
</p>
<pre>pacmd&gt;&gt; list-modules
</pre>
<p>(zde můžete také nahrávat moduly!)
</p>
<h4>
<span id="Zeroconf_.28Avahi.29_publiskov.C3.A1n.C3.AD"></span><span class="mw-headline" id="Zeroconf_(Avahi)_publiskování">Zeroconf (Avahi) publiskování</span>
</h4>
<p>Je možné že pro nastavení vzdáleného přístupu na server přes (<code>padevchooser</code>) budete potřebovat také nainstalovaný a spuštěný <code>avahi-daemon</code> přidaný v sekci DAEMONS v rc.conf na serveru tak i na klientských stanicích.
</p>
<h3>
<span id="P.C5.99ep.C3.ADn.C3.A1n.C3.AD_PulseAudio_server.C5.AF_lok.C3.A1ln.C3.ADmi_klienty"></span><span class="mw-headline" id="Přepínání_PulseAudio_serverů_lokálními_klienty">Přepínání PulseAudio serverů lokálními klienty</span>
</h3>
<p>Pro přepínání serveru na klientské stanici lze použít příkaz <code>pax11publish</code>. Pro příklad přepnutí z výchozího serveru na server s názvem (hostname) foo:
</p>
<pre>$ pax11publish -e -S foo
</pre>
<p>Nebo přepnutí zpět na výchozí server:
</p>
<pre>$ pax11publish -e -r
</pre>
<p>Pozor při přepnutí musejí být programy používající Pulse pravděpodobně restartovány.
</p>
<h3>
<span id="Pulseaudio_p.C5.99es_JACK"></span><span class="mw-headline" id="Pulseaudio_přes_JACK">Pulseaudio přes JACK</span>
</h3>
<p>Je podobný PulseAudiu, ale je více zaměřen na profesionální práci s audiem.
Pulseaudio používá modul module-jack-source a module-jack-sink což mu umožňuje běžet jako zvukový server nad JACK démonem. Takto je pulseaudiem umožněno nastavení zesílení pro každou běžnou aplikaci zvlášť, přehrávání filmů písniček apod., zatímco je také umožněno nízkolatenční nahrávání a přehrávání a zpracování zvuku aplikacemi napojenými na JACK.
Toto však zabrání PulseAudiu přímý zápis do bufferů zvukové karty, což má za následek zvýšení vytížení CPU.
Pro vyzkoušení běhu PA s JACK stačí načíst nezbytné moduly při startu:
</p>
<pre>pulseaudio -L module-jack-sink -L module-jack-source
</pre>
<p>Pro použití Pulseaudia s JACK musí být JACK spuštěn před startem PA. PulseAudio  vyžaduje pro běh 2 moduly, které změníme editováním <code>/etc/pulse/default.pa</code>:
</p>
<pre>### Load audio drivers statically (it is probably better to not load
### these drivers manually, but instead use module-hal-detect --
### see below -- for doing this automatically)
#load-module module-alsa-sink
#load-module module-alsa-source device=hw:1,0
#load-module module-oss device="/dev/dsp" sink_name=output source_name=input
#load-module module-oss-mmap device="/dev/dsp" sink_name=output source_name=input
#load-module module-null-sink
#load-module module-pipe-sink

### Automatically load driver modules depending on the hardware available
.ifexists module-udev-detect.so
load-module module-udev-detect
.else
### Alternatively use the static hardware detection module (for systems that
### lack udev support)
load-module module-detect
.endif
</pre>
<p>na následující podobu:
</p>
<pre>### Load audio drivers statically (it is probably better to not load
### these drivers manually, but instead use module-hal-detect --
### see below -- for doing this automatically)
#load-module module-alsa-sink
#load-module module-alsa-source device=hw:1,0
#load-module module-oss device="/dev/dsp" sink_name=output source_name=input
#load-module module-oss-mmap device="/dev/dsp" sink_name=output source_name=input
#load-module module-null-sink
#load-module module-pipe-sink
load-module module-jack-source
load-module module-jack-sink

### Automatically load driver modules depending on the hardware available
#.ifexists module-udev-detect.so
#load-module module-udev-detect
#.else
### Alternatively use the static hardware detection module (for systems that
### lack udev support)
#load-module module-detect
#.endif
</pre>
<p>Tohle zamezí načtení module-udev-detect, který se snaží převzít zvukovou kartu což již provedl JACK. Explicitně načten musí být také JACK source a sink modul což je patrné z úpravy.
</p>
<h4>
<span id="QjackCtl_se_Start.2FStop_Skripty"></span><span class="mw-headline" id="QjackCtl_se_Start/Stop_Skripty">QjackCtl se Start/Stop Skripty</span>
</h4>
<p>Po provedení nastavení probraných výše lze použít QjackCtl pro spouštění skriptu během startu a vypnutí pro start/stop PulseAudia. Proč tohle dělat? Protože změny provedené při zprovoznění JACK nám zakázaly automatickou detekci hardware pomocí modulu pulseaudia. Pomocí těchto skriptů lze patřičná nastavení aplikovat jen pokud zrovna vyžadujeme pro práci JACK.
</p>
<p>Následující příklad může být použitý jakož startovací skript, který démonizuje pulseaudio a spouští <i>padevchooser</i>. Tento skript nutno upravit pro volby konfigurace pulseaudia, které zde nejsou uvedeny 
<code>jack_startup</code>:
</p>
<pre>#!/bin/bash
#Load PulseAudio and PulseAudio Device Chooser

pulseaudio -D
padevchooser&amp;
</pre>
<p>příklad skriptu pro vypnutí pulseaudia <code>jack_shutdown</code>:
</p>
<pre>#!/bin/bash
#Kill PulseAudio and PulseAudio Device Chooser

pulseaudio --kill
killall padevchooser
</pre>
<p>Oběma skriptům nutno povolit spouštění:
</p>
<pre>chmod +x jack_startup jack_shutdown
</pre>
<p>Pak po načtení QjackCtl přejdeme do <i>Setup</i> a v <i>Options</i> je tab "Execute Script after Startup:" a "Execute Script on Shutdown:" kde zadáme cestu ke skriptům.
</p>
<h3><span class="mw-headline" id="Pulseaudio_zkrz_OSS">Pulseaudio zkrz OSS</span></h3>
<p>Přidejte následující do <code>/etc/pulse/default.pa</code>:
</p>
<pre> load-module module-oss
</pre>
<p>Pak spusťte Pulseaudio jako obvykle. Měli by jste mít zdroje vstupu a vystupů pro vaše OSS zařízení.
</p>
<h3>
<span id="Pulseaudio_z_chroot_.28p.C5.99._32-bit_chroot_v_64-bit_instalaci.29"></span><span class="mw-headline" id="Pulseaudio_z_chroot_(př._32-bit_chroot_v_64-bit_instalaci)">Pulseaudio z chroot (př. 32-bit chroot v 64-bit instalaci)</span>
</h3>
<p>Protože chroot nastavuje alternativní root, musí být puselaudio nainstaované také uvnitř chroot prostředí. 
</p>
<p>Pokud se PA nepřipojí na specifikovaný server v konfiguračním souboru <code>/etc/pulse/client.conf</code> nebo přes X11 nastavení používající modul module-x11-publish, pak začne hledat lokální server a pokud ho nenalezne tak si vytvoří nový server. Každý server má unikátní ID založené na id stroje z <code>/var/lib/dbus</code>. Pro umožnění aplikací pod chroot k přístupu na server je nutno připojit následující adresáře pod chroot:
</p>
<pre>/var/run
/var/lib/dbus
/tmp
~/.pulse
</pre>
<p><code>/dev/shm</code> měl by být pro dobrý výkon taktéž připojen. Nutno podotknout, že pokud připojujete /home, pak je i .pulse adresář již připojen.
</p>
<p>Pro další upřesnění a možnosti navštivte tuto wiki <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Arch64_Install_bundled_32bit_system#Additional_mount_option_to_allow_32-bit_apps_to_access_the_64-bit_Pulseaudio_server">stránku</a>.
</p>
<h2>
<span id="Rady_p.C5.99i_pot.C3.AD.C5.BE.C3.ADch"></span><span class="mw-headline" id="Rady_při_potížích">Rady při potížích</span>
</h2>
<h3>
<span id=".C5.BD.C3.A1dn.C3.BD_zvuk_po_instalaci"></span><span class="mw-headline" id="Žádný_zvuk_po_instalaci">Žádný zvuk po instalaci</span>
</h3>
<h4>
<span id=".C5.BD.C3.A1dn.C3.A9_zvukov.C3.A9_karty"></span><span class="mw-headline" id="Žádné_zvukové_karty">Žádné zvukové karty</span>
</h4>
<p>Když PulseAudio nastartuje, spusťte <code>pacmd list</code>. Jestliže zde nejsou žádné zvukové karty, ujistěte se, že ALSA zařízení nejsou v používání tj blokovány jiným programem:
</p>
<pre>$ fuser -v /dev/snd/*
$ fuser -v /dev/dsp
</pre>
<p>Ujistěte se, že všechny aplikace používající pcm nebo dsp jsou ukončeny před restartem PA.
</p>
<h4><span class="mw-headline" id="KDE4">KDE4</span></h4>
<p>Je možné, že máte nastavené jiné výstupní zařízení v phonon nastavení. Ujistěte se tedy, že máte nastavené správné výstupní zařízení na vrchu seznamu a zkontrolujte přes pavucontrol, že spuštěné aplikace používají Pulseaudio a zároveň PulseAudio používá správný zvukový výstup.
</p>
<h4>
<span id="Ztlumen.C3.A9_audio_za.C5.99.C3.ADzen.C3.AD"></span><span class="mw-headline" id="Ztlumené_audio_zařízení">Ztlumené audio zařízení</span>
</h4>
<p>Pokud neslyšíte zvuk ani defaultně pod ALSAou, pak patrně máte ztlumený výstup což ověříte přes alsamixer, kde nesmí mít výstup zesílení 00 nebo m ( stiskem m lze aktivovat/deaktivovat mute)
</p>
<pre>$ alsamixer -c 0
</pre>
<p>Někdy se stane, že snd_pcsp je v konfliktu s modulem snd_hda_intel (Intel zvukové karty). Pak je nutno zakázat snd_pcsp v souboru <code>/etc/rc.conf</code> v sekci MODULES přidáním <code>!snd_pcsp</code>.
</p>
<h3><span class="mw-headline" id="Daemon_nenastartuje">Daemon nenastartuje</span></h3>
<p>Zkuste resetovat PulseAudio:
</p>
<pre>$ pulseaudio --kill
$ killall pulseaudio
$ killall -9 pulseaudio
$ rm -rf ~/.pulse*
$ rm -rf /tmp/pulse*
</pre>
<p>Pak zkuste znovu spustit.
</p>
<h3><span class="mw-headline" id="padevchooser">padevchooser</span></h3>
<p>Pokud nemůžete spustit PulseAudio Device Chooser - padevchooser program pro výběr zařízení, pak zkuste restartovat Avahi démona:
</p>
<pre>$ /etc/rc.d/avahi-daemon restart
</pre>
<h3>
<span id=".C5.A0kub.C3.A1n.C3.AD_zvuku_a_vysok.C3.A9_vyt.C3.AD.C5.BEen.C3.AD_CPU_od_verze_0.9.14"></span><span class="mw-headline" id="Škubání_zvuku_a_vysoké_vytížení_CPU_od_verze_0.9.14">Škubání zvuku a vysoké vytížení CPU od verze 0.9.14</span>
</h3>
<p>PulseAudio bylo přepsáno pro využívání časově založeného audio plánování místo tradičního přerušením řízeného. To může způsobovat problémy v některých Alsa ovladačích. Pro vypnutí časového plánování změnit:
</p>
<pre>load-module module-udev-detect 
</pre>
<p>v <code>/etc/pulse/default.pa</code> na:
</p>
<pre>load-module module-udev-detect tsched=0
</pre>
<h3>
<span id="Nekvalitn.C3.AD_zvuk"></span><span class="mw-headline" id="Nekvalitní_zvuk">Nekvalitní zvuk</span>
</h3>
<p>Může být způsoben špatným nastavením vzorkovací frekvence zvuku v /etc/pulse/daemon.conf. Zkuste odkomentovat nebo změnit řádek:
</p>
<pre>; default-sample-rate = 44100
</pre>
<p>na
</p>
<pre>default-sample-rate = 48000
</pre>
<p>a restartujte PulseAudio:
</p>
<pre>pulseaudio --kill &amp;&amp; pulseaudio --start
</pre>
<p>44100Hz je dobré pro kvalitní přehrávání audio souborů bez převzorkování, tyto jsou v drtivé většině právě v 44100Hz.
48000Hz je vhodné pro drtivou většinu zvukových karet.
</p>
<h3>
<span id="Nefunk.C4.8Dn.C3.AD_nastaven.C3.AD_hlasitosti"></span><span class="mw-headline" id="Nefunkční_nastavení_hlasitosti">Nefunkční nastavení hlasitosti</span>
</h3>
<p>Zkontrolujte
</p>
<pre>/usr/share/pulseaudio/alsa-mixer/paths/analog-output.conf.common
</pre>
<p>Pokud hlasitost nejde měnit použitím <code>alsamixer</code> nebo <code>amixer</code>, může to být kvůli větším hodnotám, které PulseAudio používá ( 65537 ). Zkuste proto větší hodnoty př. <code>amixer set Master 655+</code> nebo použijte vyjádření v %.
</p>
<h3>
<span id="Hlasitost_je_vy.C5.A1.C5.A1.C3.AD_po_ka.C5.BEd.C3.A9m_spu.C5.A1t.C4.9Bn.C3.AD_aplikace"></span><span class="mw-headline" id="Hlasitost_je_vyšší_po_každém_spuštění_aplikace">Hlasitost je vyšší po každém spuštění aplikace</span>
</h3>
<p>Můžete zkusit odkomentovat.
</p>
<pre>flat-volumes = no
</pre>
<p>v
</p>
<pre>/etc/pulse/daemon.conf
</pre>
<h3>
<span id="Realtime_pl.C3.A1nov.C3.A1n.C3.AD"></span><span class="mw-headline" id="Realtime_plánování">Realtime plánování</span>
</h3>
<p>Pokud rtkit nepracuje, zkuste ručně nastavit PulseAudio s realtime časováním v <code>/etc/security/limits.conf</code>: 
</p>
<pre>@pulse-rt - rtprio 9
@pulse-rt - nice -11
</pre>
<p>Nezapomeňte se přidat jakož uživatel do skupiny <code>pulse-rt</code>:
</p>
<pre># gpasswd -a &lt;user&gt; pulse-rt
</pre>
<h2>
<span id="Viz_tak.C3.A9"></span><span class="mw-headline" id="Viz_také">Viz také</span>
</h2>
<ul><li><a href="../en/Advanced_Linux_Sound_Architecture.html" class="mw-redirect" title="Allow multiple programs to play sound at once">Allow multiple programs to play sound at once</a></li></ul>
<h2>
<span id="Extern.C3.AD_odkazy"></span><span class="mw-headline" id="Externí_odkazy">Externí odkazy</span>
</h2>
<ul>
<li>
<a rel="nofollow" class="external text" href="http://www.pulseaudio.org/wiki/PerfectSetup">http://www.pulseaudio.org/wiki/PerfectSetup</a> - Pokud chcete mít své nastavení perfektní, následujte tento odkaz</li>
<li>
<a rel="nofollow" class="external text" href="http://www.alsa-project.org/main/index.php/Asoundrc">http://www.alsa-project.org/main/index.php/Asoundrc</a> - Alsa wiki na .asoundrc</li>
<li>
<a rel="nofollow" class="external text" href="http://www.pulseaudio.org/">http://www.pulseaudio.org/</a> - Oficiální stránka PulseAudia</li>
<li>
<a rel="nofollow" class="external text" href="http://www.pulseaudio.org/wiki/FAQ">http://www.pulseaudio.org/wiki/FAQ</a> - PulseAudio FAQ</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../cs/Category:Sound.html" title="Category:Sound (Česky)">Sound (Česky)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=PulseAudio_(%C4%8Cesky)&amp;oldid=638597">https://wiki.archlinux.org/index.php?title=PulseAudio_(Česky)&amp;oldid=638597</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 14 October 2020, at 07:17.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
