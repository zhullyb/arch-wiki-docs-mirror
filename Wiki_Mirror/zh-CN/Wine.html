<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Wine (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Wine_简体中文 rootpage-Wine_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Wine (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="../en/Wine.html" title="Wine">Wine</a> 的<a href="../zh-CN/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2015-08-5。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Wine&amp;diff=0&amp;oldid=389504">更改</a>，则您可以帮助同步翻译。</div>
<div class="archwiki-template-meta-related-articles-start">
<p>相关文章</p>
<ul>
<li><a href="../en/Steam.html" title="Steam">Steam</a></li>
<li><a href="../en/CrossOver.html" title="CrossOver">CrossOver</a></li>
</ul>
</div>
<p><a href="https://en.wikipedia.org/wiki/Wine_(software)" class="extiw" title="wikipedia:Wine (software)">Wine</a> 是类UNIX系统下运行微软Windows程序的"兼容层"。在Wine中运行的Windows程序，就如同运行原生Linux程序一样，不会有模拟器那样的性能问题。
</p>
<p>获取更详细的介绍请浏览<a rel="nofollow" class="external text" href="http://www.winehq.org/">项目官方网站</a>和<a rel="nofollow" class="external text" href="http://wiki.winehq.org/">wiki</a>页面。
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>警告：</strong> 如果您的账户能浏览某些文件或资源，Wine运行的程序也可以。Wine不是<a href="https://en.wikipedia.org/wiki/Sandbox_(computer_security)" class="extiw" title="wikipedia:Sandbox (computer security)">沙箱</a>。如果很重视安全，请考虑使用<a href="https://en.wikipedia.org/wiki/Virtualization" class="extiw" title="wikipedia:Virtualization">虚拟化</a>。</div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%E5%AE%89%E8%A3%85"><span class="tocnumber">1</span> <span class="toctext">安装</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#%E9%85%8D%E7%BD%AE"><span class="tocnumber">2</span> <span class="toctext">配置</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#WINEPREFIX"><span class="tocnumber">2.1</span> <span class="toctext">WINEPREFIX</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#WINEARCH"><span class="tocnumber">2.2</span> <span class="toctext">WINEARCH</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#%E5%9B%BE%E5%BD%A2%E9%A9%B1%E5%8A%A8"><span class="tocnumber">2.3</span> <span class="toctext">图形驱动</span></a></li>
<li class="toclevel-2 tocsection-6">
<a href="#%E5%A3%B0%E9%9F%B3"><span class="tocnumber">2.4</span> <span class="toctext">声音</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#MIDI_%E6%94%AF%E6%8C%81"><span class="tocnumber">2.4.1</span> <span class="toctext">MIDI 支持</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href="#%E5%85%B6%E4%BB%96%E5%87%BD%E6%95%B0%E5%BA%93"><span class="tocnumber">2.5</span> <span class="toctext">其他函数库</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#%E5%AD%97%E4%BD%93"><span class="tocnumber">2.6</span> <span class="toctext">字体</span></a></li>
<li class="toclevel-2 tocsection-10">
<a href="#%E5%90%AF%E5%8A%A8%E5%99%A8%E5%92%8C%E8%8F%9C%E5%8D%95"><span class="tocnumber">2.7</span> <span class="toctext">启动器和菜单</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="#%E5%88%9B%E5%BB%BA%E8%8F%9C%E5%8D%95%E9%A1%B9"><span class="tocnumber">2.7.1</span> <span class="toctext">创建菜单项</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#Gnome3_%E4%B8%AD%E6%B8%85%E7%90%86_Wine_%E8%8F%9C%E5%8D%95%E5%90%AF%E5%8A%A8%E9%A1%B9"><span class="tocnumber">2.7.2</span> <span class="toctext">Gnome3 中清理 Wine 菜单启动项</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#%E4%BF%AE%E5%A4%8D_KDE_4_%E8%8F%9C%E5%8D%95%E9%97%AE%E9%A2%98"><span class="tocnumber">2.7.3</span> <span class="toctext">修复 KDE 4 菜单问题</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#%E5%A4%96%E8%A7%82"><span class="tocnumber">2.7.4</span> <span class="toctext">外观</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#%E6%89%93%E5%8D%B0"><span class="tocnumber">2.7.5</span> <span class="toctext">打印</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#%E7%BD%91%E7%BB%9C"><span class="tocnumber">2.7.6</span> <span class="toctext">网络</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#%E8%BF%90%E8%A1%8C_Windows_%E7%A8%8B%E5%BA%8F"><span class="tocnumber">3</span> <span class="toctext">运行 Windows 程序</span></a></li>
<li class="toclevel-1 tocsection-18">
<a href="#%E6%8A%80%E5%B7%A7%E5%92%8C%E6%8A%80%E5%B7%A7"><span class="tocnumber">4</span> <span class="toctext">技巧和技巧</span></a>
<ul>
<li class="toclevel-2 tocsection-19"><a href="#%E5%8F%96%E6%B6%88%E6%B3%A8%E5%86%8CWine%E6%96%87%E4%BB%B6%E5%85%B3%E8%81%94"><span class="tocnumber">4.1</span> <span class="toctext">取消注册Wine文件关联</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Dual_Head_with_different_resolutions"><span class="tocnumber">4.2</span> <span class="toctext">Dual Head with different resolutions</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#exe-thumbnailer"><span class="tocnumber">4.3</span> <span class="toctext">exe-thumbnailer</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#CSMT_patch"><span class="tocnumber">4.4</span> <span class="toctext">CSMT patch</span></a></li>
<li class="toclevel-2 tocsection-23">
<a href="#CSMT_via_wine-staging"><span class="tocnumber">4.5</span> <span class="toctext">CSMT via wine-staging</span></a>
<ul>
<li class="toclevel-3 tocsection-24"><a href="#Further_Information"><span class="tocnumber">4.5.1</span> <span class="toctext">Further Information</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-25"><a href="#Changing_the_language"><span class="tocnumber">4.6</span> <span class="toctext">Changing the language</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#%E5%AE%89%E8%A3%85_Microsoft_Office"><span class="tocnumber">4.7</span> <span class="toctext">安装 Microsoft Office</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#Proper_mounting_of_optical_media_images"><span class="tocnumber">4.8</span> <span class="toctext">Proper mounting of optical media images</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Burning_optical_media"><span class="tocnumber">4.9</span> <span class="toctext">Burning optical media</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#OpenGL_%E6%A8%A1%E5%BC%8F"><span class="tocnumber">4.10</span> <span class="toctext">OpenGL 模式</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#%E5%B0%86_Wine_%E4%BD%9C%E4%B8%BA_Win16/Win32_%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%A7%A3%E9%87%8A%E5%99%A8"><span class="tocnumber">4.11</span> <span class="toctext">将 Wine 作为 Win16/Win32 程序的解释器</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Wine_%E6%8E%A7%E5%88%B6%E5%8F%B0"><span class="tocnumber">4.12</span> <span class="toctext">Wine 控制台</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#Winetricks"><span class="tocnumber">4.13</span> <span class="toctext">Winetricks</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#%E5%AE%89%E8%A3%85_.NET_framework_4.0"><span class="tocnumber">4.14</span> <span class="toctext">安装 .NET framework 4.0</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#Crackling_sound_when_using_PulseAudio"><span class="tocnumber">4.15</span> <span class="toctext">Crackling sound when using PulseAudio</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#16_Bit_Programs"><span class="tocnumber">4.16</span> <span class="toctext">16 Bit Programs</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#%E8%A7%A3%E5%86%B3%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81"><span class="tocnumber">4.17</span> <span class="toctext">解决中文乱码</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#%E8%A7%A3%E5%86%B3%E4%B8%AD%E6%96%87%E7%9C%8B%E8%B5%B7%E6%9D%A5%E8%84%8F"><span class="tocnumber">4.18</span> <span class="toctext">解决中文看起来脏</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-38">
<a href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E5%B7%A5%E5%85%B7"><span class="tocnumber">5</span> <span class="toctext">第三方工具</span></a>
<ul>
<li class="toclevel-2 tocsection-39"><a href="#CrossOver"><span class="tocnumber">5.1</span> <span class="toctext">CrossOver</span></a></li>
<li class="toclevel-2 tocsection-40"><a href="#PlayOnLinux/PlayOnMac"><span class="tocnumber">5.2</span> <span class="toctext">PlayOnLinux/PlayOnMac</span></a></li>
<li class="toclevel-2 tocsection-41"><a href="#PyWinery"><span class="tocnumber">5.3</span> <span class="toctext">PyWinery</span></a></li>
<li class="toclevel-2 tocsection-42"><a href="#Q4wine"><span class="tocnumber">5.4</span> <span class="toctext">Q4wine</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-43"><a href="#%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5"><span class="tocnumber">6</span> <span class="toctext">相关链接</span></a></li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="安装">安装</span>
</h2>
<p>Wine可通过开启<a href="../en/Official_repositories.html#multilib" class="mw-redirect" title="Multilib">Multilib</a>仓库来安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wine">wine</a></span>(稳定版本)or<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wine-staging">wine-staging</a></span>(测试版本)。<a rel="nofollow" class="external text" href="http://www.wine-staging.com/">Wine-Staging</a>包括目前上游未采纳的补丁，专门为wine开发者在向上游打补丁前测试。
</p>
<p>另外，您可能需要安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wine-gecko">wine-gecko</a></span> 和 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wine-mono">wine-mono</a></span> 软件包。它们分别用于运行依赖于 Internet Explorer 和 .NET 的程序。不过，也可以随后通过 Wine 在需要时下载安装这些组件。但如果提前下载安装，您就可以离线使用它们，而且 Wine 不必为了每一个 WINEPREFIX 都单独下载。
</p>
<p><b>平台差异</b>
</p>
<p>默认的Wine是32位的程序，也是i686的Arch软件包。所以它不能运行64位的Windows程序（反正是罕见的）。
</p>
<p>然而，x86_64的Wine软件包目前以<code> --enable-win64</code>方式编译。这个参数激活了<a href="https://en.wikipedia.org/wiki/WoW64" class="extiw" title="wikipedia:WoW64">WoW64</a>的Wine版本。
</p>
<ul><li>在Windows中，这个复杂的子系统允许用户同时使用32位和64位的Windows程序，甚至是在同一目录。</li></ul>
<ul><li>在Wine中，用户将必须建立单独分开的目录/前缀。这项Wine功能仍是试验阶段，并建议用户使用一个win32<code>WINEPREFIX</code>。浏览<a rel="nofollow" class="external text" href="http://wiki.winehq.org/Wine64">Wine64</a><sup title="最后检查状态：404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">失效链接</a> 2020-08-06 ⓘ]</sup>以获取有关这个的详细信息。</li></ul>
<p>总结一下，配置<code>WINEARCH=win32</code>后，x86_64平台的Arch和i686平台的Arch完全相同。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 如果在64位环境中执行<code>winetricks</code>或其它程序出现问题，请试试创建一个新的32位<code>WINEPREFIX</code>. 参见下面的<a href="#%E4%BD%BF%E7%94%A8_WINEARCH">#使用 WINEARCH</a><sup>[<a href="../en/ArchWiki:Requests.html#Broken_section_links" class="mw-redirect" title="ArchWiki:Requests">断开的链接</a>：无效的部分]</sup>
</div>
<h2>
<span id=".E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="配置">配置</span>
</h2>
<p>配置Wine的方式通常有：
</p>
<ul>
<li>
<a rel="nofollow" class="external text" href="http://wiki.winehq.org/winecfg">winecfg</a>是Wine的图形界面配置程序。控制台下调用<code>$ winecfg</code>（或指定系统目录：<code>$ WINEPREFIX=~/.系统目录 winecfg</code>）即可启动</li>
<li>
<a rel="nofollow" class="external text" href="http://wiki.winehq.org/control">control.exe</a>是Windows控制面板的Wine实现，通过<code>$ wine control</code>命令启动</li>
<li>
<a rel="nofollow" class="external text" href="http://wiki.winehq.org/regedit">regedit</a>是Wine的注册表编辑器，比较前两者，该工具能配置更多东西。部分常用键值参见：<a rel="nofollow" class="external text" href="http://wiki.winehq.org/UsefulRegistryKeys">WineHQ's article on Useful Registry Keys</a>
</li>
</ul>
<h3><span class="mw-headline" id="WINEPREFIX">WINEPREFIX</span></h3>
<p>Wine默认将配置文件和安装的Windows程序保存在<code>~/.wine</code>。这样的目录称为一个"Wine prefix"或"Wine bottle"（保留原文，下文称“系统目录”）。每次运行Windows程序（包括内置程序，如<code>winecfg</code>）时，系统目录会自动创建（如果缺失）或更新。系统目录中存放有相当于Windows下<code> C:\</code>C盘（更确切的说应是系统盘）的文件夹。
</p>
<p>通过设置<code>WINEPREFIX</code>环境变量，可以更改Wine系统目录的位置。如果希望让不同的Windows程序使用不同的系统环境或配置，这一变量会非常有用。
</p>
<p>例如，如果您使用 
<code>$ env WINEPREFIX=~/.win-a wine-A程序.exe</code>参数来运行一个程序。另一个使用
<code>$ env WINEPREFIX=~/.win-b wine-B程序.exe</code>参数，这两个程序将使用独立的C盘和注册表配置。
</p>
<p>以下命令会建立一个默认的系统目录，且不启动任何Windows程序：
</p>
<pre>$ env WINEPREFIX=~/.customprefix wineboot -u
</pre>
<h3><span class="mw-headline" id="WINEARCH">WINEARCH</span></h3>
<p>对于64位用户，如果使用[multilib]仓库里的Wine，默认创建的系统目录是64位环境的。若想使用纯32位环境，修改<code>WINEARCH</code> 变量win32为即可：
<code>$ WINEARCH=win32 winecfg</code>这样就会生成32位Wine环境。若不设置<code>WINEARCH</code>得到的就是64位环境。
</p>
<p>通过<code>WINEPREFIX</code>变量，在不同的系统目录分别创建32位和64位环境：
</p>
<pre>$ WINEARCH=win32 WINEPREFIX=~/win32 winecfg 
$ WINEPREFIX=~/win64 winecfg
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 系统目录创建过程中，64位版本的wine将视全部目录如同64位系统目录，也将不会在已存在的目录中创建任何32位的.创建32位系统目录，您必须让Wine创建指定的<code>WINEPREFIX</code>目录。</div>
<p>winetricks也接受<code>WINEPREFIX</code>变量，以安装Steam为例：
</p>
<pre>env WINEARCH=win32 WINEPREFIX=~/.local/share/wineprefixes/steam winetricks steam
</pre>
<p>To have them permanently defined for <a href="../en/Bash.html#Shell_and_environment_variables" title="Bash">bash configuration ~/.bashrc</a> do:
</p>
<pre>export WINEPREFIX=$HOME/.config/wine/
export WINEARCH=win32
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 编辑 <a href="../zh-CN/Bash.html#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" title="Bash (简体中文)">~/.bashrc</a>，使得 WINEPREFIX 和 WINEARCH 永久生效。</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 不必手动在 <code>wineprefixes</code> 文件夹下建立 steam 文件夹，Wine会自动创建不存在的系统目录。</div>
<h3>
<span id=".E5.9B.BE.E5.BD.A2.E9.A9.B1.E5.8A.A8"></span><span class="mw-headline" id="图形驱动">图形驱动</span>
</h3>
<p>你需要安装32位的显卡驱动。请安装<a href="../zh-CN/Xorg.html#%E9%A9%B1%E5%8A%A8%E5%AE%89%E8%A3%85" title="Xorg (简体中文)">Xorg (简体中文)#驱动安装</a>的表格中 <i>OpenGL (multilib)</i> 列所写的驱动
</p>
<p>缺少或未能正确配置驱动的一个标志是 Wine 在终端窗口里报告如下内容：
</p>
<pre>Direct rendering is disabled, most likely your OpenGL drivers have not been installed correctly
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 在安装对应的库以后，你可能需要重启 X</div>
<h3>
<span id=".E5.A3.B0.E9.9F.B3"></span><span class="mw-headline" id="声音">声音</span>
</h3>
<p>Wine程序有可能遇到某些声音问题。首先，确保<code>winecfg</code>中只启用了一种声卡驱动。目前，Wine对<a href="../zh-CN/Advanced_Linux_Sound_Architecture.html" class="mw-redirect" title="Alsa (简体中文)">Alsa</a>的支持最好。
</p>
<p>x86_64平台下使用<a href="../zh-CN/Advanced_Linux_Sound_Architecture.html" class="mw-redirect" title="Alsa (简体中文)">Alsa</a>的话，需要安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-alsa-lib">lib32-alsa-lib</a></span>。如果还要使用PulseAudio，则需安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-libpulse">lib32-libpulse</a></span>。
</p>
<p>若使用<a href="../zh-CN/Open_Sound_System.html" class="mw-redirect" title="OSS (简体中文)">OSS</a>，需要安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-alsa-oss">lib32-alsa-oss</a></span>。仅靠内核驱动是不行的。
</p>
<p>安装上述软件包后，若<code>winecfg</code><b>仍</b>无法识别声卡（Selected driver: (none)），请尝试<a rel="nofollow" class="external text" href="http://wiki.jswindle.com/index.php/Wine_Registry#Configuring_Sound">registry 通过注册表配置</a>。
</p>
<p>运行使用某些高级声音系统的游戏，可能还需要安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-openal">lib32-openal</a></span>。
</p>
<h4>
<span id="MIDI_.E6.94.AF.E6.8C.81"></span><span class="mw-headline" id="MIDI_支持">MIDI 支持</span>
</h4>
<p><a href="../en/MIDI.html" title="MIDI">MIDI</a> 是九十年代非常流行的游戏声音系统。如果你尝试运行老一点的游戏，音乐无法开箱即用的情况并不罕见。
Wine 拥有非常优秀的 MIDI 支持。但是首先你需要确保 Wine 会使用正确的 MIDI 输出。详细设置参考 <a rel="nofollow" class="external text" href="http://wiki.winehq.org/MIDI">Wine Wiki</a>
</p>
<h3>
<span id=".E5.85.B6.E4.BB.96.E5.87.BD.E6.95.B0.E5.BA.93"></span><span class="mw-headline" id="其他函数库">其他函数库</span>
</h3>
<ul><li>某些程序（如 Office 2003）需要解析HTML、XML（使用MSXML库），需要安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-libxml2">lib32-libxml2</a></span>。</li></ul>
<ul><li>播放音频的程序可能依赖<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-mpg123">lib32-mpg123</a></span>。</li></ul>
<ul><li>使用色彩管理引擎的一些应用 (例如： PDF查看器, 图片查看器, etc) may require <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-lcms2">lib32-lcms2</a></span>.</li></ul>
<ul><li>对于使用图像处理库的程序，可能依赖<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-giflib">lib32-giflib</a></span>和<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-libpng">lib32-libpng</a></span>，</li></ul>
<ul><li>x86_64的加密支持需要<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-gnutls">lib32-gnutls</a></span>软件包。</li></ul>
<h3>
<span id=".E5.AD.97.E4.BD.93"></span><span class="mw-headline" id="字体">字体</span>
</h3>
<p>如果没有安装微软Truetype字体，Wine程序的字体显示可能会一团糟，参见<a href="../zh-CN/Microsoft_fonts.html" class="mw-redirect" title="MS Fonts (简体中文)">MS Fonts (简体中文)</a>。如果还是不行，试试<code>winetricks allfonts</code>。
</p>
<p>上述操作后，杀死wine相关进程再运行<code>winecfg</code>，字体应该变好看了。
</p>
<p>如果字体看起来很毛糙，试试用<a rel="nofollow" class="external text" href="http://wiki.winehq.org/regedit">regedit</a>导入下列文本文件：
</p>
<pre>[HKEY_CURRENT_USER\Software\Wine\X11 Driver]
"ClientSideWithRender"="N"
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 高分辨率显示器，可在winecfg的显示选项卡中适当dpi的值，例如缩放150%，将dpi设置为144。</div>
<p>参阅 <a href="../en/Font_configuration.html#Applications_without_fontconfig_support" title="Font configuration">Font configuration#Applications without fontconfig support</a>.
</p>
<h3>
<span id=".E5.90.AF.E5.8A.A8.E5.99.A8.E5.92.8C.E8.8F.9C.E5.8D.95"></span><span class="mw-headline" id="启动器和菜单">启动器和菜单</span>
</h3>
<p>Wine不会为内置程序（如<code>winecfg</code>、<code>winebrowser</code>）创建桌面启动器和菜单项。但手动安装的Windows程序通常会自动创建启动器和菜单项。在Windows下，安装程序（如<code>setup.exe</code>）通常会在桌面和开始菜单建立快捷方式，而Wine下会创建遵循freedesktop.org规范的.desktop文件（即启动器，相当于快捷方式）。
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 如果启动器<i>没有</i>自动创建，或者这些文件丢失了，可以尝试使用<a rel="nofollow" class="external text" href="http://wiki.winehq.org/winemenubuilder">winemenubuilder</a>修复。</div>
<p>Ubuntu下，Wine项目以子菜单形式出现在系统菜单。以下步骤将实现这个效果：
</p>
<h4>
<span id=".E5.88.9B.E5.BB.BA.E8.8F.9C.E5.8D.95.E9.A1.B9"></span><span class="mw-headline" id="创建菜单项">创建菜单项</span>
</h4>
<p>首先，用Wine安装一个Windows程序，以建立基本的菜单。完成后，向其中添加菜单项。桌面右键选择<code>"创建启动器..."</code>（不同桌面环境操作有所差异），设置如下：
</p>
<pre><b>类型（Type）</b>: 应用程序（Application）
<b>名称（Name）</b>: 配置
<b>命令（Command）</b>: winecfg
<b>备注（Comment）</b>: Wine配置工具
</pre>
<pre><b>类型</b>: 应用程序
<b>名称</b>: 卸载程序
<b>命令</b>: wine uninstaller
<b>备注</b>: 卸载Wine下的Windows程序
</pre>
<pre><b>类型</b>: 应用程序
<b>名称</b>: 浏览 C:\
<b>命令</b>: wine winebrowser c:\\
<b>备注</b>: 浏览Wine中虚拟的C盘
</pre>
<p>现在，桌面上出现了三个启动器，下面将把它们移入菜单。不过首先，我们给这些启动器加上动态图标（由图标主题提供）。方法是，用文本编辑器打开启动器，编辑Icon项目：
</p>
<p><code>配置</code> 启动器：
</p>
<pre>Icon=wine-winecfg
</pre>
<p><code>卸载程序</code> 启动器:
</p>
<pre>Icon=wine-uninstaller
</pre>
<p><code>浏览 C:\</code> 启动器:
</p>
<pre>Icon=wine-winefile
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 多数桌面环境在上述“创建启动器”步骤即可设置图标。以第一个启动器为例，在选择图标窗口中搜索wine-winecfg，选择即可，无需手动编辑。 ——译者注</div>
<p>如果图标无法显示或者你觉得很丑陋，换成其他图标也可以。右键设置启动器，应该有更改图标的地方。很多图标主题，例如<a rel="nofollow" class="external text" href="http://www.gnome-look.org/content/show.php/GNOME-colors?content=82562">GNOME-colors</a>，都提供这些图标。
</p>
<p>现在，将启动器移入菜单。把启动器复制到 <code>~/.local/share/applications/wine/</code> 目录即可。
</p>
<p>诶？图标还没出现在菜单中！还剩下最后一步，创建下列文本文件：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/menus/applications-merged/wine-utilities.menu</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"> &lt;!DOCTYPE Menu PUBLIC "-//freedesktop//DTD Menu 1.0//EN"
 "http://www.freedesktop.org/standards/menu-spec/menu-1.0.dtd"&gt;
 &lt;Menu&gt;
   &lt;Name&gt;Applications&lt;/Name&gt;
   &lt;Menu&gt;
     &lt;Name&gt;wine-wine&lt;/Name&gt;
     &lt;Directory&gt;wine-wine.directory&lt;/Directory&gt;
     &lt;Include&gt;
 	&lt;Filename&gt;wine-Configuration.desktop&lt;/Filename&gt;
     &lt;/Include&gt;
     &lt;Include&gt;
 	&lt;Filename&gt;wine-Browse C:\.desktop&lt;/Filename&gt;
     &lt;/Include&gt;
     &lt;Include&gt;
 	&lt;Filename&gt;wine-Uninstall Programs.desktop&lt;/Filename&gt;
     &lt;/Include&gt;
   &lt;/Menu&gt;
 &lt;/Menu&gt;
</pre>
<p>再看看菜单，应该万事大吉了。
</p>
<h4>
<span id="Gnome3_.E4.B8.AD.E6.B8.85.E7.90.86_Wine_.E8.8F.9C.E5.8D.95.E5.90.AF.E5.8A.A8.E9.A1.B9"></span><span class="mw-headline" id="Gnome3_中清理_Wine_菜单启动项">Gnome3 中清理 Wine 菜单启动项</span>
</h4>
<p>系统全局的菜单启动器安装在 <code>/usr/share/applications/</code>，清除相应程序的“.desktop”文件即可从整个系统删除该启动器。
</p>
<p>如果这样还是无法解决问题，那么很可能 Wine 的启动器存放在用户级别的 <code>~/.local/share/applications/wine/Programs/</code> 目录中。删除相应的“.desktop”文件即可清理对应启动项。删除整个 Programs 文件夹将清理所有 Wine 程序的启动项。
</p>
<h4>
<span id=".E4.BF.AE.E5.A4.8D_KDE_4_.E8.8F.9C.E5.8D.95.E9.97.AE.E9.A2.98"></span><span class="mw-headline" id="修复_KDE_4_菜单问题">修复 KDE 4 菜单问题</span>
</h4>
<p>Wine菜单项有可能<a rel="nofollow" class="external text" href="https://bugs.launchpad.net/ubuntu/+source/wine/+bug/263041">错误地出现</a>在<code>"Lost &amp; Found（其他）"</code> ，而非Wine子菜单。原因是kde-applications.menu文件缺失<code>MergeDir</code>配置。
</p>
<p>编辑<code>/etc/xdg/menus/kde-applications.menu</code>。
</p>
<p>在文件末尾处，<code>&lt;DefaultMergeDirs/&gt;</code>后添加<code>&lt;MergeDir&gt;applications-merged&lt;/MergeDir&gt;</code>。修改后内容大致如下：
</p>
<pre>&lt;Menu&gt;
        &lt;Include&gt;
                &lt;And&gt;
                        &lt;Category&gt;KDE&lt;/Category&gt;
                        &lt;Category&gt;Core&lt;/Category&gt;
                &lt;/And&gt;
        &lt;/Include&gt;
        &lt;DefaultMergeDirs/&gt;
        <b>&lt;MergeDir&gt;applications-merged&lt;/MergeDir&gt;</b>
        &lt;MergeFile&gt;applications-kmenuedit.menu&lt;/MergeFile&gt;
&lt;/Menu&gt;
</pre>
<p>另一个方法是：
</p>
<pre>ln -s ~/.config/menus/applications-merged ~/.config/menus/kde-applications-merged
</pre>
<p>这样的好处是，不会因为KDE升级而重置配置。但该方法只对一个用户有效。
</p>
<h4>
<span id=".E5.A4.96.E8.A7.82"></span><span class="mw-headline" id="外观">外观</span>
</h4>
<p>XP外观主题可以从<a rel="nofollow" class="external text" href="https://download.microsoft.com/download/e/a/9/ea9af5ae-b48e-473e-85fe-dcde7472e644/ZuneDesktopTheme.msi">这里</a>下载，安装请看<a rel="nofollow" class="external text" href="https://wiki.winehq.org/Wine_User%27s_Guide#Running_.msi_files">这里</a>,最后使用<i>winecfg</i>选择主题。
Wine staging 的用户可能想要允许<i>winecfg</i> Staging部分的<i>Enable GTK3 Theming</i>选项使得主题能够与当前GTK主题相匹配。
</p>
<h4>
<span id=".E6.89.93.E5.8D.B0"></span><span class="mw-headline" id="打印">打印</span>
</h4>
<p>为了能够在<i>win32 prefixes</i>中使用打印机，请安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-libcups">lib32-libcups</a></span>，重启wine和运行在wine上的程序。
</p>
<h4>
<span id=".E7.BD.91.E7.BB.9C"></span><span class="mw-headline" id="网络">网络</span>
</h4>
<p>wine安装之后,需要安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-gnutls">lib32-gnutls</a></span>以使wine中的程序使用TLS、HTTPS安全连接。
对于ICMP数据包，wine的网络需要<a rel="nofollow" class="external text" href="https://wiki.winehq.org/FAQ#Failed_to_use_ICMP_.28network_ping.29.2C_this_requires_special_permissions">WineHQ FAQ</a>:
</p>
<pre># setcap cap_net_raw+epi /usr/bin/wine-preloader
</pre>
<p>如果执行后出现错误，通过以下方式移除：
</p>
<pre># setcap -r /usr/bin/wine-preloader
</pre>
<h2>
<span id=".E8.BF.90.E8.A1.8C_Windows_.E7.A8.8B.E5.BA.8F"></span><span class="mw-headline" id="运行_Windows_程序">运行 Windows 程序</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>警告：</strong> 千万不要以root身份运行Wine！详情参见<a rel="nofollow" class="external text" href="https://wiki.winehq.org/FAQ#Should_I_run_Wine_as_root.3F">本文</a>。</div>
<p>运行Windows程序：
</p>
<pre>$ wine &lt;exe文件&gt;
</pre>
<p>内置的msiexec程序可以运行MSI安装包：
</p>
<pre>$ msiexec /i <i>path_to_msi</i>
</pre>
<h2>
<span id=".E6.8A.80.E5.B7.A7.E5.92.8C.E6.8A.80.E5.B7.A7"></span><span class="mw-headline" id="技巧和技巧">技巧和技巧</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 此外您可能会感兴趣以下文章的开始所提供的链接
<ul>
<li>
<a rel="nofollow" class="external text" href="http://appdb.winehq.org/">Wine程序数据库 (Wine Application Database, AppDB)</a> —— 特定Windows程序的Wine兼容情况（运行时的已知问题、用户评分、指南等等）</li>
<li>
<a rel="nofollow" class="external text" href="http://forum.winehq.org/">WineHQ论坛</a> —— 要是看完上述网页还有问题，可以到这里咨询</li>
</ul>
</div>
<p>这里介绍一些安装Windows组件的工具。由于这些工具可能严重破坏Wine配置，没有需要时最好不要使用。
</p>
<h3>
<span id=".E5.8F.96.E6.B6.88.E6.B3.A8.E5.86.8CWine.E6.96.87.E4.BB.B6.E5.85.B3.E8.81.94"></span><span class="mw-headline" id="取消注册Wine文件关联">取消注册Wine文件关联</span>
</h3>
<p>在默认情况下,Wine接管了许多扩展名. 一些扩展名 {例如 <code>.vbs</code> 或者 <code>.chm</code>) 是Windows专用, 用Wine打开这些程序是很方便的. 但是, 有一些其他格式 (例如 <code>gif</code>, <code>jpeg</code>, <code>txt</code>, <code>js</code>) 在Wine中用 <code>Internet Explorer</code> 和 <code>Windows记事本</code> 打开会出错 .
</p>
<p>Wine的文件关联设置在 <code>~/.local/share/applications/</code> 像 {{ic|wine-extension-{extension}.desktop}} 这样的文件中. 删除与要取消注册的扩展名相对应的文件. 或者像这样删除所有的扩展名:
</p>
<pre>$ rm -f ~/.local/share/applications/wine-extension*.desktop
$ rm -f ~/.local/share/icons/hicolor/*/*/application-x-wine-extension*
</pre>
<p>Next, remove the old cache:
</p>
<pre>$ rm -f ~/.local/share/applications/mimeinfo.cache
$ rm -f ~/.local/share/mime/packages/x-wine*
$ rm -f ~/.local/share/mime/application/x-wine-extension*
</pre>
<p>And, update the cache:
</p>
<pre>$ update-desktop-database ~/.local/share/applications
</pre>
<p>Please note Wine will still create new file associations and even recreate the file associations if the application sets the file associations again.
</p>
<h3><span class="mw-headline" id="Dual_Head_with_different_resolutions">Dual Head with different resolutions</span></h3>
<p>If you have issues with dual-head setups and different display resolutions you are probably missing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-libxrandr">lib32-libxrandr</a></span>.
</p>
<h3><span class="mw-headline" id="exe-thumbnailer">exe-thumbnailer</span></h3>
<p>This is a small piece of UI code meant to be installed with (or even before) Wine. It provides thumbnails for executable files that show the embedded icons when available, and also gives the user a hint that Wine will be used to open it. Details can be found at <a rel="nofollow" class="external text" href="http://wiki.winehq.org/exe-thumbnailer">Wine wiki</a><sup title="最后检查状态：404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">失效链接</a> 2020-08-06 ⓘ]</sup>. Install it with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gnome-exe-thumbnailer/">gnome-exe-thumbnailer</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：package not found]</sup> package.
</p>
<h3><span class="mw-headline" id="CSMT_patch">CSMT patch</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a><b>This article or section is out of date.</b><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> See wine-staging below (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Wine_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Talk:Wine (简体中文)#</a>)</div>
</div>
<p>Currently <a rel="nofollow" class="external text" href="http://www.winehq.org/pipermail/wine-devel/2013-September/101106.html">wine developers</a> experiment with stream/worker thread optimizations for Wine. You may experience an enormous performance improvement by using this experimental patched Wine versions. Many games may run as fast as on Windows or even faster. This Wine patch is is known as CSMT patch and works with NVidia and AMD graphics cards.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This is <i>still experimental code</i>, therefore, it may not work as expected. Please, report your experiences to the developers for helping with development of those patches.</div>
<p>The easy way is to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=playonlinux">playonlinux</a></span>. Then install your game and activate the Wine version <i>1.7.4-CSMT</i> from the <code>Tools</code> → <code>Manage Wine Versions</code> menu in PlayOnLinux. For now it is recommended to use the patched Wine version <i>1.7.4-CSMT</i>.
</p>
<p>Open your game's configuration settings and copy the following settings to the <code>Miscellaneous</code>/<code>Command to exec before running the program</code> section of your game configuration settings:
</p>
<pre>export WINEDEBUG=-all
export LD_PRELOAD="libpthread.so.0 libGL.so.1"
export __GL_THREADED_OPTIMIZATIONS=0
export __GL_SYNC_TO_VBLANK=1
export __GL_YIELD="NOTHING"
export CSMT=enabled
</pre>
<p>Make sure you have disabled <code>StrictDrawOrdering</code> from <code>Tools</code> → <code>General</code>.
</p>
<h3><span class="mw-headline" id="CSMT_via_wine-staging">CSMT via wine-staging</span></h3>
<p><a rel="nofollow" class="external text" href="http://www.wine-staging.com/">Wine-staging</a> includes CSMT support, and can be installed with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wine-staging">wine-staging</a></span> package, or directly via the wine-staging <a rel="nofollow" class="external text" href="https://github.com/wine-compholio/wine-staging/wiki/Installation#-arch-linux">Arch Linux repo</a>.
</p>
<p>CSMT support needs to be enabled before it can be used, instructions can be found <a rel="nofollow" class="external text" href="https://github.com/wine-compholio/wine-staging/wiki/CSMT#enabledisable-csmt">here</a>, no further configuration is needed.
</p>
<h4><span class="mw-headline" id="Further_Information">Further Information</span></h4>
<p><a rel="nofollow" class="external text" href="http://www.phoronix.com/forums/showthread.php?93967-Wine-s-Big-Command-Stream-D3D-Patch-Set-Updated/page3&amp;s=7775d7c3d4fa698089d5492bb7b1a435">Phoronix Forum discussion</a> with the CSMT developer Stefan Dösinger
</p>
<p><a rel="nofollow" class="external text" href="http://wiki.winehq.org/FOSDEM2014?action=AttachFile&amp;do=get&amp;target=d3d-drivers.odp">FOSDEM2014 CSMT presentation</a><sup title="最后检查状态：404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">失效链接</a> 2020-08-06 ⓘ]</sup> of CSMT with benchmarks
</p>
<p><a rel="nofollow" class="external text" href="https://www.youtube.com/playlist?list=PL0P2a_sII2eTd8uq-azTNpQjiFLqBhDjg">Here</a> you find some game videos running with CSMT enabled
</p>
<h3><span class="mw-headline" id="Changing_the_language">Changing the language</span></h3>
<p>Some programs may not offer a language selection, they will guess the desired language upon the sytem locales. Wine will transfer the current environment (including the locales) to the application, so it should work out of the box. If you want to force a program to run in a specific locale (which is fully <a href="../en/Locale.html" title="Locale">generated</a> on your system), you can call Wine with the following setting:
</p>
<pre>LC_ALL=<i>xx_XX.encoding</i> wine <i>/path/to/program</i>
</pre>
<p>For instance
</p>
<pre>LC_ALL=it_IT.UTF-8 wine <i>/path/to/program</i>
</pre>
<h3>
<span id=".E5.AE.89.E8.A3.85_Microsoft_Office"></span><span class="mw-headline" id="安装_Microsoft_Office">安装 Microsoft Office</span>
</h3>
<p>更新（2013年4月9日）：对于 Wine 1.5.27，下面所述的步骤已经不必要了。先安装 winbind（包含在 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=samba">samba</a></span> 中），然后执行： 
</p>
<pre>$ export WINEPREFIX="&lt;用户家目录中的某一可写目录&gt;"	
$ export WINEARCH="win32"
$ wine /到/office安装盘/的路径/setup.exe
</pre>
<p>可以把上述 export 语句加入 bashrc 文件。
</p>
<p>安装结束后，打开 Word 或 Excel，联网激活。完成后，关闭程序，执行 <b>winecfg</b>，在“函数库”选项卡中把 riched20 设置为“Native (Windows)”。这样 PowerPoint 就可以正常工作。
（使用 Office Home/Student 2010 和 wine 1.5.27 测试。在线激活有效）
</p>
<p>安装Office套装前，需要先安装某些Windows组件：
</p>
<pre>$ WINEARCH=win32 WINEPREFIX=/path/to/wineprefix winecfg
# pacman -S winetricks
$ winetricks msxml3 # For MS Office 2007
$ winetricks msxml3 msxml6 # For MS Office 2010
$ wine /path/to/office_cd/setup.exe
</pre>
<p>更多信息，参见<a rel="nofollow" class="external text" href="http://appdb.winehq.org/appview.php?iVersionId=4992">WineHQ上的文章</a>。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=playonlinux">playonlinux</a></span> 提供了一个自定义安装脚本，简化了 Office 2003、2007 和 2010 的安装。您只需提供 setup.exe 或 ISO 文件，这个脚本就可以指导您完成安装，完全不需要自己设置 Wine。</div>
<h3><span class="mw-headline" id="Proper_mounting_of_optical_media_images">Proper mounting of optical media images</span></h3>
<p>Some applications will check for the optical media to be in drive. They may check for data only, in which case it might be enough to configure the corresponding path as being a CD-ROM drive in <i>winecfg</i>.
However, other applications will look for a media name and/or a serial number, in which case the image has to be mounted with these special properties.
</p>
<p>Some virtual drive tools do not handle these metadata, like fuse-based virtual drives (Acetoneiso for instance). CDEmu will handle it correctly.
</p>
<h3><span class="mw-headline" id="Burning_optical_media">Burning optical media</span></h3>
<p>To burn CDs or DVDs, you will need to load the <code>sg</code> <a href="../en/Kernel_module.html" title="Kernel module">kernel module</a>.
</p>
<h3>
<span id="OpenGL_.E6.A8.A1.E5.BC.8F"></span><span class="mw-headline" id="OpenGL_模式">OpenGL 模式</span>
</h3>
<p>很多游戏（比如魔兽争霸啦）都支持OpenGL模式，在Wine下<i>可能</i>比默认DirectX模式性能更好。一般添加<code>-opengl</code>启动程序即可，但<i>不同程序可能有所不同</i>：
</p>
<pre>$ wine /path/to/3d_game.exe -opengl
</pre>
<p>请参考<a rel="nofollow" class="external text" href="http://appdb.winehq.org">AppDB</a>，了解特定程序的相关信息。
</p>
<h3>
<span id=".E5.B0.86_Wine_.E4.BD.9C.E4.B8.BA_Win16.2FWin32_.E7.A8.8B.E5.BA.8F.E7.9A.84.E8.A7.A3.E9.87.8A.E5.99.A8"></span><span class="mw-headline" id="将_Wine_作为_Win16/Win32_程序的解释器">将 Wine 作为 Win16/Win32 程序的解释器</span>
</h3>
<p>通知内核识别和执行 Win16/Win32 程序的方式：
</p>
<pre>echo ':DOSWin:M::MZ::/usr/bin/wine:' &gt; /proc/sys/fs/binfmt_misc/register
</pre>
<p>To make the setting permanent, create a configuration file in <code>/etc/binfmt.d</code> with the following contents:
测试效果，若一切正常，可以使该设置永久生效。在 <code>/etc/binfmt.d</code> 目录创建新的配置文件，内容为：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/tmpfiles.d/wine.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">:DOSWin:M::MZ::/usr/bin/wine:</pre>
<p>说明一下，和 initscripts 不同，systemd 会自动挂载 <code>/proc/sys/fs/binfmt_misc</code>，所以只需要通过临时文件机制向内核写入配置即可。
</p>
<p>更多信息，参见 <a href="../zh-CN/Systemd.html#%E4%B8%B4%E6%97%B6%E6%96%87%E4%BB%B6" title="Systemd (简体中文)">Systemd (简体中文)#临时文件</a>。
</p>
<p>现在，直接运行Windows程序试试：
</p>
<pre>chmod 755 exefile.exe
./exefile.exe
</pre>
<h3>
<span id="Wine_.E6.8E.A7.E5.88.B6.E5.8F.B0"></span><span class="mw-headline" id="Wine_控制台">Wine 控制台</span>
</h3>
<p>有些时候，可能需要运行<code>.exe</code>给游戏打补丁，比如给古董游戏添加宽屏支持。这时直接通过Wine运行可能没有用。那么，打开终端，运行一下命令：
</p>
<pre>$ wineconsole cmd
</pre>
<p>将进入一个和Windows下cmd一样的命令行环境。在该环境下试试也许就可以了。
</p>
<h3><span class="mw-headline" id="Winetricks">Winetricks</span></h3>
<p>使用<a rel="nofollow" class="external text" href="http://wiki.winehq.org/winetricks">Winetricks</a>快速脚本，能够方便地安装许多Windows组件，包括DirectX、msxml（被Office 2007、IE浏览器依赖）visual运行库还有其他更多的。
</p>
<p>您可以使用<a href="../zh-CN/Pacman.html" title="Pacman (简体中文)">pacman</a>或者从<a href="../zh-CN/Arch_User_Repository.html" class="mw-redirect" title="AUR (简体中文)">AUR</a>上获取<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/winetricks-git/">winetricks-git</a></span><sup><small>AUR</small></sup>软件包来安装该工具：
</p>
<p>运行：
</p>
<pre>$ winetricks
</pre>
<h3>
<span id=".E5.AE.89.E8.A3.85_.NET_framework_4.0"></span><span class="mw-headline" id="安装_.NET_framework_4.0">安装 .NET framework 4.0</span>
</h3>
<p>如果您是64位的系统,首先为Wine创建一个新的32位环境变量:
</p>
<pre>$ WINEARCH=win32 WINEPREFIX=~/win32 winecfg
</pre>
<p>然后使用winetricks安装以下包:
</p>
<pre>$ WINEARCH=win32 WINEPREFIX=~/win32 winetricks -q msxml3 dotnet40 corefonts
</pre>
<h3><span class="mw-headline" id="Crackling_sound_when_using_PulseAudio">Crackling sound when using PulseAudio</span></h3>
<p>If you experience crackling sound in Wine applications when PulseAudio is in use, edit the file <code>/etc/pulse/daemon.conf</code> by uncommenting the line <code>; default-fragment-size-msec = 25</code> and setting the value to <code>5</code> such that it looks like this:
</p>
<pre>default-fragment-size-msec = 5
</pre>
<p>See <a rel="nofollow" class="external text" href="http://wiki.winehq.org/FAQ#head-58290651b9f85c059a8bfc98118a0262e2cca84b">here</a> for further information.
</p>
<h3><span class="mw-headline" id="16_Bit_Programs">16 Bit Programs</span></h3>
<p>Upon running older Windows 9x programs, the following error may be encountered:
</p>
<pre>modify_ldt: Invalid argument
err:winediag:build_module Failed to create module for "krnl386.exe",
16-bit LDT support may be missing.
err:module:attach_process_dlls "krnl386.exe16" failed to initialize,
aborting
</pre>
<p>In this case, running the following may fix it:
</p>
<pre>echo 1 &gt; /proc/sys/abi/ldt16
</pre>
<p>Source: <a rel="nofollow" class="external text" href="http://www.spinics.net/linux/fedora/fedora-users/msg450821.html">Fedora Mailing List</a>
</p>
<h3>
<span id=".E8.A7.A3.E5.86.B3.E4.B8.AD.E6.96.87.E4.B9.B1.E7.A0.81"></span><span class="mw-headline" id="解决中文乱码">解决中文乱码</span>
</h3>
<p>中文乱码解决，新建一个reg文件（例如 zh.reg）添加如下内容：
</p>
<pre>REGEDIT4
[HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\FontLink\SystemLink]
"Lucida Sans Unicode"="wqy-microhei.ttc"
"Microsoft Sans Serif"="wqy-microhei.ttc"
"Microsoft YaHei"="wqy-microhei.ttc"
"微软雅黑"="wqy-microhei.ttc"
"MS Sans Serif"="wqy-microhei.ttc"
"Tahoma"="wqy-microhei.ttc" 
"Tahoma Bold"="wqy-microhei.ttc"
"SimSun"="wqy-microhei.ttc"
"Arial"="wqy-microhei.ttc"
"Arial Black"="wqy-microhei.ttc"
"宋体"="wqy-microhei.ttc"
"新細明體"="wqy-microhei.ttc"
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 这里以文泉驿微米黑为例，如果使用其他字体，请到/usr/share/fonts目录下找到该字体的完整名称，例如使用adobe source hans 中号字体，将上面的wqy-microhei.ttc改为SourceHanSansCN-Medium.otf。</div>
<p>然后打开注册表编辑器:
</p>
<pre> wine regedit
</pre>
<p>在注册表编辑器界面选择“注册表”--“导入”，导入该wine-fonts.reg文件即可。
或者直接运行:
</p>
<pre> $regedit zh.reg
</pre>
<p>更多信息参考<a rel="nofollow" class="external text" href="http://linux-wiki.cn/wiki/Wine%E7%9A%84%E4%B8%AD%E6%96%87%E6%98%BE%E7%A4%BA%E4%B8%8E%E5%AD%97%E4%BD%93%E8%AE%BE%E7%BD%AE">Wine的中文显示与字体设置</a>
</p>
<h3>
<span id=".E8.A7.A3.E5.86.B3.E4.B8.AD.E6.96.87.E7.9C.8B.E8.B5.B7.E6.9D.A5.E8.84.8F"></span><span class="mw-headline" id="解决中文看起来脏">解决中文看起来脏</span>
</h3>
<p>新建一个 <code>tmp.reg</code> 文件，添加如下内容：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">tmp.reg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">REGEDIT4
[HKEY_CURRENT_USER\Software\Wine\Fonts\Replacements]
"DFKai-SB"="adobe-source-han-serif"
"FangSong"="adobe-source-han-serif"
"KaiTi"="adobe-source-han-serif"
"Microsoft JhengHei"="adobe-source-han-serif"
"Microsoft YaHei"="adobe-source-han-serif"
"MingLiU"="adobe-source-han-serif"
"NSimSun"="adobe-source-han-serif"
"PMingLiU"="adobe-source-han-serif"
"SimHei"="adobe-source-han-serif"
"SimKai"="adobe-source-han-serif"
"SimSun"="adobe-source-han-serif"

REGEDIT4
[HKEY_CURRENT_USER\Software\Wine\X11 Driver]
"ClientSideAntiAliasWithCore"="N"
"ClientSideAntiAliasWithRender"="N"
"ClientSideWithRender"="N"
 
[HKEY_CURRENT_USER\Control Panel\Desktop]
"FontSmoothing"="2"
"FontSmoothingType"=dword:00000002
"FontSmoothingGamma"=dword:00000578
"FontSmoothingOrientation"=dword:00000001</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 这里以思源宋体为例，如果使用其他字体，请到 <code>/usr/share/fonts</code> 目录下找到该字体的完整名称。</div>
<p>保存后在终端输入 <code>wine regedit</code>，然后在注册表编辑器界面选择“注册表”--“导入”，导入该 <code>tmp.reg</code> 文件即可。
</p>
<p>或者直接输入：
</p>
<pre>$ regedit tmp.reg
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 此外，使用 <code>winecfg</code> 命令更改 wine 的 dpi 也能让字体显示更好看，但是注意不要太高，否则可能不得不重新调整。</div>
<h2>
<span id=".E7.AC.AC.E4.B8.89.E6.96.B9.E5.B7.A5.E5.85.B7"></span><span class="mw-headline" id="第三方工具">第三方工具</span>
</h2>
<p>这些程序有其自己的主页和支持论坛。
</p>
<h3><span class="mw-headline" id="CrossOver">CrossOver</span></h3>
<p><a rel="nofollow" class="external text" href="http://www.codeweavers.com/about/">CrossOver</a> 有单独的<a href="../en/CrossOver.html" title="CrossOver">wiki 页面</a>.
</p>
<h3>
<span id="PlayOnLinux.2FPlayOnMac"></span><span class="mw-headline" id="PlayOnLinux/PlayOnMac">PlayOnLinux/PlayOnMac</span>
</h3>
<p><a rel="nofollow" class="external text" href="http://www.playonlinux.com/">PlayOnLinux</a>是一个图形界面的Windows/DOS程序管理器。它提供了一些帮助配置/运行程序的脚本，能够管理多个不同版本的Wine，甚至能对不同程序使用不同Wine版本。参考<a rel="nofollow" class="external text" href="http://appdb.winehq.org">AppDB</a>，看看哪个Wine版本对你要运行的程序兼容最好。从<a href="../zh-CN/Arch_User_Repository.html" class="mw-redirect" title="AUR (简体中文)">AUR</a>安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=playonlinux">playonlinux</a></span>。
</p>
<h3><span class="mw-headline" id="PyWinery">PyWinery</span></h3>
<p><a rel="nofollow" class="external text" href="http://code.google.com/p/pywinery/">PyWinery</a>是一个简单的、图形界面的Wine系统目录管理器，用它可以方便地管理不同系统目录，并从不同系统目录运行程序。同时可以开启winetricks在同一系统目录，打开系统目录所在文件夹, <code>winecfg</code>, 软件卸载程序和wineDOS。<a href="../zh-CN/Arch_User_Repository.html" class="mw-redirect" title="AUR (简体中文)">AUR</a>中提供了软件包<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pywinery/">pywinery</a></span><sup><small>AUR</small></sup>。当你使用很多系统目录（一个打游戏用、一个编程用……）时，这个程序会非常有用。
</p>
<p>它在默认情况下使用winetricks打开<code>.exe</code>文件，所以你可以选择你有的任何Wine的配置。
</p>
<h3><span class="mw-headline" id="Q4wine">Q4wine</span></h3>
<p><a rel="nofollow" class="external text" href="http://q4wine.brezblock.org.ua/">Q4Wine</a> 是一个图形界面的系统目录（wine-prefix）管理器。它的特色是可以把 QT 主题导入 Wine 配置，使两者完美整合。<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/q4wine/">q4wine</a></span><sup><small>AUR</small></sup> 软件包在 [<a href="../en/Official_repositories.html#multilib" class="mw-redirect" title="Multilib">multilib</a>] 仓库中提供。
</p>
<p><br>
</p>
<h2>
<span id=".E7.9B.B8.E5.85.B3.E9.93.BE.E6.8E.A5"></span><span class="mw-headline" id="相关链接">相关链接</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="http://www.winehq.com/">Wine官方网站</a></li>
<li><a rel="nofollow" class="external text" href="http://appdb.winehq.org/">Wine程序数据库</a></li>
<li><a rel="nofollow" class="external text" href="https://linuxgamingtoday.wordpress.com/2008/02/16/quick-tips-to-speed-up-your-gaming-in-wine/">加速Wine，显卡及OpenGL高级配置</a></li>
<li>
<a rel="nofollow" class="external text" href="http://wiki.gotux.net/code:perl:fileinfo">FileInfo</a><sup title="最后检查状态：domain name not resolved">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">失效链接</a> 2020-08-06 ⓘ]</sup> —— Find Win32 PE/COFF headers in EXE/DLL/OCX files under linux/unix environment</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../zh-CN/Category:Wine.html" title="Category:Wine (简体中文)">Wine (简体中文)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Wine_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=655855">https://wiki.archlinux.org/index.php?title=Wine_(简体中文)&amp;oldid=655855</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 23 March 2021, at 10:11.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
