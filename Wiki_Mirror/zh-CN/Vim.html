<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Vim (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Vim_简体中文 rootpage-Vim_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Vim (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>相关文章</p>
<ul>
<li><a href="../en/List_of_applications/Documents.html#Vi_text_editors" title="List of applications/Documents">List of applications/Documents#Vi_text_editors</a></li>
<sup>[<a href="../en/ArchWiki:Requests.html#Broken_section_links" class="mw-redirect" title="ArchWiki:Requests">断开的链接</a>：无效的部分]</sup>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="../en/Vim.html" title="Vim">Vim</a> 的<a href="../zh-CN/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2020-11-17。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Vim&amp;diff=0&amp;oldid=639288">更改</a>，则您可以帮助同步翻译。</div>
<p><a href="https://en.wikipedia.org/wiki/Vim_(text_editor)" class="extiw" title="wikipedia:Vim (text editor)">Vim</a>是一个终端文本编辑器。作为<a href="https://en.wikipedia.org/wiki/Vi" class="extiw" title="wikipedia:Vi">Vi</a>的一个扩展版本，它具有以下附加功能：语法突出显示，全面的帮助系统，本地脚本（vimscript），文本选择的可视模式和文件比较（vimdiff）。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%E5%AE%89%E8%A3%85"><span class="tocnumber">1</span> <span class="toctext">安装</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#%E7%94%A8%E6%B3%95"><span class="tocnumber">2</span> <span class="toctext">用法</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#%E9%85%8D%E7%BD%AE"><span class="tocnumber">3</span> <span class="toctext">配置</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#%E5%89%AA%E8%B4%B4%E6%9D%BF"><span class="tocnumber">3.1</span> <span class="toctext">剪贴板</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#%E8%AF%AD%E6%B3%95%E9%AB%98%E4%BA%AE"><span class="tocnumber">3.2</span> <span class="toctext">语法高亮</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#%E8%87%AA%E5%8A%A8%E6%8D%A2%E8%A1%8C%E6%98%BE%E7%A4%BA"><span class="tocnumber">3.3</span> <span class="toctext">自动换行显示</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#%E4%BD%BF%E7%94%A8%E9%BC%A0%E6%A0%87"><span class="tocnumber">3.4</span> <span class="toctext">使用鼠标</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#%E8%B7%A8%E8%A1%8C%E7%A7%BB%E5%8A%A8%E5%85%89%E6%A0%87"><span class="tocnumber">3.5</span> <span class="toctext">跨行移动光标</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#%E6%96%87%E4%BB%B6%E5%90%88%E5%B9%B6"><span class="tocnumber">4</span> <span class="toctext">文件合并</span></a></li>
<li class="toclevel-1 tocsection-10">
<a href="#%E6%8A%80%E5%B7%A7%E5%92%8C%E5%BB%BA%E8%AE%AE"><span class="tocnumber">5</span> <span class="toctext">技巧和建议</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#%E6%98%BE%E7%A4%BA%E8%A1%8C%E5%8F%B7"><span class="tocnumber">5.1</span> <span class="toctext">显示行号</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#%E6%8B%BC%E5%86%99%E6%A3%80%E6%9F%A5"><span class="tocnumber">5.2</span> <span class="toctext">拼写检查</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#%E8%AE%B0%E5%BD%95%E5%85%89%E6%A0%87%E4%BD%8D%E7%BD%AE"><span class="tocnumber">5.3</span> <span class="toctext">记录光标位置</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#%E7%94%A8_vim_%E6%9B%BF%E4%BB%A3_vi"><span class="tocnumber">5.4</span> <span class="toctext">用 vim 替代 vi</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#DOS/Windows%E5%9B%9E%E8%BD%A6%E9%97%AE%E9%A2%98"><span class="tocnumber">5.5</span> <span class="toctext">DOS/Windows回车问题</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#gVim%E7%AA%97%E5%8F%A3%E5%BA%95%E9%83%A8%E7%9A%84%E7%A9%BA%E6%A0%BC"><span class="tocnumber">5.6</span> <span class="toctext">gVim窗口底部的空格</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17">
<a href="#%E6%8F%92%E4%BB%B6"><span class="tocnumber">6</span> <span class="toctext">插件</span></a>
<ul>
<li class="toclevel-2 tocsection-18">
<a href="#%E5%AE%89%E8%A3%85_2"><span class="tocnumber">6.1</span> <span class="toctext">安装</span></a>
<ul>
<li class="toclevel-3 tocsection-19"><a href="#%E4%BD%BF%E7%94%A8%E5%86%85%E7%BD%AE%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8"><span class="tocnumber">6.1.1</span> <span class="toctext">使用内置包管理器</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="#%E4%BD%BF%E7%94%A8%E6%8F%92%E4%BB%B6%E7%AE%A1%E7%90%86%E5%99%A8"><span class="tocnumber">6.1.2</span> <span class="toctext">使用插件管理器</span></a></li>
<li class="toclevel-3 tocsection-21"><a href="#%E4%BD%BF%E7%94%A8Arch%E8%BD%AF%E4%BB%B6%E5%BA%93"><span class="tocnumber">6.1.3</span> <span class="toctext">使用Arch软件库</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-22">
<a href="#cscope"><span class="tocnumber">6.2</span> <span class="toctext">cscope</span></a>
<ul>
<li class="toclevel-3 tocsection-23"><a href="#Taglist"><span class="tocnumber">6.2.1</span> <span class="toctext">Taglist</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-24">
<a href="#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98"><span class="tocnumber">7</span> <span class="toctext">常见问题</span></a>
<ul>
<li class="toclevel-2 tocsection-25"><a href="#gVim%E8%BF%90%E8%A1%8C%E7%BC%93%E6%85%A2"><span class="tocnumber">7.1</span> <span class="toctext">gVim运行缓慢</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-26">
<a href="#%E5%8F%82%E9%98%85"><span class="tocnumber">8</span> <span class="toctext">参阅</span></a>
<ul>
<li class="toclevel-2 tocsection-27"><a href="#%E5%AE%98%E6%96%B9%E8%B5%84%E6%BA%90"><span class="tocnumber">8.1</span> <span class="toctext">官方资源</span></a></li>
<li class="toclevel-2 tocsection-28">
<a href="#%E6%95%99%E7%A8%8B"><span class="tocnumber">8.2</span> <span class="toctext">教程</span></a>
<ul>
<li class="toclevel-3 tocsection-29"><a href="#%E8%A7%86%E9%A2%91"><span class="tocnumber">8.2.1</span> <span class="toctext">视频</span></a></li>
<li class="toclevel-3 tocsection-30"><a href="#%E6%B8%B8%E6%88%8F"><span class="tocnumber">8.2.2</span> <span class="toctext">游戏</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-31">
<a href="#%E9%85%8D%E7%BD%AE%E8%8C%83%E4%BE%8B"><span class="tocnumber">8.3</span> <span class="toctext">配置范例</span></a>
<ul>
<li class="toclevel-3 tocsection-32"><a href="#%E9%A2%9C%E8%89%B2%E6%96%B9%E6%A1%88"><span class="tocnumber">8.3.1</span> <span class="toctext">颜色方案</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="安装">安装</span>
</h2>
<p><a href="../zh-CN/Help:Reading.html#%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8C%85" class="mw-redirect" title="安装">安装</a>下面两个软件包中的一个：
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=vim">vim</a></span> — 提供Python 2/3, Lua, Ruby 和 Perl 解释器支持，但没有 GTK/X 支持</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gvim">gvim</a></span> — 除了提供和<code>vim</code>一样的功能外，还提供GTK/X支持。</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=vim">vim</a></span>包不包含 <a href="../en/Xorg.html" title="Xorg">Xorg</a> 支持。具体而言，Vim缺失 <code>+clipboard</code> 特性，因而不能够使用 <i>primary</i> 和 <i>clipboard</i> <a href="../en/Clipboard.html" title="Clipboard">剪贴板</a>。<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gvim">gvim</a></span>同时提供命令行版本带<code>+clipboard</code>的Vim。</li>
<li>非官方源<a href="../en/Unofficial_user_repositories.html#herecura" title="Unofficial user repositories">herecura</a>也提供数个Vim/gVim变种版本: <code>vim-cli</code> <code>vim-gvim-common</code> <code>vim-gvim-gtk</code> <code>vim-gvim-qt</code> <code>vim-rt</code> 和 <code>vim-tiny</code>。</li>
</ul>
</div>
<h2>
<span id=".E7.94.A8.E6.B3.95"></span><span class="mw-headline" id="用法">用法</span>
</h2>
<p>有关如何使用Vim的基本概述，请遵循vim教程运行<b>vimtutor</b>（控制台版本）或<b>gvimtutor</b>（图形界面版本）。
</p>
<p>Vim包含了一个广泛的帮助系统，可以用<code>:h <i>subject</i></code>命令来访问。<i>subject</i>可以是命令，配置选项，热键绑定，插件等。使用<code>:h</code>命令（不带任何<i>subject</i>）来获取帮助系统的相关信息以及在不同的主题之间切换。
</p>
<h2>
<span id=".E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="配置">配置</span>
</h2>
<p>Vim的用户特定配置文件位于主目录<code>~/.vimrc</code>，当前用户的Vim文件位于<code>~/.vim/</code>；全局配置文件为<code>/etc/vimrc</code>，全局Vim文件位于<code>/usr/share/vim/</code>。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 常用的功能，如语法高亮在 <code>defaults.vim</code> 中启用，当没有 <code>~.vimrc</code> 时加载。将 <code>skip_defaults_vim=1</code> 添加到 <code>/etc/vimrc</code>以完全禁用加载 <code>defaults.vim</code>。 <a rel="nofollow" class="external autonumber" href="https://github.com/vim/vim/issues/1033">[1]</a>
</div>
<h3>
<span id=".E5.89.AA.E8.B4.B4.E6.9D.BF"></span><span class="mw-headline" id="剪贴板">剪贴板</span>
</h3>
<p>Vim命令如 <code>:yank</code> 或 <code>:paste</code> 使用未命名寄存器，默认情况下对应于 <code>"*</code> 寄存器。如果 <code>+clipboard</code> 功能可用，<code>"*</code> 寄存器发送到X中的 <code>PRIMARY</code> 缓冲区。
</p>
<p>要更改默认寄存器，您可以 <code>:set clipboard=unnamedplus</code> 使用 <code>"+</code> 寄存器。<code>"+</code> 寄存器对应于X中的 <code>CLIPBOARD</code> 缓冲区。
</p>
<p>欲见更多信息，请参见 <code>:help 'clipboard'</code>。
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 可以创建复制和粘贴操作的自定义快捷方式。参见例如 <a rel="nofollow" class="external autonumber" href="https://superuser.com/a/189198">[2]</a> 用于绑定 <code>ctrl + c</code>，<code>ctrl + v</code> 和 <code>ctrl + x</code>。</div>
<h3>
<span id=".E8.AF.AD.E6.B3.95.E9.AB.98.E4.BA.AE"></span><span class="mw-headline" id="语法高亮">语法高亮</span>
</h3>
<p>启用语法高亮（Vim支持许多语言的语法高亮）：
</p>
<pre>:filetype plugin on
:syntax on
</pre>
<h3>
<span id=".E8.87.AA.E5.8A.A8.E6.8D.A2.E8.A1.8C.E6.98.BE.E7.A4.BA"></span><span class="mw-headline" id="自动换行显示">自动换行显示</span>
</h3>
<p><code>wrap</code>默认是开启的，这会使Vim在一行文本的长度超过窗口宽度时，自动将放不下的文本显示到下一行。<code>wrap</code>只会影响文本的显示，文本本身不会被改变。
</p>
<p>自动换行显示一般在该行窗口能容纳下的最后一个字符发生，即使刚好是在一个单词的中间。更为智能的自动换行显示可以用<code>linebreak</code>来控制。当用<code>set linebreak</code>开启时，自动换行发生在字符串选项<code>breakat</code>中列出来的字符之后。默认情况下，<code>breakat</code>包含空格和一些标点符号（参考<code>:help breakat</code>）。
</p>
<p>被换行的字符一般在下一行的开头开始显示，没有任何相应的缩进。<a rel="nofollow" class="external text" href="https://retracile.net/wiki/VimBreakIndent">breakindent</a> 指示Vim在换行时将缩进考虑在内，因而新行将与原本要显示的文本有相同的缩进。<code>breakindent</code>行为可以用<code>breakindentopt</code>选项来调整，比如说在Python文件中，新行将在原本缩进的基础上再缩进4个空格（更多细节参考<code>:help breakindentopt</code>）：
</p>
<pre>autocmd FileType python set breakindentopt=shift:4
</pre>
<h3>
<span id=".E4.BD.BF.E7.94.A8.E9.BC.A0.E6.A0.87"></span><span class="mw-headline" id="使用鼠标">使用鼠标</span>
</h3>
<p>Vim可以使用鼠标，但只在某些终端上起作用：
</p>
<ul>
<li>基于<a href="../en/Xterm.html" title="Xterm">xterm</a>/<a href="../en/Rxvt-unicode.html" class="mw-redirect" title="Urxvt">urxvt</a>的终端模拟器</li>
<li>带有<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gpm">gpm</a></span>的Linux控制台（更多细节请参阅<a href="../en/General_purpose_mouse.html" class="mw-redirect" title="Console mouse support">Console mouse support</a>）</li>
<li>
<a href="../en/PuTTY.html" title="PuTTY">PuTTY</a>。</li>
</ul>
<p>要开启这个功能，将下面这行代码加入<code>~/.vimrc</code>中：
</p>
<pre>set mouse=a
</pre>
<p><code>mouse=a</code> 选项在 <code>defaults.vim</code> 中设置。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong>  如果可以访问X服务器，复制/粘贴将使用<code>"*</code> 寄存器，参见<a href="#%E5%89%AA%E8%B4%B4%E6%9D%BF">剪贴板</a>。按住<code>shift key</code>键可以使用xterm处理鼠标按钮。</div>
<h3>
<span id=".E8.B7.A8.E8.A1.8C.E7.A7.BB.E5.8A.A8.E5.85.89.E6.A0.87"></span><span class="mw-headline" id="跨行移动光标">跨行移动光标</span>
</h3>
<p>默认情况下，在行首按<code>←</code>或者在行尾按<code>→</code>不能将光标移动至上一行或下一行。
</p>
<p>如要改变默认行为，将<code>set whichwrap=b,s,&lt;,&gt;,[,]</code>加至你的<code>~/.vimrc</code>文件中。
</p>
<h2>
<span id=".E6.96.87.E4.BB.B6.E5.90.88.E5.B9.B6"></span><span class="mw-headline" id="文件合并">文件合并</span>
</h2>
<p>Vim自带了一个文件差异编辑器（一个用来显示多个文件之间的差异还可以方便的将其合并的程序）。用<i>vimdiff</i>来启动它——指定所需文件即可：<code>vimdiff <i>file1</i> <i>file2</i></code>。以下是<i>vimdiff</i>-specific命令的清单。
</p>
<table class="wikitable">
<tbody>
<tr>
<th>行为</th>
<th>快捷键
</th>
</tr>
<tr>
<td>下一差异</td>
<td>
<code>]c</code>
</td>
</tr>
<tr>
<td>上一差异</td>
<td>
<code>[c</code>
</td>
</tr>
<tr>
<td>差异导入</td>
<td>
<code>do</code>
</td>
</tr>
<tr>
<td>差异导出</td>
<td>
<code>dp</code>
</td>
</tr>
<tr>
<td>打开折叠</td>
<td>
<code>zo</code>
</td>
</tr>
<tr>
<td>关闭折叠</td>
<td>
<code>zc</code>
</td>
</tr>
<tr>
<td>重新扫描文件</td>
<td>
<code>:diffupdate</code>
</td>
</tr>
<tr>
<td>窗口切换</td>
<td>
<code>Ctrl+w+w</code>
</td>
</tr>
</tbody>
</table>
<h2>
<span id=".E6.8A.80.E5.B7.A7.E5.92.8C.E5.BB.BA.E8.AE.AE"></span><span class="mw-headline" id="技巧和建议">技巧和建议</span>
</h2>
<h3>
<span id=".E6.98.BE.E7.A4.BA.E8.A1.8C.E5.8F.B7"></span><span class="mw-headline" id="显示行号">显示行号</span>
</h3>
<p>使用<code>:set number</code>来显示行号。默认显示绝对行号，可用<code>:set relativenumber</code>开启相对行号。当两种显示方式同时开启时，当前行显示绝对行号，其它行显示相对行号。
</p>
<p>使用<code>:<i>line number</i></code> or <code><i>line number</i>gg</code>跳转到指定行号。跳转都记录在一个跳转列表中，更多细节参考<code>:h jump-motions</code>。
</p>
<h3>
<span id=".E6.8B.BC.E5.86.99.E6.A3.80.E6.9F.A5"></span><span class="mw-headline" id="拼写检查">拼写检查</span>
</h3>
<p>Vim有拼写检查的功能，用下面的命令开启：
</p>
<pre>set spell
</pre>
<p>Vim默认只安装了英语字典。更多字典可以通过搜索vim-spell在<a href="../zh-CN/Official_repositories.html" title="Official repositories (简体中文)">官方软件仓库</a>中找到。其他字典可以在<a rel="nofollow" class="external text" href="http://ftp.vim.org/vim/runtime/spell/">Vim的FTP archive</a>中找到。把下载的字典文件存入<code>~/.vim/spell/</code>中，并使用以下命令启用：<code>:setlocal spell spelllang=<i>en_us</i></code>(将<code><i>en_us</i></code> 换成所需的字典的名称)。
</p>
<table class="wikitable">
<tbody>
<tr>
<th>行为</th>
<th>快捷键
</th>
</tr>
<tr>
<td>下一个拼写错误</td>
<td>
<code>]s</code>
</td>
</tr>
<tr>
<td>上一个拼写错误</td>
<td>
<code>[s</code>
</td>
</tr>
<tr>
<td>拼写纠正建议</td>
<td>
<code>z=</code>
</td>
</tr>
<tr>
<td>拼写正确，添加到用户正确字典</td>
<td>
<code>zg</code>
</td>
</tr>
<tr>
<td>在会话中当作正确拼写</td>
<td>
<code>zG</code>
</td>
</tr>
<tr>
<td>拼写错误，添加到用户错误字典</td>
<td>
<code>zw</code>
</td>
</tr>
<tr>
<td>在会话中当作正确拼写</td>
<td>
<code>zW</code>
</td>
</tr>
<tr>
<td>重新进行拼写检查</td>
<td>
<code>:spellr</code>
</td>
</tr>
</tbody>
</table>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 
<ul>
<li>如果需要针对两种语言进行拼写检查（例如英语与德语），在<code>~/.vimrc</code>或<code>/etc/vimrc</code>中添加<code>set spelllang=<i>en,de</i></code>并重启Vim即可。</li>
<li>您可以通过使用FileType插件和用于文件类型检测的自定义规则，为任意文件类型（例如<i>.txt</i>）启用拼写检查。 要对以<i>.txt</i>结尾的任何文件启用拼写检查，请创建文件  <code>/usr/share/vim/vimfiles/ftdetect/plaintext.vim</code>，并将 <code>autocmd BufRead,BufNewFile *.txt setfiletype plaintext</code> 插入该文件。接下来，将 <code>autocmd FileType plaintext setlocal spell spelllang=<i>en_us</i></code> 插入到<code>~/.vimrc</code> 或 <code>/etc/vimrc</code> 中，然后重新启动Vim。</li>
</ul>
<ul><li>如果想只对LaTeX（或TeX）文档起用拼写检查，在<code>~/.vimrc</code>或<code>/etc/vimrc</code>添加<code>autocmd FileType <b>tex</b> setlocal spell spelllang=<i>en_us</i></code>，重启Vim即可。至于非英语语言，替换上述语句中的<code>en_us</code>为相应语言代码即可。</li></ul>
</div>
<h3>
<span id=".E8.AE.B0.E5.BD.95.E5.85.89.E6.A0.87.E4.BD.8D.E7.BD.AE"></span><span class="mw-headline" id="记录光标位置">记录光标位置</span>
</h3>
<p>Vim可以记录上次打开某一文件时的光标位置，并在下次打开同一文件时将光标移动到该位置。要开启该功能，在配置文件<code>~/.vimrc</code>中加入以下内容：
</p>
<pre>augroup resCur
  autocmd!
  autocmd BufReadPost * call setpos(".", getpos("'\""))
augroup END
</pre>
<h3>
<span id=".E7.94.A8_vim_.E6.9B.BF.E4.BB.A3_vi"></span><span class="mw-headline" id="用_vim_替代_vi">用 vim 替代 vi</span>
</h3>
<p>创建一个<a href="../en/Bash.html#Aliases" class="mw-redirect" title="Alias">alias</a>，如下：
</p>
<pre>alias vi=vim</pre>
<p>或者，如果你想输入<code>sudo vi</code>而得到<code>vim</code>，安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/vi-vim-symlink/">vi-vim-symlink</a></span><sup><small>AUR</small></sup>，它将移除<code>vi</code>并用一个符号链接<code>vim</code>代替。
</p>
<h3>
<span id="DOS.2FWindows.E5.9B.9E.E8.BD.A6.E9.97.AE.E9.A2.98"></span><span class="mw-headline" id="DOS/Windows回车问题">DOS/Windows回车问题</span>
</h3>
<p>打开MS-DOS或Windows下创建的文本文件时，经常会在每行行末出现一个<code>^M</code>。这是因为Linux使用Unix风格的换行，用一个换行符（LF）来表示一行的结束，但在Windows、MS-DOS中使用一个回车符（CR）接一个换行符（LF）来表示，因而回车符就显示为<code>^M</code>。
</p>
<p>可使用下面的命令删除文件中的回车符：
</p>
<pre>:%s/^M//g
</pre>
<p>注意，<code>^</code>代表控制字符。输入<code>^M</code>的方法是按下<code>Ctrl+v,Ctrl+m</code>。
</p>
<p>另一个解决方法是，安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dos2unix">dos2unix</a></span>，然后执行 <code>dos2unix &lt;文件名&gt;</code>。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong>  另一个简单的方法是更改 <code>fileformat</code> 设置。 <code>set ff=unix</code> 以转化DOS/Windows行尾为Unix行尾。要做到相反，只要 <code>set ff=dos</code>，就可以将Unix行尾转换成DOS/Windows行尾。</div>
<h3>
<span id="gVim.E7.AA.97.E5.8F.A3.E5.BA.95.E9.83.A8.E7.9A.84.E7.A9.BA.E6.A0.BC"></span><span class="mw-headline" id="gVim窗口底部的空格">gVim窗口底部的空格</span>
</h3>
<p>如果<a href="../zh-CN/Window_manager.html" title="Window manager (简体中文)">窗口管理器</a>设置为忽略窗口大小提示，gVim会将非功能区域填充为GTK主题背景色。
</p>
<p>解决方案是调整gVim在窗口底部保留的空间大小。将下面的代码加入 <code>~/.vimrc</code>中：
</p>
<pre>set guiheadroom=0
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 如果将其设为0，将无法看到底部的水平滚动条。</div>
<h2>
<span id=".E6.8F.92.E4.BB.B6"></span><span class="mw-headline" id="插件">插件</span>
</h2>
<p>向Vim添加插件可以提高您的效率。 插件可以改变Vim的界面，添加新命令，代码完成支持，使用Vim集成其他程序和实用程序，添加对其他语言的支持等等。
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 有关常用插件的列表，请参阅 <a rel="nofollow" class="external text" href="http://vimawesome.com/">Vim Awesome</a>
</div>
<h3>
<span id=".E5.AE.89.E8.A3.85_2"></span><span class="mw-headline" id="安装_2">安装</span>
</h3>
<h4>
<span id=".E4.BD.BF.E7.94.A8.E5.86.85.E7.BD.AE.E5.8C.85.E7.AE.A1.E7.90.86.E5.99.A8"></span><span class="mw-headline" id="使用内置包管理器">使用内置包管理器</span>
</h4>
<p>Vim 8增加了加载原生第三方插件的可能性。可以通过在〜/.vim/pack/foo中存储第三方软件包来使用此功能。
</p>
<h4>
<span id=".E4.BD.BF.E7.94.A8.E6.8F.92.E4.BB.B6.E7.AE.A1.E7.90.86.E5.99.A8"></span><span class="mw-headline" id="使用插件管理器">使用插件管理器</span>
</h4>
<p>插件管理器允许以类似的方式安装和管理插件，而与在何种平台上运行Vim无关。它本身是一个插件，其功能是作为其他Vim插件包管理器。
</p>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://github.com/gmarik/Vundle.vim">Vundle</a>是现在最流行的Vim插件管理器。</li>
<li>
<a rel="nofollow" class="external text" href="https://github.com/junegunn/vim-plug">Vim-plug</a>是一个极简的Vim插件管理器，有许多的特性，比如按需插件加载和并行升级。</li>
<li>
<a rel="nofollow" class="external text" href="https://github.com/tpope/vim-pathogen">pathogen.vim</a>是一个简单的用于管理Vim的runtimepath的插件。</li>
<li>
<a rel="nofollow" class="external text" href="https://github.com/Shougo/dein.vim">Dein.vim</a> 是一个替代 <a rel="nofollow" class="external text" href="https://github.com/Shougo/neobundle.vim">NeoBundle</a> 的插件管理器，可以在这里找到 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/vim-dein-git/">vim-dein-git</a></span><sup><small>AUR</small></sup>.</li>
</ul>
<h4>
<span id=".E4.BD.BF.E7.94.A8Arch.E8.BD.AF.E4.BB.B6.E5.BA.93"></span><span class="mw-headline" id="使用Arch软件库">使用Arch软件库</span>
</h4>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/vim-plugins/">vim-plugins</a></span>分类下有许多插件。 使用<code>pacman -Sg vim-plugins</code>来列出可用的插件，然后你可用pacman<a href="../zh-CN/Help:Reading.html#%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8C%85" class="mw-redirect" title="安装">安装</a>。
</p>
<h3><span class="mw-headline" id="cscope">cscope</span></h3>
<p><a rel="nofollow" class="external text" href="http://cscope.sourceforge.net/">Cscope</a>是用于浏览项目的工具。 通过导航到字/符号/函数并调用cscope（通常使用快捷键），它可以找到：调用函数的函数，函数定义等等。 
</p>
<p><a href="../zh-CN/Help:Reading.html#%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8C%85" class="mw-redirect" title="安装">安装</a><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cscope">cscope</a></span>包。
</p>
<p>将cscope默认文件复制到Vim将自动读取的位置:
</p>
<pre>mkdir -p ~/.vim/plugin
wget -P ~/.vim/plugin <a rel="nofollow" class="external free" href="http://cscope.sourceforge.net/cscope_maps.vim">http://cscope.sourceforge.net/cscope_maps.vim</a> 
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 在Vim的7.x版本中，你可能需要在<code>~/.vim/plugin/cscope_maps.vim</code>中取消下列行的注释来启用cscope快捷键：
<pre>set timeoutlen=4000
set ttimeout</pre>
</div>
<p>创建一个文件，该文件包含了你希望cscope索引的文件的清单（cscope可以操作很多语言，下面的例子用于寻找C++中的<i>.c</i>、<i>.cpp</i>和<i>.h</i>文件）：
</p>
<pre>cd <i>/path/to/projectfolder/</i>
find . -type f -print | grep -E '\.(c(pp)?|h)$' &gt; cscope.files
</pre>
<p>创建cscope将读取的数据文件：
</p>
<pre>cscope -bq
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 必须从当前路径浏览工程文件，也可以设置<code>$CSCOPE_DB</code>变量指向<code>cscope.out</code>文件，并导出。</div>
<p>默认快捷键：
</p>
<pre> Ctrl-\ and
      c: Find functions calling this function
      d: Find functions called by this function
      e: Find this egrep pattern
      f: Find this file
      g: Find this definition
      i: Find files #including this file
      s: Find this C symbol
      t: Find assignments to
</pre>
<p>可随意改变这些快捷键。
</p>
<h4><span class="mw-headline" id="Taglist">Taglist</span></h4>
<p><a rel="nofollow" class="external text" href="http://vim-taglist.sourceforge.net/">Taglist</a>提供源码文件的结构概览，使你能更高效的浏览不同语言的源文件。
</p>
<p><a href="../zh-CN/Help:Reading.html#%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8C%85" class="mw-redirect" title="安装">安装</a><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/vim-taglist/">vim-taglist</a></span><sup><small>AUR</small></sup>包。
</p>
<p>将下列设置添入文件<code>~/.vimrc</code>:
</p>
<pre>let Tlist_Compact_Format = 1
let Tlist_GainFocus_On_ToggleOpen = 1
let Tlist_Close_On_Select = 1
nnoremap &lt;C-l&gt; :TlistToggle&lt;CR&gt;
</pre>
<h2>
<span id=".E5.B8.B8.E8.A7.81.E9.97.AE.E9.A2.98"></span><span class="mw-headline" id="常见问题">常见问题</span>
</h2>
<h3>
<span id="gVim.E8.BF.90.E8.A1.8C.E7.BC.93.E6.85.A2"></span><span class="mw-headline" id="gVim运行缓慢">gVim运行缓慢</span>
</h3>
<p>GTK 3 GUI 下vim可能比GTK 2下运行缓慢（参阅 <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/51366">FS#51366</a>）。可安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gvim-gtk2/">gvim-gtk2</a></span><sup><small>AUR</small></sup>来避免该问题。
</p>
<h2>
<span id=".E5.8F.82.E9.98.85"></span><span class="mw-headline" id="参阅">参阅</span>
</h2>
<h3>
<span id=".E5.AE.98.E6.96.B9.E8.B5.84.E6.BA.90"></span><span class="mw-headline" id="官方资源">官方资源</span>
</h3>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.vim.org/">Vim主页</a></li>
<li><a rel="nofollow" class="external text" href="http://vimdoc.sourceforge.net/">Vim文档</a></li>
<li><a rel="nofollow" class="external text" href="http://vim.wikia.com">Vim Wiki</a></li>
<li><a rel="nofollow" class="external text" href="https://www.vim.org/scripts/">Vim脚本</a></li>
</ul>
<h3>
<span id=".E6.95.99.E7.A8.8B"></span><span class="mw-headline" id="教程">教程</span>
</h3>
<ul>
<li><a rel="nofollow" class="external text" href="http://www.swaroopch.com/notes/Vim_zh-cn">中文版《A Byte of Vim》</a></li>
<li><a rel="nofollow" class="external text" href="http://usalug.org/vi.html">vi教程和参考指南</a></li>
<li><a rel="nofollow" class="external text" href="https://www.danielmiessler.com/study/vim/">vim Tutorial and Primer</a></li>
<li><a rel="nofollow" class="external text" href="http://usalug.org/vi.html">vi Tutorial and Reference Guide</a></li>
<li><a rel="nofollow" class="external text" href="http://www.viemu.com/a_vi_vim_graphical_cheat_sheet_tutorial.html">Graphical vi-Vim Cheat Sheet and Tutorial</a></li>
<li><a rel="nofollow" class="external text" href="https://web.archive.org/web/20190228223619/https://blog.interlinked.org/tutorials/vim_tutorial.html">Vim Introduction and Tutorial</a></li>
<li>
<a rel="nofollow" class="external text" href="https://www.openvim.com/">Open Vim</a> - Vim教学工具集合</li>
<li><a rel="nofollow" class="external text" href="http://yannesposito.com/Scratch/en/blog/Learn-Vim-Progressively/">Learn Vim Progressively</a></li>
<li><a rel="nofollow" class="external text" href="http://benmccormick.org/learning-vim-in-2014/">Learning Vim in 2014</a></li>
<li><a rel="nofollow" class="external text" href="http://www.moolenaar.net/habits.html">Seven habits of effective text editing</a></li>
<li><a rel="nofollow" class="external text" href="http://bencrowder.net/files/vim-fu/">Basic Vim Tips</a></li>
</ul>
<h4>
<span id=".E8.A7.86.E9.A2.91"></span><span class="mw-headline" id="视频">视频</span>
</h4>
<ul>
<li>
<a rel="nofollow" class="external text" href="http://vimcasts.org/">Vimcasts</a> - ogg格式的视频教程。</li>
<li>
<a rel="nofollow" class="external text" href="http://derekwyatt.org/vim/tutorials/">Vim Tutorial Videos</a> - 从入门到精通，各种视频教程</li>
</ul>
<h4>
<span id=".E6.B8.B8.E6.88.8F"></span><span class="mw-headline" id="游戏">游戏</span>
</h4>
<ul>
<li><a rel="nofollow" class="external text" href="https://vim-adventures.com/">Vim Adventures</a></li>
<li><a rel="nofollow" class="external text" href="http://vimgolf.com/">VimGolf</a></li>
</ul>
<h3>
<span id=".E9.85.8D.E7.BD.AE.E8.8C.83.E4.BE.8B"></span><span class="mw-headline" id="配置范例">配置范例</span>
</h3>
<ul>
<li><a rel="nofollow" class="external text" href="https://web.archive.org/web/20131020125020/http://nion.modprobe.de/setup/vimrc">nion's</a></li>
<li><a rel="nofollow" class="external text" href="https://web.archive.org/web/20170222115910/http://amix.dk/vim/vimrc.html">A detailed configuration from Amir Salihefendic</a></li>
<li><a rel="nofollow" class="external text" href="https://web.archive.org/web/20131004071740/http://www.jukie.net/~bart/conf/vimrc">Bart Trojanowski</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/spf13/spf13-vim">Steve Francia's Vim Distribution</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/W4RH4WK/dotVim">W4RH4WK's Vim configuration</a></li>
<li><a rel="nofollow" class="external text" href="https://www.askapache.com/linux/fast-vimrc/">Fast vimrc/colorscheme from askapache</a></li>
<li><a rel="nofollow" class="external text" href="https://gist.github.com/anonymous/c966c0757f62b451bffa">Basic .vimrc</a></li>
<li><a rel="nofollow" class="external text" href="https://www.usevim.com/">Usevim</a></li>
</ul>
<h4>
<span id=".E9.A2.9C.E8.89.B2.E6.96.B9.E6.A1.88"></span><span class="mw-headline" id="颜色方案">颜色方案</span>
</h4>
<ul>
<li><a rel="nofollow" class="external text" href="http://bytefluent.com/vivify/">Vivify</a></li>
<li><a rel="nofollow" class="external text" href="https://linuxtidbits.wordpress.com/2014/10/14/vim-customize-installed-colorschemes/">Vim colorscheme customization</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../zh-CN/Category:Development.html" title="Category:Development (简体中文)">Development (简体中文)</a></li>
<li><a href="../zh-CN/Category:Text_editors.html" title="Category:Text editors (简体中文)">Text editors (简体中文)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Vim_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=662832">https://wiki.archlinux.org/index.php?title=Vim_(简体中文)&amp;oldid=662832</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 19 April 2021, at 14:59.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
