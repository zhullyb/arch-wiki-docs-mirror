<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>mpv (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Mpv_简体中文 rootpage-Mpv_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">mpv (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><span></span>
</p>
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/MPlayer.html" title="MPlayer">MPlayer</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="../en/Mpv.html" title="Mpv">Mpv</a> 的<a href="../zh-CN/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2016-04-13。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Mpv&amp;diff=0&amp;oldid=429916">更改</a>，则您可以帮助同步翻译。</div>
<p><a rel="nofollow" class="external text" href="http://mpv.io/">mpv</a> 是一个基于 <a href="../en/MPlayer.html" title="MPlayer">MPlayer</a> 和 MPlayer2 的多媒体播放器。 它支持多种视频文件格式、音频和视频编解码器和字幕类型。 在<a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv/blob/master/DOCS/mplayer-changes.rst">这里</a>可以找到mpv播放器与上述播放器之间的区别的综合列表（可能不是完全统计）。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%E5%AE%89%E8%A3%85"><span class="tocnumber">1</span> <span class="toctext">安装</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#%E5%89%8D%E7%AB%AF"><span class="tocnumber">1.1</span> <span class="toctext">前端</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3">
<a href="#%E9%85%8D%E7%BD%AE"><span class="tocnumber">2</span> <span class="toctext">配置</span></a>
<ul>
<li class="toclevel-2 tocsection-4">
<a href="#%E4%B8%80%E8%88%AC%E8%AE%BE%E5%AE%9A"><span class="tocnumber">2.1</span> <span class="toctext">一般设定</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#%E9%AB%98%E8%B4%A8%E9%87%8F%E8%A7%86%E9%A2%91%E9%85%8D%E7%BD%AE"><span class="tocnumber">2.1.1</span> <span class="toctext">高质量视频配置</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#%E8%87%AA%E5%AE%9A%E4%B9%89"><span class="tocnumber">2.1.2</span> <span class="toctext">自定义</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="#%E6%8C%89%E9%94%AE%E7%BB%91%E5%AE%9A"><span class="tocnumber">2.2</span> <span class="toctext">按键绑定</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Additional_configuration_files"><span class="tocnumber">2.3</span> <span class="toctext">Additional configuration files</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#%E8%84%9A%E6%9C%AC"><span class="tocnumber">3</span> <span class="toctext">脚本</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#JavaScript"><span class="tocnumber">3.1</span> <span class="toctext">JavaScript</span></a></li>
<li class="toclevel-2 tocsection-11">
<a href="#Lua"><span class="tocnumber">3.2</span> <span class="toctext">Lua</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#mpv-stats"><span class="tocnumber">3.2.1</span> <span class="toctext">mpv-stats</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#mpv-webm"><span class="tocnumber">3.2.2</span> <span class="toctext">mpv-webm</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-14">
<a href="#C"><span class="tocnumber">3.3</span> <span class="toctext">C</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="#mpv-mpris"><span class="tocnumber">3.3.1</span> <span class="toctext">mpv-mpris</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-16">
<a href="#Vapoursynth"><span class="tocnumber">4</span> <span class="toctext">Vapoursynth</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="#SVP_4_Linux_(SmoothVideoProject)"><span class="tocnumber">4.1</span> <span class="toctext">SVP 4 Linux (SmoothVideoProject)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18">
<a href="#%E6%8F%90%E7%A4%BA%E5%92%8C%E6%8A%80%E5%B7%A7"><span class="tocnumber">5</span> <span class="toctext">提示和技巧</span></a>
<ul>
<li class="toclevel-2 tocsection-19"><a href="#Hardware_video_acceleration"><span class="tocnumber">5.1</span> <span class="toctext">Hardware video acceleration</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Save_position_on_quit"><span class="tocnumber">5.2</span> <span class="toctext">Save position on quit</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#%E5%A3%B0%E9%9F%B3%E5%A4%AA%E5%B0%8F"><span class="tocnumber">5.3</span> <span class="toctext">声音太小</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#%E5%A3%B0%E9%9F%B3%E6%AD%A3%E5%B8%B8%E5%8C%96"><span class="tocnumber">5.4</span> <span class="toctext">声音正常化</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Play_a_DVD"><span class="tocnumber">5.5</span> <span class="toctext">Play a DVD</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Quickly_cycle_between_aspect_ratios"><span class="tocnumber">5.6</span> <span class="toctext">Quickly cycle between aspect ratios</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Ignoring_aspect_ratio"><span class="tocnumber">5.7</span> <span class="toctext">Ignoring aspect ratio</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Draw_to_the_root_window"><span class="tocnumber">5.8</span> <span class="toctext">Draw to the root window</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#Always_show_application_window"><span class="tocnumber">5.9</span> <span class="toctext">Always show application window</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Disable_video_output"><span class="tocnumber">5.10</span> <span class="toctext">Disable video output</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#Restoring_old_OSC"><span class="tocnumber">5.11</span> <span class="toctext">Restoring old OSC</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#Use_as_a_browser_plugin"><span class="tocnumber">5.12</span> <span class="toctext">Use as a browser plugin</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Improving_mpv_as_a_music_player_with_Lua_scripts"><span class="tocnumber">5.13</span> <span class="toctext">Improving mpv as a music player with Lua scripts</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#Twitch.tv_streaming_over_mpv"><span class="tocnumber">5.14</span> <span class="toctext">Twitch.tv streaming over mpv</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#youtube-dl_and_choosing_formats"><span class="tocnumber">5.15</span> <span class="toctext">youtube-dl and choosing formats</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#youtube-dl_audio_with_search"><span class="tocnumber">5.16</span> <span class="toctext">youtube-dl audio with search</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#Creating_a_single_screenshot"><span class="tocnumber">5.17</span> <span class="toctext">Creating a single screenshot</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-36">
<a href="#%E7%96%91%E9%9A%BE%E8%A7%A3%E7%AD%94"><span class="tocnumber">6</span> <span class="toctext">疑难解答</span></a>
<ul>
<li class="toclevel-2 tocsection-37"><a href="#%E4%B8%80%E8%88%AC%E8%B0%83%E8%AF%95%E6%96%B9%E6%B3%95"><span class="tocnumber">6.1</span> <span class="toctext">一般调试方法</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#Fix_jerky_playback_and_tearing"><span class="tocnumber">6.2</span> <span class="toctext">Fix jerky playback and tearing</span></a></li>
<li class="toclevel-2 tocsection-39"><a href="#Problems_with_window_compositors"><span class="tocnumber">6.3</span> <span class="toctext">Problems with window compositors</span></a></li>
<li class="toclevel-2 tocsection-40"><a href="#No_volume_bar,_cannot_change_volume"><span class="tocnumber">6.4</span> <span class="toctext">No volume bar, cannot change volume</span></a></li>
<li class="toclevel-2 tocsection-41"><a href="#GNOME_Blank_screen_(Wayland)"><span class="tocnumber">6.5</span> <span class="toctext">GNOME Blank screen (Wayland)</span></a></li>
<li class="toclevel-2 tocsection-42"><a href="#Use_mpv_with_a_compositor"><span class="tocnumber">6.6</span> <span class="toctext">Use mpv with a compositor</span></a></li>
<li class="toclevel-2 tocsection-43"><a href="#Cursor_theme_not_respected_under_GNOME_Wayland"><span class="tocnumber">6.7</span> <span class="toctext">Cursor theme not respected under GNOME Wayland</span></a></li>
</ul>
</li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="安装">安装</span>
</h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">安装</a> <a href="../en/Official_repositories.html" title="Official repositories">official repositories</a>里的软件包<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mpv">mpv</a></span>  or <a href="../en/Arch_User_Repository.html" title="Arch User Repository">Arch User Repository</a> 里的 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mpv-git/">mpv-git</a></span><sup><small>AUR</small></sup>。
</p>
<h3>
<span id=".E5.89.8D.E7.AB.AF"></span><span class="mw-headline" id="前端">前端</span>
</h3>
<p><i>mpv</i> 提供了一个叫做OSC的优雅的用户界面（在移动鼠标时出现），为了降低普通用户的使用难度，还有其他的图形界面：
</p>
<ul><li>
<b>Baka MPlayer</b> — 免费、开源、跨平台， 基于<i>libmpv</i>的多媒体播放器。(Qt 5)</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/u8sand/Baka-MPlayer/">https://github.com/u8sand/Baka-MPlayer/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=baka-mplayer">baka-mplayer</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/baka-mplayer-git/">baka-mplayer-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>bomi</b> — 强大易用的多媒体播放器 (Qt 5)。</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://bomi-player.github.io/">https://bomi-player.github.io/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/bomi/">bomi</a></span><sup><small>AUR</small></sup>。 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/bomi-git/">bomi-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>GNOME MPV</b> — 一个简单的 <i>mpv</i> 前端 (GTK+ 3).</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/gnome-mpv/gnome-mpv/">https://github.com/gnome-mpv/gnome-mpv/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gnome-mpv-git/">gnome-mpv-git</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：package not found]</sup>。 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-mpv">gnome-mpv</a></span><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：replaced by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=celluloid">celluloid</a></span>]</sup>
</dd></dl>
<ul><li>
<b><a href="https://en.wikipedia.org/wiki/SMPlayer" class="extiw" title="wikipedia:SMPlayer">SMPlayer</a></b> — Qt 写的拥有额外特性的多媒体播放器 (CSS 主题, YouTube 整合等等) (Qt 5).</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="http://smplayer.sourceforge.net/">http://smplayer.sourceforge.net/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=smplayer">smplayer</a></span>
</dd></dl>
<ul><li>
<b>xt7-player-mpv</b> — Qt/Gambas 写的 mpv 图形界面，提供了一套丰富的配置选项，包括过滤器和驱动，ladspa 插件支持以及资源库/播放列表管理, 还有YouTube, 在线电台, podcasts, DVB-T 和更多。</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/kokoko3k/xt7-player-mpv">https://github.com/kokoko3k/xt7-player-mpv</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xt7-player-mpv-git/">xt7-player-mpv-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> CMPlayer/<i>bomi</i> 安装包已在内部集成 <i>mpv</i>。</div>
<h2>
<span id=".E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="配置">配置</span>
</h2>
<p><i>mpv</i> 默认配置在性能较弱的电脑上应当也能正常工作。 然而，如果你有性能更好的显卡，通过配置 <i>mpv</i> 可以得到更好的使用体验 (经过配置，<i>mpv</i>潜力无穷！)。 如果需要配置，只需要新建几个配置文件即可 (这些配置文件默认不存在).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  配置文件<code>/etc/mpv</code>从系统范围内读取，配置文件<code>~/.config/mpv</code>从用户范围内读取。 (除非你设定了 <a href="../en/Environment_variables.html" class="mw-redirect" title="Environment variable">environment variable</a> <code>XDG_CONFIG_HOME</code>环境变量), 用户配置文件的优先级要高于系统配置文件。而直接在命令行使用参数的优先级又高于用户配置文件。建议使用用户配置文件，因为在配置过程中可能需要不断尝试和试错。</div>
<p>不懂如何开始？ <i>mpv</i> 提供了范例配置文件。 把它们当做你的第一步吧:
</p>
<pre>$ cp -r /usr/share/doc/mpv/ ~/.config/
</pre>
<p><code>mpv.conf</code> 是 <i>mpv'</i>的主要配置文件, <code>input.conf</code> 是按键绑定的配置文件。通读它们两个，以了解它们的工作原理以及可用的选项。
</p>
<h3>
<span id=".E4.B8.80.E8.88.AC.E8.AE.BE.E5.AE.9A"></span><span class="mw-headline" id="一般设定">一般设定</span>
</h3>
<p>把以下的设定加入 <code>~/.config/mpv/mpv.conf</code>.
</p>
<h4>
<span id=".E9.AB.98.E8.B4.A8.E9.87.8F.E8.A7.86.E9.A2.91.E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="高质量视频配置">高质量视频配置</span>
</h4>
<p>一般使用 <code>vo=gpu</code> 视频输出参数作为高质量视频的选项。大部分用户这么用没有问题，但是为了避免少部分用不了这个选项的用户在使用时出现问题，它并不是默认启用的：
</p>
<pre>profile=gpu-hq
</pre>
<p><code>gpu-hq</code> 默认采用<code>spline36</code> 缩放过滤器并可以提供中等的速度和质量。 为了使视频输出质量达到最优,如果你的硬件允许的话，你应该选择 <code>ewa_lanczossharp</code>。
</p>
<pre>profile=gpu-hq
scale=ewa_lanczossharp
cscale=ewa_lanczossharp
</pre>
<p>这最后三个选项可能有点复杂。首先是使让音频和视频不同步，而不是丢失视频帧，重新采样音频。 mpv维基上有一篇专门介绍这个的文章： <a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv/wiki/Display-synchronization">Display Synchronization</a>. 剩下的两个就是通过更改帧的显示方式从而让运动在显示器上看起来更为平滑，从而使源帧速率与显示器的刷新率匹配。mpv维基上有一篇专门介绍这个的文章：<a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv/wiki/Interpolation">Interpolation</a> 它的一个别称是 <i>平滑运动</i>.
</p>
<pre>profile=gpu-hq
scale=ewa_lanczossharp
cscale=ewa_lanczossharp
video-sync=display-resample
interpolation
tscale=oversample
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  如果你在用 <a href="../en/NVIDIA_Optimus.html" title="NVIDIA Optimus">NVIDIA Optimus</a> , <code>video-sync=display-resample</code>这一行可能导致视频加速.</div>
<p>除此之外你还能做很多事情。但是你会发现情况更加复杂，可能需要高性能的显卡。比如，可以加载执行特殊缩放和锐化技术的特殊着色器。想要了解更多，请参阅<a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv/wiki">mpv wiki</a>, 特别是 <a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv/wiki/User-Scripts#user-shaders">有关用户着色器的部分</a>.
</p>
<p>你可能会发现还有很多其它选择。因此 <span class="plainlinks archwiki-template-man" title="$ man 1 mpv"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/mpv.1">mpv(1)</a></span> 值得一看。 推荐在终端中运行 <i>mpv</i> ，因为这样可以得知错误信息。
</p>
<h4>
<span id=".E8.87.AA.E5.AE.9A.E4.B9.89"></span><span class="mw-headline" id="自定义">自定义</span>
</h4>
<p>In <code>mpv.conf</code> it is possible to create <i>profiles</i> which are essentially just "groups of options" with which you can:
</p>
<ul>
<li>Quickly switch between different configurations without having to rewrite the file.</li>
<li>Create special profiles for special content.</li>
<li>
<i>nest</i> profiles so that you can make more complicated <i>profiles</i> out of simpler ones.</li>
</ul>
<p>Creating a profile is easy. The area at the top of <code>mpv.conf</code> is called the top level, any options you write there will kick into effect once <i>mpv</i> is started. However, once you define a profile by writing its name in brackets then every option you write below it (until you define a new profile) is considered part of that profile. Here is an example <code>mpv.conf</code>:
</p>
<pre>profile=myprofile2        #Top level area, load myprofile2
ontop=yes                 #Always on top

[myprofile1]              #A simple profile, top level area ends here
profile-desc="a profile"  #Optional description for profile
fs=yes                    #Start in full screen

[myprofile2]              #Another simple profile
profile=gpu-hq            #A built in profile that comes with mpv
log-file=~~/log           #Sets a location for writing a log file, ~~/ translates to ~/.config/mpv
</pre>
<p>There are only two lines within the top level area and there are two separate profiles defined below it. When <i>mpv</i> starts it sees the first line, loads the options in <code>myprofile2</code> (which means it loads the options in <code>gpu-hq</code> and <code>log-file=~~/log</code>) finally it loads <code>ontop=yes</code> and finishes starting up. Note, <code>myprofile1</code> is never loaded because it is never called in the top level area.
</p>
<p>Alternatively one could call <i>mpv</i> from the command line with:
</p>
<pre>$ mpv --profile=myprofile1 video.mkv
</pre>
<p>and it would ignore all options except the ones for <code>myprofile1</code>.
</p>
<h3>
<span id=".E6.8C.89.E9.94.AE.E7.BB.91.E5.AE.9A"></span><span class="mw-headline" id="按键绑定">按键绑定</span>
</h3>
<p>Key bindings are fairly straightforward given the examples in <code>/usr/share/doc/mpv/input.conf</code> and the relevant section in the <a rel="nofollow" class="external text" href="https://mpv.io/manual/master/#command-interface">manual</a>.
</p>
<p>Add the following examples to <code>~/.config/mpv/input.conf</code>:
</p>
<pre>shift+s         screenshot each-frame
Shift+UP        seek  600
Shift+DOWN      seek -600
=               cycle video-unscaled
-               cycle-values window-scale 2 3 1 .5
WHEEL_UP        add volume 5
WHEEL_DOWN      add volume -5
WHEEL_LEFT      ignore
WHEEL_RIGHT     ignore
Alt+RIGHT       add video-rotate 90
Alt+LEFT        add video-rotate -90
Alt+-           add video-zoom -0.25
Alt+=           add video-zoom 0.25
Alt+j           add video-pan-x -0.05
Alt+l           add video-pan-x 0.05
Alt+i           add video-pan-y 0.05
Alt+k           add video-pan-y -0.05
Alt+BS          set video-zoom 0; set video-pan-x 0; set video-pan-y 0
</pre>
<p>For an attempt to reproduce MPC-HC key bindings in mpv, see <a rel="nofollow" class="external autonumber" href="https://github.com/dragons4life/MPC-HC-config-for-MPV/blob/master/input.conf">[1]</a>.
</p>
<h3><span class="mw-headline" id="Additional_configuration_files">Additional configuration files</span></h3>
<p>In addition there are a few more configuration files and directories that can be created, among which:
</p>
<ul>
<li>
<code>~/.config/mpv/script-opts/osc.conf</code> manages the <a rel="nofollow" class="external text" href="https://mpv.io/manual/master/#on-screen-controller">On Screen Controller</a>.</li>
<li>
<code>~/.config/mpv/scripts/<i>script-name</i>.lua</code> for Lua scripts. See <a rel="nofollow" class="external autonumber" href="https://github.com/mpv-player/mpv/issues/3500#issuecomment-305646994">[2]</a> for an example.</li>
</ul>
<p>See <a rel="nofollow" class="external free" href="https://mpv.io/manual/master/#files">https://mpv.io/manual/master/#files</a> for more.
</p>
<h2>
<span id=".E8.84.9A.E6.9C.AC"></span><span class="mw-headline" id="脚本">脚本</span>
</h2>
<p><i>mpv</i> 有一个<a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv/wiki/User-Scripts">相当丰富的脚本生态</a>，拓宽了其功能. To this end, it has internal bindings for both Lua and JavaScript (added recently).
</p>
<p>Scripts are typically installed by putting them in the <code>~/.config/mpv/scripts/</code> directory (you may have to create it first). After that they will be automatically loaded when mpv starts (this behavior can be altered with other <i>mpv</i> options). Some scripts come with their own installation and configuration instructions, so make sure to have a look. In addition some scripts are old, broken, and unmaintained.
</p>
<h3><span class="mw-headline" id="JavaScript">JavaScript</span></h3>
<p>JavaScript (ES5 via <a rel="nofollow" class="external text" href="https://mujs.com/">MuJS</a>) has been supported as an mpv scripting language since 2014. Currently only <a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv/wiki/User-Scripts#javascript">a few scripts</a> are available, but <a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv/blob/master/DOCS/man/javascript.rst">documentation exists</a> for anyone interested in making their own.
</p>
<p>To get started, drop a script with a <code>.js</code> extension in the mpv <code>scripts</code> directory, e.g.:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/mpv/scripts/fullscreen-off-on-pause.js</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">

function onPauseChange (prop, enabled) {
    if (enabled) {
        mp.set_property('fullscreen', 'no')
    }
}

mp.observe_property('pause', 'bool', onPauseChange)

</pre>
<p>For more details, e.g. on using <code>require</code> to load CommonJS modules, see the <a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv/blob/master/DOCS/man/javascript.rst#commonjs-modules-and-requireid">documentation</a>.
</p>
<p>JavaScript support is available in the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mpv">mpv</a></span> package, as well as some AUR packages, e.g. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mpv-full/">mpv-full</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mpv-full-git/">mpv-full-git</a></span><sup><small>AUR</small></sup>.
</p>
<h3><span class="mw-headline" id="Lua">Lua</span></h3>
<p>There are a lot of interesting Lua scripts for mpv. If you would like to make your own, the relevant documentation may be found <a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv/blob/master/DOCS/man/lua.rst">here</a>.
</p>
<h4><span class="mw-headline" id="mpv-stats">mpv-stats</span></h4>
<p><a rel="nofollow" class="external text" href="https://github.com/Argon-/mpv-stats/">mpv-stats</a> (or simply <i>stats</i>) is a Lua script that outputs a lot of live statistics showing how well <i>mpv</i> is currently doing. It is very useful for making sure that your hardware can keep up with your configuration and for comparing different configurations. Since version <a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv/releases/tag/v0.28.0">v0.28.0</a>, the script is built into <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mpv">mpv</a></span> and can be toggled on or off with the <code>i</code> or <code>I</code> keys (by default).
</p>
<h4><span class="mw-headline" id="mpv-webm">mpv-webm</span></h4>
<p><a rel="nofollow" class="external text" href="https://github.com/ekisu/mpv-webm">mpv-webm</a> (or simply <i>webm</i>) is a very easy to use Lua script that allows one to create WebM files while watching videos. It includes several features and does not have any extra dependencies (relies entirely on mpv).
</p>
<h3><span class="mw-headline" id="C">C</span></h3>
<h4><span class="mw-headline" id="mpv-mpris">mpv-mpris</span></h4>
<p>The C plugin <a rel="nofollow" class="external text" href="https://github.com/hoyon/mpv-mpris">mpv-mpris</a> allows other applications to integrate with <i>mpv</i> via the <a href="../en/MPRIS.html" title="MPRIS">MPRIS</a> protocol. For example, with <i>mpv-mpris</i> installed, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kdeconnect">kdeconnect</a></span> can automatically pause video playback in <i>mpv</i> when a phone call arrives. Another example is buttons (play\pause etc) on bluetooth audio-devices.
</p>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mpv-mpris/">mpv-mpris</a></span><sup><small>AUR</small></sup> and follow the post-installation instructions displayed by Pacman.
</p>
<p><br>
</p>
<h2><span class="mw-headline" id="Vapoursynth">Vapoursynth</span></h2>
<p>Vapoursynth is an alternative to AviSynth that can be used on Linux and allows for Video manipulation via python scripts. Vapoursynths python scripts can be used as video filters for <i>mpv</i>.
</p>
<p>To use vapoursynth filters you have to install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=vapoursynth">vapoursynth</a></span> package (or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/vapoursynth-git/">vapoursynth-git</a></span><sup><small>AUR</small></sup>) and compile <i>mpv</i> with the <code>--enable-vapoursynth</code> build flag.
</p>
<p>This is easier to do by first installing Vapoursynth and then installing (or re-installing if it is already installed) <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mpv-git/">mpv-git</a></span><sup><small>AUR</small></sup>. The configure script for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mpv-git/">mpv-git</a></span><sup><small>AUR</small></sup> will auto-detect Vapoursynth (as long as it has already been installed) and it will automatically compile <i>mpv</i> with support for Vapoursynth without having to manually change any configure options or anything (this makes it very easy to update <i>mpv</i> as well).
</p>
<h3>
<span id="SVP_4_Linux_.28SmoothVideoProject.29"></span><span class="mw-headline" id="SVP_4_Linux_(SmoothVideoProject)">SVP 4 Linux (SmoothVideoProject)</span>
</h3>
<p><a rel="nofollow" class="external text" href="https://www.svp-team.com/wiki/Main_Page">SmoothVideoProject SVP</a> is a program that is primarily known for converting video to 60fps. It is free [as in beer] and full featured for 64bit Linux (costs money for Windows and OS X and is incompatible with 32bit Linux).
</p>
<p>It has three main features and each one can be disabled/enabled as one chooses (you are not forced to use motion interpolation).
</p>
<ol>
<li>
<a rel="nofollow" class="external text" href="https://www.svp-team.com/wiki/Manual:FRC">Motion interpolation</a> (<a rel="nofollow" class="external text" href="https://www.youtube.com/watch?v=Wjb6CSe4708">youtube video</a>) - An algorithm that converts video to 60fps. This creates the somewhat controversial "soap opera effect" that some people love and others hate. Unfortunately the algorithm is not perfect and it also introduces more than its share of weird artifacts. The algorithm can be tuned (via a slider) for either performance or quality. It also has some artifact reduction settings that interpolate actual frames with the generated frames reducing the noticeability of the artifacts. The framerate detection can be set to automatic or manual (manual seems to resolve performance issues for some users).</li>
<li>
<a rel="nofollow" class="external text" href="https://www.svp-team.com/wiki/Manual:Outer_lighting">Black bar lighting</a> (<a rel="nofollow" class="external text" href="https://www.youtube.com/watch?v=yTzTpW3kTBE">youtube video</a>) - If the image has an aspect ratio that produces black bars on your display then SVP will illuminate the black bars with "lights" generated by the content on the screen. It has some amount of customization but the defaults are pretty close to optimal.</li>
<li>
<a rel="nofollow" class="external text" href="https://www.svp-team.com/wiki/Manual:SVPlight">LED ambient lighting control</a> (<a rel="nofollow" class="external text" href="https://www.youtube.com/watch?v=UUM2n-8kIJ8">youtube video</a>) - Has the ability to control LED ambient lighting attached to your television.</li>
</ol>
<p>Once you have <i>mpv</i> compiled with Vapoursynth support it is fairly easy to get SVP working with <i>mpv</i>. Simply install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/svp/">svp</a></span><sup><small>AUR</small></sup>, open the SVP program to let it assess your system performance (you may want to close other programs first so that it gets an accurate reading), and finally add the following <i>mpv</i> profile to your mpv.conf<a rel="nofollow" class="external autonumber" href="https://www.svp-team.com/wiki/SVP:mpv">[3]</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">mpv.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[svp]
input-ipc-server=/tmp/mpvsocket     # Receives input from SVP
hr-seek-framedrop=no                # Fixes audio desync
resume-playback=no                  # Not compatible with SVP

# Can fix stuttering in some cases, in other cases probably causes it. Try it if you experience stuttering.
#opengl-early-flush=yes</pre>
<p>Then, in order to use SVP you must have the SVP program running in the background before opening the file using <i>mpv</i> with that profile. Either do:
</p>
<pre>$ mpv --profile=svp video.mkv
</pre>
<p>or set <code>profile=svp</code> in the top-level portion of the <i>mpv</i> <a href="#Custom_profiles">configuration</a>.
</p>
<p>If you want to use hardware decoding then you must use a copy-back decoder since normal decoders are not compatible with Vapoursynth (choose a <code>hwdec</code> option that ends in <code>-copy</code>). For instance:
</p>
<pre>hwdec=auto-copy
hwdec-codecs=all
</pre>
<p>Either way, hardware decoding is discouraged by <i>mpv</i> developers and is not likely to make a significant difference in performance.
</p>
<h2>
<span id=".E6.8F.90.E7.A4.BA.E5.92.8C.E6.8A.80.E5.B7.A7"></span><span class="mw-headline" id="提示和技巧">提示和技巧</span>
</h2>
<h3><span class="mw-headline" id="Hardware_video_acceleration">Hardware video acceleration</span></h3>
<p>See <a href="../en/Hardware_video_acceleration.html" title="Hardware video acceleration">Hardware video acceleration</a>.
</p>
<p>Hardware accelerated video decoding is available via <code>--hwdec=<i>API</i></code> option. For list of all supported APIs and other required options see <a rel="nofollow" class="external text" href="https://mpv.io/manual/stable/#options-hwdec">relevant manual section</a>.
</p>
<p>For <a href="../en/Wayland.html" title="Wayland">Wayland</a> use <code>--gpu-context=wayland</code> option. For list of other available GPU APIs see <a rel="nofollow" class="external text" href="https://mpv.io/manual/stable/#options-gpu-context">manual</a>.
</p>
<h3><span class="mw-headline" id="Save_position_on_quit">Save position on quit</span></h3>
<p>By default you can save the position and quit by pressing <code>Shift+q</code>. The shortcut can be changed by setting <code>quit_watch_later</code> in the key bindings configuration file.
</p>
<p>To automatically save the current playback position on quit, start <i>mpv</i> with <code>--save-position-on-quit</code>, or add <code>save-position-on-quit</code> to the configuration file.
</p>
<h3>
<span id=".E5.A3.B0.E9.9F.B3.E5.A4.AA.E5.B0.8F"></span><span class="mw-headline" id="声音太小">声音太小</span>
</h3>
<p>Set <code>volume-max=<i>value</i></code> in your configuration file to a reasonable amount, such as <code>volume-max=150</code>, which then allows you to increase your volume up to 150%, which is more than twice as loud. Increasing your volume too high will result in clipping artefacts. Additionally (or alternatively), you can utilize <a href="https://en.wikipedia.org/wiki/Dynamic_range_compression" class="extiw" title="wikipedia:Dynamic range compression">dynamic range compression</a> with <code>af=acompressor</code>.
</p>
<h3>
<span id=".E5.A3.B0.E9.9F.B3.E6.AD.A3.E5.B8.B8.E5.8C.96"></span><span class="mw-headline" id="声音正常化">声音正常化</span>
</h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Add little more details about the available filters, see <a rel="nofollow" class="external autonumber" href="https://superuser.com/a/323127">[4]</a> for a comparison of <code>loudnorm</code> and <code>dynaudnorm</code>. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Mpv_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Talk:Mpv (简体中文)#</a>)</div>
</div>
<p>Different sources may have different or inconsistent loudness, so <i>mpv</i> users may need to configure automatic volume normalization. For example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/mpv/input.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">n cycle_values af loudnorm=I=-30 loudnorm=I=-15 anull</pre>
<p>This binds the key <code>n</code> to cycle the audio filter settings (<code>af</code>) through the specified values:
</p>
<ul>
<li>
<code>loudnorm=I=-30</code>: loudnorm setting with <code>I=-30</code>, soft volume, might be suitable for background music</li>
<li>
<code>loudnorm=I=-15</code>: louder volume, might be good for the video currently in view</li>
<li>
<code>anull</code>: reset audio filter to null, i.e., disable the audio filter</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Binding a key does not change the default audio filter. To change the default, add e.g. <code>af=loudnorm=I=-30</code> to the main configuration file.</div>
<p>Audio filtering in <i>mpv</i> is provided by the <a href="../en/FFmpeg.html" title="FFmpeg">FFmpeg</a> backend. See <a href="https://en.wikipedia.org/wiki/EBU_R_128" class="extiw" title="wikipedia:EBU R 128">Wikipedia:EBU R 128</a> and <a rel="nofollow" class="external text" href="https://ffmpeg.org/ffmpeg-filters.html#loudnorm">ffmpeg loudnorm filter</a> for details.
</p>
<p>See also upstream issues <a rel="nofollow" class="external autonumber" href="https://github.com/mpv-player/mpv/issues/3979">[5]</a> and <a rel="nofollow" class="external autonumber" href="https://github.com/mpv-player/mpv/issues/2883">[6]</a> which mention different options.
</p>
<h3><span class="mw-headline" id="Play_a_DVD">Play a DVD</span></h3>
<p>mpv does not support DVD menus. To start the main stream with the longest title of a video DVD, use the command:
</p>
<pre>$ mpv dvd://
</pre>
<p>An optional title specifier is a number (starting at 0) which selects between separate video streams on the DVD:
</p>
<pre>$ mpv dvd://[title] 
</pre>
<p>DVDs which have been copied on to a local file system (by e.g. the <a href="../en/Dvdbackup.html" title="Dvdbackup">dvdbackup</a> tool) are accommodated by specifying the path to the local copy: <code>--dvd-device=<i>PATH</i></code>.
</p>
<p>See the following <a href="../en/Desktop_entries.html" class="mw-redirect" title="Desktop file">desktop file</a> example for playing DVDs from a local file system:
</p>
<pre>[Desktop Entry]
Type=Application
Name=mpv Media Player DVD 
GenericName=Multimedia player
Comment=Play movies and songs
Icon=mpv
Exec=mpv dvd:// --player-operation-mode=pseudo-gui --force-window --idle --dvd-device=%f
Terminal=false
Categories=AudioVideo;Audio;Video;Player;TV;
# (MimeType and X-KDE-Protocols omitted, see orginianl mpv.desktop file)
</pre>
<p>By replacing the Exec line with
</p>
<pre>Exec=mpv dvd://0 dvd://1 dvd://2 dvd://3 dvd://4 dvd://5 dvd://6 dvd://7 dvd://8 dvd://9  --player-operation-mode=pseudo-gui --force-window --idle --dvd-device=%f
</pre>
<p>the mpv player will queue DVD title 0 to 9 in the playlist, which allows the user to play the titles consecutively or jump forward and backward in the DVD titles with the mpv GUI.
</p>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libdvdcss">libdvdcss</a></span>, to fix the error:
</p>
<pre>[dvdnav] Error getting next block from DVD 1 (Error reading from DVD.)
</pre>
<h3><span class="mw-headline" id="Quickly_cycle_between_aspect_ratios">Quickly cycle between aspect ratios</span></h3>
<p>You can cycle between aspect ratios using <code>Shift+a</code>.
</p>
<h3><span class="mw-headline" id="Ignoring_aspect_ratio">Ignoring aspect ratio</span></h3>
<p>You can ignore aspect ratio using <code>--keepaspect=<i>no</i></code>. To make option permanent, add line <code>keepaspect=<i>no</i></code> to configuration file.
</p>
<h3><span class="mw-headline" id="Draw_to_the_root_window">Draw to the root window</span></h3>
<p>Run <i>mpv</i> with <code>--wid=0</code>. <i>mpv</i> will draw to the window with a window ID of 0.
</p>
<h3><span class="mw-headline" id="Always_show_application_window">Always show application window</span></h3>
<p>To show application window even for audio files when launching mpv from command line use <code>--force-window</code> option. To make option permament, add line <code>force-window=yes</code> to the configuration file.
</p>
<h3><span class="mw-headline" id="Disable_video_output">Disable video output</span></h3>
<p>To disable video output when launching from command line use <code>--vid=no</code> option, or its alias, <code>--no-video</code>.
</p>
<h3><span class="mw-headline" id="Restoring_old_OSC">Restoring old OSC</span></h3>
<p>Since version 0.21.0, <i>mpv</i> has replaced the on-screen controls by a bottombar. In case you want on-screen controls back, you can edit the <i>mpv</i> configuration <a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv/wiki/FAQ#i-want-the-old-osc-back">as described here</a>.
</p>
<h3><span class="mw-headline" id="Use_as_a_browser_plugin">Use as a browser plugin</span></h3>
<p>With the help of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mozplugger/">mozplugger</a></span><sup><small>AUR</small></sup>, <i>mpv</i> can be used in a supported browser to play video. See <a href="../en/Browser_plugins.html#MozPlugger" title="Browser plugins">Browser plugins#MozPlugger</a> for configuration details. This coupled with a user script such as <a rel="nofollow" class="external text" href="http://isebaro.com/viewtube/?ln=en">ViewTube</a>, allows you to use <i>mpv</i> in place of a site's integrated video player.
</p>
<p>It may be needed to specify a valid user agent for HTTP streaming, e.g. <code>user-agent="Mozilla/5.0 (X11; Linux x86_64; rv:49.0) Gecko/20100101 Firefox/49.0"</code>.
</p>
<p><a href="../en/Browser_plugins.html#Multimedia_playback" title="Browser plugins">Browser plugins#Multimedia playback</a> page shows other easy ways to watch videos.
</p>
<h3><span class="mw-headline" id="Improving_mpv_as_a_music_player_with_Lua_scripts">Improving mpv as a music player with Lua scripts</span></h3>
<p>The development of <i>mpv'</i>s Lua scripts are documented in <a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv/blob/master/DOCS/man/lua.rst">DOCS/man/lua.rst</a>
and examples are shown in <a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv/tree/master/TOOLS/lua">TOOLS/lua</a>
of the <a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv">mpv repository</a>.
<a rel="nofollow" class="external text" href="https://web.archive.org/web/20160320001546/http://bamos.github.io/2014/07/05/mpv-lua-scripting/">This blog post</a> introduces the
<a rel="nofollow" class="external text" href="https://github.com/bamos/dotfiles/blob/master/.mpv/scripts.old/music.lua">music.lua</a> script,
which shows how Lua scripts can be used to improve <i>mpv</i> as a music player.
</p>
<h3><span class="mw-headline" id="Twitch.tv_streaming_over_mpv">Twitch.tv streaming over mpv</span></h3>
<p>If <a href="../en/Youtube-dl.html" title="Youtube-dl">youtube-dl</a> is installed, <i>mpv</i> can directly open a Twitch livestream.
</p>
<p>Alternatively, see <a href="../en/Streamlink.html#Twitch" title="Streamlink">Streamlink#Twitch</a>.
</p>
<p>Another alternative based on Livestreamer is this Lua script: <a rel="nofollow" class="external free" href="https://gist.github.com/ChrisK2/8701184fe3ea7701c9cc">https://gist.github.com/ChrisK2/8701184fe3ea7701c9cc</a>
</p>
<h3><span class="mw-headline" id="youtube-dl_and_choosing_formats">youtube-dl and choosing formats</span></h3>
<p>The default <code>--ytdl-format</code> is <code>bestvideo+bestaudio/best</code>. For youtube videos that have 4K resolutions available, this may mean that your device will struggle to decode 4K VP9 encoded video in software even if the attached monitor is much lower resolution.
</p>
<p>Setting the right youtube-dl format selectors can fix this easily though. In the following configuration example, only videos with a vertical resolution of 1080 pixels or less will be considered.
</p>
<pre>ytdl-format="bestvideo[height&lt;=?1080]+bestaudio/best"
</pre>
<p>If you wish to avoid a certain codec altogether because you cannot hardware-decode it, you can add this to the format selector. For example, we can additionally choose to ignore VP9 as follows:
</p>
<pre>ytdl-format="bestvideo[height&lt;=?1080][vcodec!=vp9]+bestaudio/best"
</pre>
<p>If you prefer best quality open codecs (VP9 and Opus), use:
</p>
<pre>ytdl-format="((bestvideo[vcodec^=vp9]/bestvideo)+(bestaudio[acodec=opus]/bestaudio[acodec=vorbis]/bestaudio[acodec=aac]/bestaudio))/best"
</pre>
<h3><span class="mw-headline" id="youtube-dl_audio_with_search">youtube-dl audio with search</span></h3>
<p>To find and stream audio from your terminal emulator with <code>yta <i>search terms</i></code> put the following function in your <code>.bashrc</code>:
</p>
<pre>function yta() {
    mpv --ytdl-format=bestaudio ytdl://ytsearch:"$*"
}
</pre>
<h3><span class="mw-headline" id="Creating_a_single_screenshot">Creating a single screenshot</span></h3>
<p>An example of creating a single screenshot, by using a start time (<code>HH:MM:SS</code>):
</p>
<pre>$ mpv --no-audio --start=00:01:30 --frames=1 /path/to/video/file --o=/path/to/screenshot.png
</pre>
<p>Screenshots will be saved in /path/to/screenshot.png.
</p>
<h2>
<span id=".E7.96.91.E9.9A.BE.E8.A7.A3.E7.AD.94"></span><span class="mw-headline" id="疑难解答">疑难解答</span>
</h2>
<h3>
<span id=".E4.B8.80.E8.88.AC.E8.B0.83.E8.AF.95.E6.96.B9.E6.B3.95"></span><span class="mw-headline" id="一般调试方法">一般调试方法</span>
</h3>
<p>If you are having trouble with <i>mpv'</i>s playback (or if it is flat out failing to run) then the first three things you should do are:
</p>
<ol>
<li>Run <i>mpv</i> from the command line (the -v flag increases verbosity). If you are lucky there will be an error message there telling you what is wrong.<br><code>$ mpv -v video.mkv</code>
</li>
<li>Have <i>mpv</i> output a log file. The log file might be difficult to sift through but if something is broken you might see it there.<br><code>$ mpv -v --log-file=./log video.mkv</code>
</li>
<li>Run <i>mpv</i> without a configuration. If this runs well then the problem is somewhere in your configuration (perhaps your hardware cannot keep up with your settings).<br><code>$ mpv --no-config video.mkv</code>
</li>
</ol>
<p>If <i>mpv</i> runs but it just does not run well then a fourth thing that might be worth taking a look at is installing the <a href="#mpv-stats">mpv-stats</a> script and using it to see exactly how it is performing.
</p>
<h3><span class="mw-headline" id="Fix_jerky_playback_and_tearing">Fix jerky playback and tearing</span></h3>
<p><i>mpv</i> defaults to using the OpenGL video output device setting on hardware that supports it. In cases such as trying to play video back on a 4K display using a Intel HD4XXX series card or similar, you will find video playback unreliable, jerky to the point of stopping entirely at times and with major tearing when using any OpenGL output setting. If you experience any of these issues, using the XV (<a href="../en/Xorg.html" title="Xorg">Xorg</a> only) video output device may help:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/mpv/mpv.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">vo=xv</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This is the most compatible VO on X, but may be low-quality, and has issues with OSD and subtitle display.</div>
<p>It is possible to increase playback performance even more (especially on lower hardware), but this decreases the video quality dramatically in most cases.
</p>
<p>The following <a href="#Configuration">options</a> may be considered to increase the video playback performance:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/mpv/mpv.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">vd-lavc-fast
vd-lavc-skiploopfilter=&lt;skipvalue&gt;
vd-lavc-skipframe=&lt;skipvalue&gt;
vd-lavc-framedrop=&lt;skipvalue&gt;
vd-lavc-threads=&lt;threads&gt;</pre>
<h3><span class="mw-headline" id="Problems_with_window_compositors">Problems with window compositors</span></h3>
<p>Window compositors such as KWin or Mutter can cause trouble for playback smoothness. In such cases, it may help to set <code>x11-bypass-compositor=yes</code> to make <i>mpv</i> also disable window compositing when playing in windowed mode (if supported by the compositor).
</p>
<p>With KWin compositing and hardware decoding, you may also want to set <code>x11-bypass-compositor=no</code> to keep compositing enabled in fullscreen, since reanabling compositing after leaving fullscreen may introduce stutter for a period of time.
</p>
<h3>
<span id="No_volume_bar.2C_cannot_change_volume"></span><span class="mw-headline" id="No_volume_bar,_cannot_change_volume">No volume bar, cannot change volume</span>
</h3>
<p>Spin the mouse wheel over the volume icon.
</p>
<h3>
<span id="GNOME_Blank_screen_.28Wayland.29"></span><span class="mw-headline" id="GNOME_Blank_screen_(Wayland)">GNOME Blank screen (Wayland)</span>
</h3>
<p><i>mpv</i> may not suspend GNOME's Power Saving Settings if using Wayland resulting in screen saver turning off the monitor during video playback. A workaround is to add <code>gnome-session-inhibit</code> to the beginning of the <code>Exec=</code> line in <code>mpv.desktop</code>.
</p>
<h3><span class="mw-headline" id="Use_mpv_with_a_compositor">Use mpv with a compositor</span></h3>
<p>If you are using a compositor (e.g. in KDE Plasma 5) and find that composition is disabled (e.g. in Plasma this would make you unable to present windows or see window thumbnails in the default app switcher) when <i>mpv</i> is playing a video, try <code>x11-bypass-compositor=no</code>
</p>
<h3><span class="mw-headline" id="Cursor_theme_not_respected_under_GNOME_Wayland">Cursor theme not respected under GNOME Wayland</span></h3>
<p>On Wayland, clients can display different cursor themes because there is not a unique configuration file for it. For the cursor theme, Qt apps usually accept the value that is set for the <a href="../en/Environment_variables.html" class="mw-redirect" title="Environment variable">environment variable</a> <code>XCURSOR_THEME</code>. However, in the specific case of mpv, the cursor theme that is displayed needs to be the one set in <code>~/.icons/default/index.theme</code>. Since GNOME does not update this file when changing the cursor theme with GNOME Tweaks, you will have to do it manually. See <a href="../en/Cursor_themes.html#XDG_specification" title="Cursor themes">Cursor themes#XDG specification</a> for more information.
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../zh-CN/Category:Video.html" title="Category:Video (简体中文)">Video (简体中文)</a></li>
<li><a href="../zh-CN/Category:Audio.html" title="Category:Audio (简体中文)">Audio (简体中文)</a></li>
<li><a href="../zh-CN/Category:Streaming.html" title="Category:Streaming (简体中文)">Streaming (简体中文)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Mpv_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=649019">https://wiki.archlinux.org/index.php?title=Mpv_(简体中文)&amp;oldid=649019</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 16 January 2021, at 10:14.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
