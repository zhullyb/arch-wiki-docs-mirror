<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>MATLAB (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-MATLAB_简体中文 rootpage-MATLAB_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">MATLAB (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="/title/Octave" title="Octave">Octave</a></li>
<li><a href="/title/Sage-mathematics" class="mw-redirect" title="Sage-mathematics">Sage-mathematics</a></li>
<li><a href="/title/Mathematica" title="Mathematica">Mathematica</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="/title/Matlab" class="mw-redirect" title="Matlab">Matlab</a> 的<a href="/title/ArchWiki:Translation_Team_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2020-9-23。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Matlab&amp;diff=0&amp;oldid=636207">更改</a>，则您可以帮助同步翻译。</div>
<p>据<a rel="nofollow" class="external text" href="https://www.mathworks.com/products/matlab/">官方网站</a>:
</p>
<dl><dd><i>MATLAB是可用于数值计算，可视化和编程的高级语言和交互式环境。MATLAB可以分析数据，开发算法和创建模型和应用程序。与电子表格或传统编程语言（如C / C ++或Java）相比，Matlab的语言，工具和内置数学函数可以使用户更快地探索多种解决问题的方法并形成解决方案。</i></dd></dl>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%E6%A6%82%E8%A7%88"><span class="tocnumber">1</span> <span class="toctext">概览</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#%E5%AE%89%E8%A3%85"><span class="tocnumber">2</span> <span class="toctext">安装</span></a>
<ul>
<li class="toclevel-2 tocsection-3">
<a href="#%E4%BB%8E_MATLAB_%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85"><span class="tocnumber">2.1</span> <span class="toctext">从 MATLAB 安装软件安装</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#%E6%A1%8C%E9%9D%A2%E5%85%A5%E5%8F%A3"><span class="tocnumber">2.1.1</span> <span class="toctext">桌面入口</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-5"><a href="#%E4%BB%8E_AUR_%E8%BD%AF%E4%BB%B6%E5%8C%85%E5%AE%89%E8%A3%85"><span class="tocnumber">2.2</span> <span class="toctext">从 AUR 软件包安装</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6">
<a href="#%E9%85%8D%E7%BD%AE"><span class="tocnumber">3</span> <span class="toctext">配置</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Java"><span class="tocnumber">3.1</span> <span class="toctext">Java</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#OpenGL%E5%8A%A0%E9%80%9F"><span class="tocnumber">3.2</span> <span class="toctext">OpenGL加速</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#%E9%9F%B3%E9%A2%91"><span class="tocnumber">3.3</span> <span class="toctext">音频</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#GPU%E8%AE%A1%E7%AE%97"><span class="tocnumber">3.4</span> <span class="toctext">GPU计算</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#%E5%AE%89%E8%A3%85%E9%A2%9D%E5%A4%96%E7%9A%84%E7%BC%96%E8%AF%91%E5%99%A8"><span class="tocnumber">3.5</span> <span class="toctext">安装额外的编译器</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Matlab%E7%9A%84%E5%B8%AE%E5%8A%A9%E6%9F%A5%E7%9C%8B%E5%99%A8%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="tocnumber">3.6</span> <span class="toctext">Matlab的帮助查看器的配置</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Garbled_Interface"><span class="tocnumber">3.7</span> <span class="toctext">Garbled Interface</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Serial_port_access"><span class="tocnumber">3.8</span> <span class="toctext">Serial port access</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#HiDPI_and_4k"><span class="tocnumber">3.9</span> <span class="toctext">HiDPI and 4k</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16">
<a href="#%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4"><span class="tocnumber">4</span> <span class="toctext">故障排除</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="#%E5%B8%AE%E5%8A%A9%E6%B5%8F%E8%A7%88%E5%99%A8%E5%92%8C%E5%8A%A8%E6%80%81%E8%84%9A%E6%9C%AC%E9%BB%91%E5%B1%8F"><span class="tocnumber">4.1</span> <span class="toctext">帮助浏览器和动态脚本黑屏</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#%E9%9D%99%E6%80%81%E7%BA%BF%E7%A8%8B%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E9%94%99%E8%AF%AF"><span class="tocnumber">4.2</span> <span class="toctext">静态线程本地存储错误</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Matlab%E5%9C%A8%E6%98%BE%E7%A4%BA%E5%9B%BE%E5%83%8F%E6%97%B6%E5%B4%A9%E6%BA%83"><span class="tocnumber">4.3</span> <span class="toctext">Matlab在显示图像时崩溃</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Blank/grey_UI_when_using_WM_(non-reparenting_window_manager)"><span class="tocnumber">4.4</span> <span class="toctext">Blank/grey UI when using WM (non-reparenting window manager)</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#%E6%96%87%E6%9C%AC%E4%B9%B1%E7%A0%81%E6%88%96%E4%B8%8D%E5%8F%AF%E8%A7%81"><span class="tocnumber">4.5</span> <span class="toctext">文本乱码或不可见</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#%E8%8F%9C%E5%8D%95%E5%92%8C%E8%BE%93%E5%85%A5%E7%AA%97%E5%8F%A3%E7%9A%84%E6%96%87%E5%AD%97%E6%98%BE%E7%A4%BA%E5%BC%82%E5%B8%B8"><span class="tocnumber">4.6</span> <span class="toctext">菜单和输入窗口的文字显示异常</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E7%BC%BA%E5%A4%B1"><span class="tocnumber">4.7</span> <span class="toctext">安装依赖缺失</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Installation_error:_archive_is_not_a_ZIP_archive"><span class="tocnumber">4.8</span> <span class="toctext">Installation error: archive is not a ZIP archive</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#%E5%AE%89%E8%A3%85%E6%97%B6library%E9%94%99%E8%AF%AF"><span class="tocnumber">4.9</span> <span class="toctext">安装时library错误</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#%E8%A7%A3%E5%86%B3%E5%90%AF%E5%8A%A8%E6%97%B6%E8%AD%A6%E5%91%8A/%E9%94%99%E8%AF%AF%E9%97%AE%E9%A2%98"><span class="tocnumber">4.10</span> <span class="toctext">解决启动时警告/错误问题</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#%E5%90%AF%E5%8A%A8%E6%97%B6%E5%87%BA%E7%8E%B0%E6%AE%B5%E9%94%99%E8%AF%AF"><span class="tocnumber">4.11</span> <span class="toctext">启动时出现段错误</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#%E4%B8%8EIntel%E6%98%BE%E5%8D%A1%E6%9C%89%E5%85%B3%E7%9A%84%E9%94%99%E8%AF%AF"><span class="tocnumber">4.12</span> <span class="toctext">与Intel显卡有关的错误</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#%E9%99%84%E5%8A%A0%E7%BB%84%E4%BB%B6%E7%AE%A1%E7%90%86%E5%99%A8%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8"><span class="tocnumber">4.13</span> <span class="toctext">附加组件管理器无法使用</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#LiveScript%E9%94%99%E8%AF%AF"><span class="tocnumber">4.14</span> <span class="toctext">LiveScript错误</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Using_webcam/video_device"><span class="tocnumber">4.15</span> <span class="toctext">Using webcam/video device</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#%E5%85%B3%E9%97%AD%E5%B8%AE%E5%8A%A9%E7%AA%97%E5%8F%A3%E6%97%B6Matlab%E6%95%B0%E7%A7%92%E6%97%A0%E5%93%8D%E5%BA%94"><span class="tocnumber">4.16</span> <span class="toctext">关闭帮助窗口时Matlab数秒无响应</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#%E4%B8%80%E4%BA%9B%E4%B8%8B%E6%8B%89%E8%8F%9C%E5%8D%95%E6%97%A0%E6%B3%95%E8%A2%AB%E9%80%89%E4%B8%AD"><span class="tocnumber">4.17</span> <span class="toctext">一些下拉菜单无法被选中</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#%E5%9B%A0%E8%AE%B8%E5%8F%AF%E8%AF%81%E9%97%AE%E9%A2%98%E9%80%A0%E6%88%90%E7%9A%84%E6%97%A0%E6%B3%95%E5%90%AF%E5%8A%A8Matlab"><span class="tocnumber">4.18</span> <span class="toctext">因许可证问题造成的无法启动Matlab</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#%E5%90%AF%E5%8A%A8Matlab%E6%97%B6%E6%98%BE%E7%A4%BA%22Failure_loading_desktop_class%22%E5%B9%B6%E5%B4%A9%E6%BA%83"><span class="tocnumber">4.19</span> <span class="toctext">启动Matlab时显示"Failure loading desktop class"并崩溃</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#Unable_to_type_in_text_fields_of_interfaces_based_on_MATLABWindow"><span class="tocnumber">4.20</span> <span class="toctext">Unable to type in text fields of interfaces based on MATLABWindow</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#Installer_crashes_with_%22Unable_to_launch_the_MATLABWindow_application%22"><span class="tocnumber">4.21</span> <span class="toctext">Installer crashes with "Unable to launch the MATLABWindow application"</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#Add-on_manager_does_not_start_in_R2020a"><span class="tocnumber">4.22</span> <span class="toctext">Add-on manager does not start in R2020a</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-39"><a href="#%E5%9C%A8systemd-nspawn%E5%AE%B9%E5%99%A8%E4%B8%AD%E8%BF%90%E8%A1%8C"><span class="tocnumber">5</span> <span class="toctext">在systemd-nspawn容器中运行</span></a></li>
</ul>
</div>

<h2>
<span id=".E6.A6.82.E8.A7.88"></span><span class="mw-headline" id="概览">概览</span>
</h2>
<p>MATLAB是MathWorks公司开发的专有软件。获取，安装和激活Matlab需要许可证。MATLAB的新版本一年发布两次，发布名称由<code>R</code>,发布年份和<code>a</code>或<code>b</code>构成。从R2012b开始，只有64位Linux才可使用Matlab。Arch Linux 不受官方支持。参见<a rel="nofollow" class="external text" href="https://cn.mathworks.com/support/sysreq.html">系统要求</a>
</p>
<h2>
<span id=".E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="安装">安装</span>
</h2>
<p>在安装 MATLAB 前需要获取一份完整的软件副本。对于许可证持有者，MATLAB 软件可以通过 DVD 或者 <a rel="nofollow" class="external text" href="https://www.mathworks.com">MathWorks 网站</a> 获取。 除了软件本身，安装还需要一份文件安装密钥。要安装 MATLAB，你既可以通过 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/matlab/">matlab</a></span><sup><small>AUR</small></sup> 软件包也可以直接使用 MATLAB 安装软件。通过 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/matlab/">matlab</a></span><sup><small>AUR</small></sup> 软件包安装的优势是它可以管理依赖和某些微妙的安装过程，而直接从安装软件安装则可由普通用户安装到他们的家目录从而不需要 root 权限，并且适用于任何版本的 MATLAB (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/matlab/">matlab</a></span><sup><small>AUR</small></sup> 软件包只适用于 MATLAB 2010b 及以后的版本).
</p>
<h3>
<span id=".E4.BB.8E_MATLAB_.E5.AE.89.E8.A3.85.E8.BD.AF.E4.BB.B6.E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="从_MATLAB_安装软件安装">从 MATLAB 安装软件安装</span>
</h3>
<p>MATLAB 安装软件是独立的，它不需要任何额外的依赖来静默安装。要通过图形界面安装， <a href="/title/Xorg" title="Xorg">Xorg</a> 图形显示是必要的。 <a href="/title/Wayland" title="Wayland">Wayland</a> 目前不受支持。安装过程由 <code>install</code> 脚本处理。你可以以 root 用户运行此脚本来安装 MATLAB 到整个系统，或者以你自己运行来仅为你安装。
</p>
<p>MATLAB 2016a 及更早不兼容 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ncurses">ncurses</a></span> 6，因此你必须安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ncurses5-compat-libs/">ncurses5-compat-libs</a></span><sup><small>AUR</small></sup> 。 要了解更多信息，查看 <a href="#%E5%90%AF%E5%8A%A8%E6%97%B6%E5%87%BA%E7%8E%B0%E6%AE%B5%E9%94%99%E8%AF%AF">#启动时出现段错误</a> 。
</p>
<p>在安装过程中，你会被询问是否创建符号链接。如果你选择不创建，你可以手动创建一个 <code>/usr/local/bin</code> 使得 MATALB 更容易从终端启动：
</p>
<pre># ln -s /{MATLAB}/bin/matlab /usr/local/bin
</pre>
<p>或者你也可以将 MATLAB 的安装路径加入 <code>PATH</code> 环境变量。
</p>
<h4>
<span id=".E6.A1.8C.E9.9D.A2.E5.85.A5.E5.8F.A3"></span><span class="mw-headline" id="桌面入口">桌面入口</span>
</h4>
<p>你可以选择创建一个 <a href="/title/Desktop_entry" class="mw-redirect" title="Desktop entry">desktop entry</a>。 MATLAB 文件的 MIME 类型是 <code>text/x-matlab</code>.
</p>
<p>这样启动 <code>matlab</code>：
</p>
<ul>
<li>
<code>-desktop</code> 从而不使用终端。</li>
<li>
<code>-nosplash</code> 从而取消启动画面。</li>
</ul>
<p>要想让图标正确显示， <code>StartupWMClass</code> 需要在桌面入口中设置。要找到它，执行 <code>xprop | grep WM_CLASS</code> 然后选择 MATLAB 窗口
</p>
<p>桌面入口示例 (将 <b>R2019a</b> 替换为你的 MATLAB 版本):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/share/applications/matlab.desktop</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Desktop Entry]
Version=<b>R2019a</b>
Type=Application
Terminal=false
MimeType=text/x-matlab
Exec=/usr/local/MATLAB/<b>R2019a</b>/bin/matlab -desktop
Name=MATLAB
Icon=matlab
Categories=Development;Math;Science
Comment=Scientific computing environment
StartupNotify=true</pre>
<p>若需设置环境变量，可以在 <code>Exec</code> 中预先准备 <code>env</code>。例如, 到系统的 libfreetype:
</p>
<pre>Exec=env LD_PRELOAD=/usr/lib/libfreetype.so.6 matlab
</pre>
<p>你可能想要使用系统的 <code>libstdc++</code>.
</p>
<h3>
<span id=".E4.BB.8E_AUR_.E8.BD.AF.E4.BB.B6.E5.8C.85.E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="从_AUR_软件包安装">从 AUR 软件包安装</span>
</h3>
<p>专用 MATLAB 软件的EULA是有限制的。<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/matlab/">matlab</a></span><sup><small>AUR</small></sup> 被设计成使 MATLAB 和 Arch 集成。 该软件包应当在目标系统上被编译，并且应当在安装后删除该软件包和 <a href="/title/Pacman" title="Pacman">Pacman</a> 缓存。分发该软件包显然违反了EULA。
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/matlab/">matlab</a></span><sup><small>AUR</small></sup> 默认安装最新版的64位 MATLAB。也可以安装更旧的版本，例如 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/matlab-r2015b/">matlab-r2015b</a></span><sup><small>AUR</small></sup>。<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/matlab/">matlab</a></span><sup><small>AUR</small></sup> 需要在它的安装路径中有 MATLAB 安装软件和文件密钥。
要想从 AUR 安装 MATLAB， 从 AUR 下载 PKGBUILD。下载包含 MATLAB 安装器的 zip 文件，然后执行以下命令来下载必要文件：
</p>
<pre>bsdtar xC matlab -f matlab_R2019a_glnxa64.zip
./matlab/install
</pre>
<p>确保勾选你需要的所有工具包，然后等待下载。不要关闭安装窗口。你可以这样找到下载位置：
</p>
<pre>sudo find /tmp -name "tmw*"
</pre>
<p>or
</p>
<pre>cd /tmp
ls | grep tmw
</pre>
<p>将下载文件合并到安装器：
</p>
<pre>rsync -a /tmp/tmwXXXXXXXX/archives matlab
</pre>
<p>然后打包：
</p>
<pre>tar -cvf matlab.tar -C matlab/ .
</pre>
<p>下载 .lic 文件：访问 <a rel="nofollow" class="external text" href="https://mathworks.com/mwaccount/">你的 Mathworks 账户</a> 并点击你想要使用的许可证号。前往 Install and Activate 标签，选择 "Activate to Retrieve License File"。按照指导下载许可证文件并将将其命名为 <code>matlab.lic</code>。另，会显示文件安装密钥 (FIK) -把它复制粘贴进一个空文件，命名为 <code>matlab.fik</code>. 
</p>
<p>把以上文件复制进包含 PKGBUILD 文件的路径。然后修改 PKGBUILD 来安装你需要的工具包，开始安装：
</p>
<pre>makepkg -sri
</pre>
<p>要了解更多细节，参考 PKGBUILD 文件
</p>
<h2>
<span id=".E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="配置">配置</span>
</h2>
<h3><span class="mw-headline" id="Java">Java</span></h3>
<p>The MATLAB software is bundled with a JVM and therefore it is not necessary to install <a href="/title/Java" title="Java">Java</a>. The JVM version supported by MATLAB is listed in <a rel="nofollow" class="external text" href="https://ww2.mathworks.cn/support/compilers.html">System Requirements &amp; Platform Availability</a> or simply type <code>version -java</code> in MATLAB. One could set the <code>MATLAB_JAVA</code> environment variable to use custom JVM, for example, to specify the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=jre8-openjdk">jre8-openjdk</a></span> JRE, launch MATLAB with:
</p>
<pre>$ env MATLAB_JAVA=/usr/lib/jvm/java-8-openjdk/jre matlab
</pre>
<h3>
<span id="OpenGL.E5.8A.A0.E9.80.9F"></span><span class="mw-headline" id="OpenGL加速">OpenGL加速</span>
</h3>
<p>MATLAB can take advantage of hardware based 2D and 3D OpenGL acceleration. Support for hardware acceleration needs to be configured outside of MATLAB. Appropriate <a href="/title/Video_drivers" class="mw-redirect" title="Video drivers">video drivers</a> need to be installed along with the OpenGL utility library <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glu">glu</a></span> package. If X11 forwarding is being used, the video drivers need to be installed on both the client and server. To check if MATLAB is making use of hardware based OpenGL acceleration run:
</p>
<pre>$ matlab -nodesktop -nosplash -r "opengl info; exit" | grep Software
</pre>
<p>If "software rendering" is not "false", then there is a problem with your hardware acceleration. If this is the case make sure OpenGL is configured correctly on the system. This can be done with the <code>glxinfo</code> program from the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mesa-demos">mesa-demos</a></span> package:
</p>
<pre>$ glxinfo | grep "direct rendering"
</pre>
<p>If "direct rendering" is not "yes", then there is likely a problem with your system configuration.
</p>
<p>If glxinfo works but not matlab, you can try to run:
</p>
<pre>$ export LD_PRELOAD=/usr/lib/libstdc++.so; export LD_LIBRARY_PATH=/usr/lib/xorg/modules/dri/; matlab -nodesktop -nosplash -r "opengl info; exit" | grep Software
</pre>
<p>If its works, you can edit Matlab launcher script to add:
</p>
<pre>export LD_PRELOAD=/usr/lib/libstdc++.so
export LD_LIBRARY_PATH=/usr/lib/xorg/modules/dri/
</pre>
<p>If you experience a low-level graphics error, you can use a software implementation of OpenGL or use an older driver. According to <a href="/title/Intel_graphics#Old_OpenGL_Driver_(i965)" title="Intel graphics">this</a> entry in the ArchWiki, in Mesa 20.0 the new Iris driver was promoted to be the default for Gen8+. You may disable it and revert to use the old i965 driver by setting the <code>MESA_LOADER_DRIVER_OVERRIDE=i965</code> <a href="/title/Environment_variable" class="mw-redirect" title="Environment variable">environment variable</a> before starting Matlab or any OpenGL application. Alternatively, you can run Matlab with the following command:
</p>
<pre>$ env MESA_LOADER_DRIVER_OVERRIDE=i965 matlab -desktop
</pre>
<p>If it works, you can edit the Matlab launcher script to add:
</p>
<pre>export MESA_LOADER_DRIVER_OVERRIDE=i965
</pre>
<h3>
<span id=".E9.9F.B3.E9.A2.91"></span><span class="mw-headline" id="音频">音频</span>
</h3>
<p>To confirm that MATLAB is able to use the default soundcard to present sounds run:
</p>
<pre>$ matlab -nodesktop -nosplash -r "load handel; sound(y, Fs); pause(length(y)/Fs); exit" &gt; /dev/null
</pre>
<p>This should play an except from Handel's "Hallelujah Chorus." If this fails make sure <a href="/title/ALSA" class="mw-redirect" title="ALSA">ALSA</a> is properly configured. This can be done with the <code>speaker-test</code> program from the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=alsa-utils">alsa-utils</a></span> package from the <a href="/title/Official_repositories" title="Official repositories">official repositories</a>:
</p>
<pre>$ speaker-test
</pre>
<p>If you do not hear anything, then there is likely a problem with your system configuration.
</p>
<h3>
<span id="GPU.E8.AE.A1.E7.AE.97"></span><span class="mw-headline" id="GPU计算">GPU计算</span>
</h3>
<p>MATLAB can take advantage of <a rel="nofollow" class="external text" href="https://www.mathworks.co.uk/discovery/matlab-gpu.html">CUDA enabled GPUs</a> to speed up applications. In order to take advantage of a supported GPU install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia">nvidia</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia-utils">nvidia-utils</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ocl-icd">ocl-icd</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=opencl-nvidia">opencl-nvidia</a></span>, and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cuda">cuda</a></span> packages from the <a href="/title/Official_repositories" title="Official repositories">official repositories</a>. To check if MATLAB is able to utilize the GPU run:
</p>
<pre>$ matlab -nodesktop -nosplash -r "x=rand(10, 'single'); g=gpuArray(x); Success=isequal(gather(g), x), exit"  | sed -ne '/Success =/,$p'
</pre>
<h3>
<span id=".E5.AE.89.E8.A3.85.E9.A2.9D.E5.A4.96.E7.9A.84.E7.BC.96.E8.AF.91.E5.99.A8"></span><span class="mw-headline" id="安装额外的编译器">安装额外的编译器</span>
</h3>
<p>In order to access the full functionality of MATLAB (e.g., to use Simulink, Builder JA, and MEX-file compilation), supported versions of the <code>gcc</code>, <code>g++</code>, <code>gfortran</code>, and <code>jdk</code> compilers must be installed. Details about the supported compilers for the <a rel="nofollow" class="external text" href="https://www.mathworks.com/support/compilers/current_release/index.html?sec=glnxa64">current release</a> and <a rel="nofollow" class="external text" href="https://www.mathworks.com/support/sysreq/previous_releases.html">previous releases</a> are available online. Many of the supported <code>gcc</code>, <code>g++</code>, <code>jdk</code> compiler versions for past MATLAB releases are available from the <a href="/title/AUR" class="mw-redirect" title="AUR">AUR</a> (e.g., <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gcc43/">gcc43</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gcc44/">gcc44</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gcc47/">gcc47</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gcc49/">gcc49</a></span><sup><small>AUR</small></sup>and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jdk6/">jdk6</a></span><sup><small>AUR</small></sup>), while past versions of the <code>gfortran</code> compilers are not packaged.
</p>
<p>To use previous versions of the the <code>gcc</code>, <code>g++</code>, and <code>gfortran</code> compilers with MEX files, edit <code>${MATLAB}/bin/mexopts.sh</code> and replace all occurrences of <code>CC='gcc'</code> with <code>CC='gcc-4.X'</code>, <code>CXX='g++'</code> with <code>CXX='g++-4.X'</code>, and <code>FC='gfortran'</code> with <code>FC='gfortran-4.X'</code>, where <code>X</code> is the compiler version appropriate for the particular MATLAB release.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Newer versions of Matlab (at least 2017a) does not seem to respect the <code>${MATLAB}/bin/mexopts.sh</code> customization. Instead it uses <code>${MATLAB}/bin/glnxa64/mexopts/LANG_glnxa64.xml</code> file.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Though, it's no officially supported, one could still use higher version of compiler, and ignore the warnings.</div>
<h3>
<span id="Matlab.E7.9A.84.E5.B8.AE.E5.8A.A9.E6.9F.A5.E7.9C.8B.E5.99.A8.E7.9A.84.E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="Matlab的帮助查看器的配置">Matlab的帮助查看器的配置</span>
</h3>
<p>The help browser uses valuable slots in the dynamic thread vector and causes competition with core functionality provided by libraries like the BLAS that also depend on the dynamic thread vector. The help browser can be configured to use fewer slots in the dynamic thread vector with
</p>
<pre>&gt;&gt; webutils.htmlrenderer('basic');
</pre>
<p>This is a persistent change and to reverse it use
</p>
<pre>&gt;&gt; webutils.htmlrenderer('default');
</pre>
<h3><span class="mw-headline" id="Garbled_Interface">Garbled Interface</span></h3>
<pre>export J2D_D3D=false
export MATLAB_JAVA=/usr/lib/jvm/java-7-openjdk/jre
</pre>
<h3><span class="mw-headline" id="Serial_port_access">Serial port access</span></h3>
<p>Matlab uses a bundled rxtx library to access serial ports. The built-in version requires the user to have write access directly to /var/run which is no good idea. The easiest way to fix this properly is to install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=java-rxtx">java-rxtx</a></span> package first. Follow the instructions shown while installing this package to get your user into the right groups. Then run the following commands to make Matlab use the system rxtx version:
</p>
<pre>cd {MATLAB}/java/jarext
mv RXTXcomm.jar RXTXcomm.jar.off
ln -s /usr/share/java/rxtx/RXTXcomm.jar .

cd {MATLAB}/bin/glnx64
mv librxtxSerial.so librxtxSerial.so.off
ln -s /usr/lib/librxtxSerial.so .
</pre>
<h3><span class="mw-headline" id="HiDPI_and_4k">HiDPI and 4k</span></h3>
<p>See <a href="/title/HiDPI#MATLAB" title="HiDPI">HiDPI#MATLAB</a>
</p>
<h2>
<span id=".E6.95.85.E9.9A.9C.E6.8E.92.E9.99.A4"></span><span class="mw-headline" id="故障排除">故障排除</span>
</h2>
<h3>
<span id=".E5.B8.AE.E5.8A.A9.E6.B5.8F.E8.A7.88.E5.99.A8.E5.92.8C.E5.8A.A8.E6.80.81.E8.84.9A.E6.9C.AC.E9.BB.91.E5.B1.8F"></span><span class="mw-headline" id="帮助浏览器和动态脚本黑屏">帮助浏览器和动态脚本黑屏</span>
</h3>
<p>安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/libselinux/">libselinux</a></span><sup><small>AUR</small></sup>.
</p>
<h3>
<span id=".E9.9D.99.E6.80.81.E7.BA.BF.E7.A8.8B.E6.9C.AC.E5.9C.B0.E5.AD.98.E5.82.A8.E9.94.99.E8.AF.AF"></span><span class="mw-headline" id="静态线程本地存储错误">静态线程本地存储错误</span>
</h3>
<p>MATLAB has a number of libraries that have been compiled with static thread local storage (TLS) including the help broswer <code>doc</code> and the BLAS libraries. For example,
</p>
<pre>&gt;&gt; doc('help');
&gt;&gt; ones(10)*randn(10);
Error using  * 
BLAS loading error:
dlopen: cannot load any more object with static TLS
</pre>
<p>is related to the bugs:
</p>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://www.mathworks.de/support/bugreports/961964">961964</a> for which patched libraries are available from <a rel="nofollow" class="external text" href="http://www.mathworks.de/support/bugreports/license/accept_license/5730?fname=attachment_961964_12b_13a_13b_14a_glnxa64_2014-01-30.zip&amp;geck_id=961964">MathWorks</a><sup title="最后检查状态：404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">失效链接</a> 2020-08-02 ⓘ]</sup>
</li>
<li>
<a rel="nofollow" class="external text" href="https://www.mathworks.com/support/bugreports/1003952">1003952</a> for which workarounds exist</li>
</ul>
<p>A more general solution of recompiling <code>glibc</code> has also been suggested. <a rel="nofollow" class="external autonumber" href="https://stackoverflow.com/a/19468365">[1]</a>
</p>
<h3>
<span id="Matlab.E5.9C.A8.E6.98.BE.E7.A4.BA.E5.9B.BE.E5.83.8F.E6.97.B6.E5.B4.A9.E6.BA.83"></span><span class="mw-headline" id="Matlab在显示图像时崩溃">Matlab在显示图像时崩溃</span>
</h3>
<p>To identify this error, start MATLAB with
</p>
<pre>LIBGL_DEBUG=verbose matlab
</pre>
<p>from the terminal and try to collect OpenGL information with <code>opengl info</code> from the MATLAB command prompt. If it crashes again and there is an output line like 
</p>
<pre>libGL error: dlopen /usr/lib/xorg/modules/dri/swrast_dri.so failed 
(/usr/local/MATLAB/R2011b/bin/glnxa64/../../sys/os/glnxa64/libstdc++.so.6: 
version `GLIBCXX_3.4.15' not found (required by /usr/lib/xorg/modules/dri/swrast_dri.so))
</pre>
<p>then the problem is that MATLAB uses its own GNU C++ library, which is an older version than the up-to-date version on your Archlinux system. Make MATLAB use the current C++ library for your system by
</p>
<pre>cd /usr/local/MATLAB/R(your release)/sys/os/glnxa64
sudo unlink libstdc++.so.6
sudo ln -s /usr/lib/libstdc++.so.6
</pre>
<p>If MATLAB still crashes or corrupts graphics (during startup or when plotting), make sure Java's 2D OpenGL rendering is disabled.
The environment variable <code>_JAVA_OPTIONS</code> should not contain <code>-Dsun.java2d.opengl=true</code>.
</p>
<h3>
<span id="Blank.2Fgrey_UI_when_using_WM_.28non-reparenting_window_manager.29"></span><span class="mw-headline" id="Blank/grey_UI_when_using_WM_(non-reparenting_window_manager)">Blank/grey UI when using WM (non-reparenting window manager)</span>
</h3>
<p>This is a common issue in a number of window managers. (DWM, Awesome, bspwm) Java does not play well with these window managers. There are two methods.
</p>
<p>First try setting the environment variable by running
</p>
<pre>$ export _JAVA_AWT_WM_NONREPARENTING=1
</pre>
<p>If Matlab works afterwards, export the variable in your <code>.xinitrc</code>.
</p>
<p>If it does not resolve, you have to fool Java into thinking the WM is named LG3D. (It's an old, depreciated WM that Java applications ironically support) Clean the previous environment variable, install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wmname">wmname</a></span> utility, and run.
</p>
<pre>wmname LG3D
</pre>
<p>Try running Matlab. If it works, put the fix in your starting script. (<code>.xinitrc</code>, <code>bspwmrc</code> and similar should be OK) Do note that other applications (such as <code>neofetch</code>, or <code>tdrop</code>) will think your WM is named LG3D, so you will have to configure them accordingly. Another solution is to run the command only before launching Matlab, and fixing the name after you are done with Matlab.
</p>
<p>If it does not work, try the combination of both. (The second line works in bspwm) If it still does not work, try googling similar issues with java in general.
</p>
<h3>
<span id=".E6.96.87.E6.9C.AC.E4.B9.B1.E7.A0.81.E6.88.96.E4.B8.8D.E5.8F.AF.E8.A7.81"></span><span class="mw-headline" id="文本乱码或不可见">文本乱码或不可见</span>
</h3>
<p>Set the environment variable <code>J2D_D3D</code> to <code>false</code><a rel="nofollow" class="external autonumber" href="https://stackoverflow.com/questions/22737535/swing-rendering-appears-broken-in-jdk-1-8-correct-in-jdk-1-7">[2]</a>.
</p>
<p>In newer versions of MATLAB (R2015b) <a rel="nofollow" class="external autonumber" href="https://www.reddit.com/r/archlinux/comments/3yaga8/matlab_installer_bonked/">[3]</a> this also requires setting <code>MATLAB_JAVA</code> to something openjdk based. Example:
</p>
<pre>export J2D_D3D=false
./bin/glnxa64/install_unix -javadir /usr/lib/jvm/java-7-openjdk/jre
</pre>
<h3>
<span id=".E8.8F.9C.E5.8D.95.E5.92.8C.E8.BE.93.E5.85.A5.E7.AA.97.E5.8F.A3.E7.9A.84.E6.96.87.E5.AD.97.E6.98.BE.E7.A4.BA.E5.BC.82.E5.B8.B8"></span><span class="mw-headline" id="菜单和输入窗口的文字显示异常">菜单和输入窗口的文字显示异常</span>
</h3>
<p>If you notice that the menus or the input fields are corrupted or not appearing correctly then you can try to activate the <i>"<b>Use antialiasing to smooth desktop fonts</b>"</i> option in Matlab preferences, it seems to solve the problem. Go to <i><b>Preferences -&gt; Matlab -&gt; Fonts</b></i> and activate it. You will need to restart Matlab in order to take affect.
</p>
<h3>
<span id=".E5.AE.89.E8.A3.85.E4.BE.9D.E8.B5.96.E7.BC.BA.E5.A4.B1"></span><span class="mw-headline" id="安装依赖缺失">安装依赖缺失</span>
</h3>
<p>As one installs Matlab, it might complain that it cannot find a package, for the most part just look at the package name and then install it with <a href="/title/Pacman" title="Pacman">Pacman</a>, or in the case of x86_64 there are some libraries only in <a href="/title/AUR" class="mw-redirect" title="AUR">AUR</a>.
</p>
<h3><span class="mw-headline" id="Installation_error:_archive_is_not_a_ZIP_archive">Installation error: archive is not a ZIP archive</span></h3>
<p>During the installation you can get:
</p>
<pre>The following error was detected while installing <i>package_name</i>: archive is not a ZIP archive 
Would you like to retry installing <i>package_name</i>? If you press No, the installer will exit without completing the installation. More information can be found at /tmp/mathworks_root.log
</pre>
<p>Matlab downloads all packages to <code>/tmp/</code> directory which resides in RAM and is maximum size of half of available memory. In this case it is not enough for installation files and Matlab 2019a installer will warn you about this. If it did not, or if you ignored the warning, you will have got the above error.
</p>
<p>You can either <a href="/title/Tmpfs#Examples" title="Tmpfs">resize tmpfs</a> (3,5 GB is not enough, 6 GB works), or remove packages from base install and add them later with built-in Matlab add-on installer.
</p>
<h3>
<span id=".E5.AE.89.E8.A3.85.E6.97.B6library.E9.94.99.E8.AF.AF"></span><span class="mw-headline" id="安装时library错误">安装时library错误</span>
</h3>
<ul><li>Make sure that the symlink <code>bin/glnx64/libstdc++.so.6</code> is pointing to the correct version of <code>libstdc++.so.xx</code> (which is also in the same directory and has numbers where 'xx' is). By default, it may be pointing to an older (and nonexistent) version (different value for 'xx').</li></ul>
<ul><li>Make sure the device you are installing from is not mounted as <code>noexec</code>
</li></ul>
<ul><li>If you downloaded the files from Mathworks' website, make sure they are not on an NTFS or FAT partition, because that can mess up the symlinks. Ext4 or Ext3 should work.</li></ul>
<h3>
<span id=".E8.A7.A3.E5.86.B3.E5.90.AF.E5.8A.A8.E6.97.B6.E8.AD.A6.E5.91.8A.2F.E9.94.99.E8.AF.AF.E9.97.AE.E9.A2.98"></span><span class="mw-headline" id="解决启动时警告/错误问题">解决启动时警告/错误问题</span>
</h3>
<ul><li>Even if all needed libraries are installed, Matlab when starting can still report some missing libraries. This is resolved by symbolic linking of needed libraries to directories that Matlab checks at start-up. For example, if Matlab triggers error/warning about missing <code>/lib64/libc.so.6</code> library, this can be resolved by:</li></ul>
<pre># ln -s /lib/libc.so.6 /lib64
</pre>
<ul><li>Matlab R2011b with an up-to-date Arch Linux (as of March 12, 2012) fails on startup with the familiar "Failure loading desktop class." A solution is to point Matlab to the system JVM (confirmed to work with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=jdk7-openjdk">jdk7-openjdk</a></span> package):</li></ul>
<pre>export MATLAB_JAVA=/usr/lib/jvm/java-7-openjdk/jre
</pre>
<ul><li>Matlab R2017b with an up-to-date Arch Linux (as of September 30, 2017) fails on startup with the familiar "Failure loading desktop class." A solution is to install outdated versions of the libraries in the packages <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cairo">cairo</a></span> (1.14.10 works) and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=harfbuzz">harfbuzz</a></span> (1.4.6 works) to a local directory and add them to the LD_LIBRARY_PATH for matlab (See also: <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=228944">[4]</a>):</li></ul>
<pre>LD_LIBRARY_PATH="/opt/matlab/outdatedLibraries/:$LD_LIBRARY_PATH" /opt/matlab/R2017b/bin/matlab
</pre>
<h3>
<span id=".E5.90.AF.E5.8A.A8.E6.97.B6.E5.87.BA.E7.8E.B0.E6.AE.B5.E9.94.99.E8.AF.AF"></span><span class="mw-headline" id="启动时出现段错误">启动时出现段错误</span>
</h3>
<p>If Matlab (R2016a or earlier) stops working after upgrading <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ncurses">ncurses</a></span> to v6.x, <a href="/title/Install" class="mw-redirect" title="Install">install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ncurses5-compat-libs/">ncurses5-compat-libs</a></span><sup><small>AUR</small></sup> package. See <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=202575">BBS#202575</a>.
</p>
<p>In newer versions (e.g. R2017b), the issue could also be due to a font display failing to load.
Try moving the libfreetype.so.6 font display file in $MATLAB/bin/glnxa64/ to an 'exclude' directory; see <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=231299">BBS#231299</a>.
</p>
<h3>
<span id=".E4.B8.8EIntel.E6.98.BE.E5.8D.A1.E6.9C.89.E5.85.B3.E7.9A.84.E9.94.99.E8.AF.AF"></span><span class="mw-headline" id="与Intel显卡有关的错误">与Intel显卡有关的错误</span>
</h3>
<p>Some users have reported issues with DRI3 enabled on Intel Graphics chips. A possible workaround is to disable DRI3 and run MATLAB with hardware rendering on DRI2; to do so, launch MATLAB with the environment variable LIBGL_DRI3_DISABLE set to 1:
</p>
<pre>LIBGL_DRI3_DISABLE=1 /{MATLAB}/bin/matlab
</pre>
<p>If the previous workaround does not work, the issue can be circumvented by selecting software rendering with the MATLAB command (beware, performance may be very poor when doing e.g. big or complex 3D plots):
</p>
<pre>opengl('save','software')
</pre>
<p>See <a rel="nofollow" class="external autonumber" href="https://bugzilla.redhat.com/show_bug.cgi?id=1357571">[5]</a> and <a rel="nofollow" class="external autonumber" href="https://bugs.freedesktop.org/show_bug.cgi?id=96671">[6]</a> for more.
</p>
<h3>
<span id=".E9.99.84.E5.8A.A0.E7.BB.84.E4.BB.B6.E7.AE.A1.E7.90.86.E5.99.A8.E6.97.A0.E6.B3.95.E4.BD.BF.E7.94.A8"></span><span class="mw-headline" id="附加组件管理器无法使用">附加组件管理器无法使用</span>
</h3>
<p>Addon manager requires the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/libselinux/">libselinux</a></span><sup><small>AUR</small></sup> package to work. (in Matlab 2017b)
</p>
<p>Since upgrade from pango-1.40.5 to pango-1.40.6, the MATLABWindow application (responsible for Add-On Manager, Simulation Data Inspector and perhaps something else) cannot be started. <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/54257">FS#54257</a>
A workaround is to point MATLAB shipping glib libraries to those glib libraries from your system. There are 5 of those libraries in <code>matlabroot/R2017b/cefclient/sys/os/glnxa64</code>, namely, as of R2017b:
</p>
<pre>libgio-2.0.so
libglib-2.0.so
libgmodule-2.0.so
libgobject-2.0.so
libgthread-2.0.so
</pre>
<p>Make it so that these symlinks are pointing to your system glib libraries instead of versions located in <code>matlabroot/R2017b/cefclient/sys/os/glnxa64</code>.
On a standard arch install the local files reside in <code>/usr/lib/</code>.
</p>
<p>Relinking of "libfreetype.so.6" is also necessary to open these interfaces. This is found in <code>matlabroot/R2017b/bin/glnxa64/</code>.
</p>
<p>If the window opens but is blank, consider switching the html renderer to: " webutils.htmlrenderer('basic');" as described in <a href="#Help_browser">#Help browser</a><sup>[<a href="/title/ArchWiki:Requests#Broken_section_links" class="mw-redirect" title="ArchWiki:Requests">断开的链接</a>：无效的部分]</sup>.
</p>
<h3>
<span id="LiveScript.E9.94.99.E8.AF.AF"></span><span class="mw-headline" id="LiveScript错误">LiveScript错误</span>
</h3>
<p>If you get the error when attempting to load or create a LiveScript:
</p>
<pre> <code>Viewing matlab live script files is not currently supported by this operating system configuration</code>
</pre>
<p>The steps in <a href="#Addon_manager_not_working">#Addon manager not working</a><sup>[<a href="/title/ArchWiki:Requests#Broken_section_links" class="mw-redirect" title="ArchWiki:Requests">断开的链接</a>：无效的部分]</sup> may resolve the issue.
</p>
<h3>
<span id="Using_webcam.2Fvideo_device"></span><span class="mw-headline" id="Using_webcam/video_device">Using webcam/video device</span>
</h3>
<p>Make sure the correct support package addons are installed (webcam or OS Generic Video Interface for example). If running matlab as a user, make sure your user has write permissions to wherever the support packages are being downloaded and installed.
</p>
<p>At least Matlab 2016b does not recognize webcams or imaq adapters correctly without gstreamer0.10. The gstreamer0.10 can be found in the aur and installed as a work around.
</p>
<p>Since MATLAB R2017a, Image Acqusition Toolbox is using GStreamer library version 1.0. It previously used version 0.10.
</p>
<p>In general, USB Webcam Support Package does a better job working with UVC and built-in cameras than OS Generic Video Interface Support Package.
</p>
<p><b>Warning:</b> As of 2018-08-15 updating gst from 1.14.0 to 1.14.2 breaks video device operation (MATLAB does not see the video device anymore). Downgrading fixes this.
</p>
<h3>
<span id=".E5.85.B3.E9.97.AD.E5.B8.AE.E5.8A.A9.E7.AA.97.E5.8F.A3.E6.97.B6Matlab.E6.95.B0.E7.A7.92.E6.97.A0.E5.93.8D.E5.BA.94"></span><span class="mw-headline" id="关闭帮助窗口时Matlab数秒无响应">关闭帮助窗口时Matlab数秒无响应</span>
</h3>
<p>Since upgrade of glibc from 2.24 to 2.25, MATLAB (at least R2017a) hangs when closing Help Browser. The issue is related to the particular version of jxbrowser-chromium shipped with MATLAB.
This issue is still present with glibc 2.26 and MATLAB R2017b.
</p>
<p>To fix this issue, download the <a rel="nofollow" class="external text" href="https://www.teamdev.com/jxbrowser">latest jxbrowser</a> and replace the following jars from MATLAB:
</p>
<pre>matlabroot/java/jarext/jxbrowser-chromium/jxbrowser-chromium.jar
matlabroot/java/jarext/jxbrowser-chromium/jxbrowser-linux64.jar
</pre>
<p>MATLAB should automatically unpack those jars into <code>matlabroot/sys/jxbrowser-chromium/glnxa64/chromium</code> when first opening Help Browser.
Remove <code>matlabroot/sys/jxbrowser-chromium/glnxa64/chromium</code> directory to make sure MATLAB uses the latest jxbrowser.
</p>
<p>Unfortunately, this workaround does not work in R2017b anymore. Going deeper into investigation of this issue, it is related to a crash of one of jxbrowser-chromium processes. The parent process of jxbrowser-chromium then sits there and waits for response from a process that is already dead. This causes MATLAB main window to freeze. You can easily unfreeze MATLAB by manually killing all leftover jxbrowser-chromium processes.
</p>
<p>I have come up with this simple script that uses inotify and waits for user to close Help browser in MATLAB. It triggers when user closes Help browser and sends kill signal to all leftover jxbrowser-chromium processes:
</p>
<pre>#!/usr/bin/bash

if [ -z "$1" ]; then
	REL=R2017b
else
	REL=$1
fi

JXPATH="/path/to/MATLAB/$REL/sys/jxbrowser-chromium/glnxa64/chromium"
CMD="inotifywait -m -e CLOSE $JXPATH/resources.pak"

#Exit if the daemon is already active
if ! pgrep -f "$CMD" &gt; /dev/null; then
	#Wait for user to close Help Browser, then killall leftover jxbrowser processes
	$CMD |
	while read line
	do
		killall "$JXPATH/jxbrowser-chromium"
	done
else
	exit
fi
</pre>
<p>I run this script as part of my MATLAB start script like that:
</p>
<pre>~/bin/unfreeze_matlab.sh R2017b &amp;
</pre>
<p>To make sure that this background job is killed when I exit MATLAB, I use this in the beginning of MATLAB start script:
</p>
<pre>trap "trap - SIGTERM &amp;&amp; kill -- -$$" SIGINT SIGTERM EXIT
</pre>
<h3>
<span id=".E4.B8.80.E4.BA.9B.E4.B8.8B.E6.8B.89.E8.8F.9C.E5.8D.95.E6.97.A0.E6.B3.95.E8.A2.AB.E9.80.89.E4.B8.AD"></span><span class="mw-headline" id="一些下拉菜单无法被选中">一些下拉菜单无法被选中</span>
</h3>
<p>In some interfaces - such as Simulation Data Inspector or Simulink Test Manager - nothing happens when choosing an item in dropdown menu (for example, when trying to change a number of subplots in Simulation Data Inspector). To work around this issue, hold down the Shift key while clicking the item in dropdown menu.
</p>
<h3>
<span id=".E5.9B.A0.E8.AE.B8.E5.8F.AF.E8.AF.81.E9.97.AE.E9.A2.98.E9.80.A0.E6.88.90.E7.9A.84.E6.97.A0.E6.B3.95.E5.90.AF.E5.8A.A8Matlab"></span><span class="mw-headline" id="因许可证问题造成的无法启动Matlab">因许可证问题造成的无法启动Matlab</span>
</h3>
<p>In case MATLAB will not start from a <a href="/title/Desktop_environment" title="Desktop environment">desktop environment</a> by the call of its <a href="/title/Desktop_file" class="mw-redirect" title="Desktop file">desktop file</a> one should see the output as you start it from the terminal.
For a <i>Licensing error</i> such as:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># matlab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">MATLAB is selecting SOFTWARE OPENGL rendering.
License checkout failed.
License Manager Error -9
This error may occur when: 
-The hostid of this computer does not match the hostid in the license file. 
-A Designated Computer installation is in use by another user. 
If no other user is currently running MATLAB, you may need to activate.

Troubleshoot this issue by visiting: 
<a rel="nofollow" class="external free" href="https://www.mathworks.com/support/lme/R2017a/9">https://www.mathworks.com/support/lme/R2017a/9</a>

Diagnostic Information:
Feature: MATLAB 
License path: /home/&lt;USER&gt;/.matlab/R2017a_licenses/license_&lt;NUM&gt;_R2017a.lic:/home/&lt;USER&gt;/.matlab/R2017a_licenses/lice
nse_Darkness_&lt;NUM&gt;_R2017a.lic:/opt/MATLAB/R2017a/licenses/license.dat:/opt/MATLAB/R2017a/licenses/*
.lic 
Licensing error: -9,57.
</pre>
<p>a re-<a href="#Activation">activation</a><sup>[<a href="/title/ArchWiki:Requests#Broken_section_links" class="mw-redirect" title="ArchWiki:Requests">断开的链接</a>：无效的部分]</sup> might solve the problem.
</p>
<h3>
<span id=".E5.90.AF.E5.8A.A8Matlab.E6.97.B6.E6.98.BE.E7.A4.BA.22Failure_loading_desktop_class.22.E5.B9.B6.E5.B4.A9.E6.BA.83"></span><span class="mw-headline" id='启动Matlab时显示"Failure_loading_desktop_class"并崩溃'>启动Matlab时显示"Failure loading desktop class"并崩溃</span>
</h3>
<p>In case MATLAB will not start and starting it from command line gives you the following error:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ matlab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Fatal Internal Error: Internal Error: Failure occurs during desktop startup. Details: Failure loading desktop class.
</pre>
<p>and you have the option <a href="/title/Java#GTK_LookAndFeel" title="Java"><code>-Dswing.defaultlaf=com.sun.java.swing.plaf.gtk.GTKLookAndFeel</code></a> set in your <code>_JAVA_OPTIONS</code> environment variable, start MATLAB with
</p>
<pre>$ _JAVA_OPTIONS= matlab
</pre>
<p>If this works, add the line
</p>
<pre>export _JAVA_OPTIONS=
</pre>
<p>to your MATLAB launcher script. Optionally re-add other Java options.
</p>
<h3><span class="mw-headline" id="Unable_to_type_in_text_fields_of_interfaces_based_on_MATLABWindow">Unable to type in text fields of interfaces based on MATLABWindow</span></h3>
<p>Since R2018a, it is not possible to type text in interfaces based on MATLABWindow - like Signal Editor, Add-Ons Explorer and others.
MATLABWindow and MATLAB's webwindow infrastructure is based on Chromium Embedded Framework, and it looks like a known and long standing bug: <a rel="nofollow" class="external free" href="https://bitbucket.org/chromiumembedded/cef/issues/2026/multiple-major-keyboard-focus-issues-on">https://bitbucket.org/chromiumembedded/cef/issues/2026/multiple-major-keyboard-focus-issues-on</a>
</p>
<p>One possible workaround is to switch focus from the MATLABWindow to another window and then switch back - so that you can type.
</p>
<p>To elaborate more on this workaround (since the problem is still there in R2018b), here is what i did in my Openbox config (note that the A-Middle keybinding already exist in default config):
</p>
<pre>    &lt;mousebind button="A-Middle" action="Press"&gt;
       &lt;action name="Unfocus"/&gt;
       &lt;action name="Focus"/&gt;
     &lt;/mousebind&gt;
</pre>
<p>Now, whenever it is not possible to type in a text field, I press Alt+Mouse middle mouse and then I can type again.
</p>
<h3>
<span id="Installer_crashes_with_.22Unable_to_launch_the_MATLABWindow_application.22"></span><span class="mw-headline" id='Installer_crashes_with_"Unable_to_launch_the_MATLABWindow_application"'>Installer crashes with "Unable to launch the MATLABWindow application"</span>
</h3>
<p>In MATLAB version R2020a Update 5 (and possibly older), the installer crashes before the splash in shown.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ./install </pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"> terminate called after throwing an instance of 'std::runtime_error'
   what():  Unable to launch the MATLABWindow application
 Aborted (core dumped)
</pre>
<p>The problem is solved by removing (or hiding) the <code>libgl*</code> libraries of the MATLAB installer, as suggested for an older issue <a rel="nofollow" class="external autonumber" href="https://it.mathworks.com/matlabcentral/answers/397138-why-do-i-get-a-matlabwindow-application-failed-to-launch-error-when-launching-live-editor-app-des#answer_316968">[7]</a>
</p>
<pre>$ cd matlab_R2020a_glnxa64/cefclient/sys/os/glnxa64/
$ mkdir exclude
$ mv libglib-2.0.so* exclude/
</pre>
<h3><span class="mw-headline" id="Add-on_manager_does_not_start_in_R2020a">Add-on manager does not start in R2020a</span></h3>
<p>In MATLAB version R2020a Update 5 (and possibly older), the Add-on manager does not start. Instead, the following error is shown
</p>
<pre> Error using matlab.internal.cef.webwindow (line 385)
 MATLABWindow application failed to launch. Unable to launch the MATLABWindow application
 
 Error in matlab.internal.webwindow/createImplementation (line 288)
                 implObj = matlab.internal.cef.webwindow(varargin{:});
 
 Error in matlab.internal.webwindow (line 144)
             obj.impl = obj.createImplementation(varargin{:});
 
 Error in matlab.internal.addons.AddOnsWindow/launch (line 51)
                 obj.webwindow = matlab.internal.webwindow(char(url), obj.debugPort, obj.normalWindowPosition);
 
 Error in matlab.internal.addons.Explorer/loadUrlForNavigateToMessage (line 125)
                 obj.addOnsWindowInstance.launch(url, obj.windowStateUtil.getExplorerWindowMaximizedSetting);
 
 Error in matlab.internal.addons.Explorer/show (line 56)
                 obj.loadUrlForNavigateToMessage(url);
 
 Error in matlab.internal.addons.launchers.showExplorer (line 128)
         matlab.internal.addons.Explorer.getInstance.show(navigationData);
</pre>
<p>The problem is solved by removing (or hiding) the <code>libgl*</code> and <code>libgio*</code> libraries of MATLAB, as suggested for an older issue <a rel="nofollow" class="external autonumber" href="https://it.mathworks.com/matlabcentral/answers/397138-why-do-i-get-a-matlabwindow-application-failed-to-launch-error-when-launching-live-editor-app-des#answer_316968">[8]</a>
</p>
<pre>$ cd {MATLAB INSALLATION FOLDER}/cefclient/sys/os/glnxa64/
$ mkdir exclude
$ mv libglib-2.0.so* libgio-2.0.so* exclude/
</pre>
<h2>
<span id=".E5.9C.A8systemd-nspawn.E5.AE.B9.E5.99.A8.E4.B8.AD.E8.BF.90.E8.A1.8C"></span><span class="mw-headline" id="在systemd-nspawn容器中运行">在systemd-nspawn容器中运行</span>
</h2>
<p>Matlab can be run within a systemd-nspawn container to maintain a static system and avoid the library issues that often plague matlab installs after significant updates to libraries in Arch. Refer to <a href="/title/Systemd-nspawn" title="Systemd-nspawn">Systemd-nspawn</a> for detailed information on setting up such containers.
</p>
<p>The following lists instruction to get a MATLAB 2017b install running in a minimal debian 9 environment. It assumes matlab is already installed as normal in "/usr/local/MATLAB/R2017b". 
</p>
<p>Use <a href="/title/Xhost" title="Xhost">Xhost</a> to allow the nspawn environment to use the existing X server instance.
</p>
<p>Create a minimal debian environment in a folder ("deb9" here) with:
</p>
<pre>$ debootstrap --arch=amd64 stretch deb9
</pre>
<p>Set a password for the root user and then boot the environment with:
</p>
<pre>$ systemd-nspawn --bind-ro=/dev/dri --bind=/tmp/.X11-unix --bind=/usr/local/MATLAB/ -b -D deb9
</pre>
<p>Install the following packages to have the requisite libraries in the nspawn environment for MATLAB. "mesa-utils" and "usbutils" can be installed to debug graphics acceleration and usb interfaces for I/O with MATLAB.
</p>
<pre>$ apt-get install xorg build-essential libgtk2.0-0 libnss3 libasound2 
</pre>
<p>Install the MATLAB-support (from contrib source) package in the environment for some convenient integration. 
</p>
<pre>$ apt-get install matlab-support
</pre>
<p>Set the $DISPLAY variable to use your existing X server instance.
</p>
<pre>$ export DISPLAY=:0
</pre>
<p>MATLAB can be launched from within the environment normally by using the binary at $MATLABROOT/bin.
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="/title/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/title/Category:Numerical_analysis_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" title="Category:Numerical analysis (简体中文)">Numerical analysis (简体中文)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="/title/Category:Pages_with_dead_links" title="Category:Pages with dead links">Pages with dead links</a></li>
<li><a href="/title/Category:Pages_with_broken_section_links" title="Category:Pages with broken section links">Pages with broken section links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=MATLAB_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=669064">https://wiki.archlinux.org/index.php?title=MATLAB_(简体中文)&amp;oldid=669064</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 8 May 2021, at 11:14.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="/title/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/title/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="/title/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
