<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>LightDM (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-LightDM_简体中文 rootpage-LightDM_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">LightDM (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>相关文章</p>
<ul>
<li><a href="../en/Display_manager.html" title="Display manager">Display manager</a></li>
<li><a href="../en/GDM.html" title="GDM">GDM</a></li>
<li><a href="../en/LXDM.html" title="LXDM">LXDM</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="../en/LightDM.html" class="mw-redirect" title="Lightdm">Lightdm</a> 的<a href="../zh-CN/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2016-07-06。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Lightdm&amp;diff=0&amp;oldid=436210">更改</a>，则您可以帮助同步翻译。</div>
<p><a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/LightDM">LightDM</a> 是一个跨桌面环境的<a href="../zh-CN/Display_manager.html" title="Display manager (简体中文)">显示管理器</a>。它的特点有:
</p>
<ul>
<li>跨桌面 - 支持不同的桌面环境.</li>
<li>支持多种显示技术(X, Wayland, ...).</li>
<li>轻量级 - 低内存使用，高性能.</li>
<li>支持定制会话.</li>
<li>支持远程登录(XDMCP, VNC, XDMCP, 可插拔).</li>
<li>完善的测试组件.</li>
<li>低代码复杂度.</li>
</ul>
<p>更多关于LightDM的特点可以在<a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/LightDM/Design">这里</a>找到。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%E5%AE%89%E8%A3%85"><span class="tocnumber">1</span> <span class="toctext">安装</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Greeter"><span class="tocnumber">1.1</span> <span class="toctext">Greeter</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#%E5%90%AF%E7%94%A8_LightDM"><span class="tocnumber">2</span> <span class="toctext">启用 LightDM</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7"><span class="tocnumber">3</span> <span class="toctext">命令行工具</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#%E6%B5%8B%E8%AF%95"><span class="tocnumber">4</span> <span class="toctext">测试</span></a></li>
<li class="toclevel-1 tocsection-6">
<a href="#%E9%85%8D%E7%BD%AE%E5%92%8C%E8%B0%83%E6%95%B4"><span class="tocnumber">5</span> <span class="toctext">配置和调整</span></a>
<ul>
<li class="toclevel-2 tocsection-7">
<a href="#%E6%9B%B4%E6%94%B9%E8%83%8C%E6%99%AF%E5%9B%BE%E7%89%87/%E9%A2%9C%E8%89%B2"><span class="tocnumber">5.1</span> <span class="toctext">更改背景图片/颜色</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#GTK+_greeter"><span class="tocnumber">5.1.1</span> <span class="toctext">GTK+ greeter</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#Webkit2_greeter"><span class="tocnumber">5.1.2</span> <span class="toctext">Webkit2 greeter</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#Unity_greeter"><span class="tocnumber">5.1.3</span> <span class="toctext">Unity greeter</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#KDE_greeter"><span class="tocnumber">5.1.4</span> <span class="toctext">KDE greeter</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-12"><a href="#%E6%94%B9%E5%8F%98%E4%BD%A0%E7%9A%84%E5%A4%B4%E5%83%8F"><span class="tocnumber">5.2</span> <span class="toctext">改变你的头像</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Arch_%E4%B8%BA%E4%B8%AD%E5%BF%83%E7%9A%84_64x64_%E5%9B%BE%E6%A0%87%E6%9D%A5%E6%BA%90"><span class="tocnumber">5.3</span> <span class="toctext">Arch 为中心的 64x64 图标来源</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#%E5%90%AF%E7%94%A8%E8%87%AA%E5%8A%A8%E7%99%BB%E5%BD%95"><span class="tocnumber">5.4</span> <span class="toctext">启用自动登录</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#%E5%90%AF%E7%94%A8%E6%97%A0%E5%AF%86%E7%A0%81%E4%BA%A4%E4%BA%92%E7%99%BB%E5%BD%95"><span class="tocnumber">5.5</span> <span class="toctext">启用无密码交互登录</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#%E9%9A%90%E8%97%8F%E7%B3%BB%E7%BB%9F%E5%92%8C%E6%9C%8D%E5%8A%A1%E7%94%A8%E6%88%B7"><span class="tocnumber">5.6</span> <span class="toctext">隐藏系统和服务用户</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#%E4%BB%8E_SLiM_%E8%BF%81%E7%A7%BB"><span class="tocnumber">5.7</span> <span class="toctext">从 SLiM 迁移</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#%E9%BB%98%E8%AE%A4%E6%89%93%E5%BC%80%E5%B0%8F%E9%94%AE%E7%9B%98"><span class="tocnumber">5.8</span> <span class="toctext">默认打开小键盘</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Xfce4_%E4%B8%8B%E5%A4%9A%E7%94%A8%E6%88%B7%E5%88%87%E6%8D%A2"><span class="tocnumber">5.9</span> <span class="toctext">Xfce4 下多用户切换</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#%E9%BB%98%E8%AE%A4%E4%BC%9A%E8%AF%9D"><span class="tocnumber">5.10</span> <span class="toctext">默认会话</span></a></li>
<li class="toclevel-2 tocsection-21">
<a href="#%E4%BF%AE%E6%94%B9%E7%99%BB%E5%BD%95%E7%AA%97%E5%8F%A3%E7%9A%84%E4%BD%8D%E7%BD%AE"><span class="tocnumber">5.11</span> <span class="toctext">修改登录窗口的位置</span></a>
<ul>
<li class="toclevel-3 tocsection-22"><a href="#GTK+_greeter_2"><span class="tocnumber">5.11.1</span> <span class="toctext">GTK+ greeter</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-23">
<a href="#%E7%96%91%E9%9A%BE%E9%97%AE%E9%A2%98"><span class="tocnumber">6</span> <span class="toctext">疑难问题</span></a>
<ul>
<li class="toclevel-2 tocsection-24"><a href="#%E6%98%BE%E7%A4%BA%E9%94%99%E8%AF%AF%E8%AF%AD%E8%A8%80%E7%8E%AF%E5%A2%83"><span class="tocnumber">6.1</span> <span class="toctext">显示错误语言环境</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Xresources_%E6%9C%AA%E8%A2%AB%E6%AD%A3%E5%B8%B8%E8%A7%A3%E6%9E%90"><span class="tocnumber">6.2</span> <span class="toctext">Xresources 未被正常解析</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#%E4%BD%BF%E7%94%A8_GTK_greeter_%E4%B8%A2%E5%A4%B1%E5%9B%BE%E6%A0%87"><span class="tocnumber">6.3</span> <span class="toctext">使用 GTK greeter 丢失图标</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#LightDM_%E5%9C%A8%E7%99%BB%E5%BD%95%E6%8F%90%E7%A4%BA%E7%AC%A6%E5%A4%84%E5%86%BB%E7%BB%93"><span class="tocnumber">6.4</span> <span class="toctext">LightDM 在登录提示符处冻结</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#LigthDM_%E6%98%BE%E7%A4%BA%E5%9C%A8%E9%94%99%E8%AF%AF%E7%9A%84%E6%98%BE%E7%A4%BA%E5%99%A8%E4%B8%8A"><span class="tocnumber">6.5</span> <span class="toctext">LigthDM 显示在错误的显示器上</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#LightDM_%E4%B8%8D%E5%87%BA%E7%8E%B0"><span class="tocnumber">6.6</span> <span class="toctext">LightDM 不出现</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#Pulseaudio_%E4%B8%8D%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8"><span class="tocnumber">6.7</span> <span class="toctext">Pulseaudio 不自动启动</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-31"><a href="#%E5%8F%A6%E8%A7%81"><span class="tocnumber">7</span> <span class="toctext">另见</span></a></li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="安装">安装</span>
</h2>
<p><a href="../zh-CN/Help:Reading.html#%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8C%85" class="mw-redirect" title="安装">安装</a> 软件包 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm">lightdm</a></span>. 注意稳定版版本号是偶数的 (1.8, 1.10) 而开发版是奇数的 (1.9, 1.11). 开发版可以安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lightdm-devel/">lightdm-devel</a></span><sup><small>AUR</small></sup> 或者 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lightdm-bzr/">lightdm-bzr</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：package not found]</sup>.
</p>
<h3><span class="mw-headline" id="Greeter">Greeter</span></h3>
<p>可能需要安装一个 greeter。 greeter 是提示用户输入密码的 GUI 界面。如果配置了自动登录，可以不使用 greeter。参考的 greeter 是 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-gtk-greeter">lightdm-gtk-greeter</a></span>，默认的配置会使用它。
</p>
<p>官方软件仓库包含如下 greeter:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-kde-greeter">lightdm-kde-greeter</a></span><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：package not found]</sup>: KDE4 greeter.</li>
<li>lightdm-deepin-greeter (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=deepin-session-ui">deepin-session-ui</a></span>): <a href="../en/Deepin_Desktop_Environment.html" title="Deepin Desktop Environment">Deepin</a> 桌面提供.</li>
</ul>
<p>其他的 greeter 可以从 <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a> 安装:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-webkit2-greeter">lightdm-webkit2-greeter</a></span>: 一个用 Webkit2 做主题引擎的 greeter. 替代 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lightdm-webkit-greeter/">lightdm-webkit-greeter</a></span><sup><small>AUR</small></sup>。</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lightdm-unity-greeter/">lightdm-unity-greeter</a></span><sup><small>AUR</small></sup>: Ubuntu <a href="../en/ArchWiki:Archive.html" class="mw-redirect" title="Unity">Unity</a> 使用的 greeter.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-pantheon-greeter">lightdm-pantheon-greeter</a></span>: 一个来自 ElementaryOS Project 的 greeter.</li>
</ul>
<p>你可以通过更改配置文件的 <code>[Seat:*]</code> 部分设置 greeter:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/lightdm.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Seat:*]
...
greeter-session=lightdm-yourgreeter-greeter</pre>
<p>通过下面命令可以获取 <code>greeter-session</code> 的可用选项，<code>/usr/share/xgreeters</code> 目录下的每个 <code>.desktop</code> 目录都代表一个可用 greeter。下面例子中包含 <code>lightdm-gtk-greeter</code> 和 <code>lightdm-kde-greeter</code>:
</p>
<pre>$ ls -1 /usr/share/xgreeters/
lightdm-gtk-greeter.desktop
lightdm-kde-greeter.desktop
</pre>
<h2>
<span id=".E5.90.AF.E7.94.A8_LightDM"></span><span class="mw-headline" id="启用_LightDM">启用 LightDM</span>
</h2>
<p>确保<a href="../en/Systemd.html#Using_units" title="Systemd">使用 systemctl</a> 启用 <code>lightdm.service</code>, 如此 LightDM 将会开机启动。参考 <a href="../en/Display_manager.html#Loading_the_display_manager" title="Display manager">Display manager#Loading the display manager</a>。
</p>
<h2>
<span id=".E5.91.BD.E4.BB.A4.E8.A1.8C.E5.B7.A5.E5.85.B7"></span><span class="mw-headline" id="命令行工具">命令行工具</span>
</h2>
<p>LightDM 提供一个命令行工具, <code>dm-tool</code>. 它可用来锁定当前 seat, 切换会话，等等。这对'极简'窗口管理器和测试非常有用。要列出可用命令，运行:
</p>
<pre>$ dm-tool --help
</pre>
<h2>
<span id=".E6.B5.8B.E8.AF.95"></span><span class="mw-headline" id="测试">测试</span>
</h2>
<p>首先，<a href="../zh-CN/Pacman.html" title="Pacman (简体中文)">安装</a> 软件包 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-server-xephyr">xorg-server-xephyr</a></span>.
</p>
<p>之后，把 LightDM 作为 X 程序启动:
</p>
<pre>$ lightdm --test-mode --debug
</pre>
<h2>
<span id=".E9.85.8D.E7.BD.AE.E5.92.8C.E8.B0.83.E6.95.B4"></span><span class="mw-headline" id="配置和调整">配置和调整</span>
</h2>
<p><code>/etc/lightdm/lightdm.conf</code> 包含 LightDM 的默认配置。某些 greeter 拥有自己的配置文件。例如 
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-gtk-greeter">lightdm-gtk-greeter</a></span>: <code>/etc/lightdm/lightdm-gtk-greeter.conf</code>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-webkit2-greeter">lightdm-webkit2-greeter</a></span>: <code>/etc/lightdm/lightdm-webkit2-greeter.conf</code>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-kde-greeter">lightdm-kde-greeter</a></span><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：package not found]</sup>: <code>/etc/lightdm/lightdm-kde-greeter.conf</code>
</li>
</ul>
<p>可以直接修改 LightDM 的配置文件，或者使用位于 <code>/usr/lib/lightdm/lightdm/</code> 的 <code>lightdm-set-defaults</code>程序。想知道一些可用选项，执行:
</p>
<pre>$ man lightdm-set-defaults
</pre>
<p>然而一大部分变量要直接编辑配置文件而不是使用 <code>lightdm-set-defaults</code> 程序。
</p>
<h3>
<span id=".E6.9B.B4.E6.94.B9.E8.83.8C.E6.99.AF.E5.9B.BE.E7.89.87.2F.E9.A2.9C.E8.89.B2"></span><span class="mw-headline" id="更改背景图片/颜色">更改背景图片/颜色</span>
</h3>
<p>如果您想使用一个纯色 (非图片) 的背景，只需将 <code>background</code> 变量设置为十六进制的颜色。
</p>
<p>例如:
</p>
<pre>background=#000000
</pre>
<p>如果你想用图像来代替，请看下文。
</p>
<h4>
<span id="GTK.2B_greeter"></span><span class="mw-headline" id="GTK+_greeter">GTK+ greeter</span>
</h4>
<p>可以使用 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-gtk-greeter-settings">lightdm-gtk-greeter-settings</a></span> 图形界面进行设置。
</p>
<p>如果需要在 greeter 上使用自定义图片，请修改 <code>/etc/lightdm/lightdm-gtk-greeter.conf</code> 中的 <code>background</code> 变量值。变量位于 <code>[greeter]</code> 会话，例如:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/lightdm-gtk-greeter.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[greeter]
background=/usr/share/pixmaps/black_and_white_photography-wallpaper-1920x1080.jpg</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 建议将 PNG 或 JPG 文件放到 <code>/usr/share/pixmaps</code>，因为 LightDM 用户需要有背景文件的读取权限。</div>
<h4><span class="mw-headline" id="Webkit2_greeter">Webkit2 greeter</span></h4>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-webkit2-greeter">lightdm-webkit2-greeter</a></span> allows you to choose a background image directly on the login screen. It also offers an option to display a random image each time it starts. By default, images are sourced from <code>/usr/share/backgrounds</code>. You can change the background images directory by editing <code>lightdm-webkit2-greeter.conf</code>. For example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/lightdm-webkit2-greeter.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[branding]
background_images = /usr/share/backgrounds</pre>
<h4><span class="mw-headline" id="Unity_greeter">Unity greeter</span></h4>
<p>如果使用的是 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lightdm-unity-greeter/">lightdm-unity-greeter</a></span><sup><small>AUR</small></sup>，请修改 <code>/usr/share/glib-2.0/schemas/com.canonical.unity-greeter.gschema.xml</code>，然后执行:
</p>
<pre># glib-compile-schemas /usr/share/glib-2.0/schemas/
</pre>
<p>可以参考<a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=149945">这个</a>页面。
</p>
<h4><span class="mw-headline" id="KDE_greeter">KDE greeter</span></h4>
<p>转到 <i>系统设置 &gt; 登录界面 (LightDM)</i> 设置你的主题与背景图片。
</p>
<h3>
<span id=".E6.94.B9.E5.8F.98.E4.BD.A0.E7.9A.84.E5.A4.B4.E5.83.8F"></span><span class="mw-headline" id="改变你的头像">改变你的头像</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> If you are using KDE, you can change your avatar in KDE System Settings.</div>
<p>首先确保已安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=accountsservice">accountsservice</a></span> 软件包，然后如下设置，把 <code><i>username</i></code> 替换为目标用户的登录名。文件名中不要加 <i>.png</i> 后缀。
</p>
<ul><li>编辑或创建 <code>/var/lib/AccountsService/users/<i>username</i></code>, 添加如下内容:</li></ul>
<pre>[User]
Icon=/var/lib/AccountsService/icons/<i>username.png</i>
</pre>
<p>I
</p>
<ul><li>使用 96x96 PNG 图表文件来创建 <code>/var/lib/AccountsService/icons/<i>username.png</i></code>.</li></ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 确保创建的文件都是 644 权限，使用 <a href="../en/File_permissions_and_attributes.html#Changing_permissions" class="mw-redirect" title="Chmod">chmod</a> 来更正。</div>
<h3>
<span id="Arch_.E4.B8.BA.E4.B8.AD.E5.BF.83.E7.9A.84_64x64_.E5.9B.BE.E6.A0.87.E6.9D.A5.E6.BA.90"></span><span class="mw-headline" id="Arch_为中心的_64x64_图标来源">Arch 为中心的 64x64 图标来源</span>
</h3>
<p><a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a> 的 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/archlinux-artwork/">archlinux-artwork</a></span><sup><small>AUR</small></sup> 软件包包含了一些不错的例子。它们被安装到 <code>/usr/share/archlinux/icons</code>, 可如下复制到 <code>/usr/share/icons/hicolor/64x64/devices</code>:
</p>
<pre># find /usr/share/archlinux/icons -name "*64*" -exec cp {} /usr/share/icons/hicolor/64x64/devices \;
</pre>
<p>复制之后，可删除 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/archlinux-artwork/">archlinux-artwork</a></span><sup><small>AUR</small></sup>.
</p>
<h3>
<span id=".E5.90.AF.E7.94.A8.E8.87.AA.E5.8A.A8.E7.99.BB.E5.BD.95"></span><span class="mw-headline" id="启用自动登录">启用自动登录</span>
</h3>
<p>编辑 LightDM 配置文件，取消该行的注释，并添加要自动登陆的用户名:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/lightdm.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">autologin-user=<i>username</i></pre>
<p>你必须是 <code>autologin</code> 组的成员来使得自己登录时不用输入密码:
</p>
<pre># groupadd autologin
# gpasswd -a <i>username</i> autologin
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> GNOME 用户, 更一般地 gnome-keyring 用户需要把他们的密码环设置一个空白密码以自动禁用。</div>
<h3>
<span id=".E5.90.AF.E7.94.A8.E6.97.A0.E5.AF.86.E7.A0.81.E4.BA.A4.E4.BA.92.E7.99.BB.E5.BD.95"></span><span class="mw-headline" id="启用无密码交互登录">启用无密码交互登录</span>
</h3>
<p>LightDM goes through PAM so you must configure the lightdm configuration of PAM:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pam.d/lightdm</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#%PAM-1.0
<b>auth        sufficient  pam_succeed_if.so user ingroup nopasswdlogin</b>
auth        include     system-login
...</pre>
<p>You must then also be part of the <code>nopasswdlogin</code> group to be able to login interactively without entering your password:
</p>
<pre># groupadd -r nopasswdlogin
# gpasswd -a <i>username</i> nopasswdlogin
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> GNOME users, and by extension any gnome-keyring user may have to follow the instructions at the end of the previous section on enabling autologin.</div>
<p>To create a new user account that logs in automatically and additionally able to login again without a password the user can be created with supplementary membership of both groups, e.g.:
</p>
<pre># useradd -mG autologin,nopasswdlogin -s /bin/bash <i>username</i>
</pre>
<h3>
<span id=".E9.9A.90.E8.97.8F.E7.B3.BB.E7.BB.9F.E5.92.8C.E6.9C.8D.E5.8A.A1.E7.94.A8.E6.88.B7"></span><span class="mw-headline" id="隐藏系统和服务用户">隐藏系统和服务用户</span>
</h3>
<p>为防止系统用户出现在登录界面，安装可选依赖 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=accountsservice">accountsservice</a></span>, 或者把这些用户名添加到 <code>/etc/lightdm/users.conf</code> 下的 <code>hidden-users</code> 里。前者优势在于添加/删除用户时不用更新列表。
</p>
<h3>
<span id=".E4.BB.8E_SLiM_.E8.BF.81.E7.A7.BB"></span><span class="mw-headline" id="从_SLiM_迁移">从 SLiM 迁移</span>
</h3>
<p>把 <a href="../en/Xinit.html#xinitrc" class="mw-redirect" title="Xinitrc">xinitrc</a> 的内容搬到 <a href="../en/Xprofile.html" title="Xprofile">xprofile</a>, 删除调用<a href="../zh-CN/Window_manager.html" class="mw-redirect" title="窗口管理器">窗口管理器</a>或<a href="../zh-CN/Desktop_environment.html" class="mw-redirect" title="桌面环境">桌面环境</a>的部分。
</p>
<h3>
<span id=".E9.BB.98.E8.AE.A4.E6.89.93.E5.BC.80.E5.B0.8F.E9.94.AE.E7.9B.98"></span><span class="mw-headline" id="默认打开小键盘">默认打开小键盘</span>
</h3>
<p>安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=numlockx">numlockx</a></span>, 编辑 <code>/etc/lightdm/lightdm.conf</code> 添加以下几行:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/lightdm.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Seat:*]
greeter-setup-script=/usr/bin/numlockx on</pre>
<h3>
<span id="Xfce4_.E4.B8.8B.E5.A4.9A.E7.94.A8.E6.88.B7.E5.88.87.E6.8D.A2"></span><span class="mw-headline" id="Xfce4_下多用户切换">Xfce4 下多用户切换</span>
</h3>
<p>如果您使用 <a href="../en/Xfce.html" title="Xfce">Xfce</a> 桌面，在应用程序启动器/Whisker Menu 的活动按钮的多用户切换功能会特别关注 <i>gdmflexiserver</i> 可执行程序以启用自身。如果你提供了一个可执行 Shell 脚本 <code>/usr/bin/gdmflexiserver</code> 并且它包含
</p>
<pre>#!/bin/sh
/usr/bin/dm-tool switch-to-greeter
</pre>
<p>如此 Xfce 下多用户切换应该在 Lightdm 有效。
</p>
<p>Alternatively, if you use the Whisker Menu, you can go to Properties -&gt; Commands and change the "Switch Users" command directly to:
</p>
<pre> dm-tool switch-to-greeter
</pre>
<p>你也可从 <a href="../en/XScreenSaver.html" title="XScreenSaver">XScreenSaver</a> 锁屏界面切换用户 - 参见 <a href="../en/XScreenSaver.html#Lightdm" title="XScreenSaver">XScreenSaver#Lightdm</a><sup>[<a href="../en/ArchWiki:Requests.html#Broken_section_links" class="mw-redirect" title="ArchWiki:Requests">断开的链接</a>：无效的部分]</sup>.
</p>
<h3>
<span id=".E9.BB.98.E8.AE.A4.E4.BC.9A.E8.AF.9D"></span><span class="mw-headline" id="默认会话">默认会话</span>
</h3>
<p>Lightdm, 像其他 DM 一样，把上次选择的 xsession 存储在 <code>~/.dmrc</code>. 更多信息见 <a href="../en/Display_manager.html#Session_list" title="Display manager">Display manager#Session_list</a><sup>[<a href="../en/ArchWiki:Requests.html#Broken_section_links" class="mw-redirect" title="ArchWiki:Requests">断开的链接</a>：无效的部分]</sup>.
</p>
<h3>
<span id=".E4.BF.AE.E6.94.B9.E7.99.BB.E5.BD.95.E7.AA.97.E5.8F.A3.E7.9A.84.E4.BD.8D.E7.BD.AE"></span><span class="mw-headline" id="修改登录窗口的位置">修改登录窗口的位置</span>
</h3>
<h4>
<span id="GTK.2B_greeter_2"></span><span class="mw-headline" id="GTK+_greeter_2">GTK+ greeter</span>
</h4>
<p>编辑 <code>/etc/lightdm/lightdm-gtk-greeter.conf</code> 文件，设置 <code>position</code>，这个设置接受 <code>x</code> 和 <code>y</code> 变量，可以使用绝对值(pixels)或相对值(percent). 每个变量都可以增加一个额外的锚定位置 <code>start</code>, <code>center</code> 和 <code>end</code>，数值间用 comma 分隔.
</p>
<p>Example:
</p>
<pre>position=200,start 50%,center
</pre>
<h2>
<span id=".E7.96.91.E9.9A.BE.E9.97.AE.E9.A2.98"></span><span class="mw-headline" id="疑难问题">疑难问题</span>
</h2>
<p>如果你一直屏幕闪烁并且启动后没有 lightdm, 确保你已在 lightdm 的配置文件里正确设置了 greeter. 如果你正确设置了 GTK greeter, 确保 <code>xsessions-directory</code> (默认是: <code>/usr/share/xsessions</code>) 存在并且至少包含一个 .desktop 文件。
</p>
<p>如果你上次选择的会话永久失效了，lightdm 启动时也可能有同样问题 (例如上次使用的是 gnome 并删除了 gnome-session 软件包): 最简单的解决方法就是恢复删掉的软件包。另一个可能的解决是:
</p>
<pre># dbus-send --system --type=method_call --print-reply --dest=org.freedesktop.Accounts /org/freedesktop/Accounts/User1000 org.freedesktop.Accounts.User.SetXSession string:xfce
</pre>
<p>此例为用户 1000 设置默认会话为 "xfce".
</p>
<h3>
<span id=".E6.98.BE.E7.A4.BA.E9.94.99.E8.AF.AF.E8.AF.AD.E8.A8.80.E7.8E.AF.E5.A2.83"></span><span class="mw-headline" id="显示错误语言环境">显示错误语言环境</span>
</h3>
<p>如果 Lightdm 未正常显示你的语言环境，把你的语言环境添加到 <code>/etc/environment</code> (自己酌情更改)
</p>
<pre> LANG=pt_PT.utf8
</pre>
<h3>
<span id="Xresources_.E6.9C.AA.E8.A2.AB.E6.AD.A3.E5.B8.B8.E8.A7.A3.E6.9E.90"></span><span class="mw-headline" id="Xresources_未被正常解析">Xresources 未被正常解析</span>
</h3>
<p>当你的 <a href="../en/X_resources.html" class="mw-redirect" title="Xresources">Xresources</a> 文件未被预处理器加载时，会导致一个 LightDM 的上游 <a rel="nofollow" class="external text" href="https://bugs.launchpad.net/lightdm/+bug/1084885">bug</a>. 在实际中，这意味着使用 <code>#define</code> 设置的变量在之后调用时没有被扩展。如果你使用 urxvt 的自定义颜色时，这会表现为一个全粉色的屏幕。要修复，编辑 <code>/etc/lightdm/Xsession</code> 并搜索以下内容:
</p>
<pre>xrdb -nocpp -merge "$file"
</pre>
<p>更改为读取:
</p>
<pre>xrdb -merge "$file"
</pre>
<p>你的 Xresources 会正常加载并且变量会正常扩展。
</p>
<h3>
<span id=".E4.BD.BF.E7.94.A8_GTK_greeter_.E4.B8.A2.E5.A4.B1.E5.9B.BE.E6.A0.87"></span><span class="mw-headline" id="使用_GTK_greeter_丢失图标">使用 GTK greeter 丢失图标</span>
</h3>
<p>如果你把 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-gtk-greeter">lightdm-gtk-greeter</a></span> 作为 greeter 并且它把占位符图像显示为图标，确保已安装和正确配置有效的图标主题和主题。检查如下文件:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/lightdm-gtk-greeter.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[greeter]
theme-name=mate      # this should be the name of a directory under /usr/share/themes/
icon-theme-name=mate # this should be the name of a fully featured icons set directory under /usr/share/icons/</pre>
<h3>
<span id="LightDM_.E5.9C.A8.E7.99.BB.E5.BD.95.E6.8F.90.E7.A4.BA.E7.AC.A6.E5.A4.84.E5.86.BB.E7.BB.93"></span><span class="mw-headline" id="LightDM_在登录提示符处冻结">LightDM 在登录提示符处冻结</span>
</h3>
<p>你会发现当输入正确的用户名和密码尝试登录时 LightDM 冻结，你无法进入桌面。为修复，重新安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gdk-pixbuf2">gdk-pixbuf2</a></span> 软件包。参见 <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=179031">这个</a>论坛帖子。
</p>
<h3>
<span id="LigthDM_.E6.98.BE.E7.A4.BA.E5.9C.A8.E9.94.99.E8.AF.AF.E7.9A.84.E6.98.BE.E7.A4.BA.E5.99.A8.E4.B8.8A"></span><span class="mw-headline" id="LigthDM_显示在错误的显示器上">LigthDM 显示在错误的显示器上</span>
</h3>
<p>如果你使用的多显示器，LightDM 可能会显示在不该出现的那一个上 (例如: 主显示器在左边). 为强制 LightDM 登录界面显示在特定的显示器上，编辑 <code>/etc/lightdm/lightdm.conf</code> 更改 <i>display-setup-script</i> 参数如下: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/lightdm.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">display-setup-script=xrandr --output <i>HDMI1</i> --primary</pre>
<p>替换 <i>HDMI1</i> 为你的正确的显示器 ID, 可从 <b>xrandr</b> 命令输出获取。
</p>
<h3>
<span id="LightDM_.E4.B8.8D.E5.87.BA.E7.8E.B0"></span><span class="mw-headline" id="LightDM_不出现">LightDM 不出现</span>
</h3>
<p>可能系统启动太快了，LightDM 服务在图形驱动加载前就启动了。如果是这样，将下面配置加入 lightdm.conf 文件:
</p>
<pre>   [LightDM]
   logind-check-graphical=true
</pre>
<p>设置后 LightDM 会等待图形驱动加载完成后再启动 greeters/autostarting 会话。
</p>
<h3>
<span id="Pulseaudio_.E4.B8.8D.E8.87.AA.E5.8A.A8.E5.90.AF.E5.8A.A8"></span><span class="mw-headline" id="Pulseaudio_不自动启动">Pulseaudio 不自动启动</span>
</h3>
<p>见 <a href="../en/PulseAudio.html#Running" title="PulseAudio">PulseAudio#Running</a>。
</p>
<h2>
<span id=".E5.8F.A6.E8.A7.81"></span><span class="mw-headline" id="另见">另见</span>
</h2>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=light-locker">light-locker</a></span>, a screen locker using LightDM.</li>
<li><a rel="nofollow" class="external text" href="https://wiki.ubuntu.com/LightDM">Ubuntu Wiki article</a></li>
<li><a rel="nofollow" class="external text" href="http://wiki.gentoo.org/wiki/LightDM">Gentoo Wiki article</a></li>
<li><a rel="nofollow" class="external text" href="https://launchpad.net/lightdm">Launchpad Page</a></li>
<li><a rel="nofollow" class="external text" href="http://www.mattfischer.com/blog/?tag=lightdm">LightDM blog</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../zh-CN/Category:Display_managers.html" title="Category:Display managers (简体中文)">Display managers (简体中文)</a></li>
<li><a href="../zh-CN/Category:Canonical.html" title="Category:Canonical (简体中文)">Canonical (简体中文)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=LightDM_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=638486">https://wiki.archlinux.org/index.php?title=LightDM_(简体中文)&amp;oldid=638486</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 14 October 2020, at 07:14.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
