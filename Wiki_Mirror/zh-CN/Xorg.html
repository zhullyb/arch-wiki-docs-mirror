<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Xorg (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Xorg_简体中文 rootpage-Xorg_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Xorg (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>相关文章</p>
<ul>
<li><a href="../en/Autostarting.html" title="Autostarting">Autostarting</a></li>
<li><a href="../zh-CN/Display_manager.html" class="mw-redirect" title="Display Manager (简体中文)">显示管理器</a></li>
<li><a href="../zh-CN/Window_manager.html" class="mw-redirect" title="Window Manager (简体中文)">窗口管理器</a></li>
<li><a href="../zh-CN/Font_configuration.html" class="mw-redirect" title="Font Configuration (简体中文)">字体配置</a></li>
<li><a href="../zh-CN/Cursor_themes.html" title="Cursor themes (简体中文)">光标主题</a></li>
<li><a href="../zh-CN/Desktop_environment.html" class="mw-redirect" title="Desktop Environment (简体中文)">桌面环境</a></li>
<li><a href="../zh-CN/Wayland.html" title="Wayland (简体中文)">Wayland</a></li>
<li><a href="../en/Xinit.html" title="Xinit">xinit</a></li>
<li><a href="../en/Xrandr.html" title="Xrandr">xrandr</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="../en/Xorg.html" title="Xorg">Xorg</a> 的<a href="../zh-CN/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2020-9-23。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Xorg&amp;diff=0&amp;oldid=637695">更改</a>，则您可以帮助同步翻译。</div>
<p>摘自 <a rel="nofollow" class="external free" href="https://www.x.org/wiki/">https://www.x.org/wiki/</a>:
</p>
<dl><dd>X.Org 项目提供了 X 窗口系统的开源实现。开发工作实在 freedesktop.org 社区的通力合作下完成。X.Org 组织是非盈利教育机构，其董事会为这项工作服务，其成员领导这项工作。</dd></dl>
<p>Xorg （通常简称为 X）在 Linux 用户中非常流行，已经成为图形用户程序的必备条件，所以大部分发行版都提供了它。详情参见 <a href="https://en.wikipedia.org/wiki/X.Org_Server" class="extiw" title="wikipedia:X.Org Server">Xorg</a> 维基文章或访问<a rel="nofollow" class="external text" href="https://www.x.org/wiki/">Xorg 网站</a>。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%E5%AE%89%E8%A3%85"><span class="tocnumber">1</span> <span class="toctext">安装</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#%E9%A9%B1%E5%8A%A8%E5%AE%89%E8%A3%85"><span class="tocnumber">1.1</span> <span class="toctext">驱动安装</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#AMD"><span class="tocnumber">1.2</span> <span class="toctext">AMD</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="#%E8%BF%90%E8%A1%8C"><span class="tocnumber">2</span> <span class="toctext">运行</span></a></li>
<li class="toclevel-1 tocsection-5">
<a href="#%E9%85%8D%E7%BD%AE"><span class="tocnumber">3</span> <span class="toctext">配置</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#%E4%BD%BF%E7%94%A8_.conf_%E6%96%87%E4%BB%B6"><span class="tocnumber">3.1</span> <span class="toctext">使用 .conf 文件</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#%E4%BD%BF%E7%94%A8_xorg.conf"><span class="tocnumber">3.2</span> <span class="toctext">使用 xorg.conf</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8">
<a href="#%E8%BE%93%E5%85%A5%E8%AE%BE%E5%A4%87"><span class="tocnumber">4</span> <span class="toctext">输入设备</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#%E8%BE%93%E5%85%A5%E6%98%A0%E5%B0%84"><span class="tocnumber">4.1</span> <span class="toctext">输入映射</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#%E9%BC%A0%E6%A0%87%E5%8A%A0%E9%80%9F"><span class="tocnumber">4.2</span> <span class="toctext">鼠标加速</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#%E6%89%A9%E5%B1%95%E9%BC%A0%E6%A0%87%E6%8C%89%E9%94%AE"><span class="tocnumber">4.3</span> <span class="toctext">扩展鼠标按键</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#%E8%A7%A6%E6%91%B8%E6%9D%BF"><span class="tocnumber">4.4</span> <span class="toctext">触摸板</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#%E8%A7%A6%E6%91%B8%E5%B1%8F"><span class="tocnumber">4.5</span> <span class="toctext">触摸屏</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#%E9%94%AE%E7%9B%98%E8%AE%BE%E7%BD%AE"><span class="tocnumber">4.6</span> <span class="toctext">键盘设置</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15">
<a href="#%E6%98%BE%E7%A4%BA%E5%99%A8%E8%AE%BE%E7%BD%AE"><span class="tocnumber">5</span> <span class="toctext">显示器设置</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#%E5%BC%80%E5%A7%8B"><span class="tocnumber">5.1</span> <span class="toctext">开始</span></a></li>
<li class="toclevel-2 tocsection-17">
<a href="#%E5%A4%9A%E4%B8%AA%E6%98%BE%E7%A4%BA%E5%99%A8"><span class="tocnumber">5.2</span> <span class="toctext">多个显示器</span></a>
<ul>
<li class="toclevel-3 tocsection-18"><a href="#%E5%A4%9A%E4%BA%8E%E4%B8%80%E4%B8%AA%E6%98%BE%E5%8D%A1"><span class="tocnumber">5.2.1</span> <span class="toctext">多于一个显卡</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-19">
<a href="#%E6%98%BE%E7%A4%BA%E5%A4%A7%E5%B0%8F%E5%92%8C_DPI"><span class="tocnumber">5.3</span> <span class="toctext">显示大小和 DPI</span></a>
<ul>
<li class="toclevel-3 tocsection-20">
<a href="#%E6%89%8B%E5%8A%A8%E8%AE%BE%E7%BD%AEDPI"><span class="tocnumber">5.3.1</span> <span class="toctext">手动设置DPI</span></a>
<ul>
<li class="toclevel-4 tocsection-21"><a href="#%E4%B8%93%E6%9C%89%E7%9A%84NVIDIA%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F"><span class="tocnumber">5.3.1.1</span> <span class="toctext">专有的NVIDIA驱动程序</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-22"><a href="#DPMS"><span class="tocnumber">5.4</span> <span class="toctext">DPMS</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-23">
<a href="#%E5%90%88%E6%88%90"><span class="tocnumber">6</span> <span class="toctext">合成</span></a>
<ul>
<li class="toclevel-2 tocsection-24"><a href="#%E5%90%88%E6%88%90%E7%AE%A1%E7%90%86%E5%99%A8%E5%88%97%E4%B8%BE"><span class="tocnumber">6.1</span> <span class="toctext">合成管理器列举</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-25">
<a href="#%E6%8A%80%E5%B7%A7%E5%92%8C%E6%8A%80%E5%B7%A7"><span class="tocnumber">7</span> <span class="toctext">技巧和技巧</span></a>
<ul>
<li class="toclevel-2 tocsection-26"><a href="#%E8%87%AA%E5%8A%A8%E5%8C%96"><span class="tocnumber">7.1</span> <span class="toctext">自动化</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#%E5%B5%8C%E5%A5%97_X_%E4%BC%9A%E8%AF%9D"><span class="tocnumber">7.2</span> <span class="toctext">嵌套 X 会话</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#%E8%BF%9C%E7%A8%8B%E5%90%AF%E5%8A%A8_GUI_%E7%A8%8B%E5%BA%8F"><span class="tocnumber">7.3</span> <span class="toctext">远程启动 GUI 程序</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#%E6%8C%89%E9%9C%80%E7%A6%81%E7%94%A8%E5%92%8C%E5%90%AF%E7%94%A8%E8%BE%93%E5%85%A5%E6%BA%90"><span class="tocnumber">7.4</span> <span class="toctext">按需禁用和启用输入源</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#%E4%BD%BF%E7%94%A8%E7%83%AD%E5%BB%BA%E7%BB%93%E6%9D%9F%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="tocnumber">7.5</span> <span class="toctext">使用热建结束应用程序</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#%E9%98%BB%E6%AD%A2_TTY_%E8%AE%BF%E9%97%AE"><span class="tocnumber">7.6</span> <span class="toctext">阻止 TTY 访问</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#%E9%98%B2%E6%AD%A2%E7%94%A8%E6%88%B7%E7%BB%93%E6%9D%9F_X"><span class="tocnumber">7.7</span> <span class="toctext">防止用户结束 X</span></a></li>
<li class="toclevel-2 tocsection-33">
<a href="#%E6%B2%A1%E6%9C%89_root_%E6%9D%83%E9%99%90%E7%9A%84_Xorg"><span class="tocnumber">7.8</span> <span class="toctext">没有 root 权限的 Xorg</span></a>
<ul>
<li class="toclevel-3 tocsection-34"><a href="#Using_xinitrc"><span class="tocnumber">7.8.1</span> <span class="toctext">Using xinitrc</span></a></li>
<li class="toclevel-3 tocsection-35"><a href="#Using_GDM"><span class="tocnumber">7.8.2</span> <span class="toctext">Using GDM</span></a></li>
<li class="toclevel-3 tocsection-36"><a href="#Session_log_redirection"><span class="tocnumber">7.8.3</span> <span class="toctext">Session log redirection</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-37">
<a href="#%E6%95%85%E9%9A%9C%E5%92%8C%E4%BF%AE%E5%A4%8D"><span class="tocnumber">8</span> <span class="toctext">故障和修复</span></a>
<ul>
<li class="toclevel-2 tocsection-38"><a href="#%E9%80%9A%E7%94%A8%E9%97%AE%E9%A2%98"><span class="tocnumber">8.1</span> <span class="toctext">通用问题</span></a></li>
<li class="toclevel-2 tocsection-39"><a href="#%E9%BB%91%E5%B1%8F%EF%BC%8C%E6%B2%A1%E6%9C%89%E6%8C%87%E5%AE%9A%E5%8D%8F%E8%AE%AE..%EF%BC%8C%E8%B5%84%E6%BA%90%E6%9A%82%E6%97%B6%E4%B8%8D%E5%8F%AF%E7%94%A8%E7%AD%89%E9%97%AE%E9%A2%98"><span class="tocnumber">8.2</span> <span class="toctext">黑屏，没有指定协议..，资源暂时不可用等问题</span></a></li>
<li class="toclevel-2 tocsection-40"><a href="#Matrox%E6%98%BE%E5%8D%A1%E7%9A%84DRI%E5%8A%9F%E8%83%BD%E5%A4%B1%E6%95%88"><span class="tocnumber">8.3</span> <span class="toctext">Matrox显卡的DRI功能失效</span></a></li>
<li class="toclevel-2 tocsection-41"><a href="#%E6%97%A0%E6%B3%95%E8%BF%90%E8%A1%8C%E5%9C%A8frambuffer%E6%A8%A1%E5%BC%8F%E4%B8%8B"><span class="tocnumber">8.4</span> <span class="toctext">无法运行在frambuffer模式下</span></a></li>
<li class="toclevel-2 tocsection-42"><a href="#%E6%97%A0%E6%B3%95%E5%8A%A0%E8%BD%BD'(null)'%E5%AD%97%E4%BD%93"><span class="tocnumber">8.5</span> <span class="toctext">无法加载'(null)'字体</span></a></li>
<li class="toclevel-2 tocsection-43"><a href="#%E4%BF%AE%E5%A4%8D%EF%BC%9A%E5%9C%A8%E5%87%BA%E7%8E%B0GUI%E7%99%BB%E5%BD%95%E7%95%8C%E9%9D%A2%E4%B9%8B%E5%89%8D%EF%BC%8C%E4%B8%8D%E5%90%AF%E5%8A%A8Xorg"><span class="tocnumber">8.6</span> <span class="toctext">修复：在出现GUI登录界面之前，不启动Xorg</span></a></li>
<li class="toclevel-2 tocsection-44"><a href="#%E6%97%A0%E6%B3%95%E7%94%A8%22su%22%E4%BB%A5root%E8%BA%AB%E4%BB%BD%E5%90%AF%E5%8A%A8X%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="tocnumber">8.7</span> <span class="toctext">无法用"su"以root身份启动X客户端</span></a></li>
<li class="toclevel-2 tocsection-45"><a href="#X_%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5%EF%BC%9A%E9%94%AE%E7%9B%98%E5%88%9D%E5%A7%8B%E5%8C%96%E5%A4%B1%E8%B4%A5"><span class="tocnumber">8.8</span> <span class="toctext">X 启动失败：键盘初始化失败</span></a></li>
<li class="toclevel-2 tocsection-46"><a href="#%E6%83%B3%E7%9C%8B%E8%A7%86%E9%A2%91%E6%97%B6%E5%B1%8F%E5%B9%95%E6%80%BB%E6%98%AF%E7%BB%BF%E8%89%B2"><span class="tocnumber">8.9</span> <span class="toctext">想看视频时屏幕总是绿色</span></a></li>
<li class="toclevel-2 tocsection-47"><a href="#SocketCreateListener_error"><span class="tocnumber">8.10</span> <span class="toctext">SocketCreateListener error</span></a></li>
<li class="toclevel-2 tocsection-48"><a href="#%E6%83%B3%E8%A6%81%E4%BB%A5_root_%E6%9D%83%E9%99%90%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F%E6%97%B6%E5%87%BA%E7%8E%B0_%E6%97%A0%E6%95%88%E7%9A%84_MIT-MAGIC-COOKIE-1_%E5%AF%86%E9%92%A5"><span class="tocnumber">8.11</span> <span class="toctext">想要以 root 权限运行程序时出现 无效的 MIT-MAGIC-COOKIE-1 密钥</span></a></li>
<li class="toclevel-2 tocsection-49"><a href="#Xorg-server_%E8%87%B4%E5%91%BD%E9%94%99%E8%AF%AF%EF%BC%9A_(EE)_AddScreen/ScreenInit"><span class="tocnumber">8.12</span> <span class="toctext">Xorg-server 致命错误： (EE) AddScreen/ScreenInit</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-50"><a href="#%E5%8F%A6%E8%AF%B7%E5%8F%82%E9%98%85"><span class="tocnumber">9</span> <span class="toctext">另请参阅</span></a></li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="安装">安装</span>
</h2>
<p><a href="../zh-CN/Help:Reading.html#%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8C%85" class="mw-redirect" title="安装">安装</a> 软件包 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-server">xorg-server</a></span>。
</p>
<p>此外，<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/xorg-apps/">xorg-apps</a></span> 组提供了一些程序以完成某些特定的配置工作。
</p>
<p>软件包组 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/xorg/">xorg</a></span> 包含了 Xorg server，<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/xorg-apps/">xorg-apps</a></span> 中的软件包以及字体. 
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 用户通常需要选择安装某个 <a href="../zh-CN/Window_manager.html" title="Window manager (简体中文)">窗口管理器</a> 或 <a href="../zh-CN/Desktop_environment.html" title="Desktop environment (简体中文)">桌面环境</a>以配合使用 X。</div>
<h3>
<span id=".E9.A9.B1.E5.8A.A8.E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="驱动安装">驱动安装</span>
</h3>
<p>Linux 内核包含了开源的视频驱动，支持硬件加速。OpenGL 和 X11 的 2D 加速需要用户空间工具。 
</p>
<p>执行如下命令查询显卡类型：
</p>
<pre>$ lspci | grep -e VGA -e 3D
</pre>
<p>安装对应的驱动，输入下面命令，查看所有开源驱动: 
</p>
<pre>$ pacman -Ss xf86-video
</pre>
<p>Xorg 会自动搜索安装的驱动：
</p>
<ul>
<li>如果无法找到设备在下表中列出的驱动，会首先查看是否安装了 <i>fbdev</i> (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-fbdev">xf86-video-fbdev</a></span>).</li>
<li>如果依然没有找到，会搜索 <i>vesa</i> (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-vesa">xf86-video-vesa</a></span>), 这是一个支持大部分显卡的通用驱动，不提供任何 2D 和 3D 加速功能。</li>
<li>如果没有找到 <i>vesa</i>，Xorg 会使用 <a href="../en/Kernel_mode_setting.html" title="Kernel mode setting">kernel mode setting</a>, 这个驱动提供了 GLAMOR 加速 (参考 <span class="plainlinks archwiki-template-man" title="$ man 4 modesetting"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/modesetting.4">modesetting(4)</a></span>).</li>
</ul>
<p>要充分发挥显卡性能，请按下表安装驱动程序。推荐先使用开源驱动，这些驱动出问题的可能性较小。
</p>
<table class="wikitable" style="text-align:center">

<tbody>
<tr>
<th>厂商</th>
<th>类型</th>
<th>驱动</th>
<th>OpenGL</th>
<th>OpenGL (<a href="../en/Official_repositories.html#multilib" class="mw-redirect" title="Multilib">multilib</a>)</th>
<th>文档
</th>
</tr>
<tr>
<th rowspan="2">AMD / ATI
</th>
<td rowspan="2">Open source</td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-amdgpu">xf86-video-amdgpu</a></span></td>
<td rowspan="2"><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mesa">mesa</a></span></td>
<td rowspan="2"><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-mesa">lib32-mesa</a></span></td>
<td>
<a href="../en/AMDGPU.html" title="AMDGPU">AMDGPU</a>
</td>
</tr>
<tr>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-ati">xf86-video-ati</a></span></td>
<td>
<a href="../en/ATI.html" title="ATI">ATI</a>
</td>
</tr>
<tr>
<th>Intel
</th>
<td>Open source</td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-intel">xf86-video-intel</a></span></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mesa">mesa</a></span></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-mesa">lib32-mesa</a></span></td>
<td>
<a href="../en/Intel_graphics.html" title="Intel graphics">Intel graphics</a>
</td>
</tr>
<tr>
<th rowspan="3">NVIDIA
</th>
<td>Open source</td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-nouveau">xf86-video-nouveau</a></span></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mesa">mesa</a></span></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-mesa">lib32-mesa</a></span></td>
<td>
<a href="../en/Nouveau.html" title="Nouveau">Nouveau</a>
</td>
</tr>
<tr>
<td rowspan="2">Proprietary</td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia">nvidia</a></span></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia-utils">nvidia-utils</a></span></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-nvidia-utils">lib32-nvidia-utils</a></span></td>
<td rowspan="2">
<a href="../en/NVIDIA.html" title="NVIDIA">NVIDIA</a>
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nvidia-390xx/">nvidia-390xx</a></span><sup><small>AUR</small></sup>
</td>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nvidia-390xx-utils/">nvidia-390xx-utils</a></span><sup><small>AUR</small></sup>
</td>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lib32-nvidia-390xx-utils/">lib32-nvidia-390xx-utils</a></span><sup><small>AUR</small></sup>
</td>
</tr>
</tbody>
</table>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 
<ul>
<li>对于同时使用集成显卡和独立显卡的 NVIDIA Optimus 笔记本，请参考 <a href="../en/NVIDIA_Optimus.html" title="NVIDIA Optimus">NVIDIA Optimus</a>。</li>
<li>对于第四代及更新的 Intel 显卡，阅读<a href="../zh-CN/Intel_graphics.html#%E5%AE%89%E8%A3%85" title="Intel graphics (简体中文)">英特尔显卡#安装</a>来获取可用驱动。</li>
</ul>
</div>
<p>其它驱动也都位于 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/xorg-drivers/">xorg-drivers</a></span> 软件包组中.
</p>
<p>没有闭源驱动，Xorg 也应正常工作。闭源驱动的典型用途是某些高级图形功能例如为游戏提供 3D 渲染加速。某些例外是某些最新的 GPU （尤其是 NVIDIA 的 GPU），它们不受开源驱动支持。
</p>
<h3><span class="mw-headline" id="AMD">AMD</span></h3>
<table class="wikitable" style="text-align:center">

<tbody>
<tr>
<th>GPU 架构</th>
<th>Radeon 显卡</th>
<th>开源驱动</th>
<th>非开源驱动
</th>
</tr>
<tr>
<td>GCN 4<br>及之后</td>
<td rowspan="4"><a href="https://en.wikipedia.org/wiki/List_of_AMD_graphics_processing_units" class="extiw" title="wikipedia:List of AMD graphics processing units">多种</a></td>
<td><a href="../en/AMDGPU.html" title="AMDGPU">AMDGPU</a></td>
<td>
<a href="../en/AMDGPU_PRO.html" title="AMDGPU PRO">AMDGPU PRO</a>
</td>
</tr>
<tr>
<td>GCN 3</td>
<td><a href="../en/AMDGPU.html" title="AMDGPU">AMDGPU</a></td>
<td>
<a href="../en/AMD_Catalyst.html" class="mw-redirect" title="Catalyst">Catalyst</a> /<br><a href="../en/AMDGPU_PRO.html" title="AMDGPU PRO">AMDGPU PRO</a>
</td>
</tr>
<tr>
<td>GCN 2*</td>
<td>
<a href="../en/AMDGPU.html" title="AMDGPU">AMDGPU</a>* / <a href="../en/ATI.html" title="ATI">ATI</a>
</td>
<td>
<a href="../en/AMD_Catalyst.html" class="mw-redirect" title="Catalyst">Catalyst</a>
</td>
</tr>
<tr>
<td>GCN 1*</td>
<td>
<a href="../en/AMDGPU.html" title="AMDGPU">AMDGPU</a>* / <a href="../en/ATI.html" title="ATI">ATI</a>
</td>
<td>
<a href="../en/AMD_Catalyst.html" class="mw-redirect" title="Catalyst">Catalyst</a>
</td>
</tr>
<tr>
<td>TeraScale 2&amp;3</td>
<td>HD 5000 - HD 6000</td>
<td rowspan="3"><a href="../en/ATI.html" title="ATI">ATI</a></td>
<td>
<a href="../en/AMD_Catalyst.html" class="mw-redirect" title="Catalyst">Catalyst</a>
</td>
</tr>
<tr>
<td>TeraScale 1</td>
<td>HD 2000 - HD 4000</td>
<td>
<a href="../en/AMD_Catalyst.html" class="mw-redirect" title="Catalyst">Catalyst</a> legacy
</td>
</tr>
<tr>
<td>旧型号</td>
<td>X1000及之前</td>
<td>
<i>不支持</i>
</td>
</tr>
</tbody>
</table>
<dl><dd>*: AMDGPU 实验支持</dd></dl>
<h2>
<span id=".E8.BF.90.E8.A1.8C"></span><span class="mw-headline" id="运行">运行</span>
</h2>
<p><span class="plainlinks archwiki-template-man" title="$ man 1 Xorg"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/Xorg.1">Xorg(1)</a></span>命令通常不直接运行。要么使用<a href="../zh-CN/Display_manager.html" title="Display manager (简体中文)">显示管理器</a>，要么使<a href="../zh-CN/Xinit.html" title="Xinit (简体中文)">xinit</a>来启动 X server。
</p>
<h2>
<span id=".E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="配置">配置</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Arch 提供了位于 <code>/usr/share/X11/xorg.conf.d</code> 的默认配置文件。通常情况下，用户无需进行额外的配置与修改即可正常使用。</div>
<p>Xorg 使用名为 <code>xorg.conf</code> 的配置文件和后缀为 <code>.conf</code> 的文件作为它的初始设置。这些文件的位置的完整列表可以在<span class="plainlinks archwiki-template-man" title="$ man 5 xorg.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/xorg.conf.5">xorg.conf(5)</a></span>中找到，其中还附有全部可用选项的详尽解释。
</p>
<h3>
<span id=".E4.BD.BF.E7.94.A8_.conf_.E6.96.87.E4.BB.B6"></span><span class="mw-headline" id="使用_.conf_文件">使用 .conf 文件</span>
</h3>
<p><code>/etc/X11/xorg.conf.d/</code> 目录保存主机特有设置，你可以创建自己的配置文件，需要以 <code>XX-</code> 开头(XX 是数字)并以<code>.conf</code> 结尾(例如 10 在 20 之前读取).X 服务器启动是会解析这些文件，将其视为 <code>xorg.conf</code> 的一部分进行处理。如果配置之间有冲突，将会使用<i>最后</i>被处理的文件。所以通用的设置应该放到前面。最后会解析 <code>xorg.conf</code> 文件。 
</p>
<p>设置请参考 <a rel="nofollow" class="external text" href="https://fedoraproject.org/wiki/Input_device_configuration#xorg.conf.d">Fedora wiki</a>.
</p>
<h3>
<span id=".E4.BD.BF.E7.94.A8_xorg.conf"></span><span class="mw-headline" id="使用_xorg.conf">使用 xorg.conf</span>
</h3>
<p>可以通过 <code>/etc/X11/xorg.conf</code> 或 <code>/etc/xorg.conf</code> 配置 Xorg，用下面命令可以生成 <code>xorg.conf</code> 模板:
</p>
<pre># Xorg :0 -configure
</pre>
<p>执行后会在 <code>/root/</code> 生成 <code>xorg.conf.new</code> 文件，然后你可以将它复制到 <code>/etc/X11/xorg.conf</code>。
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 如果已经运行了 X 服务器，请使用不同的 display，例如 <code>Xorg :2 -configure</code>。</div>
<p>或者，显卡的专有驱动可能也提供了自动配置 Xorg 的工具，详情请参考 <a href="../en/NVIDIA.html" title="NVIDIA">NVIDIA</a> 或 <a href="../en/AMD_Catalyst.html" title="AMD Catalyst">AMD Catalyst</a>。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 配置文件关键字是大小写敏感的，"_" 字符会被忽略。配置，包括选项名也是大小写敏感的，会自动忽略空白和 "_"。</div>
<h2>
<span id=".E8.BE.93.E5.85.A5.E8.AE.BE.E5.A4.87"></span><span class="mw-headline" id="输入设备">输入设备</span>
</h2>
<p>X 服务器默认使用 libinput 驱动(<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-libinput">xf86-input-libinput</a></span>) 处理输入设备，<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-evdev">xf86-input-evdev</a></span> 和相关驱动是后备方案<a rel="nofollow" class="external autonumber" href="https://archlinux.org/news/xorg-server-1191-is-now-in-extra/">[1]</a>。
</p>
<p><a href="../zh-CN/Udev.html" title="Udev (简体中文)">Udev</a>，作为 systemd 的依赖项被提供，将会检测硬件。这两个驱动程序将作为几乎所有设备的热插拔输入驱动，它们的行为定义在位于 <code>/usr/share/X11/xorg.conf.d/</code> 的默认配置文件 <code>10-quirks.conf</code> and <code>40-libinput.conf</code> 中。
</p>
<p>在启动 X server 后，日志文件将会为每个设备显示发生了什么热插拔（注意最近的日志名称可能有所不同）：
</p>
<pre>$ grep -e "Using input driver " Xorg.0.log
</pre>
<p>如果两个驱动都不支持您的设备, 请从<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/xorg-drivers/">xorg-drivers</a></span> 组安装需要的驱动程序。如果你想要使用其他驱动，也可以这样做。
</p>
<p>想要干预热插拔，请参考 <a href="#%E9%85%8D%E7%BD%AE">#配置</a>。
</p>
<p>更详细的信息，请参考 <a href="../en/Libinput.html" title="Libinput">libinput</a> ，文后的链接，和 <a rel="nofollow" class="external text" href="https://fedoraproject.org/wiki/Input_device_configuration">Fedora wiki</a>。
</p>
<h3>
<span id=".E8.BE.93.E5.85.A5.E6.98.A0.E5.B0.84"></span><span class="mw-headline" id="输入映射">输入映射</span>
</h3>
<p>参考<a href="../zh-CN/Extra_keyboard_keys.html#%E7%AC%AC%E4%BA%8C%E6%AD%A5:_%E6%98%A0%E5%B0%84%E6%8C%89%E9%94%AE%E7%A0%81" title="Extra keyboard keys (简体中文)">键盘按键#映射按键码</a>。
</p>
<h3>
<span id=".E9.BC.A0.E6.A0.87.E5.8A.A0.E9.80.9F"></span><span class="mw-headline" id="鼠标加速">鼠标加速</span>
</h3>
<p><a href="../zh-CN/Mouse_acceleration.html" title="Mouse acceleration (简体中文)">鼠标加速</a>。
</p>
<h3>
<span id=".E6.89.A9.E5.B1.95.E9.BC.A0.E6.A0.87.E6.8C.89.E9.94.AE"></span><span class="mw-headline" id="扩展鼠标按键">扩展鼠标按键</span>
</h3>
<p><a href="../zh-CN/Mouse_buttons.html" title="Mouse buttons (简体中文)">鼠标按键</a>。
</p>
<h3>
<span id=".E8.A7.A6.E6.91.B8.E6.9D.BF"></span><span class="mw-headline" id="触摸板">触摸板</span>
</h3>
<p>参考 <a href="../zh-CN/Libinput.html" title="Libinput (简体中文)">Libinput (简体中文)</a> 或 <a href="../zh-CN/Touchpad_Synaptics.html" title="Touchpad Synaptics (简体中文)">Touchpad_Synaptics</a>。
</p>
<h3>
<span id=".E8.A7.A6.E6.91.B8.E5.B1.8F"></span><span class="mw-headline" id="触摸屏">触摸屏</span>
</h3>
<p><a href="../zh-CN/Touchscreen.html" title="Touchscreen (简体中文)">触摸屏</a>。
</p>
<h3>
<span id=".E9.94.AE.E7.9B.98.E8.AE.BE.E7.BD.AE"></span><span class="mw-headline" id="键盘设置">键盘设置</span>
</h3>
<p>参考 <a href="../en/Xorg/Keyboard_configuration.html" title="Xorg/Keyboard configuration">Xorg/Keyboard configuration</a>。
</p>
<h2>
<span id=".E6.98.BE.E7.A4.BA.E5.99.A8.E8.AE.BE.E7.BD.AE"></span><span class="mw-headline" id="显示器设置">显示器设置</span>
</h2>
<h3>
<span id=".E5.BC.80.E5.A7.8B"></span><span class="mw-headline" id="开始">开始</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 
<ul>
<li>新的 Xorg 版本会自动配置显示器，无需额外配置。</li>
<li>如果 Xorg 无法检测到任何显示器，或者没有自动配置，则可使用配置文件。一个常见的情况是使用无头系统时，系统在没有显示器的情况下启动并自动运行了 Xorg，要么是在<a href="../zh-CN/Xinit.html#%E5%9C%A8%E7%99%BB%E5%BD%95%E6%97%B6%E8%87%AA%E5%8A%A8%E5%90%AF%E7%94%A8_X" title="Xinit (简体中文)">登录</a> 时从 <a href="../zh-CN/Getty.html#%E8%87%AA%E5%8A%A8%E7%99%BB%E5%BD%95%E5%88%B0%E8%99%9A%E6%8B%9F%E6%8E%A7%E5%88%B6%E5%8F%B0" title="Getty (简体中文)">虚拟控制台</a>，或者是从一个<a href="../zh-CN/Display_manager.html" title="Display manager (简体中文)">显示管理器</a>。</li>
</ul>
</div>
<p>无头配置需要 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-dummy">xf86-video-dummy</a></span> 驱动； 安装然后创建一个配置文件，例如：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/10-headless.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "Monitor"
        Identifier "dummy_monitor"
        HorizSync 28.0-80.0
        VertRefresh 48.0-75.0
        Modeline "1920x1080" 172.80 1920 2040 2248 2576 1080 1081 1084 1118
EndSection

Section "Device"
        Identifier "dummy_card"
        VideoRam 256000
        Driver "dummy"
EndSection

Section "Screen"
        Identifier "dummy_screen"
        Device "dummy_card"
        Monitor "dummy_monitor"
        SubSection "Display"
        EndSubSection
EndSection
</pre>
<h3>
<span id=".E5.A4.9A.E4.B8.AA.E6.98.BE.E7.A4.BA.E5.99.A8"></span><span class="mw-headline" id="多个显示器">多个显示器</span>
</h3>
<p>参考主要文章 <a href="../zh-CN/Multihead.html" title="Multihead (简体中文)">多头</a> 了解通用信息。
</p>
<p>参见GPU的具体说明:
</p>
<ul>
<li><a href="../zh-CN/NVIDIA.html#%E5%A4%9A%E5%8F%B0%E6%98%BE%E7%A4%BA%E5%99%A8" title="NVIDIA (简体中文)">NVIDIA (简体中文)#多台显示器</a></li>
<li><a href="../zh-CN/Nouveau.html#%E5%8F%8C%E8%BE%93%E5%87%BA" title="Nouveau (简体中文)">Nouveau (简体中文)#双输出</a></li>
<li><a href="../en/AMD_Catalyst.html#Double_Screen_(Dual_Head_/_Dual_Screen_/_Xinerama)" title="AMD Catalyst">AMD Catalyst#Double Screen (Dual Head / Dual Screen / Xinerama)</a></li>
<li><a href="../en/ATI.html#Multihead_setup" title="ATI">ATI#Multihead setup</a></li>
</ul>
<h4>
<span id=".E5.A4.9A.E4.BA.8E.E4.B8.80.E4.B8.AA.E6.98.BE.E5.8D.A1"></span><span class="mw-headline" id="多于一个显卡">多于一个显卡</span>
</h4>
<p>你必须指定正确的驱动，输入你的显卡的 bus ID（以十进制表示）。
</p>
<pre>Section "Device"
    Identifier             "Screen0"
    Driver                 "intel"
    BusID                  "PCI:0:2:0"
EndSection

Section "Device"
    Identifier             "Screen1"
    Driver                 "nouveau"
    BusID                  "PCI:1:0:0"
EndSection
</pre>
<p>为了获取 BusID （十六进制）：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ lspci | grep -e VGA -e 3D</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">00:02.0 VGA compatible controller: Intel Corporation HD Graphics 630 (rev 04)
01:00.0 3D controller: NVIDIA Corporation GP107M [GeForce GTX 1050 Mobile] (rev a1)
</pre>
<p><br>
这个示例的BusID是 0:2:0 和 1:0:0。
</p>
<h3>
<span id=".E6.98.BE.E7.A4.BA.E5.A4.A7.E5.B0.8F.E5.92.8C_DPI"></span><span class="mw-headline" id="显示大小和_DPI">显示大小和 DPI</span>
</h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Xorg always sets dpi to 96. See <a rel="nofollow" class="external text" href="https://bugs.freedesktop.org/show_bug.cgi?id=23705">this</a>, <a rel="nofollow" class="external text" href="https://bugs.freedesktop.org/show_bug.cgi?id=41115">this</a> and finally <a rel="nofollow" class="external text" href="https://pastebin.com/vtzyBK6e">this</a>. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Xorg_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Talk:Xorg (简体中文)#</a>)</div>
</div>
<p>The DPI of the X server is determined in the following manner:
</p>
<ol>
<li>dpi命令行选项具有最高优先级。</li>
<li>If this is not used, the DisplaySize setting in the X config file is used to derive the DPI, given the screen resolution.</li>
<li>If no DisplaySize is given, the monitor size values from DDC are used to derive the DPI, given the screen resolution.</li>
<li>如果DDC不指定大小, 75 DPI默认使用。</li>
</ol>
<p>In order to get correct dots per inch (DPI) set, the display size must be recognized or set. Having the correct DPI is especially necessary where fine detail is required (like font rendering). Previously, manufacturers tried to create a standard for 96 DPI (a 10.3" diagonal monitor would be 800x600, a 13.2" monitor 1024x768). These days, screen DPIs vary and may not be equal horizontally and vertically. For example, a 19" widescreen LCD at 1440x900 may have a DPI of 89x87. To be able to set the DPI, the Xorg server attempts to auto-detect your monitor's physical screen size through the graphic card with <a href="https://en.wikipedia.org/wiki/Display_Data_Channel" class="extiw" title="wikipedia:Display Data Channel">DDC</a>.  <s>When the Xorg server knows the physical screen size, it will be able to set the correct DPI depending on resolution size.</s>
</p>
<p>To see if your display size and DPI are detected/calculated correctly:
</p>
<pre>$ xdpyinfo | grep -B2 resolution
</pre>
<p>Check that the dimensions match your display size.  If the Xorg server is not able to correctly calculate the screen size, it will default to 75x75 DPI and you will have to calculate it yourself.
</p>
<p>If you have specifications on the physical size of the screen, they can be entered in the Xorg configuration file so that the proper DPI is calculated:
</p>
<pre>Section "Monitor"
    Identifier             "Monitor0"
    DisplaySize             286 179    # In millimeters
EndSection
</pre>
<p>If you only want to enter the specification of your monitor <b>without</b> creating a full xorg.conf create a new config file.  For example (<code>/etc/X11/xorg.conf.d/90-monitor.conf</code>):
</p>
<pre>Section "Monitor"
    Identifier             "&lt;default monitor&gt;"
    DisplaySize            286 179    # In millimeters
EndSection
</pre>
<p>If you do not have specifications for physical screen width and height (most specifications these days only list by diagonal size), you can use the monitor's native resolution (or aspect ratio) and diagonal length to calculate the horizontal and vertical physical dimensions.  Using the Pythagorean theorem on a 13.3" diagonal length screen with a 1280x800 native resolution (or 16:10 aspect ratio):
</p>
<pre>$ echo 'scale=5;sqrt(1280^2+800^2)' | bc  # 1509.43698
</pre>
<p>This will give the pixel diagonal length and with this value you can discover the physical horizontal and vertical lengths (and convert them to millimeters):
</p>
<pre>$ echo 'scale=5;(13.3/1509)*1280*25.4' | bc  # 286.43072
$ echo 'scale=5;(13.3/1509)*800*25.4'  | bc  # 179.01920
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This calculation works for monitors with square pixels; however, there is the seldom monitor that may compress aspect ratio (e.g 16:10 aspect resolution to a 16:9 monitor). If this is the case, you should measure your screen size manually.</div>
<h4>
<span id=".E6.89.8B.E5.8A.A8.E8.AE.BE.E7.BD.AEDPI"></span><span class="mw-headline" id="手动设置DPI">手动设置DPI</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> While you can set any dpi you like and applications using Qt and GTK will scale accordingly, it's recommended to set it to 96, 120 (25% higher), 144 (50% higher), 168 (75% higher), 192 (100% higher) etc., to reduce scaling artifacts to GUI that use bitmaps. Reducing it below 96 dpi may not reduce size of graphical elements of GUI as typically the lowest dpi the icons are made for is 96.</div>
<p>For RandR compliant drivers (for example the open source ATI driver), you can set it by:
</p>
<pre>$ xrandr --dpi 144
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Applications that comply with the setting will not change immediately. You have to start them anew.</div>
<p>See <a href="../en/Autostarting.html#On_Xorg_startup" class="mw-redirect" title="Execute commands after X start">Execute commands after X start</a> to make it permanent.
</p>
<h5>
<span id=".E4.B8.93.E6.9C.89.E7.9A.84NVIDIA.E9.A9.B1.E5.8A.A8.E7.A8.8B.E5.BA.8F"></span><span class="mw-headline" id="专有的NVIDIA驱动程序">专有的NVIDIA驱动程序</span>
</h5>
<p>DPI can be set manually if you only plan to use one resolution (<a rel="nofollow" class="external text" href="http://pxcalc.com/">DPI calculator</a>):
</p>
<pre>Section "Monitor"
    Identifier             "Monitor0"
    Option                 "DPI" "96 x 96"
EndSection
</pre>
<p>You can manually set the DPI adding the options below on <code>/etc/X11/xorg.conf.d/20-nvidia.conf</code> (inside <b>Device</b> section):
</p>
<pre>Option              "UseEdidDpi" "False"
Option              "DPI" "96 x 96"
</pre>
<h3><span class="mw-headline" id="DPMS">DPMS</span></h3>
<p><a href="../zh-CN/Display_Power_Management_Signaling.html" title="Display Power Management Signaling (简体中文)">DPMS</a> (显示器电源管理信号) 是一种技术，可以在计算机不使用时，可以使用显示器的省电行为. 这将允许您的显示器在预定时间段后自动进入待机。
</p>
<h2>
<span id=".E5.90.88.E6.88.90"></span><span class="mw-headline" id="合成">合成</span>
</h2>
<p>X 的合成扩展使窗口层次结构的整个子树呈现到屏幕外的缓冲区。应用程序可以获取缓冲区的内容并执行它们喜欢的任何操作。屏幕外的缓冲区可以自动合并到父窗口中，也可以被称为合成管理器的外部程序合并。要了解更多信息，参考<a href="https://en.wikipedia.org/wiki/Compositing_window_manager" class="extiw" title="wikipedia:Compositing window manager">compositing window manager</a>
</p>
<p>某些窗口管理器（例如 <a href="../en/Compiz.html" title="Compiz">Compiz</a>, <a href="../en/Enlightenment.html" title="Enlightenment">Enlightenment</a>, KWin, Marco, Metacity, Muffin, Mutter, <a href="../en/Xfwm.html" title="Xfwm">Xfwm</a>）自己完成这些合成。对于其他窗口管理器，可以使用一个独立的合成管理器。
</p>
<h3>
<span id=".E5.90.88.E6.88.90.E7.AE.A1.E7.90.86.E5.99.A8.E5.88.97.E4.B8.BE"></span><span class="mw-headline" id="合成管理器列举">合成管理器列举</span>
</h3>
<ul><li>
<b><a href="../en/Picom.html" title="Picom">Picom</a></b> — 合成器（Compton 的一个分支）</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/yshui/picom">https://github.com/yshui/picom</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=picom">picom</a></span>
</dd></dl>
<ul><li>
<b><a href="../en/Xcompmgr.html" title="Xcompmgr">Xcompmgr</a></b> — 复合窗口效果管理器</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://cgit.freedesktop.org/xorg/app/xcompmgr/">https://cgit.freedesktop.org/xorg/app/xcompmgr/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xcompmgr">xcompmgr</a></span>
</dd></dl>
<ul><li>
<b>Unagi</b> — 致力于用C语言编写，基于 XCB 的模块化合成管理器</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://projects.mini-dweeb.org/projects/unagi">https://projects.mini-dweeb.org/projects/unagi</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/unagi/">unagi</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h2>
<span id=".E6.8A.80.E5.B7.A7.E5.92.8C.E6.8A.80.E5.B7.A7"></span><span class="mw-headline" id="技巧和技巧">技巧和技巧</span>
</h2>
<h3>
<span id=".E8.87.AA.E5.8A.A8.E5.8C.96"></span><span class="mw-headline" id="自动化">自动化</span>
</h3>
<p>这一节列出用于键盘、鼠标输入和窗口操作自动化的实用程序（例如移动、调整大小和层级）。
</p>
<table class="wikitable">
<tbody>
<tr>
<th>工具</th>
<th>软件包</th>
<th>手册</th>
<th><a href="../en/Keyboard_input.html" title="Keyboard input">keyboard input</a></th>
<th>窗口操作</th>
<th>注
</th>
</tr>
<tr>
<th>xautomation
</th>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xautomation">xautomation</a></span></td>
<td><span class="plainlinks archwiki-template-man" title="$ man 1 xte"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/xte.1">xte(1)</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td>也包含 screen scraping tools。无法模拟 F13+.
</td>
</tr>
<tr>
<th>xdo
</th>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xdo">xdo</a></span></td>
<td><span class="plainlinks archwiki-template-man" title="$ man 1 xdo"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/xdo.1">xdo(1)</a></span></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>用于执行基本窗口操作的轻量级X实用工具
</td>
</tr>
<tr>
<th>xdotool
</th>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xdotool">xdotool</a></span></td>
<td><span class="plainlinks archwiki-template-man" title="$ man 1 xdotool"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/xdotool.1">xdotool(1)</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<a rel="nofollow" class="external text" href="https://github.com/jordansissel/xdotool/issues">充满 Bug</a> 且开发不活跃，比如说CLI解析错误。<a rel="nofollow" class="external autonumber" href="https://github.com/jordansissel/xdotool/issues/14#issuecomment-327968132">[2]</a><a rel="nofollow" class="external autonumber" href="https://github.com/jordansissel/xdotool/issues/71">[3]</a>
</td>
</tr>
<tr>
<th>xvkbd
</th>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xvkbd/">xvkbd</a></span><sup><small>AUR</small></sup>
</td>
<td><span class="plainlinks archwiki-template-man" title="$ man 1 xvkbd"><a rel="nofollow" class="external text" href="http://t-sato.in.coocan.jp/xvkbd/#option">xvkbd(1)</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td>面向 Xorg 的虚拟键盘，在发送字母时也有 <code>-text</code> 选项。
</td>
</tr>
</tbody>
</table>
<p>也可以参考 <a href="../en/Clipboard.html#Tools" title="Clipboard">Clipboard#Tools</a> and <a rel="nofollow" class="external text" href="https://venam.nixers.net/blog/unix/2019/01/07/win-automation.html">an overview of X automation tools</a>.
</p>
<h3>
<span id=".E5.B5.8C.E5.A5.97_X_.E4.BC.9A.E8.AF.9D"></span><span class="mw-headline" id="嵌套_X_会话">嵌套 X 会话</span>
</h3>
<p>在嵌套的 X 的会话中启动其他桌面环境：
</p>
<pre>$ /usr/bin/Xnest :1 -geometry 1024x768+0+0 -ac -name Windowmaker &amp; wmaker -display :1
</pre>
<p>这会在你当前的 X 会话中启动一个1024 × 768大小的 Window Maker 会话。
</p>
<p>需要安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-server-xnest">xorg-server-xnest</a></span>。
</p>
<h3>
<span id=".E8.BF.9C.E7.A8.8B.E5.90.AF.E5.8A.A8_GUI_.E7.A8.8B.E5.BA.8F"></span><span class="mw-headline" id="远程启动_GUI_程序">远程启动 GUI 程序</span>
</h3>
<p>查看主条目：<a href="../en/OpenSSH.html#X11_forwarding" title="OpenSSH">X11转发</a>。
</p>
<h3>
<span id=".E6.8C.89.E9.9C.80.E7.A6.81.E7.94.A8.E5.92.8C.E5.90.AF.E7.94.A8.E8.BE.93.E5.85.A5.E6.BA.90"></span><span class="mw-headline" id="按需禁用和启用输入源">按需禁用和启用输入源</span>
</h3>
<p>利用<i>xinput</i>你可以您可以暂时禁用或启用输入源。这可能很有用，例如，在具有多个鼠标的系统上（如ThinkPad），可以只使用一个鼠标以避免不必要的点击。
</p>
<p>从<a href="../en/Official_repositories.html" title="Official repositories">official repositories</a><a href="../en/Pacman.html" title="Pacman">安装</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xinput">xorg-xinput</a></span>。
</p>
<p><br>
找到要禁用的设备的ID：
</p>
<pre>$ xinput
</pre>
<p>例如在Lenovo ThinkPad T500中，输出如下所示：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ xinput</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">⎡ Virtual core pointer                          id=2    [master pointer  (3)]
⎜   ↳ Virtual core XTEST pointer                id=4    [slave  pointer  (2)]
⎜   ↳ TPPS/2 IBM TrackPoint                     id=11   [slave  pointer  (2)]
⎜   ↳ SynPS/2 Synaptics TouchPad                id=10   [slave  pointer  (2)]
⎣ Virtual core keyboard                         id=3    [master keyboard (2)]
    ↳ Virtual core XTEST keyboard               id=5    [slave  keyboard (3)]
    ↳ Power Button                              id=6    [slave  keyboard (3)]
    ↳ Video Bus                                 id=7    [slave  keyboard (3)]
    ↳ Sleep Button                              id=8    [slave  keyboard (3)]
    ↳ AT Translated Set 2 keyboard              id=9    [slave  keyboard (3)]
    ↳ ThinkPad Extra Buttons                    id=12   [slave  keyboard (3)]
</pre>
<p>使用<code>xinput --disable <i>device_id</i></code>禁用设备，<i>device_id</i>是你要禁用的设备的ID。在此示例中，我们将禁用ID为10的Synaptics触摸板：
</p>
<pre>$ xinput --disable 10
</pre>
<p>要重新启用该设备，只需发出相反的命令：
</p>
<pre>$ xinput --enable 10
</pre>
<h3>
<span id=".E4.BD.BF.E7.94.A8.E7.83.AD.E5.BB.BA.E7.BB.93.E6.9D.9F.E5.BA.94.E7.94.A8.E7.A8.8B.E5.BA.8F"></span><span class="mw-headline" id="使用热建结束应用程序">使用热建结束应用程序</span>
</h3>
<p>在热键上运行脚本：
</p>
<pre>#!/bin/bash
windowFocus=$(xdotool getwindowfocus);
pid=$(xprop -id $windowFocus | grep PID);
kill -9 $pid
</pre>
<p>依赖：<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xprop">xorg-xprop</a></span>，<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xdotool">xdotool</a></span>
</p>
<h3>
<span id=".E9.98.BB.E6.AD.A2_TTY_.E8.AE.BF.E9.97.AE"></span><span class="mw-headline" id="阻止_TTY_访问">阻止 TTY 访问</span>
</h3>
<p>要在X中阻止tty访问，请将以下内容添加到xorg.conf：
</p>
<pre>Section "ServerFlags"
    Option "DontVTSwitch" "True"
EndSection</pre>
<h3>
<span id=".E9.98.B2.E6.AD.A2.E7.94.A8.E6.88.B7.E7.BB.93.E6.9D.9F_X"></span><span class="mw-headline" id="防止用户结束_X">防止用户结束 X</span>
</h3>
<p>要防止用户在运行时被结束，请将以下内容添加到xorg.conf：
</p>
<pre>Section "ServerFlags"
    Option "DontZap"      "True"
EndSection</pre>
<h3>
<span id=".E6.B2.A1.E6.9C.89_root_.E6.9D.83.E9.99.90.E7.9A.84_Xorg"></span><span class="mw-headline" id="没有_root_权限的_Xorg">没有 root 权限的 Xorg</span>
</h3>
<p>Xorg 可以使用标准用户权限而不是 root 来运行（所谓的“rootless” Xorg）。这对于用 root 权限运行是很大的安全性提升。注意大多数显示管理器都不支持 rootless Xorg。
</p>
<p>你可以用 <a href="/index.php?title=Template:Ps_-o_user_%24(pgrep_Xorg)&amp;action=edit&amp;redlink=1" class="new" title="Template:Ps -o user $(pgrep Xorg) (page does not exist)">Template:Ps -o user $(pgrep Xorg)</a> 来验证 Xorg 在以什么用户的身份运行。
</p>
<p>也可参考<span class="plainlinks archwiki-template-man" title="$ man 1 Xorg.wrap"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/Xorg.wrap.1">Xorg.wrap(1)</a></span>, <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-logind"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-logind.8">systemd-logind(8)</a></span>, <a href="../en/Systemd/User.html#Xorg_as_a_systemd_user_service" title="Systemd/User">Systemd/User#Xorg as a systemd user service</a>, <a rel="nofollow" class="external autonumber" href="https://fedoraproject.org/wiki/Changes/XorgWithoutRootRights">[4]</a> and <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/41257">FS#41257</a>。
</p>
<h4><span class="mw-headline" id="Using_xinitrc">Using xinitrc</span></h4>
<p>To configure rootless Xorg using <a href="../en/Xinit.html#xinitrc" class="mw-redirect" title="Xinitrc">xinitrc</a>:
</p>
<ul>
<li>Run startx as a subprocess of the login shell; run <code>startx</code> directly and do not use <code>exec startx</code>.</li>
<li>If using certain proprietary display drivers, <a href="../en/Kernel_mode_setting.html" title="Kernel mode setting">kernel mode setting</a> <a rel="nofollow" class="external text" href="https://cgit.freedesktop.org/xorg/xserver/tree/hw/xfree86/xorg-wrapper.c#n222">auto-detection</a> will fail. In such cases, you must set <code>needs_root_rights = no</code> in <code>/etc/X11/Xwrapper.config</code>.</li>
</ul>
<h4><span class="mw-headline" id="Using_GDM">Using GDM</span></h4>
<p><a href="../en/GDM.html" title="GDM">GDM</a> will run Xorg without root privileges by default when <a href="../en/Kernel_mode_setting.html" title="Kernel mode setting">kernel mode setting</a> is used.
</p>
<h4><span class="mw-headline" id="Session_log_redirection">Session log redirection</span></h4>
<p>When Xorg is run in rootless mode, Xorg logs are saved to <code>~/.local/share/xorg/Xorg.log</code>. However, the stdout and stderr output from the Xorg session is not redirected to this log. To re-enable redirection, start Xorg with the <code>-keeptty</code> flag and redirect the stdout and stderr output to a file:
</p>
<pre>startx -- -keeptty &amp;&gt; ~/.xorg.log
</pre>
<p>Alternatively, copy <code>/etc/X11/xinit/xserverrc</code> to <code>~/.xserverrc</code>, and append <code>-keeptty</code>. See <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?pid=1446402#p1446402">[5]</a>.
</p>
<h2>
<span id=".E6.95.85.E9.9A.9C.E5.92.8C.E4.BF.AE.E5.A4.8D"></span><span class="mw-headline" id="故障和修复">故障和修复</span>
</h2>
<h3>
<span id=".E9.80.9A.E7.94.A8.E9.97.AE.E9.A2.98"></span><span class="mw-headline" id="通用问题">通用问题</span>
</h3>
<p>如果你在使用Xorg中遇到问题， 查看位于 <code>/var/log/</code> 的日志，或者对于从 v1.16 起的无 root X，位于 <code>~/.local/share/xorg/</code>。 <a href="../en/GDM.html" title="GDM">GDM</a> 用户应当检查 <a href="../en/Systemd/Journal.html" class="mw-redirect" title="Systemd journal">systemd journal</a>. <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=184639">[6]</a>
</p>
<p>日志文件的格式为 <code>Xorg.n.log</code>， 其中 <code>n</code> 表示显示器编号。对于单用户、使用默认配置文件的机器，日志文件常常是 <code>Xorg.0.log</code>，其它情形可能会有区别。 想要找到正确的文件，可以考虑检查 X 服务器会话启动的时间戳以及它是从哪个控制台启动的。例如：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ grep -e Log -e tty Xorg.0.log</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[    40.623] (==) Log file: "/home/archuser/.local/share/xorg/Xorg.0.log", Time: Thu Aug 28 12:36:44 2014
[    40.704] (--) controlling tty is VT number 1, auto-enabling KeepTty</pre>
<ul>
<li>在日志文件中寻找以 <code>(EE)</code> 开头的行，它代表错误，以及 <code>(WW)</code>，代表警告（可能暗示着其他问题）。</li>
<li>如果在你的<code>$HOME</code>里有一个<i>空的</i> <code>.xinitrc</code> 文件，删除或修改它以使 X 正确启动。如果你不这样做，X 会显示黑屏并不会在 <code>Xorg.0.log</code> 中输出任何错误。简单地删除它就可以使 X 以默认配置运行。</li>
<li>如果你遇到黑屏，你仍可以尝试切换到不同的虚拟控制台 （例如 <code>Ctrl+Alt+F6</code>），然后不假思索地以 root 登录。你可以通过输入 <code>root</code> （然后按下 <code>Enter</code> ） 然后输入密码（同样地，输入后按下 <code>Enter</code> ）。</li>
</ul>
<dl>
<dd>你也可以尝试这样杀死 X server：</dd>
<dd><pre># pkill -x X</pre></dd>
<dd>如果不行，直接重启：</dd>
<dd><pre># reboot</pre></dd>
</dl>
<ul>
<li>如果你有关于键盘，鼠标，触摸板等等的问题，参考 <a href="../en/Category:Input_devices.html" title="Category:Input devices">Category:Input devices</a> 中具体的文章。</li>
<li>最后，在<a href="../zh-CN/ATI.html" title="ATI (简体中文)">ATI</a>, <a href="../zh-CN/Intel_graphics.html" class="mw-redirect" title="Intel (简体中文)">Intel</a>和<a href="../zh-CN/NVIDIA.html" title="NVIDIA (简体中文)">NVIDIA</a>等文章中搜索常见问题。</li>
</ul>
<h3>
<span id=".E9.BB.91.E5.B1.8F.EF.BC.8C.E6.B2.A1.E6.9C.89.E6.8C.87.E5.AE.9A.E5.8D.8F.E8.AE.AE...EF.BC.8C.E8.B5.84.E6.BA.90.E6.9A.82.E6.97.B6.E4.B8.8D.E5.8F.AF.E7.94.A8.E7.AD.89.E9.97.AE.E9.A2.98"></span><span class="mw-headline" id="黑屏，没有指定协议..，资源暂时不可用等问题">黑屏，没有指定协议..，资源暂时不可用等问题</span>
</h3>
<p>X在当前用户的主目录中创建配置和临时文件。确保主目录所在的分区上有可用的可用磁盘空间。然而，在这种情况下，X服务器不提供有关磁盘空间不足的更明显信息。
</p>
<h3>
<span id="Matrox.E6.98.BE.E5.8D.A1.E7.9A.84DRI.E5.8A.9F.E8.83.BD.E5.A4.B1.E6.95.88"></span><span class="mw-headline" id="Matrox显卡的DRI功能失效">Matrox显卡的DRI功能失效</span>
</h3>
<p>如果你使用的是Matrox显卡，在升级到Xorg7后它的DRI功能失效，试着在xorg.conf的显卡设备设置段Device section中加入下面一行：
</p>
<pre>Option "OldDmaInit" "On"
</pre>
<h3>
<span id=".E6.97.A0.E6.B3.95.E8.BF.90.E8.A1.8C.E5.9C.A8frambuffer.E6.A8.A1.E5.BC.8F.E4.B8.8B"></span><span class="mw-headline" id="无法运行在frambuffer模式下">无法运行在frambuffer模式下</span>
</h3>
<p>如果X启动失败，日志中有以下信息：
</p>
<pre> (WW) Falling back to old probe method for fbdev
 (II) Loading sub module "fbdevhw"
 (II) LoadModule: "fbdevhw"
 (II) Loading /usr/lib/xorg/modules/linux//libfbdevhw.so
 (II) Module fbdevhw: vendor="X.Org Foundation"
        compiled for 1.6.1, module version = 0.0.2
        ABI class: X.Org Video Driver, version 5.0
 (II) FBDEV(1): using default device
  
 Fatal server error:
 Cannot run in framebuffer mode. Please specify busIDs        for all framebuffer devices
</pre>
<p>只需要卸载<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-fbdev">xf86-video-fbdev</a></span>就可以了。
</p>
<h3>
<span id=".E6.97.A0.E6.B3.95.E5.8A.A0.E8.BD.BD.27.28null.29.27.E5.AD.97.E4.BD.93"></span><span class="mw-headline" id="无法加载'(null)'字体">无法加载'(null)'字体</span>
</h3>
<ul><li>一些程序无法运行，提示无法加载`(null)'字体.<b></b>
</li></ul>
<p>这些软件包可能需要一些额外的字体。某些程序只能使用位图字体。
目前有两种主要的位图字体包：<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-fonts-75dpi">xorg-fonts-75dpi</a></span>、<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-fonts-100dpi">xorg-fonts-100dpi</a></span>。选择其中一个就可以了。通过下面这个命令查看显示设置：
</p>
<pre>$ xdpyinfo | grep resolution
</pre>
<p>根据显示信息选择合适dpi的字体即可(用75 或 100 代替XX)：
</p>
<pre># pacman -S xorg-fonts-XXdpi
</pre>
<h3>
<span id=".E4.BF.AE.E5.A4.8D.EF.BC.9A.E5.9C.A8.E5.87.BA.E7.8E.B0GUI.E7.99.BB.E5.BD.95.E7.95.8C.E9.9D.A2.E4.B9.8B.E5.89.8D.EF.BC.8C.E4.B8.8D.E5.90.AF.E5.8A.A8Xorg"></span><span class="mw-headline" id="修复：在出现GUI登录界面之前，不启动Xorg">修复：在出现GUI登录界面之前，不启动Xorg</span>
</h3>
<p>如果Xorg设置为自动启动并且出于某些原因你不想让它出现在 登录/显示 管理器之前，有两种办法:
</p>
<ul>
<li>将启动目标修改为 rescue.target. 参阅 <a href="../en/Systemd.html#Change_default_target_to_boot_into" title="Systemd">systemd#Change default target to boot into</a>.</li>
<li>如果 X 无法启动，而且 GRUB 超时时间设置成了 0,无法进 Grub 禁止 Xorg boot. 可以使用 Arch CD 启动，然后挂载配置文件所在分区，</li>
</ul>
<dl><dd>可以以root用户使用命令</dd></dl>
<pre># fdisk -l
</pre>
<dl><dd>来查看你的全部分区。通常你所要的那个是形如 <code>/dev/sda1</code> 这样的东东。然后，使用命令</dd></dl>
<pre># mount /dev/sda1 /mnt
</pre>
<p>挂载该分区至 <code>/mnt</code>。
这样你的文件系统就挂载在了 <code>/mnt</code> 下。例如，可以删除 <code>gdm</code> 来阻止Xorg正常启动，或者做其他一些必需的改动。
</p>
<h3>
<span id=".E6.97.A0.E6.B3.95.E7.94.A8.22su.22.E4.BB.A5root.E8.BA.AB.E4.BB.BD.E5.90.AF.E5.8A.A8X.E5.AE.A2.E6.88.B7.E7.AB.AF"></span><span class="mw-headline" id='无法用"su"以root身份启动X客户端'>无法用"su"以root身份启动X客户端</span>
</h3>
<p>如果你遇到"Client is not authorized to connect to server"，尝试将以下内容
</p>
<pre> session        optional        pam_xauth.so
</pre>
<p>加入到<code>/etc/pam.d/su</code>文件中。<code>pam_xauth</code> 就可以正常设置环境变量以及处理 <code>xauth</code> 密钥了。
</p>
<h3>
<span id="X_.E5.90.AF.E5.8A.A8.E5.A4.B1.E8.B4.A5.EF.BC.9A.E9.94.AE.E7.9B.98.E5.88.9D.E5.A7.8B.E5.8C.96.E5.A4.B1.E8.B4.A5"></span><span class="mw-headline" id="X_启动失败：键盘初始化失败">X 启动失败：键盘初始化失败</span>
</h3>
<p>遇到“X failed to start : Keyboard initialization failed”。
如果您的硬盘已满，startx将失败。 <code>/var/log/Xorg.0.log</code> 的末尾会是：
</p>
<pre>(EE) Error compiling keymap (server-0)
(EE) XKB: Couldn't compile keymap
(EE) XKB: Failed to load keymap. Loading default keymap instead.
(EE) Error compiling keymap (server-0)
(EE) XKB: Couldn't compile keymap
XKB: Failed to compile keymap
Keyboard initialization failed. This could be a missing or incorrect setup of xkeyboard-config.
Fatal server error:
Failed to activate core devices.
Please consult the The X.Org Foundation support  at <a rel="nofollow" class="external free" href="https://wiki.x.org">https://wiki.x.org</a>
for help.
Please also check the log file at "/var/log/Xorg.0.log" for additional information.
 (II) AIGLX: Suspending AIGLX clients for VT switch
</pre>
<p>在/分区上腾出一些可用空间，X才能启动。
</p>
<h3>
<span id=".E6.83.B3.E7.9C.8B.E8.A7.86.E9.A2.91.E6.97.B6.E5.B1.8F.E5.B9.95.E6.80.BB.E6.98.AF.E7.BB.BF.E8.89.B2"></span><span class="mw-headline" id="想看视频时屏幕总是绿色">想看视频时屏幕总是绿色</span>
</h3>
<p>你的颜色深度设置错误。例如它可能需要设置为24位却被设置成了16位。
</p>
<h3><span class="mw-headline" id="SocketCreateListener_error">SocketCreateListener error</span></h3>
<p>如果 X 结束，伴随着错误信息 "SocketCreateListener() failed"，你可能需要删除位于 <code>/tmp/.X11-unix</code> 的 socket 文件。这有可能在你先前以 root 身份运行 Xorg （例如想要生成 <code>xorg.conf</code>）后发生。
</p>
<h3>
<span id=".E6.83.B3.E8.A6.81.E4.BB.A5_root_.E6.9D.83.E9.99.90.E8.BF.90.E8.A1.8C.E7.A8.8B.E5.BA.8F.E6.97.B6.E5.87.BA.E7.8E.B0_.E6.97.A0.E6.95.88.E7.9A.84_MIT-MAGIC-COOKIE-1_.E5.AF.86.E9.92.A5"></span><span class="mw-headline" id="想要以_root_权限运行程序时出现_无效的_MIT-MAGIC-COOKIE-1_密钥">想要以 root 权限运行程序时出现 无效的 MIT-MAGIC-COOKIE-1 密钥</span>
</h3>
<p>这个错误意味着只有当前用户有权访问 X server。解决办法是将访问权授予 root：
</p>
<pre>$ xhost +si:localuser:root
</pre>
<p>这条命令也可以将 X server 访问权授予其他用户。
</p>
<h3>
<span id="Xorg-server_.E8.87.B4.E5.91.BD.E9.94.99.E8.AF.AF.EF.BC.9A_.28EE.29_AddScreen.2FScreenInit"></span><span class="mw-headline" id="Xorg-server_致命错误：_(EE)_AddScreen/ScreenInit">Xorg-server 致命错误： (EE) AddScreen/ScreenInit</span>
</h3>
<p>如果 Xorg 偶发故障并且在 Xorg 日志中看到：
</p>
<pre>systemd-logind: failed to take device /dev/dri/card0: Operation not permitted
...
AddScreen/ScreenInit failed for driver 0
</pre>
<p>那么，这个问题可能由 <a rel="nofollow" class="external text" href="https://github.com/systemd/systemd/issues/13943">systemd issue 13943</a>引起。设置 <a href="../zh-CN/Kernel_mode_setting.html#KMS_%E6%97%A9%E5%90%AF%E5%8A%A8" title="Kernel mode setting (简体中文)">KMS 早启动</a>。
</p>
<h2>
<span id=".E5.8F.A6.E8.AF.B7.E5.8F.82.E9.98.85"></span><span class="mw-headline" id="另请参阅">另请参阅</span>
</h2>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://magcius.github.io/xplain/article/">Xplain</a> - In-depth explanation of the X Window System</li>
<li>
<span class="plainlinks archwiki-template-man" title="$ man 1 Xorg"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/Xorg.1">Xorg(1)</a></span> - Xorg's Manual Page</li>
<li>
<a rel="nofollow" class="external text" href="https://wiki.gentoo.org/wiki/Xorg/Guide/en#Configuration">Gentoo/Xorg#Configuration</a> - Gentoo Wiki's Xorg Configuration page</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../zh-CN/Category:X_server.html" title="Category:X server (简体中文)">X server (简体中文)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Xorg_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=662645">https://wiki.archlinux.org/index.php?title=Xorg_(简体中文)&amp;oldid=662645</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 18 April 2021, at 21:39.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
