<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Locale (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Locale_简体中文 rootpage-Locale_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Locale (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/Environment_variables.html" title="Environment variables">Environment variables</a></li>
<li><a href="../en/Localization.html" title="Localization">Localization</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="../en/Locale.html" title="Locale">Locale</a> 的<a href="../zh-CN/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2020-05-08。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Locale&amp;diff=0&amp;oldid=603067">更改</a>，则您可以帮助同步翻译。</div>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glibc">glibc</a></span> 和应用程序、函数库库使用 <a href="https://en.wikipedia.org/wiki/Locale_(computer_software)" class="extiw" title="w:Locale (computer software)">Locales</a> 显示本地化的文字、货币、时间、日期、特殊字符等包含地域属性的内容。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%E7%94%9F%E6%88%90_locale"><span class="tocnumber">1</span> <span class="toctext">生成 locale</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#%E8%AE%BE%E7%BD%AE_locale"><span class="tocnumber">2</span> <span class="toctext">设置 locale</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Setting_the_system_locale"><span class="tocnumber">2.1</span> <span class="toctext">Setting the system locale</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#%E5%8D%95%E4%B8%AA%E7%94%A8%E6%88%B7%E7%9A%84%E8%AE%BE%E7%BD%AE"><span class="tocnumber">2.2</span> <span class="toctext">单个用户的设置</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#%E7%AB%8B%E5%8D%B3%E5%90%AF%E7%94%A8%E6%96%B0%E8%AE%BE%E7%BD%AE"><span class="tocnumber">2.3</span> <span class="toctext">立即启用新设置</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#%E5%85%B6%E5%AE%83%E7%94%A8%E4%BE%8B"><span class="tocnumber">2.4</span> <span class="toctext">其它用例</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7">
<a href="#%E5%8F%98%E9%87%8F"><span class="tocnumber">3</span> <span class="toctext">变量</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#LANG:_%E9%BB%98%E8%AE%A4%E7%9A%84_Locale"><span class="tocnumber">3.1</span> <span class="toctext">LANG: 默认的 Locale</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#LANGUAGE:_%E5%90%8E%E5%A4%87_Locale"><span class="tocnumber">3.2</span> <span class="toctext">LANGUAGE: 后备 Locale</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#LC_TIME:_%E6%97%B6%E9%97%B4%E5%92%8C%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F"><span class="tocnumber">3.3</span> <span class="toctext">LC_TIME: 时间和日期格式</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#LC_COLLATE:_%E6%8E%92%E5%BA%8F%E6%A0%BC%E5%BC%8F"><span class="tocnumber">3.4</span> <span class="toctext">LC_COLLATE: 排序格式</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#LC_ALL"><span class="tocnumber">4</span> <span class="toctext">LC_ALL</span></a></li>
<li class="toclevel-1 tocsection-13">
<a href="#%E8%87%AA%E5%AE%9A%E4%B9%89_Locale"><span class="tocnumber">5</span> <span class="toctext">自定义 Locale</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#%E8%AE%BE%E7%BD%AE%E6%AF%8F%E5%91%A8%E7%9A%84%E7%AC%AC%E4%B8%80%E5%A4%A9"><span class="tocnumber">5.1</span> <span class="toctext">设置每周的第一天</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15">
<a href="#%E6%8F%90%E7%A4%BA%E5%92%8C%E6%8A%80%E5%B7%A7"><span class="tocnumber">6</span> <span class="toctext">提示和技巧</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#%E4%BB%8E%E7%BB%88%E7%AB%AF%E4%B8%AD%E4%BB%A5%E5%8F%A6%E4%B8%80_Locale_%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F"><span class="tocnumber">6.1</span> <span class="toctext">从终端中以另一 Locale 运行程序</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#%E4%BB%8E%E6%A1%8C%E9%9D%A2%E4%BB%A5%E5%8F%A6%E4%B8%80_Locale_%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F"><span class="tocnumber">6.2</span> <span class="toctext">从桌面以另一 Locale 运行程序</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Python,_ViM_%E5%92%8C_UTF-8"><span class="tocnumber">6.3</span> <span class="toctext">Python, ViM 和 UTF-8</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19">
<a href="#%E6%8E%92%E9%99%A4%E9%97%AE%E9%A2%98"><span class="tocnumber">7</span> <span class="toctext">排除问题</span></a>
<ul>
<li class="toclevel-2 tocsection-20">
<a href="#%E6%88%91%E7%9A%84%E7%BB%88%E7%AB%AF%E4%B8%8D%E6%94%AF%E6%8C%81_UTF-8"><span class="tocnumber">7.1</span> <span class="toctext">我的终端不支持 UTF-8</span></a>
<ul>
<li class="toclevel-3 tocsection-21"><a href="#Gnome-terminal_/_rxvt-unicode_%E4%B8%8D%E6%94%AF%E6%8C%81_UTF-8"><span class="tocnumber">7.1.1</span> <span class="toctext">Gnome-terminal / rxvt-unicode 不支持 UTF-8</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-22"><a href="#%E6%88%91%E7%9A%84%E7%B3%BB%E7%BB%9F%E7%9A%84%E8%AF%AD%E8%A8%80%E8%BF%98%E6%98%AF%E4%B8%8D%E5%AF%B9"><span class="tocnumber">7.2</span> <span class="toctext">我的系统的语言还是不对</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-23"><a href="#%E5%8F%A6%E8%A7%81"><span class="tocnumber">8</span> <span class="toctext">另见</span></a></li>
</ul>
</div>

<h2>
<span id=".E7.94.9F.E6.88.90_locale"></span><span class="mw-headline" id="生成_locale">生成 locale</span>
</h2>
<p>Locale 名称通常用 <code>[language][_TERRITORY][.CODESET][@modifier]</code> 的格式表示，<i>language</i> 是 <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes" class="extiw" title="w:List of ISO 639-1 codes">ISO 639 语言代码</a>, <i>territory</i> 是 <a href="https://en.wikipedia.org/wiki/ISO_3166-1#Current_codes" class="extiw" title="w:ISO 3166-1">ISO 3166 国家代码</a>, <i>codeset</i> 是 <a href="https://en.wikipedia.org/wiki/Character_encoding" class="extiw" title="w:Character encoding">字符集</a> 或 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" class="extiw" title="w:ISO/IEC 8859-1">ISO-8859-1</a>、<a href="https://en.wikipedia.org/wiki/UTF-8" class="extiw" title="w:UTF-8">UTF-8</a> 这样的编码方式。请参考 <span class="plainlinks archwiki-template-man" title="$ man 3 setlocale"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/setlocale.3">setlocale(3)</a></span>.
</p>
<p>要列出所有启用的locale，使用：
</p>
<pre>$ locale -a
</pre>
<p>启用一个 Locale 前，需要先生成它. 在 <code>/etc/locale.gen</code> 中取消对应的注释，然后执行 <i>locale-gen</i>. 注释掉某行，则会移除对应的 locale.请启用所有用户都可能使用的 locale 及其变体。
</p>
<p>例如对于使用美式英语和中国简体的用户：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/locale.gen</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
en_US.UTF-8 UTF-8
zh_CN.UTF-8 UTF-8
...
</pre>
<p>编辑完成以后,通过下面的命令生成 Locale :
</p>
<pre># locale-gen
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>每次更新 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glibc">glibc</a></span> 时 <code>locale-gen</code> 会自动运行.</li>
<li>建议优先使用 <code>UTF-8</code>. <a rel="nofollow" class="external autonumber" href="http://utf8everywhere.org/">[1]</a>
</li>
</ul>
</div>
<h2>
<span id=".E8.AE.BE.E7.BD.AE_locale"></span><span class="mw-headline" id="设置_locale">设置 locale</span>
</h2>
<p>想要显示正在使用的 Locale 和相关的环境变量，运行:
</p>
<pre>$ locale
</pre>
<p>要查看已经生产的 locale:
</p>
<pre>$ localedef --list-archive
</pre>
<p>或者使用 <span class="plainlinks archwiki-template-man" title="$ man 1 localectl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/localectl.1">localectl(1)</a></span>:
</p>
<pre>$ localectl list-locales
</pre>
<h3><span class="mw-headline" id="Setting_the_system_locale">Setting the system locale</span></h3>
<p><b>整个系统</b> 使用的 Locale 可以通过创建或编辑 <code>/etc/locale.conf</code> 来设置,或者通过 <i>localectl</i> 设置。<code>locale.conf</code> 文件存放如何使用和选择不同的 Locale 相关的环境变量.一行一个,例如:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">locale.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">LANG=zh_CN.UTF-8
LC_COLLATE=C
LC_TIME=zh_CN.UTF-8</pre>
<p>或者使用：
</p>
<pre># localectl set-locale LANG=zh_CN.UTF-8
</pre>
<p>参阅 <span class="plainlinks archwiki-template-man" title="$ man 1 localectl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/localectl.1">localectl(1)</a></span> 获得更多细节.
</p>
<h3>
<span id=".E5.8D.95.E4.B8.AA.E7.94.A8.E6.88.B7.E7.9A.84.E8.AE.BE.E7.BD.AE"></span><span class="mw-headline" id="单个用户的设置">单个用户的设置</span>
</h3>
<p><b>整个系统</b> 使用的 Locale 可以由用户通过编辑用户自己的 <code>~/.config/locale.conf</code> (或者 {ic|$XDG_CONFIG_HOME/locale.conf}} 或 <code>$HOME/.config/locale.conf</code>) 来覆盖.
</p>
<dl><dd><div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong>
<ul>
<li>设置用户级 Locale ，就能让日志(例如 <code>/var/log</code> )中的文件以英语输出.</li>
<li>建立 <code>/etc/skel/.config/locale.conf</code> 文件,可以让新用户建立且同时创建主目录时(<i> useradd -m </i>)自动应用其中的 Locale (会将这个文件复制到 <code>~/.config/locale.conf</code> 中.)</li>
</ul>
</div></dd></dl>
<p>这些 <code>locale.conf</code> 文件的优先级定义在 <code>/etc/profile.d/locale.sh</code> 中.
</p>
<p>参阅 <span class="plainlinks archwiki-template-man" title="$ man 5 locale.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/locale.conf.5">locale.conf(5)</a></span> 和相关连的文章获得更多细节.
</p>
<h3>
<span id=".E7.AB.8B.E5.8D.B3.E5.90.AF.E7.94.A8.E6.96.B0.E8.AE.BE.E7.BD.AE"></span><span class="mw-headline" id="立即启用新设置">立即启用新设置</span>
</h3>
<p><code>locale.conf</code> 的变更会在下次登录时生效,要立刻应用新的设置的话,可以运行:
</p>
<pre>$ unset LANG
$ source /etc/profile.d/locale.sh
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 这只有在 <code>LANG</code> 变量没设置时才会有用.而且如果你在 <code>locale.conf</code> 中移除了某些变量再运行这个命令,移除的那些变量在注销前依然存在.</div>
<h3>
<span id=".E5.85.B6.E5.AE.83.E7.94.A8.E4.BE.8B"></span><span class="mw-headline" id="其它用例">其它用例</span>
</h3>
<p>和 Locale 相关的变量也能像其他的 <a href="../en/Environment_variables.html" title="Environment variables">环境变量</a> 一样传递给其它程序.
</p>
<p>例如在开发时进行测试时,可以这样运行:
</p>
<pre>$ LANG=C ./my_application.sh
</pre>
<p>类似的,也可以通过设置环境变量让当前 shell中运行的程序使用特定的 Locale,(例如安装系统时):
</p>
<pre>$ export LANG=C
</pre>
<h2>
<span id=".E5.8F.98.E9.87.8F"></span><span class="mw-headline" id="变量">变量</span>
</h2>
<p><code>locale.conf</code> files support the following environment variables:
</p>
<ul>
<li><a href="#LANG:_%E9%BB%98%E8%AE%A4%E7%9A%84_Locale">LANG</a></li>
<li><a href="#LANGUAGE:_%E5%90%8E%E5%A4%87_Locale">LANGUAGE</a></li>
<li><code>LC_CTYPE</code></li>
<li><code>LC_NUMERIC</code></li>
<li><a href="#LC_TIME:_%E6%97%B6%E9%97%B4%E5%92%8C%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F">LC_TIME</a></li>
<li><a href="#LC_COLLATE:_%E6%8E%92%E5%BA%8F%E6%A0%BC%E5%BC%8F">LC_COLLATE</a></li>
<li><code>LC_MONETARY</code></li>
<li><code>LC_MESSAGES</code></li>
<li><code>LC_PAPER</code></li>
<li><code>LC_NAME</code></li>
<li><code>LC_ADDRESS</code></li>
<li><code>LC_TELEPHONE</code></li>
<li><code>LC_MEASUREMENT</code></li>
<li><code>LC_IDENTIFICATION</code></li>
</ul>
<p><span class="plainlinks archwiki-template-man" title="$ man 7 locale"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/locale.7">locale(7)</a></span> 包含了完整 <code>LC_*</code> 列表，<span class="plainlinks archwiki-template-man" title="$ man 5 locale"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/locale.5">locale(5)</a></span> 包含了详细定义。
</p>
<h3>
<span id="LANG:_.E9.BB.98.E8.AE.A4.E7.9A.84_Locale"></span><span class="mw-headline" id="LANG:_默认的_Locale">LANG: 默认的 Locale</span>
</h3>
<p>这个变量的值会覆盖掉所有未设置的 <code>LC_*</code> 变量的值.
</p>
<h3>
<span id="LANGUAGE:_.E5.90.8E.E5.A4.87_Locale"></span><span class="mw-headline" id="LANGUAGE:_后备_Locale">LANGUAGE: 后备 Locale</span>
</h3>
<p>使用 gettext 翻译的软件会按照 <code>LANGUAGE</code> 选择使用的语言。用户通过这个变量指定一个<a rel="nofollow" class="external text" href="https://www.gnu.org/software/gettext/manual/gettext.html#The-LANGUAGE-variable">locale 列表</a>，如果前面的 locale 缺少翻译，会自动使用后面的 locale 显示界面。 例如下面的例子使用简体中文,没有翻译时使用英文：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">locale.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">LANG="zh_CN.UTF-8"
LANGUAGE="zh_CN:en_GB:en"</pre>
<h3>
<span id="LC_TIME:_.E6.97.B6.E9.97.B4.E5.92.8C.E6.97.A5.E6.9C.9F.E6.A0.BC.E5.BC.8F"></span><span class="mw-headline" id="LC_TIME:_时间和日期格式">LC_TIME: 时间和日期格式</span>
</h3>
<p>如果 <code>LC_TIME</code> 设置成 <code>en_US.UTF-8</code>, 日期的格式为 "MM/DD/YYYY".  要使用 ISO 8601 标准的日期格式( "YYYY-MM-DD" ) ,使用:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">locale.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">LC_TIME=en_DK.UTF-8</pre>
<h3>
<span id="LC_COLLATE:_.E6.8E.92.E5.BA.8F.E6.A0.BC.E5.BC.8F"></span><span class="mw-headline" id="LC_COLLATE:_排序格式">LC_COLLATE: 排序格式</span>
</h3>
<p>这个变量的值决定排序和正则表达式的格式顺序.
</p>
<p>例如将它设置为 <code>C</code> 可以让 <i>ls</i> 命令按顺序列出 dotfile,大写字母开头的文件和小写字母开头的文件:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">locale.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">LC_COLLATE=C</pre>
<p>另见 <a rel="nofollow" class="external autonumber" href="https://superuser.com/a/448294">[2]</a>.
</p>
<p>为了避免可能的问题,Arch Linux 曾经在 <code>/etc/profile</code> 中设置 <code>LC_COLLATE=C</code> ,这个方法已经过时了.w deprecated.
</p>
<h2><span class="mw-headline" id="LC_ALL">LC_ALL</span></h2>
<p>这个变量的值会覆盖掉 <code>LANG</code> 和所有 <code>LC_*</code> 变量的值,无论它们是否设置.
</p>
<p>只有 <code>LC_ALL</code> 不能在 <code>locale.conf</code> 文件中,这意味着它只是为了测试和排除问题而设置,例如在 <code>/etc/profile</code> 中.
</p>
<h2>
<span id=".E8.87.AA.E5.AE.9A.E4.B9.89_Locale"></span><span class="mw-headline" id="自定义_Locale">自定义 Locale</span>
</h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> 因为相关的文件不在 <a rel="nofollow" class="external text" href="https://github.com/archlinux/svntogit-packages/blob/packages/glibc/trunk/PKGBUILD#L19">软件包 glibc 的 PKGBUILD 文件中的 backup 字段</a> 中,所以你修改的 Locale 会在下次升级 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glibc">glibc</a></span> 时被覆盖.所以请<i>创建</i>自定义 Locale (而不是修改已有的 Locale ). (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Locale_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Talk:Locale (简体中文)#</a>)</div>
</div>
<p><code>/usr/share/i18n/locales/</code> 存放着所有的 Locale,并且可以被修改以适应不同的需要.
</p>
<p>记得在修改 Locale 文件以后<a href="#%E7%94%9F%E6%88%90_locale">重新生成</a> Locale 并重新启动以让新的 Locales 生效.
</p>
<h3>
<span id=".E8.AE.BE.E7.BD.AE.E6.AF.8F.E5.91.A8.E7.9A.84.E7.AC.AC.E4.B8.80.E5.A4.A9"></span><span class="mw-headline" id="设置每周的第一天">设置每周的第一天</span>
</h3>
<p>很多国家都把星期一作为每周的第一天,可以像这样进行修改:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/share/i18n/locales/<i>chosen_locale</i></pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">LC_TIME
[...]
week            7;19971130;5
first_weekday   2
first_workday   2
</pre>
<h2>
<span id=".E6.8F.90.E7.A4.BA.E5.92.8C.E6.8A.80.E5.B7.A7"></span><span class="mw-headline" id="提示和技巧">提示和技巧</span>
</h2>
<h3>
<span id=".E4.BB.8E.E7.BB.88.E7.AB.AF.E4.B8.AD.E4.BB.A5.E5.8F.A6.E4.B8.80_Locale_.E8.BF.90.E8.A1.8C.E7.A8.8B.E5.BA.8F"></span><span class="mw-headline" id="从终端中以另一_Locale_运行程序">从终端中以另一 Locale 运行程序</span>
</h3>
<p>例如用 Hebrew Locale 运行 Abiword :
</p>
<pre>$ env LANG=he_IL.UTF-8 abiword &amp;
</pre>
<h3>
<span id=".E4.BB.8E.E6.A1.8C.E9.9D.A2.E4.BB.A5.E5.8F.A6.E4.B8.80_Locale_.E8.BF.90.E8.A1.8C.E7.A8.8B.E5.BA.8F"></span><span class="mw-headline" id="从桌面以另一_Locale_运行程序">从桌面以另一 Locale 运行程序</span>
</h3>
<p>把 <i>.desktop</i> 文件复制到你的用户目录:
</p>
<pre>$ cp /usr/share/applications/abiword.desktop ~/.local/share/applications/
</pre>
<p>编辑 <code>Exec</code> 选项:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.local/share/applications/abiword.desktop</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Exec=env LANG=he_IL.UTF-8 abiword %U</pre>
<h3>
<span id="Python.2C_ViM_.E5.92.8C_UTF-8"></span><span class="mw-headline" id="Python,_ViM_和_UTF-8">Python, ViM 和 UTF-8</span>
</h3>
<p>在 ViM 中运行 <code>:!python -c "import sys; print(sys.stdout.encoding)"</code> 时,输出可能是 <code>ANSI_X3.4-1968</code> (即使你设置了正确的Locale) .
把 <code>PYTHONIOENCODING</code> 变量设置成 <code>utf-8</code> 可以规避这个问题.
</p>
<h2>
<span id=".E6.8E.92.E9.99.A4.E9.97.AE.E9.A2.98"></span><span class="mw-headline" id="排除问题">排除问题</span>
</h2>
<h3>
<span id=".E6.88.91.E7.9A.84.E7.BB.88.E7.AB.AF.E4.B8.8D.E6.94.AF.E6.8C.81_UTF-8"></span><span class="mw-headline" id="我的终端不支持_UTF-8">我的终端不支持 UTF-8</span>
</h3>
<p>这些终端(不是全部)支持 UTF-8:
</p>
<ul>
<li>gnustep-terminal</li>
<li>konsole</li>
<li><a href="../en/List_of_applications.html#Terminal_emulators" class="mw-redirect" title="Mlterm">mlterm</a></li>
<li><a href="../en/Rxvt-unicode.html" title="Rxvt-unicode">rxvt-unicode</a></li>
<li><a href="../en/St.html" title="St">st</a></li>
<li><a href="../en/Termite.html" title="Termite">termite</a></li>
<li><a href="../en/List_of_applications/Utilities.html#VTE-based" title="List of applications/Utilities">VTE-based terminals</a></li>
<li>
<a href="../en/Xterm.html" title="Xterm">xterm</a> - 必须包含参数 <code>-u8</code>. 或者 <i>uxterm</i>, 随 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xterm">xterm</a></span> 提供.</li>
</ul>
<h4>
<span id="Gnome-terminal_.2F_rxvt-unicode_.E4.B8.8D.E6.94.AF.E6.8C.81_UTF-8"></span><span class="mw-headline" id="Gnome-terminal_/_rxvt-unicode_不支持_UTF-8">Gnome-terminal / rxvt-unicode 不支持 UTF-8</span>
</h4>
<p>你必须在 UTF-8 的 Locale 下运行它们在会有作用.按照上面的方法启用 <code>en_US.UTF-8</code> Locale ,将它设置成默认 Locale 后重新启动.
</p>
<h3>
<span id=".E6.88.91.E7.9A.84.E7.B3.BB.E7.BB.9F.E7.9A.84.E8.AF.AD.E8.A8.80.E8.BF.98.E6.98.AF.E4.B8.8D.E5.AF.B9"></span><span class="mw-headline" id="我的系统的语言还是不对">我的系统的语言还是不对</span>
</h3>
<p>可能其它文件设置了本该由 <code>locale.conf</code> 设置的 Locale (例如 <code>~/.pam_environment</code> ),详见 <a href="../en/Environment_variables.html#Defining_variables" title="Environment variables">Environment variables#Defining variables</a>.
</p>
<p>如果使用了桌面环境，可能是被桌面环境修改。例如 <a href="../en/GNOME.html" title="GNOME">GNOME</a> 的语言设置会覆盖 <code>locale.conf</code> 中的设置。
</p>
<p><a href="../en/KDE.html" title="KDE">KDE</a> Plasma 也通过系统设置修改界面的语言，如果按本文修改后还是原来的 locale，<a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1435219#p1435219">请删除</a> <code>~/.config/plasma-localerc</code> (之前是: <code>~/.config/plasma-locale-settings.sh</code>).或在区域设置的格式菜单中设置需要的语言。
</p>
<h2>
<span id=".E5.8F.A6.E8.A7.81"></span><span class="mw-headline" id="另见">另见</span>
</h2>
<ul>
<li><a href="https://wiki.gentoo.org/wiki/Localization/Guide" class="extiw" title="gentoo:Localization/Guide">Gentoo:Localization/Guide</a></li>
<li><a rel="nofollow" class="external text" href="http://wikigentoo.ksiezyc.pl/Locales.htm">Supposedly 2008, or earlier, Gentoo wiki article</a></li>
<li><a rel="nofollow" class="external text" href="http://demo.icu-project.org/icu-bin/locexp?_=en_US&amp;x=col">ICU's interactive collation testing</a></li>
<li><a rel="nofollow" class="external text" href="http://www.openi18n.org/">Free Standards Group Open Internationalisation Initiative</a></li>
<li>
<a rel="nofollow" class="external text" href="http://pubs.opengroup.org/onlinepubs/007908799/xbd/locale.html"><i>The Single UNIX Specification</i> definition of Locale</a> by The Open Group</li>
<li><a rel="nofollow" class="external text" href="https://help.ubuntu.com/community/EnvironmentVariables#Locale_setting_variables">Locale environment variables</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../zh-CN/Category:Localization.html" title="Category:Localization (简体中文)">Localization (简体中文)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Locale_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=646899">https://wiki.archlinux.org/index.php?title=Locale_(简体中文)&amp;oldid=646899</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 26 December 2020, at 12:12.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
