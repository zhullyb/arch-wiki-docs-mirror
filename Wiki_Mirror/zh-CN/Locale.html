<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Locale (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Locale_简体中文 rootpage-Locale_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Locale (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/Environment_variables.html" title="Environment variables">Environment variables</a></li>
<li><a href="../en/Localization.html" title="Localization">Localization</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="../en/Locale.html" title="Locale">Locale</a> 的<a href="../zh-CN/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2021-03-31。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Locale&amp;diff=0&amp;oldid=654175">更改</a>，则您可以帮助同步翻译。</div>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glibc">glibc</a></span> 和应用程序、函数库库使用 <a href="https://en.wikipedia.org/wiki/zh:%E5%8C%BA%E5%9F%9F%E8%AE%BE%E7%BD%AE" class="extiw" title="w:zh:区域设置">区域设置</a> 显示本地化的文字、货币、时间、日期、特殊字符等包含地域属性的内容。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%E7%94%9F%E6%88%90%E5%8C%BA%E5%9F%9F%E8%AE%BE%E7%BD%AE"><span class="tocnumber">1</span> <span class="toctext">生成区域设置</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#%E8%AE%BE%E7%BD%AE%E5%BD%93%E5%89%8D%E5%8C%BA%E5%9F%9F"><span class="tocnumber">2</span> <span class="toctext">设置当前区域</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#%E7%B3%BB%E7%BB%9F%E5%8C%BA%E5%9F%9F%E8%AE%BE%E7%BD%AE"><span class="tocnumber">2.1</span> <span class="toctext">系统区域设置</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#%E5%9C%A8%E7%94%A8%E6%88%B7%E4%BC%9A%E8%AF%9D%E4%B8%AD%E8%A6%86%E7%9B%96%E7%B3%BB%E7%BB%9F%E5%8C%BA%E5%9F%9F%E8%AE%BE%E7%BD%AE"><span class="tocnumber">2.2</span> <span class="toctext">在用户会话中覆盖系统区域设置</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#%E7%AB%8B%E5%8D%B3%E5%90%AF%E7%94%A8%E6%96%B0%E8%AE%BE%E7%BD%AE"><span class="tocnumber">2.3</span> <span class="toctext">立即启用新设置</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#%E5%85%B6%E5%AE%83%E7%94%A8%E4%BE%8B"><span class="tocnumber">2.4</span> <span class="toctext">其它用例</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7">
<a href="#%E5%8F%98%E9%87%8F"><span class="tocnumber">3</span> <span class="toctext">变量</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#LANG%EF%BC%9A%E9%BB%98%E8%AE%A4%E7%9A%84%E5%8C%BA%E5%9F%9F%E8%AE%BE%E7%BD%AE"><span class="tocnumber">3.1</span> <span class="toctext">LANG：默认的区域设置</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#LANGUAGE%EF%BC%9A%E5%90%8E%E5%A4%87%E5%8C%BA%E5%9F%9F%E8%AE%BE%E7%BD%AE"><span class="tocnumber">3.2</span> <span class="toctext">LANGUAGE：后备区域设置</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#LC_TIME%EF%BC%9A%E6%97%B6%E9%97%B4%E5%92%8C%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F"><span class="tocnumber">3.3</span> <span class="toctext">LC_TIME：时间和日期格式</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#LC_COLLATE%EF%BC%9A%E6%8E%92%E5%BA%8F%E6%A0%BC%E5%BC%8F"><span class="tocnumber">3.4</span> <span class="toctext">LC_COLLATE：排序格式</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#LC_ALL%EF%BC%9A%E6%B5%8B%E8%AF%95%E5%92%8C%E6%8E%92%E9%99%A4%E9%97%AE%E9%A2%98"><span class="tocnumber">3.5</span> <span class="toctext">LC_ALL：测试和排除问题</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13">
<a href="#%E7%96%91%E9%9A%BE%E8%A7%A3%E7%AD%94"><span class="tocnumber">4</span> <span class="toctext">疑难解答</span></a>
<ul>
<li class="toclevel-2 tocsection-14">
<a href="#%E6%88%91%E7%9A%84%E7%BB%88%E7%AB%AF%E4%B8%8D%E6%94%AF%E6%8C%81_UTF-8"><span class="tocnumber">4.1</span> <span class="toctext">我的终端不支持 UTF-8</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="#Gnome-terminal_/_rxvt-unicode_%E4%B8%8D%E6%94%AF%E6%8C%81_UTF-8"><span class="tocnumber">4.1.1</span> <span class="toctext">Gnome-terminal / rxvt-unicode 不支持 UTF-8</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-16"><a href="#%E6%88%91%E7%9A%84%E7%B3%BB%E7%BB%9F%E7%9A%84%E8%AF%AD%E8%A8%80%E8%BF%98%E6%98%AF%E4%B8%8D%E5%AF%B9"><span class="tocnumber">4.2</span> <span class="toctext">我的系统的语言还是不对</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#%E5%8F%A6%E8%A7%81"><span class="tocnumber">5</span> <span class="toctext">另见</span></a></li>
</ul>
</div>

<h2>
<span id=".E7.94.9F.E6.88.90.E5.8C.BA.E5.9F.9F.E8.AE.BE.E7.BD.AE"></span><span class="mw-headline" id="生成区域设置">生成区域设置</span>
</h2>
<p>区域设置的名称通常用 <code>[language][_TERRITORY][.CODESET][@modifier]</code> 的格式表示，<i>language</i> 是 <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes" class="extiw" title="w:List of ISO 639-1 codes">ISO 639 语言代码</a>, <i>territory</i> 是 <a href="https://en.wikipedia.org/wiki/ISO_3166-1#Current_codes" class="extiw" title="w:ISO 3166-1">ISO 3166 国家代码</a>, <i>codeset</i> 是 <a href="https://en.wikipedia.org/wiki/Character_encoding" class="extiw" title="w:Character encoding">字符集</a> 或 <a href="https://en.wikipedia.org/wiki/ISO/IEC_8859-1" class="extiw" title="w:ISO/IEC 8859-1">ISO-8859-1</a>、<a href="https://en.wikipedia.org/wiki/UTF-8" class="extiw" title="w:UTF-8">UTF-8</a> 这样的编码方式。请参考 <span class="plainlinks archwiki-template-man" title="$ man 3 setlocale"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/setlocale.3">setlocale(3)</a></span>。
</p>
<p>要列出所有启用的区域设置，使用：
</p>
<pre>$ locale -a
</pre>
<p>启用一个区域设置前，需要先生成它。在 <code>/etc/locale.gen</code> 中取消对应的注释，然后执行 <i>locale-gen</i>。注释掉某行，则会移除对应的区域设置。请启用所有用户都可能使用的区域设置及相关<a href="#%E5%8F%98%E9%87%8F">#变量</a>。
</p>
<p>例如对于使用美式英语和中国简体的用户：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/locale.gen</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
#en_SG ISO-8859-1  
en_US.UTF-8 UTF-8  
#en_US ISO-8859-1  
...
#zh_CN.GBK GBK  
zh_CN.UTF-8 UTF-8  
#zh_CN GB2312  
...
</pre>
<p>编辑完成以后,通过下面的命令生成 Locale：
</p>
<pre># locale-gen
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 
<ul>
<li>每次更新 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glibc">glibc</a></span> 时 <code>locale-gen</code> 会自动运行。<a rel="nofollow" class="external autonumber" href="https://github.com/archlinux/svntogit-packages/blob/packages/glibc/trunk/glibc.install#L2">[1]</a>
</li>
<li>建议优先使用 <code>UTF-8</code>。<a rel="nofollow" class="external autonumber" href="https://utf8everywhere.org/">[2]</a>
</li>
</ul>
</div>
<h2>
<span id=".E8.AE.BE.E7.BD.AE.E5.BD.93.E5.89.8D.E5.8C.BA.E5.9F.9F"></span><span class="mw-headline" id="设置当前区域">设置当前区域</span>
</h2>
<p>想要显示正在使用的 Locale 和相关的环境变量，运行：
</p>
<pre>$ locale
</pre>
<p>要使用的区域设置（从前面生成的区域设置中选择）设置在 <code>locale.conf</code> 文件中。每一个 <code>locale.conf</code> 文件都必须包含一些<a href="../zh-CN/Environment_variables.html" title="Environment variables (简体中文)">环境变量</a>赋值语句，其格式与 <i>locale</i> 命令输出的格式相同。
</p>
<p>要查看已经生成的区域设置：
</p>
<pre>$ localedef --list-archive
</pre>
<p>或者使用 <span class="plainlinks archwiki-template-man" title="$ man 1 localectl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/localectl.1">localectl(1)</a></span>：
</p>
<pre>$ localectl list-locales
</pre>
<h3>
<span id=".E7.B3.BB.E7.BB.9F.E5.8C.BA.E5.9F.9F.E8.AE.BE.E7.BD.AE"></span><span class="mw-headline" id="系统区域设置">系统区域设置</span>
</h3>
<p>要设置整个系统使用的区域设置，需要在 <code>/etc/locale.conf</code> 中写入 <code>LANG</code> 变量，以下的 <i>zh_CN.UTF-8</i> 应为 <code>/etc/locale.gen</code> 中某个未注释条目的<b>第一列</b>：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">locale.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">LANG=zh_CN.UTF-8</pre>
<p>或者使用：
</p>
<pre># localectl set-locale LANG=zh_CN.UTF-8
</pre>
<p>参阅<a href="#%E5%8F%98%E9%87%8F">#变量</a>和 <span class="plainlinks archwiki-template-man" title="$ man 1 localectl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/localectl.1">localectl(1)</a></span> 获得更多细节。
</p>
<h3>
<span id=".E5.9C.A8.E7.94.A8.E6.88.B7.E4.BC.9A.E8.AF.9D.E4.B8.AD.E8.A6.86.E7.9B.96.E7.B3.BB.E7.BB.9F.E5.8C.BA.E5.9F.9F.E8.AE.BE.E7.BD.AE"></span><span class="mw-headline" id="在用户会话中覆盖系统区域设置">在用户会话中覆盖系统区域设置</span>
</h3>
<p>系统使用的区域设置可以通过用户编辑自己的 <code>~/.config/locale.conf</code>（更一般地，<code>$XDG_CONFIG_HOME/locale.conf</code> 或 <code>$HOME/.config/locale.conf</code>）来覆盖。
</p>
<p>这些 <code>locale.conf</code> 文件的优先级定义在 <code>/etc/profile.d/locale.sh</code> 中。
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 
<ul>
<li>设置用户级区域设置 ，能让 <code>/var/log</code> 中的日志以英语输出而在用户环境中使用所选语言。</li>
<li>建立 <code>/etc/skel/.config/locale.conf</code> 文件，可以让所有通过 <i>useradd</i> 命令和 <code>-m</code> 选项创建的新用户自动拥有一份相应的 <code>~/.config/locale.conf</code>。</li>
</ul>
</div>
<h3>
<span id=".E7.AB.8B.E5.8D.B3.E5.90.AF.E7.94.A8.E6.96.B0.E8.AE.BE.E7.BD.AE"></span><span class="mw-headline" id="立即启用新设置">立即启用新设置</span>
</h3>
<p><code>locale.conf</code> 的变更会在下次登录时生效，要立刻应用新的设置的话，可以运行：
</p>
<pre>$ unset LANG
$ source /etc/profile.d/locale.sh
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> <code>LANG</code> 变量必须先被 <code>unset</code>，否则 <code>locale.sh</code> 不会从 <code>locale.conf</code> 中更新变量。只有新增的或被修改的命令会被自动更新，从 <code>locale.conf</code> 被移除的变量在注销前依然存在。</div>
<h3>
<span id=".E5.85.B6.E5.AE.83.E7.94.A8.E4.BE.8B"></span><span class="mw-headline" id="其它用例">其它用例</span>
</h3>
<p>和区域设置相关的变量也能像其他的<a href="../zh-CN/Environment_variables.html" title="Environment variables (简体中文)">环境变量</a>一样传递给其它程序。
</p>
<p>例如在开发和测试某个程序时,可以这样运行：
</p>
<pre>$ LANG=C ./my_application.sh
</pre>
<p>类似的，也可以通过设置环境变量让当前 shell 中运行的程序使用特定的区域设置(例如安装系统时)：
</p>
<pre>$ export LANG=C
</pre>
<h2>
<span id=".E5.8F.98.E9.87.8F"></span><span class="mw-headline" id="变量">变量</span>
</h2>
<p><code>locale.conf</code> 文件支持以下环境变量。
</p>
<ul>
<li><a href="#LANG%EF%BC%9A%E9%BB%98%E8%AE%A4%E7%9A%84%E5%8C%BA%E5%9F%9F%E8%AE%BE%E7%BD%AE">LANG</a></li>
<li><a href="#LANGUAGE%EF%BC%9A%E5%90%8E%E5%A4%87%E5%8C%BA%E5%9F%9F%E8%AE%BE%E7%BD%AE">LANGUAGE</a></li>
<li><code>LC_ADDRESS</code></li>
<li><a href="#LC_COLLATE%EF%BC%9A%E6%8E%92%E5%BA%8F%E6%A0%BC%E5%BC%8F">LC_COLLATE</a></li>
<li><code>LC_CTYPE</code></li>
<li><code>LC_IDENTIFICATION</code></li>
<li><code>LC_MEASUREMENT</code></li>
<li><code>LC_MESSAGES</code></li>
<li><code>LC_MONETARY</code></li>
<li><code>LC_NAME</code></li>
<li><code>LC_NUMERIC</code></li>
<li><code>LC_PAPER</code></li>
<li><code>LC_TELEPHONE</code></li>
<li><a href="#LC_TIME%EF%BC%9A%E6%97%B6%E9%97%B4%E5%92%8C%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F">LC_TIME</a></li>
</ul>
<p><span class="plainlinks archwiki-template-man" title="$ man 7 locale"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/locale.7">locale(7)</a></span> 包含了完整 <code>LC_*</code> 列表，<span class="plainlinks archwiki-template-man" title="$ man 5 locale"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/locale.5">locale(5)</a></span> 包含了详细定义。
</p>
<h3>
<span id="LANG.EF.BC.9A.E9.BB.98.E8.AE.A4.E7.9A.84.E5.8C.BA.E5.9F.9F.E8.AE.BE.E7.BD.AE"></span><span class="mw-headline" id="LANG：默认的区域设置">LANG：默认的区域设置</span>
</h3>
<p>这个变量的值会覆盖掉所有未设置的 <code>LC_*</code> 变量的值。
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 假设您是西班牙的英语使用者，并且您希望程序根据西班牙的惯例处理数字和日期，仅消息为英语。您可以将 <code>LANG</code> 设置为 <code>es_ES.UTF-8</code>，并将 <code>LC_MESSAGES</code>（用于消息翻译的用户界面）设置为 <code>en_US.UTF -8</code>。</div>
<h3>
<span id="LANGUAGE.EF.BC.9A.E5.90.8E.E5.A4.87.E5.8C.BA.E5.9F.9F.E8.AE.BE.E7.BD.AE"></span><span class="mw-headline" id="LANGUAGE：后备区域设置">LANGUAGE：后备区域设置</span>
</h3>
<p>使用 gettext 翻译的软件会按照 <code>LANGUAGE</code> 选择使用的语言。用户通过这个变量指定一个区域设置<a rel="nofollow" class="external text" href="https://www.gnu.org/software/gettext/manual/gettext.html#The-LANGUAGE-variable">列表</a>，如果前面的区域设置缺少翻译，会自动使用后面的区域设置显示界面。例如一个澳大利亚用户可能更希望在没有合适的澳大利亚英语翻译时回退到英式英语而不是美式英语：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">locale.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">LANG=en_AU.UTF-8
LANGUAGE=en_AU:en_GB:en</pre>
<h3>
<span id="LC_TIME.EF.BC.9A.E6.97.B6.E9.97.B4.E5.92.8C.E6.97.A5.E6.9C.9F.E6.A0.BC.E5.BC.8F"></span><span class="mw-headline" id="LC_TIME：时间和日期格式">LC_TIME：时间和日期格式</span>
</h3>
<p>如果 <code>LC_TIME</code> 设置成 <code>en_US.UTF-8</code>，日期的格式为 "MM/DD/YYYY"。要使用 ISO 8601 标准的日期格式( "YYYY-MM-DD" ) ,使用：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">locale.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">LC_TIME=en_DK.UTF-8</pre>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glibc">glibc</a></span> 2.29 修复了一个错误，<code>en_US.UTF-8</code> 开始如预期般显示 12 小时格式的时间。如果要使用 24 小时制，请使用 <code>LC_TIME=en_GB.UTF-8</code>。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 使用此变量来格式化日期不是对程序的强制要求。例如，<span class="plainlinks archwiki-template-man" title="$ man 1 date"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/date.1">date(1)</a></span> 使用其自己的参数来格式化时间，<a href="../en/Firefox.html" title="Firefox">Firefox</a> 在版本 57 后停止使用 <code>LC_TIME</code>（<a rel="nofollow" class="external text" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1429578">Bug 1429578</a>）。</div>
<h3>
<span id="LC_COLLATE.EF.BC.9A.E6.8E.92.E5.BA.8F.E6.A0.BC.E5.BC.8F"></span><span class="mw-headline" id="LC_COLLATE：排序格式">LC_COLLATE：排序格式</span>
</h3>
<p>这个变量的值决定排序和正则表达式的格式顺序。
</p>
<p>例如将它设置为 <code>C</code> 可以让 <i>ls</i> 命令首先列出点开头的文件，然后是大写字母开头的文件和小写字母开头的文件：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">locale.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">LC_COLLATE=C</pre>
<p>另见 <a rel="nofollow" class="external autonumber" href="https://superuser.com/a/448294">[3]</a>。
</p>
<p>为了避免潜在的问题，Arch Linux 曾经在 <code>/etc/profile</code> 中设置 <code>LC_COLLATE=C</code>，这个方法已经过时了。
</p>
<h3>
<span id="LC_ALL.EF.BC.9A.E6.B5.8B.E8.AF.95.E5.92.8C.E6.8E.92.E9.99.A4.E9.97.AE.E9.A2.98"></span><span class="mw-headline" id="LC_ALL：测试和排除问题">LC_ALL：测试和排除问题</span>
</h3>
<p>这个变量的值会覆盖掉 <code>LANG</code> 和所有 <code>LC_*</code> 变量的值，无论它们是否设置。
</p>
<p>只有 <code>LC_ALL</code> <b>不能</b>出现在 <code>locale.conf</code> 文件中：它只能为了测试和排除问题而设置，例如在 <code>/etc/profile</code> 中。
</p>
<h2>
<span id=".E7.96.91.E9.9A.BE.E8.A7.A3.E7.AD.94"></span><span class="mw-headline" id="疑难解答">疑难解答</span>
</h2>
<h3>
<span id=".E6.88.91.E7.9A.84.E7.BB.88.E7.AB.AF.E4.B8.8D.E6.94.AF.E6.8C.81_UTF-8"></span><span class="mw-headline" id="我的终端不支持_UTF-8">我的终端不支持 UTF-8</span>
</h3>
<p>这里列出了一些（不是全部）支持 UTF-8 的终端：
</p>
<ul>
<li>gnustep-terminal</li>
<li>konsole</li>
<li><a href="../en/List_of_applications.html#Terminal_emulators" class="mw-redirect" title="Mlterm">mlterm</a></li>
<li><a href="../en/Rxvt-unicode.html" title="Rxvt-unicode">rxvt-unicode</a></li>
<li><a href="../en/St.html" title="St">st</a></li>
<li><a href="../zh-CN/8314ab1a17f32a288211cd6cba3d4eb8.html#%E5%9F%BA%E4%BA%8E_VTE" title="List of applications (简体中文)/Utilities (简体中文)">基于 VTE 的终端</a></li>
<li>
<a href="../en/Xterm.html" title="Xterm">xterm</a> - 启动时使用参数 <code>-u8</code>，或者配置资源 <code>xterm*utf8: 2</code>。</li>
</ul>
<h4>
<span id="Gnome-terminal_.2F_rxvt-unicode_.E4.B8.8D.E6.94.AF.E6.8C.81_UTF-8"></span><span class="mw-headline" id="Gnome-terminal_/_rxvt-unicode_不支持_UTF-8">Gnome-terminal / rxvt-unicode 不支持 UTF-8</span>
</h4>
<p>你必须在 UTF-8 的区域设置下运行它们才会有作用。按照上面的方法启用 <code>en_US.UTF-8</code>（或者其它使用 UTF-8 的区域设置）并将它设置成默认区域设置后重启系统。
</p>
<h3>
<span id=".E6.88.91.E7.9A.84.E7.B3.BB.E7.BB.9F.E7.9A.84.E8.AF.AD.E8.A8.80.E8.BF.98.E6.98.AF.E4.B8.8D.E5.AF.B9"></span><span class="mw-headline" id="我的系统的语言还是不对">我的系统的语言还是不对</span>
</h3>
<p>可能其它文件设置了本该由 <code>locale.conf</code> 设置的区域设置（例如 <code>~/.pam_environment</code>），详见 <a href="../zh-CN/Environment_variables.html#%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F" title="Environment variables (简体中文)">定义环境变量</a>。
</p>
<p>如果使用了桌面环境，可能是被桌面环境修改。例如 <a href="../en/GNOME.html" title="GNOME">GNOME</a> 的语言设置会覆盖 <code>locale.conf</code> 中的设置。
</p>
<p><a href="../en/KDE.html" title="KDE">KDE</a> Plasma 也通过系统设置修改界面的语言，如果按本文修改后还是原来的区域设置，请<a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1435219#p1435219">删除</a> <code>~/.config/plasma-localerc</code> (之前是：<code>~/.config/plasma-locale-settings.sh</code>)。
</p>
<p>如果您正在结合 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=accountsservice">accountsservice</a></span> 使用显示管理器，请遵循 <a href="../zh-CN/Display_manager.html#%E8%AE%BE%E7%BD%AE%E8%AF%AD%E8%A8%80" title="Display manager (简体中文)">Display manager (简体中文)#设置语言</a> 中的说明。
</p>
<p><a href="../en/LightDM.html" title="LightDM">LightDM</a> 将自动使用 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=accountsservice">accountsservice</a></span> 来设配置用户的区域设置（如果已安装）。否则，LightDM 将用户会话配置存储在 <code>~/.dmrc</code> 中。也可能从那里检索到意料外的的区域设置。
</p>
<h2>
<span id=".E5.8F.A6.E8.A7.81"></span><span class="mw-headline" id="另见">另见</span>
</h2>
<ul>
<li><a href="https://wiki.gentoo.org/wiki/Localization/Guide" class="extiw" title="gentoo:Localization/Guide">Gentoo:Localization/Guide</a></li>
<li><a rel="nofollow" class="external text" href="http://wikigentoo.ksiezyc.pl/Locales.htm">Supposedly 2008, or earlier, Gentoo wiki article</a></li>
<li><a rel="nofollow" class="external text" href="http://demo.icu-project.org/icu-bin/locexp?_=en_US&amp;x=col">ICU's interactive collation testing</a></li>
<li><a rel="nofollow" class="external text" href="http://www.openi18n.org/">Free Standards Group Open Internationalisation Initiative</a></li>
<li>
<a rel="nofollow" class="external text" href="https://pubs.opengroup.org/onlinepubs/007908799/xbd/locale.html"><i>The Single UNIX Specification</i> definition of Locale</a> by The Open Group</li>
<li><a rel="nofollow" class="external text" href="https://help.ubuntu.com/community/EnvironmentVariables#Locale_setting_variables">Locale environment variables</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../zh-CN/Category:Localization.html" title="Category:Localization (简体中文)">Localization (简体中文)</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Locale_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=661795">https://wiki.archlinux.org/index.php?title=Locale_(简体中文)&amp;oldid=661795</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 18 April 2021, at 13:48.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
