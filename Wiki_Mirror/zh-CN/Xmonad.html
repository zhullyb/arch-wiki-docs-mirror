<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>xmonad (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Xmonad_简体中文 rootpage-Xmonad_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">xmonad (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><span></span>
</p>
<div class="noprint archwiki-template-message">
<p><a href="/title/File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a><b>本文或本节需要<a href="/title/ArchWiki:Contributing_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E7%BF%BB%E8%AF%91" title="ArchWiki:Contributing (简体中文)">翻译</a>。要贡献翻译，请访问<a href="/title/ArchWiki_Translation_Team_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" class="mw-redirect" title="ArchWiki Translation Team (简体中文)">简体中文翻译团队</a>。</b><a href="/title/File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>附注：</b> 本文尚未进行任何翻译（在 <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:Xmonad_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Talk:Xmonad (简体中文)#</a> 中讨论）</div>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="/title/Xmonad" title="Xmonad">Xmonad</a> 的<a href="/title/ArchWiki:Translation_Team_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2020-08-17。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Xmonad&amp;diff=0&amp;oldid=631650">更改</a>，则您可以帮助同步翻译。</div>
<p><a rel="nofollow" class="external text" href="https://xmonad.org/">xmonad</a> 是 X 下的一个平铺 <a href="/title/Window_manager" title="Window manager">窗口管理器</a>。窗口会自动排列、无间隙或重叠地平铺在屏幕上，从而最大限度地利用屏幕。窗口管理器功能可通过键盘访问：鼠标操作是可选的。 
</p>
<p>Xmonad 使用 <a rel="nofollow" class="external text" href="https://haskell.org/">Haskell 语言</a> 编写、配置并扩展功能的。用户可以将自定义布局算法、按键绑定和其他扩展功能写在配置文件中。
</p>
<p>布局是动态应用的，并且在每个工作空间上可以使用不同的布局。 Xmonad 完全支持 Xinerama，后者可允许将窗口平铺在多个物理屏幕上。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%E5%AE%89%E8%A3%85"><span class="tocnumber">1</span> <span class="toctext">安装</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Starting"><span class="tocnumber">2</span> <span class="toctext">Starting</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#Configuration"><span class="tocnumber">3</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#A_base_desktop_configuration"><span class="tocnumber">3.1</span> <span class="toctext">A base desktop configuration</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Exiting_xmonad"><span class="tocnumber">4</span> <span class="toctext">Exiting xmonad</span></a></li>
<li class="toclevel-1 tocsection-6">
<a href="#Tips_and_tricks"><span class="tocnumber">5</span> <span class="toctext">Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#X-Selection-Paste"><span class="tocnumber">5.1</span> <span class="toctext">X-Selection-Paste</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Keyboard_shortcuts"><span class="tocnumber">5.2</span> <span class="toctext">Keyboard shortcuts</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Targeting_unbound_keys"><span class="tocnumber">5.3</span> <span class="toctext">Targeting unbound keys</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Increase_the_number_of_workspaces"><span class="tocnumber">5.4</span> <span class="toctext">Increase the number of workspaces</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Making_room_for_docks/panels/trays_(Xmobar,_Tint2,_Conky,_etc)"><span class="tocnumber">5.5</span> <span class="toctext">Making room for docks/panels/trays (Xmobar, Tint2, Conky, etc)</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Equally_sized_gaps_between_windows"><span class="tocnumber">5.6</span> <span class="toctext">Equally sized gaps between windows</span></a></li>
<li class="toclevel-2 tocsection-13">
<a href="#Using_xmobar_with_xmonad"><span class="tocnumber">5.7</span> <span class="toctext">Using xmobar with xmonad</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#Quick,_less_flexible"><span class="tocnumber">5.7.1</span> <span class="toctext">Quick, less flexible</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#More_configurable"><span class="tocnumber">5.7.2</span> <span class="toctext">More configurable</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Verify_XMobar_config"><span class="tocnumber">5.7.3</span> <span class="toctext">Verify XMobar config</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-17"><a href="#Controlling_xmonad_with_external_scripts"><span class="tocnumber">5.8</span> <span class="toctext">Controlling xmonad with external scripts</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Launching_another_window_manager_within_xmonad"><span class="tocnumber">5.9</span> <span class="toctext">Launching another window manager within xmonad</span></a></li>
<li class="toclevel-2 tocsection-19">
<a href="#KDE_and_xmonad"><span class="tocnumber">5.10</span> <span class="toctext">KDE and xmonad</span></a>
<ul>
<li class="toclevel-3 tocsection-20"><a href="#Disable_plasmashell"><span class="tocnumber">5.10.1</span> <span class="toctext">Disable plasmashell</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-21"><a href="#IM_Layout_for_Skype"><span class="tocnumber">5.11</span> <span class="toctext">IM Layout for Skype</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Example_configurations"><span class="tocnumber">5.12</span> <span class="toctext">Example configurations</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-23">
<a href="#Troubleshooting"><span class="tocnumber">6</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-24">
<a href="#GNOME_3_and_xmonad"><span class="tocnumber">6.1</span> <span class="toctext">GNOME 3 and xmonad</span></a>
<ul>
<li class="toclevel-3 tocsection-25"><a href="#Compositing_in_GNOME_and_xmonad"><span class="tocnumber">6.1.1</span> <span class="toctext">Compositing in GNOME and xmonad</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-26"><a href="#Xfce_4_and_xmonad"><span class="tocnumber">6.2</span> <span class="toctext">Xfce 4 and xmonad</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#Missing_xmonad-i386-linux_or_xmonad-x86_64-linux"><span class="tocnumber">6.3</span> <span class="toctext">Missing xmonad-i386-linux or xmonad-x86_64-linux</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Problems_with_Java_applications"><span class="tocnumber">6.4</span> <span class="toctext">Problems with Java applications</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#Empty_space_at_the_bottom_of_gvim_or_terminals"><span class="tocnumber">6.5</span> <span class="toctext">Empty space at the bottom of gvim or terminals</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#Chromium/Chrome_will_not_go_fullscreen"><span class="tocnumber">6.6</span> <span class="toctext">Chromium/Chrome will not go fullscreen</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Multitouch_/_touchegg"><span class="tocnumber">6.7</span> <span class="toctext">Multitouch / touchegg</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#Keybinding_issues_with_an_azerty_keyboard_layout"><span class="tocnumber">6.8</span> <span class="toctext">Keybinding issues with an azerty keyboard layout</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#GNOME_3_mod4+p_changes_display_configuration_instead_of_launching_dmenu"><span class="tocnumber">6.9</span> <span class="toctext">GNOME 3 mod4+p changes display configuration instead of launching dmenu</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#Problems_with_focused_border_in_VirtualBox"><span class="tocnumber">6.10</span> <span class="toctext">Problems with focused border in VirtualBox</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#Steam_games_(Half-Life,_Left_4_Dead,_%E2%80%A6)_and_xmonad"><span class="tocnumber">6.11</span> <span class="toctext">Steam games (Half-Life, Left 4 Dead, …) and xmonad</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#LibreOffice_-_focus_flicking_between_main_window_and_dialog"><span class="tocnumber">6.12</span> <span class="toctext">LibreOffice - focus flicking between main window and dialog</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#Problems_with_finding_shared_libraries_after_update"><span class="tocnumber">6.13</span> <span class="toctext">Problems with finding shared libraries after update</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#Broken/missing_XMonad.Prompt_and_window_decorations"><span class="tocnumber">6.14</span> <span class="toctext">Broken/missing XMonad.Prompt and window decorations</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-39"><a href="#See_also"><span class="tocnumber">7</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="安装">安装</span>
</h2>
<p><a href="/title/%E5%AE%89%E8%A3%85" class="mw-redirect" title="安装">安装</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xmonad">xmonad</a></span> 软件包，其提供了最基本的配置，最好还安装上 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xmonad-contrib">xmonad-contrib</a></span>，可获得更有用的桌面配置以及其他平铺算法、配置和脚本等。
</p>
<p>此外，可安装开发版本的 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xmonad-git/">xmonad-git</a></span><sup><small>AUR</small></sup>, 其还附带了些额外的依赖；以及同时安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xmonad-contrib-git/">xmonad-contrib-git</a></span><sup><small>AUR</small></sup>。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 记得在升级 xmonad 后运行 <code>xmonad --recompile</code> 命令，否则下次启动寻找共享库时可能会遇到问题。</div>
<h2><span class="mw-headline" id="Starting">Starting</span></h2>
<p>Run <code>xmonad</code> with <a href="/title/Xinit" title="Xinit">xinit</a>.
</p>
<p>Alternatively, select <i>Xmonad</i> from the session menu in a <a href="/title/Display_manager" title="Display manager">display manager</a> of choice.
</p>
<p>Make sure you have the <a href="/title/Xterm" title="Xterm">Xterm</a> package installed or have changed the terminal emulator in the configuration. Otherwise you will not be able to do anything in xmonad.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> By default, xmonad does not set an X cursor, therefore the "cross" cursor is usually displayed. To set the expected left-pointer, see <a href="/title/Cursor_themes#Change_X_shaped_default_cursor" title="Cursor themes">Cursor themes#Change X shaped default cursor</a>.</div>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>Create the <code>~/.xmonad</code> directory and the <code>~/.xmonad/xmonad.hs</code> file and edit it as described below.
</p>
<p>After changes to <code>~/.xmonad/xmonad.hs</code> are made, use the Mod+q shortcut to recompile and have them take effect.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> The default configuration for xmonad is quite usable and it is achieved by simply running without an <code>xmonad.hs</code> entirely.</div>
<p>Because the xmonad configuration file is written in Haskell, non-programmers may have a difficult time adjusting settings.  For detailed HOWTO's and example configurations, we refer you to the following resources:
</p>
<ul>
<li><a rel="nofollow" class="external text" href="https://wiki.haskell.org/Xmonad">xmonad wiki</a></li>
<li><a rel="nofollow" class="external text" href="https://wiki.haskell.org/Xmonad/Config_archive">xmonad configuration archive</a></li>
<li><a rel="nofollow" class="external text" href="https://wiki.haskell.org/Xmonad/Frequently_asked_questions">xmonad FAQ</a></li>
<li>Arch Linux <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=40636">forum thread</a>
</li>
</ul>
<p>The best approach is to only place your changes and customizations in <code>~/.xmonad/xmonad.hs</code> and write it such that any unset parameters are picked up from the built-in def function.
</p>
<p>This is achieved by writing an <code>xmonad.hs</code> like this:
</p>
<pre>import XMonad

main = xmonad def
    { terminal    = "urxvt"
    , modMask     = mod4Mask
    , borderWidth = 3
    }
</pre>
<p>This simply overrides the default terminal and borderWidth while leaving all other settings at their defaults (inherited from the XConfig value def).
</p>
<p>As things get more complicated, it can be handy to call configuration options by function name inside the main function, and define these separately in their own sections of your <code>~/.xmonad/xmonad.hs</code>. This makes large customizations like your layout and manage hooks easier to visualize and maintain.
</p>
<p>The simple <code>xmonad.hs</code> from above could have been written like this:
</p>
<pre>import XMonad

main = do
  xmonad $ def
    { terminal    = myTerminal
    , modMask     = myModMask
    , borderWidth = myBorderWidth
    }

myTerminal    = "urxvt"
myModMask     = mod4Mask -- Win key or Super_L
myBorderWidth = 3
</pre>
<p>Also, order at top level (main, myTerminal, myModMask etc.), or within the {} does not matter in Haskell, as long as imports come first.
</p>
<p>The following is taken from the 0.9 configuration file template. It is an example of the most common functions one might want to define in their main do block.
</p>
<pre>{
  terminal           = myTerminal,
  focusFollowsMouse  = myFocusFollowsMouse,
  borderWidth        = myBorderWidth,
  modMask            = myModMask,
  -- numlockMask deprecated in 0.9.1
  -- numlockMask        = myNumlockMask,
  workspaces         = myWorkspaces,
  normalBorderColor  = myNormalBorderColor,
  focusedBorderColor = myFocusedBorderColor,

  -- key bindings
  keys               = myKeys,
  mouseBindings      = myMouseBindings,

  -- hooks, layouts
  layoutHook         = myLayout,
  manageHook         = myManageHook,
  handleEventHook    = myEventHook,
  logHook            = myLogHook,
  startupHook        = myStartupHook
}

</pre>
<p>The package itself also includes a <code>xmonad.hs</code>, which is the latest official example <code>xmonad.hs</code> that comes with the <b>xmonad</b> Haskell module as an example of how to override everything. This should not be used as a template configuration, but as examples of parts you can pick to use in your own configuration. It is located in an architecture and version dependant directory in <code>/usr/share/</code> (e.g. <code>find /usr/share -name xmonad.hs</code>).
</p>
<h3><span class="mw-headline" id="A_base_desktop_configuration">A base desktop configuration</span></h3>
<p>In <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xmonad-contrib">xmonad-contrib</a></span> is a better default configuration for average desktop uses. It also helps with problems in some modern programs like Chromium.
</p>
<p>It can be added like so:
</p>
<pre>import XMonad
import XMonad.Config.Desktop

main = xmonad desktopConfig
    { terminal    = "urxvt"
    , modMask     = mod4Mask
    }
</pre>
<h2><span class="mw-headline" id="Exiting_xmonad">Exiting xmonad</span></h2>
<p>To end the current xmonad session, press <code>Mod+Shift+Q</code>. By default, <code>Mod</code> is the <code>Alt</code> key.
</p>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="X-Selection-Paste">X-Selection-Paste</span></h3>
<p>The keyboard-centered operation in xmonad can be further supported with a keyboard shortcut for <a href="/title/Keyboard_shortcuts#Key_binding_for_X-selection-paste" title="Keyboard shortcuts">X-Selection-Paste</a>.
</p>
<p>Also, there exists a function "pasteSelection" in XMonad.Util.Paste that can be bound to a key using a line like:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">xmonad.hs</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">  import XMonad.Util.Paste -- Remember to include this line
  
  -- X-selection-paste buffer
  , ((0, xK_Insert), pasteSelection)</pre>
<p>Pressing the "Insert" key will now paste the mouse buffer in the active window.
</p>
<h3><span class="mw-headline" id="Keyboard_shortcuts">Keyboard shortcuts</span></h3>
<p>Default keyboard shortcuts are listed in the man page of xmonad.
</p>
<h3><span class="mw-headline" id="Targeting_unbound_keys">Targeting unbound keys</span></h3>
<p>If you use xmonad as a stand alone window manager, you can edit the xmonad.hs to add unbound keyboard keys. You just need to find the Xf86 name of the key (such as XF86PowerDown) and look it up in <code>/usr/include/X11/XF86keysym.h</code>. It will give you a keycode (like 0x1008FF2A) which you can use to add a line like the following in the keybindings section of your <code>xmonad.hs</code>:
</p>
<pre>((0,               0x1008FF2A), spawn "sudo pm-suspend")
</pre>
<h3><span class="mw-headline" id="Increase_the_number_of_workspaces">Increase the number of workspaces</span></h3>
<p>By default, xmonad uses a set of 9 workspaces.  You can change this by changing the <b>workspaces</b> parameter:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">xmonad.hs</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">import XMonad
import XMonad.Util.EZConfig (additionalKeys)

main=do
  xmonad $ def
    { ...
    , workspaces = myWorkspaces
    , ...
    } `additionalKeys` myAdditionalKeys

myWorkspaces = ["1","2","3","4","5","6","7","8","9"] ++ (map snd myExtraWorkspaces) -- you can customize the names of the default workspaces by changing the list

myExtraWorkspaces = [(xK_0, "0")] -- list of (key, name)

myAdditionalKeys =
    [ -- ... your other hotkeys ...
    ] ++ [
        ((myModMask, key), (windows $ W.greedyView ws))
        | (key, ws) &lt;- myExtraWorkspaces
    ] ++ [
        ((myModMask .|. shiftMask, key), (windows $ W.shift ws))
        | (key, ws) &lt;- myExtraWorkspaces
    ]
</pre>
<h3>
<span id="Making_room_for_docks.2Fpanels.2Ftrays_.28Xmobar.2C_Tint2.2C_Conky.2C_etc.29"></span><span class="mw-headline" id="Making_room_for_docks/panels/trays_(Xmobar,_Tint2,_Conky,_etc)">Making room for docks/panels/trays (Xmobar, Tint2, Conky, etc)</span>
</h3>
<p>Wrap your layouts with avoidStruts from XMonad.Hooks.ManageDocks for automatic dock/panel/trayer spacing:
</p>
<pre>import XMonad
import XMonad.Hooks.ManageDocks

main=do
  xmonad $ docks def
    { ...
    , layoutHook=avoidStruts $ layoutHook def
    , manageHook=manageHook def &lt;+&gt; manageDocks
    , ...
    }
</pre>
<p>If you ever want to toggle the gaps, this action can be added to your key bindings:
</p>
<pre>,((modMask x, xK_b     ), sendMessage ToggleStruts)
</pre>
<h3><span class="mw-headline" id="Equally_sized_gaps_between_windows">Equally sized gaps between windows</span></h3>
<p>If your goal is to have equally sized gaps between individual windows and the screen, the following code will not work as expected:
</p>
<pre>layoutHook = spacing 10 $ Tall (1 (3/100) (1/2)) ||| Full
</pre>
<p>This makes each window have its own spacing in each direction. If you have two windows side-by-side, the spacing in the middle will be combined, creating a gap that is twice as large as needed.
</p>
<p>A workaround is to specify both a screen and a window spacing, but only use the top and left margins for the screen and bottom and right margins for the windows. To do this, change the above code into:
</p>
<pre> layoutHook = spacingRaw False (Border 10 0 10 0) True (Border 0 10 0 10) True $ Tall (1 (3/100) (1/2)) ||| Full
</pre>
<h3><span class="mw-headline" id="Using_xmobar_with_xmonad">Using xmobar with xmonad</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="/title/File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" decoding="async" width="48" height="48"></a><b>This article or section is a candidate for merging with <a href="/title/Xmobar" title="Xmobar">xmobar</a>.</b><a href="/title/File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Notes:</b> Make use of the separate article available (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:Xmonad_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Talk:Xmonad (简体中文)#</a>)</div>
</div>
<p><b><a href="/title/Xmobar" title="Xmobar">xmobar</a></b> is a light and minimalistic text-based bar, designed to work with xmonad.
To use xmobar with xmonad, you will need two packages in addition to the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xmonad">xmonad</a></span> package. These packages are <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xmonad-contrib">xmonad-contrib</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xmobar">xmobar</a></span> from the <a href="/title/Official_repositories" title="Official repositories">official repositories</a>, or you can use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xmobar-git/">xmobar-git</a></span><sup><small>AUR</small></sup> from the <a href="/title/AUR" class="mw-redirect" title="AUR">AUR</a> instead of the official <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xmobar">xmobar</a></span> package.
</p>
<p>Here we will start xmobar from within xmonad, which reloads xmobar whenever you reload xmonad.
</p>
<p>Open <code>~/.xmonad/xmonad.hs</code> in your favorite editor, and choose one of the two following options:
</p>
<h4>
<span id="Quick.2C_less_flexible"></span><span class="mw-headline" id="Quick,_less_flexible">Quick, less flexible</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> There is also <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dzen2">dzen2</a></span> which you can substitute for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xmobar">xmobar</a></span> in either case.</div>
<p>Common imports:
</p>
<pre>import XMonad
import XMonad.Hooks.DynamicLog
</pre>
<p>The xmobar action starts xmobar and returns a modified configuration that includes all of the options described in <a href="#More_configurable">#More configurable</a>.
</p>
<pre>main = xmonad =&lt;&lt; xmobar def { modMask = mod4Mask {- or any other configurations here ... -}}
</pre>
<h4><span class="mw-headline" id="More_configurable">More configurable</span></h4>
<p>As of xmonad(-contrib) 0.9, there is a new <a rel="nofollow" class="external text" href="https://hackage.haskell.org/package/xmonad-contrib-0.13/docs/XMonad-Hooks-DynamicLog.html#v:statusBar">statusBar</a> function in <a rel="nofollow" class="external text" href="https://hackage.haskell.org/package/xmonad-contrib/docs/XMonad-Hooks-DynamicLog.html">XMonad.Hooks.DynamicLog</a>. It allows you to use your own configuration for:
</p>
<ul>
<li>The command used to execute the bar</li>
<li>The PP that determines what is being written to the bar</li>
<li>The key binding to toggle the gap for the bar</li>
</ul>
<p>The following is an example of how to use it:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.xmonad/xmonad.hs</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">-- Imports.
import XMonad
import XMonad.Hooks.DynamicLog

-- The main function.
main = xmonad =&lt;&lt; statusBar myBar myPP toggleStrutsKey myConfig

-- Command to launch the bar.
myBar = "xmobar"

-- Custom PP, configure it as you like. It determines what is being written to the bar.
myPP = xmobarPP { ppCurrent = xmobarColor "#429942" "" . wrap "&lt;" "&gt;" }

-- Key binding to toggle the gap for the bar.
toggleStrutsKey XConfig {XMonad.modMask = modMask} = (modMask, xK_b)

-- Main configuration, override the defaults to your liking.
myConfig = def { modMask = mod4Mask }
</pre>
<h4><span class="mw-headline" id="Verify_XMobar_config">Verify XMobar config</span></h4>
<p>The template and default xmobarrc contains this.
</p>
<p>At last, open up <code>~/.xmobarrc</code> and make sure you have <code>StdinReader</code> in the template and run the plugin. E.g.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.xmobarrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Config { ...
       , commands = [ Run StdinReader .... ]
         ...
       , template = " %StdinReader% ... "
       }
</pre>
<p>Now, all you should have to do is either to start, or restart, xmonad.
</p>
<h3><span class="mw-headline" id="Controlling_xmonad_with_external_scripts">Controlling xmonad with external scripts</span></h3>
<p>Here are a few ways to do it,
</p>
<ul><li>use the following xmonad extension, <a rel="nofollow" class="external text" href="https://hackage.haskell.org/package/xmonad-contrib/docs/XMonad-Hooks-ServerMode.html">XMonad.Hooks.ServerMode</a>.</li></ul>
<ul><li>simulate keypress events using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xdotool">xdotool</a></span> or similar programs. See this <a rel="nofollow" class="external text" href="https://ubuntuforums.org/archive/index.php/t-658040.html">Ubuntu forums thread</a>. The following command would simulate the keypress <code>Super+n</code>:</li></ul>
<pre>xdotool key Super+n
</pre>
<ul><li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wmctrl">wmctrl</a></span> -If you have desktopConfig or EwmhDesktops configured, this is a very easy to use and standard utility.</li></ul>
<h3><span class="mw-headline" id="Launching_another_window_manager_within_xmonad">Launching another window manager within xmonad</span></h3>
<p>If you are using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xmonad-git/">xmonad-git</a></span><sup><small>AUR</small></sup>, as of January of 2011, you can restart to another window manager from within xmonad. You just need to write a small script, and add stuff to your <code>~/.xmonad/xmonad.hs</code>. Here is the script.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/bin/obtoxmd</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
openbox
xmonad
</pre>
<p>And here are the modifications you need to add to your <code>~/.xmonad/xmonad.hs</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.xmonad/xmonad.hs</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">import XMonad
--You need to add this import
import XMonad.Util.Replace

main do
    -- And this "replace"
    replace
    xmonad $ def
    {
    --Add the usual here
    }

</pre>
<p>You also need to add the following key binding:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/xmonad/xmonad.hs</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">--Add a keybinding as follows:
((modm .|. shiftMask, xK_o     ), restart "/home/abijr/bin/obtoxmd" True)
</pre>
<p>Just remember to add a comma before or after and change the path to your actual script path. Now just <code>Mod+q</code> (restart xmonad to refresh the configuration), and then hit <code>Mod+Shift+o</code> and you should have Openbox running with the same windows open as in xmonad. To return to xmonad you should just exit Openbox. Here is a link to adamvo's <code>~/.xmonad/xmonad.hs</code> which uses this setup <a rel="nofollow" class="external text" href="https://wiki.haskell.org/Xmonad/Config_archive/adamvo%27s_xmonad.hs">Adamvo's xmonad.hs</a>
</p>
<h3><span class="mw-headline" id="KDE_and_xmonad">KDE and xmonad</span></h3>
<p>The xmonad wiki has instructions on how to <a rel="nofollow" class="external text" href="https://wiki.haskell.org/Xmonad/Using_xmonad_in_KDE">run xmonad inside KDE</a>
</p>
<p>It also might be a good idea to set a global keyboard shortcut in KDE to start xmonad in case it is accidentally killed or closed.
</p>
<h4><span class="mw-headline" id="Disable_plasmashell">Disable plasmashell</span></h4>
<p>You might want to disable plasmashell (the KDE5 thing responsible for desktop background, taskbar, tray, etc.).
</p>
<pre>  cp /etc/xdg/autostart/plasmashell.desktop ~/.config/autostart/
</pre>
<p>Then edit <code>~/.config/autostart/plasmashell.desktop</code> and replace <code>Exec=plasmashell</code> with <code>Exec=</code>. The result will look like this:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/autostart/plasmashell.desktop</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Desktop Entry]
Exec=
Name=Plasma Desktop Workspace
... # more stuff
</pre>
<h3><span class="mw-headline" id="IM_Layout_for_Skype">IM Layout for Skype</span></h3>
<p>In orded to create an IM layout for the newer versions of skype, the following code can be used:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">xmonad.hs</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">myIMLayout = withIM (1%7) skype Grid
    where
      skype = And (ClassName "Skype") (Role "")
</pre>
<h3><span class="mw-headline" id="Example_configurations">Example configurations</span></h3>
<p>Below are some example configurations from fellow xmonad users.  Feel free to add links to your own.
</p>
<ul>
<li>brisbin33 :: simple, useful, readable :: <a rel="nofollow" class="external text" href="https://github.com/pbrisbin/xmonad-config">config</a> <a rel="nofollow" class="external text" href="http://files.pbrisbin.com/screenshots/current_desktop.png">screenshot</a>
</li>
<li>jelly :: Configuration with prompt, different layouts, twinview with xmobar :: <a rel="nofollow" class="external text" href="https://github.com/jelly/dotfiles/tree/master/.xmonad/xmonad.hs">xmonad.hs</a>
</li>
<li>MrElendig :: Simple configuration, with xmobar :: <a rel="nofollow" class="external text" href="https://github.com/MrElendig/dotfiles-alice/blob/master/.xmonad/xmonad.hs">xmonad.hs</a>, <a rel="nofollow" class="external text" href="https://github.com/MrElendig/dotfiles-alice/blob/master/.xmobarrc">.xmobarrc</a>, <a rel="nofollow" class="external text" href="http://arch.har-ikkje.net/gfx/ss/2010-09-05-163305_2960x1050_scrot.png">screenshot</a>.</li>
<li>thayer :: A minimal mouse-friendly config ideal for netbooks :: <a rel="nofollow" class="external text" href="https://wiki.haskell.org/Xmonad/Config_archive/Thayer_Williams%27_xmonad.hs">configs</a> <a rel="nofollow" class="external text" href="https://wiki.haskell.org/Image:Thayer-xmonad-20110511.png">screenshot</a>
</li>
<li>vicfryzel :: Beautiful and usable xmonad configuration, along with xmobar configuration, xinitrc, dmenu, and other scripts that make xmonad more usable. :: <a rel="nofollow" class="external text" href="https://github.com/vicfryzel/xmonad-config">git repository</a>, <a rel="nofollow" class="external text" href="https://github.com/vicfryzel/xmonad-config/raw/master/screenshot.png">screenshot</a>.</li>
<li>vogt :: Check out adamvo's config and many others in the official <a rel="nofollow" class="external text" href="https://wiki.haskell.org/Xmonad/Config_archive">Xmonad/Config archive</a>
</li>
<li>wulax :: Example of using xmonad inside Xfce. Contains two layouts for GIMP. :: <a rel="nofollow" class="external text" href="https://gist.github.com/jsjolund/94f6821b248ff79586ba">xmonad.hs</a>, <a rel="nofollow" class="external text" href="https://i.imgur.com/at9AbOl.png">screenshot</a>.</li>
<li>alex-courtis :: Clean xmonad, xmobar, media keys, screenshot, j4/dmenu; fonts rendered at the DPI reported by the monitor :: <a rel="nofollow" class="external text" href="https://github.com/alex-courtis/arch/blob/ea77edca1a1cd92e87d9c403dae891d03b9ee94e/home/.xmonad/xmonad.hs">xmonad.hs</a>, <a rel="nofollow" class="external text" href="https://raw.githubusercontent.com/alex-courtis/arch/9e3f16b93f89c328b57a96600da7fd39b81bae8e/ss.png">screenshot</a>.</li>
</ul>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="GNOME_3_and_xmonad">GNOME 3 and xmonad</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="/title/File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="/title/File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> This no longer works with GNOME. It might still work with <a href="/title/GNOME_Flashback" class="mw-redirect" title="GNOME Flashback">GNOME Flashback</a>. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:Xmonad_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Talk:Xmonad (简体中文)#</a>)</div>
</div>
<p>With the release of GNOME 3 <a href="/title/GNOME/Tips_and_tricks#Custom_GNOME_sessions" title="GNOME/Tips and tricks">custom GNOME sessions</a> require additional steps to make GNOME play nicely with xmonad. 
</p>
<p>Add an xmonad session file for use by gnome-session (<code>/usr/share/gnome-session/sessions/xmonad.session</code>):
</p>
<pre>[GNOME Session]
Name=Xmonad session
RequiredComponents=gnome-panel;gnome-settings-daemon;
RequiredProviders=windowmanager;notifications;
DefaultProvider-windowmanager=xmonad
DefaultProvider-notifications=notification-daemon</pre>
<p>Create a desktop file for GDM (<code>/usr/share/xsessions/xmonad-gnome-session.desktop</code>):
</p>
<pre>[Desktop Entry]
Name=Xmonad GNOME
Comment=Tiling window manager
TryExec=/usr/bin/gnome-session
Exec=gnome-session --session=xmonad
Type=XSession</pre>
<p>Create or edit this file (<code>/usr/share/applications/xmonad.desktop</code>):
</p>
<pre>[Desktop Entry]
Type=Application
Encoding=UTF-8
Name=Xmonad
Exec=xmonad
NoDisplay=true
X-GNOME-WMName=Xmonad
X-GNOME-Autostart-Phase=WindowManager
X-GNOME-Provides=windowmanager
X-GNOME-Autostart-Notify=false</pre>
<p>Finally, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xmonad-contrib">xmonad-contrib</a></span> and create or edit <code>~/.xmonad/xmonad.hs</code> to have the following
</p>
<pre>import XMonad
import XMonad.Config.Gnome

main = xmonad gnomeConfig</pre>
<p>xmonad should now appear in the list of GDM sessions and also play nicely with gnome-session itself.
</p>
<h4><span class="mw-headline" id="Compositing_in_GNOME_and_xmonad">Compositing in GNOME and xmonad</span></h4>
<p>Some applications look better (e.g. GNOME Do) when composition is enabled. This, however, is not the case in the default xmonad window manager. To enable it add an additional .desktop file <code>/usr/share/xsessions/xmonad-gnome-session-composite.desktop</code>:
</p>
<pre>[Desktop Entry]
Name=Xmonad GNOME (Composite)
Comment=Tiling window manager
TryExec=/usr/bin/gnome-session
Exec=/usr/sbin/gnome-xmonad-composite
Type=XSession</pre>
<p>And create <code>/usr/sbin/gnome-xmonad-composite</code> and <code>chmod +x /usr/sbin/gnome-xmonad-composite</code>:
</p>
<pre>xcompmgr &amp;
gnome-session --session=xmonad</pre>
<p>Now choose "Xmonad GNOME (Composite)" in the list of sessions during login. Reference <span class="plainlinks archwiki-template-man" title="$ man 1 xcompmgr"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/xcompmgr.1">xcompmgr(1)</a></span> for additional "eye candy".
</p>
<h3><span class="mw-headline" id="Xfce_4_and_xmonad">Xfce 4 and xmonad</span></h3>
<p>Use <code>xfceConfig</code> instead of <code>def</code> after importing <code>XMonad.Config.Xfce</code> in <code>~/.xmonad/xmonad.hs</code>, e.g. adapting the minimal configuration above:
</p>
<pre>import XMonad
import XMonad.Config.Xfce

main = xmonad xfceConfig
    { terminal    = "urxvt"
    , modMask     = mod4Mask
    }
</pre>
<p>Also add an entry to <i>Settings &gt; Session and Startup &gt; Application Autostart</i> that runs <code>xmonad --replace</code>.
</p>
<h3><span class="mw-headline" id="Missing_xmonad-i386-linux_or_xmonad-x86_64-linux">Missing xmonad-i386-linux or xmonad-x86_64-linux</span></h3>
<p>xmonad should automatically create the <code>xmonad-i386-linux</code> file (in <code>~/.xmonad/</code>). If this it not the case, grab a configuration file from the <a rel="nofollow" class="external text" href="https://wiki.haskell.org/Xmonad/Config_archive">xmonad wiki</a> or create your <a rel="nofollow" class="external text" href="https://wiki.haskell.org/Xmonad/Config_archive/John_Goerzen's_Configuration">own</a>. Put the <code>.hs</code> and all others files in <code>~/.xmonad/</code> and run this command from the folder:
</p>
<pre>xmonad --recompile
</pre>
<p>Now you should see the file.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> A reason you may get an error message saying that xmonad-x86_64-linux is missing is that <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xmonad-contrib">xmonad-contrib</a></span> is not installed.</div>
<h3><span class="mw-headline" id="Problems_with_Java_applications">Problems with Java applications</span></h3>
<p>If you have problems, like Java application Windows not resizing, or menus immediately closing after you click, see <a href="/title/Java#Gray_window,_applications_not_resizing_with_WM,_menus_immediately_closing" title="Java">Java#Gray window, applications not resizing with WM, menus immediately closing</a>.
</p>
<h3><span class="mw-headline" id="Empty_space_at_the_bottom_of_gvim_or_terminals">Empty space at the bottom of gvim or terminals</span></h3>
<p>See <a href="/title/Vim#Empty_space_at_the_bottom_of_gVim_windows" title="Vim">Vim#Empty space at the bottom of gVim windows</a> for a solution which makes the area match the background color.
</p>
<p>For <a href="/title/Rxvt-unicode" title="Rxvt-unicode">rxvt-unicode</a>, you can use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/rxvt-unicode-patched/">rxvt-unicode-patched</a></span><sup><small>AUR</small></sup>.
</p>
<p>You can also configure xmonad to respect size hints, but this will leave a gap instead. See <a rel="nofollow" class="external text" href="https://hackage.haskell.org/package/xmonad-contrib-0.16/docs/XMonad-Layout-LayoutHints.html">on Xmonad.Layout.LayoutHints</a>.
</p>
<h3>
<span id="Chromium.2FChrome_will_not_go_fullscreen"></span><span class="mw-headline" id="Chromium/Chrome_will_not_go_fullscreen">Chromium/Chrome will not go fullscreen</span>
</h3>
<p>If Chrome fails to go fullscreen when <code>F11</code> is pressed, you can use the <a rel="nofollow" class="external text" href="https://hackage.haskell.org/package/xmonad-contrib/docs/XMonad-Hooks-EwmhDesktops.html">XMonad.Hooks.EwmhDesktops</a> extension found in the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xmonad-contrib">xmonad-contrib</a></span> package. Simply add the <code>import</code> statement to your <code>~/.xmonad/xmonad.hs</code>:
</p>
<pre>import XMonad.Hooks.EwmhDesktops
</pre>
<p>and then add <code>handleEventHook = fullscreenEventHook</code> to the appropriate place; for example:
</p>
<pre>...
        xmonad $ def
            { modMask            = mod4Mask
            , handleEventHook    = fullscreenEventHook
            }
...
</pre>
<p>After a recompile/restart of xmonad, Chromium should now respond to <code>F11</code> (fullscreen) as expected.
</p>
<h3>
<span id="Multitouch_.2F_touchegg"></span><span class="mw-headline" id="Multitouch_/_touchegg">Multitouch / touchegg</span>
</h3>
<p>Touchégg polls the window manager for the <code>_NET_CLIENT_LIST</code> (in order to fetch a list of windows it should listen for mouse events on.) By default, xmonad does not supply this property. To enable this, use the <a rel="nofollow" class="external text" href="https://hackage.haskell.org/package/xmonad-contrib/docs/XMonad-Hooks-EwmhDesktops.html">XMonad.Hooks.EwmhDesktops</a> extension found in the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xmonad-contrib">xmonad-contrib</a></span> package.
</p>
<h3><span class="mw-headline" id="Keybinding_issues_with_an_azerty_keyboard_layout">Keybinding issues with an azerty keyboard layout</span></h3>
<p>Users with a keyboard with azerty layout can run into issues with certain keybindings. Using the <a rel="nofollow" class="external text" href="https://hackage.haskell.org/package/xmonad-contrib/docs/XMonad-Config-Azerty.html">XMonad.Config.Azerty</a> module will solve this.
</p>
<h3>
<span id="GNOME_3_mod4.2Bp_changes_display_configuration_instead_of_launching_dmenu"></span><span class="mw-headline" id="GNOME_3_mod4+p_changes_display_configuration_instead_of_launching_dmenu">GNOME 3 mod4+p changes display configuration instead of launching dmenu</span>
</h3>
<p>If you do not need the capability to switch the display-setup in the gnome-control-center, just execute
</p>
<pre>dconf write /org/gnome/settings-daemon/plugins/xrandr/active false</pre>
<p>as your user, to disable the xrandr plugin which grabs Super+p.
</p>
<h3><span class="mw-headline" id="Problems_with_focused_border_in_VirtualBox">Problems with focused border in VirtualBox</span></h3>
<p>A known issue with Virtualbox (<a rel="nofollow" class="external text" href="https://www.virtualbox.org/ticket/6479">Ticket #6479</a>) can cause problems with the focused window border. A solution can be found by installing a compositing manager like <a href="/title/Xcompmgr" title="Xcompmgr">xcompmgr</a> which overrides the incorrect behavior of vboxvideo.
</p>
<h3>
<span id="Steam_games_.28Half-Life.2C_Left_4_Dead.2C_.E2.80.A6.29_and_xmonad"></span><span class="mw-headline" id="Steam_games_(Half-Life,_Left_4_Dead,_…)_and_xmonad">Steam games (Half-Life, Left 4 Dead, …) and xmonad</span>
</h3>
<p>There seems to be some trouble with xmonad and Source engine based games like Half-Life. If they do not start or get stuck with a black screen, a workaround is to start them in windowed mode. To do so, right click on the game in your Steam library and choose properties, click on launch options and enter <a rel="nofollow" class="external autonumber" href="https://steamcommunity.com/app/221410/discussions/0/864960353968561426/">[1]</a>:
</p>
<pre>-windowed
</pre>
<p>Another solution is to float the window of the game using the manage hook. For example, the following line can be used for Half-Life:
</p>
<pre> className =? "hl_linux" --&gt; doFloat
</pre>
<p>This can also be worked around by making xmonad pay attention to EWMH hints and including its fullscreen hook <a rel="nofollow" class="external autonumber" href="https://hackage.haskell.org/package/xmonad-contrib/docs/XMonad-Hooks-EwmhDesktops.html">[2]</a>:
</p>
<pre>  main = xmonad $ ewmh def{ handleEventHook =
           handleEventHook def &lt;+&gt; fullscreenEventHook }
</pre>
<p>This has a few other effects and makes it behave more akin to fullscreen apps in other WMs.
</p>
<h3><span class="mw-headline" id="LibreOffice_-_focus_flicking_between_main_window_and_dialog">LibreOffice - focus flicking between main window and dialog</span></h3>
<p>The LibreOffice UI defaults to the gtk engine outside a desktop environment. This may cause problems with some xmonad configurations resulting in focus rapidly flicking between the LibreOffice main window and any open LibreOffice dialog window. Effectively locking the application. In this case the environment variable SAL_USE_VCLPLUGIN can be set to explicitly force LibreOffice to use another UI theme as outlined in <a href="/title/LibreOffice#Theme" title="LibreOffice">LibreOffice#Theme</a> For instance
</p>
<pre>  export SAL_USE_VCLPLUGIN=gen lowriter
</pre>
<p>to use the general (QT) UI.
</p>
<h3><span class="mw-headline" id="Problems_with_finding_shared_libraries_after_update">Problems with finding shared libraries after update</span></h3>
<p>The xmonad executable is located in <code>~/.xmonad/</code>. After upgrading xmonad, an old executable might persist and need in that case be removed for xmonad to compile a new executable. Alternatively use <code>xmonad --recompile</code>.
</p>
<p>In the case that <code>xmonad --recompile</code> cannot find any modules at all (including <code>XMonad</code> itself), try regenerating the package database cache
</p>
<pre>sudo ghc-pkg recache
</pre>
<h3>
<span id="Broken.2Fmissing_XMonad.Prompt_and_window_decorations"></span><span class="mw-headline" id="Broken/missing_XMonad.Prompt_and_window_decorations">Broken/missing XMonad.Prompt and window decorations</span>
</h3>
<p>XMonad by default uses the font <code>-misc-fixed-*-*-*-*-10-*-*-*-*-*-*-*</code> <a rel="nofollow" class="external autonumber" href="https://wiki.haskell.org/Xmonad/Frequently_asked_questions#Tabbed_or_other_decorated_layouts_not_shown">[3]</a>.
If this font is missing those windows simply fail to render at all. Easiest fix is to install <code>(xorg-fonts-misc</code>.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://xmonad.org/">xmonad</a> - The official xmonad website</li>
<li>
<a rel="nofollow" class="external text" href="https://wiki.haskell.org/Xmonad/Config_archive/Template_xmonad.hs">xmonad.hs</a> - Template xmonad.hs</li>
<li><a rel="nofollow" class="external text" href="https://xmonad.org/tour.html">xmonad: a guided tour</a></li>
<li>
<a href="/title/Dzen" title="Dzen">dzen</a> - General purpose messaging and notification program</li>
<li>
<a href="/title/Dmenu" title="Dmenu">dmenu</a> - Dynamic X menu for the quick launching of programs</li>
<li>
<a href="/title/Comparison_of_tiling_window_managers" title="Comparison of tiling window managers">Comparison of tiling window managers</a> - Arch wiki article providing an overview of mainstream tiling window managers</li>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=94969">Share your xmonad desktop!</a></li>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=40636">xmonad hacking thread</a></li>
<li>
<a rel="nofollow" class="external text" href="https://github.com/alexkay/xmonad-log-applet">xmonad-log-applet</a> - An applet for the GNOME, MATE or xfce panel.</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="/title/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/title/Category:Tiling_WMs_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" title="Category:Tiling WMs (简体中文)">Tiling WMs (简体中文)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="/title/Category:Pages_or_sections_flagged_with_Template:Translateme_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" title="Category:Pages or sections flagged with Template:Translateme (简体中文)">Pages or sections flagged with Template:Translateme (简体中文)</a></li>
<li><a href="/title/Category:Pages_or_sections_flagged_with_Template:Merge" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li>
<li><a href="/title/Category:Pages_or_sections_flagged_with_Template:Accuracy" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Xmonad_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=670199">https://wiki.archlinux.org/index.php?title=Xmonad_(简体中文)&amp;oldid=670199</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 10 May 2021, at 05:17.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="/title/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/title/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="/title/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
