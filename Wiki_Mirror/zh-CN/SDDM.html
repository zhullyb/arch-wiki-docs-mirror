<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>SDDM (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-SDDM_简体中文 rootpage-SDDM_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">SDDM (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>相关文章</p>
<ul>
<li><a href="../en/Display_manager.html" title="Display manager">Display manager</a></li>
<li><a href="../zh-CN/KDE.html" title="KDE (简体中文)">KDE (简体中文)</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="../en/SDDM.html" title="SDDM">SDDM</a> 的<a href="../zh-CN/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2020-04-28。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=SDDM&amp;diff=0&amp;oldid=605997">更改</a>，则您可以帮助同步翻译。</div>
<p><a rel="nofollow" class="external text" href="https://github.com/sddm/sddm/">Simple Desktop Display Manager</a> (SDDM) 是 <a href="../zh-CN/KDE.html" title="KDE (简体中文)">KDE</a> Plasma 桌面环境推荐的 <a href="../zh-CN/Display_manager.html" title="Display manager (简体中文)">显示管理器</a>。
</p>
<p><a href="https://en.wikipedia.org/wiki/Simple_Desktop_Display_Manager" class="extiw" title="wikipedia:Simple Desktop Display Manager">维基百科</a> 介绍：
</p>
<dl><dd>Simple Desktop Display Manager (SDDM) 是用于 X11 和 wayland 视窗系统的显示管理器（图形登录界面）。SDDM 完全使用 C++11 编写并支持通过 QML 改变主题。对于KDE Plasma 5，KDE 选择了 SDDM 作为 KDE Display Manager 的接替者。</dd></dl>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> SDDM 还没有完全支持 Wayland 视窗系统 <a rel="nofollow" class="external autonumber" href="https://github.com/sddm/sddm/issues/440">[1]</a>。Wayland 会话在支持之列，但 SDDM 运行于 X11。</div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%E5%AE%89%E8%A3%85"><span class="tocnumber">1</span> <span class="toctext">安装</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#%E9%85%8D%E7%BD%AE"><span class="tocnumber">2</span> <span class="toctext">配置</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#%E8%87%AA%E5%8A%A8%E7%99%BB%E5%BD%95"><span class="tocnumber">2.1</span> <span class="toctext">自动登录</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#%E7%99%BB%E5%BD%95%E5%90%8E%E8%87%AA%E5%8A%A8%E8%A7%A3%E9%94%81_KDE_%E9%92%B1%E5%8C%85"><span class="tocnumber">2.2</span> <span class="toctext">登录后自动解锁 KDE 钱包</span></a></li>
<li class="toclevel-2 tocsection-5">
<a href="#%E4%B8%BB%E9%A2%98%E8%AE%BE%E7%BD%AE"><span class="tocnumber">2.3</span> <span class="toctext">主题设置</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#%E5%BD%93%E5%89%8D%E4%B8%BB%E9%A2%98"><span class="tocnumber">2.3.1</span> <span class="toctext">当前主题</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#%E7%BC%96%E8%BE%91%E4%B8%BB%E9%A2%98"><span class="tocnumber">2.3.2</span> <span class="toctext">编辑主题</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#%E6%B5%8B%E8%AF%95%EF%BC%88%E9%A2%84%E8%A7%88%EF%BC%89%E4%B8%BB%E9%A2%98"><span class="tocnumber">2.3.3</span> <span class="toctext">测试（预览）主题</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#%E9%BC%A0%E6%A0%87%E5%85%89%E6%A0%87"><span class="tocnumber">2.3.4</span> <span class="toctext">鼠标光标</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#%E7%94%A8%E6%88%B7%E5%9B%BE%E6%A0%87%EF%BC%88%E5%A4%B4%E5%83%8F%EF%BC%89"><span class="tocnumber">2.3.5</span> <span class="toctext">用户图标（头像）</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11"><a href="#%E6%95%B0%E5%AD%97%E9%94%81"><span class="tocnumber">2.4</span> <span class="toctext">数字锁</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#%E6%97%8B%E8%BD%AC%E6%98%BE%E7%A4%BA"><span class="tocnumber">2.5</span> <span class="toctext">旋转显示</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#DPI_%E8%AE%BE%E7%BD%AE"><span class="tocnumber">2.6</span> <span class="toctext">DPI 设置</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#%E5%90%AF%E7%94%A8_HiDPI"><span class="tocnumber">2.7</span> <span class="toctext">启用 HiDPI</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#%E5%90%AF%E7%94%A8%E8%99%9A%E6%8B%9F%E9%94%AE%E7%9B%98"><span class="tocnumber">2.8</span> <span class="toctext">启用虚拟键盘</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#%E4%BD%BF%E7%94%A8%E6%8C%87%E7%BA%B9%E8%AF%86%E5%88%AB%E5%99%A8"><span class="tocnumber">2.9</span> <span class="toctext">使用指纹识别器</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17">
<a href="#%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4"><span class="tocnumber">3</span> <span class="toctext">故障排除</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="#%E5%8F%AA%E6%9C%89%E7%A9%BA%E7%99%BD%E5%B1%8F%E5%B9%95%E5%92%8C%E5%85%89%E6%A0%87%EF%BC%8C%E4%BD%86%E6%B2%A1%E6%9C%89%E6%AC%A2%E8%BF%8E%E7%95%8C%E9%9D%A2"><span class="tocnumber">3.1</span> <span class="toctext">只有空白屏幕和光标，但没有欢迎界面</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#SDDM_%E5%87%BA%E7%8E%B0%E6%AC%A2%E8%BF%8E%E7%95%8C%E9%9D%A2%E5%89%8D%E7%9A%84%E5%8A%A0%E8%BD%BD%E6%97%B6%E9%97%B4%E8%BF%87%E9%95%BF"><span class="tocnumber">3.2</span> <span class="toctext">SDDM 出现欢迎界面前的加载时间过长</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#%E7%99%BB%E5%BD%95%E5%90%8E%E6%8C%82%E8%B5%B7"><span class="tocnumber">3.3</span> <span class="toctext">登录后挂起</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#SDDM_%E5%9C%A8_tty1_%E5%90%AF%E5%8A%A8%E8%80%8C%E4%B8%8D%E6%98%AF_tty7"><span class="tocnumber">3.4</span> <span class="toctext">SDDM 在 tty1 启动而不是 tty7</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E7%94%A8%E6%88%B7%E6%B2%A1%E6%9C%89%E5%87%BA%E7%8E%B0%E5%9C%A8%E6%AC%A2%E8%BF%8E%E7%95%8C%E9%9D%A2"><span class="tocnumber">3.5</span> <span class="toctext">一个或多个用户没有出现在欢迎界面</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#%E7%94%A8%E6%88%B7%E5%A4%B4%E5%83%8F%E6%9C%AA%E6%98%BE%E7%A4%BA%E5%9C%A8_greeter_%E4%B8%8A"><span class="tocnumber">3.6</span> <span class="toctext">用户头像未显示在 greeter 上</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#SDDM_%E5%8F%AA%E5%8A%A0%E8%BD%BD_US_%E9%94%AE%E7%9B%98%E5%B8%83%E5%B1%80"><span class="tocnumber">3.7</span> <span class="toctext">SDDM 只加载 US 键盘布局</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#%E5%B1%8F%E5%B9%95%E5%88%86%E8%BE%A8%E7%8E%87%E8%BF%87%E4%BD%8E"><span class="tocnumber">3.8</span> <span class="toctext">屏幕分辨率过低</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#%E8%87%AA%E5%8A%A8%E6%8C%82%E8%BD%BD%E5%AE%B6%E7%9B%AE%E5%BD%95%E7%9A%84%E5%8A%A0%E8%BD%BD%E6%97%B6%E9%97%B4%E8%BF%87%E9%95%BF"><span class="tocnumber">3.9</span> <span class="toctext">自动挂载家目录的加载时间过长</span></a></li>
</ul>
</li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="安装">安装</span>
</h2>
<p><a href="../zh-CN/Help:Reading.html#%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8C%85" title="Help:Reading (简体中文)">安装</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sddm">sddm</a></span> 软件包。对于 <a href="../en/KDE.html#KCM" title="KDE">KDE Config Module</a>，可选安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sddm-kcm">sddm-kcm</a></span> 软件包。
</p>
<p>然后根据 <a href="../zh-CN/Display_manager.html#%E5%8A%A0%E8%BD%BD%E6%98%BE%E7%A4%BA%E7%AE%A1%E7%90%86%E5%99%A8" title="Display manager (简体中文)">Display manager (简体中文)#加载显示管理器</a> 的说明配置 SDDM 在系统引导时启动。
</p>
<h2>
<span id=".E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="配置">配置</span>
</h2>
<p>SDDM 的默认配置文件为 <code>/usr/lib/sddm/sddm.conf.d/default.conf</code>。要修改配置，请在 <code>/etc/sddm.conf.d/</code> 目录下创建配置文件。详见 <span class="plainlinks archwiki-template-man" title="$ man 5 sddm.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sddm.conf.5">sddm.conf(5)</a></span> 以获得所有配置选项。
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sddm-kcm">sddm-kcm</a></span> 软件包 (包含在 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/plasma/">plasma</a></span> 用户组) 提供了一个图形用户界面以在 Plasma 系统设置中配置 SDDM。<a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a> 中也有基于 <a href="../en/Qt.html" title="Qt">Qt</a> 的配置软件 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/sddm-config-editor-git/">sddm-config-editor-git</a></span><sup><small>AUR</small></sup>。
</p>
<p>一切东西都应该开箱即用，自从 Arch Linux 使用 <a href="../en/Systemd.html" title="Systemd">systemd</a> 后，SDDM 默认使用 <code>systemd-logind</code> 以进行会话管理。
</p>
<h3>
<span id=".E8.87.AA.E5.8A.A8.E7.99.BB.E5.BD.95"></span><span class="mw-headline" id="自动登录">自动登录</span>
</h3>
<p>SDDM 通过它的配置文件来支持自动登录，例如：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sddm.conf.d/autologin.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Autologin]
User=john
Session=plasma.desktop</pre>
<p>此配置使得在系统启动后自动以用户 <code>john</code> 开启一个 KDE Plasma 会话。X 的会话类型位于 <code>/usr/share/xsessions/</code>， wayland 的会话类型位于 <code>/usr/share/wayland-sessions/</code>。
</p>
<p>目前尚不支持自动登录 KDE Plasma 的同时锁定会话 <a rel="nofollow" class="external autonumber" href="https://github.com/sddm/sddm/issues/306">[2]</a>
</p>
<p>你可以添加一个脚本，在 KDE 自动启动时激活屏幕保护程序以作为一个解决方案：
</p>
<pre>#!/bin/sh
/usr/bin/dbus-send --session --type=method_call --dest=org.freedesktop.ScreenSaver /ScreenSaver org.freedesktop.ScreenSaver.Lock &amp;
</pre>
<h3>
<span id=".E7.99.BB.E5.BD.95.E5.90.8E.E8.87.AA.E5.8A.A8.E8.A7.A3.E9.94.81_KDE_.E9.92.B1.E5.8C.85"></span><span class="mw-headline" id="登录后自动解锁_KDE_钱包">登录后自动解锁 KDE 钱包</span>
</h3>
<p>详见 <a href="../zh-CN/KDE_Wallet.html#%E5%9C%A8%E7%99%BB%E5%BD%95%E6%97%B6%E8%87%AA%E5%8A%A8%E8%A7%A3%E9%94%81_Kwallet" title="KDE Wallet (简体中文)">KDE Wallet (简体中文)#在登录时自动解锁 Kwallet</a>。
</p>
<h3>
<span id=".E4.B8.BB.E9.A2.98.E8.AE.BE.E7.BD.AE"></span><span class="mw-headline" id="主题设置">主题设置</span>
</h3>
<p>在 <code>[Theme]</code> 小节更改主题设置。如果您使用 Plasma 的系统设置，主题可能会显示预览。
</p>
<p>设置 <code>breeze</code> 以获得 Plasma 默认主题。
</p>
<p><a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a> 有一些可用的主题，例如 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/archlinux-themes-sddm/">archlinux-themes-sddm</a></span><sup><small>AUR</small></sup>。
</p>
<h4>
<span id=".E5.BD.93.E5.89.8D.E4.B8.BB.E9.A2.98"></span><span class="mw-headline" id="当前主题">当前主题</span>
</h4>
<p>通过 <code>Current</code> 的值设置当前主题，例如 <code>Current=archlinux-simplyblack</code>。
</p>
<h4>
<span id=".E7.BC.96.E8.BE.91.E4.B8.BB.E9.A2.98"></span><span class="mw-headline" id="编辑主题">编辑主题</span>
</h4>
<p>默认 SDDM 主题目录为 <code>/usr/share/sddm/themes/</code>。你可以添加你的自制主题到该目录下一个单独的子目录中。注意 SDDM 要求这些子目录的名字要与主题的名字一致。可以通过研究已安装的文件来更改或创建属于你的主题。
</p>
<h4>
<span id=".E6.B5.8B.E8.AF.95.EF.BC.88.E9.A2.84.E8.A7.88.EF.BC.89.E4.B8.BB.E9.A2.98"></span><span class="mw-headline" id="测试（预览）主题">测试（预览）主题</span>
</h4>
<p>如果需要，你可以预览一个 SDDM 主题。如果你想知道一个主题看起来怎么样，或是想要编辑一个主题后在不必登出的情况下观察改动的效果，那么这将会非常有用。你可以运行下面的命令：
</p>
<pre>$ sddm-greeter --test-mode --theme /usr/share/sddm/themes/breeze
</pre>
<p>这应该为所有已连接的显示器打开一个新窗口以显示主题的预览。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 这只是一个预览。在这个模式下，一些动作如关机、挂起或登录将不会执行。</div>
<h4>
<span id=".E9.BC.A0.E6.A0.87.E5.85.89.E6.A0.87"></span><span class="mw-headline" id="鼠标光标">鼠标光标</span>
</h4>
<p>要设置鼠标光标的主题，将 <code>CursorTheme</code> 设置成您喜欢的光标主题。
</p>
<p>合法的 <a href="../en/KDE.html#Plasma" class="mw-redirect" title="Plasma">Plasma</a> 鼠标光标主题有 <code>breeze_cursors</code>，<code>Breeze_Snow</code> 和 <code>breeze-dark</code>。
</p>
<h4>
<span id=".E7.94.A8.E6.88.B7.E5.9B.BE.E6.A0.87.EF.BC.88.E5.A4.B4.E5.83.8F.EF.BC.89"></span><span class="mw-headline" id="用户图标（头像）">用户图标（头像）</span>
</h4>
<p>SDDM 对于每个用户从相应的 <code>~/.face.icon</code> 目录下读取 PNG 图片格式的用户图标（即“头像”），或者从 SDDM 配置文件中由 <code>FacesDir</code> 为所有用户定义的共有位置。配置设置可以通过修改 <code>/etc/sddm.conf</code> 文件被直接替换，更好的方法是创建一个位于 <code>/etc/sddm.conf.d/</code> 下的文件来修改，例如 <code>/etc/sddm.conf.d/avatar.conf</code>。
</p>
<p>要使用 <code>FacesDir</code> 选项来确定头像位置，即在配置文件中 <code>FacesDir</code> 所确定的位置为每一个用户放置一个 PNG 图片，命名如 <code><i>username</i>.face.icon</code>。<code>FacesDir</code> 默认的路径为 <code>/usr/share/sddm/faces/</code>。你可以更改默认 <code>FacesDir</code> 目录以合乎你的要求。下面是一个例子：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sddm.conf.d/avatar.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Theme]
FacesDir=/var/lib/AccountsService/icons/</pre>
<p>另一个选项是放置一个名为 <code>.face.icon</code> 的 PNG 图片到你的家目录下。在这种情况下，您不用对任何 SDDM 配置文件进行更改。不过，您仍需确定 <code>sddm</code> 用户可以读取这些 PNG 图片作为用户图标。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 在许多 KDE 的版本中，用户图标图像文件是 <code>~/.face</code> 而 <code>~/.face.icon</code> 是链接到图像文件的符号链接。如果用户的图标是符号链接，你需要为目标文件设置恰当的文件权限。</div> 
<p>为了 <a href="../en/Access_Control_Lists.html#Set_ACL" title="Access Control Lists">设置合适权限</a> 运行：
</p>
<pre>$ setfacl -m u:sddm:x ~/
$ setfacl -m u:sddm:r ~/.face.icon
</pre>
<p>你可以通过运行下列命令 <a href="../en/Access_Control_Lists.html#Show_ACL" title="Access Control Lists">检查权限</a>：
</p>
<pre>$ getfacl ~/
$ getfacl ~/.face.icon
</pre>
<p>详见 <a rel="nofollow" class="external text" href="https://github.com/sddm/sddm#no-user-icon">SDDM README: No User Icon</a>。
</p>
<h3>
<span id=".E6.95.B0.E5.AD.97.E9.94.81"></span><span class="mw-headline" id="数字锁">数字锁</span>
</h3>
<p>如果你想强制启用数字锁，在 <code>[General]</code> 小节设置 <code>Numlock=on</code>。
</p>
<h3>
<span id=".E6.97.8B.E8.BD.AC.E6.98.BE.E7.A4.BA"></span><span class="mw-headline" id="旋转显示">旋转显示</span>
</h3>
<p>详见 <a href="../en/Xrandr.html#Configuration" title="Xrandr">Xrandr#Configuration</a>。
</p>
<h3>
<span id="DPI_.E8.AE.BE.E7.BD.AE"></span><span class="mw-headline" id="DPI_设置">DPI 设置</span>
</h3>
<p>有时位于“显示管理器”级别设置正确的显示器 DPI 是很有用的。<a rel="nofollow" class="external autonumber" href="https://github.com/sddm/sddm/blob/master/README.md#custom-dpi">[3]</a> 你需要在 <code>ServerArguments</code> 字符串的末尾加上参数 <code>-dpi <i>your_dpi</i></code> 例如：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sddm.conf.d/dpi.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[X11]
ServerArguments=-nolisten tcp -dpi 94</pre>
<h3>
<span id=".E5.90.AF.E7.94.A8_HiDPI"></span><span class="mw-headline" id="启用_HiDPI">启用 HiDPI</span>
</h3>
<p>创建 <a href="../zh-CN/HiDPI.html" title="HiDPI (简体中文)">HiDPI</a> 配置文件如下：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sddm.conf.d/hidpi.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Wayland]
EnableHiDPI=true

[X11]
EnableHiDPI=true</pre>
<h3>
<span id=".E5.90.AF.E7.94.A8.E8.99.9A.E6.8B.9F.E9.94.AE.E7.9B.98"></span><span class="mw-headline" id="启用虚拟键盘">启用虚拟键盘</span>
</h3>
<p>安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=qt5-virtualkeyboard">qt5-virtualkeyboard</a></span>. 创建如下文件:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sddm.conf.d/virtualkbd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[General]
InputMethod=qtvirtualkeyboard</pre>
<p>SDDM 在登录屏幕的左下角会显示一个虚拟键盘图标。
</p>
<h3>
<span id=".E4.BD.BF.E7.94.A8.E6.8C.87.E7.BA.B9.E8.AF.86.E5.88.AB.E5.99.A8"></span><span class="mw-headline" id="使用指纹识别器">使用指纹识别器</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 在改变设置前要确定你的指纹已经注册完成。指纹支持目前并不是完全工作正常，并且看起来在使用这种方法时仅使用密码登录将不再有效。</div>
<p>SDDM 使用 <a href="../en/Fprint.html" title="Fprint">fprint</a> 以使用指纹识别。在安装了 fprint 和添加指纹签名后，在添加 <code>/etc/pam.d/sddm</code> 的开始位置添加一行 <code>auth        sufficient    pam_fprintd.so</code>。
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 要使其在 KDE 的锁屏模式下工作，将上面提到的一行同样添加于 <code>/etc/pam.d/kde</code> 的开始位置。</div>
<p>如果你现在在空密码区域按下回车，那么指纹识别器应该开始工作了。
</p>
<h2>
<span id=".E6.95.85.E9.9A.9C.E6.8E.92.E9.99.A4"></span><span class="mw-headline" id="故障排除">故障排除</span>
</h2>
<h3>
<span id=".E5.8F.AA.E6.9C.89.E7.A9.BA.E7.99.BD.E5.B1.8F.E5.B9.95.E5.92.8C.E5.85.89.E6.A0.87.EF.BC.8C.E4.BD.86.E6.B2.A1.E6.9C.89.E6.AC.A2.E8.BF.8E.E7.95.8C.E9.9D.A2"></span><span class="mw-headline" id="只有空白屏幕和光标，但没有欢迎界面">只有空白屏幕和光标，但没有欢迎界面</span>
</h3>
<p>使用 <code>df -h</code> 命令检查您的磁盘空间。如果没有足够的空间，欢迎界面会崩溃。
</p>
<p>如果磁盘空间足够，那么这个问题可能源于此 <a rel="nofollow" class="external text" href="https://github.com/sddm/sddm/issues/1179">bug</a>。切换 <a href="../en/Getty.html#Installation" title="Getty">到另一个 TTY</a> 来 <a href="../en/Systemd.html#Using_units" class="mw-redirect" title="Restart">重启</a> SDDM。
</p>
<h3>
<span id="SDDM_.E5.87.BA.E7.8E.B0.E6.AC.A2.E8.BF.8E.E7.95.8C.E9.9D.A2.E5.89.8D.E7.9A.84.E5.8A.A0.E8.BD.BD.E6.97.B6.E9.97.B4.E8.BF.87.E9.95.BF"></span><span class="mw-headline" id="SDDM_出现欢迎界面前的加载时间过长">SDDM 出现欢迎界面前的加载时间过长</span>
</h3>
<p>内核熵池过小会造成长时间的 SDDM 加载过程(<a rel="nofollow" class="external text" href="https://github.com/sddm/sddm/issues/1036">Bug report</a>)。详见 <a href="../en/Random_number_generation.html" title="Random number generation">Random number generation</a> 扩大内核熵池的建议。
</p>
<h3>
<span id=".E7.99.BB.E5.BD.95.E5.90.8E.E6.8C.82.E8.B5.B7"></span><span class="mw-headline" id="登录后挂起">登录后挂起</span>
</h3>
<p>尝试移除 <code>~/.Xauthority</code> 文件后不重启再次登入。重启会再次创建该文件即该问题依旧存在。
</p>
<h3>
<span id="SDDM_.E5.9C.A8_tty1_.E5.90.AF.E5.8A.A8.E8.80.8C.E4.B8.8D.E6.98.AF_tty7"></span><span class="mw-headline" id="SDDM_在_tty1_启动而不是_tty7">SDDM 在 tty1 启动而不是 tty7</span>
</h3>
<p>SDDM 根据 <a rel="nofollow" class="external text" href="http://0pointer.de/blog/projects/serial-console.html">systemd 的规定</a> 在 tty1 启动图形会话。如果您更喜欢老派的 tty1 到 tty6 皆预留为文本终端，更改 <code>MinimumVT</code> 变量的默认值，其位于 <code>[X11]</code> 小节下：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sddm.conf.d/tty.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[X11]
MinimumVT=7</pre>
<h3>
<span id=".E4.B8.80.E4.B8.AA.E6.88.96.E5.A4.9A.E4.B8.AA.E7.94.A8.E6.88.B7.E6.B2.A1.E6.9C.89.E5.87.BA.E7.8E.B0.E5.9C.A8.E6.AC.A2.E8.BF.8E.E7.95.8C.E9.9D.A2"></span><span class="mw-headline" id="一个或多个用户没有出现在欢迎界面">一个或多个用户没有出现在欢迎界面</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>警告：</strong> 用户设置过低或过高的 <code>UID</code> 范围应该大体上不会暴露给 <a href="../zh-CN/Display_manager.html" title="Display manager (简体中文)">Display manager (简体中文)</a>。</div>
<p>SDDM 默认会显示 UID 在 1000 到 65000 范围内的用户，如果想要显示的用户的 UID 小于这个范围，那么您就不得不更改这个范围。比如，对于 UID 为 501时，可以修改：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sddm.conf.d/uid.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Users]
HideShells=/sbin/nologin,/bin/false
# Hidden users, this is if any system users fall within your range, see /etc/passwd on your system.
HideUsers=git,sddm,systemd-journal-remote,systemd-journal-upload

# Maximum user id for displayed users
MaximumUid=65000

# Minimum user id for displayed users
MinimumUid=500 #My UID is 501</pre>
<h3>
<span id=".E7.94.A8.E6.88.B7.E5.A4.B4.E5.83.8F.E6.9C.AA.E6.98.BE.E7.A4.BA.E5.9C.A8_greeter_.E4.B8.8A"></span><span class="mw-headline" id="用户头像未显示在_greeter_上">用户头像未显示在 greeter 上</span>
</h3>
<p>如果用户数量超过 DisableAvatarsThreshold 参数，或者如果完全没有启用 EnableAvatars 参数所控制的头像，则该头像不会显示在 greeter 上。为了避免这种情况，请在 sddm 
配置中添加以下几行：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sddm.conf.d/avatars.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Theme]
EnableAvatars=true # enable avatars	
DisableAvatarsThreshold=7 # set the threshold for the number of users. Avatars are not shown if this threshold is exceeded.</pre>
<h3>
<span id="SDDM_.E5.8F.AA.E5.8A.A0.E8.BD.BD_US_.E9.94.AE.E7.9B.98.E5.B8.83.E5.B1.80"></span><span class="mw-headline" id="SDDM_只加载_US_键盘布局">SDDM 只加载 US 键盘布局</span>
</h3>
<p>SDDM 加载的键盘布局被确定在 <code>/etc/X11/xorg.conf.d/00-keyboard.conf</code> 文件中。您可以通过 <code>localectl set-x11-keymap</code> 命令以生成此配置文件。详见 <a href="../en/Xorg/Keyboard_configuration.html" class="mw-redirect" title="Keyboard configuration in Xorg">Keyboard configuration in Xorg</a>。
</p>
<p>设置仅在 SDDM 中设置而不在后续会话中设置的键盘布局的另一种方法是在 SDDM 的启动脚本（位于 <code>/usr/share/sddm/scripts/Xsetup</code>）中调用 <i>setxkbmap</i> 命令。有关示例，请参见 <a href="../en/Xorg/Keyboard_configuration.html#Using_setxkbmap" title="Xorg/Keyboard configuration">Xorg/Keyboard configuration#Using setxkbmap</a>。
</p>
<p>SDDM 可能也会错误地显示为 US 布局，但在您开始输入您的密码时立即切换到正确的键盘布局 <a rel="nofollow" class="external autonumber" href="https://github.com/sddm/sddm/issues/202#issuecomment-76001543">[4]</a>。此 bug 看起来不是来自 SDDM，而是 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libxcb">libxcb</a></span> (version 1.13-1 as of 2018) <a rel="nofollow" class="external autonumber" href="https://github.com/sddm/sddm/issues/202#issuecomment-133628462">[5]</a>。
</p>
<h3>
<span id=".E5.B1.8F.E5.B9.95.E5.88.86.E8.BE.A8.E7.8E.87.E8.BF.87.E4.BD.8E"></span><span class="mw-headline" id="屏幕分辨率过低">屏幕分辨率过低</span>
</h3>
<p>此问题可能源于显示屏 HiDPI 的使用破坏了 <a href="https://en.wikipedia.org/wiki/Extended_Display_Identification_Data" class="extiw" title="wikipedia:Extended Display Identification Data">EDID</a> <a rel="nofollow" class="external autonumber" href="https://github.com/sddm/sddm/issues/692">[6]</a>。如果你 <a href="#%E5%90%AF%E7%94%A8_HiDPI">启动了 HiDPI</a>，尝试关掉它。
</p>
<p>如果上述方法失败了，您可以尝试在 Xorg 配置文件中设置您的显示尺寸：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/90-monitor.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "Monitor"
        Identifier      "&lt;default monitor&gt;"
        DisplaySize     345 194 # in millimeters
EndSection</pre>
<h3>
<span id=".E8.87.AA.E5.8A.A8.E6.8C.82.E8.BD.BD.E5.AE.B6.E7.9B.AE.E5.BD.95.E7.9A.84.E5.8A.A0.E8.BD.BD.E6.97.B6.E9.97.B4.E8.BF.87.E9.95.BF"></span><span class="mw-headline" id="自动挂载家目录的加载时间过长">自动挂载家目录的加载时间过长</span>
</h3>
<p>SDDM 默认会访问 <code>~/.face.icon</code> 文件以尝试显示用户头像。如果您的家目录采用自动挂载的文件系统（autofs），例如如果您使用 <a href="../en/Dm-crypt.html" title="Dm-crypt">dm-crypt</a>，这将会使之等待 60 秒，直到自动挂载的文件系统（autofs）返回此目录不能被挂载。
</p>
<p>您可以通过编辑 <code>/etc/sddm.conf</code> 文件以关闭头像功能：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sddm.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Theme]
EnableAvatars=false</pre>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../zh-CN/Category:KDE.html" title="Category:KDE (简体中文)">KDE (简体中文)</a></li>
<li><a href="../zh-CN/Category:Display_managers.html" title="Category:Display managers (简体中文)">Display managers (简体中文)</a></li>
</ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=SDDM_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=638616">https://wiki.archlinux.org/index.php?title=SDDM_(简体中文)&amp;oldid=638616</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 14 October 2020, at 07:17.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
