<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Visual Studio Code (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Visual_Studio_Code_简体中文 rootpage-Visual_Studio_Code_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Visual Studio Code (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="../en/Visual_Studio_Code.html" title="Visual Studio Code">Visual Studio Code</a> 的<a href="../zh-CN/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2020-08-07。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Visual_Studio_Code&amp;diff=0&amp;oldid=630328">更改</a>，则您可以帮助同步翻译。</div>
<p><a rel="nofollow" class="external text" href="https://code.visualstudio.com/">Visual Studio Code</a>是一个跨平台，免费，开源 (使用MIT协议)的文本编辑器，由微软使用JavaScript和TypeScript开发。它构建于Electron框架之上，并且极具扩展性。可以在编辑器自带的应用商店，或者从 <a rel="nofollow" class="external free" href="https://marketplace.visualstudio.com/VSCode">https://marketplace.visualstudio.com/VSCode</a> 中安装扩展。尽管Visual Studio Code是开源软件，但是微软提供一个专有版本（使用终端用户许可协议授权），被用作<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/visual-studio-code-bin/">visual-studio-code-bin</a></span><sup><small>AUR</small></sup>AUR软件包的基础（有关混合授权的说明，请参阅此 GitHub<a rel="nofollow" class="external text" href="https://github.com/Microsoft/vscode/issues/60#issuecomment-161792005">评论</a>）。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%E5%AE%89%E8%A3%85"><span class="tocnumber">1</span> <span class="toctext">安装</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#%E4%BD%BF%E7%94%A8"><span class="tocnumber">2</span> <span class="toctext">使用</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#%E9%85%8D%E7%BD%AE"><span class="tocnumber">3</span> <span class="toctext">配置</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#%E9%9B%86%E6%88%90%E7%BB%88%E7%AB%AF"><span class="tocnumber">3.1</span> <span class="toctext">集成终端</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#%E5%A4%96%E9%83%A8%E7%BB%88%E7%AB%AF"><span class="tocnumber">3.2</span> <span class="toctext">外部终端</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6">
<a href="#%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4"><span class="tocnumber">4</span> <span class="toctext">故障排除</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#KDE/Plasma_%E5%85%A8%E5%B1%80%E8%8F%9C%E5%8D%95%E5%A4%B1%E6%95%88"><span class="tocnumber">4.1</span> <span class="toctext">KDE/Plasma 全局菜单失效</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#%E6%97%A0%E6%B3%95%E5%B0%86%E5%86%85%E5%AE%B9%E7%A7%BB%E8%87%B3%E5%9B%9E%E6%94%B6%E7%AB%99"><span class="tocnumber">4.2</span> <span class="toctext">无法将内容移至回收站</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#C#%E6%97%A0%E6%B3%95%E8%B0%83%E8%AF%95"><span class="tocnumber">4.3</span> <span class="toctext">C#无法调试</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8OmniSharp_server%E6%89%93%E5%BC%80.csproj%EF%BC%8CMicrosoft.Common.props%E4%BD%8D%E7%BD%AE%E6%97%A0%E6%95%88"><span class="tocnumber">4.4</span> <span class="toctext">无法使用OmniSharp server打开.csproj，Microsoft.Common.props位置无效</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#OmniSharp%E9%94%99%E8%AF%AF%EF%BC%8CMSBuild%E6%97%A0%E6%B3%95%E5%AE%9A%E4%BD%8D"><span class="tocnumber">4.5</span> <span class="toctext">OmniSharp错误，MSBuild无法定位</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#%E4%BD%BF%E7%94%A8%E2%80%9CRetry_as_Sudo%E2%80%9D%E4%BF%9D%E5%AD%98%E6%97%A0%E6%95%88"><span class="tocnumber">4.6</span> <span class="toctext">使用“Retry as Sudo”保存无效</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#%E9%94%AE%E7%9B%98%E5%8F%98%E4%BD%93%E4%B8%8E%E9%94%AE%E4%BD%8D%E6%98%A0%E5%B0%84%E4%B8%8D%E7%9B%B8%E7%AC%A6"><span class="tocnumber">4.7</span> <span class="toctext">键盘变体与键位映射不相符</span></a></li>
<li class="toclevel-2 tocsection-14">
<a href="#%E6%8C%87%E4%BB%A4%E2%80%9C...%E2%80%9D%E6%9C%AA%E6%89%BE%E5%88%B0"><span class="tocnumber">4.8</span> <span class="toctext">指令“...”未找到</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="#VS_Live_Share%E7%BC%BA%E5%A4%B1API"><span class="tocnumber">4.8.1</span> <span class="toctext">VS Live Share缺失API</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#%E6%8C%87%E4%BB%A4'remote-containers.openFolder'%E6%9C%AA%E6%89%BE%E5%88%B0"><span class="tocnumber">4.8.2</span> <span class="toctext">指令'remote-containers.openFolder'未找到</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="#%E6%8C%87%E4%BB%A4'GitHub_Pull_Requests:_Configure_Remotes...'%E5%AF%BC%E8%87%B4%E9%94%99%E8%AF%AF%EF%BC%88%E6%8C%87%E4%BB%A4'pr.configureRemotes'%E6%9C%AA%E6%89%BE%E5%88%B0%EF%BC%89"><span class="tocnumber">4.8.3</span> <span class="toctext">指令'GitHub Pull Requests: Configure Remotes...'导致错误（指令'pr.configureRemotes'未找到）</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-18"><a href="#Git:_ssh_askpass:_exec(/usr/lib/ssh/ssh-askpass):_No_such_file_or_directory"><span class="tocnumber">4.9</span> <span class="toctext">Git: ssh_askpass: exec(/usr/lib/ssh/ssh-askpass): No such file or directory</span></a></li>
</ul>
</li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="安装">安装</span>
</h2>
<p>下列安装包提供 VSCode:
</p>
<ul>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=code">code</a></span></li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/visual-studio-code-bin/">visual-studio-code-bin</a></span><sup><small>AUR</small></sup>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/visual-studio-code-insiders/">visual-studio-code-insiders</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：package not found]</sup>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/code-git/">code-git</a></span><sup><small>AUR</small></sup>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/vscodium-bin/">vscodium-bin</a></span><sup><small>AUR</small></sup>
</li>
</ul>
<p>微软<a rel="nofollow" class="external text" href="https://github.com/microsoft/ptvsd">ptvsd</a> (Python Tools for Visual Studio Debug) 服务器/模块可用于<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/python-ptvsd/">python-ptvsd</a></span><sup><small>AUR</small></sup>。
</p>
<h2>
<span id=".E4.BD.BF.E7.94.A8"></span><span class="mw-headline" id="使用">使用</span>
</h2>
<p>对于以下版本，运行<code>code</code>即可启动：
</p>
<ul>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=code">code</a></span></li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/visual-studio-code-bin/">visual-studio-code-bin</a></span><sup><small>AUR</small></sup>
</li>
</ul>
<p>对于以下版本，运行<code>code-git</code>即可启动：
</p>
<ul><li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/code-git/">code-git</a></span><sup><small>AUR</small></sup>
</li></ul>
<p>对于以下版本，运行<code>codium</code>即可启动：
</p>
<ul><li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/vscodium-bin/">vscodium-bin</a></span><sup><small>AUR</small></sup>
</li></ul>
<p>如果你想打开多个实例，可以使用<code>-n</code>选项。
</p>
<h2>
<span id=".E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="配置">配置</span>
</h2>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=code">code</a></span> 的配置文件保存在 <code>~/.config/Code - OSS/User/settings.json</code>。
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/visual-studio-code-bin/">visual-studio-code-bin</a></span><sup><small>AUR</small></sup> 的配置文件保存在 <code>~/.config/Code/User/settings.json</code>。
</p>
<h3>
<span id=".E9.9B.86.E6.88.90.E7.BB.88.E7.AB.AF"></span><span class="mw-headline" id="集成终端">集成终端</span>
</h3>
<p>点击<i>查看 &gt; 集成终端</i> 或使用快捷键 <code>Ctrl + `</code> 打开集成终端。
<a href="../en/Bash.html" title="Bash">Bash</a>作为默认终端不带任何附加选项的方式启动。
<code>terminal.integrated.shell.linux</code> 可以配置默认终端，<code>terminal.integrated.shellArgs.linux</code> 可以配置启动终端时的附加参数。
</p>
<p>例子：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/Code/User/settings.json</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">"terminal.integrated.shell.linux": "/usr/bin/fish",
"terminal.integrated.shellArgs.linux": ["-l","-d 3"]
</pre>
<p>您可能会收到奇怪的提示，这是由于将集成终端参数设置成了外部终端。要解决此问题，请移除该句，或换用外部终端。
</p>
<h3>
<span id=".E5.A4.96.E9.83.A8.E7.BB.88.E7.AB.AF"></span><span class="mw-headline" id="外部终端">外部终端</span>
</h3>
<p>如果你使用<a href="../en/Terminator.html" title="Terminator">Terminator</a>作为Arch的默认终端，而且在Visual Studio Code中遇到一个错误<code>Unable to launch debugger worker process (vsdbg) through the terminal. spawn truecolor ENOENT</code>，可以换另一个终端（比如，<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-terminal">gnome-terminal</a></span>）供Visual Studio Code使用。
</p>
<p><code>"terminal.external.linuxExec": "Yours alternative terminal"</code> 用于设置调试默认终端。
</p>
<p>例子：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/Code/User/settings.json</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">"terminal.external.linuxExec": "gnome-terminal"
</pre>
<h2>
<span id=".E6.95.85.E9.9A.9C.E6.8E.92.E9.99.A4"></span><span class="mw-headline" id="故障排除">故障排除</span>
</h2>
<h3>
<span id="KDE.2FPlasma_.E5.85.A8.E5.B1.80.E8.8F.9C.E5.8D.95.E5.A4.B1.E6.95.88"></span><span class="mw-headline" id="KDE/Plasma_全局菜单失效">KDE/Plasma 全局菜单失效</span>
</h3>
<p>Visual Studio Code使用DBus传递菜单，尝试安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libdbusmenu-glib">libdbusmenu-glib</a></span>
</p>
<p><br>
</p>
<h3>
<span id=".E6.97.A0.E6.B3.95.E5.B0.86.E5.86.85.E5.AE.B9.E7.A7.BB.E8.87.B3.E5.9B.9E.E6.94.B6.E7.AB.99"></span><span class="mw-headline" id="无法将内容移至回收站">无法将内容移至回收站</span>
</h3>
<p>默认状态下，<a rel="nofollow" class="external text" href="https://electron.atom.io/">Electron</a>使用<code>gio</code>删除文件。不同的回收站实现可以通过设置<code>ELECTRON_TRASH</code><a href="../zh-CN/Environment_variables.html" title="Environment variables (简体中文)">环境变量</a>来使用。
</p>
<p>例如，要在<a href="../zh-CN/KDE.html" class="mw-redirect" title="Plasma (简体中文)">Plasma</a>下删除文件：
</p>
<pre>$ ELECTRON_TRASH=kioclient5 code
</pre>
<p>这样一来，Electron就支持了<code>kioclient5</code>，<code>kioclient</code>，<code>trash-cli</code>，<code>gio</code>（默认）和<code>gvfs-trash</code>（不推荐）。详情可在此查看<a rel="nofollow" class="external text" href="https://github.com/electron/electron/blob/master/docs/api/environment-variables.md#electron_trash-linux">documentation page</a>。
</p>
<h3>
<span id="C.23.E6.97.A0.E6.B3.95.E8.B0.83.E8.AF.95"></span><span class="mw-headline" id="C#无法调试">C#无法调试</span>
</h3>
<p>您若想调试C#<a href="../zh-CN/.NET_Core.html" title=".NET Core (简体中文)">.NET</a>（使用<a rel="nofollow" class="external text" href="http://www.omnisharp.net">OmniSharp扩展</a>），则需要通过AUR安装微软专版。原因是.NET Core调试器仅授权官方微软产品使用，参见<a rel="nofollow" class="external text" href="https://github.com/OmniSharp/omnisharp-vscode/issues/1431#issuecomment-297578930">this github discussion</a>。
</p>
<p>若使用开源软件包，调试器失效时不会有太多信息。调试台仅会提示初始信息：
</p>
<pre>You may only use the Microsoft .NET Core Debugger (vsdbg) with
Visual Studio Code, Visual Studio or Visual Studio for Mac software
to help you develop and test your applications.</pre>
<p>要使用开源软件包进行调试，可以选择<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/netcoredbg/">netcoredbg</a></span><sup><small>AUR</small></sup>。要在VS Code中运行，请在项目的.NET Core启动配置中添加这个配置：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">./.vscode/launch.json</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">"configurations": [
    {
...
    "pipeTransport": {
        "pipeCwd": "${workspaceFolder}",
        "pipeProgram": "/usr/bin/bash",
        "pipeArgs": ["-c"],
        "debuggerPath": "/usr/bin/netcoredbg"
    }
...
</pre>
<h3>
<span id=".E6.97.A0.E6.B3.95.E4.BD.BF.E7.94.A8OmniSharp_server.E6.89.93.E5.BC.80.csproj.EF.BC.8CMicrosoft.Common.props.E4.BD.8D.E7.BD.AE.E6.97.A0.E6.95.88"></span><span class="mw-headline" id="无法使用OmniSharp_server打开.csproj，Microsoft.Common.props位置无效">无法使用OmniSharp server打开.csproj，Microsoft.Common.props位置无效</span>
</h3>
<p>您必须从mono切换到合适SDK版本的props。
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/opt/dotnet/sdk/{VERSION}/Sdks/Microsoft.NET.Sdk/Sdk/Sdk.props</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props
</pre>
<p>把导入修改成类似这样：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/opt/dotnet/sdk/{VERSION}/Sdks/Microsoft.NET.Sdk/Sdk/Sdk.props</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/opt/dotnet/sdk/{VERSION}/Current/Microsoft.Common.props
</pre>
<h3>
<span id="OmniSharp.E9.94.99.E8.AF.AF.EF.BC.8CMSBuild.E6.97.A0.E6.B3.95.E5.AE.9A.E4.BD.8D"></span><span class="mw-headline" id="OmniSharp错误，MSBuild无法定位">OmniSharp错误，MSBuild无法定位</span>
</h3>
<p><a rel="nofollow" class="external text" href="https://github.com/OmniSharp/omnisharp-roslyn#introduction">OmniSharp introduction</a>提到了Arch Linux用户应当安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/msbuild-stable/">msbuild-stable</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：package not found]</sup>软件包。否则，您可能收到类似以下的错误：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">OmniSharp Log</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[info]: OmniSharp.MSBuild.Discovery.MSBuildLocator
        Registered MSBuild instance: StandAlone 15.0 - "~/.vscode/extensions/ms-vscode.csharp-1.18.0/.omnisharp/1.32.11/omnisharp/msbuild/15.0/Bin"
            MSBuildExtensionsPath = /usr/lib/mono/xbuild
            BypassFrameworkInstallChecks = true
            CscToolPath = ~/.vscode/extensions/ms-vscode.csharp-1.18.0/.omnisharp/1.32.11/omnisharp/msbuild/15.0/Bin/Roslyn
            CscToolExe = csc.exe
            MSBuildToolsPath = ~/.vscode/extensions/ms-vscode.csharp-1.18.0/.omnisharp/1.32.11/omnisharp/msbuild/15.0/Bin
            TargetFrameworkRootPath = /usr/lib/mono/xbuild-frameworks
System.TypeLoadException: Could not load type of field 'OmniSharp.MSBuild.ProjectManager:_queue' (13) due to: Could not load file or assembly 'System.Threading.Tasks.Dataflow, Version=4.5.24.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a' or one of its dependencies.
...</pre>
<p>不过您依然有可能成功组建——则很可能取决于您是否也安装了<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mono">mono</a></span>。
</p>
<h3>
<span id=".E4.BD.BF.E7.94.A8.E2.80.9CRetry_as_Sudo.E2.80.9D.E4.BF.9D.E5.AD.98.E6.97.A0.E6.95.88"></span><span class="mw-headline" id="使用“Retry_as_Sudo”保存无效">使用“Retry as Sudo”保存无效</span>
</h3>
<p>这个特性在<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=code">code</a></span>软件包中无效，因为微软不支持Arch软件包的打包方式（原生的而非捆绑的Electron）。详情参见<a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/61516">FS#61516</a>和<a rel="nofollow" class="external text" href="https://github.com/Microsoft/vscode/issues/70403">upstream bug report</a>。
</p>
<p>二进制发行版<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/visual-studio-code-bin/">visual-studio-code-bin</a></span><sup><small>AUR</small></sup>没有这个问题，该特性在此版本中有效。
</p>
<h3>
<span id=".E9.94.AE.E7.9B.98.E5.8F.98.E4.BD.93.E4.B8.8E.E9.94.AE.E4.BD.8D.E6.98.A0.E5.B0.84.E4.B8.8D.E7.9B.B8.E7.AC.A6"></span><span class="mw-headline" id="键盘变体与键位映射不相符">键盘变体与键位映射不相符</span>
</h3>
<p>根据<a rel="nofollow" class="external text" href="https://github.com/Microsoft/vscode/wiki/Keybinding-Issues#troubleshoot-linux-keybindings">GitHub上的wiki页面</a>：
</p>
<dl><dd>Switching keyboard layouts under some Linux window managers does not result in a change in the low level X window APIs VS Code uses to read the current keyboard layout. This means that VS Code ends up sometimes reading one of the other configured keyboard layouts and not the current active one. PR welcome...</dd></dl>
<p>根据wiki页面，有两种解决方案：
</p>
<ol>
<li>确保<code>setxkbmap -query</code>返回的第一个键盘布局是你想在VS Code中使用的。</li>
<li>在设置中使用<code>"keyboard.dispatch": "keyCode"</code>，并重启VS Code。这将彻底阻止VS Code确定您的键盘布局。</li>
</ol>
<h3>
<span id=".E6.8C.87.E4.BB.A4.E2.80.9C....E2.80.9D.E6.9C.AA.E6.89.BE.E5.88.B0"></span><span class="mw-headline" id="指令“...”未找到">指令“...”未找到</span>
</h3>
<p>在VS Coded官方编译版本中，<code>product.json</code>文件列出了所有能够使用某些特定API的扩展。然而，<code>product.json</code>在OSS版<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=code">code</a></span>中是缺失的。 <a rel="nofollow" class="external autonumber" href="https://docs.microsoft.com/en-us/visualstudio/liveshare/reference/linux#vs-code-oss-issues">[1]</a>
</p>
<p>在下列相关问题中，需要开启某些开关（flags）来启用某些API：<a rel="nofollow" class="external autonumber" href="https://github.com/Microsoft/vscode-pull-request-github/wiki#3-why-isnt-the-extension-starting">[2]</a>。您也可以附上这些开关来运行<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=code">code</a></span>，或将相关入口添加至<code>product.json</code>文件的<code>extensionAllowedProposedApi</code>部分（<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=code">code</a></span>将其安装在了<code>/usr/lib/code/product.json</code>）。
</p>
<pre>"extensionAllowedProposedApi": [
    "ms-vsliveshare.vsliveshare",
    "ms-vscode.node-debug",
    "ms-vscode.node-debug2"
]</pre>
<p>再或者，您也可以考虑安装微软专版软件包<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/visual-studio-code-bin/">visual-studio-code-bin</a></span><sup><small>AUR</small></sup>或<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/visual-studio-code-insiders/">visual-studio-code-insiders</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：package not found]</sup>.
</p>
<h4>
<span id="VS_Live_Share.E7.BC.BA.E5.A4.B1API"></span><span class="mw-headline" id="VS_Live_Share缺失API">VS Live Share缺失API</span>
</h4>
<p>要么使用上述解决方案编辑<code>product.json</code>，要么使用如下命令打开VS Code：
</p>
<pre>$ code --enable-proposed-api ms-vsliveshare.vsliveshare
</pre>
<h4>
<span id=".E6.8C.87.E4.BB.A4.27remote-containers.openFolder.27.E6.9C.AA.E6.89.BE.E5.88.B0"></span><span class="mw-headline" id="指令'remote-containers.openFolder'未找到">指令'remote-containers.openFolder'未找到</span>
</h4>
<p>如<a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/63374">FS#63374</a>所述，打开VS Code时启用remote-containers API：
</p>
<pre>$ code-oss --enable-proposed-api ms-vscode-remote.remote-containers
</pre>
<h4>
<span id=".E6.8C.87.E4.BB.A4.27GitHub_Pull_Requests:_Configure_Remotes....27.E5.AF.BC.E8.87.B4.E9.94.99.E8.AF.AF.EF.BC.88.E6.8C.87.E4.BB.A4.27pr.configureRemotes.27.E6.9C.AA.E6.89.BE.E5.88.B0.EF.BC.89"></span><span class="mw-headline" id="指令'GitHub_Pull_Requests:_Configure_Remotes...'导致错误（指令'pr.configureRemotes'未找到）">指令'GitHub Pull Requests: Configure Remotes...'导致错误（指令'pr.configureRemotes'未找到）</span>
</h4>
<p>使用如下命令打开VS Code：
</p>
<pre>$ code --enable-proposed-api GitHub.vscode-pull-request-github
</pre>
<h3>
<span id="Git:_ssh_askpass:_exec.28.2Fusr.2Flib.2Fssh.2Fssh-askpass.29:_No_such_file_or_directory"></span><span class="mw-headline" id="Git:_ssh_askpass:_exec(/usr/lib/ssh/ssh-askpass):_No_such_file_or_directory">Git: ssh_askpass: exec(/usr/lib/ssh/ssh-askpass): No such file or directory</span>
</h3>
<p>该错误是加密的ssh-key导致的，可以通过安装对话提供器（dialogue provider）解决，例如<a href="../en/SSH_keys.html#x11-ssh-askpass" title="SSH keys">SSH keys#x11-ssh-askpass</a>，或列出的替代品如KDE的<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ksshaskpass">ksshaskpass</a></span>。
</p>
<p>有一点需要注意，您需要将其从<code>/usr/lib/ssh/ssh-askpass</code>连接，以使VS Code能够找到它。以ksshaskpass为例：
</p>
<pre># ln /usr/bin/ksshaskpass /usr/lib/ssh/ssh-askpass
</pre>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../zh-CN/Category:Text_editors.html" title="Category:Text editors (简体中文)">Text editors (简体中文)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Visual_Studio_Code_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=646323">https://wiki.archlinux.org/index.php?title=Visual_Studio_Code_(简体中文)&amp;oldid=646323</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 22 December 2020, at 09:03.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
