<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>GTK (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-GTK_简体中文 rootpage-GTK_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">GTK (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><br>
</p>
<div class="archwiki-template-meta-related-articles-start">
<p>相关文章</p>
<ul>
<li><a href="../zh-CN/Uniform_look_for_Qt_and_GTK_applications.html" class="mw-redirect" title="Uniform Look for QT and GTK Applications (简体中文)">统一 QT 和 GTK 程序的外观</a></li>
<li><a href="../zh-CN/Qt.html" title="Qt (简体中文)">Qt</a></li>
<li><a href="../en/GNU.html" class="mw-redirect" title="GNU Project">GNU Project</a></li>
<li><a href="../en/GTK/Development.html" title="GTK/Development">GTK/Development</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="../en/GTK.html" class="mw-redirect" title="GTK+">GTK+</a> 的<a href="../zh-CN/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2013-02-18。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=GTK%2B&amp;diff=0&amp;oldid=247172">更改</a>，则您可以帮助同步翻译。</div>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a><b>本文或本节需要<a href="../zh-CN/ArchWiki:Contributing.html#%E7%BF%BB%E8%AF%91" title="ArchWiki:Contributing (简体中文)">翻译</a>。要贡献翻译，请访问<a href="../zh-CN/ArchWiki:Translation_Team.html" class="mw-redirect" title="ArchWiki Translation Team (简体中文)">简体中文翻译团队</a>。</b><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>附注：</b> <span style="color:red;">请使用模板的第一个参数进行更详细的指示。</span>（在 <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:GTK_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Talk:GTK (简体中文)#</a> 中讨论）</div>
</div>
<p>摘自 <a rel="nofollow" class="external text" href="http://www.gtk.org">GTK 官方网站</a>：
</p>
<dl><dd>GTK，或称 GIMP Toolkit，是一个跨平台的图形界面开发库。该库提供各式各样的窗口部件，小到一次性使用的程序、大到大型应用，GTK 都能满足你的需求。</dd></dl>
<p>GTK，即 GIMP Toolkit，最初由 <a href="../en/GNU.html" class="mw-redirect" title="GNU Project">GNU项目</a>为 <a href="../en/GIMP.html" title="GIMP">GIMP</a> 开发，但现在它已经是一个非常流行的工具包，绑定了很多语言。本文将探讨 GTK 主题、风格、图标、字体和字号的配置工具，也会详细介绍手动配置。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%E5%AE%89%E8%A3%85"><span class="tocnumber">1</span> <span class="toctext">安装</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#%E4%B8%BB%E9%A2%98"><span class="tocnumber">2</span> <span class="toctext">主题</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#GTK_%E4%B8%8E_QT"><span class="tocnumber">2.1</span> <span class="toctext">GTK 与 QT</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="#%E9%85%8D%E7%BD%AE%E5%B7%A5%E5%85%B7"><span class="tocnumber">3</span> <span class="toctext">配置工具</span></a></li>
<li class="toclevel-1 tocsection-5">
<a href="#%E9%85%8D%E7%BD%AE"><span class="tocnumber">4</span> <span class="toctext">配置</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#%E5%9F%BA%E6%9C%AC%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE"><span class="tocnumber">4.1</span> <span class="toctext">基本主题配置</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Dark_theme_variant"><span class="tocnumber">4.2</span> <span class="toctext">Dark theme variant</span></a></li>
<li class="toclevel-2 tocsection-8">
<a href="#%E9%94%AE%E7%9B%98%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="tocnumber">4.3</span> <span class="toctext">键盘快捷键</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#Emacs_key_bindings"><span class="tocnumber">4.3.1</span> <span class="toctext">Emacs key bindings</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-10"><a href="#GNOME_%E8%8F%9C%E5%8D%95%E5%BB%B6%E8%BF%9F"><span class="tocnumber">4.4</span> <span class="toctext">GNOME 菜单延迟</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#%E7%BC%A9%E5%B0%8F%E7%AA%97%E5%8F%A3%E9%83%A8%E4%BB%B6"><span class="tocnumber">4.5</span> <span class="toctext">缩小窗口部件</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Hide_CSD_buttons"><span class="tocnumber">4.6</span> <span class="toctext">Hide CSD buttons</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Disable_mouse_paste"><span class="tocnumber">4.7</span> <span class="toctext">Disable mouse paste</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#File-chooser_start-up_location"><span class="tocnumber">4.8</span> <span class="toctext">File-chooser start-up location</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Legacy_scrolling_behavior"><span class="tocnumber">4.9</span> <span class="toctext">Legacy scrolling behavior</span></a></li>
<li class="toclevel-2 tocsection-16">
<a href="#Disable_overlay_scrollbars"><span class="tocnumber">4.10</span> <span class="toctext">Disable overlay scrollbars</span></a>
<ul>
<li class="toclevel-3 tocsection-17"><a href="#Remove_overlay_scroll_indicators"><span class="tocnumber">4.10.1</span> <span class="toctext">Remove overlay scroll indicators</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-18"><a href="#Examples"><span class="tocnumber">4.11</span> <span class="toctext">Examples</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19">
<a href="#GDK_%E5%90%8E%E7%AB%AF"><span class="tocnumber">5</span> <span class="toctext">GDK 后端</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#Wayland_%E5%90%8E%E7%AB%AF"><span class="tocnumber">5.1</span> <span class="toctext">Wayland 后端</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Xorg_%E5%90%8E%E7%AB%AF"><span class="tocnumber">5.2</span> <span class="toctext">Xorg 后端</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Broadway_%E5%90%8E%E7%AB%AF"><span class="tocnumber">5.3</span> <span class="toctext">Broadway 后端</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-23">
<a href="#%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3"><span class="tocnumber">6</span> <span class="toctext">问题解决</span></a>
<ul>
<li class="toclevel-2 tocsection-24"><a href="#Different_themes_between_GTK_2_and_GTK_3_applications"><span class="tocnumber">6.1</span> <span class="toctext">Different themes between GTK 2 and GTK 3 applications</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Theme_not_applied_to_root_applications"><span class="tocnumber">6.2</span> <span class="toctext">Theme not applied to root applications</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Client-side_decorations"><span class="tocnumber">6.3</span> <span class="toctext">Client-side decorations</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#cedilla_%C3%A7/%C3%87_instead_of_%C4%87/%C4%86"><span class="tocnumber">6.4</span> <span class="toctext">cedilla ç/Ç instead of ć/Ć</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Suppress_warning_about_accessibility_bus"><span class="tocnumber">6.5</span> <span class="toctext">Suppress warning about accessibility bus</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#Titlebar_background_color_mismatch"><span class="tocnumber">6.6</span> <span class="toctext">Titlebar background color mismatch</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#Wrong_focus_events_with_tiling_window_managers"><span class="tocnumber">6.7</span> <span class="toctext">Wrong focus events with tiling window managers</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Thumbnail_support_for_GTK_file_dialog"><span class="tocnumber">6.8</span> <span class="toctext">Thumbnail support for GTK file dialog</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#Button_and_menu_icons"><span class="tocnumber">6.9</span> <span class="toctext">Button and menu icons</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#GTK_3_without_polkit"><span class="tocnumber">6.10</span> <span class="toctext">GTK 3 without polkit</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#Some_GTK_2_themes_only_change_the_UI_color_palette"><span class="tocnumber">6.11</span> <span class="toctext">Some GTK 2 themes only change the UI color palette</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#Patching_GTK_file_chooser_to_use_regular_type_ahead"><span class="tocnumber">6.12</span> <span class="toctext">Patching GTK file chooser to use regular type ahead</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-36"><a href="#%E5%8F%82%E8%A7%81"><span class="tocnumber">7</span> <span class="toctext">参见</span></a></li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="安装">安装</span>
</h2>
<p>目前在<a href="../zh-CN/Official_repositories.html" title="Official repositories (简体中文)">官方仓库</a>中有三个版本的 GTK。它们可以通过以下软件包来<a href="../zh-CN/Help:Reading.html#%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8C%85" class="mw-redirect" title="Install (简体中文)">安装</a>：
</p>
<ul>
<li>
<b>GTK 4.x</b> 可以通过 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gtk4">gtk4</a></span> 包获得。</li>
<li>
<b>GTK 3.x</b> 可以通过 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gtk3">gtk3</a></span> 包获得。</li>
<li>
<b>GTK 2.x</b> 可以通过 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gtk2">gtk2</a></span> 包获得。</li>
</ul>
<p>此外：
</p>
<ul><li>
<b>GTK 1.x</b> 可以通过 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gtk/">gtk</a></span><sup><small>AUR</small></sup> 包获得。</li></ul>
<h2>
<span id=".E4.B8.BB.E9.A2.98"></span><span class="mw-headline" id="主题">主题</span>
</h2>
<p>In GTK 3, the default theme is Adwaita, but HighContrast and HighContrastInverse themes are also included.
In GTK 2, the default theme is Raleigh, but Arch Linux has a custom configuration file at <code>/usr/share/gtk-2.0/gtkrc</code>, which sets the default theme to Adwaita.
</p>
<p>To force a specific theme, set the following <a href="../en/Environment_variables.html" title="Environment variables">environment variables</a>:
</p>
<ul><li>For GTK 3, use <code>GTK_THEME</code>. For example to launch GNOME Calculator with the dark variant of Adwaita:</li></ul>
<pre>$ GTK_THEME=Adwaita:dark gnome-calculator
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> To apply the above to desktop shortcuts (or launchers) see <a href="../en/Desktop_entries.html#Modify_environment_variables" title="Desktop entries">Desktop entries#Modify environment variables</a>.</div>
<ul><li>For GTK 2, use <code>GTK2_RC_FILES</code>. For example to launch <a href="../en/GIMP.html" title="GIMP">GIMP</a> with the theme Raleigh:</li></ul>
<pre>$ GTK2_RC_FILES=/usr/share/themes/Raleigh/gtk-2.0/gtkrc gimp
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> <code>gtkrc</code> can also be a custom file in your home directory created by any of the <a href="#Configuration_tools">#Configuration tools</a>. See <a href="#Examples">#Examples</a>.</div>
<p>More themes can be installed from the official repositories or the <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>. Manually extracted themes go in <code>~/.themes/</code> or <code>~/.local/share/themes/</code> directory.
</p>
<p><b>Themes supporting GTK 2 and GTK 3:</b>
</p>
<ul><li>
<b>Adapta</b> —  An adaptive GTK theme based on Material Design Guidelines. Includes: Adapta, Adapta-Eta, Adapta-Nokto, Adapta-Nokto-Eta</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/tista500/Adapta">https://github.com/tista500/Adapta</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=adapta-gtk-theme">adapta-gtk-theme</a></span>
</dd></dl>
<ul><li>
<b>Arc</b> — A flat theme with a modern look and transparent elements. Includes: Arc, Arc-Dark, Arc-Darker</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/jnsh/arc-theme">https://github.com/jnsh/arc-theme</a> || with transparency: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=arc-gtk-theme">arc-gtk-theme</a></span>, without transparency: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=arc-solid-gtk-theme">arc-solid-gtk-theme</a></span>
</dd></dl>
<ul><li>
<b>Bluebird</b> — Blue Desktop Suite for Xfce.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/shimmerproject/Bluebird">https://github.com/shimmerproject/Bluebird</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xfce-theme-bluebird/">xfce-theme-bluebird</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Breeze</b> — GTK version of KDE's default widget theme. Includes: Breeze, Breeze-Dark</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://invent.kde.org/plasma/breeze-gtk">https://invent.kde.org/plasma/breeze-gtk</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=breeze-gtk">breeze-gtk</a></span>
</dd></dl>
<ul><li>
<b>Deepin</b> — Default theme for the Deepin desktop. Includes: deepin, deepin-dark</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/linuxdeepin/deepin-gtk-theme">https://github.com/linuxdeepin/deepin-gtk-theme</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=deepin-gtk-theme">deepin-gtk-theme</a></span>
</dd></dl>
<ul><li>
<b>GNOME Extra Themes</b> — Extra themes for the GNOME desktop. Includes: Adwaita, Adwaita-dark, HighContrast</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://gitlab.gnome.org/GNOME/gnome-themes-extra">https://gitlab.gnome.org/GNOME/gnome-themes-extra</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-themes-extra">gnome-themes-extra</a></span>
</dd></dl>
<ul><li>
<b>Greybird</b> — A grey and blue Xfce theme, used by default in Xubuntu 12.04.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/shimmerproject/Greybird">https://github.com/shimmerproject/Greybird</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xfce-theme-greybird/">xfce-theme-greybird</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Materia</b> — A Material Design-like flat theme for GTK3, GTK2, and GNOME-Shell.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/nana-4/materia-theme">https://github.com/nana-4/materia-theme</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=materia-gtk-theme">materia-gtk-theme</a></span>
</dd></dl>
<ul><li>
<b>MATE Themes</b> — Default themes for the MATE desktop. Includes: BlackMATE, Blue-Submarine, BlueMenta, ContrastHighInverse, Green-Submarine, GreenLaguna, Menta, TraditionalGreen, TraditionalOk</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/mate-desktop/mate-themes">https://github.com/mate-desktop/mate-themes</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mate-themes">mate-themes</a></span>
</dd></dl>
<ul><li>
<b>Numix</b> — A flat and light theme with a modern look (GNOME, Openbox, Unity, Xfce). Includes: Numix</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/numixproject/numix-gtk-theme">https://github.com/numixproject/numix-gtk-theme</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/numix-gtk-theme-git/">numix-gtk-theme-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Vertex</b> — Theme for GTK 3, GTK 2, Gnome-Shell and Cinnamon.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/horst3180/vertex-theme">https://github.com/horst3180/vertex-theme</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/vertex-themes/">vertex-themes</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Zuki</b> — Themes for GTK, gnome-shell and more.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/lassekongo83/zuki-themes">https://github.com/lassekongo83/zuki-themes</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/zuki-themes/">zuki-themes</a></span><sup><small>AUR</small></sup>
</dd></dl>
<p>There are a number of additional GTK themes in the AUR, example: <a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?K=gtk-theme">search for gtk-theme</a>.
</p>
<h3>
<span id="GTK_.E4.B8.8E_QT"></span><span class="mw-headline" id="GTK_与_QT">GTK 与 QT</span>
</h3>
<p>同时在系统上安装GTK+和QT（通常是<a href="../zh-CN/KDE.html" title="KDE (简体中文)">KDE</a>组件）程序的人都知道，两者的外观并不怎么协调。关于两者外观统一的问题，参见：<a href="../zh-CN/Uniform_look_for_Qt_and_GTK_applications.html" title="Uniform look for Qt and GTK applications (简体中文)">协调QT和GTK+程序的外观</a>。
</p>
<h2>
<span id=".E9.85.8D.E7.BD.AE.E5.B7.A5.E5.85.B7"></span><span class="mw-headline" id="配置工具">配置工具</span>
</h2>
<p>Most major <a href="../en/Desktop_environment.html" class="mw-redirect" title="Desktop environments">desktop environments</a> provide tools to configure the GTK theme, icons, font and font size, and manage these settings via <a rel="nofollow" class="external text" href="https://specifications.freedesktop.org/xsettings-spec/">XSettings</a>:
</p>
<ul>
<li>If you use <a href="../en/Cinnamon.html" title="Cinnamon">Cinnamon</a>, use Themes tool (<i>cinnamon-settings themes</i>): go to <i>System Settings &gt; Themes</i>.</li>
<li>If you use <a href="../en/Enlightenment.html" title="Enlightenment">Enlightenment</a>: go to <i>Settings &gt; All &gt; Look &gt; Application Theme</i>.</li>
<li>If you use <a href="../en/GNOME.html" title="GNOME">GNOME</a>, use GNOME Tweaks (<i>gnome-tweaks</i>): install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-tweaks">gnome-tweaks</a></span>.</li>
<li>If you use <a href="../en/MATE.html" title="MATE">MATE</a>, use the Appearance Preferences tool (<i>mate-appearance-properties</i>): go to <i>System &gt; Settings &gt; Appearance</i>.</li>
<li>If you use <a href="../en/Xfce.html" title="Xfce">Xfce</a>, use the Appearance tool: go to <i>Settings &gt; Appearance</i>.</li>
</ul>
<p>Other GUI tools generally overwrite the <a href="#Configuration">configuration files</a>.
</p>
<p><b>Both GTK 2 and GTK 3 are supported:</b>
</p>
<ul><li>
<b>KDE GTK Configurator</b> — Application that allows you to change style and font of GTK 2 and GTK 3 applications.</li></ul>
<dl>
<dd>
<a rel="nofollow" class="external free" href="https://invent.kde.org/plasma/kde-gtk-config">https://invent.kde.org/plasma/kde-gtk-config</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kde-gtk-config">kde-gtk-config</a></span>
</dd>
<dd>After installation, <code>kde-gtk-config</code> can also be found in <i>System Settings &gt; Application Style  &gt; GNOME/GTK Application Style</i>.</dd>
</dl>
<ul><li>
<b>LXAppearance</b> — Desktop independent GTK 2 and GTK 3 style configuration tool from the LXDE project (it does not require other parts of the LXDE desktop).</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="http://wiki.lxde.org/en/LXAppearance">http://wiki.lxde.org/en/LXAppearance</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lxappearance-gtk3">lxappearance-gtk3</a></span>
</dd></dl>
<ul><li>
<b>Oo-mox</b> —  Graphical application for generating different color variations of Numix and Flat-Plat themes (GTK 2 and 3), Archdroid and Gnome-Colors icon themes. Also allows generating pre-scaled GTK 2 themes for HiDPI displays.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/actionless/oomox">https://github.com/actionless/oomox</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/oomox/">oomox</a></span><sup><small>AUR</small></sup>
</dd></dl>
<p><b>Only GTK 2 is supported:</b>
</p>
<ul><li>
<b>GTK Change Theme</b> — Little program that lets you change your GTK 2.0 theme (considered a better alternative to <i>switch2</i>).</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="http://plasmasturm.org/code/gtk-chtheme/">http://plasmasturm.org/code/gtk-chtheme/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gtk-chtheme">gtk-chtheme</a></span>
</dd></dl>
<ul><li>
<b>GTK Preference Tool</b> — GTK theme selector and font switcher.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="http://gtk-win.sourceforge.net/home/index.php/Main/GTKPreferenceTool">http://gtk-win.sourceforge.net/home/index.php/Main/GTKPreferenceTool</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gtk2_prefs/">gtk2_prefs</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>GTK Theme Switch</b> — Simple GTK theme switcher.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="http://muhri.net/nav.php3?node=gts">http://muhri.net/nav.php3?node=gts</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gtk-theme-switch2/">gtk-theme-switch2</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h2>
<span id=".E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="配置">配置</span>
</h2>
<p>GTK settings can be specified manually in configuration files, but desktop environments and applications can override these settings. Depending on GTK version, these files are located at:
</p>
<ul>
<li>GTK 2 user specific: <code>~/.gtkrc-2.0</code>
</li>
<li>GTK 2 system wide: <code>/etc/gtk-2.0/gtkrc</code>
</li>
<li>GTK 3 user specific: <code>$XDG_CONFIG_HOME/gtk-3.0/settings.ini</code>, or <code>$HOME/.config/gtk-3.0/settings.ini</code> if <code>$XDG_CONFIG_HOME</code> is not set</li>
<li>GTK 3 system wide: <code>/etc/gtk-3.0/settings.ini</code>
</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>See the <a rel="nofollow" class="external text" href="https://developer.gnome.org/gtk3/stable/GtkSettings.html#GtkSettings.properties">GTK 3 <i>GtkSettings</i> properties</a> (and <a rel="nofollow" class="external text" href="https://developer.gnome.org/gtk2/stable/GtkSettings.html#GtkSettings.properties">GTK 2 properties</a>) in the GTK programming reference manual for the full list of currently supported GTK configuration options.</li>
<li>Some of the settings described below (such as <code>gtk-icon-sizes</code>) are deprecated and ignored since GTK 3.10.</li>
<li>If you edit your GTK configuration files, only newly started applications will display the changes.</li>
</ul>
</div>
<h3>
<span id=".E5.9F.BA.E6.9C.AC.E4.B8.BB.E9.A2.98.E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="基本主题配置">基本主题配置</span>
</h3>
<p>To manually change the GTK theme, icons, font and font size, add the following to the configuration files, for example:
</p>
<ul><li>GTK 2:</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.gtkrc-2.0</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">gtk-icon-theme-name = "Adwaita"
gtk-theme-name = "Adwaita"
gtk-font-name = "DejaVu Sans 11"</pre>
<ul><li>GTK 3:</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$XDG_CONFIG_HOME/gtk-3.0/settings.ini</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Settings]
gtk-icon-theme-name = Adwaita
gtk-theme-name = Adwaita
gtk-font-name = DejaVu Sans 11</pre>
<p>If the theme is not applied for GTK 3, use <code>gsettings</code> in addition:
</p>
<pre>$ gsettings set org.gnome.desktop.interface gtk-theme Pop
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The icon theme name is the name of its directory, <i>not</i> the name property in its <code>index.theme</code>.</div>
<h3><span class="mw-headline" id="Dark_theme_variant">Dark theme variant</span></h3>
<p>Some GTK 3 themes contain a dark theme variant, but it's only used by default when the application requests it explicitly. To use dark theme variant with all GTK 3 applications, set:
</p>
<pre>gtk-application-prefer-dark-theme = true
</pre>
<p><br>
</p>
<h3>
<span id=".E9.94.AE.E7.9B.98.E5.BF.AB.E6.8D.B7.E9.94.AE"></span><span class="mw-headline" id="键盘快捷键">键盘快捷键</span>
</h3>
<p>把鼠标放在某个菜单项，然后按下某个按键组合，即可修改该项目的快捷键。不过，该功能默认是关闭的。启用方法是使用以下配置：
</p>
<pre>gtk-can-change-accels = 1
</pre>
<h4><span class="mw-headline" id="Emacs_key_bindings">Emacs key bindings</span></h4>
<p>To have Emacs-like key bindings in GTK applications add the following:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.gtkrc-2.0</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">gtk-key-theme-name = "Emacs"</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/gtk-3.0/settings.ini</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Settings]
gtk-key-theme-name = Emacs</pre>
<p>For GTK3 also run:
</p>
<pre>$ gsettings set org.gnome.desktop.interface gtk-key-theme "Emacs"
</pre>
<p>XFCE has a similar setting:
</p>
<pre>$ xfconf-query -c xsettings -p /Gtk/KeyThemeName -s Emacs
</pre>
<p>The config files in <code>/usr/share/themes/Emacs/</code> determine what the Emacs bindings are, and can be changed. Copying sections to the users <code>~/.gtkrc-2.0</code> file allows for changes on a per user basis.
</p>
<h3>
<span id="GNOME_.E8.8F.9C.E5.8D.95.E5.BB.B6.E8.BF.9F"></span><span class="mw-headline" id="GNOME_菜单延迟">GNOME 菜单延迟</span>
</h3>
<p>鼠标指向菜单与菜单显示之间有一个延迟，以下设置就是该延迟时间（应该是以毫秒为单位）：
</p>
<pre>gtk-menu-popup-delay = 0
</pre>
<h3>
<span id=".E7.BC.A9.E5.B0.8F.E7.AA.97.E5.8F.A3.E9.83.A8.E4.BB.B6"></span><span class="mw-headline" id="缩小窗口部件">缩小窗口部件</span>
</h3>
<p>如果屏幕很小，不喜欢过大的图标和窗口部件，可以调整其尺寸。
</p>
<p>工具栏仅显示图标：
</p>
<pre>gtk-toolbar-style = GTK_TOOLBAR_ICONS
</pre>
<p>显示小图标：
</p>
<pre>gtk-icon-sizes = "panel-menu=16,16:panel=16,16:gtk-menu=16,16:gtk-large-toolbar=16,16\
:gtk-small-toolbar=16,16:gtk-button=16,16"
</pre>
<p>按钮上不显示图标：
</p>
<pre>gtk-button-images = 0
</pre>
<p>菜单不显示图标：
</p>
<pre>gtk-menu-images = 0
</pre>
<p>更多gtkrc优化配置参见<a rel="nofollow" class="external text" href="http://martin.ankerl.com/2008/10/10/how-to-make-a-compact-gnome-theme/">此文</a><sup title="最后检查状态：404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">失效链接</a> 2020-08-02 ⓘ]</sup>。此外，使用<a rel="nofollow" class="external text" href="http://gnome-look.org/content/show.php/Simple+eGTK?content=119812">该主题</a>即可搞定上面所有配置。
</p>
<h3><span class="mw-headline" id="Hide_CSD_buttons">Hide CSD buttons</span></h3>
<p>To remove the minimize and maximize buttons from <i>gtk3</i> windows:
</p>
<pre>gtk-decoration-layout=menu:close
</pre>
<p>See <a rel="nofollow" class="external autonumber" href="https://developer.gnome.org/gtk3/3.22/GtkSettings.html#GtkSettings--gtk-decoration-layout">[1]</a>.
</p>
<h3><span class="mw-headline" id="Disable_mouse_paste">Disable mouse paste</span></h3>
<p>To turn off pasting on middle mouse button click (aka PRIMARY):
</p>
<pre>gtk-enable-primary-paste=false
</pre>
<h3><span class="mw-headline" id="File-chooser_start-up_location">File-chooser start-up location</span></h3>
<p>Open the file-chooser within the <b>current working directory</b> and not the <b>recent</b> location. Normally the <b>current working directory</b> is the <i>Home</i> directory.
</p>
<p><b>GTK 3</b>
</p>
<p>Change <a href="../en/GNOME.html#Configuration" title="GNOME">setting</a> with the following command:
</p>
<pre>$ gsettings set org.gtk.Settings.FileChooser startup-mode cwd
</pre>
<p><b>GTK 2</b>
</p>
<p>Add the following to <code>~/.config/gtk-2.0/gtkfilechooser.ini</code>:
</p>
<pre>StartupMode=cwd
</pre>
<h3><span class="mw-headline" id="Legacy_scrolling_behavior">Legacy scrolling behavior</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This setting is not obeyed by all GTK applications.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Legacy scrolling behaviour can be achieved reliably simply by using right click instead of left click.</div>
<p>Prior to GTK 3.6, clicking on either side of the slider in the scrollbar would move the scrollbar in the direction of the click by approximately one page. Since GTK 3.6, the slider will move directly to the position of the click. This behaviour can be reverted in some applications by creating the file with the content below:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/gtk-3.0/settings.ini</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Settings]
gtk-primary-button-warps-slider = false
</pre>
<h3><span class="mw-headline" id="Disable_overlay_scrollbars">Disable overlay scrollbars</span></h3>
<p>Since GTK 3.15, overlay scrollbars are enabled by default, meaning that scrollbars will be shown only on mouseover in GTK 3 applications. This behavior can be reverted by setting the following environment variable: <code>GTK_OVERLAY_SCROLLING=0</code>. See <a href="../en/Environment_variables.html#Graphical_environment" title="Environment variables">Environment variables#Graphical environment</a>.
</p>
<p>GTK 4 will no longer support <code>GTK_OVERLAY_SCROLLING</code>. It has already been <a rel="nofollow" class="external text" href="https://github.com/GNOME/gtk/commit/e49615184a9d85bb0bb4e289b3ee8252adee3813#diff-3cf94c6e1eb009e20985034bc2210bfd">dropped</a> from master. As of GTK 4, the overlay nature of the scrollbars is part of the toolkit. The blanket toggle has been removed to prevent developers from breaking applications that haven't been tested with both combinations. To allow application developers to decide what their applications should look like, the toolkit instead provides a mechanism to opt-out or add a setting for users. The function <a rel="nofollow" class="external text" href="https://developer.gnome.org/gtk3/stable/GtkScrolledWindow.html#gtk-scrolled-window-set-overlay-scrolling">gtk_scrolled_window_set_overlay_scrolling()</a> can be used to enable/disable overlay scrolling on a <i>per-application</i> basis. Application developers can optionally use <a rel="nofollow" class="external text" href="https://blog.gtk.org/2017/05/01/first-steps-with-gsettings/">GSettings</a> to have a user setting bound to the property.
</p>
<h4><span class="mw-headline" id="Remove_overlay_scroll_indicators">Remove overlay scroll indicators</span></h4>
<p>The positions of the overlay scrollbars are indicated by thin dashed lines in the application window. These dashed lines will be present even when overlay scrolling is disabled using the environment variable discussed in the section above. To remove the indicator lines, create the following file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/gtk-3.0/gtk.css</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/* Remove dotted lines from GTK 3 applications */
undershoot.top, undershoot.right, undershoot.bottom, undershoot.left { background-image: none; }
</pre>
<h3><span class="mw-headline" id="Examples">Examples</span></h3>
<p>GTK example configurations:
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> May be ignored by some <a href="../en/Desktop_environment.html" class="mw-redirect" title="Desktop environments">desktop environments</a> (e.g. <a href="../en/GNOME.html" title="GNOME">GNOME</a>).</div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.gtkrc-2.0</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">gtk-theme-name="Arc-Dark"
gtk-icon-theme-name="breeze-dark"
gtk-font-name="Sans 11"
gtk-cursor-theme-name="Breeze_Amber"
gtk-cursor-theme-size=0
gtk-toolbar-style=GTK_TOOLBAR_BOTH_HORIZ
gtk-toolbar-icon-size=GTK_ICON_SIZE_SMALL_TOOLBAR
gtk-button-images=0
gtk-menu-images=0
gtk-enable-event-sounds=0
gtk-enable-input-feedback-sounds=0
gtk-xft-antialias=1
gtk-xft-hinting=1
gtk-xft-hintstyle="hintslight"
gtk-xft-rgba="rgb"</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/gtk-3.0/settings.ini</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Settings]
gtk-theme-name=Arc-Dark
gtk-icon-theme-name=breeze-dark
gtk-font-name=Sans 11
gtk-cursor-theme-name=Breeze_Amber
gtk-cursor-theme-size=0
gtk-toolbar-style=GTK_TOOLBAR_BOTH_HORIZ
gtk-toolbar-icon-size=GTK_ICON_SIZE_SMALL_TOOLBAR
gtk-button-images=0
gtk-menu-images=0
gtk-enable-event-sounds=0
gtk-enable-input-feedback-sounds=0
gtk-xft-antialias=1
gtk-xft-hinting=1
gtk-xft-hintstyle=hintslight
gtk-xft-rgba=rgb
# gtk-decoration-layout=menu:close
# gtk-application-prefer-dark-theme=1</pre>
<h2>
<span id="GDK_.E5.90.8E.E7.AB.AF"></span><span class="mw-headline" id="GDK_后端">GDK 后端</span>
</h2>
<p>GDK（GTK 的底层抽象层）支持多个后端显示 GTK 应用。
</p>
<h3>
<span id="Wayland_.E5.90.8E.E7.AB.AF"></span><span class="mw-headline" id="Wayland_后端">Wayland 后端</span>
</h3>
<p>The GDK <a href="../en/Wayland.html" title="Wayland">Wayland</a> backend is supported only by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gtk3">gtk3</a></span> and is the default backend when using <a href="../en/Wayland.html" title="Wayland">Wayland</a> display server. 
</p>
<p>Applications that use versions of GTK prior to <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gtk3">gtk3</a></span> don't have wayland support, and need to use Xwayland in order to run on a wayland session using the <i>X11</i> backend.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> To disable GTK window decorations in Wayland, <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gtk3-optional-csd/">gtk3-optional-csd</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：package not found]</sup> package and set the environment variable <code>GTK_CSD=0</code>.</div>
<h3>
<span id="Xorg_.E5.90.8E.E7.AB.AF"></span><span class="mw-headline" id="Xorg_后端">Xorg 后端</span>
</h3>
<p>If <a href="../en/Xorg.html" title="Xorg">Xorg</a> display server is in use, the backend defaults to <i>x11</i> automatically.
</p>
<p>It is possible to force GTK3 applications running on a wayland session to use the <i>X11</i> backend through Xwayland by setting the environment variable <code>GDK_BACKEND=x11</code>.
</p>
<h3>
<span id="Broadway_.E5.90.8E.E7.AB.AF"></span><span class="mw-headline" id="Broadway_后端">Broadway 后端</span>
</h3>
<p>The GDK Broadway backend provides support for displaying GTK applications in a web browser, using HTML5 and web sockets. 
<a rel="nofollow" class="external autonumber" href="https://developer.gnome.org/gtk3/3.8/gtk-broadway.html">[2]</a>
</p>
<p>When using <i>broadwayd</i>, specify the display number to use, prefixed with a colon, similar to X. The default display number is 0 (zero).
</p>
<pre>$ display_number=:5
</pre>
<p>Start it.
</p>
<pre>$ broadwayd $display_number 
</pre>
<p>Port used by default
</p>
<pre>port = 8080 + $display_number
</pre>
<p>Point your browser to <a rel="nofollow" class="external free" href="http://127.0.0.1:port">http://127.0.0.1:port</a>
</p>
<p>To Start apps
</p>
<pre>$ GDK_BACKEND=broadway BROADWAY_DISPLAY=$display_number <i>&lt;&lt;app&gt;&gt;</i>
</pre>
<p>Alternatively can set address and port
</p>
<pre>$ broadwayd --port $port_number --address $address $display_number
</pre>
<h2>
<span id=".E9.97.AE.E9.A2.98.E8.A7.A3.E5.86.B3"></span><span class="mw-headline" id="问题解决">问题解决</span>
</h2>
<h3><span class="mw-headline" id="Different_themes_between_GTK_2_and_GTK_3_applications">Different themes between GTK 2 and GTK 3 applications</span></h3>
<p>In general, if a selected theme has support for both GTK 2 and GTK 3, the theme will be applied to all GTK 2 and GTK 3 applications. If a selected theme has support for only GTK 2, it will be used for GTK 2 applications and the default GTK theme will be used for GTK 3 applications. If the selected theme has support for only GTK 3, it will be used for GTK 3 applications and the default GTK theme will be used for GTK 2 applications. Thus for application theme consistency, it is best to use a theme which has support for both GTK 2 and GTK 3.
</p>
<p>You could find what themes installed on your system  have both an GTK 2 and GTK 3 version by using this command (does not work with names containing spaces):
</p>
<pre>find $(find ~/.themes /usr/share/themes/ -wholename "*/gtk-3.0" | sed -e "s/^\(.*\)\/gtk-3.0$/\1/") -wholename "*/gtk-2.0" | sed -e "s/.*\/\(.*\)\/gtk-2.0/\1"/
</pre>
<h3><span class="mw-headline" id="Theme_not_applied_to_root_applications">Theme not applied to root applications</span></h3>
<p>As user theme files (<code>$XDG_CONFIG_HOME/gtk-3.0/settings.ini</code>, <code>~/.gtkrc-2.0</code>) are not read by other accounts, the selected theme will not apply to <a href="../en/Running_GUI_applications_as_root.html" class="mw-redirect" title="Running X apps as root">X applications run as root</a>. Possible solutions include:
</p>
<ul><li>Create symlinks, e.g</li></ul>
<pre># ln -s /home/[username]/.gtkrc-2.0 /etc/gtk-2.0/gtkrc
# ln -s /home/[username]/.config/gtk-3.0/settings.ini /etc/gtk-3.0/settings.ini
</pre>
<ul>
<li>Configure system-wide theme files: <code>/etc/gtk-3.0/settings.ini</code> (GTK 3) or <code>/etc/gtk-2.0/gtkrc</code> (GTK 2)</li>
<li>Adjust the theme as root</li>
</ul>
<pre># lxappearance
</pre>
<ul><li>Use a settings daemon (this is what most desktop environments do). A desktop-agnostic variant using <a rel="nofollow" class="external text" href="https://specifications.freedesktop.org/xsettings-spec/">XSettings</a> is available in the <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a> under <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xsettingsd-git/">xsettingsd-git</a></span><sup><small>AUR</small></sup>.</li></ul>
<h3><span class="mw-headline" id="Client-side_decorations">Client-side decorations</span></h3>
<p>GTK 3.12 introduced <a rel="nofollow" class="external text" href="https://blogs.gnome.org/mclasen/2013/12/05/client-side-decorations-in-themes/">client-side decorations</a>, which move the title-bar away from the window manager. This may present issues such as <a rel="nofollow" class="external text" href="http://redmine.audacious-media-player.org/boards/1/topics/1135">double title-bars</a>, no title-bar at all or <a rel="nofollow" class="external text" href="https://github.com/chjj/compton/issues/189">double shadows</a> with compositing enabled.
</p>
<p>To remove the shadow and gap around windows (for example in combination with a tiling window manager), create the following file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/gtk-3.0/gtk.css</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">.window-frame, .window-frame:backdrop {
 box-shadow: 0 0 0 black;
 border-style: none;
 margin: 0;
 border-radius: 0;
}

.titlebar {
 border-radius: 0;
}

.window-frame.csd.popup {
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(0, 0, 0, 0.13);
}

.header-bar {
  background-image: none;
  background-color: #ededed;
  box-shadow: none;
}
/* You may want to use this if you don't like the double title.
GtkLabel.title {
    opacity: 0;
}*/
</pre>
<p>To adjust the buttons in the header bar, use the <code>gtk-decoration-layout</code> setting. <a rel="nofollow" class="external autonumber" href="https://developer.gnome.org/gtk3/stable/GtkSettings.html#GtkSettings--gtk-decoration-layout">[3]</a> The below examples removes all buttons:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/gtk-3.0/settings.ini</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">gtk-decoration-layout=menu:</pre>
<h3>
<span id="cedilla_.C3.A7.2F.C3.87_instead_of_.C4.87.2F.C4.86"></span><span class="mw-headline" id="cedilla_ç/Ç_instead_of_ć/Ć">cedilla ç/Ç instead of ć/Ć</span>
</h3>
<p>See <a rel="nofollow" class="external autonumber" href="https://bugs.launchpad.net/ubuntu/+source/ibus/+bug/518056">[4]</a>, and <a rel="nofollow" class="external autonumber" href="https://bugs.launchpad.net/ubuntu/+source/ibus/+bug/518056/comments/37">[5]</a> for a workaround using Xcompose (US international layout).
</p>
<h3><span class="mw-headline" id="Suppress_warning_about_accessibility_bus">Suppress warning about accessibility bus</span></h3>
<p>If you do not use any <a rel="nofollow" class="external text" href="https://wiki.gnome.org/Accessibility">Gnome Accessibility</a> features, you may receive warnings like:
</p>
<pre>WARNING **: Couldn't connect to accessibility bus:
</pre>
<p>To suppress these warnings, execute programs with <code>NO_AT_BRIDGE=1</code> or set that as a global <a href="../en/Environment_variables.html" class="mw-redirect" title="Environment variable">environment variable</a>.
</p>
<h3><span class="mw-headline" id="Titlebar_background_color_mismatch">Titlebar background color mismatch</span></h3>
<p>If you are using a <a href="../en/Window_manager.html" title="Window manager">window manager</a> which uses a window decoration theme that mimics the GTK theme background color, you may find that the titlebar color no longer completely matches the application color in some GTK 3 applications. As a workaround, create the following file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/gtk-3.0/gtk.css</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/* Always use background color */
GtkWindow {
    background-color: @theme_bg_color;
}

/* Fix tooltip background override */
.tooltip {
    background-color: rgba(0, 0, 0, 0.8);
}

.tooltip * {
    background-color: transparent;
}

/* Fix Nautilus desktop window background override */
NautilusWindow {
     background-color: transparent; 
}
</pre>
<h3><span class="mw-headline" id="Wrong_focus_events_with_tiling_window_managers">Wrong focus events with tiling window managers</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This disables smooth scrolling and touchscreen support for GTK3 applications. <a rel="nofollow" class="external autonumber" href="https://bugzilla.gnome.org/show_bug.cgi?id=677329#c14">[6]</a>
</div>
<p><a href="../en/Environment_variables.html#Defining_variables" class="mw-redirect" title="Define">Define</a> <code>GDK_CORE_DEVICE_EVENTS=1</code> to use GTK2 style input, instead of xinput2. <a rel="nofollow" class="external autonumber" href="https://bugzilla.gnome.org/show_bug.cgi?id=677329#c10">[7]</a>
</p>
<h3><span class="mw-headline" id="Thumbnail_support_for_GTK_file_dialog">Thumbnail support for GTK file dialog</span></h3>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gtk2-patched-filechooser-icon-view/">gtk2-patched-filechooser-icon-view</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gtk3-patched-filechooser-icon-view/">gtk3-patched-filechooser-icon-view</a></span><sup><small>AUR</small></sup> to have the option to view files as thumbnails instead of list in the GTK file chooser.
</p>
<h3><span class="mw-headline" id="Button_and_menu_icons">Button and menu icons</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Explain what the issue is. GNOME ignores <code>settings.ini</code> if GDM is used. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:GTK_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Talk:GTK (简体中文)#</a>)</div>
</div>
<p>For some applications in GNOME's Wayland session. Your <code>~/.config/gtk-3.0/settings.ini</code> file is misconfigured. This can happen if you try other GTK based desktop environments. These are the offending values:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/gtk-3.0/settings.ini</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Settings]
gtk-button-images=1
gtk-menu-images=1</pre>
<p>Simply set them to 0 or remove the whole file to use GNOME defaults.
</p>
<h3><span class="mw-headline" id="GTK_3_without_polkit">GTK 3 without polkit</span></h3>
<p>GTK3 depends on polkit through colord, which is required for printing. However printing works fine without polkit installed; at least with a monochrome printer and package versions gtk3-print-backends=3.22.19-2 and colord=1.4.1-1.
</p>
<h3><span class="mw-headline" id="Some_GTK_2_themes_only_change_the_UI_color_palette">Some GTK 2 themes only change the UI color palette</span></h3>
<p>Depending on the theme of choice's support for GTK 2, UI controls may still have the default Raleigh appearance, possibly with a different color palette. This is due to these themes requiring the GTK 2 Murrine engine, which is missing (GTK 2 programs should complain about it on their standard error output). Install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gtk-engine-murrine">gtk-engine-murrine</a></span> package.
</p>
<h3><span class="mw-headline" id="Patching_GTK_file_chooser_to_use_regular_type_ahead">Patching GTK file chooser to use regular type ahead</span></h3>
<p>GTK file chooser uses the same type-ahead-find feature as <a href="../en/GNOME/Files.html" title="GNOME/Files">GNOME/Files</a>. This can be very jarring and doesn't fit in very well with other desktop enviroments.
</p>
<p>Some applications support XDG-desktop-portal which allows application to use the native file chooser. If that doesn't work you can restore type-ahead functionality by using a patched GTK, for example <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gtk3-mushrooms/">gtk3-mushrooms</a></span><sup><small>AUR</small></sup>.
</p>
<h2>
<span id=".E5.8F.82.E8.A7.81"></span><span class="mw-headline" id="参见">参见</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="http://www.gtk.org/">GTK 官方网站</a></li>
<li><a href="https://en.wikipedia.org/wiki/GTK" class="extiw" title="wikipedia:GTK">维基百科对 GTK 的介绍</a></li>
<li><a rel="nofollow" class="external text" href="https://developer.gnome.org/gtk-tutorial/stable/">GTK+ 2.0 指南</a></li>
<li><a rel="nofollow" class="external text" href="https://developer.gnome.org/gtk3/stable/">GTK+ 3 参考手册</a></li>
<li><a rel="nofollow" class="external text" href="https://developer.gnome.org/gtkmm-tutorial/stable/">gtkmm 指南</a></li>
<li><a rel="nofollow" class="external text" href="https://developer.gnome.org/gtkmm/stable/">gtkmm 参考手册</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../zh-CN/Category:Widget_toolkits.html" title="Category:Widget toolkits (简体中文)">Widget toolkits (简体中文)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../zh-CN/Category:Pages_or_sections_flagged_with_Template:Translateme.html" title="Category:Pages or sections flagged with Template:Translateme (简体中文)">Pages or sections flagged with Template:Translateme (简体中文)</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=GTK_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=654049">https://wiki.archlinux.org/index.php?title=GTK_(简体中文)&amp;oldid=654049</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 6 March 2021, at 08:21.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
