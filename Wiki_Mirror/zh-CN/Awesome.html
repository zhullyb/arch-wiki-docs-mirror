<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>awesome (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Awesome_简体中文 rootpage-Awesome_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">awesome (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><span></span>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="/title/Awesome" title="Awesome">Awesome</a> 的<a href="/title/ArchWiki:Translation_Team_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2014-8-12。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Awesome&amp;diff=0&amp;oldid=329002">更改</a>，则您可以帮助同步翻译。</div>
<div class="noprint archwiki-template-message">
<p><a href="/title/File:Tango-preferences-desktop-locale-modified.png" class="image"><img alt="Tango-preferences-desktop-locale-modified.png" src="../File:Tango-preferences-desktop-locale-modified.png" decoding="async" width="48" height="48"></a><b>The <a href="/title/ArchWiki:Contributing#Translating" title="ArchWiki:Contributing">translation</a> of this article or section does not reflect the original text.</b><a href="/title/File:Tango-preferences-desktop-locale-modified.png" class="image"><img alt="Tango-preferences-desktop-locale-modified.png" src="../File:Tango-preferences-desktop-locale-modified.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Last updated in 2015 (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:Awesome_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Talk:Awesome (简体中文)#</a>)</div>
</div>
<p>来自<a href="https://en.wikipedia.org/wiki/awesome_(window_manager)" class="extiw" title="wikipedia:awesome (window manager)">awesome</a>网站：
</p>
<p><i><a rel="nofollow" class="external text" href="http://awesome.naquadah.org/">Awesome</a> 是 XWindows 下可高度定制的新一代窗口管理器。运行快捷、扩展性强，遵循GPLv2发布。</i>
</p>
<p><i>Awesome主要面向高级用户、开发者和那些希望完美控制自己电脑的图形界面的人。</i>
</p>
<p>本文主要内容为安装、使用、配置和自定义 awesome 窗口管理器。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%E5%AE%89%E8%A3%85"><span class="tocnumber">1</span> <span class="toctext">安装</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#%E4%BD%BF%E7%94%A8Awesome"><span class="tocnumber">2</span> <span class="toctext">使用Awesome</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#%E4%B8%8D%E4%BD%BF%E7%94%A8%E7%99%BB%E9%99%86%E7%AE%A1%E7%90%86%E5%99%A8"><span class="tocnumber">2.1</span> <span class="toctext">不使用登陆管理器</span></a></li>
<li class="toclevel-2 tocsection-4">
<a href="#%E4%BD%BF%E7%94%A8%E7%99%BB%E9%99%86%E7%AE%A1%E7%90%86%E5%99%A8"><span class="tocnumber">2.2</span> <span class="toctext">使用登陆管理器</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#GDM,_LightDM_%E4%BB%A5%E5%8F%8A%E5%85%B6%E4%BB%96%E4%BD%BF%E7%94%A8_/usr/share/xsessions/_%E7%9A%84%E7%AE%A1%E7%90%86%E5%99%A8"><span class="tocnumber">2.2.1</span> <span class="toctext">GDM, LightDM 以及其他使用 /usr/share/xsessions/ 的管理器</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#KDM"><span class="tocnumber">2.2.2</span> <span class="toctext">KDM</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-7">
<a href="#%E9%85%8D%E7%BD%AE"><span class="tocnumber">3</span> <span class="toctext">配置</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#%E5%88%9B%E5%BB%BA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="tocnumber">3.1</span> <span class="toctext">创建配置文件</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#%E6%9B%B4%E5%A4%9A%E7%9A%84%E9%85%8D%E7%BD%AE%E8%B5%84%E6%BA%90"><span class="tocnumber">3.2</span> <span class="toctext">更多的配置资源</span></a></li>
<li class="toclevel-2 tocsection-10">
<a href="#%E8%B0%83%E8%AF%95_rc.lua"><span class="tocnumber">3.3</span> <span class="toctext">调试 rc.lua</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="#%E4%BD%BF%E7%94%A8_Xephyr"><span class="tocnumber">3.3.1</span> <span class="toctext">使用 Xephyr</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#%E4%BD%BF%E7%94%A8_awmtt"><span class="tocnumber">3.3.2</span> <span class="toctext">使用 awmtt</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-13"><a href="#%E6%94%B9%E5%8F%98%E9%94%AE%E7%9B%98%E5%B8%83%E5%B1%80"><span class="tocnumber">3.4</span> <span class="toctext">改变键盘布局</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14">
<a href="#%E4%B8%BB%E9%A2%98"><span class="tocnumber">4</span> <span class="toctext">主题</span></a>
<ul>
<li class="toclevel-2 tocsection-15">
<a href="#%E8%AE%BE%E7%BD%AE%E5%A2%99%E7%BA%B8"><span class="tocnumber">4.1</span> <span class="toctext">设置墙纸</span></a>
<ul>
<li class="toclevel-3 tocsection-16"><a href="#version_&gt;=_3.5"><span class="tocnumber">4.1.1</span> <span class="toctext">version &gt;= 3.5</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="#%E9%9A%8F%E6%9C%BA%E5%A2%99%E7%BA%B8"><span class="tocnumber">4.1.2</span> <span class="toctext">随机墙纸</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-18">
<a href="#%E5%B0%8F%E6%8A%80%E5%B7%A7"><span class="tocnumber">5</span> <span class="toctext">小技巧</span></a>
<ul>
<li class="toclevel-2 tocsection-19"><a href="#%E4%BD%BF%E7%94%A8awesome%E4%BD%9C%E4%B8%BAGNOME%E7%9A%84%E7%AA%97%E5%8F%A3%E7%AE%A1%E7%90%86%E5%99%A8"><span class="tocnumber">5.1</span> <span class="toctext">使用awesome作为GNOME的窗口管理器</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#%E5%83%8Fcompiz%E9%82%A3%E6%A0%B7%E7%9A%84%E5%B9%B3%E9%93%BA%E6%A1%8C%E9%9D%A2%E6%95%88%E6%9E%9C"><span class="tocnumber">5.2</span> <span class="toctext">像compiz那样的平铺桌面效果</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#%E5%9C%A8awesome_3%E4%B8%AD%E6%98%BE%E7%A4%BA/%E9%9A%90%E8%97%8Fwibox"><span class="tocnumber">5.3</span> <span class="toctext">在awesome 3中显示/隐藏wibox</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#%E6%88%AA%E5%9B%BE"><span class="tocnumber">5.4</span> <span class="toctext">截图</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#%E5%8A%A8%E6%80%81%E6%A0%87%E7%AD%BE"><span class="tocnumber">5.5</span> <span class="toctext">动态标签</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Space_Invaders"><span class="tocnumber">5.6</span> <span class="toctext">Space Invaders</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Naughty%E5%BC%B9%E7%AA%97%E6%8F%90%E9%86%92"><span class="tocnumber">5.7</span> <span class="toctext">Naughty弹窗提醒</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#%E5%BC%B9%E5%87%BA%E8%8F%9C%E5%8D%95%E9%A1%B9"><span class="tocnumber">5.8</span> <span class="toctext">弹出菜单项</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#Awesome%E7%9A%84%E6%9B%B4%E5%A4%9A%E6%8F%92%E4%BB%B6"><span class="tocnumber">5.9</span> <span class="toctext">Awesome的更多插件</span></a></li>
<li class="toclevel-2 tocsection-28">
<a href="#Transparency"><span class="tocnumber">5.10</span> <span class="toctext">Transparency</span></a>
<ul>
<li class="toclevel-3 tocsection-29"><a href="#ImageMagick"><span class="tocnumber">5.10.1</span> <span class="toctext">ImageMagick</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-30"><a href="#%E8%87%AA%E5%8A%A8%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F"><span class="tocnumber">5.11</span> <span class="toctext">自动运行程序</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#%E4%BD%BF%E7%94%A8_awesome-client_%E7%BB%99%E6%96%87%E6%9C%AC%E6%8F%92%E4%BB%B6%E4%BC%A0%E9%80%92%E4%BF%A1%E6%81%AF"><span class="tocnumber">5.12</span> <span class="toctext">使用 awesome-client 给文本插件传递信息</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#%E4%BD%BF%E7%94%A8%E5%85%B6%E4%BB%96%E4%BB%BB%E5%8A%A1%E6%A0%8F"><span class="tocnumber">5.13</span> <span class="toctext">使用其他任务栏</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#Fix_Java_(GUI_appears_gray_only)"><span class="tocnumber">5.14</span> <span class="toctext">Fix Java (GUI appears gray only)</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#Prevent_Nautilus_from_displaying_the_desktop_(Gnome3)"><span class="tocnumber">5.15</span> <span class="toctext">Prevent Nautilus from displaying the desktop (Gnome3)</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#Transitioning_away_from_Gnome3"><span class="tocnumber">5.16</span> <span class="toctext">Transitioning away from Gnome3</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#Prevent_the_mouse_scroll_wheel_from_changing_tags"><span class="tocnumber">5.17</span> <span class="toctext">Prevent the mouse scroll wheel from changing tags</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#%E8%8F%9C%E5%8D%95%E6%A0%8F%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%9B%AE%E5%BD%95"><span class="tocnumber">5.18</span> <span class="toctext">菜单栏中的应用程序目录</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#%E5%BA%94%E7%94%A8%E8%8F%9C%E5%8D%95"><span class="tocnumber">5.19</span> <span class="toctext">应用菜单</span></a></li>
<li class="toclevel-2 tocsection-39"><a href="#%E6%A0%87%E9%A2%98%E6%A0%8F"><span class="tocnumber">5.20</span> <span class="toctext">标题栏</span></a></li>
<li class="toclevel-2 tocsection-40"><a href="#Start_xor_jump"><span class="tocnumber">5.21</span> <span class="toctext">Start xor jump</span></a></li>
<li class="toclevel-2 tocsection-41"><a href="#Battery_notification"><span class="tocnumber">5.22</span> <span class="toctext">Battery notification</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-42">
<a href="#Troubleshooting"><span class="tocnumber">6</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-43"><a href="#Mouse_Cursor_Missing"><span class="tocnumber">6.1</span> <span class="toctext">Mouse Cursor Missing</span></a></li>
<li class="toclevel-2 tocsection-44"><a href="#Grey_Java_GUIs"><span class="tocnumber">6.2</span> <span class="toctext">Grey Java GUIs</span></a></li>
<li class="toclevel-2 tocsection-45"><a href="#LibreOffice"><span class="tocnumber">6.3</span> <span class="toctext">LibreOffice</span></a></li>
<li class="toclevel-2 tocsection-46">
<a href="#Mod4_key"><span class="tocnumber">6.4</span> <span class="toctext">Mod4 key</span></a>
<ul>
<li class="toclevel-3 tocsection-47"><a href="#Mod4_key_vs._IBM_ThinkPad_users"><span class="tocnumber">6.4.1</span> <span class="toctext">Mod4 key vs. IBM ThinkPad users</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-48"><a href="#Eclipse:_cannot_resize/move_main_window"><span class="tocnumber">6.5</span> <span class="toctext">Eclipse: cannot resize/move main window</span></a></li>
<li class="toclevel-2 tocsection-49"><a href="#YouTube:_fullscreen_appears_in_background"><span class="tocnumber">6.6</span> <span class="toctext">YouTube: fullscreen appears in background</span></a></li>
<li class="toclevel-2 tocsection-50"><a href="#Starting_console_clients_on_specific_tags"><span class="tocnumber">6.7</span> <span class="toctext">Starting console clients on specific tags</span></a></li>
<li class="toclevel-2 tocsection-51"><a href="#Redirecting_console_output_to_a_file"><span class="tocnumber">6.8</span> <span class="toctext">Redirecting console output to a file</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-52"><a href="#External_Links"><span class="tocnumber">7</span> <span class="toctext">External Links</span></a></li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="安装">安装</span>
</h2>
<p><a href="/title/Pacman_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" title="Pacman (简体中文)">安装</a>位于<a href="/title/%E5%AE%98%E6%96%B9%E8%BD%AF%E4%BB%B6%E4%BB%93%E5%BA%93" class="mw-redirect" title="官方软件仓库">官方软件仓库</a>的软件包 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=awesome">awesome</a></span>。
</p>
<p>如果你对不稳定的预览版本有兴趣，可以从 <a href="/title/AUR" class="mw-redirect" title="AUR">AUR</a> 安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/awesome-git/">awesome-git</a></span><sup><small>AUR</small></sup>。但是请注意，这是一个不稳定的开发版，配置文件会有语法差异。
</p>
<h2>
<span id=".E4.BD.BF.E7.94.A8Awesome"></span><span class="mw-headline" id="使用Awesome">使用Awesome</span>
</h2>
<h3>
<span id=".E4.B8.8D.E4.BD.BF.E7.94.A8.E7.99.BB.E9.99.86.E7.AE.A1.E7.90.86.E5.99.A8"></span><span class="mw-headline" id="不使用登陆管理器">不使用登陆管理器</span>
</h3>
<p>不使用登录管理器来运行 awesome，只要添加 <b><code>exec awesome</code></b>到你的启动脚本（比如 ~/.xinitrc）。 详情参阅<a href="/title/Xinitrc" class="mw-redirect" title="Xinitrc">xinitrc</a>
</p>
<p>你也可以甚至不用登陆直接使用预置用户启动Awesome，请参考<a href="/title/Start_X_at_login" class="mw-redirect" title="Start X at login">Start X at login</a>
</p>
<h3>
<span id=".E4.BD.BF.E7.94.A8.E7.99.BB.E9.99.86.E7.AE.A1.E7.90.86.E5.99.A8"></span><span class="mw-headline" id="使用登陆管理器">使用登陆管理器</span>
</h3>
<p>要想用登陆管理器启动awesome，看<a href="/title/Display_manager_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" title="Display manager (简体中文)">这里</a>.
</p>
<h4>
<span id="GDM.2C_LightDM_.E4.BB.A5.E5.8F.8A.E5.85.B6.E4.BB.96.E4.BD.BF.E7.94.A8_.2Fusr.2Fshare.2Fxsessions.2F_.E7.9A.84.E7.AE.A1.E7.90.86.E5.99.A8"></span><span class="mw-headline" id="GDM,_LightDM_以及其他使用_/usr/share/xsessions/_的管理器">GDM, LightDM 以及其他使用 /usr/share/xsessions/ 的管理器</span>
</h4>
<p>Awesome 会自动地为这些登陆管理器安装一份配置文件，不需要做其他的事就能在登陆时选择启动Awesome。
</p>
<h4><span class="mw-headline" id="KDM">KDM</span></h4>
<p>以root身份创建:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/share/apps/kdm/sessions/awesome.desktop</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Desktop Entry]
Name=Awesome
Comment=Tiling Window Manager
Type=Application
Exec=/usr/bin/awesome
TryExec=/usr/bin/awesome</pre>
<h2>
<span id=".E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="配置">配置</span>
</h2>
<p>Awesome默认的配置已经很不错了，不过你迟早会想要做一些修改的。配置文件是一个lua脚本：<code>~/.config/awesome/rc.lua</code>.
</p>
<h3>
<span id=".E5.88.9B.E5.BB.BA.E9.85.8D.E7.BD.AE.E6.96.87.E4.BB.B6"></span><span class="mw-headline" id="创建配置文件">创建配置文件</span>
</h3>
<p>创建配置文件所在的文件夹
</p>
<pre> $ mkdir -p ~/.config/awesome/
</pre>
<p>Awesome会自动使用~/.config/awesome/rc.lua里的所有配置。这个文件并不会自动创建，所以我们先要从模板复制一个过来：
</p>
<pre>$ cp /etc/xdg/awesome/rc.lua ~/.config/awesome
</pre>
<p>配置文件的语法会随着Awesome的版本升级而变化，所以当你升级了之后遇到问题时，重复上面的步骤，或者你得手动修改配置文件。
</p>
<p>要获得关于配置Awesome的更多信息，请看<a rel="nofollow" class="external text" href="http://awesome.naquadah.org/wiki/Awesome_3_configuration">Awesome wiki的配置部分</a>
</p>
<h3>
<span id=".E6.9B.B4.E5.A4.9A.E7.9A.84.E9.85.8D.E7.BD.AE.E8.B5.84.E6.BA.90"></span><span class="mw-headline" id="更多的配置资源">更多的配置资源</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> Awesome配置文件语法有时会变化，所以你可能得动手修改下载的配置文件。</div>
<p>一些不错的rc.lua的例子可以在下面这些站点找到：
</p>
<ul>
<li>
<a rel="nofollow" class="external free" href="http://git.sysphere.org/awesome-configs/tree/">http://git.sysphere.org/awesome-configs/tree/</a> - Adrian C 的 Awesome 3.4 配置文件。 (anrxc)</li>
<li>
<a rel="nofollow" class="external free" href="https://pastebin.com/f6e4b064e">https://pastebin.com/f6e4b064e</a> - Darthlukan 的 Awesome 3.4 配置文件.</li>
<li><a rel="nofollow" class="external free" href="https://web.archive.org/web/20120509022348/http://www.calmar.ws/dotfiles/dotfiledir/dot_awesomerc.lua">https://web.archive.org/web/20120509022348/http://www.calmar.ws/dotfiles/dotfiledir/dot_awesomerc.lua</a></li>
<li><a rel="nofollow" class="external free" href="https://web.archive.org/web/20081012025713/http://oxmoz.no-ip.org/awesome/rc.lua">https://web.archive.org/web/20081012025713/http://oxmoz.no-ip.org/awesome/rc.lua</a></li>
<li>
<a rel="nofollow" class="external free" href="https://www.ugolnik.info/downloads/awesome/rc.lua">https://www.ugolnik.info/downloads/awesome/rc.lua</a> (screen) - 带有小型标题栏和状态栏的Awesome3配置文件。</li>
<li><a rel="nofollow" class="external free" href="https://github.com/kakos/wolgri.config/blob/master/.config/awesome/rc.lua">https://github.com/kakos/wolgri.config/blob/master/.config/awesome/rc.lua</a></li>
<li>
<a rel="nofollow" class="external free" href="https://github.com/bash/dotfiles/blob/master/.config/awesome/rc.lua">https://github.com/bash/dotfiles/blob/master/.config/awesome/rc.lua</a><sup title="最后检查状态：404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">失效链接</a> 2020-08-02 ⓘ]</sup>
</li>
<li><a rel="nofollow" class="external free" href="https://github.com/nblock/config/blob/b89ff1d1badfc6ba4675d779a4e6cc26708a85b3/config/awesome/rc.lua">https://github.com/nblock/config/blob/b89ff1d1badfc6ba4675d779a4e6cc26708a85b3/config/awesome/rc.lua</a></li>
<li>
<a rel="nofollow" class="external free" href="https://github.com/setkeh/Awesome-3.5">https://github.com/setkeh/Awesome-3.5</a> - <a href="/title/User:Setkeh" title="User:Setkeh">Setkeh</a> 的 Awesome 3.5 配置文件.</li>
<li>
<a rel="nofollow" class="external free" href="http://awesome.naquadah.org/wiki/User_Configuration_Files">http://awesome.naquadah.org/wiki/User_Configuration_Files</a> - Collection of user configurations on the awesome homepage.</li>
</ul>
<h3>
<span id=".E8.B0.83.E8.AF.95_rc.lua"></span><span class="mw-headline" id="调试_rc.lua">调试 rc.lua</span>
</h3>
<h4>
<span id=".E4.BD.BF.E7.94.A8_Xephyr"></span><span class="mw-headline" id="使用_Xephyr">使用 Xephyr</span>
</h4>
<p>用这种方式可以在不破坏现有桌面的情况下对 rc.lua 进行测试。首先把 rc.lua 复制到一个新文件 rc.lua.new，接着进行修改。然后在 <a href="/title/Xephyr_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" title="Xephyr (简体中文)">Xephyr</a> 中运行新的 rc.lua （Xephyr 允许你在 XWindow 中植入一个新的 XWindow - （<a rel="nofollow" class="external text" href="http://www.dante4d.cz/pub/screenie/2009-08-01-025216_1920x1200_scrot.png">screenshot</a><sup title="最后检查状态：domain name not resolved">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">失效链接</a> 2020-08-02 ⓘ]</sup>）。 你可以这样测试你的新 rc.lua
</p>
<pre>$ Xephyr -ac -br -noreset -screen 1152x720 :1 &amp;
$ DISPLAY=:1.0 awesome -c ~/.config/awesome/rc.lua.new
</pre>
<p>这种方式的巨大优势在于如果你弄坏了 rc.lua.new，你不至于把现有的 Awesome 桌面弄得一团糟（并且很可能还会把 XWindow 弄崩溃了，没保存的工作全部丢失………）。一旦你觉得新的配置文件不错，就用 rc.lua.new 代替 rc.lua，然后重启 Awesome。
</p>
<h4>
<span id=".E4.BD.BF.E7.94.A8_awmtt"></span><span class="mw-headline" id="使用_awmtt">使用 awmtt</span>
</h4>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/awmtt/">awmtt</a></span><sup><small>AUR</small></sup> (Awesome WM Testing Tool) 是一个基于 Xephyr 的易于使用的脚本。默认情况下，它会测试 <code>~/.config/awesome/rc.lua.test</code> 。如果该文件不存在，它会测试当前使用的 rc.lua 。也可以指定要测试的配置文件所在路径：
</p>
<pre>$ awmtt start -C ~/.config/awesome/rc.lua.new
</pre>
<p>当测试完成后，使用以下命令关闭窗口:
</p>
<pre>$ awmtt stop
</pre>
<p>或者通过以下命令立即查看变化:
</p>
<pre>$ awmtt restart
</pre>
<h3>
<span id=".E6.94.B9.E5.8F.98.E9.94.AE.E7.9B.98.E5.B8.83.E5.B1.80"></span><span class="mw-headline" id="改变键盘布局">改变键盘布局</span>
</h3>
<p>如果需要使用不同的键盘布局 [qwerty -&gt; dvorak] 有两种方法。
</p>
<ul>
<li>第一种就是按照 Awesome Wiki <a rel="nofollow" class="external text" href="http://awesome.naquadah.org/wiki/Change_keyboard_maps#Display.2Fchange_keyboard_map">这里</a> 所说的更改 Awesome 的配置</li>
<li>第二种就是在 <a href="/title/Keyboard_configuration_in_Xorg#Using_X_configuration_files" class="mw-redirect" title="Keyboard configuration in Xorg">xorg settings</a> 改变键盘布局</li>
</ul>
<h2>
<span id=".E4.B8.BB.E9.A2.98"></span><span class="mw-headline" id="主题">主题</span>
</h2>
<p><a rel="nofollow" class="external text" href="http://awesome.naquadah.org/wiki/Beautiful">Beautiful</a>可以让你动态地改变背景图片和颜色主题，而不需要改变 <code>rc.lua</code>。
</p>
<p>默认的主题文件在 <code>/usr/share/awesome/themes/default</code>。把它复制到 <code>~/.config/awesome/themes/default</code> 然后修改一下 <code>rc.lua</code> 中的 <code>theme_path</code>。 
</p>
<pre>beautiful.init(awful.util.getdir("config") .. "/themes/default/theme.lua")
</pre>
<p>更多细节参考 <a rel="nofollow" class="external text" href="http://awesome.naquadah.org/wiki/Beautiful">这里</a>
</p>
<p>一些样例 <a rel="nofollow" class="external text" href="http://awesome.naquadah.org/wiki/Beautiful_themes">themes</a>
</p>
<h3>
<span id=".E8.AE.BE.E7.BD.AE.E5.A2.99.E7.BA.B8"></span><span class="mw-headline" id="设置墙纸">设置墙纸</span>
</h3>
<p>Beautiful 可以设置墙纸，所以你就不用在 <code>.xinitrc</code> 或者 <code>.xsession</code> 中自己设置了。这允许你给每个主题配一个墙纸。
</p>
<h4>
<span id="version_.3E.3D_3.5"></span><span class="mw-headline" id="version_&gt;=_3.5">version &gt;= 3.5</span>
</h4>
<p>3.5 版本的 Awesome 不再提供 awsetbg 命令，但有了一个名为 gears 的模块。你可以在 <code>theme.lua</code> 通过以下代码设置你的墙纸。
</p>
<pre>theme.wallpaper = "~/.config/awesome/themes/awesome-wallpaper.png" 
</pre>
<p>为了加载你的墙纸，请确保你的 <code>rc.lua</code> 含有以下代码:
</p>
<pre>beautiful.init("~/.config/awesome/themes/default/theme.lua")
for s = 1, screen.count() do
	gears.wallpaper.maximized(beautiful.wallpaper, s, true)
end
</pre>
<h4>
<span id=".E9.9A.8F.E6.9C.BA.E5.A2.99.E7.BA.B8"></span><span class="mw-headline" id="随机墙纸">随机墙纸</span>
</h4>
<p>请把以下代码加入你的 <code>rc.lua</code>(for awesome &gt;= 3.5):
</p>
<pre>-- configuration - edit to your liking
wp_index = 1
wp_timeout  = 10
wp_path = "/path/to/wallpapers/"
wp_files = { "01.jpg", "02.jpg", "03.jpg" }
 
-- setup the timer
wp_timer = timer { timeout = wp_timeout }
wp_timer:connect_signal("timeout", function()
 
  -- set wallpaper to current index for all screens
  for s = 1, screen.count() do
    gears.wallpaper.maximized(wp_path .. wp_files[wp_index], s, true)
  end
 
  -- stop the timer (we don't need multiple instances running at the same time)
  wp_timer:stop()
 
  -- get next random index
  wp_index = math.random( 1, #wp_files)
 
  --restart the timer
  wp_timer.timeout = wp_timeout
  wp_timer:start()
end)
 
-- initial start when rc.lua is first run
wp_timer:start()</pre>
<p>如果想从指定目录中自动抓取图片，把以下代码加入你的 <code>rc.lua</code>(for awesome &gt;= 3.5 ):
</p>
<pre>-- {{{ Function definitions

-- scan directory, and optionally filter outputs
function scandir(directory, filter)
    local i, t, popen = 0, {}, io.popen
    if not filter then
        filter = function(s) return true end
    end
    print(filter)
    for filename in popen('ls -a "'..directory..'"'):lines() do
        if filter(filename) then
            i = i + 1
            t[i] = filename
        end
    end
    return t
end

-- }}}

-- configuration - edit to your liking
wp_index = 1
wp_timeout  = 10
wp_path = "/path/to/wallpapers/"
wp_filter = function(s) return string.match(s,"%.png$") or string.match(s,"%.jpg$") end
wp_files = scandir(wp_path, wp_filter)
 
-- setup the timer
wp_timer = timer { timeout = wp_timeout }
wp_timer:connect_signal("timeout", function()
 
  -- set wallpaper to current index for all screens
  for s = 1, screen.count() do
    gears.wallpaper.maximized(wp_path .. wp_files[wp_index], s, true)
  end
 
  -- stop the timer (we don't need multiple instances running at the same time)
  wp_timer:stop()
 
  -- get next random index
  wp_index = math.random( 1, #wp_files)
 
  --restart the timer
  wp_timer.timeout = wp_timeout
  wp_timer:start()
end)
 
-- initial start when rc.lua is first run
wp_timer:start()</pre>
<p>想要随机切换墙纸，只需要注释掉 <code>wallpaper_cmd</code> 那一行, 然后把以下代码添加到你的 <code>.xinitrc</code> 中(for awesome &lt;= 3.4 ):
</p>
<pre>while true;
do
  awsetbg -r &lt;path/to/the/directory/of/your/wallpapers&gt;
  sleep 15m
done &amp;
</pre>
<h2>
<span id=".E5.B0.8F.E6.8A.80.E5.B7.A7"></span><span class="mw-headline" id="小技巧">小技巧</span>
</h2>
<p>如果你有自己的小技巧想与大家分享，请随意添加。
</p>
<h3>
<span id=".E4.BD.BF.E7.94.A8awesome.E4.BD.9C.E4.B8.BAGNOME.E7.9A.84.E7.AA.97.E5.8F.A3.E7.AE.A1.E7.90.86.E5.99.A8"></span><span class="mw-headline" id="使用awesome作为GNOME的窗口管理器">使用awesome作为GNOME的窗口管理器</span>
</h3>
<p>GNOME有“开包即用”的优势，你可以在使用GNOME的同时改用awesome作为窗口管理器。如果你在用GNOME 3的话，你可以安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/awesome-gnome/">awesome-gnome</a></span><sup><small>AUR</small></sup>包，然后在用GDM登陆的时候选择"Awesome GNOME"。更多详细内容请参考<a rel="nofollow" class="external text" href="http://awesome.naquadah.org/wiki/Quickly_Setting_up_Awesome_with_Gnome">awesome wiki</a>。
</p>
<h3>
<span id=".E5.83.8Fcompiz.E9.82.A3.E6.A0.B7.E7.9A.84.E5.B9.B3.E9.93.BA.E6.A1.8C.E9.9D.A2.E6.95.88.E6.9E.9C"></span><span class="mw-headline" id="像compiz那样的平铺桌面效果">像compiz那样的平铺桌面效果</span>
</h3>
<p>Revelation可以显示所有你开启的客户端；左键点击客户端会跳到该客户端所在的第一个标签并聚焦于该客户端。按下回车键会跳到当前聚焦的客户端，按下ESc键退出。更多内容请参考<a rel="nofollow" class="external autonumber" href="http://awesome.naquadah.org/wiki/Revelation">[1]</a>。
</p>
<h3>
<span id=".E5.9C.A8awesome_3.E4.B8.AD.E6.98.BE.E7.A4.BA.2F.E9.9A.90.E8.97.8Fwibox"></span><span class="mw-headline" id="在awesome_3中显示/隐藏wibox">在awesome 3中显示/隐藏wibox</span>
</h3>
<p>要使用Modkey-b来在当前屏幕上隐藏/显示默认的状态栏 (Awesome 2.3中的默认行为)，把下面代码加入rc.lua里的globalkeys变量:
</p>
<pre>awful.key({ modkey }, "b", function ()
    mywibox[mouse.screen].visible = not mywibox[mouse.screen].visible
end),
</pre>
<h3>
<span id=".E6.88.AA.E5.9B.BE"></span><span class="mw-headline" id="截图">截图</span>
</h3>
<p>在awesome中想要通过PrtScn按键来截图就必须借助其他截图工具. Arch软件仓库中,Scrot是个很简单就可以实现这些功能的截图工具.
</p>
<p>只需要输入:
</p>
<pre># pacman -S scrot
</pre>
<p>如果optional dependencies中可选的包觉得有用,也可以安装.
</p>
<p>下一步,就是需要获得PrtScr按键的按键名, 如果不确定是什么,一般就是 "Print"了.
</p>
<p>终端里面输入命令:
</p>
<pre># xev
</pre>
<p>然后按键盘上的PrtScr按键, 将会输出类似下面的结果:
</p>
<pre> KeyPress event ....
     root 0x25c, subw 0x0, ...
     state 0x0, keycode 107 (keysym 0xff61, <b>Print</b>), same_screen YES,
     ....
</pre>
<p>我们判断没错,键名就是 "Print".
</p>
<p>接下来继续配置awesome!
</p>
<p>在配置文件中的全局数组(任意地方)中输入并保存:
</p>
<p>Lua 代码:
</p>
<pre> awful.key({ }, "Print", function () awful.util.spawn("scrot -e 'mv $f ~/screenshots/ 2&gt;/dev/null'") end),
</pre>
<p>这里的 ~/screenshots/ 可以改成你截图想要保存的地方.
</p>
<h3>
<span id=".E5.8A.A8.E6.80.81.E6.A0.87.E7.AD.BE"></span><span class="mw-headline" id="动态标签">动态标签</span>
</h3>
<p><a rel="nofollow" class="external text" href="http://awesome.naquadah.org/wiki/Eminent">Eminent</a>是一个小型的lua库，扩展了awful并提供了简单快速的wmii一样的动态标签功能。跟shifty不同, eminent无意提供全面详尽的标签系统，而是试图让动态标签越简单越好。实际上除了导入eminent库，你不用在rc.lua里改任何东西，eminent会把所有的事情帮你搞定。
</p>
<p><a rel="nofollow" class="external text" href="http://awesome.naquadah.org/wiki/Shifty">Shifty</a>是实现了动态标签的一个Awesome 3的扩展。它也实现了一个配置系统来让你设置几个变量和键位绑定就完全掌控你的桌面！
</p>
<h3><span class="mw-headline" id="Space_Invaders">Space Invaders</span></h3>
<p><a rel="nofollow" class="external text" href="http://awesome.naquadah.org/wiki/Space_Invaders">Space Invaders</a>是一个用来展现Awesome Lua API无限能力的演示。
</p>
<p>请注意它从3.4-rc1版以后就没有被包括进Awesome包里了。
</p>
<h3>
<span id="Naughty.E5.BC.B9.E7.AA.97.E6.8F.90.E9.86.92"></span><span class="mw-headline" id="Naughty弹窗提醒">Naughty弹窗提醒</span>
</h3>
<p>请查看<a rel="nofollow" class="external text" href="http://awesome.naquadah.org/wiki/Naughty">Awesome维基上的naughty页面</a>.
</p>
<h3>
<span id=".E5.BC.B9.E5.87.BA.E8.8F.9C.E5.8D.95.E9.A1.B9"></span><span class="mw-headline" id="弹出菜单项">弹出菜单项</span>
</h3>
<p>这是一份 awesome3 的默认简单菜单项, 看起来要自定义也十分容易. 然而,如果你在用awesome的 2.x 版本, 那么请看<i><a rel="nofollow" class="external text" href="http://awesome.naquadah.org/wiki/Awful.menu">awful.menu</a></i>.
</p>
<p>如果你想要配置 freedesktop.org 的菜单项,就到 <i><a rel="nofollow" class="external text" href="https://github.com/terceiro/awesome-freedesktop">awesome-freedesktop</a></i> .
</p>
<p>一个 awesome3 的菜单配置示例:
</p>
<pre>myawesomemenu = {
   { "lock", "xscreensaver-command -activate" },
   { "manual", terminal .. " -e man awesome" },
   { "edit config", editor_cmd .. " " .. awful.util.getdir("config") .. "/rc.lua" },
   { "restart", awesome.restart },
   { "quit", awesome.quit }
}

mycommons = {
   { "pidgin", "pidgin" },
   { "OpenOffice", "soffice-dev" },
   { "Graphic", "gimp" }
}

mymainmenu = awful.menu.new({ items = { 
                                        { "terminal", terminal },
                                        { "icecat", "icecat" },
                                        { "Editor", "gvim" },
                                        { "File Manager", "pcmanfm" },
                                        { "VirtualBox", "VirtualBox" },
                                        { "Common App", mycommons, beautiful.awesome_icon },
                                        { "awesome", myawesomemenu, beautiful.awesome_icon }
                                       }
                             })</pre>
<h3>
<span id="Awesome.E7.9A.84.E6.9B.B4.E5.A4.9A.E6.8F.92.E4.BB.B6"></span><span class="mw-headline" id="Awesome的更多插件">Awesome的更多插件</span>
</h3>
<p><i>Awesome中的插件是一些你可以加入插件栏 (状态栏和标题栏) 的东西，它们提供了关于你的系统的各种信息，并让你很方便地直接在窗口管理器上就看到这些信息。这些插件很简易而且有很强的灵活性。</i> -- 来自 <a rel="nofollow" class="external text" href="http://awesome.naquadah.org/wiki/Widgets_in_awesome">Awesome Wiki: Widgets</a>。
</p>
<p>有一个被广泛使用的插件库叫<b>Wicked</b> (只与<b>3.4版以前</b>的Awesome兼容)，它提供了更多插件，比如MPD插件，CPU使用情况，内存使用情况等。要更详细的了解参见 <a rel="nofollow" class="external text" href="http://awesome.naquadah.org/wiki/Wicked">Wicked</a>。
</p>
<p>Awesome 3.4中用来代替Wicked的有<b><a rel="nofollow" class="external text" href="http://awesome.naquadah.org/wiki/Vicious">Vicious</a></b>，<b><a rel="nofollow" class="external text" href="http://awesome.naquadah.org/wiki/Obvious">Obvious</a></b> 和 <b><a rel="nofollow" class="external text" href="http://awesome.naquadah.org/wiki/Bashets">Bashets</a></b>。如果你选择使用vicious，你也应该看看 <a rel="nofollow" class="external text" href="http://git.sysphere.org/vicious/tree/README">vicious的文档</a>。
</p>
<h3><span class="mw-headline" id="Transparency">Transparency</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="/title/File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a><b>This article or section is out of date.</b><a href="/title/File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b>  Awesome 3.5 has come and add_signal API has changed to connect_signal (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:Awesome_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Talk:Awesome (简体中文)#</a>)</div>
</div>
<p>Awesome has support for true transparency through xcompmgr.  Note that you will probably want the git version of xcompmgr, which is available in AUR: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xcompmgr-git/">xcompmgr-git</a></span><sup><small>AUR</small></sup>.  
</p>
<p>Add this to your ~/.xinitrc:
</p>
<pre>xcompmgr &amp;
</pre>
<p>See <i>man xcompmgr</i> or <a href="/title/Xcompmgr" title="Xcompmgr">xcompmgr</a> for more options.
</p>
<p>In awesome 3.4, window transparency can be set dynamically using signals. For example, your rc.lua could contain the following:
</p>
<pre>client.add_signal("focus", function(c)
                              c.border_color = beautiful.border_focus
                              c.opacity = 1
                           end)
client.add_signal("unfocus", function(c)
                                c.border_color = beautiful.border_normal
                                c.opacity = 0.7
                             end)
</pre>
<p><b>If you got error messages about add_signal, using connect_signal insteaded.</b> 
</p>
<p>Note that if you are using conky, you must set it to create its own window instead of using the desktop. To do so, edit ~/.conkyrc to contain:
</p>
<pre>own_window yes
own_window_transparent yes
own_window_type desktop
</pre>
<p>Otherwise strange behavior may be observed, such as all windows becoming fully transparent. Note also that since conky will be creating a transparent window on your desktop, any actions defined in awesome's rc.lua for the desktop will not work where conky is.
</p>
<p>As of Awesome 3.1, there is built-in pseudo-transparency for wiboxes. To enable it, append 2 hexadecimal digits to the colors in your theme file (~/.config/awesome/themes/default, which is usually a copy of /usr/share/awesome/themes/default), like shown here:
</p>
<pre>bg_normal = #000000AA
</pre>
<p>where "AA" is the transparency value.
</p>
<p>To change transparency for the actual selected window by pressing Modkey + PageUp/PageDown you can also use tansset-df available through the community package repository and the following modification to your rc.lua:
</p>
<pre>globalkeys = awful.util.table.join(
    -- your keybindings
    [...]
    awful.key({ modkey }, "Next", function (c)
        awful.util.spawn("transset-df --actual --inc 0.1")
    end),
    awful.key({ modkey }, "Prior", function (c)
        awful.util.spawn("transset-df --actual --dec 0.1")
    end),
    -- Your other key bindings
    [...]
)
</pre>
<h4><span class="mw-headline" id="ImageMagick">ImageMagick</span></h4>
<p>如果你用ImageMagick的<i>display</i>命令来设置你的墙纸，可能会遇到xcompmgr效果不好的问题。请注意awsetbg可能会用<i>display</i>如果它没有其他选项。安装habak，feh，hsetroot或者其他的包应该会解决这个问题。
(<i>grep -A 1 wpsetters /usr/bin/awsetbg</i> 来看你有哪些选项)
</p>
<h3>
<span id=".E8.87.AA.E5.8A.A8.E8.BF.90.E8.A1.8C.E7.A8.8B.E5.BA.8F"></span><span class="mw-headline" id="自动运行程序">自动运行程序</span>
</h3>
<p><i>参见 <a rel="nofollow" class="external text" href="https://awesome.naquadah.org/wiki/Autostart">Awesome维基上的自动运行</a>.</i>
</p>
<p>Awesome不会运行那些被Freedesktop如GNOME或KDE设置为自动运行的程序。不过Awesome提供了一些运行程序的函数 (除了Lua标准库里的函数 <code>os.execute</code>)。要运行跟GNOME或KDE里一样自动运行的程序，你可以从 <a href="/title/AUR" class="mw-redirect" title="AUR">AUR</a> 安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/dex-git/">dex-git</a></span><sup><small>AUR</small></sup>，然后在你的rc.lua里加入:
</p>
<pre>os.execute"dex -a -e Awesome"
</pre>
<p>如果你只想列出一些程序来在让Awesome启动时运行，你可以创建一个你需要启动命令的列表然后循环启动:
</p>
<pre>do
  local cmds = 
  { 
    "swiftfox",
    "mutt",
    "consonance",
    "linux-fetion",
    "weechat-curses",
    --and so on...
  }

  for _,i in pairs(cmds) do
    awful.util.spawn(i)
  end
end
</pre>
<p>(你也可以调用 <code>os.execute</code> 加上命令名，在结尾加上 '<code>&amp;</code>'，但最好还是调用 spawn 函数来运行)
</p>
<p>如要程序仅在当前没有运行情况下运行，你可以只在 <code>pgrep</code> 找不到跟它一样名字的进程的时候运行它。
</p>
<pre>function run_once(prg)
  awful.util.spawn_with_shell("pgrep -u $USER -x " .. prg .. " || (" .. prg .. ")")
end
</pre>
<p>所以，举个例子，要在当前 <code>parcellite</code> 没有运行的情况下运行 <code>parcellite</code>:
</p>
<pre>run_once("parcellite")
</pre>
<h3>
<span id=".E4.BD.BF.E7.94.A8_awesome-client_.E7.BB.99.E6.96.87.E6.9C.AC.E6.8F.92.E4.BB.B6.E4.BC.A0.E9.80.92.E4.BF.A1.E6.81.AF"></span><span class="mw-headline" id="使用_awesome-client_给文本插件传递信息">使用 awesome-client 给文本插件传递信息</span>
</h3>
<p>只需要创建一个新的插件，就可以很容易的传递信息。
</p>
<pre> mywidget = widget({ type = "textbox", name = "mywidget" })
 mywidget.text = "initial text"
</pre>
<p>使用 awesome-client 从外部更新“initial text":
</p>
<pre> 
 echo -e 'mywidget.text = "new text"' | awesome-client
</pre>
<p>不要忘记把插件增加到 wibox.
</p>
<h3>
<span id=".E4.BD.BF.E7.94.A8.E5.85.B6.E4.BB.96.E4.BB.BB.E5.8A.A1.E6.A0.8F"></span><span class="mw-headline" id="使用其他任务栏">使用其他任务栏</span>
</h3>
<p>如果你喜欢 awesome 既轻量又强大的功能,但又不喜欢默认那个任务栏的外观, 你可以安装其他的.比如 xfce4-panel:
</p>
<pre>sudo pacman -S xfce4-panel
</pre>
<p>当然,你可能有更好的选择.然后要把它添加到配置文件 rc.lua 的自动启动部分(该如何写请看wiki吧).你可以注释掉配置文件中给每个桌面创建 wiboxes 的那部分(开头是"mywibox[s] = awful.wibox({ position = "top", screen = s })"),因为已经不需要了. 检查配置文件没有错误之后就可以执行命令生效:
</p>
<pre>awesome -k rc.lua
</pre>
<p>另外你还需要改变"modkey+R"的快捷键绑定, 比如用Xfrun4, bashrun等,来替代awesome自带的启动器. 请看这个<a href="/title/Openbox_Themes_and_Apps#Application_launchers" class="mw-redirect" title="Openbox Themes and Apps">Openbox</a>文章中的启动器部分作为参考. 别忘了添加
</p>
<pre>      properties = { floating = true } },
    { rule = { instance = "$yourapplicationlauncher" },
</pre>
<p>到你 rc.lua 配置文件中
</p>
<h3>
<span id="Fix_Java_.28GUI_appears_gray_only.29"></span><span class="mw-headline" id="Fix_Java_(GUI_appears_gray_only)">Fix Java (GUI appears gray only)</span>
</h3>
<p>Guide taken from <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?pid=450870">[2]</a>.
</p>
<ol>
<li>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wmname">wmname</a></span> from community</li>
<li>Run the following command or add it to your <code>.xinitrc</code>: <pre>wmname LG3D</pre>
</li>
</ol>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<p>If you use a non-reparenting window manager and Java 6, you should uncomment the corresponding line in <code>/etc/profile.d/openjdk6.sh</code>
</p>
<p>If you use a non-reparenting window manager and Java 7, you should uncomment the corresponding line in 
<code>/etc/profile.d/jre.sh</code> 
</p>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<p>As of Java 1.7 and Awesome 3.5 (as installed by the awesome-git package) the fixes described above may cause undesirable behaviour related to menus not receiving proper focus. Awesome is now, apparently, a reparenting window manager as of <a rel="nofollow" class="external text" href="https://github.com/awesomeWM/awesome/commit/102063dbbdfb0bc9f43268d98f7dcb5269547395">this commit</a>. 
</p>
<p>If you are experiencing problems having applied the 'wmname' and '_JAVA_AWT_WM_NONREPARENTING' fixes against a recent Java and Awesome, try removing both fixes.
</p>
</div>
<h3>
<span id="Prevent_Nautilus_from_displaying_the_desktop_.28Gnome3.29"></span><span class="mw-headline" id="Prevent_Nautilus_from_displaying_the_desktop_(Gnome3)">Prevent Nautilus from displaying the desktop (Gnome3)</span>
</h3>
<p>Run dconf-editor. Navigate to org-&gt;gnome-&gt;desktop-&gt;background and uncheck "draw-background" as well as "show-desktop-icons" for good measure. That's it!
</p>
<p>Another option is moving /usr/bin/nautilus to a new location and replacing it with a script that runs 'nautilus --no-desktop' passing any arguments it receives along.
</p>
<pre>#!/bin/sh
/usr/bin/nautilus-real --no-desktop $@
</pre>
<h3><span class="mw-headline" id="Transitioning_away_from_Gnome3">Transitioning away from Gnome3</span></h3>
<p>Run 'gnome-session-properties' and remove programs that you will not be needing anymore (e.g Bluetooth Manager, Login Sounds, etc).
</p>
<p>If you would like to get rid of GDM, make sure that your rc.conf DAEMONS list includes "dbus" (and "cupsd" if you have a printer). It's advisable to get a different login manager (like <a href="/title/SLiM" title="SLiM">SLiM</a>), but you can do things manually if you wish. That entails setting up your <a href="/title/Udev" title="Udev">.xinitrc properly</a> and installing something like devmon (<a rel="nofollow" class="external text" href="https://github.com/aur-archive/devmon">AUR</a>).
</p>
<p>If you wa not to keep a few convenient systray applets and your GTK theme, append this to your rc.lua;
</p>
<pre>function start_daemon(dae)
	daeCheck = os.execute("ps -eF | grep -v grep | grep -w " .. dae)
	if (daeCheck ~= 0) then
		os.execute(dae .. " &amp;")
	end
end

procs = {"gnome-settings-daemon", "nm-applet", "kupfer", "gnome-sound-applet", "gnome-power-manager"}
for k = 1, #procs do
	start_daemon(procs[k])
end
</pre>
<h3><span class="mw-headline" id="Prevent_the_mouse_scroll_wheel_from_changing_tags">Prevent the mouse scroll wheel from changing tags</span></h3>
<p>In your rc.lua, change the Mouse Bindings section to the following;
</p>
<pre>-- {{{ Mouse bindings
root.buttons(awful.util.table.join(
    awful.button({ }, 3, function () mymainmenu:toggle() end)))
-- }}}
</pre>
<h3>
<span id=".E8.8F.9C.E5.8D.95.E6.A0.8F.E4.B8.AD.E7.9A.84.E5.BA.94.E7.94.A8.E7.A8.8B.E5.BA.8F.E7.9B.AE.E5.BD.95"></span><span class="mw-headline" id="菜单栏中的应用程序目录">菜单栏中的应用程序目录</span>
</h3>
<p>[community] 中的 Awesome 软件包含有 <a rel="nofollow" class="external text" href="http://awesome.naquadah.org/wiki/Menubar/3.5">menubar</a> （默认情况下，按下 modkey+p 会在屏幕上方打开一个类似于 dmenu 的应用程序菜单）。但是，它仅搜索位于
<code>/usr/share/applications</code> 及 <code>/usr/local/share/applications</code> 目录下的 .desktop 文件 （后者很可能在大多数 Arch 用户的系统中都不存在）。为了改变这一情况，可以把下面这行代码加入到你的 <code>rc.lua</code> （最好能把它加到 "Menubar configuration" 那一部分中）
</p>
<pre>app_folders = { "/usr/share/applications/", "~/.local/share/applications/" }
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 每次 Awesime 启动都会重新读取 <code>.desktop</code> 文件，因此文件过多会拖慢 Awesome 的启动速度。如果你更喜欢使用其他方式来运行程序，可以通过在 <code>rc.lua</code> 移除 <code>local menubar = require("menubar")</code> 及其它涉及到 <code>menubar</code> 的变量来禁用菜单栏。</div>
<h3>
<span id=".E5.BA.94.E7.94.A8.E8.8F.9C.E5.8D.95"></span><span class="mw-headline" id="应用菜单">应用菜单</span>
</h3>
<p>如果想要在点击Awesome图标，或者在桌面空白处右键点击时，看到较传统模式的应用菜单，可以参照<a href="/title/Xdg-menu#Awesome" title="Xdg-menu">Xdg-menu#Awesome</a>的说明。但应用菜单不会在安装或卸载程序时进行更新。所以，确保运行类似如下的命令，更新应用菜单：
</p>
<pre> xdg_menu --format awesome --root-menu /etc/xdg/menus/arch-applications.menu &gt;~/.config/awesome/archmenu.lua
</pre>
<h3>
<span id=".E6.A0.87.E9.A2.98.E6.A0.8F"></span><span class="mw-headline" id="标题栏">标题栏</span>
</h3>
<p>你可以很容易地在配置文件中rule把 <code>titlebars_enabled</code> 设置为 true 来启用标题栏。
</p>
<pre>   { rule_any = {type = { "normal", "dialog" }
     }, properties = { titlebars_enabled = true }
   },
</pre>
<p>如果想要切换标题栏的显示与否，可以把以下代码加入配置文件中键位绑定部份的<code>clientkeys</code>部份中间位置（因为这段代码是以逗号结尾，请不要放在<code>clientkeys</code>的最后），然后通过按 <code>modkey + Ctrl + t</code> 来切换。
</p>
<p><br> 
</p>
<pre>   -- working toggle titlebar
   awful.key({ modkey, "Control" }, "t", function (c) awful.titlebar.toggle(c)         end, 
             {description = "Show/Hide Titlebars", group="client"}),
</pre>
<p>如果想默认情况下隐藏标题栏，仅需要在配置文件中标题栏创建后（即 在 awful.titlebar(c) : setup { 对应的右括号前）加入以下代码
</p>
<pre>awful.titlebar.hide(c)

</pre>
<p>此代码会覆盖掉前面rule中的配置
</p>
<h3><span class="mw-headline" id="Start_xor_jump">Start xor jump</span></h3>
<p>There is an extension called <i>Run or raise</i>, which makes it possible to configure a key to start a program if no instance exists, else jump to it. This is very useful for some programs: browsers, irc clients, music players, etc. The instructions are very well laid out at <a rel="nofollow" class="external free" href="http://awesome.naquadah.org/wiki/Run_or_raise">http://awesome.naquadah.org/wiki/Run_or_raise</a>, the modular approach is advisable.
</p>
<h3><span class="mw-headline" id="Battery_notification">Battery notification</span></h3>
<p>If you want to add a simple battery notification you can add following lines to your rc.lua. 
These lines originate from a <a rel="nofollow" class="external text" href="https://bpdp.blogspot.be/2013/06/battery-warning-notification-for.html">blogpost</a>. Note that you need naughty for the notifications (installed by default in version 3.5).
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">rc.lua</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">

-- battery warning
local function trim(s)
  return s:find'^%s*$' and '' or s:match'^%s*(.*%S)'
end

local function bat_notification()
  local f_capacity = assert(io.open("/sys/class/power_supply/BAT0/capacity", "r"))
  local f_status = assert(io.open("/sys/class/power_supply/BAT0/status", "r"))
  local bat_capacity = tonumber(f_capacity:read("*all"))
  local bat_status = trim(f_status:read("*all"))

  if (bat_capacity &lt;= 10 and bat_status == "Discharging") then
    naughty.notify({ title      = "Battery Warning"
      , text       = "Battery low! " .. bat_capacity .."%" .. " left!"
      , fg="#ffffff"
      , bg="#C91C1C"
      , timeout    = 15
      , position   = "bottom_right"
    })
  end
end

battimer = timer({timeout = 60})
battimer:connect_signal("timeout", bat_notification)
battimer:start()

-- end here for battery warning

</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="/title/File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a><b>This article or section needs to be <a href="/title/ArchWiki:Contributing#Translating" title="ArchWiki:Contributing">translated</a>.</b><a href="/title/File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Notes:</b> <span style="color:red;">please use the first argument of the template to provide more detailed indications.</span> (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:Awesome_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Talk:Awesome (简体中文)#</a>)</div>
</div>
<h3><span class="mw-headline" id="Mouse_Cursor_Missing">Mouse Cursor Missing</span></h3>
<p>If you are able to login into awesome, the mouse cursor vanishes while mouse actions are still working, you can try this:
</p>
<pre>gsettings set org.gnome.settings-daemon.plugins.cursor active false
</pre>
<h3><span class="mw-headline" id="Grey_Java_GUIs">Grey Java GUIs</span></h3>
<p>Some Java Applications may render just grey, empty windows. This is related to nonreparenting.
</p>
<p>A fix might be uncommenting the last line in /etc/profile.d/jre.sh or set this manually.
</p>
<pre>export _JAVA_AWT_WM_NONREPARENTING=1
</pre>
<p>other Methods could be found here: <a rel="nofollow" class="external free" href="http://awesome.naquadah.org/wiki/Problems_with_Java">http://awesome.naquadah.org/wiki/Problems_with_Java</a>
</p>
<h3><span class="mw-headline" id="LibreOffice">LibreOffice</span></h3>
<p>If you encounter UI problems with libreoffice install libreoffice-gnome.
</p>
<h3><span class="mw-headline" id="Mod4_key">Mod4 key</span></h3>
<p>The Mod4 is by default the <b>Win key</b>. If it's not mapped by default, for some reason, you can check the keycode of your Mod4 key with
</p>
<pre>$ xev
</pre>
<p>It should be 115 for the left one. Then add this to your ~/.xinitrc
</p>
<pre>xmodmap -e "keycode 115 = Super_L" -e "add mod4 = Super_L"
exec awesome
</pre>
<p>The problem in this case is that some xorg installations  recognize keycode 115, but incorrectly as the 'Select' key. The above command explictly remaps keycode 115 to the correct 'Super_L' key.
</p>
<h4><span class="mw-headline" id="Mod4_key_vs._IBM_ThinkPad_users">Mod4 key vs. IBM ThinkPad users</span></h4>
<p>IBM ThinkPads do not come equipped with a Window key (although Lenovo have changed this tradition on their ThinkPads). As of writing, the Alt key is not used in command combinations by the default rc.lua (refer to the Awesome wiki for a table of commands), which allows it be used as a replacement for the Super/Mod4/Win key. To do this, edit your rc.lua and replace:
</p>
<pre>modkey = "Mod4"
</pre>
<p>by:
</p>
<pre>modkey = "Mod1"
</pre>
<p>Note: Awesome does a have a few commands that make use of Mod4 plus a single letter. Changing Mod4 to Mod1/Alt could cause overlaps for some key combinations. The small amount of instances where this happens can be changed in the rc.lua file.
</p>
<p>If you do not like to change the awesome standards, you might like to remap a key. For instance the caps lock key is rather useless (for me) adding the following contents to ~/.Xmodmap 
</p>
<pre>clear lock 
add mod4 = Caps_Lock
</pre>
<p>and <a href="/title/Xmodmap#Custom_table" title="Xmodmap">(re)load</a> the file.
This will change the caps lock key into the mod4 key and works nicely with the standard awesome settings. In addition, if needed, it provides the mod4 key to other X-programs as well.
</p>
<p>Not confirmed, but if recent updates of xorg related packages break mentioned remapping the second line can be replaced by (tested on a DasKeyboard with no left Super key):
</p>
<pre>keysym Caps_Lock = Super_L Caps_Lock
</pre>
<h3>
<span id="Eclipse:_cannot_resize.2Fmove_main_window"></span><span class="mw-headline" id="Eclipse:_cannot_resize/move_main_window">Eclipse: cannot resize/move main window</span>
</h3>
<p>If you get stuck and cannot move or resize the main window (using mod4 + left/right mouse button) edit the workbench.xml and set fullscreen/maximized to false (if set) and reduce the width and height to numbers smaller than your single screen desktop area.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> workbench.xml can be found in: &lt;eclipse_workspace&gt;/.metadata/.plugins/org.eclipse.ui.workbench/ and the line to edit is &lt;window height="xx" maximized="true" width="xx" x="xx" y="xx"&gt;.</div>
<h3><span class="mw-headline" id="YouTube:_fullscreen_appears_in_background">YouTube: fullscreen appears in background</span></h3>
<p><a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?pid=1085494#p1085494">[3]</a> If YouTube videos appear underneath your web browser when in fullscreen mode, add this to your rc.lua
</p>
<pre>   { rule = { instance = "plugin-container" },
     properties = { floating = true } },
</pre>
<p>With Chromium add
</p>
<pre>   { rule = { instance = "exe" },
     properties = { floating = true } },
</pre>
<h3><span class="mw-headline" id="Starting_console_clients_on_specific_tags">Starting console clients on specific tags</span></h3>
<p>It does not work when the console application is invoked from a GTK terminal (e.g. LXTerminal). <a href="/title/URxvt" class="mw-redirect" title="URxvt">URxvt</a> is known to work.
</p>
<h3><span class="mw-headline" id="Redirecting_console_output_to_a_file">Redirecting console output to a file</span></h3>
<p>Some GUI application are very verbose when launched from a terminal. As a consequence, when started from Awesome, they output everything to the TTY from where Awesome was started, which tend to get messy. To remove the garbage output, you have to redirect it. However, the <code>awful.util.spawn</code> function does not handle pipes and redirections very well as stated in <a rel="nofollow" class="external text" href="http://awesome.naquadah.org/wiki/FAQ#How_to_execute_a_shell_command.3F">the official FAQ</a>.
</p>
<p>As example, let us redirect <a href="/title/Luakit" title="Luakit">Luakit</a> output to a temporary file:
</p>
<pre>awful.key({ modkey, }, "w", function () awful.util.spawn_with_shell("luakit 2&gt;&gt;/tmp/luakit.log") end),
</pre>
<h2><span class="mw-headline" id="External_Links">External Links</span></h2>
<ul>
<li>
<a rel="nofollow" class="external free" href="http://awesome.naquadah.org/wiki/FAQ">http://awesome.naquadah.org/wiki/FAQ</a> - FAQ</li>
<li>
<a rel="nofollow" class="external free" href="https://www.lua.org/pil/">https://www.lua.org/pil/</a> - Programming in Lua (first edition)</li>
<li>
<a rel="nofollow" class="external free" href="http://awesome.naquadah.org/">http://awesome.naquadah.org/</a> - The official awesome website</li>
<li>
<a rel="nofollow" class="external free" href="http://awesome.naquadah.org/wiki/Main_Page">http://awesome.naquadah.org/wiki/Main_Page</a> - the awesome wiki</li>
<li>
<a rel="nofollow" class="external free" href="https://web.archive.org/web/20111222025635/http://www.penguinsightings.org/desktop/awesome/">https://web.archive.org/web/20111222025635/http://www.penguinsightings.org/desktop/awesome/</a> - A review</li>
<li>
<a rel="nofollow" class="external free" href="https://web.archive.org/web/20120427051008/http://compsoc.tardis.ed.ac.uk/wiki/AwesomeWM_guide">https://web.archive.org/web/20120427051008/http://compsoc.tardis.ed.ac.uk/wiki/AwesomeWM_guide</a> - Awesome guide</li>
<li>
<a rel="nofollow" class="external free" href="https://bbs.archlinux.org/viewtopic.php?id=88926">https://bbs.archlinux.org/viewtopic.php?id=88926</a> - share your awesome!</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="/title/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/title/Category:Dynamic_WMs_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" title="Category:Dynamic WMs (简体中文)">Dynamic WMs (简体中文)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="/title/Category:Pages_or_sections_flagged_with_Template:Bad_translation" title="Category:Pages or sections flagged with Template:Bad translation">Pages or sections flagged with Template:Bad translation</a></li>
<li><a href="/title/Category:Pages_with_dead_links" title="Category:Pages with dead links">Pages with dead links</a></li>
<li><a href="/title/Category:Pages_or_sections_flagged_with_Template:Out_of_date" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
<li><a href="/title/Category:Pages_or_sections_flagged_with_Template:Translateme" title="Category:Pages or sections flagged with Template:Translateme">Pages or sections flagged with Template:Translateme</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Awesome_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=670469">https://wiki.archlinux.org/index.php?title=Awesome_(简体中文)&amp;oldid=670469</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 11 May 2021, at 14:55.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="/title/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/title/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="/title/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
