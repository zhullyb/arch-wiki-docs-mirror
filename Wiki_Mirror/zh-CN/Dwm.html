<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>dwm (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Dwm_简体中文 rootpage-Dwm_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">dwm (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>相关文章</p>
<ul>
<li><a href="../en/Dmenu.html" title="Dmenu">dmenu</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://dwm.suckless.org/">dwm</a>是<a href="../en/Xorg.html" class="mw-redirect" title="X">X</a>下的一个动态窗口管理器。它用平铺的、栈式的和全屏的布局方式，借助一些可选的补丁还可以实现其他的布局。布局可以动态得改变，为程序提供最优的环境和性能。dwm特别轻量快速，用C语言编写，被设计的目标是控制在2000行以下的代码。在xrandr和Xinerama支持下可实现multi-head。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%E5%AE%89%E8%A3%85"><span class="tocnumber">1</span> <span class="toctext">安装</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#%E9%9C%80%E6%B1%82"><span class="tocnumber">1.1</span> <span class="toctext">需求</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#%E4%B8%8B%E8%BD%BD_PKGBUILD"><span class="tocnumber">1.2</span> <span class="toctext">下载 PKGBUILD</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#%E7%BC%96%E8%AF%91%E5%92%8C%E5%AE%89%E8%A3%85"><span class="tocnumber">1.3</span> <span class="toctext">编译和安装</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5">
<a href="#%E9%85%8D%E7%BD%AE"><span class="tocnumber">2</span> <span class="toctext">配置</span></a>
<ul>
<li class="toclevel-2 tocsection-6">
<a href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A%E4%BD%BF%E7%94%A8_ABS%EF%BC%88%E6%8E%A8%E8%8D%90%EF%BC%89"><span class="tocnumber">2.1</span> <span class="toctext">方法一：使用 ABS（推荐）</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#%E8%87%AA%E5%AE%9A%E4%B9%89config.h"><span class="tocnumber">2.1.1</span> <span class="toctext">自定义config.h</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#%E6%B3%A8%E6%84%8F"><span class="tocnumber">2.1.2</span> <span class="toctext">注意</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A%E4%BD%BF%E7%94%A8Mercurial%EF%BC%88%E9%AB%98%E7%BA%A7%EF%BC%89"><span class="tocnumber">2.2</span> <span class="toctext">方法二：使用Mercurial（高级）</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#%E5%90%AF%E5%8A%A8dwm"><span class="tocnumber">3</span> <span class="toctext">启动dwm</span></a></li>
<li class="toclevel-1 tocsection-11">
<a href="#%E9%85%8D%E7%BD%AE%E7%8A%B6%E6%80%81%E6%9D%A1"><span class="tocnumber">4</span> <span class="toctext">配置状态条</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#%E5%9F%BA%E6%9C%AC%E7%8A%B6%E6%80%81%E6%9D%A1"><span class="tocnumber">4.1</span> <span class="toctext">基本状态条</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Conky%E7%8A%B6%E6%80%81%E6%9D%A1"><span class="tocnumber">4.2</span> <span class="toctext">Conky状态条</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14">
<a href="#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="tocnumber">5</span> <span class="toctext">基本用法</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="#%E4%BD%BF%E7%94%A8dmenu"><span class="tocnumber">5.1</span> <span class="toctext">使用dmenu</span></a></li>
<li class="toclevel-2 tocsection-16">
<a href="#%E6%8E%A7%E5%88%B6%E7%AA%97%E5%8F%A3"><span class="tocnumber">5.2</span> <span class="toctext">控制窗口</span></a>
<ul>
<li class="toclevel-3 tocsection-17"><a href="#%E5%B0%86%E7%AA%97%E5%8F%A3%E7%A7%BB%E5%8A%A8%E5%88%B0%E5%8F%A6%E4%B8%80%E4%B8%AAtag"><span class="tocnumber">5.2.1</span> <span class="toctext">将窗口移动到另一个tag</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#%E5%85%B3%E9%97%AD%E7%AA%97%E5%8F%A3"><span class="tocnumber">5.2.2</span> <span class="toctext">关闭窗口</span></a></li>
<li class="toclevel-3 tocsection-19"><a href="#%E7%AA%97%E5%8F%A3%E5%B8%83%E5%B1%80"><span class="tocnumber">5.2.3</span> <span class="toctext">窗口布局</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-20"><a href="#%E9%80%80%E5%87%BAdwm"><span class="tocnumber">5.3</span> <span class="toctext">退出dwm</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-21">
<a href="#%E6%89%A9%E5%B1%95%E4%BD%BF%E7%94%A8"><span class="tocnumber">6</span> <span class="toctext">扩展使用</span></a>
<ul>
<li class="toclevel-2 tocsection-22">
<a href="#%E8%A1%A5%E4%B8%81%E5%92%8C%E5%A2%9E%E5%8A%A0%E7%AA%97%E5%8F%A3%E5%B8%83%E5%B1%80%EF%BC%88tiling_modes%EF%BC%89"><span class="tocnumber">6.1</span> <span class="toctext">补丁和增加窗口布局（tiling modes）</span></a>
<ul>
<li class="toclevel-3 tocsection-23"><a href="#%E5%AE%9E%E7%8E%B0%E4%B8%BA%E6%AF%8F%E4%B8%AA%E6%A0%87%E7%AD%BE%E5%AE%9A%E5%88%B6%E5%B8%83%E5%B1%80"><span class="tocnumber">6.1.1</span> <span class="toctext">实现为每个标签定制布局</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-24">
<a href="#%E8%A7%A3%E5%86%B3%E6%A8%A1%E6%8B%9F%E7%BB%88%E7%AB%AF%E7%AA%97%E5%8F%A3%E7%BC%9D%E9%9A%99%E9%97%AE%E9%A2%98"><span class="tocnumber">6.2</span> <span class="toctext">解决模拟终端窗口缝隙问题</span></a>
<ul>
<li class="toclevel-3 tocsection-25"><a href="#Urxvt"><span class="tocnumber">6.2.1</span> <span class="toctext">Urxvt</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-26"><a href="#%E5%9C%A8%E4%B8%8D%E7%99%BB%E5%87%BA%E5%92%8C%E9%80%80%E5%87%BA%E7%A8%8B%E5%BA%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%E9%87%8D%E5%90%AFdwm"><span class="tocnumber">6.3</span> <span class="toctext">在不登出和退出程序程序的情况下重启dwm</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#%E6%8A%8A%E5%8F%B3Alt%E9%94%AE%E4%BD%9C%E4%B8%BAMod4%EF%BC%88Win%E9%94%AE%EF%BC%89%E4%BD%BF%E7%94%A8"><span class="tocnumber">6.4</span> <span class="toctext">把右Alt键作为Mod4（Win键）使用</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#%E9%98%B2%E6%AD%A2%E9%BC%A0%E6%A0%87%E4%B8%8B%E7%9A%84%E7%A8%8B%E5%BA%8F%E8%87%AA%E5%8A%A8%E8%8E%B7%E5%8F%96%E7%84%A6%E7%82%B9"><span class="tocnumber">6.5</span> <span class="toctext">防止鼠标下的程序自动获取焦点</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#%E6%B7%BB%E5%8A%A0%E4%B8%AA%E6%80%A7%E7%9A%84%E5%BF%AB%E6%8D%B7%E9%94%AE%E7%BB%91%E5%AE%9A"><span class="tocnumber">6.6</span> <span class="toctext">添加个性的快捷键绑定</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#%E8%A7%A3%E5%86%B3Java%E7%A8%8B%E5%BA%8F%E4%B8%8D%E6%AD%A3%E5%B8%B8%E7%9A%84%E9%97%AE%E9%A2%98"><span class="tocnumber">6.7</span> <span class="toctext">解决Java程序不正常的问题</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-31"><a href="#%E8%B5%84%E6%BA%90"><span class="tocnumber">7</span> <span class="toctext">资源</span></a></li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="安装">安装</span>
</h2>
<p>这里建议用<a href="../en/Makepkg.html" title="Makepkg">makepkg</a>从<a href="../en/Arch_Build_System.html" class="mw-redirect" title="ABS">ABS</a>安装。这样你可以在稍后的时间简单地重新配置。如果你只是想安装试用一下的话，简单地安装：
</p>
<pre># pacman -S dwm
</pre>
<p>注意这样是不灵活的，因为dwm的配置要通过修改它的源码来实现。所以接下来的文章假定你从源码编译dwm。
</p>
<p>你可能很想同时安装<a href="../en/Dmenu.html" title="Dmenu">dmenu</a>，一个X下轻量级的动态菜单：
</p>
<pre># pacman -S dmenu
</pre>
<h3>
<span id=".E9.9C.80.E6.B1.82"></span><span class="mw-headline" id="需求">需求</span>
</h3>
<p>你需要用 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/base-devel/">base-devel</a></span> 里的基本编程工具来编译dwm，并且需要用 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=asp">asp</a></span> 来获得安装脚本：
</p>
<pre># pacman -S base-devel asp
</pre>
<h3>
<span id=".E4.B8.8B.E8.BD.BD_PKGBUILD"></span><span class="mw-headline" id="下载_PKGBUILD">下载 PKGBUILD</span>
</h3>
<p>如果需要的包都准备好了，可以用 <a href="../en/Arch_Build_System.html#Retrieve_PKGBUILD_source_using_Git" class="mw-redirect" title="Asp">asp</a> 从仓库里获得最新的 PKGBUILD 了：
</p>
<pre>$ asp export community/dwm
</pre>
<h3>
<span id=".E7.BC.96.E8.AF.91.E5.92.8C.E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="编译和安装">编译和安装</span>
</h3>
<p>用 <code>cd</code> 进入到 <a href="../en/Arch_Build_System.html#Retrieve_PKGBUILD_source_using_Git" class="mw-redirect" title="Asp">asp</a> 导出的目录，然后运行：
</p>
<pre>$ makepkg -i
</pre>
<p>这会编译并安装dwm，如果有问题请仔细输出信息。
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> 如果你以后不更改这个目录, 你可以在以后的时间继续用它来对配置文件做进一步的修改。</div>
<h2>
<span id=".E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="配置">配置</span>
</h2>
<p>就像上边提到的那样，dwm是在编译时配置的，确切地说就是修改<code>config.h</code>和<code>config.mk</code>。然而它提供了一个很好的初始配置，对一些有经验的用户，它是很好调整的。
</p>
<h3>
<span id=".E6.96.B9.E6.B3.95.E4.B8.80.EF.BC.9A.E4.BD.BF.E7.94.A8_ABS.EF.BC.88.E6.8E.A8.E8.8D.90.EF.BC.89"></span><span class="mw-headline" id="方法一：使用_ABS（推荐）">方法一：使用 ABS（推荐）</span>
</h3>
<p>在这里修改dwm是非常简单的。
</p>
<h4>
<span id=".E8.87.AA.E5.AE.9A.E4.B9.89config.h"></span><span class="mw-headline" id="自定义config.h">自定义config.h</span>
</h4>
<p>进入<a href="#%E5%AE%89%E8%A3%85">安装过程</a>中的dwm的源码目录；也就是上边的<code>~/dwm</code>。里边的<code>config.h</code> 存放着通常的配置信息。这个文件里的大多数配置都很好理解，但其他的可能比较有个性。关于这些配置的详细信息可以查阅<a rel="nofollow" class="external text" href="https://dwm.suckless.org/">dwm website</a>。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 要确保修改之前保存一份config.h的备份，以防修改中发生错误。</div>
<p>一旦修改完成了，更新<a href="../en/PKGBUILD.html" title="PKGBUILD">PKGBUILD</a>里的md5sums:
</p>
<pre>$ makepkg -g &gt;&gt; PKGBUILD
</pre>
<p>这样会避免因为和官方的config.h文件不一样导致校验值错误。
</p>
<p>现在，编译并重新安装：
</p>
<pre>$ makepkg -efi
</pre>
<p>假定配置是有效的，这条命令会编译和重新安装dwm，如果出问题了，请仔细查看输入内容获得详细信息。
</p>
<p>最后，重启dwm来使用新的配置。
</p>
<h4>
<span id=".E6.B3.A8.E6.84.8F"></span><span class="mw-headline" id="注意">注意</span>
</h4>
<p>从现在开始，我们不必每次都更新<code>config.h</code>的md5sums了，因为会很频繁，我们只需要用<code>--skipinteg</code>选项来跳过校验。
</p>
<pre>$ makepkg -efi --skipinteg
</pre>
<p>在往dwm的启动脚本里添加几行后，我们可以<a href="#%E5%9C%A8%E4%B8%8D%E7%99%BB%E5%87%BA%E5%92%8C%E9%80%80%E5%87%BA%E7%A8%8B%E5%BA%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%E9%87%8D%E5%90%AFdwm">在不登出和退出程序程序的情况下重启dwm</a>。
</p>
<h3>
<span id=".E6.96.B9.E6.B3.95.E4.BA.8C.EF.BC.9A.E4.BD.BF.E7.94.A8Mercurial.EF.BC.88.E9.AB.98.E7.BA.A7.EF.BC.89"></span><span class="mw-headline" id="方法二：使用Mercurial（高级）">方法二：使用Mercurial（高级）</span>
</h3>
<p>上游的dwm是用<a rel="nofollow" class="external text" href="https://git-scm.com">git</a>版本控制系统来维护的，在<a rel="nofollow" class="external text" href="https://git.suckless.org/dwm">suckless.org</a>。熟悉Mercurial的人会发现用它来维护配置和补丁会更方便。
</p>
<h2>
<span id=".E5.90.AF.E5.8A.A8dwm"></span><span class="mw-headline" id="启动dwm">启动dwm</span>
</h2>
<p>可以用<code>startx</code>或者<a href="../en/SLiM.html" title="SLiM">SLiM</a>登陆管理器来启动dwm，只需要在<code>~/.xinitrc</code>添加: 
</p>
<pre>exec dwm
</pre>
<p>对于<a href="../en/GDM.html" title="GDM">GDM</a>，在<code>~/.Xclients</code>添加上述内容，然后在会话菜单里选择”运行XClient脚本”。
</p>
<h2>
<span id=".E9.85.8D.E7.BD.AE.E7.8A.B6.E6.80.81.E6.9D.A1"></span><span class="mw-headline" id="配置状态条">配置状态条</span>
</h2>
<p>dwm使用根窗口名称来显示状态条信息，可以使用<code>xsetroot -name</code>来改变。
</p>
<h3>
<span id=".E5.9F.BA.E6.9C.AC.E7.8A.B6.E6.80.81.E6.9D.A1"></span><span class="mw-headline" id="基本状态条">基本状态条</span>
</h3>
<p>这个例子显示<a href="https://en.wikipedia.org/wiki/ISO_8601" class="extiw" title="wikipedia:ISO 8601">ISO 8601</a>格式的日期。把下边的内容添加到<code>~/.xinitrc</code>或者<code>~/.Xclients</code>，或者可以从GDM-3的讨论页中获得更多细节：
</p>
<pre>while true; do
   xsetroot -name "$( date +"%F %R" )"
   sleep 1m    # Update time every minute
done &amp;
exec dwm
</pre>
<p>这是个笔记本使用的，依赖<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=acpi">acpi</a></span>包来显示电池信息：
</p>
<pre>while true ; do
    xsetroot -name "$( acpi -b | awk '{ print $3, $4 }' | tr -d ',' )"
    sleep 1m
done &amp;
exec dwm
</pre>
<p>这个脚本显示电池剩余电量和充电状态，用awk命令过滤acpi输出的无用信息，然后用tr去除逗号。
</p>
<p>另一个方式是根据电池的状态选择性地输出信息：
</p>
<pre>while true; do
        batt=$(LC_ALL=C acpi -b)

        case $batt in
        *Discharging*)
                batt="${batt#* * * }"
                batt="${batt%%, *} "
                ;;
        *)
                batt=""
                ;;
        esac

        xsetroot -name "$batt$(date +%R)"

        sleep 60
done &amp;

exec dwm</pre>
<p>最后，要确保在<code>~/.xinitrc</code>或者<code>~/.Xclients</code>里只有一个dwm实例, 所以把整合起来应该像这样：
</p>
<pre>~/.setbg
autocutsel &amp;
termirssi &amp;
urxvt &amp;

while true; do
   xsetroot -name "$(date +"%F %R")"
   sleep 1m    # Update time every minute
done &amp;
<b>exec dwm</b>
</pre>
<p>这是另一个显示alsa音量和电池状态的例子。它一直显示到系统退出为止。
</p>
<pre>#set statusbar
while true
do
   if acpi -a | grep off-line &gt; /dev/null; then
       xsetroot -name "Bat. $( acpi -b | awk '{ print $4 " " $5 }' | tr -d ',' ) | Vol. $(amixer get Master | tail -1 | awk '{ print $5}' | tr -d '[]') | $(date +"%a, %b %d %R")"
   else
       xsetroot -name "Vol. $(amixer get Master | tail -1 | awk '{ print $5}' | tr -d '[]') | $(date +"%a, %b %d %R")"
   fi
   sleep 1s   
done &amp;
</pre>
<h3>
<span id="Conky.E7.8A.B6.E6.80.81.E6.9D.A1"></span><span class="mw-headline" id="Conky状态条">Conky状态条</span>
</h3>
<p>Conky可以使用<code>xsetroot -name</code>来往状态条里输出信息:
</p>
<pre>conky | while read -r; do xsetroot -name "$REPLY"; done &amp;
exec dwm
</pre>
<p>要想这样做，conky需要只往终端里输出文本。这是个应用于dual core CPU的简单conkyrc，显示几个状态信息：
</p>
<pre>out_to_console yes
out_to_x no
background no
update_interval 2
total_run_times 0
use_spacer none

TEXT
$mpd_smart :: ${cpu cpu1}% / ${cpu cpu2}%  ${loadavg 1} ${loadavg 2 3} :: ${acpitemp}c :: $memperc% ($mem) :: ${downspeed eth0}K/s ${upspeed eth0}K/s :: ${time %a %b %d %I:%M%P}
</pre>
<h2>
<span id=".E5.9F.BA.E6.9C.AC.E7.94.A8.E6.B3.95"></span><span class="mw-headline" id="基本用法">基本用法</span>
</h2>
<h3>
<span id=".E4.BD.BF.E7.94.A8dmenu"></span><span class="mw-headline" id="使用dmenu">使用dmenu</span>
</h3>
<p>Dmenu是dwm的一个有用的扩展。它不是一个单独的列表式菜单，而是生成一个可执行文件的列表并根据输入进行自动补全。比起许多程序启动器，它能与dwm更好地整合。
</p>
<p>可以按 <code>Mod1</code> + <code>P</code> 来启动Dmenu（<code>Mod1</code> 缺省是 <code>Alt</code> ）。当然你也可以按自己的喜好改变它。然后只需要在上边出现的工具条中输入你想运行的程序的前几个字母，也可以按左右箭头在进行选择，按回车键完成。
</p>
<p>更详细的信息请查阅 <a href="../en/Dmenu.html" title="Dmenu">dmenu</a>.
</p>
<h3>
<span id=".E6.8E.A7.E5.88.B6.E7.AA.97.E5.8F.A3"></span><span class="mw-headline" id="控制窗口">控制窗口</span>
</h3>
<h4>
<span id=".E5.B0.86.E7.AA.97.E5.8F.A3.E7.A7.BB.E5.8A.A8.E5.88.B0.E5.8F.A6.E4.B8.80.E4.B8.AAtag"></span><span class="mw-headline" id="将窗口移动到另一个tag">将窗口移动到另一个tag</span>
</h4>
<p>将当前的活动窗口移到其他的标签页：<code>Shift</code> + <code>Mod1</code> + <code>x</code>, 其中的x是其他的标签页的序号，如果x是5，则表示将当前的活动窗口移到第5号标签页上去。<code>Mod1</code> 缺省是 <code>Alt</code> 键，这个键值可以在config.h中定义。
</p>
<h4>
<span id=".E5.85.B3.E9.97.AD.E7.AA.97.E5.8F.A3"></span><span class="mw-headline" id="关闭窗口">关闭窗口</span>
</h4>
<p>关闭当前的活动窗口： <code>Shift</code> + <code>Mod1</code> + <code>C</code>.
</p>
<h4>
<span id=".E7.AA.97.E5.8F.A3.E5.B8.83.E5.B1.80"></span><span class="mw-headline" id="窗口布局">窗口布局</span>
</h4>
<p>dwm缺省工作在平铺模式。当新窗口不断出现在同一个标签页时，窗口会越来越小。所有窗口会占满整个屏幕（除了目录条）。然而还有其他两种模式：浮动和单页模式。浮动模式对非平铺窗口管理器用户来说更熟悉，它允许用户重新按自己需要摆放窗口。单页模式会让一个窗口在最上边。
</p>
<p>要切换到浮动模式，只需要按<code>Mod1</code> + <code>F</code>。<code>Mod1</code>缺省是 <code>Alt</code>。如果你看到标签页右上角有X&gt;这样的标志，就进行了浮动模式。
</p>
<p>切换到单页模式，按 <code>Mod1</code> + <code>M</code>。检查上否在单页模式，你会看到[M]标志（如果当前标签页无窗口），或者[n]（n是打开窗口的编号）。
</p>
<p>回来平铺模式，按<code>Mod1</code> + <code>T</code>，你会看到 []= 这样的标志。
</p>
<h3>
<span id=".E9.80.80.E5.87.BAdwm"></span><span class="mw-headline" id="退出dwm">退出dwm</span>
</h3>
<p>退出dwm（登出）： <code>Shift</code> + <code>Mod1</code> + <code>Q</code>.
</p>
<p>官方关于默认的快捷键的说明: <a rel="nofollow" class="external text" href="https://dwm.suckless.org/tutorial">dwm tutorial</a>.
</p>
<p>再次说明，快捷键可以根据自己的喜好自由定义，本维基中的快捷键都是指官方默认的快捷键。
</p>
<h2>
<span id=".E6.89.A9.E5.B1.95.E4.BD.BF.E7.94.A8"></span><span class="mw-headline" id="扩展使用">扩展使用</span>
</h2>
<h3>
<span id=".E8.A1.A5.E4.B8.81.E5.92.8C.E5.A2.9E.E5.8A.A0.E7.AA.97.E5.8F.A3.E5.B8.83.E5.B1.80.EF.BC.88tiling_modes.EF.BC.89"></span><span class="mw-headline" id="补丁和增加窗口布局（tiling_modes）">补丁和增加窗口布局（tiling modes）</span>
</h3>
<p>DWM官网上有很多可以给DWM添加功能的<a rel="nofollow" class="external text" href="https://dwm.suckless.org/patches/">补丁</a>， 用户可以通过补丁定制DWM。 
</p>
<p><a rel="nofollow" class="external text" href="https://dwm.suckless.org/patches/bottomstack">bottomstack</a>补丁能够使DWM由原来的垂直布局变为水平布局，而<a rel="nofollow" class="external text" href="https://dwm.suckless.org/patches/gaplessgrid/">gapless grid</a>补丁则可使窗口变为网格状布局.
</p>
<h4>
<span id=".E5.AE.9E.E7.8E.B0.E4.B8.BA.E6.AF.8F.E4.B8.AA.E6.A0.87.E7.AD.BE.E5.AE.9A.E5.88.B6.E5.B8.83.E5.B1.80"></span><span class="mw-headline" id="实现为每个标签定制布局">实现为每个标签定制布局</span>
</h4>
<p>dwm的缺省行为是将当前选定的布局应用到所有标签上。如果想为每个标签定制布局可以打<a rel="nofollow" class="external text" href="https://dwm.suckless.org/patches/pertag">pertag</a>这个补丁。
</p>
<h3>
<span id=".E8.A7.A3.E5.86.B3.E6.A8.A1.E6.8B.9F.E7.BB.88.E7.AB.AF.E7.AA.97.E5.8F.A3.E7.BC.9D.E9.9A.99.E9.97.AE.E9.A2.98"></span><span class="mw-headline" id="解决模拟终端窗口缝隙问题">解决模拟终端窗口缝隙问题</span>
</h3>
<p>如果你发现模拟终端（例如xterm，Urxvt）的窗口占不满屏幕，这是因为其窗口的大小和字体有关。你可以试图调整字体大小直到恰好合适为止（这也许是很困难的），或者只需要把<code>config.h</code> 文件中的 <code>resizehints</code> 设置为 False：
</p>
<pre>static Bool resizehints = False; /* False means respect size hints in tiled resizals */
</pre>
<p>这样dwm会忽略所有窗口的改变大小的请求，不只是模拟终端的。这样的缺点是一些模拟终端可能会刷新异常，像显示一些错误的内容。
</p>
<h4><span class="mw-headline" id="Urxvt">Urxvt</span></h4>
<p>对于 <a href="../en/Rxvt-unicode.html" class="mw-redirect" title="Urxvt">urxvt</a> 用户另一个方法是打 <a href="../en/Rxvt-unicode.html#Fix_maximized_window_gaps" class="mw-redirect" title="Urxvt">hints patch</a><sup>[<a href="../en/ArchWiki:Requests.html#Broken_section_links" class="mw-redirect" title="ArchWiki:Requests">断开的链接</a>：无效的部分]</sup> 这个补丁然后将dwm改回到默认的选项：
</p>
<pre>static Bool resizehints = <b>True</b>;
</pre>
<h3>
<span id=".E5.9C.A8.E4.B8.8D.E7.99.BB.E5.87.BA.E5.92.8C.E9.80.80.E5.87.BA.E7.A8.8B.E5.BA.8F.E7.A8.8B.E5.BA.8F.E7.9A.84.E6.83.85.E5.86.B5.E4.B8.8B.E9.87.8D.E5.90.AFdwm"></span><span class="mw-headline" id="在不登出和退出程序程序的情况下重启dwm">在不登出和退出程序程序的情况下重启dwm</span>
</h3>
<p>如果你要在在线重启dwm（不关闭它以及其他应用程序），修改启动脚本，并让dwm在一个while循环中运行，像这样：
</p>
<pre>while true; do
    # Log stderror to a file 
    dwm 2&gt; ~/.dwm.log
    # No error logging
    #dwm &gt;/dev/null 2&gt;&amp;1
done
</pre>
<p>这样就可以用Mod-Shift-Q快捷键来实现重启。
</p>
<p>把上边的内容写到一个其他的文件（例如<code>~/bin/startdwm</code>）是一个好主意。然后在 <code>~/.xinitrc</code> 文件里添加（exec startdwm）。这样我们可以使用 <code>killall startdwm</code> 来真正地退出X会话，或者绑定到一个方便的快捷键上。
</p>
<h3>
<span id=".E6.8A.8A.E5.8F.B3Alt.E9.94.AE.E4.BD.9C.E4.B8.BAMod4.EF.BC.88Win.E9.94.AE.EF.BC.89.E4.BD.BF.E7.94.A8"></span><span class="mw-headline" id="把右Alt键作为Mod4（Win键）使用">把右Alt键作为Mod4（Win键）使用</span>
</h3>
<p>当把Mod4（Win键）作为 <code>MODKEY</code> 时，你可能希望右Alt键也可以作为Mod4，这样就两个手都可以按到了
</p>
<p>首先，找到右Ctrl键对应的键码：
</p>
<pre>xmodmap -pke | grep Alt_R
</pre>
<p>然后只需要在启动脚本（比如 <code>~/.xinitrc</code>）添加如下内容, 把 <i>113</i> 换成之前<code>xmodmap</code> 的结果：
</p>
<pre>xmodmap -e "keycode 113 = Super_L"  # reassign Alt_R to Super_L
xmodmap -e "remove mod1 = Super_L"  # make sure X keeps it out of the mod1 group
</pre>
<p>现在，右Alt键就和Mod4键一样了。
</p>
<h3>
<span id=".E9.98.B2.E6.AD.A2.E9.BC.A0.E6.A0.87.E4.B8.8B.E7.9A.84.E7.A8.8B.E5.BA.8F.E8.87.AA.E5.8A.A8.E8.8E.B7.E5.8F.96.E7.84.A6.E7.82.B9"></span><span class="mw-headline" id="防止鼠标下的程序自动获取焦点">防止鼠标下的程序自动获取焦点</span>
</h3>
<p>为了防止鼠标下的程序自动获取焦点，可以注释掉dwm.c中的如下代码：
</p>
<pre>[EnterNotify] = enternotify,</pre>
<h3>
<span id=".E6.B7.BB.E5.8A.A0.E4.B8.AA.E6.80.A7.E7.9A.84.E5.BF.AB.E6.8D.B7.E9.94.AE.E7.BB.91.E5.AE.9A"></span><span class="mw-headline" id="添加个性的快捷键绑定">添加个性的快捷键绑定</span>
</h3>
<p><code>config.h</code> 文件中的两个地方涉及到创建修改快捷键，一个是"/* */" 注释中，并一个是"static Key keys[] = {"语句中。
</p>
<pre>static const char *&lt;keybindname&gt;[]   = { "&lt;command&gt;", "&lt;flags&gt;", "&lt;arguments&gt;", NULL };
</pre>
<p>&lt;keybindname&gt; 可以是任何东西， &lt;command&gt; &lt;-flags&gt; and &lt;arguments&gt; 也是，但要用双引号括起来。
</p>
<pre>{ MODKEY,            XK_&lt;key&gt;,      spawn,          {.v = &lt;keybindname&gt; } },
</pre>
<p>这会绑定 Mod+&lt;key&gt; 来执行之前定义的命令。
</p>
<pre>{ MODKEY|ShiftMask,  XK_&lt;key&gt;,      spawn,          {.v = &lt;keybindname&gt; } },
</pre>
<p>这会绑定 Mod+Shift+&lt;key&gt; ，使用要用Ctrl键是 ControlMask 。
</p>
<p>单个按键像Fn或者多媒体键必须要用16进制数来表示，可以用xev程序来获得。或者查看 /usr/include/X11/XF86keysym.h 中的定义。
</p>
<pre>{ 0,                 0xff00,    spawn,       {.v = &lt;keybindname&gt; } },
</pre>
<p>这会把0xff00键绑定到&lt;keybindname&gt;。
</p>
<h3>
<span id=".E8.A7.A3.E5.86.B3Java.E7.A8.8B.E5.BA.8F.E4.B8.8D.E6.AD.A3.E5.B8.B8.E7.9A.84.E9.97.AE.E9.A2.98"></span><span class="mw-headline" id="解决Java程序不正常的问题">解决Java程序不正常的问题</span>
</h3>
<p>对于使用JRE 6u20的Java程序在dwm中可能表现异常，因为dwm不是Java的一个已知的窗口管理器，这会导致一些像鼠标释放使菜单消失之类的小问题。可以先安装里的 [community] 里的wmname：
</p>
<pre># pacman -S wmname
</pre>
<p>然后你只需要用wmname来设置一个Java能识别的WM名称：
</p>
<pre>$ wmname LG3D
</pre>
<p>这不是永久的，所以你可以把它写进.xinitrc。
</p>
<h2>
<span id=".E8.B5.84.E6.BA.90"></span><span class="mw-headline" id="资源">资源</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://dwm.suckless.org">dwm's official website</a></li>
<li>
<a href="../en/Dmenu.html" title="Dmenu">dmenu</a> - Simple application launcher from the developers of dwm</li>
<li>The <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=57549/">dwm thread</a> on the forums</li>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=92895/">Hacking dwm thread</a></li>
<li>Check out the forums' <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=57768/">wallpaper thread</a> for a selection of dwm wallpapers</li>
<li>
<a rel="nofollow" class="external text" href="http://www.xsnake.net/howto/dwm/dwm-eng.php">HowTo by Snake</a><sup title="最后检查状态：404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">失效链接</a> 2020-08-02 ⓘ]</sup>
</li>
<li>
<a rel="nofollow" class="external text" href="http://0x80.org/blog/?p=72">Moved to dwm</a><sup title="最后检查状态：404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">失效链接</a> 2020-08-02 ⓘ]</sup>
</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../zh-CN/Category:Dynamic_WMs.html" title="Category:Dynamic WMs (简体中文)">Dynamic WMs (简体中文)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Dwm_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=660950">https://wiki.archlinux.org/index.php?title=Dwm_(简体中文)&amp;oldid=660950</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 16 April 2021, at 21:23.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
