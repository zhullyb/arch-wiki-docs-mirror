<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Network configuration (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Network_configuration_简体中文 rootpage-Network_configuration_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Network configuration (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>相关文章</p>
<ul>
<li><a href="../en/Jumbo_frames.html" title="Jumbo frames">Jumbo frames</a></li>
<li><a href="../zh-CN/Category:Firewalls.html" class="mw-redirect" title="Firewalls (简体中文)">Firewalls (简体中文)</a></li>
<li><a href="../zh-CN/Router.html" title="Router (简体中文)">Router (简体中文)</a></li>
<li><a href="../zh-CN/Internet_sharing.html" title="Internet sharing (简体中文)">Internet sharing (简体中文)</a></li>
<li><a href="../en/Network_Debugging.html" title="Network Debugging">Network Debugging</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="../en/Network_configuration.html" title="Network configuration">Network configuration</a> 的<a href="../zh-CN/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2021-02-05。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Network_configuration&amp;diff=0&amp;oldid=650880">更改</a>，则您可以帮助同步翻译。</div>
<p>本页解释了如何在 <a href="https://en.wikipedia.org/wiki/OSI_layer_3" class="extiw" title="wikipedia:OSI layer 3">OSI 第三层</a> 及之上配置网络连接。有部分内容在 <a href="../zh-CN/397e764a33c3ed6fc2f288eee7a4444f.html" class="mw-redirect" title="以太网">以太网</a> 和 <a href="../zh-CN/aa29dd559001de6a26e3fe87e084eb6e.html" class="mw-redirect" title="无线网络配置">无线网络配置</a> 两个页面中。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%E6%A3%80%E6%9F%A5%E8%BF%9E%E6%8E%A5"><span class="tocnumber">1</span> <span class="toctext">检查连接</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Ping"><span class="tocnumber">1.1</span> <span class="toctext">Ping</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3">
<a href="#%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86"><span class="tocnumber">2</span> <span class="toctext">网络管理</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#%E7%BD%91%E7%BB%9C%E5%B7%A5%E5%85%B7"><span class="tocnumber">2.1</span> <span class="toctext">网络工具</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#iproute2"><span class="tocnumber">2.2</span> <span class="toctext">iproute2</span></a></li>
<li class="toclevel-2 tocsection-6">
<a href="#%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3"><span class="tocnumber">2.3</span> <span class="toctext">网络接口</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#%E5%88%97%E5%87%BA%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3"><span class="tocnumber">2.3.1</span> <span class="toctext">列出网络接口</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#%E5%90%AF%E7%94%A8%E5%92%8C%E7%A6%81%E7%94%A8%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3"><span class="tocnumber">2.3.2</span> <span class="toctext">启用和禁用网络接口</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="#%E9%9D%99%E6%80%81%E8%BF%98%E6%98%AF%E5%8A%A8%E6%80%81_IP_%E5%9C%B0%E5%9D%80%EF%BC%9F"><span class="tocnumber">2.4</span> <span class="toctext">静态还是动态 IP 地址？</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#%E9%9D%99%E6%80%81_IP_%E5%9C%B0%E5%9D%80"><span class="tocnumber">2.5</span> <span class="toctext">静态 IP 地址</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#IP_%E5%9C%B0%E5%9D%80"><span class="tocnumber">2.6</span> <span class="toctext">IP 地址</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#%E8%B7%AF%E7%94%B1%E8%A1%A8"><span class="tocnumber">2.7</span> <span class="toctext">路由表</span></a></li>
<li class="toclevel-2 tocsection-13">
<a href="#DHCP"><span class="tocnumber">2.8</span> <span class="toctext">DHCP</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="tocnumber">2.8.1</span> <span class="toctext">服务器</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-15"><a href="#%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%99%A8"><span class="tocnumber">2.9</span> <span class="toctext">网络管理器</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16">
<a href="#%E8%AE%BE%E7%BD%AE%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%90%8D"><span class="tocnumber">3</span> <span class="toctext">设置计算机名</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="#%E6%9C%AC%E5%9C%B0%E4%B8%BB%E6%9C%BA%E5%90%8D%E8%A7%A3%E6%9E%90"><span class="tocnumber">3.1</span> <span class="toctext">本地主机名解析</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%BB%E6%9C%BA%E5%90%8D%E8%A7%A3%E6%9E%90"><span class="tocnumber">3.2</span> <span class="toctext">局域网主机名解析</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19">
<a href="#%E6%9B%B4%E5%A4%9A%E8%AE%BE%E7%BD%AE"><span class="tocnumber">4</span> <span class="toctext">更多设置</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#%E6%9B%B4%E6%94%B9%E6%8E%A5%E5%8F%A3%E5%90%8D%E7%A7%B0"><span class="tocnumber">4.1</span> <span class="toctext">更改接口名称</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#%E6%94%B9%E5%9B%9E%E4%BC%A0%E7%BB%9F%E6%8E%A5%E5%8F%A3%E5%90%8D%E7%A7%B0"><span class="tocnumber">4.2</span> <span class="toctext">改回传统接口名称</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#%E8%AE%BE%E5%AE%9A%E8%AE%BE%E5%A4%87%E7%9A%84_MTU_%E5%92%8C%E9%98%9F%E5%88%97%E9%95%BF%E5%BA%A6"><span class="tocnumber">4.3</span> <span class="toctext">设定设备的 MTU 和队列长度</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#%E7%BB%91%E5%AE%9A%E5%92%8C%E9%93%BE%E8%B7%AF%E8%81%9A%E5%90%88"><span class="tocnumber">4.4</span> <span class="toctext">绑定和链路聚合</span></a></li>
<li class="toclevel-2 tocsection-24">
<a href="#IP_%E5%88%AB%E5%90%8D"><span class="tocnumber">4.5</span> <span class="toctext">IP 别名</span></a>
<ul>
<li class="toclevel-3 tocsection-25"><a href="#%E4%BE%8B%E5%AD%90"><span class="tocnumber">4.5.1</span> <span class="toctext">例子</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-26"><a href="#%E6%B7%B7%E6%9D%82%E6%A8%A1%E5%BC%8F"><span class="tocnumber">4.6</span> <span class="toctext">混杂模式</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#%E6%A3%80%E6%B5%8B%E5%A5%97%E6%8E%A5%E5%AD%97"><span class="tocnumber">4.7</span> <span class="toctext">检测套接字</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-28">
<a href="#%E7%96%91%E9%9A%BE%E8%A7%A3%E7%AD%94"><span class="tocnumber">5</span> <span class="toctext">疑难解答</span></a>
<ul>
<li class="toclevel-2 tocsection-29">
<a href="#TCP%E7%AA%97%E5%8F%A3%E6%89%A9%E7%BC%A9%EF%BC%88window_scaling%EF%BC%89%E6%95%85%E9%9A%9C"><span class="tocnumber">5.1</span> <span class="toctext">TCP窗口扩缩（window scaling）故障</span></a>
<ul>
<li class="toclevel-3 tocsection-30"><a href="#%E5%A6%82%E4%BD%95%E8%AF%8A%E6%96%AD%E6%95%85%E9%9A%9C"><span class="tocnumber">5.1.1</span> <span class="toctext">如何诊断故障</span></a></li>
<li class="toclevel-3 tocsection-31">
<a href="#%E5%A6%82%E4%BD%95%E4%BF%AE%E5%A4%8D"><span class="tocnumber">5.1.2</span> <span class="toctext">如何修复</span></a>
<ul>
<li class="toclevel-4 tocsection-32"><a href="#%E7%B3%9F%E7%B3%95%E7%9A%84%E6%96%B9%E6%B3%95"><span class="tocnumber">5.1.2.1</span> <span class="toctext">糟糕的方法</span></a></li>
<li class="toclevel-4 tocsection-33"><a href="#%E5%A5%BD%E7%82%B9%E7%9A%84%E6%96%B9%E6%B3%95"><span class="tocnumber">5.1.2.2</span> <span class="toctext">好点的方法</span></a></li>
<li class="toclevel-4 tocsection-34"><a href="#%E6%9C%80%E4%BD%B3%E7%9A%84%E6%96%B9%E6%B3%95"><span class="tocnumber">5.1.2.3</span> <span class="toctext">最佳的方法</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-35"><a href="#%E6%9B%B4%E5%A4%9A"><span class="tocnumber">5.1.3</span> <span class="toctext">更多</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-36"><a href="#%E8%BF%9E%E6%8E%A5%E7%AC%AC%E4%BA%8C%E5%8F%B0%E7%94%B5%E8%84%91%E5%90%8E%E6%97%A0%E6%B3%95%E8%BF%9B%E8%A1%8C%E6%A1%A5%E6%8E%A5"><span class="tocnumber">5.2</span> <span class="toctext">连接第二台电脑后无法进行桥接</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-37"><a href="#%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB"><span class="tocnumber">6</span> <span class="toctext">扩展阅读</span></a></li>
</ul>
</div>

<h2>
<span id=".E6.A3.80.E6.9F.A5.E8.BF.9E.E6.8E.A5"></span><span class="mw-headline" id="检查连接">检查连接</span>
</h2>
<p>若要排查网络连接问题，请先确保你满足了以下要求。
</p>
<ol>
<li>你的<a href="#%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3">网络接口</a>可见并已启用。否则请检查设备驱动－请查阅 <a href="../en/Network_configuration/Ethernet.html#Device_driver" title="Network configuration/Ethernet">Network configuration/Ethernet#Device driver</a> 或 <a href="../zh-CN/aa29dd559001de6a26e3fe87e084eb6e.html#%E8%AE%BE%E5%A4%87%E9%A9%B1%E5%8A%A8" class="mw-redirect" title="Wireless network configuration (简体中文)">Wireless network configuration (简体中文)#设备驱动</a> 页面。</li>
<li>你已连接到网络。网线已接好或者已经<a href="../zh-CN/aa29dd559001de6a26e3fe87e084eb6e.html" class="mw-redirect" title="Wireless network configuration (简体中文)">连接到无线局域网</a>。</li>
<li>你的网络接口拥有一个<a href="#IP_%E5%9C%B0%E5%9D%80">IP 地址</a>。</li>
<li>你的<a href="#%E8%B7%AF%E7%94%B1%E8%A1%A8">路由表</a>设置正确。</li>
<li>你可以 <a href="#Ping">ping</a> 通一个本地 IP 地址（例如你的默认网关）。</li>
<li>你可以 <a href="#Ping">ping</a> 通一个公网 IP 地址（例如 <code>8.8.8.8</code> ，即谷歌的 DNS 服务器）。</li>
<li>
<a href="../en/Domain_name_resolution.html#Check_if_you_can_resolve_domain_names" class="mw-redirect" title="Check if you can resolve domain names">检查是否能解析域名</a>（例如 <code>archlinux.org</code>）。</li>
</ol>
<h3><span class="mw-headline" id="Ping">Ping</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> 需添加或链接到常见 ping 命令错误的内容，如“未知主机”或“网络不可达”等报错。 (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Network_configuration_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Talk:Network configuration (简体中文)#</a>)</div>
</div>
<p><a href="https://en.wikipedia.org/wiki/Ping_(networking_utility)" class="extiw" title="wikipedia:Ping (networking utility)">ping</a> 用于测试你是否可连接到某个主机。
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ping www.example.com</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">PING www.example.com (93.184.216.34): 56(84) data bytes
64 bytes from 93.184.216.34: icmp_seq=0 ttl=56 time=11.632 ms
64 bytes from 93.184.216.34: icmp_seq=1 ttl=56 time=11.726 ms
64 bytes from 93.184.216.34: icmp_seq=2 ttl=56 time=10.683 ms
...</pre>
<p>如上所示，Ping 命令对每个收到的回应都会显示一行信息。详细的解释请阅读 <span class="plainlinks archwiki-template-man" title="$ man 8 ping"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ping.8">ping(8)</a></span> 手册。注意，计算机可以配置为不响应 ICMP 回应请求。<a rel="nofollow" class="external autonumber" href="https://unix.stackexchange.com/questions/412446/how-to-disable-ping-response-icmp-echo-in-linux-all-the-time">[1]</a>
</p>
<p>如果没有收到回应，原因可能与你的默认网关配置或者你的网络接入服务商（ISP）有关。你可以运行 <a href="../en/Network_tools.html#Traceroute" class="mw-redirect" title="Traceroute">traceroute</a> 以进一步诊断到对端主机的路由。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 如果你运行 ping 命令时收到一条类似 <code>ping: icmp open socket: Operation not permitted</code> 的报错信息，请尝试重新安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iputils">iputils</a></span> 软件包。</div>
<h2>
<span id=".E7.BD.91.E7.BB.9C.E7.AE.A1.E7.90.86"></span><span class="mw-headline" id="网络管理">网络管理</span>
</h2>
<p>通过以下步骤来设置网络链接：
</p>
<ol>
<li>确保<a href="#%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3">网络接口</a>已连接并已开启。</li>
<li>连接到网络。网线已接好或者已经<a href="../zh-CN/aa29dd559001de6a26e3fe87e084eb6e.html" class="mw-redirect" title="Wireless network configuration (简体中文)">连接到无线局域网</a>。</li>
<li>配置网络连接：
<ul>
<li><a href="#%E9%9D%99%E6%80%81_IP_%E5%9C%B0%E5%9D%80">静态 IP 地址</a></li>
<li>动态 IP 地址：使用 <a href="#DHCP">DHCP</a>
</li>
</ul>
</li>
</ol>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 安装镜像使用 <a href="../en/Systemd-resolved.html" title="Systemd-resolved">systemd-resolved</a> 和 <a href="../zh-CN/Systemd-networkd.html" title="Systemd-networkd (简体中文)">systemd-networkd</a> 为<a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso/-/blob/master/configs/releng/airootfs/etc/systemd/network/20-ethernet.network">有线</a>和<a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso/-/blob/master/configs/releng/airootfs/etc/systemd/network/20-wireless.network">无线</a>网络配置 DHCP 客户端。</div>
<h3>
<span id=".E7.BD.91.E7.BB.9C.E5.B7.A5.E5.85.B7"></span><span class="mw-headline" id="网络工具">网络工具</span>
</h3>
<p>Arch Linux 已经弃用了 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=net-tools">net-tools</a></span> 转而使用 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iproute2">iproute2</a></span>。 <a rel="nofollow" class="external autonumber" href="https://archlinux.org/news/deprecation-of-net-tools/">[2]</a>
</p>
<table class="wikitable">
<tbody>
<tr>
<th>已弃用的命令</th>
<th>替换命令
</th>
</tr>
<tr>
<td>arp</td>
<td>ip neighbor
</td>
</tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/zh:ifconfig" class="extiw" title="wikipedia:zh:ifconfig">ifconfig</a></td>
<td>ip address, ip link
</td>
</tr>
<tr>
<td>netstat</td>
<td>
<a href="#%E6%A3%80%E6%B5%8B%E5%A5%97%E6%8E%A5%E5%AD%97">ss</a>
</td>
</tr>
<tr>
<td>route</td>
<td>ip route
</td>
</tr>
</tbody>
</table>
<p>想要更多更完整的总结，请参阅<a rel="nofollow" class="external text" href="https://dougvitale.wordpress.com/2011/12/21/deprecated-linux-networking-commands-and-their-replacements/">这篇文章</a>。
</p>
<h3><span class="mw-headline" id="iproute2">iproute2</span></h3>
<p><a href="https://en.wikipedia.org/wiki/iproute2" class="extiw" title="wikipedia:iproute2">iproute2</a> 是 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span> <a href="../en/Meta_package_and_package_group.html#Difference_between_meta_package_and_package_group" class="mw-redirect" title="Meta package">元包</a> 的依赖，提供 <span class="plainlinks archwiki-template-man" title="$ man 8 ip"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ip.8">ip(8)</a></span> 命令行接口，用于管理 <a href="#%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3">网络接口</a>，<a href="#IP_%E5%9C%B0%E5%9D%80">IP 地址</a> 和 <a href="#%E8%B7%AF%E7%94%B1%E8%A1%A8">路由表</a>。注意使用 <code>ip</code> 进行的配置会在重启后丢失。要进行永久配置，可以使用 <a href="#%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%99%A8">网络管理器</a> 或通过脚本和 <a href="../zh-CN/Systemd.html#%E7%BC%96%E5%86%99%E5%8D%95%E5%85%83%E6%96%87%E4%BB%B6" title="Systemd (简体中文)">systemd 单元</a> 使 <i>ip</i> 命令自动化。同时需要注意的是 <code>ip</code> 命令通常能够缩写，为了清楚起见，本文对其进行了详细说明。
</p>
<h3>
<span id=".E7.BD.91.E7.BB.9C.E6.8E.A5.E5.8F.A3"></span><span class="mw-headline" id="网络接口">网络接口</span>
</h3>
<p>默认情况下， <a href="../zh-CN/Udev.html" title="Udev (简体中文)">udev</a> 使用 <a rel="nofollow" class="external text" href="https://systemd.io/PREDICTABLE_INTERFACE_NAMES/">可预测的网络接口名称</a> 分配给你的网络接口，该名称以 <code>en</code> (有线/<a href="https://en.wikipedia.org/wiki/zh:%E4%BB%A5%E5%A4%AA%E7%BD%91" class="extiw" title="wikipedia:zh:以太网">以太网</a>) ，<code>wl</code> (无线/WLAN) 或 <code>ww</code> (<a href="https://en.wikipedia.org/wiki/Wireless_WAN" class="extiw" title="wikipedia:Wireless WAN">WWAN</a>)开头 。
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 要改变接口名称，请参阅 <a href="#Change_interface_name">#Change interface name</a><sup>[<a href="../en/ArchWiki:Requests.html#Broken_section_links" class="mw-redirect" title="ArchWiki:Requests">断开的链接</a>：无效的部分]</sup> 和 <a href="#Revert_to_traditional_interface_names">#Revert to traditional interface names</a><sup>[<a href="../en/ArchWiki:Requests.html#Broken_section_links" class="mw-redirect" title="ArchWiki:Requests">断开的链接</a>：无效的部分]</sup> 。</div>
<h4>
<span id=".E5.88.97.E5.87.BA.E7.BD.91.E7.BB.9C.E6.8E.A5.E5.8F.A3"></span><span class="mw-headline" id="列出网络接口">列出网络接口</span>
</h4>
<p>有线和无线接口名称都可以通过 <code>ls /sys/class/net</code> 或 <code>ip link</code> 找到。要注意的是 <code>lo</code> 是 <a href="https://en.wikipedia.org/wiki/zh:Loop%E8%AE%BE%E5%A4%87" class="extiw" title="wikipedia:zh:Loop设备">Loop 设备</a>，不被用于建立网络连接。
</p>
<p>同样，也可以用 <code>iw dev</code> 来检索无线设备的名称。可以参阅 <a href="../zh-CN/aa29dd559001de6a26e3fe87e084eb6e.html#%E8%8E%B7%E5%8F%96%E6%9C%89%E7%94%A8%E4%BF%A1%E6%81%AF" class="mw-redirect" title="无线网">无线网#获取有用信息</a> 。
</p>
<p>如果未列出您的网络接口，请确保已成功加载设备驱动。参阅 <a href="../zh-CN/397e764a33c3ed6fc2f288eee7a4444f.html#%E8%AE%BE%E5%A4%87%E9%A9%B1%E5%8A%A8" class="mw-redirect" title="以太网">以太网#设备驱动</a> 或 <a href="../zh-CN/aa29dd559001de6a26e3fe87e084eb6e.html#%E8%AE%BE%E5%A4%87%E9%A9%B1%E5%8A%A8" class="mw-redirect" title="无线网">无线网#设备驱动</a> 。
</p>
<h4>
<span id=".E5.90.AF.E7.94.A8.E5.92.8C.E7.A6.81.E7.94.A8.E7.BD.91.E7.BB.9C.E6.8E.A5.E5.8F.A3"></span><span class="mw-headline" id="启用和禁用网络接口">启用和禁用网络接口</span>
</h4>
<p>可以使用 <code>ip link set <i>interface</i> up|down</code> 来启用/禁用网络接口，参阅 <span class="plainlinks archwiki-template-man" title="$ man 8 ip-link"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ip-link.8">ip-link(8)</a></span> 。
</p>
<p>要想检查接口 <code>eth0</code> 的状态：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ip link show dev eth0</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast master br0 state DOWN mode DEFAULT qlen 1000
...
</pre>
<p><code>&lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt;</code> 中的 <code>UP</code> 表示接口已经启动，而非表示稍后的 <code>state DOWN</code> 。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 如果您的默认路由是通过接口 <code>eth0</code> 进行的，则将其删除也会删除该路由，而恢复备份将不会自动重新建立默认路由。参阅 <a href="#%E8%B7%AF%E7%94%B1%E8%A1%A8">#路由表</a> 以重新建立它。</div>
<h3>
<span id=".E9.9D.99.E6.80.81.E8.BF.98.E6.98.AF.E5.8A.A8.E6.80.81_IP_.E5.9C.B0.E5.9D.80.EF.BC.9F"></span><span class="mw-headline" id="静态还是动态_IP_地址？">静态还是动态 IP 地址？</span>
</h3>
<p>如果你在使用 WiFi 或路由器，你很可能会使用动态 IP 地址。你的计算机应该被配置为使用由 WiFi 或路由器分配的 IP 地址。如果你处于家庭环境且电脑连接到网络接入服务商提供的调制解调器，比如一个线缆调制解调器，那也会使用一个动态 IP 地址。动态 IP 地址会在每次开机时改变。在工作环境中，你可能具有静态 IP 地址或动态 IP 地址。在家里，你可以将路由器配置为始终为计算机分配相同的 IP 地址，在这种情况下，你将使用静态 IP 地址。使用动态 IP 地址时，需要使用 DHCP 以便用正确的 IP 地址设置网络接口。除了配置 IP 地址外，DHCP 还可以配置路由（如何从你的位置到达任意网络中你要访问的的位置）以及域名服务器，域名服务器会转换主机名（例如 google.com）到 IP 地址（带点号的数字）。
</p>
<h3>
<span id=".E9.9D.99.E6.80.81_IP_.E5.9C.B0.E5.9D.80"></span><span class="mw-headline" id="静态_IP_地址">静态 IP 地址</span>
</h3>
<p>可以通过绝大多数的 <a href="#%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%99%A8">网络管理器</a> 或 <a href="../zh-CN/Dhcpcd.html" title="Dhcpcd (简体中文)">dhcpd</a> 来配置静态 IP 地址。
</p>
<p>要手动配置静态 IP 地址，请按照 <a href="#IP_%E5%9C%B0%E5%9D%80">#IP 地址</a> 中的说明添加 IP 地址，设置 <a href="#%E8%B7%AF%E7%94%B1%E8%A1%A8">路由表</a> 并<a href="../zh-CN/Domain_name_resolution.html" title="Domain name resolution (简体中文)">配置 DNS 服务器</a>。
</p>
<h3>
<span id="IP_.E5.9C.B0.E5.9D.80"></span><span class="mw-headline" id="IP_地址">IP 地址</span>
</h3>
<p>通过 <span class="plainlinks archwiki-template-man" title="$ man 8 ip-address"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ip-address.8">ip-address(8)</a></span> 来管理 <a href="https://en.wikipedia.org/wiki/zh:IP%E5%9C%B0%E5%9D%80" class="extiw" title="wikipedia:zh:IP地址">IP 地址</a>。
</p>
<p>列出 IP 地址：
</p>
<pre>$ ip address show
</pre>
<p>将 IP 地址添加到接口：
</p>
<pre># ip address add <i>address/prefix_len</i> broadcast + dev <i>interface</i>
</pre>
<dl><dd>注意：</dd></dl>
<dl><dd><ul>
<li>地址格式是 <a href="https://en.wikipedia.org/wiki/zh:%E6%97%A0%E7%B1%BB%E5%88%AB%E5%9F%9F%E9%97%B4%E8%B7%AF%E7%94%B1" class="extiw" title="wikipedia:zh:无类别域间路由">CIDR 表示法</a>，这种格式也可以用来提供<a href="https://en.wikipedia.org/wiki/zh:%E5%AD%90%E7%BD%91" class="extiw" title="wikipedia:zh:子网">子网掩码</a>。</li>
<li>
<code>+</code> 是使 <code>ip</code> 从 IP 地址和子网掩码派生<a href="https://en.wikipedia.org/wiki/Broadcast_address" class="extiw" title="wikipedia:Broadcast address">多播地址</a> 的特殊符号。</li>
</ul></dd></dl>
<dl><dd><div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 要确保手动分配的 IP 地址与 DHCP 分配的 IP 地址不冲突。</div></dd></dl>
<p>将 IP 地址从接口中删除：
</p>
<pre># ip address del <i>address/prefix_len</i> dev <i>interface</i>
</pre>
<p>删除所有符合条件的地址，例如某个特定接口的地址：
</p>
<pre># ip address flush dev <i>interface</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 可通过 <a rel="nofollow" class="external text" href="http://jodies.de/ipcalc">ipcalc</a> (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ipcalc">ipcalc</a></span>) 计算 IP 地址。</div>
<h3>
<span id=".E8.B7.AF.E7.94.B1.E8.A1.A8"></span><span class="mw-headline" id="路由表">路由表</span>
</h3>
<p><a href="https://en.wikipedia.org/wiki/zh:%E8%B7%AF%E7%94%B1%E8%A1%A8" class="extiw" title="wikipedia:zh:路由表">路由表</a> 被用于确定是否可以直接访问某个 IP 地址或该使用哪个网关（路由器）。如果别的路由与这个 IP 地址匹配，将使用<a href="https://en.wikipedia.org/wiki/Default_gateway" class="extiw" title="wikipedia:Default gateway">默认网关</a>。
</p>
<p>通过 <span class="plainlinks archwiki-template-man" title="$ man 8 ip-route"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ip-route.8">ip-route(8)</a></span> 来管理路由表。
</p>
<p>应在 <i>PREFIX</i> 处使用 CIDR 表示法，或填入 <code>default</code> 表示默认网关。
</p>
<p>列出 IPv4 路由：
</p>
<pre>$ ip route show
</pre>
<p>列出 IPv6 路由：
</p>
<pre>$ ip -6 route
</pre>
<p>添加路由：
</p>
<pre># ip route add <i>PREFIX</i> via <i>address</i> dev <i>interface</i>
</pre>
<p>删除路由：
</p>
<pre># ip route del <i>PREFIX</i> via <i>address</i> dev <i>interface</i>
</pre>
<h3><span class="mw-headline" id="DHCP">DHCP</span></h3>
<p><a href="https://en.wikipedia.org/wiki/zh:%E5%8A%A8%E6%80%81%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE%E5%8D%8F%E8%AE%AE" class="extiw" title="wikipedia:zh:动态主机配置协议">动态主机配置协议(DHCP)</a> 服务器为客户端提供动态 IP 地址，子网掩码，默认网关 IP 地址，有时还可以提供域名服务器。
</p>
<p>要使用 DHCP ，需要网络中有 DHCP 服务器和 DHCP 客户端：
</p>
<table class="wikitable">
<tbody>
<tr>
<th>客户端</th>
<th>软件包</th>
<th><a href="../zh-CN/Archiso.html" title="Archiso (简体中文)">Archiso</a></th>
<th>备注</th>
<th>Systemd 单元
</th>
</tr>
<tr>
<td><a href="../zh-CN/Dhcpcd.html" title="Dhcpcd (简体中文)">dhcpcd</a></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhcpcd">dhcpcd</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">是</td>
<td>DHCP, DHCPv6, ZeroConf, static IP</td>
<td>
<code>dhcpcd.service</code>, <code>dhcpcd@<i>interface</i>.service</code>
</td>
</tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://www.isc.org/downloads/dhcp/">ISC dhclient</a></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhclient">dhclient</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">是</td>
<td>DHCP, DHCPv6, BOOTP, static IP</td>
<td>
<code>dhclient@<i>interface</i>.service</code>
</td>
</tr>
</tbody>
</table>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 
<ul>
<li>不能同时运行两个 DHCP 客户端。</li>
<li>除了直接使用独立的 DHCP 客户端，还可以使用具有内置 DHCP 客户端的<a href="#%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%99%A8">网络管理器</a> 。</li>
<li>另外，<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iwd">iwd</a></span> 具有一个内置的 DHCP 客户端，可以通过某些配置来使用它：<a href="../zh-CN/Iwd.html#%E5%90%AF%E7%94%A8%E5%86%85%E7%BD%AE%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE" title="Iwd (简体中文)">iwd (简体中文)#启用内置网络配置</a> 。</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 
<ul>
<li>可以通过 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhcping">dhcping</a></span> 检查一个 DHCP 服务器是否在运行。</li>
<li>在等待分配 IP 时，可以运行 <code>watch -n 1 ping -c 1 archlinux.org</code> 之类的命令来自动确认网络是否配置好。</li>
</ul>
</div>
<h4>
<span id=".E6.9C.8D.E5.8A.A1.E5.99.A8"></span><span class="mw-headline" id="服务器">服务器</span>
</h4>
<table class="wikitable">
<tbody>
<tr>
<th>服务器</th>
<th>软件包</th>
<th>IPv4</th>
<th>IPv6</th>
<th>GUI</th>
<th>接口</th>
<th>后端存储</th>
<th>备注
</th>
</tr>
<tr>
<td><a href="../zh-CN/Dhcpd.html" title="Dhcpd (简体中文)">dhcpd</a></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhcp">dhcp</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">是</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">是</td>
<td><a rel="nofollow" class="external text" href="https://github.com/Akkadius/glass-isc-dhcp">Glass-ISC-DHCP</a></td>
<td>?</td>
<td>文件</td>
<td>
</td>
</tr>
<tr>
<td><a href="../zh-CN/Dnsmasq.html" title="Dnsmasq (简体中文)">dnsmasq</a></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dnsmasq">dnsmasq</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">是</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">是</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">否</td>
<td>?</td>
<td>文件</td>
<td>还可运行 DNS，PXE 和 TFTP 服务
</td>
</tr>
<tr>
<td><a href="../en/Kea.html" title="Kea">Kea</a></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kea">kea</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">是</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">是</td>
<td><a rel="nofollow" class="external text" href="https://github.com/isc-projects/kea-anterius">Kea-Anterius (Experimental)</a></td>
<td>REST，RADIUS 和 NETCONF</td>
<td>文件，MySQL，PostgreSQL 和 Cassandra</td>
<td>还可运行 DNS 服务
</td>
</tr>
</tbody>
</table>
<h3>
<span id=".E7.BD.91.E7.BB.9C.E7.AE.A1.E7.90.86.E5.99.A8"></span><span class="mw-headline" id="网络管理器">网络管理器</span>
</h3>
<p>网络管理器可以在网络配置文件中管理网络连接设置，以便切换网络。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 有许多可选的方案，但他们都相互排斥，因此不要同时运行两个守护程序</div>
<table class="wikitable">
<tbody>
<tr>
<th>网络管理器</th>
<th>GUI</th>
<th>
<a href="../zh-CN/Archiso.html" title="Archiso (简体中文)">Archiso (简体中文)</a> <a rel="nofollow" class="external autonumber" href="https://gitlab.archlinux.org/archlinux/archiso/blob/master/configs/releng/packages.x86_64">[3]</a>
</th>
<th>CLI 工具</th>
<th>
<a href="https://en.wikipedia.org/wiki/zh:%E7%82%B9%E5%AF%B9%E7%82%B9%E5%8D%8F%E8%AE%AE" class="extiw" title="wikipedia:zh:点对点协议">点对点协议</a> 支持 <br>（例如 3G 调制解调器）</th>
<th><a href="#DHCP">DHCP 客户端</a></th>
<th>Systemd 单元
</th>
</tr>
<tr>
<th>
<a href="../en/ConnMan.html" title="ConnMan">ConnMan</a>
</th>
<td data-sort-value="3" style="background: #ffa; color: inherit; vertical-align: middle; text-align: center;">8 种，非官方</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">否</td>
<td><span class="plainlinks archwiki-template-man" title="$ man 1 connmanctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/connmanctl.1">connmanctl(1)</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">是（通过 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ofono/">ofono</a></span><sup><small>AUR</small></sup>）</td>
<td>内置</td>
<td>
<code>connman.service</code>
</td>
</tr>
<tr>
<th>
<a href="../zh-CN/Netctl.html" title="Netctl (简体中文)">netctl</a>
</th>
<td data-sort-value="3" style="background: #ffa; color: inherit; vertical-align: middle; text-align: center;">2 种，非官方</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">否</td>
<td>
<span class="plainlinks archwiki-template-man" title="$ man 1 netctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/netctl.1">netctl(1)</a></span>, wifi-menu</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">是</td>
<td>
<a href="../zh-CN/Dhcpcd.html" title="Dhcpcd (简体中文)">dhcpcd</a> 或 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhclient">dhclient</a></span>
</td>
<td>
<code>netctl-ifplugd@<i>interface</i>.service</code>, <code>netctl-auto@<i>interface</i>.service</code>
</td>
</tr>
<tr>
<th>
<a href="../zh-CN/NetworkManager.html" title="NetworkManager (简体中文)">NetworkManager</a>
</th>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">是</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">否</td>
<td>
<span class="plainlinks archwiki-template-man" title="$ man 1 nmcli"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nmcli.1">nmcli(1)</a></span>, <span class="plainlinks archwiki-template-man" title="$ man 1 nmtui"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nmtui.1">nmtui(1)</a></span>
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">是</td>
<td>内置或 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhclient">dhclient</a></span>
</td>
<td>
<code>NetworkManager.service</code>
</td>
</tr>
<tr>
<th>
<a href="../zh-CN/Systemd-networkd.html" title="Systemd-networkd (简体中文)">systemd-networkd</a>
</th>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">否</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">是 (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span>)</td>
<td><span class="plainlinks archwiki-template-man" title="$ man 1 networkctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/networkctl.1">networkctl(1)</a></span></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;"><a rel="nofollow" class="external text" href="https://github.com/systemd/systemd/issues/481">否</a></td>
<td>内置</td>
<td>
<code>systemd-networkd.service</code>, <code>systemd-resolved.service</code>
</td>
</tr>
<tr>
<th>
<a href="../zh-CN/Wicd.html" title="Wicd (简体中文)">Wicd</a>
</th>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">是</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">否</td>
<td>
<span class="plainlinks archwiki-template-man" title="$ man 8 wicd-cli"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/wicd-cli.8">wicd-cli(8)</a></span><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">失效链接</a> 2020-02-22]</sup>, <span class="plainlinks archwiki-template-man" title="$ man 8 wicd-curses"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/wicd-curses.8">wicd-curses(8)</a></span><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">失效链接</a> 2020-02-22]</sup>
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">否</td>
<td>
<a href="../zh-CN/Dhcpcd.html" title="Dhcpcd (简体中文)">dhcpcd</a> 或 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhclient">dhclient</a></span>
</td>
<td>
<code>wicd.service</code>
</td>
</tr>
</tbody>
</table>
<p>参阅 <a href="../zh-CN/List_of_applications.html#%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86" title="List of applications (简体中文)">List of applications (简体中文)#网络管理</a> 。
</p>
<h2>
<span id=".E8.AE.BE.E7.BD.AE.E8.AE.A1.E7.AE.97.E6.9C.BA.E5.90.8D"></span><span class="mw-headline" id="设置计算机名">设置计算机名</span>
</h2>
<p><a href="https://en.wikipedia.org/wiki/Hostname" class="extiw" title="wikipedia:Hostname">主机名</a> 是一个网络中唯一标识一台机器的名称。主机名通过文件 <code>/etc/hostname</code> 进行配置，参阅 <span class="plainlinks archwiki-template-man" title="$ man 5 hostname"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hostname.5">hostname(5)</a></span> 和 <span class="plainlinks archwiki-template-man" title="$ man 7 hostname"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hostname.7">hostname(7)</a></span> 获取详细介绍。<code>/etc/hostname</code> 可以包含系统使用的域名（如果有）。要设置主机名，请<a href="/index.php?title=Textedit_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;action=edit&amp;redlink=1" class="new" title="Textedit (简体中文) (page does not exist)">编辑</a> <code>/etc/hostname</code> 使之包含单独一行 <code><i>myhostname</i></code>：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/hostname</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"><i>myhostname</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 有关选取一个主机名的建议，参阅 <a rel="nofollow" class="external text" href="https://tools.ietf.org/html/rfc1178">RFC 1178</a>。</div>
<p>也可以使用 <span class="plainlinks archwiki-template-man" title="$ man 1 hostnamectl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hostnamectl.1">hostnamectl(1)</a></span>：
</p>
<pre># hostnamectl set-hostname <i>myhostname</i>
</pre>
<p>要临时设置主机名（直到下次重启为止），使用 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=inetutils">inetutils</a></span> 中的 <span class="plainlinks archwiki-template-man" title="$ man 1 hostname"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hostname.1">hostname(1)</a></span> 命令：
</p>
<pre># hostname <i>myhostname</i>
</pre>
<p>要设置“美观”的主机名和其它机器元数据，请参考 <span class="plainlinks archwiki-template-man" title="$ man 5 machine-info"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/machine-info.5">machine-info(5)</a></span>。
</p>
<h3>
<span id=".E6.9C.AC.E5.9C.B0.E4.B8.BB.E6.9C.BA.E5.90.8D.E8.A7.A3.E6.9E.90"></span><span class="mw-headline" id="本地主机名解析">本地主机名解析</span>
</h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd">systemd</a></span> 的 <code>myhostname</code> <a href="../en/Domain_name_resolution.html#Name_Service_Switch" class="mw-redirect" title="Name Service Switch">Name Service Switch</a> (NSS) 模块提供无需配置 <code>/etc/hosts</code> (<span class="plainlinks archwiki-template-man" title="$ man 5 hosts"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hosts.5">hosts(5)</a></span>) 就能使用的本地主机名解析服务。它是默认启用的。
</p>
<p>然而一些客户端应用仍然会依赖于 <code>/etc/hosts</code>，相关例子参见 <a rel="nofollow" class="external autonumber" href="https://lists.debian.org/debian-devel/2013/07/msg00809.html">[4]</a> <a rel="nofollow" class="external autonumber" href="https://bugzilla.mozilla.org/show_bug.cgi?id=87717#c55">[5]</a>。
</p>
<p>要配置 <code>/etc/hosts</code>，将以下内容加入其中：
</p>
<pre>127.0.0.1        localhost
::1              localhost
127.0.1.1        <i>myhostname</i>.localdomain        <i>myhostname</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> <code>/etc/hosts</code> 中在 IP 地址后的主机名或别名的顺序是重要的。第一个字符串会被认为是标准主机名，其后可以加上以点逐级分隔的上级域名（也就是上面的 <code>.localdomain</code>）。所有同一行中其后的字符串都被认为是别名。更多信息请参阅 <span class="plainlinks archwiki-template-man" title="$ man 5 hosts"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hosts.5">hosts(5)</a></span>。</div>
<p>这样系统就会解析每条配置：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ getent hosts</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">127.0.0.1       localhost
127.0.0.1       localhost
127.0.1.1       <i>myhostname</i>.localdomain <i>myhostname</i>
</pre>
<p>对于有固定 IP 地址的系统，应该用固定 IP 地址替换 <code>127.0.1.1</code>。
</p>
<h3>
<span id=".E5.B1.80.E5.9F.9F.E7.BD.91.E4.B8.BB.E6.9C.BA.E5.90.8D.E8.A7.A3.E6.9E.90"></span><span class="mw-headline" id="局域网主机名解析">局域网主机名解析</span>
</h3>
<p>要想使用主机名在你的局域网上访问你的机器，你可以使用下列方法：
</p>
<ul>
<li>编辑你局域网上所有设备的 <code>/etc/hosts</code>，参见 <span class="plainlinks archwiki-template-man" title="$ man 5 hosts"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hosts.5">hosts(5)</a></span>
</li>
<li>设立一个 <a href="../en/Category:Domain_Name_System.html" class="mw-redirect" title="DNS server">DNS 服务器</a>来解析你的主机名，并让局域网中的设备都使用这个 DNS 服务器（比如，通过 <a href="#DHCP">#DHCP</a>）</li>
<li>或者最简单的方式：使用 <a href="https://en.wikipedia.org/wiki/Zero-configuration_networking" class="extiw" title="wikipedia:Zero-configuration networking">Zero-configuration networking</a> 服务：
<ul>
<li>通过微软的 <a href="https://en.wikipedia.org/wiki/NetBIOS#Name_service" class="extiw" title="wikipedia:NetBIOS">NetBIOS</a> 进行主机名解析。在 Linux 上由 <a href="../en/Samba.html" title="Samba">Samba</a> 提供。它只需要启用 <code>nmb.service</code> 模块。运行 Windows，macOS 或运行 <code>nmb</code> 的 Linux 的计算机都能够发现你的设备。</li>
<li>通过 <a href="https://en.wikipedia.org/wiki/Multicast_DNS" class="extiw" title="wikipedia:Multicast DNS">mDNS</a> 进行主机名解析。 由带有 <a href="../en/Avahi.html" title="Avahi">Avahi</a> 的 <code>nss_mdns</code>（阅读 <a href="../en/Avahi.html#Hostname_resolution" title="Avahi">Avahi#Hostname resolution</a> 获取详细配置）或 <a href="../en/Systemd-resolved.html" title="Systemd-resolved">systemd-resolved</a> 提供。 运行 macOS，或者带有 Avahi 的 Linux 或者运行 systemd-resolved 的 Linux 的计算机能够发现你的设备。老版本的 Win32 API 不支持 mDNS，一些老的 Windows 应用可能无法访问你的设备。</li>
</ul>
</li>
</ul>
<h2>
<span id=".E6.9B.B4.E5.A4.9A.E8.AE.BE.E7.BD.AE"></span><span class="mw-headline" id="更多设置">更多设置</span>
</h2>
<h3>
<span id=".E6.9B.B4.E6.94.B9.E6.8E.A5.E5.8F.A3.E5.90.8D.E7.A7.B0"></span><span class="mw-headline" id="更改接口名称">更改接口名称</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 当你改变接口命名规则时，不要忘记更新所有与网络相关的配置文件和自定义的 systemd 单元文件以反映更改。</div>
<p>你可以通过编辑 udev 规则来手动更改设备名称。例如：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-network.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="net", ACTION=="add", ATTR{address}=="aa:bb:cc:dd:ee:ff", NAME="net1"
SUBSYSTEM=="net", ACTION=="add", ATTR{address}=="ff:ee:dd:cc:bb:aa", NAME="net0"
</pre>
<p>这些规则将在启动时自动应用。
</p>
<p>值得注意的两点：
</p>
<ul><li>使用这条命令来获得每张网卡的 MAC 地址：</li></ul>
<p><code>cat /sys/class/net/<b>设备名</b>/address</code>
</p>
<ul><li>确保你的 udev 规则中使用小写的十六进制值，而不是大写。</li></ul>
<p>如果网卡的 MAC 地址是会动态变化的，你可以使用 <code>DEVPATH</code>，例如：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-network.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="net", DEVPATH=="/devices/platform/wemac.*", NAME="int"
SUBSYSTEM=="net", DEVPATH=="/devices/pci*/*1c.0/*/net/*", NAME="en"</pre>
<p>要得到所有当前已连接设备的 <code>DEVPATH</code>，请查看 <code>/sys/class/net/</code> 中符号链接指向的位置。例如：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">file /sys/class/net/*</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/sys/class/net/enp0s20f0u4u1: symbolic link to ../../devices/pci0000:00/0000:00:14.0/usb2/2-4/2-4.1/2-4.1:1.0/net/enp0s20f0u4u1
/sys/class/net/enp0s31f6:     symbolic link to ../../devices/pci0000:00/0000:00:1f.6/net/enp0s31f6
/sys/class/net/lo:            symbolic link to ../../devices/virtual/net/lo
/sys/class/net/wlp4s0:        symbolic link to ../../devices/pci0000:00/0000:00:1c.6/0000:04:00.0/net/wlp4s0
</pre>
<p>设备路径应与新设备名称和旧设备名称均匹配，因为该规则可能在启动时执行多次。例如，在第二条规则中若写 <code>"/devices/pci*/*1c.0/*/net/enp*"</code> 是错误的，因为一旦设备名称更改为 <code>en</code>，它将停止匹配。 只有系统默认规则会第二次触发，从而使设备名称改回例如 <code>enp1s0</code>。
</p>
<p>如果你正在使用具有动态 MAC 地址的 USB 网络设备（如 Android 手机网络共享），并且你希望能够使用不同的 USB 端口，你可以使用匹配供应商和产品 ID 的规则：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-network.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="net", ACTION=="add", ATTRS{idVendor}=="12ab", ATTRS{idProduct}=="3cd4", NAME="net2"</pre>
<p>要<a href="../zh-CN/Udev.html#%E5%8A%A0%E8%BD%BD%E5%89%8D%E6%B5%8B%E8%AF%95%E8%A7%84%E5%88%99" title="Udev (简体中文)">测试</a>自定义规则，可以直接从用户空间触发这些规则，例如使用 <code>udevadm --debug test /sys/class/net/*</code>。切记先关闭您要重命名的接口（例如，<code>ip link set enp1s0 down</code>）。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 选择静态名称时，<b>应该避免使用形如“eth<i>X</i>”或“wlan<i>X</i>”的名称</b>，因为这可能在引导时导致内核与 udev 之间的竞争状态。相反，最好用内核默认不会使用的接口名称，例如：<code>net0</code>、<code>net1</code>、<code>wifi0</code>、<code>wifi1</code>。更多细节请查看 <a rel="nofollow" class="external text" href="https://systemd.io/PREDICTABLE_INTERFACE_NAMES/">systemd</a> 文档。</div>
<h3>
<span id=".E6.94.B9.E5.9B.9E.E4.BC.A0.E7.BB.9F.E6.8E.A5.E5.8F.A3.E5.90.8D.E7.A7.B0"></span><span class="mw-headline" id="改回传统接口名称">改回传统接口名称</span>
</h3>
<p>如果希望使用像 eth0 这样的传统接口命名,可以通过下面方法禁用<a rel="nofollow" class="external text" href="https://systemd.io/PREDICTABLE_INTERFACE_NAMES/">可预测网络接口名</a>:
</p>
<pre># ln -s /dev/null /etc/udev/rules.d/80-net-setup-link.rules
</pre>
<h3>
<span id=".E8.AE.BE.E5.AE.9A.E8.AE.BE.E5.A4.87.E7.9A.84_MTU_.E5.92.8C.E9.98.9F.E5.88.97.E9.95.BF.E5.BA.A6"></span><span class="mw-headline" id="设定设备的_MTU_和队列长度">设定设备的 MTU 和队列长度</span>
</h3>
<p>你可以手动定义一条 udev 规则来改变设备的 <a href="https://en.wikipedia.org/wiki/zh:%E6%9C%80%E5%A4%A7%E4%BC%A0%E8%BE%93%E5%8D%95%E5%85%83" class="extiw" title="wikipedia:zh:最大传输单元">MTU</a> 和队列长度。举例来说：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-network.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ACTION=="add", SUBSYSTEM=="net", KERNEL=="wl*", ATTR{mtu}="1500", ATTR{tx_queue_len}="2000"</pre>
<p><code>mtu</code>：使用大于 1500 的值（所谓的<a href="https://en.wikipedia.org/wiki/zh:%E5%B7%A8%E5%9E%8B%E5%B8%A7" class="extiw" title="wikipedia:zh:巨型帧">巨型帧</a>）可以大大加快网络传输速度。请注意，所有网络接口（包括本地网络中的交换机）都必须支持相同的 MTU 才能使用巨型帧。对于 PPPoE，MTU 不应大于 1492。您还可以通过 <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.netdev"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.netdev.5">systemd.netdev(5)</a></span> 设置MTU。
</p>
<p><code>tx_queue_len</code>：对于具有高延迟的速度较慢的设备（如调制解调器链路和 ISDN），使用较小的值。对于通过高速 Internet 连接进行大型数据传输的服务器，建议使用较大的值。
</p>
<p><br>
</p>
<h3>
<span id=".E7.BB.91.E5.AE.9A.E5.92.8C.E9.93.BE.E8.B7.AF.E8.81.9A.E5.90.88"></span><span class="mw-headline" id="绑定和链路聚合">绑定和链路聚合</span>
</h3>
<p>参阅 <a href="../zh-CN/Netctl.html#%E7%BB%91%E5%AE%9A" title="Netctl (简体中文)">netctl</a> 或 <a href="../zh-CN/Systemd-networkd.html#%E7%BB%91%E5%AE%9A%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%88%B0%E6%A1%A5%E6%8E%A5%E7%AB%AF%E5%8F%A3" title="Systemd-networkd (简体中文)">systemd-networkd</a> 或 <a href="../zh-CN/Wireless_bonding.html" class="mw-redirect" title="无线网络绑定">无线网络绑定</a>。
</p>
<h3>
<span id="IP_.E5.88.AB.E5.90.8D"></span><span class="mw-headline" id="IP_别名">IP 别名</span>
</h3>
<p>IP 别名是指给同一个网络接口分配多个 IP 地址。这样一个网络节点可以有多个网络连接，每个实现不同的作用。典型的用处是 Web 服务器和 FTP 服务器的虚拟主机，或者是重组服务器时不需要更新其他任何机器上的 IP （对于名称服务器来说很有用）。
</p>
<h4>
<span id=".E4.BE.8B.E5.AD.90"></span><span class="mw-headline" id="例子">例子</span>
</h4>
<p>要手动设置别名，可以使用 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iproute2">iproute2</a></span> 执行：
</p>
<pre># ip addr add 192.168.2.101/24 dev eth0 label eth0:1
</pre>
<p>删除别名：
</p>
<pre># ip addr del 192.168.2.101/24 dev eth0:1
</pre>
<p>默认情况下，发往子网的数据包将使用主 IP。如果目标 IP 子别名，原始 IP 也会被相应设置。如果有多个网卡，可以通过  <code>ip route</code> 查看默认路由。
</p>
<h3>
<span id=".E6.B7.B7.E6.9D.82.E6.A8.A1.E5.BC.8F"></span><span class="mw-headline" id="混杂模式">混杂模式</span>
</h3>
<p>切换网卡到 <a href="https://en.wikipedia.org/wiki/zh:Promiscuous_mode" class="extiw" title="wikipedia:zh:Promiscuous mode">混杂模式</a> 可以让（无线）网卡接收所有数据然后转交给操作系统处理。而正常模式下，网卡会丢掉不是发给自己的数据。这通常用来检查网络问题或进行 <a href="https://en.wikipedia.org/wiki/zh:Packet_sniffing" class="extiw" title="wikipedia:zh:Packet sniffing">数据包嗅探</a>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/promiscuous@.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Set %i interface in promiscuous mode
After=network.target

[Service]
Type=oneshot
ExecStart=/usr/bin/ip link set dev %i promisc on
RemainAfterExit=yes

[Install]
WantedBy=multi-user.target
</pre>
<p>如果要在 <code>eth0</code> 上启用全接收模式，只需要<a href="../zh-CN/Systemd.html#%E4%BD%BF%E7%94%A8%E5%8D%95%E5%85%83" class="mw-redirect" title="启用">启用</a><code>promiscuous@eth0.service</code>.
</p>
<h3>
<span id=".E6.A3.80.E6.B5.8B.E5.A5.97.E6.8E.A5.E5.AD.97"></span><span class="mw-headline" id="检测套接字">检测套接字</span>
</h3>
<p><i>ss</i> 是用来检测网络端口的工具，是 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iproute2">iproute2</a></span> 软件包的一部分。它与<a rel="nofollow" class="external text" href="https://archlinux.org/news/deprecation-of-net-tools/">已弃用的</a> netstat 工具具有相似的功能。 
</p>
<p>一般的用途包括:
</p>
<p>显示所有 TCP 连接及相应的服务名：
</p>
<pre>$ ss -at
</pre>
<p>显示所有 TCP 连接及其端口号：
</p>
<pre>$ ss -atn
</pre>
<p>显示所有 UDP 连接：
</p>
<pre>$ ss -au
</pre>
<p>更多信息请参阅 <span class="plainlinks archwiki-template-man" title="$ man 8 ss"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ss.8">ss(8)</a></span>。
</p>
<p><br>
</p>
<h2>
<span id=".E7.96.91.E9.9A.BE.E8.A7.A3.E7.AD.94"></span><span class="mw-headline" id="疑难解答">疑难解答</span>
</h2>
<h3>
<span id="TCP.E7.AA.97.E5.8F.A3.E6.89.A9.E7.BC.A9.EF.BC.88window_scaling.EF.BC.89.E6.95.85.E9.9A.9C"></span><span class="mw-headline" id="TCP窗口扩缩（window_scaling）故障">TCP窗口扩缩（window scaling）故障</span>
</h3>
<p>TCP 包头有个“窗口”（window）值表明其它主机可以发送多少数据回来。这个值只有16个bit，也就是说窗口大小最多只有 64KiB。TCP包会被缓存一段时间（
它们要重新排序），如果内存有限（过去经常是）的话，主机会很容易用完内存。
</p>
<p>回到 1992 年，内存逐渐增加，<a rel="nofollow" class="external text" href="http://www.faqs.org/rfcs/rfc1323.html">RFC 1323</a> 被发布以改善情况：窗口扩缩(Window Scaling)。所有包里的窗口值，可以被初始连接时定义的一个缩放因子（Scale Factor）所改变。8bit 的缩放因子使得窗口可以是初始 64KiB 的 32 倍。
</p>
<p>但是 Internet 上有些有故障的路由器和防火墙会将缩放因子重写为 0，这导致主机之间产生误解。Linux内核 2.6.17 引入了新的计算方式生成更高的缩放因子，间接的使得这些有故障的路由器和防火墙引发的后果更明显。
</p>
<p>这导致连接缓慢甚至中断。
</p>
<h4>
<span id=".E5.A6.82.E4.BD.95.E8.AF.8A.E6.96.AD.E6.95.85.E9.9A.9C"></span><span class="mw-headline" id="如何诊断故障">如何诊断故障</span>
</h4>
<p>首先，我们要明白：这个问题很怪异。在某些案例中，你根本无法使用(HTTP, FTP, ...)，而有时候，你可以连接某些主机（很罕见）。
</p>
<p>当你碰到这个故障时，<code>dmesg</code> 的输出正确，日志也没问题，<code>ip addr</code> 报告状态正常……实际上一切看起来都很正常。
</p>
<p>如果你无法浏览任何网站，不过你能 ping 通某些主机，很可能你是遇到了这个问题：ping 使用 ICMP 协议所以不受 TCP 问题的影响。
</p>
<p>你可以尝试使用 <a href="../zh-CN/Wireshark.html" title="Wireshark (简体中文)">Wireshark</a>。你也许会看到 UDP 和 ICMP 通讯成功，但是 TCP 通讯不成功（仅对外部主机）。
</p>
<h4>
<span id=".E5.A6.82.E4.BD.95.E4.BF.AE.E5.A4.8D"></span><span class="mw-headline" id="如何修复">如何修复</span>
</h4>
<h5>
<span id=".E7.B3.9F.E7.B3.95.E7.9A.84.E6.96.B9.E6.B3.95"></span><span class="mw-headline" id="糟糕的方法">糟糕的方法</span>
</h5>
<p>用比较糟糕的方法修复的话，你可以修改缩放因子计算所基于的 <code>tcp_rmem</code> 值。虽然它对大部分主机有效，但并不担保一定都有效，特别是某些很远的主机。
</p>
<pre># echo "4096 87380 174760" &gt; /proc/sys/net/ipv4/tcp_rmem
</pre>
<h5>
<span id=".E5.A5.BD.E7.82.B9.E7.9A.84.E6.96.B9.E6.B3.95"></span><span class="mw-headline" id="好点的方法">好点的方法</span>
</h5>
<p>只需要禁止窗口缩放。虽然窗口缩放是个不错的TCP特性，但它也可能令人不安，特别是当你没法修改除了问题的路由器的时候。有几种方法可以禁止窗口缩放，而看来最可靠的（适用于大部分内核）是将下面一行加入到你的 <code>/etc/sysctl.d/99-disable_window_scaling.conf</code> 中 （参见 <a href="../en/Sysctl.html" title="Sysctl">sysctl</a>）：
</p>
<pre>net.ipv4.tcp_window_scaling = 0
</pre>
<h5>
<span id=".E6.9C.80.E4.BD.B3.E7.9A.84.E6.96.B9.E6.B3.95"></span><span class="mw-headline" id="最佳的方法">最佳的方法</span>
</h5>
<p>这个故障是由有毛病的路由器/防火墙引起的，所以最好换了它。有些用户报告说那些有故障的路由是他们自己的 DSL 路由。
</p>
<h4>
<span id=".E6.9B.B4.E5.A4.9A"></span><span class="mw-headline" id="更多">更多</span>
</h4>
<p>本段内容是基于 LWN文章 <a rel="nofollow" class="external text" href="http://lwn.net/Articles/92727/">TCP window scaling and broken routers</a> 和一篇 Kernel Trap 文章：<a rel="nofollow" class="external text" href="https://web.archive.org/web/20120426135627/http://kerneltrap.org:80/node/6723">Window Scaling on the Internet</a>。
</p>
<p>在 LKML 上也有几篇相关的帖子。
</p>
<h3>
<span id=".E8.BF.9E.E6.8E.A5.E7.AC.AC.E4.BA.8C.E5.8F.B0.E7.94.B5.E8.84.91.E5.90.8E.E6.97.A0.E6.B3.95.E8.BF.9B.E8.A1.8C.E6.A1.A5.E6.8E.A5"></span><span class="mw-headline" id="连接第二台电脑后无法进行桥接">连接第二台电脑后无法进行桥接</span>
</h3>
<p>第一台电脑有两个 LAN 口。第二台电脑有一个 LAN 口并连接到第一台电脑。让第二台电脑桥接网络接口并可以访问 LAN 口：
</p>
<pre># sysctl net.bridge.bridge-nf-filter-pppoe-tagged=0
# sysctl net.bridge.bridge-nf-filter-vlan-tagged=0
# sysctl net.bridge.bridge-nf-call-ip6tables=0
# sysctl net.bridge.bridge-nf-call-iptables=0
# sysctl net.bridge.bridge-nf-call-arptables=0
</pre>
<h2>
<span id=".E6.89.A9.E5.B1.95.E9.98.85.E8.AF.BB"></span><span class="mw-headline" id="扩展阅读">扩展阅读</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.tldp.org/LDP/nag2/index.html">Linux 网络管理员指南</a></li>
<li><a rel="nofollow" class="external text" href="https://www.debian.org/doc/manuals/debian-reference/ch05.en.html">Debian 参考手册：网络安装</a></li>
<li><a rel="nofollow" class="external text" href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/">RHEL7：网络指南</a></li>
<li><a rel="nofollow" class="external text" href="https://blog.packagecloud.io/eng/2016/06/22/monitoring-tuning-linux-networking-stack-receiving-data/">监视和调优 Linux 网络栈：接收数据</a></li>
<li><a rel="nofollow" class="external text" href="https://blog.packagecloud.io/eng/2017/02/06/monitoring-tuning-linux-networking-stack-sending-data/">监视和调优 Linux 网络栈：发送数据</a></li>
<li><a rel="nofollow" class="external text" href="http://blog.yadutaf.fr/2017/07/28/tracing-a-packet-journey-using-linux-tracepoints-perf-ebpf/">使用 Linux tracepoints、perf 和 eBPF 跟踪数据包</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../zh-CN/Category:Networking.html" title="Category:Networking (简体中文)">Networking (简体中文)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Network_configuration_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=656165">https://wiki.archlinux.org/index.php?title=Network_configuration_(简体中文)&amp;oldid=656165</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 26 March 2021, at 09:10.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
