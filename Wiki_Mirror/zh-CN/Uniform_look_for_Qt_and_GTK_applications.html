<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Uniform look for Qt and GTK applications (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Uniform_look_for_Qt_and_GTK_applications_简体中文 rootpage-Uniform_look_for_Qt_and_GTK_applications_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Uniform look for Qt and GTK applications (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><br>
</p>
<div class="archwiki-template-meta-related-articles-start">
<p>相关文章</p>
<ul>
<li><a href="../zh-CN/GTK.html" title="GTK (简体中文)">GTK</a></li>
<li><a href="../zh-CN/Qt.html" title="Qt (简体中文)">Qt</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="../en/Uniform_look_for_Qt_and_GTK_applications.html" title="Uniform look for Qt and GTK applications">Uniform look for Qt and GTK applications</a> 的<a href="../zh-CN/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2021年3月4日。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Uniform_look_for_Qt_and_GTK_applications&amp;diff=0&amp;oldid=651850">更改</a>，则您可以帮助同步翻译。</div>
<p>基于 <a href="../zh-CN/Qt.html" title="Qt (简体中文)">Qt</a> 和 <a href="../zh-CN/GTK.html" title="GTK (简体中文)">GTK</a> 的程序使用不同的工具包来渲染图形化用户界面，各自带有不同的主题、风格和图标，所以观感就明显有所不同。这篇文章将帮助你体验让你的 Qt 和 GTK 程序看起来更现代化、集成化的桌面。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%E4%BB%8B%E7%BB%8D"><span class="tocnumber">1</span> <span class="toctext">介绍</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Qt%E5%92%8CGTK%E7%9A%84%E6%A0%B7%E5%BC%8F"><span class="tocnumber">2</span> <span class="toctext">Qt和GTK的样式</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Breeze"><span class="tocnumber">2.1</span> <span class="toctext">Breeze</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Adwaita"><span class="tocnumber">2.2</span> <span class="toctext">Adwaita</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Kvantum"><span class="tocnumber">2.3</span> <span class="toctext">Kvantum</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6">
<a href="#%E4%B8%BB%E9%A2%98%E5%BC%95%E6%93%8E"><span class="tocnumber">3</span> <span class="toctext">主题引擎</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#QGtkStyle"><span class="tocnumber">3.1</span> <span class="toctext">QGtkStyle</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#QGnomePlatform"><span class="tocnumber">3.2</span> <span class="toctext">QGnomePlatform</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#Tips_and_tricks"><span class="tocnumber">4</span> <span class="toctext">Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#%E5%9C%A8Qt%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E4%BD%BF%E7%94%A8GTK%E5%9B%BE%E6%A0%87%E4%B8%BB%E9%A2%98"><span class="tocnumber">4.1</span> <span class="toctext">在Qt应用程序中使用GTK图标主题</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#%E6%B7%BB%E5%8A%A0%E6%A0%87%E9%A2%98%E6%A0%8F%E5%92%8C%E6%A1%86%E6%9E%B6%E5%88%B0KDE_Plasma%E4%B8%8B%E7%9A%84GTK3%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="tocnumber">4.2</span> <span class="toctext">添加标题栏和框架到KDE Plasma下的GTK3应用程序</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#%E5%9C%A8KDE_Plasma%E4%B8%8B%E6%94%B9%E5%96%84GTK%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%9A%84%E4%BA%9A%E5%83%8F%E7%B4%A0%E6%B8%B2%E6%9F%93"><span class="tocnumber">4.3</span> <span class="toctext">在KDE Plasma下改善GTK应用程序的亚像素渲染</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#%E4%B8%80%E8%87%B4%E7%9A%84%E6%96%87%E4%BB%B6%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="tocnumber">4.4</span> <span class="toctext">一致的文件对话框</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14">
<a href="#%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3"><span class="tocnumber">5</span> <span class="toctext">问题解决</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="#%E4%B8%BB%E9%A2%98%E4%B8%8D%E4%BD%9C%E7%94%A8%E4%BA%8EGTK%E7%A8%8B%E5%BA%8F"><span class="tocnumber">5.1</span> <span class="toctext">主题不作用于GTK程序</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#%E7%B3%BB%E7%BB%9F%E5%8D%87%E7%BA%A7%E5%90%8EGTK%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%8D%E4%BD%BF%E7%94%A8svg%EF%BC%88breeze%EF%BC%89%E5%9B%BE%E6%A0%87"><span class="tocnumber">5.2</span> <span class="toctext">系统升级后GTK应用程序不使用svg（breeze）图标</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Flatpak_Qt%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%8D%E4%BD%BF%E7%94%A8Gnome_Adwaita%E9%BB%91%E6%9A%97%E4%B8%BB%E9%A2%98"><span class="tocnumber">5.3</span> <span class="toctext">Flatpak Qt应用程序不使用Gnome Adwaita黑暗主题</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#%E5%8D%B3%E4%BD%BF%E5%9C%A8%E8%AE%BE%E7%BD%AEQt%E4%B8%BB%E9%A2%98%E5%90%8E%EF%BC%8C%E5%9C%A8GNOME_Wayland%E4%B8%8A%E8%BF%90%E8%A1%8C%E7%9A%84Qt%E5%BA%94%E7%94%A8%E4%B9%9F%E6%9C%89%E4%B8%8D%E5%8C%B9%E9%85%8D%E7%9A%84%E7%AA%97%E5%8F%A3%E8%A3%85%E9%A5%B0%E5%A4%96%E8%A7%82"><span class="tocnumber">5.4</span> <span class="toctext">即使在设置Qt主题后，在GNOME Wayland上运行的Qt应用也有不匹配的窗口装饰外观</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#GTK_%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%8D%E8%83%BD%E5%AE%8C%E5%85%A8%E4%BD%BF%E7%94%A8_KDE_%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE"><span class="tocnumber">5.5</span> <span class="toctext">GTK 应用程序不能完全使用 KDE 系统设置</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#%E5%AE%89%E8%A3%85kde-gtk-config%E5%90%8E%EF%BC%8C%E6%B2%A1%E6%9C%89%E2%80%9C%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE&gt;%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E6%A0%B7%E5%BC%8F&gt;_GTK%E2%80%9D%E8%8F%9C%E5%8D%95"><span class="tocnumber">5.6</span> <span class="toctext">安装kde-gtk-config后，没有“系统设置&gt;应用程序样式&gt; GTK”菜单</span></a></li>
</ul>
</li>
</ul>
</div>

<h2>
<span id=".E4.BB.8B.E7.BB.8D"></span><span class="mw-headline" id="介绍">介绍</span>
</h2>
<p>要想在不同的工具包之间获得相似的外观，你很可能需要修改以下内容：
</p>
<ul>
<li>
<b>主题</b> - 包含一套风格、图标主题和颜色主题。</li>
<li>
<b>风格</b> - 图形布置，观感。</li>
<li>
<b>图标主题</b> - 一套整体的图标。</li>
<li>
<b>颜色主题</b> - 一套连接风格的整体配色。</li>
</ul>
<p>你可以有多种选择：
</p>
<ul>
<li>使用下面列出的每个工具箱中的工具分别修改 <a href="#Qt%E5%92%8CGTK%E7%9A%84%E6%A0%B7%E5%BC%8F">Qt 和 GTK 的样式</a>，以选择外观相似的主题（样式，颜色，图标，光标，字体）。</li>
<li>使用特殊的<a href="#%E4%B8%BB%E9%A2%98%E5%BC%95%E6%93%8E">主题引擎</a>，该引擎将对其他图形工具箱的修改作为中介，以匹配您的主要工具箱。</li>
</ul>
<h2>
<span id="Qt.E5.92.8CGTK.E7.9A.84.E6.A0.B7.E5.BC.8F"></span><span class="mw-headline" id="Qt和GTK的样式">Qt和GTK的样式</span>
</h2>
<p>There are widget style sets available for the purpose of integration, where builds are written and provided for both Qt and GTK, all major versions included. With these, you can have one look for all applications regardless of the toolkit they had been written with.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> 你可能希望将用户定义的样式应用于root用户的应用, 参考<a href="../en/GTK.html#Theme_not_applied_to_root_applications" title="GTK">GTK#Theme not applied to root applications</a> and <a href="../en/Qt.html#Theme_not_applied_to_root_applications" title="Qt">Qt#Theme not applied to root applications</a>.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 从3.16版本开始, GTK 3 <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1518404#p1518404">不再支持</a> non-CSS 主题, 
因此，以前的解决方案（例如Oxygen-Gtk）不再是可行的选择，参考<a rel="nofollow" class="external autonumber" href="https://bugs.kde.org/show_bug.cgi?id=340288">[1]</a>。</div>
<h3><span class="mw-headline" id="Breeze">Breeze</span></h3>
<p>Breeze是KDE Plasma的默认Qt样式。它可以与Qt5的<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=breeze">breeze</a></span>，Qt4的<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/breeze-kde4/">breeze-kde4</a></span><sup><small>AUR</small></sup>以及GTK 2和GTK 3的<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=breeze-gtk">breeze-gtk</a></span>软件包一起安装。
</p>
<p>安装后，您可以挑选<a href="../en/GTK.html#Configuration_tools" title="GTK">GTK配置工具</a>更改GTK主题。
</p>
<p>如果当前运行的是KDE Plasma，请安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kde-gtk-config">kde-gtk-config</a></span>并从命令行运行它，或转到“系统设置&gt;应用程序样式&gt;GNOME应用程序样式（GTK）”进行GTK程序的样式配置。在GTK样式配置模块之外的“系统设置”中设置的字体，图标主题，光标和小部件样式将仅影响Qt。应该使用前面提到的模块手动设置GTK设置。
</p>
<h3><span class="mw-headline" id="Adwaita">Adwaita</span></h3>
<p>Adwaita是默认的GNOME主题。GTK 3版本包含在<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gtk3">gtk3</a></span>软件包中，而GTK 2版本包含在<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-themes-extra">gnome-themes-extra</a></span>中。 <a rel="nofollow" class="external text" href="https://github.com/MartinBriza/adwaita-qt">adwaita-qt</a>是Adwaita主题的Qt接口。与模仿GTK 2主题的<a href="#QGtkStyle">#QGtkStyle</a>不同，它提供了本机Qt样式，使其看起来像GTK 3 Adwaita。可以分别安装Qt 4 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/adwaita-qt4/">adwaita-qt4</a></span><sup><small>AUR</small></sup>和Qt5<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/adwaita-qt/">adwaita-qt</a></span><sup><small>AUR</small></sup>版本的软件包。
</p>
<p>要将Qt样式设置为默认值：
</p>
<ul><li>对于Qt4，可以使用<i>Qt配置</i>(<code>qtconfig-qt4</code>)启用它，在<i>外观&gt;GUI样式</i>中选择<i>adwaita</i>。或者，编辑<code>/etc/xdg/Trolltech.conf</code>（系统范围）或<code>~/.config/Trolltech.conf</code>（用户特定）文件：</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/Trolltech.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
[Qt]
style=adwaita
...</pre>
<ul><li>对于Qt 5，可以通过启用以下环境变量：<code>QT_STYLE_OVERRIDE=adwaita</code>。或者，使用<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=qt5ct">qt5ct</a></span>软件包。更多详细说明，参考<a href="../en/Qt.html#Configuration_of_Qt5_apps_under_environments_other_than_KDE_Plasma" title="Qt">Qt#Configuration of Qt5 apps under environments other than KDE Plasma</a>。</li></ul>
<h3><span class="mw-headline" id="Kvantum">Kvantum</span></h3>
<p>Kvantum(<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kvantum-qt5">kvantum-qt5</a></span>)是用于Qt5的可定制的基于SVG的主题引擎，具有多种内置样式，包括一些流行的GTK主题的版本，例如Adapta，Arc，Ambiance和Materia。
</p>
<h2>
<span id=".E4.B8.BB.E9.A2.98.E5.BC.95.E6.93.8E"></span><span class="mw-headline" id="主题引擎">主题引擎</span>
</h2>
<p>主题引擎可以认为是从一个或多个工具翻译主题（图标除外）很小的API层。这些引擎为进程添加额外的代码，这种解决方案不是非常精致更多为本来风格优化。
</p>
<h3><span class="mw-headline" id="QGtkStyle">QGtkStyle</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> QGtkStyle已从<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=qt5-base">qt5-base</a></span>中删除 5.7.0 <a rel="nofollow" class="external autonumber" href="https://github.com/qtproject/qtbase/commit/899a815414e95da8d9429a4a4f4d7094e49cfc55">[2]</a>现已添加到<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/qt5-styleplugins/">qt5-styleplugins</a></span><sup><small>AUR</small></sup>中<a rel="nofollow" class="external autonumber" href="https://github.com/qtproject/qtstyleplugins/commit/102da7d50231fc5723dba6e72340bef3d29471aa">[3]</a>。</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> 根据GTK 2主题，此样式可能会导致呈现问题，例如透明字体或小部件不一致。</div>
<p>此Qt样式使用GTK 2渲染所有组件以便于与<a href="../en/GNOME.html" title="GNOME">GNOME</a>和类似基于GTK的环境相协调。从Qt 4.5开始，此样式包含在Qt中。它要求安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gtk2">gtk2</a></span>并进行配置。
</p>
<p>这是Cinnamon，GNOME和Xfce中的默认Qt4样式，也是Cinnamon，GNOME，MATE，LXDE和Xfce中的默认Qt5样式。在其他环境中：
</p>
<ul>
<li>For Qt4, it can be enabled with <i>Qt Configuration</i> (<code>qtconfig-qt4</code>), choose <i>GTK</i> under <i>Appearance &gt; GUI Style</i>. Alternatively, edit the <code>/etc/xdg/Trolltech.conf</code> (system-wide) or <code>~/.config/Trolltech.conf</code> (user-specific) file:</li>
<li>对于Qt4，可以使用<i>Qt配置</i>(<code>qtconfig-qt4</code>)启用它，在<i>外观&gt;GUI样式</i> 下选择<i>GTK</i>。或者，编辑 <code>/etc/xdg/Trolltech.conf</code>（系统范围）或<code>~/.config/Trolltech.conf</code>（用户特定）文件：</li>
</ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/Trolltech.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
[Qt]
style=GTK+
...</pre>
<ul><li>对于Qt 5，可以通过安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/qt5-styleplugins/">qt5-styleplugins</a></span><sup><small>AUR</small></sup>并设置以下环境变量来启用它：<code>QT_QPA_PLATFORMTHEME=gtk2</code>
</li></ul>
<p>为了完全统一，请确保配置的<a href="../en/GTK.html#Themes" title="GTK">GTK主题</a>同时支持GTK 2和GTK3。如果将Qt配置为使用GTK2后导致首选主题渲染不一致，请安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gtk-theme-switch2/">gtk-theme-switch2</a></span><sup><small>AUR</small></sup>，然后选择一个主题。
</p>
<h3><span class="mw-headline" id="QGnomePlatform">QGnomePlatform</span></h3>
<p>Qt 5 平台主题适用于 Qt 应用程序的 GNOME 外观设置。它可以与 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/qgnomeplatform/">qgnomeplatform</a></span><sup><small>AUR</small></sup> 软件包一起安装，也可以与开发版本的 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/qgnomeplatform-git/">qgnomeplatform-git</a></span><sup><small>AUR</small></sup> 软件包一起安装。它本身不提供 Qt 样式，而是需要<a href="#Qt%E5%92%8CGTK%E7%9A%84%E6%A0%B7%E5%BC%8F">同时支持 Qt 和 GTK 样式</a>。
从 3.20 版开始，此平台主题已在 GNOME 中自动启用。对于其他系统，可以通过设置以下<a href="../zh-CN/Environment_variables.html#%E5%9B%BE%E5%BD%A2%E7%A8%8B%E5%BA%8F" title="Environment variables (简体中文)">环境变量</a>来启用它：<code>QT_QPA_PLATFORMTHEME=qgnomeplatform</code>.。
</p>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3>
<span id=".E5.9C.A8Qt.E5.BA.94.E7.94.A8.E7.A8.8B.E5.BA.8F.E4.B8.AD.E4.BD.BF.E7.94.A8GTK.E5.9B.BE.E6.A0.87.E4.B8.BB.E9.A2.98"></span><span class="mw-headline" id="在Qt应用程序中使用GTK图标主题">在Qt应用程序中使用GTK图标主题</span>
</h3>
<p>如果您正在运行Plasma，请安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kde-gtk-config">kde-gtk-config</a></span>，然后在<i>系统设置 &gt; 应用程序风格 &gt; 应用样式 &gt; 配置GNOME/GTK应用样式</i>下选择图标主题。
</p>
<p>如果您使用的是<a href="../en/GNOME.html" title="GNOME">GNOME</a>，请首先检查是否安装了<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dconf-editor">dconf-editor</a></span>。
</p>
<p>然后，运行<code>dconf-editor</code>，然后在<i>组织 &gt; gnome &gt; 桌面 &gt; 界面</i> 下查找<code>icon-theme</code>键，并将其更改为您的首选图标主题。
</p>
<p>如果您使用的不是<a href="../en/GNOME.html" title="GNOME">GNOME</a>，例如，如果您使用的是<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=i3-wm">i3-wm</a></span>，请首先安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dconf-editor">dconf-editor</a></span>。
</p>
<p>然后，运行<code>dconf-editor</code>，然后在<i> 组织 &gt; gnome &gt; 桌面 &gt; 界面</i>下查找<code>icon-theme</code>键，并将其更改为您的图标主题。
</p>
<p>由于您使用的不是<a href="../en/GNOME.html" title="GNOME">GNOME</a>，因此可能需要在个人的配置文件中设置<code>DESKTOP_SESSION</code>的值。 为此，请在终端中执行以下代码，然后重新启动系统。
</p>
<pre>$ echo 'export DESKTOP_SESSION=gnome' &gt;&gt; /etc/profile
</pre>
<p><b>或者</b>
</p>
<p>将<code>export DESKTOP_SESSION=gnome</code>设置在<code>~/.xinitrc</code>中的某个位置，或者在<a href="../en/Xprofile.html" title="Xprofile">Xprofile</a>中使用一个<a href="../en/Display_manager.html" title="Display manager">Display manager</a>。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  如果未应用图标主题，则可能要检查您输入的首选主题名称是否格式正确。例如，如果要将当前活动的图标主题应用于QT应用程序，则可以使用以下命令找到其名称的正确格式：
<pre>$ awk -F= '/icon-theme/ {print $2}' ~/.gtkrc-2.0</pre>
</div>
<h3>
<span id=".E6.B7.BB.E5.8A.A0.E6.A0.87.E9.A2.98.E6.A0.8F.E5.92.8C.E6.A1.86.E6.9E.B6.E5.88.B0KDE_Plasma.E4.B8.8B.E7.9A.84GTK3.E5.BA.94.E7.94.A8.E7.A8.8B.E5.BA.8F"></span><span class="mw-headline" id="添加标题栏和框架到KDE_Plasma下的GTK3应用程序">添加标题栏和框架到KDE Plasma下的GTK3应用程序</span>
</h3>
<p>要使Gnome/GTK应用程序显示KDE/Plasma的标题栏和框架，请安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gtk3-nocsd-git/">gtk3-nocsd-git</a></span><sup><small>AUR</small></sup>并重新启动窗口管理器以加载更新的库路径。
</p>
<p>您还可以使用它运行Gtk应用程序：
</p>
<pre>$ gtk3-nocsd gedit
</pre>
<h3>
<span id=".E5.9C.A8KDE_Plasma.E4.B8.8B.E6.94.B9.E5.96.84GTK.E5.BA.94.E7.94.A8.E7.A8.8B.E5.BA.8F.E7.9A.84.E4.BA.9A.E5.83.8F.E7.B4.A0.E6.B8.B2.E6.9F.93"></span><span class="mw-headline" id="在KDE_Plasma下改善GTK应用程序的亚像素渲染">在KDE Plasma下改善GTK应用程序的亚像素渲染</span>
</h3>
<p>See <a href="../en/Font_configuration.html#LCD_filter" title="Font configuration">Font configuration#LCD filter</a>.
</p>
<h3>
<span id=".E4.B8.80.E8.87.B4.E7.9A.84.E6.96.87.E4.BB.B6.E5.AF.B9.E8.AF.9D.E6.A1.86"></span><span class="mw-headline" id="一致的文件对话框">一致的文件对话框</span>
</h3>
<p>为了具有相同的文件对话框，可以使用XDG Portal。
</p>
<p><a href="../zh-CN/Help:Reading.html#%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8C%85" class="mw-redirect" title="安装">安装</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xdg-desktop-portal">xdg-desktop-portal</a></span>和<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xdg-desktop-portal-kde">xdg-desktop-portal-kde</a></span>，并在环境变量<a href="../en/Environment_variables.html" class="mw-redirect" title="Environment variable">environment variable</a>中设置<code>GTK_USE_PORTAL=1</code>。
</p>
<h2>
<span id=".E9.97.AE.E9.A2.98.E8.A7.A3.E5.86.B3"></span><span class="mw-headline" id="问题解决">问题解决</span>
</h2>
<h3>
<span id=".E4.B8.BB.E9.A2.98.E4.B8.8D.E4.BD.9C.E7.94.A8.E4.BA.8EGTK.E7.A8.8B.E5.BA.8F"></span><span class="mw-headline" id="主题不作用于GTK程序">主题不作用于GTK程序</span>
</h3>
<p>如果你安装的风格或主题引擎在某些GTK程序不能显示，很可能你的GTK设置文件因某些原因不能被加载。你可以检查你的系统找到那些文件作如下设置：
</p>
<pre>export | grep gtk
</pre>
<p>通常那些文件设置在 ~/.gtkrc （GTK1）, ~/.gtkrc2.0 或 ~/.gtkrc2.0-kde （GTK2）
</p>
<p>新版gtk-qt-engine 使用 ~/.gtkrc2.0-kde 和  ~/.kde/env/gtk-qt-engine.rc.sh 设置输出变量
如果你最近移除了gtk-qt-engine然后试图设置GTK主题，你必有要移除 ~/.kde/env/gtk-qt-engine.rc.sh 然后重启。这样做会使GTK外观使用标准的设置 ~/.gtkrc2.0来代替 ~/.gtkrc2.0-kde
</p>
<h3>
<span id=".E7.B3.BB.E7.BB.9F.E5.8D.87.E7.BA.A7.E5.90.8EGTK.E5.BA.94.E7.94.A8.E7.A8.8B.E5.BA.8F.E4.B8.8D.E4.BD.BF.E7.94.A8svg.EF.BC.88breeze.EF.BC.89.E5.9B.BE.E6.A0.87"></span><span class="mw-headline" id="系统升级后GTK应用程序不使用svg（breeze）图标">系统升级后GTK应用程序不使用svg（breeze）图标</span>
</h3>
<p>尝试运行下面命令来解决问题：
</p>
<pre># gdk-pixbuf-query-loaders --update-cache
</pre>
<h3>
<span id="Flatpak_Qt.E5.BA.94.E7.94.A8.E7.A8.8B.E5.BA.8F.E4.B8.8D.E4.BD.BF.E7.94.A8Gnome_Adwaita.E9.BB.91.E6.9A.97.E4.B8.BB.E9.A2.98"></span><span class="mw-headline" id="Flatpak_Qt应用程序不使用Gnome_Adwaita黑暗主题">Flatpak Qt应用程序不使用Gnome Adwaita黑暗主题</span>
</h3>
<p>如果将主题切换为Adwaita-dark后，Flatpak Qt应用程序仍使用精简版，请安装所需的KStyle：
</p>
<pre># flatpak install flathub org.kde.KStyle.Adwaita
</pre>
<h3>
<span id=".E5.8D.B3.E4.BD.BF.E5.9C.A8.E8.AE.BE.E7.BD.AEQt.E4.B8.BB.E9.A2.98.E5.90.8E.EF.BC.8C.E5.9C.A8GNOME_Wayland.E4.B8.8A.E8.BF.90.E8.A1.8C.E7.9A.84Qt.E5.BA.94.E7.94.A8.E4.B9.9F.E6.9C.89.E4.B8.8D.E5.8C.B9.E9.85.8D.E7.9A.84.E7.AA.97.E5.8F.A3.E8.A3.85.E9.A5.B0.E5.A4.96.E8.A7.82"></span><span class="mw-headline" id="即使在设置Qt主题后，在GNOME_Wayland上运行的Qt应用也有不匹配的窗口装饰外观">即使在设置Qt主题后，在GNOME Wayland上运行的Qt应用也有不匹配的窗口装饰外观</span>
</h3>
<p>为了有一个匹配的窗口装饰外观，您必须安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/qgnomeplatform/">qgnomeplatform</a></span><sup><small>AUR</small></sup>，并设置以下环境变量<a href="../en/Environment_variables.html#Graphical_environment" title="Environment variables">environment variable</a>:<code>QT_QPA_PLATFORMTHEME='gnome'</code>。
</p>
<h3>
<span id="GTK_.E5.BA.94.E7.94.A8.E7.A8.8B.E5.BA.8F.E4.B8.8D.E8.83.BD.E5.AE.8C.E5.85.A8.E4.BD.BF.E7.94.A8_KDE_.E7.B3.BB.E7.BB.9F.E8.AE.BE.E7.BD.AE"></span><span class="mw-headline" id="GTK_应用程序不能完全使用_KDE_系统设置">GTK 应用程序不能完全使用 KDE 系统设置</span>
</h3>
<p>为了进一步整合 GTK 应用程序上的 <a href="../zh-CN/KDE.html" class="mw-redirect" title="Plasma (简体中文)">Plasma</a> 设置，可能需要<a href="../zh-CN/Help:Reading.html#%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8C%85" class="mw-redirect" title="安装">安装</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-settings-daemon">gnome-settings-daemon</a></span>、<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gsettings-desktop-schemas">gsettings-desktop-schemas</a></span> 和 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gsettings-qt">gsettings-qt</a></span>，这将为 GTK 提供适当的 Qt 绑定。
</p>
<h3>
<span id=".E5.AE.89.E8.A3.85kde-gtk-config.E5.90.8E.EF.BC.8C.E6.B2.A1.E6.9C.89.E2.80.9C.E7.B3.BB.E7.BB.9F.E8.AE.BE.E7.BD.AE.3E.E5.BA.94.E7.94.A8.E7.A8.8B.E5.BA.8F.E6.A0.B7.E5.BC.8F.3E_GTK.E2.80.9D.E8.8F.9C.E5.8D.95"></span><span class="mw-headline" id="安装kde-gtk-config后，没有“系统设置&gt;应用程序样式&gt;_GTK”菜单">安装kde-gtk-config后，没有“系统设置&gt;应用程序样式&gt; GTK”菜单</span>
</h3>
<p>使用<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kde-gtk-config">kde-gtk-config</a></span>时，可以选择<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lxappearance">lxappearance</a></span>之类的<a href="../en/GTK.html#Configuration_tools" title="GTK">GTK configuration tools</a>来配置GTK 2和GTK 3样式。
</p>
<p>即使它来自LXDE项目，它也是与桌面无关的（它不需要LXDE桌面的其他部分）
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../zh-CN/Category:Widget_toolkits.html" title="Category:Widget toolkits (简体中文)">Widget toolkits (简体中文)</a></li>
<li><a href="../zh-CN/Category:Eye_candy.html" title="Category:Eye candy (简体中文)">Eye candy (简体中文)</a></li>
</ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Uniform_look_for_Qt_and_GTK_applications_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=653981">https://wiki.archlinux.org/index.php?title=Uniform_look_for_Qt_and_GTK_applications_(简体中文)&amp;oldid=653981</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 4 March 2021, at 16:17.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
