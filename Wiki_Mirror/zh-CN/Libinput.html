<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>libinput (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Libinput_简体中文 rootpage-Libinput_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">libinput (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><span></span>
</p>
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/Xorg.html" title="Xorg">Xorg</a></li>
<li><a href="../en/Touchpad_Synaptics.html" title="Touchpad Synaptics">Touchpad Synaptics</a></li>
<li><a href="../en/Wayland.html" title="Wayland">Wayland</a></li>
</ul>
</div>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a><b>本文或本节需要<a href="../zh-CN/ArchWiki:Contributing.html#%E7%BF%BB%E8%AF%91" title="ArchWiki:Contributing (简体中文)">翻译</a>。要贡献翻译，请访问<a href="../zh-CN/ArchWiki:Translation_Team.html" class="mw-redirect" title="ArchWiki Translation Team (简体中文)">简体中文翻译团队</a>。</b><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>附注：</b> <span style="color:red;">请使用模板的第一个参数进行更详细的指示。</span>（在 <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Libinput_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Talk:Libinput (简体中文)#</a> 中讨论）</div>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="../en/Libinput.html" title="Libinput">Libinput</a> 的<a href="../zh-CN/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2019-03-07。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Libinput&amp;diff=0&amp;oldid=553763">更改</a>，则您可以帮助同步翻译。</div>
<p>来自<a rel="nofollow" class="external text" href="https://freedesktop.org/wiki/Software/libinput/">libinput</a> wiki 项目
</p>
<dl><dd>libinput 是一个函数库，在 Wayland 上用来接收设备的输入，在 X.Org 上提供输入设备的驱动。它提供对设备事件的检测和接收。对输入设备信号进行处理。它提供了一些列的函数供用户使用。</dd></dl>
<p>需要注意的是， X.Org 输入驱动为大多数常规<a href="../en/Xorg.html#Input_devices" title="Xorg">输入设备</a>提供了支持，libinput 项目的目标是为触摸板和触摸屏的触摸功能（如多点触控、手势等）提供高级支持。详情请参见 <a rel="nofollow" class="external text" href="https://wayland.freedesktop.org/libinput/doc/latest/">libinput 文档</a>。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%E5%AE%89%E8%A3%85"><span class="tocnumber">1</span> <span class="toctext">安装</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#%E9%85%8D%E7%BD%AE"><span class="tocnumber">2</span> <span class="toctext">配置</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#%E4%BD%BF%E7%94%A8_xinput"><span class="tocnumber">2.1</span> <span class="toctext">使用 xinput</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#%E4%BD%BF%E7%94%A8_Xorg_%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="tocnumber">2.2</span> <span class="toctext">使用 Xorg 配置文件</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#%E5%9B%BE%E5%BD%A2%E5%B7%A5%E5%85%B7"><span class="tocnumber">2.3</span> <span class="toctext">图形工具</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6">
<a href="#Tips_and_tricks"><span class="tocnumber">3</span> <span class="toctext">Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#%E6%8C%89%E9%94%AE%E6%98%A0%E5%B0%84"><span class="tocnumber">3.1</span> <span class="toctext">按键映射</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#%E8%AE%BE%E7%BD%AE%E6%8C%89%E9%94%AE%E6%98%A0%E5%B0%84"><span class="tocnumber">3.2</span> <span class="toctext">设置按键映射</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#%E6%9B%B4%E6%94%B9%E8%A7%A6%E6%91%B8%E6%9D%BF%E7%81%B5%E6%95%8F%E5%BA%A6"><span class="tocnumber">3.3</span> <span class="toctext">更改触摸板灵敏度</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#%E7%A6%81%E7%94%A8%E8%A7%A6%E6%91%B8%E6%9D%BF"><span class="tocnumber">3.4</span> <span class="toctext">禁用触摸板</span></a></li>
<li class="toclevel-2 tocsection-11">
<a href="#%E6%89%8B%E5%8A%BF%E6%93%8D%E4%BD%9C"><span class="tocnumber">3.5</span> <span class="toctext">手势操作</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#libinput-gestures"><span class="tocnumber">3.5.1</span> <span class="toctext">libinput-gestures</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#fusuma"><span class="tocnumber">3.5.2</span> <span class="toctext">fusuma</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#GnomeExtendedGestures"><span class="tocnumber">3.5.3</span> <span class="toctext">GnomeExtendedGestures</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-15">
<a href="#%E7%96%91%E9%9A%BE%E8%A7%A3%E7%AD%94"><span class="tocnumber">4</span> <span class="toctext">疑难解答</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#%E8%A7%A6%E6%91%B8%E6%9D%BF%E5%9C%A8_GNOME_%E4%B8%AD%E6%97%A0%E6%B3%95%E5%B7%A5%E4%BD%9C"><span class="tocnumber">4.1</span> <span class="toctext">触摸板在 GNOME 中无法工作</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#KDE's_Touchpad_KCM_%E5%AF%B9%E8%A7%A6%E6%91%B8%E6%9D%BF%E8%AE%BE%E7%BD%AE%E4%B8%8D%E8%B5%B7%E4%BD%9C%E7%94%A8"><span class="tocnumber">4.2</span> <span class="toctext">KDE's Touchpad KCM 对触摸板设置不起作用</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#%E8%A7%A6%E6%91%B8%E6%9D%BF%E6%B2%A1%E6%9C%89%E8%A2%AB%E6%A3%80%E6%B5%8B%E5%88%B0"><span class="tocnumber">4.3</span> <span class="toctext">触摸板没有被检测到</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#%E5%8F%82%E9%98%85"><span class="tocnumber">5</span> <span class="toctext">参阅</span></a></li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="安装">安装</span>
</h2>
<p>在 Wayland 上使用 libinput 一般不需要手动安装。<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libinput">libinput</a></span> 包是所有 Wayland 图形环境的依赖包并且已经安装，也不需要额外的驱动。
</p>
<p>如果想要在 <a href="../en/Xorg.html" title="Xorg">Xorg</a> 上使用 libinput，需要<a href="../zh-CN/Help:Reading.html#%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8C%85" class="mw-redirect" title="安装">安装</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-libinput">xf86-input-libinput</a></span> 包。这是 libinput 的一个包装（wrapper），能够使 libinput 用于 X 上的输入设备。同时此驱动可以作为 evdev 和 synaptics 的替代品 <a rel="nofollow" class="external autonumber" href="https://freedesktop.org/wiki/Software/libinput/">[1]</a>。也就是说，其他用于 X 输入的软件包（即以 <code>xf86-input-</code> 为前缀的软件包）都可以使用这个驱动替换
</p>
<p>你可能还要安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xinput">xorg-xinput</a></span> 以便在程序运行时更改设置。
</p>
<h2>
<span id=".E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="配置">配置</span>
</h2>
<p>在 <a href="../en/Wayland.html" title="Wayland">Wayland</a> 上, 没有关于 libinput 的配置文件。 可配置内容由你使用的桌面环境对 libinput 的支持情况决定。详情请见 <a href="#%E5%9B%BE%E5%BD%A2%E5%B7%A5%E5%85%B7">#图形工具</a> 部分。
</p>
<p>对于 <a href="../en/Xorg.html" title="Xorg">Xorg</a>, 默认的配置文件安装在 <code>/usr/share/X11/xorg.conf.d/40-libinput.conf</code>。一般没有必要使用额外的配置文件来检测键盘，触摸板，指点杆（小红点）和触摸屏。
</p>
<h3>
<span id=".E4.BD.BF.E7.94.A8_xinput"></span><span class="mw-headline" id="使用_xinput">使用 xinput</span>
</h3>
<p>首先，执行:
</p>
<pre># libinput list-devices
</pre>
<p>这将会输出系统中的设备和它们被 libinput 支持的具体特性。
</p>
<p>重启图形环境之后，如果没有其它驱动程序被配置为优先，设备应由具有默认配置的 libinput 管理。
</p>
<p>参见 <span class="plainlinks archwiki-template-man" title="$ man 4 libinput"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/libinput.4">libinput(4)</a></span> 了解可设定的常规选项和一些参数信息。<i>xinput</i> 工具用于查看或更改运行中的特定设备的设置。例如：
</p>
<p>查看所有设备并确定其名称和编号：
</p>
<pre>$ xinput list
</pre>
<p>查看 <i>device</i> 的设置
（在下文中，<code><i>device</i></code> 表示要操作的设备的名称或编号）：
</p>
<pre>$ xinput list-props <i>device</i>
</pre>
<p>修改 <i>device</i> 的某项设置：
</p>
<pre>$ xinput set-prop <i>device</i> <i>option</i> <i>setting</i>
</pre>
<p>上文中 <code><i>optioin</i></code> 既可以是设置项的名称，也可以是其对应编号。
例如，修改“libinput Click Method Enabled (303)”项目的两个值，可以使用以下命令：
</p>
<pre>$ xinput set-prop 14 303 {1 1}
</pre>
<p>或者
</p>
<pre>$ xinput set-prop 14 "libinput Click Method Enabled" 1 1
</pre>
<h3>
<span id=".E4.BD.BF.E7.94.A8_Xorg_.E9.85.8D.E7.BD.AE.E6.96.87.E4.BB.B6"></span><span class="mw-headline" id="使用_Xorg_配置文件">使用 Xorg 配置文件</span>
</h3>
<p>参见 <a href="../en/Xorg.html#Using_.conf_files" title="Xorg">Xorg#Using .conf files</a> 了解永久的选项设置。<a href="../en/Logitech_Marble_Mouse.html#libinput" title="Logitech Marble Mouse">Logitech Marble Mouse#libinput</a> 和 <a href="#%E6%8C%89%E9%94%AE%E6%98%A0%E5%B0%84">#按键映射</a> 中列举了几个例子。
</p>
<p><a href="../en/Xorg.html#Input_devices" title="Xorg">Xorg#Input devices</a> 的替代驱动程序通常可以同时安装。如果您打算将一个设备的驱动程序切换到 libinput，请确保没有在 <code>/etc/X11/xorg.conf.d/</code> 的配置文件中为其它驱动程序配置优先。
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> 如果你同时安装了 libinput 和 synaptics 并使用其默认配置（即 <code>/etc/X11/xorg.conf.d/</code> 中没有属于两者中任一的文件），synaptics 将因其在默认安装目录中拥有更高的数字顺序 <code>70-</code> 而获得较高优先级。为了避免这种情况，您可以将默认的 libinput 配置文件（<code>40-libinput.conf</code>）符号链接到目录搜索顺序优先于 <code>70-synaptics.conf</code> 的 <code>/etc/X11/xorg.conf.d/</code> 中去取代它：
<pre># ln -s /usr/share/X11/xorg.conf.d/40-libinput.conf /etc/X11/xorg.conf.d/40-libinput.conf
</pre>
如果在 <code>/etc/X11/xorg.conf.d/</code> 目录下这两个配置文件***同时存在***，libinput 的配置一定是处于较低优先级的；参见 <a href="../en/Xorg.html#Using_.conf_files" title="Xorg">Xorg#Using .conf files</a>。如果要禁用 libinput（并回退到较旧的驱动程序）， 只需从 <code>/etc/X11/xorg.conf.d/</code> 中删除之前创建的符号链接即可。</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> 如果配置文件不起作用，请检查非特权用户是否拥有该文件读取权限</div>
<p>检查哪些设备是由 libinput 管理的一种方法是查看 <a href="../en/Xorg.html#General" title="Xorg">xorg 日志文件</a>。以下是一个例子：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ grep -e "Using input driver 'libinput'" <i>/path/to/Xorg.0.log</i></pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[    28.799] (II) Using input driver 'libinput' for 'Power Button'
[    28.847] (II) Using input driver 'libinput' for 'Video Bus'
[    28.853] (II) Using input driver 'libinput' for 'Power Button'
[    28.860] (II) Using input driver 'libinput' for 'Sleep Button'
[    28.872] (II) Using input driver 'libinput' for 'AT Translated Set 2 keyboard'
[    28.878] (II) Using input driver 'libinput' for 'SynPS/2 Synaptics TouchPad'
[    28.886] (II) Using input driver 'libinput' for 'TPPS/2 IBM TrackPoint'
[    28.895] (II) Using input driver 'libinput' for 'ThinkPad Extra Buttons'</pre>
<p>这是一台 <code>/etc/X11/xorg.conf.d/</code> 中没有任何配置文件的笔记本电脑，也就是说，设备是被自动检测出来的。
</p>
<p>当然，你可以选择为一个设备使用替代的驱动程序，而为其它设备选择 libinput。许多因素可能会影响到底使用哪个驱动程序。举个例子，与 <a href="../en/Touchpad_Synaptics.html" title="Touchpad Synaptics">Touchpad Synaptics</a> 相比，libinput 驱动程序能根据自己的喜好去自定义触摸板行为的选项较少，但处理多点触控事件的程序逻辑要多得多（例如，手掌检测）。因此，如果你在使用某个驱动程序的时候，在硬件上遭遇了问题，那么尝试一下替代驱动程序是合理的。
</p>
<p>自定义配置文件应放在 <code>/etc/X11/xorg.conf.d/</code> 中，并且遵循被广泛使用的命名模式，通常选择 <code>30-touchpad.conf</code> 作为文件名。
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> 阅读 <code>/usr/share/X11/xorg.conf.d/40-libinput.conf</code> 中的详细配置以获取指导并参考 <span class="plainlinks archwiki-template-man" title="$ man 4 libinput"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/libinput.4">libinput(4)</a></span> 手册页获取有关可用配置选项的详细说明</div>
<p>一个基本的配置应该遵循以下的结构：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/30-touchpad.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "InputClass"
    Identifier "devname"
    Driver "libinput"
    ...
EndSection
</pre>
<p>你可以在单个配置文件中定义任意多的 Section（通常每个输入设备只配置一个 Section）
要配置你选择的设备，请指定 INPUTCLASS SECTION <span class="plainlinks archwiki-template-man" title="$ man 5 xorg.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/xorg.conf.5">xorg.conf(5)</a></span> 中的一个过滤器，例如：
</p>
<ul>
<li>
<code>MatchIsPointer "on"</code> (trackpoint)</li>
<li><code>MatchIsKeyboard "on"</code></li>
<li><code>MatchIsTouchpad "on"</code></li>
<li><code>MatchIsTouchscreen "on"</code></li>
</ul>
<p>输入设备能够在 CONFIGURATION 中进行配置，详情请看 <span class="plainlinks archwiki-template-man" title="$ man 4 libinput"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/libinput.4">libinput(4)</a></span>。一些常用的配置选项有：
</p>
<ul>
<li>
<code>Option "Tapping" "on"</code>: 触摸以点击</li>
<li>
<code>Option "ClickMethod" "clickfinger"</code>: 触摸板不再拥有中右键区域的区分，与之代替的是双指代表右键，三指代表中键。 详情请看<a rel="nofollow" class="external text" href="https://wayland.freedesktop.org/libinput/doc/latest/clickpad-softbuttons.html#clickfinger-behavior">docs</a>.</li>
<li>
<code>Option "NaturalScrolling" "true"</code>: 自然滚动（反方向滚动）</li>
<li>
<code>Option "ScrollMethod" "edge"</code>: 边缘滚动页面</li>
</ul>
<p>注意：有的功能只在特定设备中起作用，并且你可能需要重启 “X服务” 来让功能生效。
</p>
<h3>
<span id=".E5.9B.BE.E5.BD.A2.E5.B7.A5.E5.85.B7"></span><span class="mw-headline" id="图形工具">图形工具</span>
</h3>
<p>下面列出了一些图形工具：
</p>
<ul>
<li>
<a href="../en/GNOME.html" title="GNOME">GNOME</a>:
<ul>
<li>控制中心（Control center）带有一个基础配置页面，详见 <a href="../en/GNOME.html#Mouse_and_touchpad" title="GNOME">GNOME#Mouse and touchpad</a>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-tweaks">gnome-tweaks</a></span> 提供一些其他设置。</li>
</ul>
</li>
<li>
<a href="../en/Cinnamon.html" title="Cinnamon">Cinnamon</a>:
<ul><li>与 GNOME 界面相似，可更改选项更多。</li></ul>
</li>
<li>
<a href="../en/KDE.html#Plasma" class="mw-redirect" title="KDE Plasma">KDE Plasma</a> 5:
<ul><li>键盘，鼠标和控制器可以通过系统设置（System Settings）配置。</li></ul>
</li>
<li>
<a href="../en/Xfce.html" title="Xfce">Xfce</a>
<ul><li>在 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xfce4-settings">xfce4-settings</a></span> 下的“鼠标和触摸板（Mouse and Touchpad）”子菜单中进行配置。</li></ul>
</li>
</ul>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3>
<span id=".E6.8C.89.E9.94.AE.E6.98.A0.E5.B0.84"></span><span class="mw-headline" id="按键映射">按键映射</span>
</h3>
<p>Swapping two- and three-finger tap for a touchpad is a straight forward example. Instead of the default three-finger tap for pasting you can configure two-finger tap pasting by setting the <code>TappingButtonMap</code> option in your <a href="../en/Xorg.html" title="Xorg">Xorg</a> configuration file. To set 1/2/3-finger taps to left/right/middle set <code>TappingButtonMap</code> to <code>lrm</code>, for left/middle/right set it to <code>lmr</code>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/30-touchpad.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "InputClass"
    Identifier "touchpad"
    Driver "libinput"
    MatchIsTouchpad "on"
    Option "Tapping" "on"
    Option "TappingButtonMap" "lmr"
EndSection</pre>
<p>Remember to remove <code>MatchIsTouchpad "on"</code> if your device is not a touchpad and adjust the <code>Identifier</code> accordingly.
</p>
<h3>
<span id=".E8.AE.BE.E7.BD.AE.E6.8C.89.E9.94.AE.E6.98.A0.E5.B0.84"></span><span class="mw-headline" id="设置按键映射">设置按键映射</span>
</h3>
<p>For some devices it is desirable to change the button mapping. A common example is the use of a thumb button instead of the middle button (used in X11 for pasting) on mice where the middle button is part of the mouse wheel. You can query the current button mapping via:
</p>
<pre>$ xinput get-button-map <i>device</i>
</pre>
<p>where <i>device</i> is either the device name or the device ID, as returned by <code>xinput list</code>. You can freely permutate the button numbers and write them back. Example:
</p>
<pre>$ xinput set-button-map <i>device</i> 1 6 3 4 5 0 7
</pre>
<p>In this example, we mapped button 6 to be the middle button and disabled the original middle button by assigning it to button 0. 
This may also be used for <a href="../en/Wayland.html" title="Wayland">Wayland</a>, but be aware both the <i>device</i> number and its button-map will be different. Hence, settings are not directly interchangeable. 
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> You can use <i>xev</i> (from the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xev">xorg-xev</a></span> package) to find out which physical button is currently mapped to which ID.</div>
<p>Some devices occur several times under the same device name, with a different amount of buttons exposed. The following is an example for reliably changing the button mapping for a Logitech Revolution MX mouse via <a href="../en/Xinit.html#xinitrc" class="mw-redirect" title="Xinitrc">xinitrc</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.xinitrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
for i in $(xinput list | grep "Logitech USB Receiver" | perl -n -e'/id=(\d+)/ &amp;&amp; print "$1\n"')
	do if xinput get-button-map "$i" 2&gt;/dev/null| grep -q 20; then
		xinput set-button-map "$i" 1 17 3 4 5 8 7 6 9 10 11 12 13 14 15 16 2 18 19 20
	fi
done
...</pre>
<h3>
<span id=".E6.9B.B4.E6.94.B9.E8.A7.A6.E6.91.B8.E6.9D.BF.E7.81.B5.E6.95.8F.E5.BA.A6"></span><span class="mw-headline" id="更改触摸板灵敏度">更改触摸板灵敏度</span>
</h3>
<p>The method of finding the correct thresholds for when libinput registers a touch as DOWN and back UP again can be found <a rel="nofollow" class="external autonumber" href="https://wayland.freedesktop.org/libinput/doc/latest/touchpad-pressure-debugging.html#touchpad-pressure-hwdb">[2]</a> in the upstream documentation.
</p>
<p>Custom touchpad pressure values can be set via temporary local device quirks. See <a rel="nofollow" class="external autonumber" href="https://wayland.freedesktop.org/libinput/doc/latest/device-quirks.html">[3]</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<p>Quirks are an internal API and are not guaranteed to work in future libinput versions. Between versions 1.11 and 1.12, udev rules <a rel="nofollow" class="external autonumber" href="https://wayland.freedesktop.org/libinput/doc/1.11.3/udev_config.html#hwdb">[4]</a> were replaced by <code>.quirk</code> files <a rel="nofollow" class="external autonumber" href="https://wayland.freedesktop.org/libinput/doc/latest/device-quirks.html">[5]</a>.
</p>
</div>
<h3>
<span id=".E7.A6.81.E7.94.A8.E8.A7.A6.E6.91.B8.E6.9D.BF"></span><span class="mw-headline" id="禁用触摸板">禁用触摸板</span>
</h3>
<p>To disable the touchpad, first get its name with <code>xinput list</code> and then disable it with <code>xinput disable <i>name</i></code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>It is more robust to disable it by name than by ID number. The devices may be renumbered.</li>
<li>It will be necessary to quote the name if it contains spaces.</li>
</ul>
</div>
<p>To make it permanent, see <a href="../en/Autostarting.html" title="Autostarting">Autostarting</a>.
</p>
<h3>
<span id=".E6.89.8B.E5.8A.BF.E6.93.8D.E4.BD.9C"></span><span class="mw-headline" id="手势操作">手势操作</span>
</h3>
<p>虽然 libinput 已经提供了<a rel="nofollow" class="external text" href="https://wayland.freedesktop.org/libinput/doc/latest/gestures.html">手势操作</a>，比如：捏，滑。但 <a href="../en/Desktop_environment.html" title="Desktop environment">Desktop environment</a> 和 <a href="../en/Window_manager.html" title="Window manager">Window manager</a> 可能还没有使用这些功能。
</p>
<h4><span class="mw-headline" id="libinput-gestures">libinput-gestures</span></h4>
<p>对于 <a href="https://en.wikipedia.org/wiki/Extended_Window_Manager_Hints" class="extiw" title="w:Extended Window Manager Hints">EWMH</a> (see also <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Specifications/wm-spec/">wm-spec</a>) 兼容的窗口界面, 可以使用 <a rel="nofollow" class="external text" href="https://github.com/bulletmark/libinput-gestures">libinput-gestures</a> 。 这个程序读取 libinput 在触摸板的手势 (通过 <code>libinput debug-events</code>) ，然后根据设置映射成相对应的行为。这个程序提供了相当多了可自定义的功能。
</p>
<p>要使用 <a rel="nofollow" class="external text" href="https://github.com/bulletmark/libinput-gestures">libinput-gestures</a>, 请安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/libinput-gestures/">libinput-gestures</a></span><sup><small>AUR</small></sup> 。 你能使用很多系统级别的手势操作，也能自定义配置文件，详情请看 <a rel="nofollow" class="external text" href="https://github.com/bulletmark/libinput-gestures/blob/master/README.md">README</a> 。
</p>
<h4><span class="mw-headline" id="fusuma">fusuma</span></h4>
<p><a rel="nofollow" class="external text" href="https://github.com/iberianpig/fusuma">Fusuma</a> is a multitouch gesture recognizer, written in <a href="../en/Ruby.html" title="Ruby">Ruby</a>, which can be used as an alternative to libinput-gestures.
</p>
<p>Install the <code>fusuma</code> <a href="../en/Ruby.html#RubyGems" title="Ruby">Ruby gem</a>:
</p>
<pre>$ gem install fusuma
</pre>
<p>Alternatively an outdated version is available in the AUR: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ruby-fusuma/">ruby-fusuma</a></span><sup><small>AUR</small></sup>.
</p>
<p>then in <code>~/.config/fusuma/config.yml</code> you can set something like:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/fusuma/config.yml</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">swipe:
  3: 
    left: 
      shortcut: 'alt+Right'
    right: 
      shortcut: 'alt+Left'
    up: 
      shortcut: 'ctrl+shift+plus'
    down: 
      shortcut: 'ctrl+minus'
pinch:
  in:
    shortcut: 'ctrl+shift+plus'
  out:
    shortcut: 'ctrl+minus'

threshold:
  swipe: 0.5
  pinch: 0.2

interval:
  swipe: 0.2
  pinch: 0.2
</pre>
<p>The swipe threshold is important for not swiping back too many pages. 
</p>
<p>Notice that the config is for three fingers swipe.
</p>
<h4><span class="mw-headline" id="GnomeExtendedGestures">GnomeExtendedGestures</span></h4>
<p>For deeper integration with GNOME, there is <a rel="nofollow" class="external text" href="https://github.com/mpiannucci/GnomeExtendedGestures">GnomeExtendedGestures</a> (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gnome-shell-extension-extended-gestures-git/">gnome-shell-extension-extended-gestures-git</a></span><sup><small>AUR</small></sup>). Three finger horizontal and vertical gestures can be configured to perform gnome-shell actions (such as toggling the application overview or cycling between them).
</p>
<h2>
<span id=".E7.96.91.E9.9A.BE.E8.A7.A3.E7.AD.94"></span><span class="mw-headline" id="疑难解答">疑难解答</span>
</h2>
<p>First, see whether executing <code>libinput debug-events</code> can support you in debugging the problem, see <span class="plainlinks archwiki-template-man" title="$ man 1 libinput-debug-events"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/libinput-debug-events.1">libinput-debug-events(1)</a></span> for options.
</p>
<p>Some inputs require kernel support. The tool <i>evemu-describe</i> from the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=evemu">evemu</a></span> package can be used to check: 
</p>
<p>Compare the output of <a rel="nofollow" class="external text" href="http://ix.io/m6b">software supported input trackpad driver</a> with <a rel="nofollow" class="external text" href="https://github.com/whot/evemu-devices/blob/master/touchpads/SynPS2%20Synaptics%20TouchPad-with-scrollbuttons.events">a supported trackpad</a>. i.e. a couple of ABS_ axes, a couple of ABS_MT axes and no REL_X/Y axis. For a clickpad the <code>INPUT_PROP_BUTTONPAD</code> property should also be set, if it is supported.
</p>
<h3>
<span id=".E8.A7.A6.E6.91.B8.E6.9D.BF.E5.9C.A8_GNOME_.E4.B8.AD.E6.97.A0.E6.B3.95.E5.B7.A5.E4.BD.9C"></span><span class="mw-headline" id="触摸板在_GNOME_中无法工作">触摸板在 GNOME 中无法工作</span>
</h3>
<p>Ensure the touchpad events are being sent to the GNOME desktop by running the following command:
</p>
<pre>$ gsettings set org.gnome.desktop.peripherals.touchpad send-events enabled
</pre>
<p>Additionally, GNOME may override certain behaviors, like turning off Tapping and forcing Natural Scrolling. In this case the settings must be adapted using GNOMEs <code>gsettings</code> command line tool or a graphical frontend of your choice. For example if you wish to enable <i>Tapping</i> and disable <i>Natural Scrolling</i> for your user, adjust the touchpad key-values like the following:
</p>
<pre>$ gsettings set org.gnome.desktop.peripherals.touchpad tap-to-click true
$ gsettings set org.gnome.desktop.peripherals.touchpad natural-scroll false
</pre>
<h3>
<span id="KDE.27s_Touchpad_KCM_.E5.AF.B9.E8.A7.A6.E6.91.B8.E6.9D.BF.E8.AE.BE.E7.BD.AE.E4.B8.8D.E8.B5.B7.E4.BD.9C.E7.94.A8"></span><span class="mw-headline" id="KDE's_Touchpad_KCM_对触摸板设置不起作用">KDE's Touchpad KCM 对触摸板设置不起作用</span>
</h3>
<p>KDE's Touchpad KCM has libinput support for <a href="../en/Xorg.html" title="Xorg">Xorg</a>, but not all GUI settings are available yet. You may find that a setting such as <i>Disable touchpad when typing</i> has no effect and other options are greyed out. Until the support is extended, a workaround is to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/kcm-pointing-devices-git/">kcm-pointing-devices-git</a></span><sup><small>AUR</small></sup> or set the options manually with <code>xinput set-prop</code>.
</p>
<h3>
<span id=".E8.A7.A6.E6.91.B8.E6.9D.BF.E6.B2.A1.E6.9C.89.E8.A2.AB.E6.A3.80.E6.B5.8B.E5.88.B0"></span><span class="mw-headline" id="触摸板没有被检测到">触摸板没有被检测到</span>
</h3>
<p>If a touchpad device is not detected and shown as a device at all, a possible solution might be using one or more of these kernel parameters.
</p>
<pre>i8042.noloop i8042.nomux i8042.nopnp i8042.reset
</pre>
<h2>
<span id=".E5.8F.82.E9.98.85"></span><span class="mw-headline" id="参阅">参阅</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://wayland.freedesktop.org/libinput/doc/latest/index.html">libinput Wayland documentation</a></li>
<li>
<a rel="nofollow" class="external text" href="https://archive.fosdem.org/2015/schedule/event/libinput/attachments/slides/591/export/events/attachments/libinput/slides/591/libinput_xorg.pdf">FOSDEM 2015 - libinput</a> - Hans de Goede on goals and plans of the project</li>
<li>
<a rel="nofollow" class="external text" href="http://who-t.blogspot.com.au/">Peter Hutterer's Blog</a> - numerous posts on libinput from one of the project's hackers</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../zh-CN/Category:Input_devices.html" title="Category:Input devices (简体中文)">Input devices (简体中文)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../zh-CN/Category:Pages_or_sections_flagged_with_Template:Translateme.html" title="Category:Pages or sections flagged with Template:Translateme (简体中文)">Pages or sections flagged with Template:Translateme (简体中文)</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Libinput_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=652715">https://wiki.archlinux.org/index.php?title=Libinput_(简体中文)&amp;oldid=652715</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 18 February 2021, at 10:20.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
