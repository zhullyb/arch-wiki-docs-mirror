<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Display Power Management Signaling (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Display_Power_Management_Signaling_简体中文 rootpage-Display_Power_Management_Signaling_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Display Power Management Signaling (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="../en/Display_Power_Management_Signaling.html" title="Display Power Management Signaling">Display Power Management Signaling</a> 的<a href="../zh-CN/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2017-11-20。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Display_Power_Management_Signaling&amp;diff=0&amp;oldid=497169">更改</a>，则您可以帮助同步翻译。</div>
<p><b><a href="https://en.wikipedia.org/wiki/VESA_Display_Power_Management_Signaling" class="extiw" title="wikipedia:VESA Display Power Management Signaling">DPMS</a></b> (显示电源管理信号，简称DPMS) 可以在计算机一定时间无操作时，将显示器置于节电模式。具体的时间设置可以参考 <a rel="nofollow" class="external autonumber" href="http://linux.die.net/man/3/dpmssettimeouts">[1]</a>. 注意有些显示器在不同 DPMS 状态下表现不变。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%E5%9C%A8_X_%E4%B8%AD%E8%AE%BE%E5%AE%9A_DPMS"><span class="tocnumber">1</span> <span class="toctext">在 X 中设定 DPMS</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#%E7%94%A8xset%E4%BF%AE%E6%94%B9DPMS%E5%92%8C%E5%B1%8F%E4%BF%9D%E8%AE%BE%E5%AE%9A"><span class="tocnumber">2</span> <span class="toctext">用xset修改DPMS和屏保设定</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#Linux_%E7%BB%88%E7%AB%AF%E5%92%8C_DPMS_%E7%9A%84%E4%BA%A4%E4%BA%92"><span class="tocnumber">3</span> <span class="toctext">Linux 终端和 DPMS 的交互</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#%E9%98%B2%E6%AD%A2%E5%B1%8F%E5%B9%95%E5%85%B3%E9%97%AD"><span class="tocnumber">3.1</span> <span class="toctext">防止屏幕关闭</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#%E9%80%9A%E8%BF%87_cat_%E6%98%BE%E7%A4%BA%E8%BE%93%E5%87%BA%E4%B8%AD%E7%9A%84%E8%BD%AC%E4%B9%89"><span class="tocnumber">3.2</span> <span class="toctext">通过 cat 显示输出中的转义</span></a></li>
<li class="toclevel-2 tocsection-6">
<a href="#%E5%B0%86%E8%BD%AC%E4%B9%89%E8%BE%93%E5%87%BA%E5%88%B0%E4%BB%BB%E6%84%8F_tty_(with_write/append_perms)_%E8%BF%9B%E8%A1%8C%E7%BB%88%E7%AB%AF%E4%BF%AE%E6%94%B9"><span class="tocnumber">3.3</span> <span class="toctext">将转义输出到任意 tty (with write/append perms) 进行终端修改</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#%E7%94%A8%E5%BE%AA%E7%8E%AF%E8%AE%BE%E7%BD%AE_ttys_0-256"><span class="tocnumber">3.3.1</span> <span class="toctext">用循环设置 ttys 0-256</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#%E5%8F%82%E9%98%85"><span class="tocnumber">4</span> <span class="toctext">参阅</span></a></li>
</ul>
</div>

<h2>
<span id=".E5.9C.A8_X_.E4.B8.AD.E8.AE.BE.E5.AE.9A_DPMS"></span><span class="mw-headline" id="在_X_中设定_DPMS">在 X 中设定 DPMS</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 从 Xorg 1.8 开始，只要内核启用了 ACPI， DPMS 就会自动启用。</div>
<p>在 <code>/etc/X11/xorg.conf</code> 的 <code>Monitor</code> 段落中加上上:
</p>
<pre>Option "DPMS" "true"
</pre>
<p>把下面的配置加入 <code>ServerLayout</code> 小节, 必要时改变时间(以分钟计):
</p>
<pre>Option "StandbyTime" "10"
Option "SuspendTime" "20"
Option "OffTime" "30"
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If the <i>"OffTime"</i> option does not work replace it with the following, (change the <i>"blanktime"</i> to <i>"0"</i> to disable screen blanking)
<pre>Option         "BlankTime" "30"
</pre>
</div>
<p>比较新的X推荐使用 <code>.conf</code> 文件代替 <code>xorg.conf</code>, <code>/etc/X11/xorg.conf.d/10-monitor.conf</code> 的一个例子如下：
</p>
<pre>Section "Monitor"
    Identifier "LVDS0"
    Option "DPMS" "false"
EndSection

Section "ServerLayout"
    Identifier "ServerLayout0"
    Option "BlankTime"  "0"
    Option "StandbyTime" "0"
    Option "SuspendTime" "0"
    Option "OffTime" "0"
EndSection
</pre>
<h2>
<span id=".E7.94.A8xset.E4.BF.AE.E6.94.B9DPMS.E5.92.8C.E5.B1.8F.E4.BF.9D.E8.AE.BE.E5.AE.9A"></span><span class="mw-headline" id="用xset修改DPMS和屏保设定">用xset修改DPMS和屏保设定</span>
</h2>
<p>可以用 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xset">xorg-xset</a></span> 提供的<code>xset</code>工具关闭屏幕。如果要在shell中关闭显示器，需要在命令前面加上 <code>sleep 1;</code> . 例如：
</p>
<pre>sleep 1; xset dpms force off
</pre>
<p>命令示例：
</p>
<table class="wikitable">
<tbody>
<tr>
<th>命令
</th>
<th>描述
</th>
</tr>
<tr>
<td>xset s off
</td>
<td>禁用屏保清空
</td>
</tr>
<tr>
<td>xset s 3600 3600
</td>
<td>将清空时间设置到 1 小时
</td>
</tr>
<tr>
<td>xset -dpms
</td>
<td>关闭 DPMS
</td>
</tr>
<tr>
<td>xset s off -dpms
</td>
<td>禁用 DPMS 并阻止屏幕清空
</td>
</tr>
<tr>
<td>xset dpms force off
</td>
<td>立即关闭屏幕
</td>
</tr>
<tr>
<td>xset dpms force standby
</td>
<td>待机界面
</td>
</tr>
<tr>
<td>xset dpms force suspend
</td>
<td>休眠界面
</td>
</tr>
</tbody>
</table>
<p><br>	
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 通过 <code>dpms 0 0 0</code> 可以将 DPMS 超时都设置成零，这样也可以禁用 DPMS. 这种方式更方便，可以使用 <code>xset dpms force off</code> 关闭屏幕。</div>
<p>查看当前设置:
</p>
<pre>$ xset q

...

Screen Saver:
  prefer blanking:  yes    allow exposures:  yes
  timeout:  600    cycle:  600
DPMS (Energy Star):
  Standby: 600    Suspend: 600    Off: 600
  DPMS is Enabled
  Monitor is On
</pre>
<p>运行 <code>xset</code> 可以查看全部可用命令.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 如果在 <a href="../en/Xinit.html#xinitrc" class="mw-redirect" title="Xinitrc">xinitrc</a> 中使用 <code>xset</code> 无法工作，在配置文件中进行设置。</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> <a href="../en/XScreenSaver.html" title="XScreenSaver">XScreenSaver</a> 和 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xfce4-power-manager">xfce4-power-manager</a></span> 会使用自己的 DPMS 设置，详情参考 <a href="../en/XScreenSaver.html#DPMS_and_blanking_settings" title="XScreenSaver">XScreenSaver#DPMS and blanking settings</a> 和 <a href="../en/Xfce.html#Display_blanking" title="Xfce">Xfce#Display blanking</a>.</div>
<h2>
<span id="Linux_.E7.BB.88.E7.AB.AF.E5.92.8C_DPMS_.E7.9A.84.E4.BA.A4.E4.BA.92"></span><span class="mw-headline" id="Linux_终端和_DPMS_的交互">Linux 终端和 DPMS 的交互</span>
</h2>
<p><i>setterm</i> 工具可以通过终端能够识别的转义字符修改终端。可以写入/echo 终端序列到当前终端设备，包括再显示设备，远程 SSH 终端， 控制台，串口控制台。
</p>
<p>setterm Syntax: (0 disables)
</p>
<pre>setterm -blank [0-60|force|poke]
setterm -powersave [on|vsync|hsync|powerdown|off]
setterm -powerdown [0-60]
</pre>
<h3>
<span id=".E9.98.B2.E6.AD.A2.E5.B1.8F.E5.B9.95.E5.85.B3.E9.97.AD"></span><span class="mw-headline" id="防止屏幕关闭">防止屏幕关闭</span>
</h3>
<p>可以运行以下命令：
</p>
<pre>$ setterm -blank 0 -powerdown 0
</pre>
<p>也可以通过下列命令禁止终端清空:
</p>
<pre># echo -ne "\033[9;0]" &gt;&gt; /etc/issue
</pre>
<p>将分号后的 0 修改为 3 会在 3 分钟后进入休眠模式。
</p>
<h3>
<span id=".E9.80.9A.E8.BF.87_cat_.E6.98.BE.E7.A4.BA.E8.BE.93.E5.87.BA.E4.B8.AD.E7.9A.84.E8.BD.AC.E4.B9.89"></span><span class="mw-headline" id="通过_cat_显示输出中的转义">通过 cat 显示输出中的转义</span>
</h3>
<pre>$ setterm -powerdown 2&gt;&amp;1 | exec cat -v 2&gt;&amp;1 | sed "s/\\^\\[/\\\\033/g"
</pre>
<h3>
<span id=".E5.B0.86.E8.BD.AC.E4.B9.89.E8.BE.93.E5.87.BA.E5.88.B0.E4.BB.BB.E6.84.8F_tty_.28with_write.2Fappend_perms.29_.E8.BF.9B.E8.A1.8C.E7.BB.88.E7.AB.AF.E4.BF.AE.E6.94.B9"></span><span class="mw-headline" id="将转义输出到任意_tty_(with_write/append_perms)_进行终端修改">将转义输出到任意 tty (with write/append perms) 进行终端修改</span>
</h3>
<pre>$ setterm -powerdown 0 &gt;&gt; /dev/tty3
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 使用 <code>&gt;&gt;</code> 而不是 <code>&gt;</code>. 如果脚本有 <i>sudo</i> 权限问题，tty 可能允许附加但是不允许写入， 可以使用 <b>tee</b> 阻止 setterm 输出到 tty 。</div>
<h4>
<span id=".E7.94.A8.E5.BE.AA.E7.8E.AF.E8.AE.BE.E7.BD.AE_ttys_0-256"></span><span class="mw-headline" id="用循环设置_ttys_0-256">用循环设置 ttys 0-256</span>
</h4>
<pre>$ for i in {0..256}; do setterm -powerdown 0 &gt;&gt; /dev/tty$i; done; unset i;
</pre>
<h2>
<span id=".E5.8F.82.E9.98.85"></span><span class="mw-headline" id="参阅">参阅</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="http://webpages.charter.net/dperr/dpms.htm">PC Monitor DPMS specification explanation</a></li>
<li><a rel="nofollow" class="external text" href="http://ptspts.blogspot.be/2009/10/screen-blanking-dpms-screen-saver.html">DPMS control in X</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../zh-CN/Category:X_server.html" title="Category:X server (简体中文)">X server (简体中文)</a></li>
<li><a href="../zh-CN/Category:Power_management.html" title="Category:Power management (简体中文)">Power management (简体中文)</a></li>
</ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Display_Power_Management_Signaling_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=644600">https://wiki.archlinux.org/index.php?title=Display_Power_Management_Signaling_(简体中文)&amp;oldid=644600</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 11 December 2020, at 08:03.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
