<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Ratpoison (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Ratpoison_简体中文 rootpage-Ratpoison_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Ratpoison (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="../en/Ratpoison.html" title="Ratpoison">Ratpoison</a> 的<a href="../zh-CN/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2016-02-01。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Ratpoison&amp;diff=0&amp;oldid=418627">更改</a>，则您可以帮助同步翻译。</div>
<p><a rel="nofollow" class="external text" href="http://www.nongnu.org/ratpoison/">Ratpoison</a>是一个用C语言编写的平铺式窗口管理器，它允许用户不用鼠标就能管理应用程序。它的界面收到<a href="../en/GNU_Screen.html" title="GNU Screen">GNU Screen</a>的启发。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%E5%AE%89%E8%A3%85"><span class="tocnumber">1</span> <span class="toctext">安装</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#%E9%85%8D%E7%BD%AE"><span class="tocnumber">2</span> <span class="toctext">配置</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#%E4%BD%BF%E7%94%A8Ratpoison"><span class="tocnumber">3</span> <span class="toctext">使用Ratpoison</span></a></li>
<li class="toclevel-1 tocsection-4">
<a href="#%E5%B0%8F%E8%B4%B4%E5%A3%AB"><span class="tocnumber">4</span> <span class="toctext">小贴士</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Java_Swing%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="tocnumber">4.1</span> <span class="toctext">Java Swing应用程序</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#%E5%A4%9A%E4%B8%AA%E8%99%9A%E6%8B%9F%E6%A1%8C%E9%9D%A2"><span class="tocnumber">4.2</span> <span class="toctext">多个虚拟桌面</span></a></li>
<li class="toclevel-2 tocsection-7">
<a href="#Urxvt%E5%92%8Cxterm"><span class="tocnumber">4.3</span> <span class="toctext">Urxvt和xterm</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#%E5%AE%89%E8%A3%85%E6%89%93%E8%BF%87%E8%A1%A5%E4%B8%81%E7%9A%84URxvt"><span class="tocnumber">4.3.1</span> <span class="toctext">安装打过补丁的URxvt</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#%E9%85%8D%E7%BD%AE%E8%BE%B9%E7%BC%98"><span class="tocnumber">4.3.2</span> <span class="toctext">配置边缘</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-10"><a href="#%E8%87%AA%E5%90%AF%E5%8A%A8"><span class="tocnumber">4.4</span> <span class="toctext">自启动</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#%E5%A3%81%E7%BA%B8%E5%92%8C%E9%80%8F%E6%98%8E%E5%BA%A6"><span class="tocnumber">4.5</span> <span class="toctext">壁纸和透明度</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#%E6%9C%89%E7%94%A8%E7%9A%84%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="tocnumber">5</span> <span class="toctext">有用的快捷键</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#%E7%84%A6%E7%82%B9%E8%B7%9F%E9%9A%8F%E9%BC%A0%E6%A0%87"><span class="tocnumber">6</span> <span class="toctext">焦点跟随鼠标</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#Ratpoison%E5%92%8C%E6%98%BE%E7%A4%BA%E7%AE%A1%E7%90%86%E5%99%A8"><span class="tocnumber">7</span> <span class="toctext">Ratpoison和显示管理器</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#%E6%9B%B4%E5%A4%9A%E9%93%BE%E6%8E%A5"><span class="tocnumber">8</span> <span class="toctext">更多链接</span></a></li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="安装">安装</span>
</h2>
<p>Ratpoison可以通过<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ratpoison">ratpoison</a></span> 或者是<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ratpoison-git/">ratpoison-git</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：package not found]</sup> （开发版本）安装。
</p>
<h2>
<span id=".E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="配置">配置</span>
</h2>
<p>为了让Ratpoison成为你的窗口管理器，你必须新建/编辑文件<code>~/.xinitrc</code>.
</p>
<p>.xinitrc的一个例子:
</p>
<pre># The black/white grid as background doesn't suit my taste.
xsetroot -solid black &amp;
# Ratpoison is compatible with xcompmgr! now you can have real transparency
xcompmgr -c -f -D 5 &amp;
#fire up ratpoison!
exec /usr/bin/ratpoison
</pre>
<h2>
<span id=".E4.BD.BF.E7.94.A8Ratpoison"></span><span class="mw-headline" id="使用Ratpoison">使用Ratpoison</span>
</h2>
<p>在X11启动后你会看到黑色的屏幕背景还有右上角它弹出的一个文本框"Welcome to Ratpoison"。现在按下<code>Ctrl+t</code>，再输入<code>?</code>来获取快捷键列表。如果你习惯使用GNU screen，你将马上感到它非常熟悉。
你可以自定义快捷键，你甚至可以覆盖<code>~/.ratpoisonrc</code>中已存在的快捷键
</p>
<p>例如:
</p>
<pre># Overriding CTRL+t 'c' to start aterm instead of xterm
bind c exec aterm

bind f exec firefox
</pre>
<p>如果使用上述配置，当你按下<code>Ctrl+t</code> 然后<code>f</code>后, ratpoison将启动firefox.
</p>
<p>这是另一个我正在用的.ratpoisonrc配置:
</p>
<pre>exec xsetroot -cursor_name left_ptr
startup_message off

escape C-z

# Make a screenshot
alias sshot exec import -window root ~/screenshot-$(date +%F).jpg
definekey top M-C-Print sshot

#virtual desks
gnewbg one
gnewbg two

definekey top M-l exec ratpoison -c "select -" -c "gprev" -c "next"
definekey top M-h exec ratpoison -c "select -" -c "gnext" -c "next"

#switch between windows
definekey top M-j next
definekey top M-k prev

#apps
unbind c
bind c exec urxvt -tr
#bind c exec aterm

bind g exec gftp
bind f exec firefox
</pre>
<h2>
<span id=".E5.B0.8F.E8.B4.B4.E5.A3.AB"></span><span class="mw-headline" id="小贴士">小贴士</span>
</h2>
<h3>
<span id="Java_Swing.E5.BA.94.E7.94.A8.E7.A8.8B.E5.BA.8F"></span><span class="mw-headline" id="Java_Swing应用程序">Java Swing应用程序</span>
</h3>
<p>Java Swing GUI应用程序不认为ratpoison是平铺式窗口管理器, 且不正确地像ratpoison配置的那样全屏显示。不过有一种方法可以让它认为自己在平铺式管理器中并且正确的全屏。
</p>
<p>首先安装<tt>wmname</tt> package， 然后将这一行加入你的<tt>.ratpoisonrc</tt>中:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.ratpoisonrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">exec wmname LG3D
</pre>
<p>啊哈！Java Swing应用现在可以正确全屏了。
</p>
<h3>
<span id=".E5.A4.9A.E4.B8.AA.E8.99.9A.E6.8B.9F.E6.A1.8C.E9.9D.A2"></span><span class="mw-headline" id="多个虚拟桌面">多个虚拟桌面</span>
</h3>
<p>默认情况下，ratpoison只有一个虚拟桌面，但是用一个叫做rpws(默认安装）的脚本，你可以有多个虚拟桌面。
</p>
<p>只要更改你的.ratpoisonrc，然后加入:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.ratpoisonrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">exec /usr/bin/rpws init 6 -k
</pre>
<p>这样就会创建6个虚拟桌面。默认地，你可以进入通过按下<code>Alt+F1</code> 来进入1号虚拟桌面, <code>Alt+F2</code> 来进入2号虚拟桌面，以此类推。
</p>
<p>你也可以这样添加快捷键:
</p>
<pre>bind C-1 exec rpws 1
bind C-2 exec rpws 2
...
</pre>
<p>这样允许你通过<code>Ctrl+t</code> <code>Ctrl+1</code> 进入它们(假定<code>Ctrl+t</code> 是你的escape键)
</p>
<h3>
<span id="Urxvt.E5.92.8Cxterm"></span><span class="mw-headline" id="Urxvt和xterm">Urxvt和xterm</span>
</h3>
<p>Urxvt和xter，因为它们被默认安装，发送重调大小的信号给窗口管理器。这个在大多数窗口管理器中起作用，但是在ratpoison中无效。结果就是URxvt/xterm通过更改字号调整自己的大小，而不是将自己调整成全屏，有无法填充空格的几率很高。有两种方法改变这个现状。请看下文。
</p>
<h4>
<span id=".E5.AE.89.E8.A3.85.E6.89.93.E8.BF.87.E8.A1.A5.E4.B8.81.E7.9A.84URxvt"></span><span class="mw-headline" id="安装打过补丁的URxvt">安装打过补丁的URxvt</span>
</h4>
<p>如果你使用URxvt,软件包<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/rxvt-unicode-fontspacing-noinc-vteclear-secondarywheel/">rxvt-unicode-fontspacing-noinc-vteclear-secondarywheel</a></span><sup><small>AUR</small></sup>除其他改动外，还不发送重调大小的信号给窗口管理器。如果你安装这个版本的URxvt而不是默认版本，URxvt就会在ratpoison中正常调整大小。 
</p>
<h4>
<span id=".E9.85.8D.E7.BD.AE.E8.BE.B9.E7.BC.98"></span><span class="mw-headline" id="配置边缘">配置边缘</span>
</h4>
<p>我们可以使用xterm/URxvt默认的边框设置工具将ratpoison的边框设置为0。
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.Xresources</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">urxvt*internalBorder: 8 #change urxvt to xterm if necessary. Using the font terminus in urxvt at 14px size, 8 is the correct number here.
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.ratpoisonrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">set border 0
</pre>
<p><br>
</p>
<h3>
<span id=".E8.87.AA.E5.90.AF.E5.8A.A8"></span><span class="mw-headline" id="自启动">自启动</span>
</h3>
<p>当ratpoison启动时自启动应用的例子。文件 <code>~/.ratpoisonrc</code>中的内容会在ratpoison启动时执行。
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">Launch urxvt with a tmux session</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">exec urxvt -e bash -c "tmux -q has-session &amp;&amp; exec tmux attach-session -d || exec tmux new-session -n$USER -s$USER@$HOSTNAME"
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">Launch optimized chromium</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">exec bash -c 'pidof chromium &amp;&gt;/dev/null || exec /usr/bin/chromium --disk-cache-dir=~/tmp/cache'
</pre>
<h3>
<span id=".E5.A3.81.E7.BA.B8.E5.92.8C.E9.80.8F.E6.98.8E.E5.BA.A6"></span><span class="mw-headline" id="壁纸和透明度">壁纸和透明度</span>
</h3>
<p>通过<a href="../en/Xcompmgr.html" title="Xcompmgr">xcompmgr</a>还有nitrogen设置透明的例子.
首先启动nitrogen然后设置你希望设置成壁纸的壁纸。然后把这个加入到你的.ratpoisonrc中去
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">Wallpaper and transparency</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">exec xcompmgr -c -f -D 5 &amp;
exec nitrogen --restore
</pre>
<h2>
<span id=".E6.9C.89.E7.94.A8.E7.9A.84.E5.BF.AB.E6.8D.B7.E9.94.AE"></span><span class="mw-headline" id="有用的快捷键">有用的快捷键</span>
</h2>
<table class="wikitable">
<tbody>
<tr>
<td>
<code>Ctrl+t</code> <code>!</code> &lt;<i>程序名称</i>&gt; 启动某个程序
</td>
</tr>
<tr>
<td>
<code>Ctrl+t</code> <code>?</code> 显示快捷键设置
</td>
</tr>
<tr>
<td>
<code>Ctrl+t</code> <code>c</code> 启动一个x terminal
</td>
</tr>
<tr>
<td>
<code>Ctrl+t</code> <code>n</code> 切换到下一个窗口
</td>
</tr>
<tr>
<td>
<code>Ctrl+t</code> <code>p</code> 切换到之前的窗口
</td>
</tr>
<tr>
<td>
<code>Ctrl+t</code> <code>1</code>-<code>9</code> 切换到1-9号窗口
</td>
</tr>
<tr>
<td>
<code>Ctrl+t</code> <code>k</code> 关闭当前窗口
</td>
</tr>
<tr>
<td>
<code>Ctrl+t</code> <code>Shift+k</code> 杀死当前窗口
</td>
</tr>
<tr>
<td>
<code>Ctrl+t</code> <code>s</code>,<code>Shift+s</code> 将当前布局改为竖直布局或水平布局
</td>
</tr>
<tr>
<td>
<code>Ctrl+t</code> <code>Tab</code>, <code>←</code>, <code>↑</code>, <code>→</code>, <code>↓</code> 切换到下一个，左边的，顶部的，右边的，顶部的框架.
</td>
</tr>
<tr>
<td>
<code>Ctrl+t</code> <code>Shift+q</code> 将当前框架指定为唯一
</td>
</tr>
<tr>
<td>
<code>Ctrl+t</code> <code>:</code> 执行一个ratpoison命令
</td>
</tr>
</tbody>
</table>
<h2>
<span id=".E7.84.A6.E7.82.B9.E8.B7.9F.E9.9A.8F.E9.BC.A0.E6.A0.87"></span><span class="mw-headline" id="焦点跟随鼠标">焦点跟随鼠标</span>
</h2>
<p>Arch linux的ratpoison包同时在/usr/share/ratpoison中安装了编译脚本，sloppy.c。它能被用来在ratpoison中启动焦点跟随鼠标。为了启动它，你可以:
</p>
<pre># cd /usr/share/ratpoison/
# gcc -o sloppy sloppy.c -lX11
# ./sloppy
</pre>
<p>想要自启动，你可以将下列行加入~/.ratpoisonrc
</p>
<pre>exec /usr/share/ratpoison/sloppy
</pre>
<h2>
<span id="Ratpoison.E5.92.8C.E6.98.BE.E7.A4.BA.E7.AE.A1.E7.90.86.E5.99.A8"></span><span class="mw-headline" id="Ratpoison和显示管理器">Ratpoison和显示管理器</span>
</h2>
<p>许多<a href="../zh-CN/Display_manager.html" class="mw-redirect" title="显示管理器">display managers</a> (例如 <a href="../en/LightDM.html" title="LightDM">LightDM</a>) 在 <code>/usr/share/xsessions/</code>中确认可用的会话，并且大多数窗口管理器和桌面环境会在那建立一个.desktop文件。然而ratpoison却会在<code>/etc/X11/sessions/</code>里创建。 为了让显示管理器识别ratpoison，你需要将<code>/etc/X11/sessions/ratpoison.desktop</code> 拷贝至<code>/usr/share/xsessions/ratpoison.desktop</code>. 如果 <code>/usr/share/xsessions</code>不存在，你需要在root下建立
</p>
<h2>
<span id=".E6.9B.B4.E5.A4.9A.E9.93.BE.E6.8E.A5"></span><span class="mw-headline" id="更多链接">更多链接</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="http://ratpoison.wxcvbn.org/">The Ratpoison wiki</a></li>
<li>
<a rel="nofollow" class="external text" href="http://stumpwm.svkt.org/cgi-bin/ratpoison.pl?action=browse;id=keys">X11 Keys in Ratpoison</a><sup title="最后检查状态：domain name not resolved">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">失效链接</a> 2020-08-04 ⓘ]</sup>
</li>
<li><a rel="nofollow" class="external text" href="http://www.ormiret.com/?q=node/11">Ratpoison config sample</a></li>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=68622">Share your Ratpoison (experience) forum thread</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/jbaber/ratpoison_scripts">Collection of scripts for the Ratpoison window manager</a></li>
<li><a rel="nofollow" class="external text" href="http://www.nongnu.org/stumpwm/">Stumpwm - a successor to Ratpoison written in Common lisp</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../zh-CN/Category:Tiling_WMs.html" title="Category:Tiling WMs (简体中文)">Tiling WMs (简体中文)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Ratpoison_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=629929">https://wiki.archlinux.org/index.php?title=Ratpoison_(简体中文)&amp;oldid=629929</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 6 August 2020, at 07:26.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
