<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>USB flash installation medium (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-USB_flash_installation_medium_简体中文 rootpage-USB_flash_installation_medium_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">USB flash installation medium (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>相关文章</p>
<ul>
<li><a href="/title/CD_Burning" class="mw-redirect" title="CD Burning">CD Burning</a></li>
<li><a href="/title/Archiso" title="Archiso">Archiso</a></li>
<li><a href="/title/Multiboot_USB_drive" title="Multiboot USB drive">Multiboot USB drive</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="/title/USB_Flash_Installation_Media" class="mw-redirect" title="USB Flash Installation Media">USB_Flash_Installation_Media</a> 的<a href="/title/ArchWiki:Translation_Team_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2017-02-17。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=USB_Flash_Installation_Media&amp;diff=0&amp;oldid=467029">更改</a>，则您可以帮助同步翻译。</div>
<p>USB 驱动器，也被称为闪存驱动器、USB记忆棒、U盘等。可以从 ISO 制作 Arch LiveUSB 系统，从 UEFI 或 BIOS 系统上直接启动 Arch Linux 安装环境。因为<a href="https://en.wikipedia.org/wiki/SquashFS" class="extiw" title="wikipedia:SquashFS">SquashFS</a>的只读性质，关机后所有的更改都会丢失。这样的系统可用于 Arch Linux 安装、系统维护或者系统恢复。
</p>
<p>要在 U 盘上运行完整的 Arch Linux（即能保留设置），请阅读<a href="/title/Installing_Arch_Linux_on_a_USB_key_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" class="mw-redirect" title="Installing Arch Linux on a USB key (简体中文)">在U盘中安装Arch Linux</a>。如果想将 Arch Linux LiveUSB 当作救援 USB 来用，参见<a href="/title/Change_root_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" class="mw-redirect" title="Change root (简体中文)">Change Root</a>
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#BIOS_%E5%92%8C_UEFI_%E5%8F%AF%E5%90%AF%E5%8A%A8_USB"><span class="tocnumber">1</span> <span class="toctext">BIOS 和 UEFI 可启动 USB</span></a>
<ul>
<li class="toclevel-2 tocsection-2">
<a href="#dd"><span class="tocnumber">1.1</span> <span class="toctext">dd</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#GNU/Linux"><span class="tocnumber">1.1.1</span> <span class="toctext">GNU/Linux</span></a></li>
<li class="toclevel-3 tocsection-4">
<a href="#Windows"><span class="tocnumber">1.1.2</span> <span class="toctext">Windows</span></a>
<ul>
<li class="toclevel-4 tocsection-5"><a href="#Rufus"><span class="tocnumber">1.1.2.1</span> <span class="toctext">Rufus</span></a></li>
<li class="toclevel-4 tocsection-6"><a href="#USBwriter"><span class="tocnumber">1.1.2.2</span> <span class="toctext">USBwriter</span></a></li>
<li class="toclevel-4 tocsection-7"><a href="#Using_win32diskimager"><span class="tocnumber">1.1.2.3</span> <span class="toctext">Using win32diskimager</span></a></li>
<li class="toclevel-4 tocsection-8"><a href="#Cygwin"><span class="tocnumber">1.1.2.4</span> <span class="toctext">Cygwin</span></a></li>
<li class="toclevel-4 tocsection-9"><a href="#dd_for_Windows"><span class="tocnumber">1.1.2.5</span> <span class="toctext">dd for Windows</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-10"><a href="#macOS"><span class="tocnumber">1.1.3</span> <span class="toctext">macOS</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11">
<a href="#%E6%89%8B%E5%8A%A8%E6%96%B9%E6%B3%95"><span class="tocnumber">1.2</span> <span class="toctext">手动方法</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#GNU/Linux_2"><span class="tocnumber">1.2.1</span> <span class="toctext">GNU/Linux</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#Windows_2"><span class="tocnumber">1.2.2</span> <span class="toctext">Windows</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-14">
<a href="#BIOS_%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%85%B6%E4%BB%96%E6%96%B9%E6%B3%95"><span class="tocnumber">2</span> <span class="toctext">BIOS 系统的其他方法</span></a>
<ul>
<li class="toclevel-2 tocsection-15">
<a href="#GNU/Linux_3"><span class="tocnumber">2.1</span> <span class="toctext">GNU/Linux</span></a>
<ul>
<li class="toclevel-3 tocsection-16"><a href="#Using_GNOME_Disk_Utility"><span class="tocnumber">2.1.1</span> <span class="toctext">Using GNOME Disk Utility</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="#Making_an_USB-ZIP_drive"><span class="tocnumber">2.1.2</span> <span class="toctext">Making an USB-ZIP drive</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#UNetbootin"><span class="tocnumber">2.1.3</span> <span class="toctext">UNetbootin</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-19">
<a href="#Windows_3"><span class="tocnumber">2.2</span> <span class="toctext">Windows</span></a>
<ul>
<li class="toclevel-3 tocsection-20"><a href="#Win32_Disk_Imager"><span class="tocnumber">2.2.1</span> <span class="toctext">Win32 Disk Imager</span></a></li>
<li class="toclevel-3 tocsection-21"><a href="#USBWriter_for_Windows"><span class="tocnumber">2.2.2</span> <span class="toctext">USBWriter for Windows</span></a></li>
<li class="toclevel-3 tocsection-22"><a href="#Flashnul"><span class="tocnumber">2.2.3</span> <span class="toctext">Flashnul</span></a></li>
<li class="toclevel-3 tocsection-23">
<a href="#%E5%9C%A8%E5%86%85%E5%AD%98%E5%8A%A0%E8%BD%BD%E5%AE%89%E8%A3%85%E4%BB%8B%E8%B4%A8"><span class="tocnumber">2.2.4</span> <span class="toctext">在内存加载安装介质</span></a>
<ul>
<li class="toclevel-4 tocsection-24"><a href="#%E5%87%86%E5%A4%87_U_%E7%9B%98"><span class="tocnumber">2.2.4.1</span> <span class="toctext">准备 U 盘</span></a></li>
<li class="toclevel-4 tocsection-25"><a href="#%E5%A4%8D%E5%88%B6%E9%9C%80%E8%A6%81%E7%9A%84%E6%96%87%E4%BB%B6%E5%88%B0_U_%E7%9B%98"><span class="tocnumber">2.2.4.2</span> <span class="toctext">复制需要的文件到 U 盘</span></a></li>
<li class="toclevel-4 tocsection-26"><a href="#%E5%88%9B%E5%BB%BA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="tocnumber">2.2.4.3</span> <span class="toctext">创建配置文件</span></a></li>
<li class="toclevel-4 tocsection-27"><a href="#%E6%9C%80%E5%90%8E%E7%9A%84%E6%AD%A5%E9%AA%A4"><span class="tocnumber">2.2.4.4</span> <span class="toctext">最后的步骤</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-28"><a href="#%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4"><span class="tocnumber">3</span> <span class="toctext">故障排除</span></a></li>
<li class="toclevel-1 tocsection-29"><a href="#%E5%8F%82%E8%A7%81"><span class="tocnumber">4</span> <span class="toctext">参见</span></a></li>
</ul>
</div>

<h2>
<span id="BIOS_.E5.92.8C_UEFI_.E5.8F.AF.E5.90.AF.E5.8A.A8_USB"></span><span class="mw-headline" id="BIOS_和_UEFI_可启动_USB">BIOS 和 UEFI 可启动 USB</span>
</h2>
<h3><span class="mw-headline" id="dd">dd</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 推荐该方法是因为它简单。如果没有效果，请使用下面介绍的方法 <a href="#%E6%89%8B%E5%8A%A8%E6%96%B9%E6%B3%95">#手动方法</a>。</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>警告：</strong> 这种方法会删除 <code>/dev/sd<b>x</b></code> 上的所有数据且不可逆。要在使用 Arch ISO 之后释放空间，还原 USB 为原始状态，需要以 root 权限执行<code>wipefs --all /dev/<b>sdx</b></code>  命令删除 iso9660 文件系统标记，然后再 <a href="/title/Repartition" class="mw-redirect" title="Repartition">重新分区</a> 和 <a href="/title/Reformat" class="mw-redirect" title="Reformat">重新格式化</a> USB。</div>
<h4>
<span id="GNU.2FLinux"></span><span class="mw-headline" id="GNU/Linux">GNU/Linux</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 用 <code>lsblk</code> 找到U盘并确保<b>没有</b>挂载</div>
<p>用U盘替换 <code>/dev/<b>sdx</b></code>，如 <code>/dev/sdb</code>。（<b>不要</b>加上数字，也就是说，<b>不要</b>键入 <code>/dev/sdb<b>1</b></code> 之类的东西)
</p>
<pre> # dd bs=4M if=/path/to/archlinux.iso of=/dev/<b>sdx</b> status=progress &amp;&amp; sync
</pre>
<p>请等待 sync 完成，所有数据都写入之后再拔掉 U 盘。
</p>
<h4><span class="mw-headline" id="Windows">Windows</span></h4>
<h5><span class="mw-headline" id="Rufus">Rufus</span></h5>
<p><a rel="nofollow" class="external text" href="https://rufus.akeo.ie/?locale=zh_CN/">Rufus</a> is a multi-purpose USB iso writer. Simply select the Arch Linux ISO, the USB drive you want to create the bootable Arch Linux onto and click start.
</p>
<p>Since Rufus does not care if the drive is properly formatted or not and provides a GUI it may be the easiest and most robust tool to use.
</p>
<h5><span class="mw-headline" id="USBwriter">USBwriter</span></h5>
<p>这种方法和 <code>dd</code> 一样简单，只要下载 Arch Linux 安装镜像并用 <a rel="nofollow" class="external text" href="https://sourceforge.net/p/usbwriter/wiki/Documentation/">USBwriter</a> 写入U盘即可。
</p>
<h5><span class="mw-headline" id="Using_win32diskimager">Using win32diskimager</span></h5>
<p><a rel="nofollow" class="external text" href="https://sourceforge.net/projects/win32diskimager/">win32diskimager</a> is another graphical USB iso writing tool for Windows. Simply select your iso image and the target USB drive letter (you may have to format it first to assign it a drive letter), and click Write.
</p>
<h5><span class="mw-headline" id="Cygwin">Cygwin</span></h5>
<p>请确认您安装了<a rel="nofollow" class="external text" href="https://www.cygwin.com/">Cygwin</a>的 <code>dd</code> 包。
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 如果您不想安装 Cygwin，您可以直接从 <a rel="nofollow" class="external text" href="http://www.chrysocome.net/dd">这里</a>下载 <code>dd</code> for Windows。查看下一节以获得更多信息。</div>
<p>将您的镜像文件放在您的home目录中：
</p>
<pre>C:\cygwin\home\John\
</pre>
<p>以管理员身份运行cygwin（cygwin必须访问硬件）。用下列命令写入到您的USB设备：
</p>
<pre>dd if=image.iso of=\\.\[x]: bs=4M
</pre>
<p>其中 image.iso 要输入 <code>cygwin</code> 目录内的 iso 镜像文件名，而 <code>\\.\[<b>x</b>]</code>: 里面的 <b>x</b> 是 Windows为您的USB设备指定的盘符，例如 <code>\\.\d:</code>。
</p>
<p>Cygwin 6.0 版本中可以这样找到正确的分区：
</p>
<pre>cat /proc/partitions
</pre>
<p>然后根据输出信息写入ISO映像，例如：
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>警告：</strong> 这个操作会不可恢复的删除您 USB 设备上的所有文件，所以执行这个操作前请先确定您的 USB 设备中没有任何重要的数据。</div>
<pre>dd if=image.iso of=/dev/sdb bs=4M
</pre>
<h5><span class="mw-headline" id="dd_for_Windows">dd for Windows</span></h5>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 某些用户在使用这种方法时碰到了"isolinux.bin missing or corrupt"的问题。</div>
<p><a rel="nofollow" class="external free" href="http://www.chrysocome.net/dd">http://www.chrysocome.net/dd</a> 上有基于 GPL 协议的 dd for Windows。相比于 Cygwin，它的优势在于下载量小。使用方法已经在上面的 Cygwin 部分中说明了。
</p>
<p>首先下载最新版本的 dd for Windows，并把内容解压到 Downloads 目录或者别的什么地方。
保
现在以管理员身份运行 <code>命令提示符</code>。然后切换目录（<code>cd</code>）到 Downloads 目录。
</p>
<p>如果你的 Arch Linux ISO 在别的地方，你可能需要列出完整路径。方便起见，你可能会把它放在 dd 程序的同一目录中。命令的基本格式像这样：
</p>
<pre># dd if=<i>archlinux-2015-XX-YY-dual.iso</i> od=\\.\<i>x</i>: bs=4M
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The Windows drive letters are linked to a partition. To allow selecting the entire disk, <i>dd for Windows</i> provides the <code>od</code> parameter, which is used in the commands above. Note however that this parameter is specific to <i>dd for Windows</i> and cannot be found in other implementations of <i>dd</i>.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>警告：</strong> 这条命令会把驱动器的格式和内容按照 ISO 中的来填充。误操作后很可能无法恢复其原先的内容，在执行命令以前要确保你dd 中使用的是正确的驱动器！</div>
<p>用正常的日期和盘符来替换上面的空缺（以 "x" 来表示）
</p>
<p>下面是一个实例：
</p>
<pre># dd if=ISOs\archlinux-2015.01.01-dual.iso od=\\.\d: bs=4M
</pre>
<h4><span class="mw-headline" id="macOS">macOS</span></h4>
<p>做一些特定操作后才能在 Mac 下使用 <code>dd</code> 写入 USB 设备。先插入 USB 设备，OS X 会自动挂载它，然后在终端程序中运行:
</p>
<p>先确认设备，打开 <code>/Applications/Utilities/Terminal</code> 然后通过下面命令查看所有设备：
</p>
<pre>$ diskutil list
</pre>
<p>USB 设备应该显示类似 <code>/dev/disk2 (external, physical)</code>. 通过名称和大小确认设备名，在后面的命令中替换 /dev/diskX。
</p>
<p>设备会被自动挂载，在使用 dd 前需要先卸载设备上的分区：
</p>
<pre>$ diskutil unmountDisk /dev/disk2
</pre>
<p>接着我们可以依照上面介绍的方法继续操作，磁盘名使用 <code>rdisk</code>， 在 OS X 上比较快。
</p>
<pre>$ sudo dd if=path/to/arch.iso of=/dev/<b>r</b>diskX bs=1m
</pre>
<p>此时，在物理拔出U盘前，弹出您的USB驱动器可能是个好主意。
</p>
<p>完成后，Mac OS 可能抱怨 "The disk you inserted was not readable by this computer". 选择忽略。启动盘就做好了。
</p>
<h3>
<span id=".E6.89.8B.E5.8A.A8.E6.96.B9.E6.B3.95"></span><span class="mw-headline" id="手动方法">手动方法</span>
</h3>
<h4>
<span id="GNU.2FLinux_2"></span><span class="mw-headline" id="GNU/Linux_2">GNU/Linux</span>
</h4>
<p>这种方法比 <code>dd</code> 复杂，但能够保持U盘可用（ISO 被装在<a href="/title/Partitioning" title="Partitioning">分了区的设备</a>的某个分区里而无需改变其他分区）。
</p>
 <div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 接下来会用 <code>/dev/sd<b>Xn</b></code> 指代目标分区，请根据自身的情况调整 <b>X</b> 和 <b>n</b>。</div>
<ul><li>确保已经安装了最新版的 <i>syslinux</i>（6.02或更新）。</li></ul>
<ul><li>如果还未准备好，在继续前创建好分区表和分区。<code>/dev/sd<b>Xn</b></code> 必须格式化为 FAT32。</li></ul>
<ul><li>挂载 ISO 镜像。挂载U盘上的 FAT32 分区，把 ISO 镜像内的文件都复制进去。卸载 ISO 镜像，但不要卸载 FAT32 分区。接着执行：</li></ul>
<pre># mkdir -p /mnt/{iso,usb}
# mount -o loop archlinux-version-x86_64.iso /mnt/iso
# mount /dev/sd<b>Xn</b> /mnt/usb
# cp -a /mnt/iso/. /mnt/usb
# sync
# umount /mnt/iso
</pre>
<ul><li>卷标，或者 UUID 是成功引导必不可少的。默认识别的卷标是 <code>ARCH_2017<b>XX</b></code>（XX 和镜像发布月份有关）。因此，FAT32 分区的卷标须设成一样的（可以用<i>gparted</i>）。 要修改识别的卷标，可以编辑 <i>/mnt/usb/arch/boot/syslinux/archiso_sys32.cfg</i>、<i>archiso_sys64.cfg</i>和<i>/mnt/usb/loader/entries/archiso-x86_64.conf</i>中的  <code>archisolabel=ARCH_2017<b>XX</b></code>（最后一个文件仅对 EFI 系统生效）。32位的 ISO 需要类似修改。要让安装镜像识别 UUID 而不是卷标，将这些地方改为 <code>archiso<i>device</i>=/dev/disk/by-uuid/<b>YOUR-UUID</b></code>。UUID 可通过 <code>blkid -o value -s UUID /dev/sd<b>Xn</b></code> 查看。</li></ul>
 <div class="archwiki-template-box archwiki-template-box-warning">
<strong>警告：</strong> 错误的卷标或 UUID 会导致启动失败。</div>
<ul><li>
<i>/mnt/usb/arch/boot/syslinux</i> 里已经安装 syslinux。请按照 <a href="/title/Syslinux#Manual_install" title="Syslinux">Syslinux#Manual install</a>进行重装。
<ul><li>用新 syslinux 的模块（<code>*.c32</code> 文件）覆盖原有 syslinux 的模块，以免因版本差异导致启动失败。</li></ul>
</li></ul>
<pre># cp /usr/lib/syslinux/bios/*.c32 /mnt/usb/arch/boot/syslinux
</pre>
<ul><li><ul><li>运行：</li></ul></li></ul>
<pre># extlinux --install /mnt/usb/arch/boot/syslinux
</pre>
<ul><li><ul><li>卸载分区（<code>umount /mnt/usb</code>）并将 MBR 或 GPT 分区表安装到U盘。</li></ul></li></ul>
<ul><li>将该分区标记为活跃（或“启动”）。</li></ul>
<h4><span class="mw-headline" id="Windows_2">Windows</span></h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 
<ul><li>不要使用<b>可启动 USB 创建工具</b>制作UEFI 启动 USB。不要用<i>dd for Windows</i>将 ISO 镜像写入U盘。</li></ul>
<ul><li>以下命令假设U盘盘符为 <b>X:</b>。</li></ul>
<ul><li>Windows 使用反斜杠作为路径分隔符，以下命令也是。</li></ul>
<ul><li>所有命令都应该在<b>以管理员身份运行</b>的命令提示符内执行。</li></ul>
<ul><li>
<code>&gt;</code> 表示 Windows 命令提示符。</li></ul>
</div>
<ul><li>分区和格式化工具用 <a rel="nofollow" class="external text" href="https://rufus.akeo.ie/">Rufus USB partitioner</a>。partition scheme 选 <b>MBR for BIOS and UEFI</b>，文件系统选<b>FAT32</b>，反选“Create a bootable disk using ISO image”和“Create extended label and icon files”</li></ul>
<ul><li>如果用的是官方 ISO 镜像（<a href="/title/Archiso" title="Archiso">Archiso</a>），修改U盘 <code>X:</code> <b>卷标</b>，与 <code>&lt;ISO&gt;\loader\entries\archiso-x86_64.conf</code> 中的 <code>archisolabel=</code> 保持一致。如果是 <a href="/title/Archboot" title="Archboot">Archboot</a> 则不需要修改。卷标可在上一步使用 Rufus 进行分区和格式化时修改。</li></ul>
<ul><li>解压 ISO 文件至U盘（像解压 ZIP 文件一样，软件可用<a rel="nofollow" class="external text" href="https://7-zip.org/">7-Zip</a>）。</li></ul>
<ul><li>从 <a rel="nofollow" class="external free" href="https://www.kernel.org/pub/linux/utils/boot/syslinux/">https://www.kernel.org/pub/linux/utils/boot/syslinux/</a> 下载官方 syslinux 6.xx （ZIP文件）并解压。Syslinux 的版本应与 ISO 镜像所使用的版本一致。</li></ul>
<ul><li>运行以下命令（在命令提示符内，以管理员身份运行）：</li></ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> Archboot iso 用 <code>X:\boot\syslinux\</code>。</div>
<pre>&gt; cd bios\
&gt; for /r %Y in (*.c32) do copy "%Y" "X:\arch\boot\syslinux\" /y
&gt; copy mbr\*.bin X:\arch\boot\syslinux\ /y
</pre>
<ul><li>通过以下命令将 Syslinux 安装到U盘（64位系统则用 <code>win64\syslinux64.exe</code>）：</li></ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> Archboot iso 用 <code>-d /boot/syslinux</code>。</div>
<pre>&gt; cd bios\
&gt; win32\syslinux.exe -d /arch/boot/syslinux -i -a -m X:
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 
<ul><li>上述步骤将安装 Syslinux <code>ldlinux.sys</code> 至U盘分区 VBR，在 MBR 分区表中将该分区设置为活跃/启动，并将 MBR 引导代码写入U盘前 440字节引导代码区中。</li></ul>
<ul><li>
<code>-d</code>开关需要斜杠作为路径分隔符。</li></ul>
</div>
<h2>
<span id="BIOS_.E7.B3.BB.E7.BB.9F.E7.9A.84.E5.85.B6.E4.BB.96.E6.96.B9.E6.B3.95"></span><span class="mw-headline" id="BIOS_系统的其他方法">BIOS 系统的其他方法</span>
</h2>
<div class="noprint archwiki-template-message">
<p><a href="/title/File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a><b>本文或本节需要<a href="/title/ArchWiki:Contributing_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E7%BF%BB%E8%AF%91" title="ArchWiki:Contributing (简体中文)">翻译</a>。要贡献翻译，请访问<a href="/title/ArchWiki_Translation_Team_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" class="mw-redirect" title="ArchWiki Translation Team (简体中文)">简体中文翻译团队</a>。</b><a href="/title/File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>附注：</b> 请完成更新后的翻译。（在 <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:USB_flash_installation_medium_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Talk:USB flash installation medium (简体中文)#</a> 中讨论）</div>
</div>
<h3>
<span id="GNU.2FLinux_3"></span><span class="mw-headline" id="GNU/Linux_3">GNU/Linux</span>
</h3>
<h4><span class="mw-headline" id="Using_GNOME_Disk_Utility">Using GNOME Disk Utility</span></h4>
<p>Linux distributions running GNOME can easily make a live CD through <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nautilus">nautilus</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-disk-utility">gnome-disk-utility</a></span>.  Simply right-click on the .iso file, and select "Open With Disk Image Writer."  When GNOME Disk Utility opens, specify the flash drive from the "Destination" drop-down menu and click "Start Restoring."
</p>
<h4><span class="mw-headline" id="Making_an_USB-ZIP_drive">Making an USB-ZIP drive</span></h4>
<p>For some old BIOS systems, only booting from USB-ZIP drives is supported. This method allows you to still boot from a USB-HDD drive.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> This will destroy all information on your USB flash drive!</div>
<ul>
<li>Download <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=syslinux">syslinux</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mtools">mtools</a></span> from the official repositories.</li>
<li>Find your usb drive with <code>lsblk</code>.</li>
<li>Type <code>mkdiskimage -4 /dev/sd<b>x</b> 0 64 32</code> (replace x with the letter of your drive). This will take a while.</li>
</ul>
<p>From here continue with the manual formatting method. The partition will be /dev/sd<b>x</b>4 due to the way ZIP drives work.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Do not format the drive as FAT32 keep it as FAT16.</div>
<h4><span class="mw-headline" id="UNetbootin">UNetbootin</span></h4>
<p>可以在任何 Linux 发行版或者 Windows 中用 UNetbootin 把你的 ISO 复制到 USB 设备中，但是 Unetbootin 会覆盖 syslinux.cfg，创建的 USB 设备不能正常引导。由于这个原因，<b>不推荐使用 Unetbootin</b> -- 请使用 <code>dd</code> 或者这里列出的其它方法。
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>警告：</strong> UNetbootin 覆盖了默认的 <code>syslinux.cfg</code>；在USB设备正常引导前需要还原它。</div>
<p>编辑 <code>syslinux.cfg</code>：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">sysconfig.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">default menu.c32
prompt 0
menu title Archlinux Installer
timeout 100

label unetbootindefault
menu label Archlinux_x86_64
kernel /arch/boot/x86_64/vmlinuz
append initrd=/arch/boot/x86_64/archiso.img archisodevice=/dev/sd<b>x1</b> ../../

label ubnentry0
menu label Archlinux_i686
kernel /arch/boot/i686/vmlinuz
append initrd=/arch/boot/i686/archiso.img archisodevice=/dev/sd<b>x1</b> ../../</pre>
<p>你必须用你安装 Arch Linux 的位置，即首个系统未使用的字母来替换 <code>/dev/sd<b>x1</b></code> 中的 <b>x</b>（例如，如果你有两个硬盘，使用 <code>c</code>。）。你也可以在启动的第一阶段显示菜单的时候按 <code>Tab</code> 键改变它。
</p>
<h3><span class="mw-headline" id="Windows_3">Windows</span></h3>
<h4><span class="mw-headline" id="Win32_Disk_Imager">Win32 Disk Imager</span></h4>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>警告：</strong> 这些操作会销毁 U 盘中的所有信息！</div>
<p>首先从<a rel="nofollow" class="external text" href="https://sourceforge.net/projects/win32diskimager/">这里</a>下载程序。然后解压并运行可执行程序。在 <code>Image FIle</code> 部分中选择 Arch Linux ISO，在 <code>Device</code> 部分中选择 U 盘的盘符。准备就绪后点击 <code>Write</code>。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 安装后你可能需要以<a href="/title/USB_Installation_Media#How_to_restore_the_USB_drive" class="mw-redirect" title="USB Installation Media">这里</a><sup>[<a href="/title/ArchWiki:Requests#Broken_section_links" class="mw-redirect" title="ArchWiki:Requests">断开的链接</a>：无效的部分]</sup>列出的流程恢复 U 盘。</div>
<h4><span class="mw-headline" id="USBWriter_for_Windows">USBWriter for Windows</span></h4>
<p>从 <a rel="nofollow" class="external free" href="https://sourceforge.net/projects/usbwriter/">https://sourceforge.net/projects/usbwriter/</a> 下载程序并运行。选择 arch 镜像文件和目标U盘，然后点击 <code>write</code> 按钮。现在你应该能够从 U 盘启动安装 Arch Linux。
</p>
<h4><span class="mw-headline" id="Flashnul">Flashnul</span></h4>
<p><a rel="nofollow" class="external text" href="https://shounen.ru/soft/flashnul/">flashnul</a> 是一个用来检测和维护闪存（USB-Flash，IDE-Flash，SecureDigital，MMC，MemoryStick，SmartMedia，XD，CompactFlash 等）的工具。
</p>
<p>从命令提示符下，使用 <code>–p</code> 参数调用 flashnul  命令来确定 USB 设备的盘符，例如：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">C:\&gt;flashnul -p</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"> Avaible physical drives:
 Avaible logical disks:
 C:\
 D:\
 E:\
</pre>
<p>在本例中，USB 设备的盘符是 E:
</p>
<p>当您确定正确的设备后，您可以将镜像写入到您的设备中，通过调用flashnul命令，后面输入您的设备序号，再输入 <code>-L</code> 及镜像的完整路径，例如：
</p>
<pre>C:\&gt;flashnul <b>E:</b> -L <i>path\to\arch.iso</i>
</pre>
<p>在您真的确定要写入这些数据时，输入yes，然后等它写入完成。如果您见到拒绝访问的错误提示，关闭所有打开的资源管理器的窗口。
</p>
<p>如果是在 Vista 或者 Win7 下，您需要以管理员的身份打开控制台，否则flashnul不能以块设备的方式访问 U 盘，而只能通过 Windows 提供的驱动句柄写入数据。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 请确认您使用的是盘符而不是数字。flashnul 1rc1, Windows 7 x64.</div>
<h4>
<span id=".E5.9C.A8.E5.86.85.E5.AD.98.E5.8A.A0.E8.BD.BD.E5.AE.89.E8.A3.85.E4.BB.8B.E8.B4.A8"></span><span class="mw-headline" id="在内存加载安装介质">在内存加载安装介质</span>
</h4>
<div class="noprint archwiki-template-message">
<p><a href="/title/File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" decoding="async" width="48" height="48"></a><b>This article or section is a candidate for merging with <a href="/title/Multiboot_USB_drive#Using_Syslinux_and_memdisk" title="Multiboot USB drive">Multiboot USB drive#Using Syslinux and memdisk</a>.</b><a href="/title/File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Notes:</b> 除了 Syslinux 是从 Windows 上安装的，其他都一样。考虑到 <a href="/title/Multiboot_USB_drive" title="Multiboot USB drive">多启动U盘</a>也能引导安装介质，而且也已经在相关文章添加了链接，或许这两小节可以合并在一起？ (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:USB_flash_installation_medium_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Talk:USB flash installation medium (简体中文)#</a>)</div>
</div>
<p>这个方法使用 <a href="/title/Syslinux_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" title="Syslinux (简体中文)">Syslinux (简体中文)</a> 和一个 <a href="/title/Ramdisk" class="mw-redirect" title="Ramdisk">Ramdisk</a> (<a rel="nofollow" class="external text" href="https://wiki.syslinux.org/wiki/index.php/MEMDISK">MEMDISK</a>) 来把整个 Arch Linux ISO 镜像加载到内存中。因为它将完全运行于系统内存中，您要确保使用这种方法安装的系统有足够的内存。至少 500MB 到 1G 内存就足以在 MEMDISK 上安装 Arch Linux。
Arch Linux 和 MEMDISK 系统要求参见<a href="/title/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" title="Installation guide (简体中文)">安装指南</a>和<a rel="nofollow" class="external text" href="http://etherboot.org/wiki/bootingmemdisk#preliminaries">这里</a>。<a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=135266">论坛参考贴</a>。
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong>  一旦安装程序加载完毕，您就可以移除 U 盘，甚至再在另一台机器上用它开始执行整个安装步骤。使用 MEMDISK 还允许你在同一个 U 盘中引导并安装 Arch Linux 到它上面。</div>
<h5>
<span id=".E5.87.86.E5.A4.87_U_.E7.9B.98"></span><span class="mw-headline" id="准备_U_盘">准备 U 盘</span>
</h5>
<p>首先格式化 U 盘分区为 ‘’‘FAT32<b> 文件系统。然后在格式化后的磁盘中创建以下目录：</b>
</p>
<ul><li>
<code>Boot</code>
<ul>
<li><code>Boot/ISOs</code></li>
<li><code>Boot/Settings</code></li>
</ul>
</li></ul>
<h5>
<span id=".E5.A4.8D.E5.88.B6.E9.9C.80.E8.A6.81.E7.9A.84.E6.96.87.E4.BB.B6.E5.88.B0_U_.E7.9B.98"></span><span class="mw-headline" id="复制需要的文件到_U_盘">复制需要的文件到 U 盘</span>
</h5>
<p>然后，把要引导的 ISO 复制到 <code>Boot/ISOs</code> 目录。接着，从<a rel="nofollow" class="external text" href="https://www.kernel.org/pub/linux/utils/boot/syslinux/">这里</a> 最新版的 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=syslinux">syslinux</a></span> 中提取以下文件并复制到下列目录：
</p>
<ul>
<li>
<code>./win32/syslinux.exe</code> 到桌面或者系统中的 Downloads 目录。</li>
<li>
<code>./memdisk/memdisk</code> 到 U 盘中的 {{ic|Settings} 目录。</li>
</ul>
<h5>
<span id=".E5.88.9B.E5.BB.BA.E9.85.8D.E7.BD.AE.E6.96.87.E4.BB.B6"></span><span class="mw-headline" id="创建配置文件">创建配置文件</span>
</h5>
<p>复制完所需文件后，在 U 盘的 /Boot/Settings 目录中创建文件 <code>syslinux.cfg</code>：
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>警告：</strong> <code>INITRD</code> 一行中，一定要用复制到 <code>ISOs</code> 目录中的 ISO 文件名！</div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/Boot/Settings/syslinux.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">DEFAULT arch_iso
 
 LABEL arch_iso
         MENU LABEL Arch Setup
         LINUX memdisk
         INITRD /Boot/ISOs/archlinux-2015.01.01-dual.iso
         APPEND iso</pre>
<p>更多关于 Syslinux 的信息，参见 <a href="/title/Syslinux" title="Syslinux">Arch Wiki 文章</a>。
</p>
<h5>
<span id=".E6.9C.80.E5.90.8E.E7.9A.84.E6.AD.A5.E9.AA.A4"></span><span class="mw-headline" id="最后的步骤">最后的步骤</span>
</h5>
<p>最后，在 <code>syslinux.exe</code> 所在目录创建一个 <code>*.bat</code> 文件并运行（如果是在 Vista 或者 Windows 7 下，需要“以管理员身份运行”）：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">C:\Documents and Settings\username\Desktop\install.bat</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"> @echo off
 syslinux.exe -m -a -d /Boot/Settings X:</pre>
<h2>
<span id=".E6.95.85.E9.9A.9C.E6.8E.92.E9.99.A4"></span><span class="mw-headline" id="故障排除">故障排除</span>
</h2>
<ul><li>对于 <a href="#%E5%9C%A8%E5%86%85%E5%AD%98%E5%8A%A0%E8%BD%BD%E5%AE%89%E8%A3%85%E4%BB%8B%E8%B4%A8">MEMDISK 方法</a>，如果你尝试引导 i686 版本的系统时碰到了著名的 <i>30 seconds error</i>，那么在 <code>Boot Arch Linux (i686)</code> 条目上按 <code>Tab</code> 键，然后在末尾添加 <code>vmalloc=448M</code>。参考： <i>如果你的映像大于 128MiB 且你使用的是32位操作系统，你必须增加最大内存使用参数vmalloc</i>。<a rel="nofollow" class="external text" href="https://wiki.syslinux.org/wiki/index.php/MEMDISK#-_memdiskfind_in_combination_with_phram_and_mtdblock">(*)</a>
</li></ul>
<ul><li>如果你碰到因 <code>/dev/disk/by-label/ARCH_XXXXXX</code> 未挂载而导致的 <i>30 seconds error</i>，可尝试重命名你的 USB 媒介为 <code>ARCH_XXXXXX</code>（例如 <code>ARCH_201501</code>）。</li></ul>
<h2>
<span id=".E5.8F.82.E8.A7.81"></span><span class="mw-headline" id="参见">参见</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://wiki.gentoo.org/wiki/LiveUSB/HOWTO">Gentoo wiki - LiveUSB/HOWTO</a></li>
<li><a rel="nofollow" class="external text" href="https://fedoraproject.org/wiki/How_to_create_and_use_Live_USB">Fedora wiki - How to create and use Live USB</a></li>
<li><a rel="nofollow" class="external text" href="https://en.opensuse.org/SDB:Live_USB_stick">openSUSE wiki - SDB:Live USB stick</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="/title/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/title/Category:Installation_process_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" title="Category:Installation process (简体中文)">Installation process (简体中文)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="/title/Category:Pages_or_sections_flagged_with_Template:Translateme_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" title="Category:Pages or sections flagged with Template:Translateme (简体中文)">Pages or sections flagged with Template:Translateme (简体中文)</a></li>
<li><a href="/title/Category:Pages_with_broken_section_links" title="Category:Pages with broken section links">Pages with broken section links</a></li>
<li><a href="/title/Category:Pages_or_sections_flagged_with_Template:Merge" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=USB_flash_installation_medium_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=669466">https://wiki.archlinux.org/index.php?title=USB_flash_installation_medium_(简体中文)&amp;oldid=669466</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 8 May 2021, at 11:50.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="/title/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/title/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="/title/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
