<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>PKGBUILD (Polski) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-PKGBUILD_Polski rootpage-PKGBUILD_Polski skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">PKGBUILD (Polski)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a><b>This article or section needs to be <a href="../en/ArchWiki:Contributing.html#Translating" title="ArchWiki:Contributing">translated</a>.</b><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Notes:</b> <span style="color:red;">please use the first argument of the template to provide more detailed indications.</span> (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:PKGBUILD_(Polski)">Talk:PKGBUILD (Polski)#</a>)</div>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Translation Status:</strong> This article is a localized version of <a href="../en/PKGBUILD.html" title="PKGBUILD">PKGBUILD</a>. Last translation date: 9 November 2012‎. You can help to synchronize the translation, if there were <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=PKGBUILD&amp;diff=0&amp;oldid=History">ID changes</a> in the English version.</div>
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/Arch_package_guidelines.html" class="mw-redirect" title="Arch Packaging Standards">Arch Packaging Standards</a></li>
<li><a href="/index.php?title=Tworzenie_Pakiet%C3%B3w&amp;action=edit&amp;redlink=1" class="new" title="Tworzenie Pakietów (page does not exist)">Tworzenie Pakietów</a></li>
<li><a href="../en/Pacman/Tips_and_tricks.html#Custom_local_repository" class="mw-redirect" title="Custom local repository">Custom local repository</a></li>
<li><a href="../en/Pacman/Tips_and_tricks.html" class="mw-redirect" title="Pacman Tips">pacman Tips</a></li>
</ul>
</div>
<p><b>PKGBUILD</b> jest plikiem <a href="../pl/Arch_Linux.html" title="Arch Linux (Polski)">Arch Linuksa</a> opisującym proces budowania pakietu używany podczas <a href="/index.php?title=Tworzenie_Pakiet%C3%B3w&amp;action=edit&amp;redlink=1" class="new" title="Tworzenie Pakietów (page does not exist)">tworzenia pakietów</a>.
</p>
<p>Pakiety w Arch Linuksie budowane są za pomocą narzędzia <a href="../en/Makepkg.html" title="Makepkg">makepkg</a> i informacji zawartych w PKGBUILDach. Kiedy <b>makepkg</b> jest uruchamiany, szuka pliku <code>PKGBUILD</code> w aktualnym katalogu i postępuje zgodnie ze wskazówkami w nim zawartymi aby skompilować źródła lub w jakikolwiek inny sposób pobrać pliki potrzebne do zbudowania pliku pakietu (<code><i>pkgname</i>.pkg.tar.xz</code>). Wynikowy pakiet zawiera pliki binarne i instrukcje instalacyjne, łatwo instalowane z <a href="../en/Pacman.html" title="Pacman">pacmanem</a>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Zmienne"><span class="tocnumber">1</span> <span class="toctext">Zmienne</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#pkgname"><span class="tocnumber">1.1</span> <span class="toctext">pkgname</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#pkgver"><span class="tocnumber">1.2</span> <span class="toctext">pkgver</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#pkgrel"><span class="tocnumber">1.3</span> <span class="toctext">pkgrel</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#epoch"><span class="tocnumber">1.4</span> <span class="toctext">epoch</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#pkgdesc"><span class="tocnumber">1.5</span> <span class="toctext">pkgdesc</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#arch"><span class="tocnumber">1.6</span> <span class="toctext">arch</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#url"><span class="tocnumber">1.7</span> <span class="toctext">url</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#license"><span class="tocnumber">1.8</span> <span class="toctext">license</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#groups"><span class="tocnumber">1.9</span> <span class="toctext">groups</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#depends"><span class="tocnumber">1.10</span> <span class="toctext">depends</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#makedepends"><span class="tocnumber">1.11</span> <span class="toctext">makedepends</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#checkdepends"><span class="tocnumber">1.12</span> <span class="toctext">checkdepends</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#optdepends"><span class="tocnumber">1.13</span> <span class="toctext">optdepends</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#provides"><span class="tocnumber">1.14</span> <span class="toctext">provides</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#conflicts"><span class="tocnumber">1.15</span> <span class="toctext">conflicts</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#replaces"><span class="tocnumber">1.16</span> <span class="toctext">replaces</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#backup"><span class="tocnumber">1.17</span> <span class="toctext">backup</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#options"><span class="tocnumber">1.18</span> <span class="toctext">options</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#install"><span class="tocnumber">1.19</span> <span class="toctext">install</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#changelog"><span class="tocnumber">1.20</span> <span class="toctext">changelog</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#source"><span class="tocnumber">1.21</span> <span class="toctext">source</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#noextract"><span class="tocnumber">1.22</span> <span class="toctext">noextract</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#md5sums"><span class="tocnumber">1.23</span> <span class="toctext">md5sums</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#sha1sums"><span class="tocnumber">1.24</span> <span class="toctext">sha1sums</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#sha256sums,_sha384sums,_sha512sums"><span class="tocnumber">1.25</span> <span class="toctext">sha256sums, sha384sums, sha512sums</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-27"><a href="#See_also"><span class="tocnumber">2</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Zmienne">Zmienne</span></h2>
<p>Poniżej przedstawiono zmienne które mogą być użyte w pliku PKGBUILD.
</p>
<p>Powszechną praktyką jest zdefiniowanie zmiennych w PKGBUILD w tej samej kolejności, jak podano tutaj. Jednak nie jest to obowiązkowe, tak jak poprawna składnia <a href="/index.php?title=Bash_(Polski)&amp;action=edit&amp;redlink=1" class="new" title="Bash (Polski) (page does not exist)">Bash (Polski)</a> jest używana.
</p>
<h3><span class="mw-headline" id="pkgname">pkgname</span></h3>
<p>Nazwa pakietu. Powina składać się z <i>alfanumerycznych i znaka myślnika ('-')</i> i wszystkie litery muszą być <i>małe</i>. Dla zachowania spójności, <code>pkgname</code> powinien pasować do nazwy archiwum źródła które pakujesz. Na przykład, jeśli oprogramowanie jest w <code>foobar-2.5.tar.gz</code>, wartość <code>pkgname</code> powinna być <code>foobar</code>. Katalog roboczy pliku PKGBUILD powinien także pasować do <code>pkgname</code>.
</p>
<h3><span class="mw-headline" id="pkgver">pkgver</span></h3>
<p>Wersja pakiet. Wartość powinna być taka sama jak wersja źródeł udostępnionych przez autora. Może zawierać litery, cyfry i kropki, ale nie może zawierać dwukropka. Jeśli autor pakietu używa tego łącznika w wersji systemu numeracji, zastąp go podkreśleniem. Na przykład, jeśli wersja jest <i>0.99-10</i>, powinna zostać zmieniona na <i>0.99_10</i>. Jeśli zmienna <code>pkgver</code> jest używana później w PKGBUILD wtedy podkreślenie można łatwo zastąpić kreską, na przykład:
</p>
<pre>source=($pkgname-${pkgver//_/-}.tar.gz)
</pre>
<h3><span class="mw-headline" id="pkgrel">pkgrel</span></h3>
<p>Ostateczna wersja pakietu specyficzna dla Arch Linuksa. Ta wartość umożliwia użytkownikom odróżnić kolejne budowania tej samej wersji pakietu. Kiedy nowa wersja pakietu jest pierwszą wypuszczana, wtedy <b>numer wersji zaczyna się od 1</b>. Jeśli poprawki i optymalizacje są robione dla pliku <code>PKGBUILD</code>, wtedy pakiety będzie <b>re-released</b> i <b>numer wersji</b> zostanie zwiększony o 1. Kiedy nowa wersja pakietu źródłowego wyjdzie, numer wersji resetowany jest do 1.
</p>
<h3><span class="mw-headline" id="epoch">epoch</span></h3>
<p>An integer value, specific to Arch Linux, representing what 'lifetime' to compare version numbers against. This value allows overrides of the normal version comparison rules for packages that have inconsistent version numbering, require a downgrade, change numbering schemes, etc. By default, packages are assumed to have an epoch value of <i>0</i>. Do not use this unless you know what you are doing.
</p>
<h3><span class="mw-headline" id="pkgdesc">pkgdesc</span></h3>
<p>Opis pakietu. Opis powinien zawierać około 80 znaków lub mniej i nie powinien zawierać nazwy pakietu. Dla przykładu, "Nedit jest edytorem tekstu dla X11" powinien zostać zmieniony na "Edytor tekstu dla X11".
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Nie przestrzegaj tej zasady bezmyślnie kiedy wysyłasz pakiety do <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>. Jeśli nazwa pakietu różni się od nazwy aplikacji z jakiś powodów, dołączenie pełnej nazwy do opisu może być jedyną drogą do zapewnienia aby pakiet został znaleziony podczas wyszukiwania.</div>
<h3><span class="mw-headline" id="arch">arch</span></h3>
<p>Tablica architektur znanych plikowi <code>PKGBUILD</code> do zbudowania i pracowania na nich. Aktualnie, powinna zawierać <code>i686</code> i/lub <code>x86_64</code>, <code>arch=('i686' 'x86_64')</code>. Wartość <code>any</code> może być użyta dla pakietów niezależnych-architekturowo.
</p>
<p>Dostęp do architektury masz przez zmienną <code>$CARCH</code> podczas budowania a nawet przy definiowaniu zmiennych. Zobacz także <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/16352">FS#16352</a>. Na przykład:
</p>
<pre>depends=(foobar)
if test "$CARCH" == x86_64; then
  depends=("${depends[@]}" lib32-glibc)
fi
</pre>
<h3><span class="mw-headline" id="url">url</span></h3>
<p>The URL of the official site of the software being packaged.
</p>
<h3><span class="mw-headline" id="license">license</span></h3>
<p>The license under which the software is distributed. A <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=licenses">licenses</a></span> package has been created in <code>[core]</code> that stores common licenses in <code>/usr/share/licenses/common</code>, e.g. <code>/usr/share/licenses/common/GPL</code>. If a package is licensed under one of these licenses, the value should be set to the directory name, e.g. <code>license=('GPL')</code>. If the appropriate license is not included in the official <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=licenses">licenses</a></span> package, several things must be done:
</p>
<ol>
<li>The license file(s) should be included in: <code>/usr/share/licenses/<i>pkgname</i>/</code>, e.g. <code>/usr/share/licenses/foobar/LICENSE</code>.</li>
<li>If the source tarball does NOT contain the license details and the license is only displayed elsewhere, e.g. a website, then you need to copy the license to a file and include it.</li>
<li>Add <code>custom</code> to the <code>license</code> array. Optionally, you can replace <code>custom</code> with <code>custom:name of license</code>. Once a license is used in two or more packages in an official repository (including <code>[community]</code>), it becomes a part of the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=licenses">licenses</a></span> package.</li>
</ol>
<ul>
<li>The <a href="https://en.wikipedia.org/wiki/BSD_License" class="extiw" title="wikipedia:BSD License">BSD</a>, <a href="https://en.wikipedia.org/wiki/MIT_License" class="extiw" title="wikipedia:MIT License">MIT</a>, <a href="https://en.wikipedia.org/wiki/ZLIB_license" class="extiw" title="wikipedia:ZLIB license">zlib/png</a> and <a href="https://en.wikipedia.org/wiki/Python_License" class="extiw" title="wikipedia:Python License">Python</a> licenses are special cases and could not be included in the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=licenses">licenses</a></span> package. For the sake of the <code>license</code> array, it is treated as a common license (<code>license=('BSD')</code>, <code>license=('MIT')</code>, <code>license=('ZLIB')</code> and <code>license=('Python')</code>) but technically each one is a custom license because each one has its own copyright line. Any packages licensed under these four should have its own unique license stored in <code>/usr/share/licenses/<i>pkgname</i></code>. Some packages may not be covered by a single license. In these cases, multiple entries may be made in the license array, e.g. <code>license=('GPL' 'custom:name of license')</code>.</li>
<li>Additionally, the (L)GPL has many versions and permutations of those versions. For (L)GPL software, the convention is:
<ul>
<li>(L)GPL - (L)GPLv2 or any later version</li>
<li>(L)GPL2 - (L)GPL2 only</li>
<li>(L)GPL3 - (L)GPL3 or any later version</li>
</ul>
</li>
<li>If after researching the issue no license can be determined, <code>PKGBUILD.proto</code> suggests using <code>unknown</code>. However, upstream should be contacted about the conditions under which the software is (and is not) available.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Some software authors do not provide separate license file and describe distribution rules in section of common ReadMe.txt. This information can be extracted in separate file during <code>build</code> phase with something like this: <code>sed -n '/<b>This software</b>/,/<b>  thereof.</b>/p' ReadMe.txt &gt; LICENSE</code>.</div>
<h3><span class="mw-headline" id="groups">groups</span></h3>
<p>The group the package belongs in. For instance, when you install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/kdebase/">kdebase</a></span><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup> package, it installs all packages that belong in the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/kde/">kde</a></span><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup> group.
</p>
<h3><span class="mw-headline" id="depends">depends</span></h3>
<p>An array of package names that must be installed before this software can be run. If a software requires a minimum version of a dependency, the <code>&gt;=</code> operator should be used to point this out, e.g. <code>depends=('foobar&gt;=1.8.0')</code>. You do not need to list packages that your software depends on if other packages your software depends on already have those packages listed in their dependency. For instance, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gtk2">gtk2</a></span> depends on <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glib2">glib2</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glibc">glibc</a></span>. However, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glibc">glibc</a></span> does not need to be listed as a dependency for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gtk2">gtk2</a></span> because it is a dependency for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glib2">glib2</a></span>.
</p>
<h3><span class="mw-headline" id="makedepends">makedepends</span></h3>
<p>An array of package names that must be installed to build the software but unnecessary for using the software after installation. You can specify the minimum version dependency of the packages in the same format as the <code>depends</code> array.
</p>
<p><br>	
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Specifying packages that are already in <code>depends</code> is not necessary.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> The group <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/base-devel/">base-devel</a></span> is assumed already installed when building with makepkg . Members of "base-devel" <b>should not</b> be included in <code>makedepends</code> arrays.</div>
<h3><span class="mw-headline" id="checkdepends">checkdepends</span></h3>
<p>An array of packages this package depends on to run its test suite but are not needed at runtime. Packages in this list follow the same format as depends. These dependencies are only considered when the <code>check()</code> function is present and is to be run by makepkg.
</p>
<h3><span class="mw-headline" id="optdepends">optdepends</span></h3>
<p>An array of package names that are not needed for the software to function but provides additional features. A short description of what each package provides should also be noted. An <code>optdepends</code> may look like this:
</p>
<pre>optdepends=('cups: printing support'
'sane: scanners support'
'libgphoto2: digital cameras support'
'alsa-lib: sound support'
'giflib: GIF images support'
'libjpeg: JPEG images support'
'libpng: PNG images support')
</pre>
<h3><span class="mw-headline" id="provides">provides</span></h3>
<p>An array of package names that this package provides the features of (or a virtual package such as <code>cron</code> or <code>sh</code>). Packages that provide the same things can be installed at the same time unless conflict with each other (see below). If you use this variable, you should add the version (<code>pkgver</code> and perhaps the <code>pkgrel</code>) that this package will provide if dependencies may be affected by it. For instance, if you are providing a modified <i>qt</i> package named <i>qt-foobar</i> version 3.3.8 which provides <i>qt</i> then the <code>provides</code> array should look like <code>provides=('qt=3.3.8')</code>. Putting <code>provides=('qt')</code> will cause to fail those dependencies that require a specific version of <i>qt</i>. Do not add <code>pkgname</code> to your provides array, this is done automatically.
</p>
<h3><span class="mw-headline" id="conflicts">conflicts</span></h3>
<p>An array of package names that may cause problems with this package if installed. Package with this name and all packages which <code>provides</code> virtual packages with this name will be removed. You can also specify the version properties of the conflicting packages in the same format as the <code>depends</code> array.
</p>
<h3><span class="mw-headline" id="replaces">replaces</span></h3>
<p>An array of obsolete package names that are replaced by this package, e.g. <code>replaces=('wireshark')</code> for the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wireshark-gtk">wireshark-gtk</a></span><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: replaced by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wireshark-qt">wireshark-qt</a></span>]</sup> package. After syncing with <code>pacman -Sy</code>, it will immediately replace an installed package upon encountering another package with the matching <code>replaces</code> in the repositories. If you are providing an alternate version of an already existing package, use the <code>conflicts</code> variable which is only evaluated when actually installing the conflicting package.
</p>
<h3><span class="mw-headline" id="backup">backup</span></h3>
<p>An array of files to be backed up as <code>file.pacsave</code> when the package is removed. This is commonly used for packages placing configuration files in <code>/etc</code>. The file paths in this array should be relative paths (e.g. <code>etc/pacman.conf</code>) not absolute paths (e.g. <code>/etc/pacman.conf</code>). See also <a href="../en/Pacman/Pacnew_and_Pacsave.html" class="mw-redirect" title="Pacnew and Pacsave files">Pacnew and Pacsave files</a>.
</p>
<h3><span class="mw-headline" id="options">options</span></h3>
<p>This array allows you to override some of the default behavior of <code>makepkg</code>, defined in <code>/etc/makepkg.conf</code>. To set an option, include the option name in the array. To reverse the default behavior, place an <b><code>!</code></b> at the front of the option. The following options may be placed in the array:
</p>
<ul>
<li>
<i><b>strip</b></i> - Strips symbols from binaries and libraries. If you frequently use a debugger on programs or libraries, it may be helpful to disable this option.</li>
<li>
<i><b>docs</b></i> - Save <code>/doc</code> directories.</li>
<li>
<i><b>libtool</b></i> - Leave <i>libtool</i> (<code>.la</code>) files in packages.</li>
<li>
<i><b>emptydirs</b></i> - Leave empty directories in packages.</li>
<li>
<i><b>zipman</b></i> - Compress <i>man</i> and <i>info</i> pages with <i>gzip</i>.</li>
<li>
<i><b>ccache</b></i> - Allow the use of <code>ccache</code> during build. More useful in its negative form <code>!ccache</code> with select packages that have problems building with <code>ccache</code>.</li>
<li>
<i><b>distcc</b></i> - Allow the use of <code>distcc</code> during build. More useful in its negative form <code>!distcc</code> with select packages that have problems building with <code>distcc</code>.</li>
<li>
<i><b>buildflags</b></i> - Allow the use of user-specific <code>buildflags</code> (CFLAGS, CXXFLAGS, LDFLAGS) during build. More useful in its negative form <code>!buildflags</code> with select packages that have problems building with custom <code>buildflags</code>.</li>
<li>
<i><b>makeflags</b></i> - Allow the use of user-specific <code>makeflags</code> during build. More useful in its negative form <code>!makeflags</code> with select packages that have problems building with custom <code>makeflags</code>.</li>
</ul>
<h3><span class="mw-headline" id="install">install</span></h3>
<p>The name of the <code>.install</code> script to be included in the package. pacman has the ability to store and execute a package-specific script when it installs, removes or upgrades a package. The script contains the following functions which run at different times:
</p>
<ul>
<li>
<i><b>pre_install</b></i> - The script is run right before files are extracted. One argument is passed: new package version.</li>
<li>
<i><b>post_install</b></i> - The script is run right after files are extracted. One argument is passed: new package version.</li>
<li>
<i><b>pre_upgrade</b></i> - The script is run right before files are extracted. Two arguments are passed in the following order: new package version, old package version.</li>
<li>
<i><b>post_upgrade</b></i> - The script is run after files are extracted. Two arguments are passed in the following order: new package version, old package version.</li>
<li>
<i><b>pre_remove</b></i> - The script is run right before files are removed. One argument is passed: old package version.</li>
<li>
<i><b>post_remove</b></i> - The script is run right after files are removed. One argument is passed: old package version.</li>
</ul>
<p>Each function is run chrooted inside the pacman install directory. See <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=913891">this thread</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> A prototype <code>.install</code> is provided at <code>/usr/share/pacman/proto.install</code>.</div>
<h3><span class="mw-headline" id="changelog">changelog</span></h3>
<p>The name of the package changelog. To view changelogs for installed packages (that have this file):
</p>
<pre>pacman -Qc <i>pkgname</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> A prototype changelog file is provided at <code>/usr/share/pacman/ChangeLog.proto</code>.</div>
<h3><span class="mw-headline" id="source">source</span></h3>
<p>An array of files which are needed to build the package. It must contain the location of the software source, which in most cases is a full HTTP or FTP URL. The previously set variables <code>pkgname</code> and <code>pkgver</code> can be used effectively here (e.g. <code>source=(http://example.com/$pkgname-$pkgver.tar.gz)</code>)
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If you need to supply files which are not downloadable on the fly, e.g. self-made patches, you simply put those into the same directory where your <code>PKGBUILD</code> file is in and add the filename to this array. Any paths you add here are resolved relative to the directory where the <code>PKGBUILD</code> lies. Before the actual build process is started, all of the files referenced in this array will be downloaded or checked for existence, and <code>makepkg</code> will not proceed if any are missing.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> You can specify a different name for the downloaded file - if the downloaded file has a different name for some reason like the URL had a GET parameter - using the following syntax: <code><i>filename</i>::<i>fileuri</i></code>, for example <code>$pkgname-$pkgver.zip::http://199.91.152.193/7pd0l2tpkidg/jg2e1cynwii/Warez_collection_16.4.exe</code>
</div>
<h3><span class="mw-headline" id="noextract">noextract</span></h3>
<p>An array of files listed under the <code>source</code> array which should not be extracted from their archive format by <code>makepkg</code>. This most commonly applies to certain zip files which cannot be handled by <code>/usr/bin/bsdtar</code> because <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libarchive">libarchive</a></span> processes all files as streams rather than random access as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=unzip">unzip</a></span> does. In these situations <code>unzip</code> should be added in the <code>makedepends</code> array and the first line of the <code>build()</code> function should contain:
</p>
<pre>cd "$srcdir/$pkgname-$pkgver"
unzip [source].zip
</pre>
<p>Note that while the <code>source</code> array accepts URLs, <code>noextract</code> is <b>just</b> the file name portion. So, for example, you would do something like this (simplified from <a rel="nofollow" class="external text" href="https://projects.archlinux.org/svntogit/packages.git/tree/trunk/PKGBUILD?h=packages/grub2&amp;id=f054e33a0b5cbdfe7d81e91a8c4c807a9bfaa124">grub2's PKGBUILD</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-07-28 ⓘ]</sup>):
</p>
<pre>source=("http://ftp.archlinux.org/other/grub2/grub2_extras_lua_r20.tar.xz")
noextract=("grub2_extras_lua_r20.tar.xz")
</pre>
<p>To extract <i>nothing</i>, you can do something fancy like this (taken from <a rel="nofollow" class="external text" href="https://projects.archlinux.org/svntogit/packages.git/tree/trunk/PKGBUILD?h=packages/firefox-i18n&amp;id=cb10a40aeda9b444285d1ae6959c344110b4c936">firefox-i18n</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-07-28 ⓘ]</sup>):
</p>
<pre>noextract=(${source[@]##*/})
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> More conservative Bash substitution would include quotes, or possibly even a loop that calls <code>basename</code>. If you have read this far, you should get the idea.</div>
<h3><span class="mw-headline" id="md5sums">md5sums</span></h3>
<p>An array of MD5 checksums of the files listed in the <code>source</code> array. Once all files in the <code>source</code> array are available, an MD5 hash of each file will be automatically generated and compared with the values of this array in the same order they appear in the <code>source</code> array. While the order of the source files itself does not matter, it is important that it matches the order of this array since <code>makepkg</code> cannot guess which checksum belongs to what source file. You can generate this array quickly and easily using the command <code>makepkg -g</code> in the directory that contains the <code>PKGBUILD</code> file. Note that the MD5 algorithm is known to have weaknesses, so you should consider using a stronger alternative.
</p>
<h3><span class="mw-headline" id="sha1sums">sha1sums</span></h3>
<p>An array of SHA-1 160-bit checksums. This is an alternative to <code>md5sums</code> described above, but it is also known to have weaknesses, so you should consider using a stronger alternative. To enable use and generation of these checksums, be sure to set up the <code>INTEGRITY_CHECK</code> option in <code>/etc/makepkg.conf</code>. See <span class="plainlinks archwiki-template-man" title="$ man 5 makepkg.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/makepkg.conf.5">makepkg.conf(5)</a></span>.
</p>
<h3>
<span id="sha256sums.2C_sha384sums.2C_sha512sums"></span><span class="mw-headline" id="sha256sums,_sha384sums,_sha512sums">sha256sums, sha384sums, sha512sums</span>
</h3>
<p>An array of SHA-2 checksums with digest sizes 256, 384 and 512 bits respectively. These are alternatives to <code>md5sums</code> described above and are generally believed to be stronger. To enable use and generation of these checksums, be sure to set up the <code>INTEGRITY_CHECK</code> option in <code>/etc/makepkg.conf</code>. See <span class="plainlinks archwiki-template-man" title="$ man 5 makepkg.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/makepkg.conf.5">makepkg.conf(5)</a></span>.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://archlinux.org/pacman/PKGBUILD.5.html">PKGBUILD(5) Strona Man</a></li>
<li><a rel="nofollow" class="external text" href="https://pastebin.com/MeXiLDV9">Example PKGBUILD file</a></li>
<li>
<a rel="nofollow" class="external text" href="http://seberm.pastebin.com/gP0tBqvs">Example .install file</a><sup title="Last check status: domain name not resolved">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-07-28 ⓘ]</sup>
</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../pl/Category:Arch_development.html" title="Category:Arch development (Polski)">Arch development (Polski)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Translateme.html" title="Category:Pages or sections flagged with Template:Translateme">Pages or sections flagged with Template:Translateme</a></li>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=PKGBUILD_(Polski)&amp;oldid=663408">https://wiki.archlinux.org/index.php?title=PKGBUILD_(Polski)&amp;oldid=663408</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 21 April 2021, at 16:56.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
