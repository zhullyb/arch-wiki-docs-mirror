<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Network configuration (Polski) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Network_configuration_Polski rootpage-Network_configuration_Polski skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Network configuration (Polski)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/Network_Debugging.html" title="Network Debugging">Network Debugging</a></li>
<li><a href="../en/Category:Firewalls.html" class="mw-redirect" title="Firewalls">Firewalls</a></li>
<li><a href="../en/Jumbo_frames.html" title="Jumbo frames">Jumbo frames</a></li>
<li><a href="../en/Internet_sharing.html" title="Internet sharing">Internet sharing</a></li>
<li><a href="../en/Router.html" title="Router">Router</a></li>
</ul>
</div>
<pre>W tym artykule opisano, jak skonfigurować połączenia sieciowe w warstwie sieciowej i wyższych. Na przykładzie <a href="/index.php?title=Network_configuration_(Polski)/Ethernet&amp;action=edit&amp;redlink=1" class="new" title="Network configuration (Polski)/Ethernet (page does not exist)">/Ethernet</a> i <a href="#Wireless">Wi-fi</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>.
</pre>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Sprawdzanie_po%C5%82%C4%85czania"><span class="tocnumber">1</span> <span class="toctext">Sprawdzanie połączania</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Ping"><span class="tocnumber">1.1</span> <span class="toctext">Ping</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3">
<a href="#Zarz%C4%85dzanie_sieci%C4%85"><span class="tocnumber">2</span> <span class="toctext">Zarządzanie siecią</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#net-tools"><span class="tocnumber">2.1</span> <span class="toctext">net-tools</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#iproute2"><span class="tocnumber">2.2</span> <span class="toctext">iproute2</span></a></li>
<li class="toclevel-2 tocsection-6">
<a href="#Interfejsy_sieciowe"><span class="tocnumber">2.3</span> <span class="toctext">Interfejsy sieciowe</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#Lista_interfejs%C3%B3w_sieciowych"><span class="tocnumber">2.3.1</span> <span class="toctext">Lista interfejsów sieciowych</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#W%C5%82%C4%85czanie_i_wy%C5%82%C4%85czanie_interfejs%C3%B3w_sieciowych"><span class="tocnumber">2.3.2</span> <span class="toctext">Włączanie i wyłączanie interfejsów sieciowych</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="#Statyczny_adres_IP"><span class="tocnumber">2.4</span> <span class="toctext">Statyczny adres IP</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Adres_IP"><span class="tocnumber">2.5</span> <span class="toctext">Adres IP</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Tablica_trasowania"><span class="tocnumber">2.6</span> <span class="toctext">Tablica trasowania</span></a></li>
<li class="toclevel-2 tocsection-12">
<a href="#DHCP"><span class="tocnumber">2.7</span> <span class="toctext">DHCP</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#Servers"><span class="tocnumber">2.7.1</span> <span class="toctext">Servers</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-14"><a href="#Menad%C5%BCerzy_sieci"><span class="tocnumber">2.8</span> <span class="toctext">Menadżerzy sieci</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15">
<a href="#Ustaw_nazw%C4%99_hosta"><span class="tocnumber">3</span> <span class="toctext">Ustaw nazwę hosta</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#Local_hostname_resolution"><span class="tocnumber">3.1</span> <span class="toctext">Local hostname resolution</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Local_network_hostname_resolution"><span class="tocnumber">3.2</span> <span class="toctext">Local network hostname resolution</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18">
<a href="#Tips_and_tricks"><span class="tocnumber">4</span> <span class="toctext">Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-19"><a href="#Change_interface_name"><span class="tocnumber">4.1</span> <span class="toctext">Change interface name</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Revert_to_traditional_interface_names"><span class="tocnumber">4.2</span> <span class="toctext">Revert to traditional interface names</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Set_device_MTU_and_queue_length"><span class="tocnumber">4.3</span> <span class="toctext">Set device MTU and queue length</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Bonding_or_LAG"><span class="tocnumber">4.4</span> <span class="toctext">Bonding or LAG</span></a></li>
<li class="toclevel-2 tocsection-23">
<a href="#IP_address_aliasing"><span class="tocnumber">4.5</span> <span class="toctext">IP address aliasing</span></a>
<ul>
<li class="toclevel-3 tocsection-24"><a href="#Example"><span class="tocnumber">4.5.1</span> <span class="toctext">Example</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-25"><a href="#Promiscuous_mode"><span class="tocnumber">4.6</span> <span class="toctext">Promiscuous mode</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Investigate_sockets"><span class="tocnumber">4.7</span> <span class="toctext">Investigate sockets</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-27">
<a href="#Troubleshooting"><span class="tocnumber">5</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-28">
<a href="#The_TCP_window_scaling_problem"><span class="tocnumber">5.1</span> <span class="toctext">The TCP window scaling problem</span></a>
<ul>
<li class="toclevel-3 tocsection-29"><a href="#How_to_diagnose_the_problem"><span class="tocnumber">5.1.1</span> <span class="toctext">How to diagnose the problem</span></a></li>
<li class="toclevel-3 tocsection-30">
<a href="#Ways_of_fixing_it"><span class="tocnumber">5.1.2</span> <span class="toctext">Ways of fixing it</span></a>
<ul>
<li class="toclevel-4 tocsection-31"><a href="#Bad"><span class="tocnumber">5.1.2.1</span> <span class="toctext">Bad</span></a></li>
<li class="toclevel-4 tocsection-32"><a href="#Good"><span class="tocnumber">5.1.2.2</span> <span class="toctext">Good</span></a></li>
<li class="toclevel-4 tocsection-33"><a href="#Best"><span class="tocnumber">5.1.2.3</span> <span class="toctext">Best</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-34"><a href="#More_about_it"><span class="tocnumber">5.1.3</span> <span class="toctext">More about it</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-35"><a href="#See_also"><span class="tocnumber">6</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2>
<span id="Sprawdzanie_po.C5.82.C4.85czania"></span><span class="mw-headline" id="Sprawdzanie_połączania">Sprawdzanie połączania</span>
</h2>
<p>Aby rozwiązać problemy z połączeniem z połączaniem, sprawdź następujące warunki i upewnij się, że je spełniasz:
</p>
<ol>
<li>Twój <a href="#Network_interfaces">interfejs sieciowy</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> jest widoczny i włączony. W przeciwnym razie sprawdź sterownik urządzenia - patrz <a href="/index.php?title=Network_configuration_(Polski)/Ethernet&amp;action=edit&amp;redlink=1" class="new" title="Network configuration (Polski)/Ethernet (page does not exist)">/Ethernet#Device driver</a> i <a href="/index.php?title=Network_configuration_(Polski)/Wireless&amp;action=edit&amp;redlink=1" class="new" title="Network configuration (Polski)/Wireless (page does not exist)">/Wireless#Device driver</a>.</li>
<li>Masz połączanie z siecią. Przewód jest podłączony lub jesteś <a href="/index.php?title=Network_configuration_(Polski)/Wireless&amp;action=edit&amp;redlink=1" class="new" title="Network configuration (Polski)/Wireless (page does not exist)">podłączony do sieci bezprzewodowej</a>.</li>
<li>Twój interfejs sieciowy ma <a href="#IP_addresses">adres IP</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>.</li>
<li>Twoja <a href="#Routing_table">tabela trasowania</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> jest poprawnie skonfigurowana.</li>
<li>Możesz <a href="#Ping">wysłać ping</a> na lokalny adres IP (np. bramę domyślną).</li>
<li>Możesz <a href="#Ping">wysłać ping</a> na publiczny adres (np. <code>8.8.8.8</code>, który jest serwerem Google DNS i jest wygodnym adresem do testowania).</li>
<li>
<a href="../en/Domain_name_resolution.html#Check_if_you_can_resolve_domain_names" class="mw-redirect" title="Check if you can resolve domain names">Check if you can resolve domain names</a> (np. <code>archlinux.org</code>).</li>
</ol>
<h3><span class="mw-headline" id="Ping">Ping</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Dodaj lub połącz wyjaśnienia typowych błędów ping, takich jak Nieznany host / sieć, jest nieosiągalny. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Network_configuration_(Polski)">Talk:Network configuration (Polski)#</a>)</div>
</div>
<p><a href="https://en.wikipedia.org/wiki/pl:Ping" class="extiw" title="wikipedia:pl:Ping">ping</a> służy do sprawdzenia, czy możesz dotrzeć do hosta i mierzenia opóźnienia z połączania z danym hostem.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ping www.example.com</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">PING www.example.com (93.184.216.34): 56(84) data bytes
64 bytes from 93.184.216.34: icmp_seq=0 ttl=56 time=11.632 ms
64 bytes from 93.184.216.34: icmp_seq=1 ttl=56 time=11.726 ms
64 bytes from 93.184.216.34: icmp_seq=2 ttl=56 time=10.683 ms
...</pre>
<p>Przy każdej otrzymanej odpowiedzi narzędzie ping wydrukuje wiersz podobny do powyższego. Aby uzyskać więcej informacji zobacz <span class="plainlinks archwiki-template-man" title="$ man 8 ping"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ping.8">ping(8)</a></span> manual. Pamiętaj, że komputery można skonfigurować tak, aby nie odpowiadały na żądania echa ICMP. <a rel="nofollow" class="external autonumber" href="https://unix.stackexchange.com/questions/412446/how-to-disable-ping-response-icmp-echo-in-linux-all-the-time">[1]</a>
</p>
<p>Jeśli nie otrzymasz odpowiedzi, może to być związane z domyślną bramą lub dostawcą usług internetowych (ISP). Możesz uruchomić <a href="../en/Network_tools.html#Traceroute" class="mw-redirect" title="Traceroute">traceroute</a> w celu dalszej diagnozy trasy do hosta.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If you receive an error like <code>ping: icmp open socket: Operation not permitted</code> when executing <i>ping</i>, try to re-install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iputils">iputils</a></span> package.</div>
<h2>
<span id="Zarz.C4.85dzanie_sieci.C4.85"></span><span class="mw-headline" id="Zarządzanie_siecią">Zarządzanie siecią</span>
</h2>
<p>Aby skonfigurować połączenie sieciowe, wykonaj następujące kroki:
</p>
<ol>
<li>Upewnij się, że <a href="#Network_interfaces">interfejs sieciowy</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> jest widoczny i włączony.</li>
<li>Połącz się z siecią. Podłącz przewód Ethernet lub <a href="/index.php?title=Network_configuration_(Polski)/Wireless&amp;action=edit&amp;redlink=1" class="new" title="Network configuration (Polski)/Wireless (page does not exist)">połącz się z siecią bezprzewodową</a>.</li>
<li>Configure your network connection:
<ul>
<li>
<a href="#Static_IP_address">Statyczny adres IP</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>
</li>
<li>Dynamiczny adres IP: Użyj <a href="#DHCP">DHCP</a>
</li>
</ul>
</li>
</ol>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Obraz instalacyjny ma włączony <a href="../en/Dhcpcd.html" title="Dhcpcd">dhcpcd</a> (<code>dhcpcd@<i>interface</i>.service</code>) dla <a rel="nofollow" class="external text" href="https://git.archlinux.org/archiso.git/tree/configs/releng/airootfs/etc/udev/rules.d/81-dhcpcd.rules">przewodowych urządzeń sieciowych</a> przy rozruchu.</div>
<h3><span class="mw-headline" id="net-tools">net-tools</span></h3>
<p>Arch Linux wycofał <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=net-tools">net-tools</a></span> na rzecz <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iproute2">iproute2</a></span>.<a rel="nofollow" class="external autonumber" href="https://archlinux.org/news/deprecation-of-net-tools/">[2]</a>
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Przestarzałe polecenie</th>
<th>Polecenie alternatywne
</th>
</tr>
<tr>
<td>arp</td>
<td>ip neighbor
</td>
</tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/pl:ifconfig" class="extiw" title="wikipedia:pl:ifconfig">ifconfig</a></td>
<td>ip address, ip link
</td>
</tr>
<tr>
<td>netstat</td>
<td>
<a href="#Investigate_sockets">ss</a>
</td>
</tr>
<tr>
<td>route</td>
<td>ip route
</td>
</tr>
</tbody>
</table>
<p>Aby uzyskać więcej informacji zobacz <a rel="nofollow" class="external text" href="https://dougvitale.wordpress.com/2011/12/21/deprecated-linux-networking-commands-and-their-replacements/">ten artykuł (po angielsku)</a>.
</p>
<h3><span class="mw-headline" id="iproute2">iproute2</span></h3>
<p><a href="https://en.wikipedia.org/wiki/iproute2" class="extiw" title="wikipedia:iproute2">iproute2</a> należy do <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span> <a href="../en/Meta_package_and_package_group.html#Difference_between_meta_package_and_package_group" class="mw-redirect" title="Meta package">meta package</a> i zapewnia interfejs wiersza polecenia <span class="plainlinks archwiki-template-man" title="$ man 8 ip"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ip.8">ip(8)</a></span> używany do zarządzania <a href="#Network_interfaces">interfejsami sieciowymi</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>, <a href="#IP_addresses">adresami IP</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> <a href="#Routing_table">tablicami trasowania</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>. Należy pamiętać, że konfiguracja wykonana przy użyciu <code>ip</code> zostanie utracona po restarcie. W celu trwałej konfiguracji można użyć <a href="../en/Network_configuration.html#Network_managers" class="mw-redirect" title="Network manager">network manager</a> lub zautomatyzować polecenia <i>ip</i> za pomocą skryptów i <a href="../en/Systemd.html#Writing_unit_files" title="Systemd">systemd units</a>. Zauważ też, że <code>ip</code> polecenia ogólnie mogą być skrócone, dla jasności zostały one jednak określone w tym artykule.
</p>
<h3><span class="mw-headline" id="Interfejsy_sieciowe">Interfejsy sieciowe</span></h3>
<p>Domyślnie <a href="../en/Udev.html" title="Udev">udev</a> przypisuje nazwy do interfejsów sieciowych za pomocą <a rel="nofollow" class="external text" href="https://systemd.io/PREDICTABLE_INTERFACE_NAMES/">Przewidywalnych nazw interfejsów sieciowych</a>, z których przedrostkami łączyą się nazwy <code>en</code> (wired/<a href="https://en.wikipedia.org/wiki/Ethernet" class="extiw" title="wikipedia:Ethernet">Ethernet</a>), <code>wl</code> (wireless/WLAN), i <code>ww</code> (<a href="https://en.wikipedia.org/wiki/Wireless_WAN" class="extiw" title="wikipedia:Wireless WAN">WWAN</a>).
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Aby zmienić nazwy interfejsu, patrz <a href="#Change_interface_name">#Change interface name</a> i <a href="#Revert_to_traditional_interface_names">#Revert to traditional interface names</a>.</div>
<h4>
<span id="Lista_interfejs.C3.B3w_sieciowych"></span><span class="mw-headline" id="Lista_interfejsów_sieciowych">Lista interfejsów sieciowych</span>
</h4>
<p>Nazwy interfejsów przewodowych i bezprzewodowych można znaleźć za pośrednictwem <code>ls /sys/class/net</code> lub <code>ip link</code>. Zauważ, że <code>lo</code> jest <a href="https://en.wikipedia.org/wiki/loop_device" class="extiw" title="wikipedia:loop device">urządzenie pętli</a> i nie jest używane do nawiązywania połączeń sieciowych.
</p>
<p>Nazwy urządzeń bezprzewodowych można również pobrać za pomocą <code>iw dev</code>. Zobacz też <a href="/index.php?title=Network_configuration_(Polski)/Wireless&amp;action=edit&amp;redlink=1" class="new" title="Network configuration (Polski)/Wireless (page does not exist)">/Wireless#Get the name of the interface</a>.
</p>
<p>Jeśli Twojego interfejsu sieciowego nie ma na liście, upewnij się, że sterownik urządzenia został pomyślnie załadowany. Zobacz <a href="/index.php?title=Network_configuration_(Polski)/Ethernet&amp;action=edit&amp;redlink=1" class="new" title="Network configuration (Polski)/Ethernet (page does not exist)">/Ethernet#Device driver</a> lub <a href="/index.php?title=Network_configuration_(Polski)/Wireless&amp;action=edit&amp;redlink=1" class="new" title="Network configuration (Polski)/Wireless (page does not exist)">/Wireless#Device driver</a>.
</p>
<h4>
<span id="W.C5.82.C4.85czanie_i_wy.C5.82.C4.85czanie_interfejs.C3.B3w_sieciowych"></span><span class="mw-headline" id="Włączanie_i_wyłączanie_interfejsów_sieciowych">Włączanie i wyłączanie interfejsów sieciowych</span>
</h4>
<p>Interfejsy sieciowe można włączać / wyłączać za pomocą <code>ip link set <i>interface</i> up|down</code>, zobacz <span class="plainlinks archwiki-template-man" title="$ man 8 ip-link"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ip-link.8">ip-link(8)</a></span>.
</p>
<p>Aby sprawdzić status interfejsu <code>eth0</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ip link show dev eth0</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast master br0 state DOWN mode DEFAULT qlen 1000
...
</pre>
<p>The <code>UP</code> in <code>&lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt;</code> is what indicates the interface is up, not the later <code>state DOWN</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Jeśli twoją domyślną trasą jest interfejs <code>eth0</code>, usunięcie go spowoduje również usunięcie trasy, a przywrócenie go z powrotem nie spowoduje automatycznego przywrócenia domyślnej trasy.  Zobacz <a href="#Routing_table">#Routing table</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> aby ją przywrócić.</div>
<h3><span class="mw-headline" id="Statyczny_adres_IP">Statyczny adres IP</span></h3>
<p>Statyczny adres IP można skonfigurować za pomocą większości standardowych <a href="#Network_managers">menedżerów sieci</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> zobacz też <a href="../en/Dhcpcd.html" title="Dhcpcd">dhcpcd</a>.
</p>
<p>Aby ręcznie skonfigurować statyczny adres IP, dodaj adres IP zgodnie z opisem w <a href="#Adres_IP">#Adres IP</a>, skonfiguruj <a href="#Routing_table">tablice trasowania</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> i <a href="../en/Domain_name_resolution.html" title="Domain name resolution">skonfiguruj serwery DNS</a>.
</p>
<h3><span class="mw-headline" id="Adres_IP">Adres IP</span></h3>
<p><a href="https://en.wikipedia.org/wiki/pl:Adres_IP" class="extiw" title="wikipedia:pl:Adres IP">Adresami IP</a> zarządza się za pomocą <span class="plainlinks archwiki-template-man" title="$ man 8 ip-address"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ip-address.8">ip-address(8)</a></span>.
</p>
<p>Wypisz adresy IP:
</p>
<pre>$ ip address show
</pre>
<p>Dodaj adres IP do interfejsu:
</p>
<pre># ip address add <i>address/prefix_len</i> broadcast + dev <i>interface</i>
</pre>
<dl><dd>Uwaga:</dd></dl>
<dl><dd><ul>
<li>adres jest podany w <a href="https://en.wikipedia.org/wiki/pl:Classless_Inter-Domain_Routing_notation" class="extiw" title="wikipedia:pl:Classless Inter-Domain Routing notation">notacji CIDR</a> aby również podać <a href="https://en.wikipedia.org/wiki/Subnetwork" class="extiw" title="wikipedia:Subnetwork">maskę podsieci</a>
</li>
<li>
<code>+</code> to specjalny symbol, który powoduje, że <a href="https://en.wikipedia.org/wiki/pl:Broadcast" class="extiw" title="wikipedia:pl:Broadcast">adres rozgłoszeniowy</a> jest wyliczany z adresu IP i maski podsieci</li>
</ul></dd></dl>
<dl><dd><div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Upewnij się, że ręcznie przypisane adresy IP nie powodują konfliktu z adresami przydzielonymi przez DHCP.</div></dd></dl>
<p>Usuń adres IP z interfejsu:
</p>
<pre>$ ip address del <i>address/prefix_len</i> dev <i>interface</i>
</pre>
<p>Usuń wszystkie adresy spełniające kryteria, np. Określonego interfejsu:
</p>
<pre>$ ip address flush dev <i>interface</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Adresy IP można obliczyć za pomocą <a rel="nofollow" class="external text" href="http://jodies.de/ipcalc">ipcalc</a> (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ipcalc">ipcalc</a></span>).</div>
<h3><span class="mw-headline" id="Tablica_trasowania">Tablica trasowania</span></h3>
<dl><dd><div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Używam polskiej nazwy trasownik zamiast angielskiej router.</div></dd></dl>
<p><a href="https://en.wikipedia.org/wiki/pl:Tablica_trasowania" class="extiw" title="wikipedia:pl:Tablica trasowania">Tabela trasowania</a> jest używana do określenia, czy można dotrzeć do adresu IP, bezpośrednio lub przez bramę (trasownik), jeśli dany adres nie należy do naszej sieci i nie jest ustawiana brama dla sieci do której należy dany adres, używana jest <a href="https://en.wikipedia.org/wiki/Default_gateway" class="extiw" title="wikipedia:Default gateway">brama domyślna</a>.
</p>
<p>The routing table is managed using <span class="plainlinks archwiki-template-man" title="$ man 8 ip-route"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ip-route.8">ip-route(8)</a></span>.
</p>
<p><i>PREFIX</i> is either a CIDR notation or <code>default</code> for the default gateway.
</p>
<p>Wyświetl trasy IPv4:
</p>
<pre>$ ip route show
</pre>
<p>Wyświetl trasy IPv6:
</p>
<pre>$ ip -6 route
</pre>
<p>Dodaj trasę:
</p>
<pre># ip route add <i>PREFIX</i> via <i>address</i> dev <i>interface</i>
</pre>
<p>Usuń trasę:
</p>
<pre># ip route del <i>PREFIX</i> via <i>address</i> dev <i>interface</i>
</pre>
<p>PREFIX - adres sieci docelowej z maską podsieci w postaci CIDR na przykład 192.168.4.0/24
address - adres bramy przez którą mają być przesyłane pakiety
interface - nasz interfejs sieciowy (karta sieciowa) dla którego ustawiamy trasę
</p>
<h3><span class="mw-headline" id="DHCP">DHCP</span></h3>
<p>Serwer <a href="https://en.wikipedia.org/wiki/pl:Dynamic_Host_Configuration_Protocol" class="extiw" title="wikipedia:pl:Dynamic Host Configuration Protocol">DHCP</a> przydziela przydziela adres IP, maskę podsieci, adres bramy domyślnej i ewentualnie adresy serwerów DNS i paru innych usług.   
</p>
<p>Aby korzystać z DHCP, potrzebujesz serwera w sieci i klienta na komputerze:
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Klient</th>
<th>pakiet</th>
<th><a href="../en/Archiso.html" title="Archiso">Archiso</a></th>
<th>Uwagi</th>
<th>Systemd units
</th>
</tr>
<tr>
<td><a href="../en/Dhcpcd.html" title="Dhcpcd">dhcpcd</a></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhcpcd">dhcpcd</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>DHCP, DHCPv6, ZeroConf, static IP</td>
<td>
<code>dhcpcd.service</code>, <code>dhcpcd@<i>interface</i>.service</code>
</td>
</tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://www.isc.org/downloads/dhcp/">ISC dhclient</a></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhclient">dhclient</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>DHCP, DHCPv6, BOOTP, static IP</td>
<td>
<code>dhclient@<i>interface</i>.service</code>
</td>
</tr>
</tbody>
</table>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Nie należy uruchamiać dwóch klientów DHCP jednocześnie.</li>
<li>Zamiast bezpośredniego korzystania z klienta DHCP można również użyć <a href="#Network_managers">network manager</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Możesz sprawdzić, czy serwer DHCP działa z <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhcping">dhcping</a></span>.</div>
<h4><span class="mw-headline" id="Servers">Servers</span></h4>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> <a href="../en/Systemd-networkd.html" title="Systemd-networkd">systemd-networkd</a> has DHCP server support. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Network_configuration_(Polski)">Talk:Network configuration (Polski)#</a>)</div>
</div>
<table class="wikitable">
<tbody>
<tr>
<th>Server</th>
<th>Package</th>
<th>IPv4</th>
<th>IPv6</th>
<th>GUI</th>
<th>Interfaces</th>
<th>Storage backend(s)</th>
<th>Note
</th>
</tr>
<tr>
<td><a href="../en/Dhcpd.html" title="Dhcpd">dhcpd</a></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhcp">dhcp</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td><a rel="nofollow" class="external text" href="https://github.com/Akkadius/glass-isc-dhcp">Glass-ISC-DHCP</a></td>
<td>?</td>
<td>File</td>
<td>
</td>
</tr>
<tr>
<td><a href="../en/Dnsmasq.html" title="Dnsmasq">dnsmasq</a></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dnsmasq">dnsmasq</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td>?</td>
<td>File</td>
<td>Also DNS, PXE and TFTP
</td>
</tr>
<tr>
<td><a href="../en/Kea.html" title="Kea">Kea</a></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kea">kea</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td><a rel="nofollow" class="external text" href="https://github.com/isc-projects/kea-anterius">Kea-Anterius (Experimental)</a></td>
<td>REST, RADIUS and NETCONF</td>
<td>File, MySQL, PostgreSQL and Cassandra</td>
<td>Also DNS
</td>
</tr>
</tbody>
</table>
<h3>
<span id="Menad.C5.BCerzy_sieci"></span><span class="mw-headline" id="Menadżerzy_sieci">Menadżerzy sieci</span>
</h3>
<p>Menedżer sieci pozwala zarządzać ustawieniami połączeń sieciowych przy użyciu tak zwany profili sieciowych, aby ułatwić między sieciami.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Istnieje wiele rozwiązań do wyboru, ale pamiętaj, że wszystkie wzajemnie się wykluczają; nie powinieneś uruchamiać dwóch demonów jednocześnie.</div>
<table class="wikitable">
<tbody>
<tr>
<th>Network manager</th>
<th>GUI</th>
<th>
<a href="../en/Archiso.html" title="Archiso">Archiso</a> <a rel="nofollow" class="external autonumber" href="https://gitlab.archlinux.org/archlinux/archiso/blob/master/configs/releng/packages.x86_64">[3]</a>
</th>
<th>CLI tools</th>
<th>
<a href="https://en.wikipedia.org/wiki/Point-to-Point_Protocol" class="extiw" title="wikipedia:Point-to-Point Protocol">PPP</a> support <br>(e.g. 3G modem)</th>
<th><a href="#DHCP">DHCP client</a></th>
<th>Systemd units
</th>
</tr>
<tr>
<th>
<a href="../en/ConnMan.html" title="ConnMan">ConnMan</a>
</th>
<td data-sort-value="3" style="background: #ffa; color: inherit; vertical-align: middle; text-align: center;">8 unofficial</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td><span class="plainlinks archwiki-template-man" title="$ man 1 connmanctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/connmanctl.1">connmanctl(1)</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes (with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ofono/">ofono</a></span><sup><small>AUR</small></sup>)</td>
<td>internal</td>
<td>
<code>connman.service</code>
</td>
</tr>
<tr>
<th>
<a href="../en/Netctl.html" title="Netctl">netctl</a>
</th>
<td data-sort-value="3" style="background: #ffa; color: inherit; vertical-align: middle; text-align: center;">2 unofficial</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<span class="plainlinks archwiki-template-man" title="$ man 1 netctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/netctl.1">netctl(1)</a></span>, wifi-menu</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>
<a href="../en/Dhcpcd.html" title="Dhcpcd">dhcpcd</a> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhclient">dhclient</a></span>
</td>
<td>
<code>netctl-ifplugd@<i>interface</i>.service</code>, <code>netctl-auto@<i>interface</i>.service</code>
</td>
</tr>
<tr>
<th>
<a href="../en/NetworkManager.html" title="NetworkManager">NetworkManager</a>
</th>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td>
<span class="plainlinks archwiki-template-man" title="$ man 1 nmcli"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nmcli.1">nmcli(1)</a></span>, <span class="plainlinks archwiki-template-man" title="$ man 1 nmtui"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nmtui.1">nmtui(1)</a></span>
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>internal, <a href="../en/Dhcpcd.html" title="Dhcpcd">dhcpcd</a> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhclient">dhclient</a></span>
</td>
<td>
<code>NetworkManager.service</code>
</td>
</tr>
<tr>
<th>
<a href="../en/Systemd-networkd.html" title="Systemd-networkd">systemd-networkd</a>
</th>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span>)</td>
<td><span class="plainlinks archwiki-template-man" title="$ man 1 networkctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/networkctl.1">networkctl(1)</a></span></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;"><a rel="nofollow" class="external text" href="https://github.com/systemd/systemd/issues/481">No</a></td>
<td>internal</td>
<td>
<code>systemd-networkd.service</code>, <code>systemd-resolved.service</code>
</td>
</tr>
<tr>
<th>
<a href="../en/Wicd.html" title="Wicd">Wicd</a>
</th>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td>
<span class="plainlinks archwiki-template-man" title="$ man 8 wicd-cli"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/wicd-cli.8">wicd-cli(8)</a></span><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-02-22]</sup>, <span class="plainlinks archwiki-template-man" title="$ man 8 wicd-curses"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/wicd-curses.8">wicd-curses(8)</a></span><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-02-22]</sup>
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td><a href="../en/Dhcpcd.html" title="Dhcpcd">dhcpcd</a></td>
<td>
<code>wicd.service</code>
</td>
</tr>
</tbody>
</table>
<p>Zobacz też <a href="../en/List_of_applications.html#Network_managers" title="List of applications">List of applications#Network managers</a>.
</p>
<h2>
<span id="Ustaw_nazw.C4.99_hosta"></span><span class="mw-headline" id="Ustaw_nazwę_hosta">Ustaw nazwę hosta</span>
</h2>
<p><a href="https://en.wikipedia.org/wiki/Hostname" class="extiw" title="wikipedia:Hostname">Nazwa hosta</a> to unikatowa nazwa utworzona w celu identyfikacji komputera w sieci ustawiony w  <code>/etc/hostname</code>—patrz <span class="plainlinks archwiki-template-man" title="$ man 5 hostname"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hostname.5">hostname(5)</a></span> i <span class="plainlinks archwiki-template-man" title="$ man 7 hostname"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hostname.7">hostname(7)</a></span> po więcej informacji. Plik może zawierać nazwę domeny. Aby ustawić nazwę hosta, <a href="../en/Help:Reading.html#Append,_add,_create,_edit" class="mw-redirect" title="Textedit">edytuj</a> <code>/etc/hostname</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/hostname</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"><i>nazwaMojegoHosta</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Aby uzyskać porady dotyczące wybierania nazwy hosta, zobacz <a rel="nofollow" class="external text" href="https://tools.ietf.org/html/rfc1178">RFC 1178</a>.</div>
<p>Możesz też użyć <span class="plainlinks archwiki-template-man" title="$ man 1 hostnamectl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hostnamectl.1">hostnamectl(1)</a></span>:
</p>
<pre># hostnamectl set-hostname <i>nazwaMojegoHosta</i>
</pre>
<p>Aby tymczasowo ustawić nazwę hosta (do ponownego uruchomienia), użyj <span class="plainlinks archwiki-template-man" title="$ man 1 hostname"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hostname.1">hostname(1)</a></span> z <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=inetutils">inetutils</a></span>:
</p>
<pre># hostname <i>nazwaMojegoHosta</i>
</pre>
<p>Aby ustawić „ładną” nazwę hosta i inne metadane komputera, zobacz <span class="plainlinks archwiki-template-man" title="$ man 5 machine-info"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/machine-info.5">machine-info(5)</a></span>.
</p>
<h3><span class="mw-headline" id="Local_hostname_resolution">Local hostname resolution</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Explain why you want a resolvable hostname, why <code>127.0.1.1</code> is used (and why a static IP address should be preferred over it). (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Network_configuration_(Polski)">Talk:Network configuration (Polski)#</a>)</div>
</div>
<p>The <code>myhostname</code> <a href="../en/Domain_name_resolution.html#Name_Service_Switch" class="mw-redirect" title="Name Service Switch">Name Service Switch</a> (NSS) module of <a href="../en/Systemd.html" title="Systemd">systemd</a> provides local hostname resolution without having to edit <code>/etc/hosts</code> (<span class="plainlinks archwiki-template-man" title="$ man 5 hosts"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hosts.5">hosts(5)</a></span>). It is enabled by default.
</p>
<p>Some clients may however still rely on <code>/etc/hosts</code>, see <a rel="nofollow" class="external autonumber" href="https://lists.debian.org/debian-devel/2013/07/msg00809.html">[4]</a> <a rel="nofollow" class="external autonumber" href="https://bugzilla.mozilla.org/show_bug.cgi?id=87717#c55">[5]</a> for examples.
</p>
<p>To configure the hosts file, add the following lines to <code>/etc/hosts</code>:
</p>
<pre>127.0.0.1        localhost
::1              localhost
127.0.1.1        <i>myhostname</i>.localdomain        <i>myhostname</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The order of hostnames/aliases that follow the IP address in <code>/etc/hosts</code> is significant. The first string is considered the canonical hostname and may be appended with parent domains, where domain components are separated by a dot (ie. <code>.localdomain</code> above). All following strings on the same line are considered aliases. See <span class="plainlinks archwiki-template-man" title="$ man 5 hosts"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hosts.5">hosts(5)</a></span> for more info.</div>
<p>As a result the system resolves to both entries: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ getent hosts</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">127.0.0.1       localhost
127.0.0.1       localhost
127.0.1.1       <i>myhostname</i>.localdomain <i>myhostname</i>
</pre>
<p>For a system with a permanent IP address, that permanent IP address should be used instead of <code>127.0.1.1</code>.
</p>
<h3><span class="mw-headline" id="Local_network_hostname_resolution">Local network hostname resolution</span></h3>
<p>To make your machine accessible in your LAN via its hostname you can:
</p>
<ul>
<li>edytuj plik <code>/etc/hosts</code> dla każdego hosta, patrz <span class="plainlinks archwiki-template-man" title="$ man 5 hosts"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hosts.5">hosts(5)</a></span>
</li>
<li>ustaw nazwy hostów na <a href="../en/Category:Domain_Name_System.html" class="mw-redirect" title="DNS server">DNS server</a> i zmuś urządzenia w twojej sieci LAN jego użycia (np. przez <a href="#DHCP">#DHCP</a>)</li>
<li>lub prostszy sposób: użyj usługi<a href="https://en.wikipedia.org/wiki/pl:Zeroconf" class="extiw" title="wikipedia:pl:Zeroconf">Zeroconf</a>:
<ul>
<li>Rozpoznawanie nazw hostów  <a href="https://en.wikipedia.org/wiki/NetBIOS#Name_service" class="extiw" title="wikipedia:NetBIOS">NetBIOS</a> Microsoftu. Dostarczone przez <a href="../en/Samba.html" title="Samba">Samba</a> w systemie Linux. Wymaga tylko <a href="../en/Systemd.html#Using_units" title="Systemd">uruchomienia</a> <code>nmb.service</code>. Komputery z uruchomionym systemem Windows, macOS lub Linux z <code>nmb</code> będą mogły znaleźć Twój komputer.</li>
<li>Rozpoznawanie nazw hostów za pomocą <a href="https://en.wikipedia.org/wiki/Multicast_DNS" class="extiw" title="wikipedia:Multicast DNS">mDNS</a>. Dostarczoną przez <code>nss_mdns</code> z <a href="../en/Avahi.html" title="Avahi">Avahi</a> (patrz <a href="../en/Avahi.html#Hostname_resolution" title="Avahi">Avahi#Hostname resolution</a> po więcej informacji) lub <a href="../en/Systemd-resolved.html" title="Systemd-resolved">systemd-resolved</a>. Komputery z macOS lub Linux z uruchomionym Avahi lub systemd-resolved, będą widzieć twoją nazwę hosta. Starsze trzydziestodwubitowe systemy z rodziny Windows nie obsługują mDNS.</li>
</ul>
</li>
</ul>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Change_interface_name">Change interface name</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> When changing the naming scheme, do not forget to update all network-related configuration files and custom systemd unit files to reflect the change.</div>
<p>You can change the device name by defining the name manually with an udev-rule. For example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-network.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="net", ACTION=="add", ATTR{address}=="aa:bb:cc:dd:ee:ff", NAME="net1"
SUBSYSTEM=="net", ACTION=="add", ATTR{address}=="ff:ee:dd:cc:bb:aa", NAME="net0"</pre>
<p>These rules will be applied automatically at boot.
</p>
<p>A couple of things to note:
</p>
<ul>
<li>To get the MAC address of each card, use this command: <code>cat /sys/class/net/<i>device_name</i>/address</code>
</li>
<li>Make sure to use the lower-case hex values in your udev rules. It does not like upper-case.</li>
</ul>
<p>If the network card has a dynamic MAC, you can use <code>DEVPATH</code>, for example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-network.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="net", DEVPATH=="/devices/platform/wemac.*", NAME="int"
SUBSYSTEM=="net", DEVPATH=="/devices/pci*/*1c.0/*/net/*", NAME="en"</pre>
<p>To get the <code>DEVPATH</code> of all currently-connected devices, see where the symlinks in <code>/sys/class/net/</code> lead. For example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">file /sys/class/net/*</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/sys/class/net/enp0s20f0u4u1: symbolic link to ../../devices/pci0000:00/0000:00:14.0/usb2/2-4/2-4.1/2-4.1:1.0/net/enp0s20f0u4u1
/sys/class/net/enp0s31f6:     symbolic link to ../../devices/pci0000:00/0000:00:1f.6/net/enp0s31f6
/sys/class/net/lo:            symbolic link to ../../devices/virtual/net/lo
/sys/class/net/wlp4s0:        symbolic link to ../../devices/pci0000:00/0000:00:1c.6/0000:04:00.0/net/wlp4s0
</pre>
<p>The device path should match both the new and old device name, since the rule may be executed more than once on bootup. For example, in the second rule, <code>"/devices/pci*/*1c.0/*/net/enp*"</code> would be wrong since it will stop matching once the name is changed to <code>en</code>. Only the system-default rule will fire the second time around, causing the name to be changed back to e.g. <code>enp1s0</code>.
</p>
<p>If you are using a USB network device (e.g. Android phone tethering) that has a dynamic MAC address and you want to be able to use different USB ports, you could use a rule that matched depending on vendor and product ID instead:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-network.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="net", ACTION=="add", ATTRS{idVendor}=="12ab", ATTRS{idProduct}=="3cd4", NAME="net2"</pre>
<p>To <a href="../en/Udev.html#Testing_rules_before_loading" title="Udev">test</a> your rules, they can be triggered directly from userspace, e.g. with <code>udevadm --debug test /sys/class/net/*</code>. Remember to first take down the interface you are trying to rename (e.g. <code>ip link set enp1s0 down</code>).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> When choosing the static names <b>it should be avoided to use names in the format of "eth<i>X</i>" and "wlan<i>X</i>"</b>, because this may lead to race conditions between the kernel and udev during boot. Instead, it is better to use interface names that are not used by the kernel as default, e.g.: <code>net0</code>, <code>net1</code>, <code>wifi0</code>, <code>wifi1</code>. For further details please see the <a rel="nofollow" class="external text" href="https://systemd.io/PREDICTABLE_INTERFACE_NAMES/">systemd</a> documentation.</div>
<h3><span class="mw-headline" id="Revert_to_traditional_interface_names">Revert to traditional interface names</span></h3>
<p>If you would prefer to retain traditional interface names such as eth0,  <a rel="nofollow" class="external text" href="https://systemd.io/PREDICTABLE_INTERFACE_NAMES/">Predictable Network Interface Names</a> can be disabled by masking the udev rule:
</p>
<pre># ln -s /dev/null /etc/udev/rules.d/80-net-setup-link.rules
</pre>
<p>Alternatively, add <code>net.ifnames=0</code> to the <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a>.
</p>
<h3><span class="mw-headline" id="Set_device_MTU_and_queue_length">Set device MTU and queue length</span></h3>
<p>You can change the device <a href="https://en.wikipedia.org/wiki/Maximum_transmission_unit" class="extiw" title="wikipedia:Maximum transmission unit">MTU</a> and queue length by defining manually with an udev-rule. For example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-network.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ACTION=="add", SUBSYSTEM=="net", KERNEL=="wl*", ATTR{mtu}="1500", ATTR{tx_queue_len}="2000"</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>
<code>mtu</code>: For PPPoE, the MTU should be no larger than 1492. You can also set MTU via <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.netdev"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.netdev.5">systemd.netdev(5)</a></span>.</li>
<li>
<code>tx_queue_len</code>: Small value for slower devices with a high latency like modem links and ISDN. High value is recommend for server connected over the high-speed Internet connections that perform large data transfers.</li>
</ul>
</div>
<h3><span class="mw-headline" id="Bonding_or_LAG">Bonding or LAG</span></h3>
<p>See <a href="../en/Netctl.html#Bonding" title="Netctl">netctl#Bonding</a> or <a href="../en/Wireless_bonding.html" title="Wireless bonding">Wireless bonding</a>.
</p>
<h3><span class="mw-headline" id="IP_address_aliasing">IP address aliasing</span></h3>
<p>IP aliasing is the process of adding more than one IP address to a network interface. With this, one node on a network can have multiple connections to a network, each serving a different purpose. Typical uses are virtual hosting of Web and FTP servers, or reorganizing servers without having to update any other machines (this is especially useful for nameservers).
</p>
<h4><span class="mw-headline" id="Example">Example</span></h4>
<p>To manually set an alias, for some NIC, use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iproute2">iproute2</a></span> to execute
</p>
<pre># ip addr add 192.168.2.101/24 dev eth0 label eth0:1
</pre>
<p>To remove a given alias execute
</p>
<pre># ip addr del 192.168.2.101/24 dev eth0:1
</pre>
<p>Packets destined for a subnet will use the primary alias by default. If the destination IP is within a subnet of a secondary alias, then the source IP is set respectively. Consider the case where there is more than one NIC, the default routes can be listed with <code>ip route</code>.
</p>
<h3><span class="mw-headline" id="Promiscuous_mode">Promiscuous mode</span></h3>
<p>Toggling <a href="https://en.wikipedia.org/wiki/Promiscuous_mode" class="extiw" title="wikipedia:Promiscuous mode">promiscuous mode</a> will make a (wireless) NIC forward all traffic it receives to the OS for further processing. This is opposite to "normal mode" where a NIC will drop frames it is not intended to receive. It is most often used for advanced network troubleshooting and <a href="https://en.wikipedia.org/wiki/Packet_sniffing" class="extiw" title="wikipedia:Packet sniffing">packet sniffing</a>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/promiscuous@.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Set %i interface in promiscuous mode
After=network.target

[Service]
Type=oneshot
ExecStart=/usr/bin/ip link set dev %i promisc on
RemainAfterExit=yes

[Install]
WantedBy=multi-user.target
</pre>
<p>If you want to enable promiscuous mode on interface <code>eth0</code> run <a href="../en/Systemd.html#Using_units" class="mw-redirect" title="Enable">enable</a> <code>promiscuous@eth0.service</code>.
</p>
<h3><span class="mw-headline" id="Investigate_sockets">Investigate sockets</span></h3>
<p><i>ss</i> is a utility to investigate network ports and is part of the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iproute2">iproute2</a></span> package. It has a similar functionality to the <a rel="nofollow" class="external text" href="https://archlinux.org/news/deprecation-of-net-tools/">deprecated</a> netstat utility. 
</p>
<p>Common usage includes:
</p>
<p>Display all TCP Sockets with service names:
</p>
<pre>$ ss -at
</pre>
<p>Display all TCP Sockets with port numbers:
</p>
<pre>$ ss -atn
</pre>
<p>Display all UDP Sockets:
</p>
<pre>$ ss -au
</pre>
<p>For more information see <span class="plainlinks archwiki-template-man" title="$ man 8 ss"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ss.8">ss(8)</a></span>.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="The_TCP_window_scaling_problem">The TCP window scaling problem</span></h3>
<p>TCP packets contain a "window" value in their headers indicating how much data the other host may send in return. This value is represented with only 16 bits, hence the window size is at most 64Kb. TCP packets are cached for a while (they have to be reordered), and as memory is (or used to be) limited, one host could easily run out of it.
</p>
<p>Back in 1992, as more and more memory became available, <a rel="nofollow" class="external text" href="http://www.faqs.org/rfcs/rfc1323.html">RFC 1323</a> was written to improve the situation: Window Scaling. The "window" value, provided in all packets, will be modified by a Scale Factor defined once, at the very beginning of the connection. That 8-bit Scale Factor allows the Window to be up to 32 times higher than the initial 64Kb.
</p>
<p>It appears that some broken routers and firewalls on the Internet are rewriting the Scale Factor to 0 which causes misunderstandings between hosts. The Linux kernel 2.6.17 introduced a new calculation scheme generating higher Scale Factors, virtually making the aftermaths of the broken routers and firewalls more visible.
</p>
<p>The resulting connection is at best very slow or broken.
</p>
<h4><span class="mw-headline" id="How_to_diagnose_the_problem">How to diagnose the problem</span></h4>
<p>First of all, let us make it clear: this problem is odd. In some cases, you will not be able to use TCP connections (HTTP, FTP, ...) at all and in others, you will be able to communicate with some hosts (very few).
</p>
<p>When you have this problem, the <code>dmesg</code>'s output is OK, logs are clean and <code>ip addr</code> will report normal status... and actually everything appears normal.
</p>
<p>If you cannot browse any website, but you can ping some random hosts, chances are great that you are experiencing this problem: ping uses ICMP and is not affected by TCP problems.
</p>
<p>You can try to use <a href="../en/Wireshark.html" title="Wireshark">Wireshark</a>. You might see successful UDP and ICMP communications but unsuccessful TCP communications (only to foreign hosts).
</p>
<h4><span class="mw-headline" id="Ways_of_fixing_it">Ways of fixing it</span></h4>
<h5><span class="mw-headline" id="Bad">Bad</span></h5>
<p>To fix it the bad way, you can change the <code>tcp_rmem</code> value, on which Scale Factor calculation is based. Although it should work for most hosts, it is not guaranteed, especially for very distant ones.
</p>
<pre># echo "4096 87380 174760" &gt; /proc/sys/net/ipv4/tcp_rmem
</pre>
<h5><span class="mw-headline" id="Good">Good</span></h5>
<p>Simply disable Window Scaling. Since Window Scaling is a nice TCP feature, it may be uncomfortable to disable it, especially if you cannot fix the broken router. There are several ways to disable Window Scaling, and it seems that the most bulletproof way (which will work with most kernels) is to add the following line to <code>/etc/sysctl.d/99-disable_window_scaling.conf</code> (see also <a href="../en/Sysctl.html" title="Sysctl">sysctl</a>):
</p>
<pre>net.ipv4.tcp_window_scaling = 0
</pre>
<h5><span class="mw-headline" id="Best">Best</span></h5>
<p>This problem is caused by broken routers/firewalls, so let us change them. Some users have reported that the broken router was their very own DSL router.
</p>
<h4><span class="mw-headline" id="More_about_it">More about it</span></h4>
<p>This section is based on the LWN article <a rel="nofollow" class="external text" href="http://lwn.net/Articles/92727/">TCP window scaling and broken routers</a> and an archived Kernel Trap article: <a rel="nofollow" class="external text" href="https://web.archive.org/web/20120426135627/http://kerneltrap.org:80/node/6723">Window Scaling on the Internet</a>.
</p>
<p>There are also several relevant threads on the LKML.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.tldp.org/LDP/nag2/index.html">Linux Network Administrators Guide</a></li>
<li><a rel="nofollow" class="external text" href="https://www.debian.org/doc/manuals/debian-reference/ch05.en.html">Debian Reference: Network setup</a></li>
<li><a rel="nofollow" class="external text" href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/">RHEL7: Networking Guide</a></li>
<li><a rel="nofollow" class="external text" href="http://www.linuxhomenetworking.com/wiki/">Linux Home Networking</a></li>
<li><a rel="nofollow" class="external text" href="https://blog.packagecloud.io/eng/2016/06/22/monitoring-tuning-linux-networking-stack-receiving-data/">Monitoring and tuning the Linux Networking Stack: Receiving data</a></li>
<li><a rel="nofollow" class="external text" href="https://blog.packagecloud.io/eng/2017/02/06/monitoring-tuning-linux-networking-stack-sending-data/">Monitoring and tuning the Linux Networking Stack: Sending data</a></li>
<li><a rel="nofollow" class="external text" href="http://blog.yadutaf.fr/2017/07/28/tracing-a-packet-journey-using-linux-tracepoints-perf-ebpf/">Tracing a packet journey using tracepoints, perf and eBPF</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../pl/Category:Network_configuration.html" title="Category:Network configuration (Polski)">Network configuration (Polski)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Network_configuration_(Polski)&amp;oldid=656160">https://wiki.archlinux.org/index.php?title=Network_configuration_(Polski)&amp;oldid=656160</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 26 March 2021, at 09:07.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
