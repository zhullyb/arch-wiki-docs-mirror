<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>netctl (Español) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Netctl_Español rootpage-Netctl_Español skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">netctl (Español)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><span></span>
</p>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a><b>Este artículo o sección necesita ser <a href="../es/ArchWiki:Contributing.html#Traducir_contenido" title="ArchWiki:Contributing (Español)">traducido</a>.</b><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Notas:</b> Traducción desactualizada (Discusión en <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Netctl_(Espa%C3%B1ol)">Talk:Netctl (Español)#</a>)</div>
</div>
<div class="archwiki-template-meta-related-articles-start">
<p>Artículos relacionados</p>
<ul>
<li><a href="../es/Network_configuration.html" class="mw-redirect" title="Network Configuration (Español)">Network Configuration (Español)</a></li>
<li><a href="../es/e53e66c943c58f62c8606046297cd8b9.html" class="mw-redirect" title="Wireless Setup (Español)">Wireless Setup (Español)</a></li>
<li><a href="../es/NetworkManager.html" title="NetworkManager (Español)">NetworkManager (Español)</a></li>
<li><a href="../es/Wicd.html" title="Wicd (Español)">Wicd (Español)</a></li>
<li><a href="../en/Bridge_with_netctl.html" title="Bridge with netctl">Bridge with netctl</a></li>
</ul>
</div>
<p><i>netctl</i> es una herramienta basada en CLI (<i>«intérprete de línea de órdenes»</i>, esto es, a través de consola)) utilizada para configurar y gestionar las conexiones de red mediante perfiles. Es la apuesta de Arch Linux para sustituir a <i>netcfg</i>. <i>netctl</i> supone el futuro (y el presente) de la gestión de conexiones de red.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Instalaci%C3%B3n"><span class="tocnumber">1</span> <span class="toctext">Instalación</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Bibliograf%C3%ADa_altamente_recomendada"><span class="tocnumber">2</span> <span class="toctext">Bibliografía altamente recomendada</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#Configuraci%C3%B3n"><span class="tocnumber">3</span> <span class="toctext">Configuración</span></a>
<ul>
<li class="toclevel-2 tocsection-4">
<a href="#Automatizar_las_conexiones"><span class="tocnumber">3.1</span> <span class="toctext">Automatizar las conexiones</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#M%C3%A9todo_b%C3%A1sico"><span class="tocnumber">3.1.1</span> <span class="toctext">Método básico</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Cambio_autom%C3%A1tico_de_perfiles"><span class="tocnumber">3.1.2</span> <span class="toctext">Cambio automático de perfiles</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="#Migraci%C3%B3n_de_netcfg_a_netctl"><span class="tocnumber">3.2</span> <span class="toctext">Migración de netcfg a netctl</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Contrase%C3%B1as_encriptadas_(PSK_de_256-bits)"><span class="tocnumber">3.3</span> <span class="toctext">Contraseñas encriptadas (PSK de 256-bits)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#Consejos_y_trucos_%C3%BAtiles"><span class="tocnumber">4</span> <span class="toctext">Consejos y trucos útiles</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Sustituir_'netcfg_current'"><span class="tocnumber">4.1</span> <span class="toctext">Sustituir 'netcfg current'</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Eduroam"><span class="tocnumber">4.2</span> <span class="toctext">Eduroam</span></a></li>
<li class="toclevel-2 tocsection-12">
<a href="#Bonding"><span class="tocnumber">4.3</span> <span class="toctext">Bonding</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#Equilibrar_la_carga"><span class="tocnumber">4.3.1</span> <span class="toctext">Equilibrar la carga</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#Pasar_a_la_conexi%C3%B3n_inal%C3%A1mbrica_cuando_la_conexi%C3%B3n_cableada_falla"><span class="tocnumber">4.3.2</span> <span class="toctext">Pasar a la conexión inalámbrica cuando la conexión cableada falla</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-15"><a href="#Quitar_direcciones_antiguas_de_dhcpcd"><span class="tocnumber">4.4</span> <span class="toctext">Quitar direcciones antiguas de dhcpcd</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Problemas_de_espera_con_DHCP"><span class="tocnumber">4.5</span> <span class="toctext">Problemas de espera con DHCP</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#V%C3%A9ase_tambi%C3%A9n"><span class="tocnumber">5</span> <span class="toctext">Véase también</span></a></li>
</ul>
</div>

<h2>
<span id="Instalaci.C3.B3n"></span><span class="mw-headline" id="Instalación">Instalación</span>
</h2>
<p>El paquete <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=netctl">netctl</a></span> se puede <a href="../es/Help:Reading.html#Instalaci.C3.B3n_de_paquetes" title="Help:Reading (Español)">instalar</a> y está disponible en los <a href="../es/Official_repositories.html" title="Official repositories (Español)">repositorios oficiales</a>. netctl sustituirá a <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/netcfg/">netcfg</a></span><sup><small>AUR</small></sup> una vez se instale en el equipo. 
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=netctl">netctl</a></span> y <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/netcfg/">netcfg</a></span><sup><small>AUR</small></sup> son paquetes incompatibles y conflictivos. Si los perfiles de las conexiones de red no están correctamente configurados, lo más probable es que el usuario se quede sin conexión a internet después de instalar <b>netctl</b>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Puede ser una buena idea usar  <code>systemctl --type=service</code> para asegurarse de que ningún otro servicio de configuración de red está en ejecución. La presencia de varios servicios de gestión de redes entrarán en conflicto.</div>
<h2>
<span id="Bibliograf.C3.ADa_altamente_recomendada"></span><span class="mw-headline" id="Bibliografía_altamente_recomendada">Bibliografía altamente recomendada</span>
</h2>
<p>Se ha puesto mucho empeño e interés en redactar unas páginas man muy completas. Se recomienda encarecidamente a los usuarios que estén interesados en usar netctl que lean las siguientes páginas man antes de lanzarse a probarlo:
</p>
<ul>
<li><a rel="nofollow" class="external text" href="https://github.com/joukewitteveen/netctl/blob/master/docs/netctl.1.txt">netctl</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/joukewitteveen/netctl/blob/master/docs/netctl.profile.5.txt">netctl.profile</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/joukewitteveen/netctl/blob/master/docs/netctl.special.7.txt">netctl.special</a></li>
</ul>
<h2>
<span id="Configuraci.C3.B3n"></span><span class="mw-headline" id="Configuración">Configuración</span>
</h2>
<p>El uso de <code>netctl</code> va dirigido a controlar y observar a fondo el estado de los servicios de systemd que gestionan los perfiles de las conexiones de red. El paquete incluye varios ficheros de configuración ejemplo para ayudar al usuario a la hora de configurar sus conexiones de red. Dichos ejemplos de ficheros de configuración de perfiles se encuentran en el directorio <code>/etc/netctl/examples/</code>. Entre las configuraciones más típicas se pueden encontrar las siguientes:
</p>
<ul>
<li>ethernet-dhcp</li>
<li>ethernet-static</li>
<li>wireless-wpa</li>
<li>wireless-wpa-static</li>
</ul>
<p>Para usar un fichero ejemplo de un perfil de una conexión de red hay que copiar el fichero en cuestión de <code>/etc/netctl/examples/&lt;nombre del perfil de conexión de red&gt;</code> al directorio <code>/etc/netctl/&lt;nombre del perfil de conexión de red&gt;</code> y editarlo para configurarlo de acuerdo con las necesidades específicas de cada usuario:
</p>
<pre># cp /etc/netctl/examples/wireless-wpa /etc/netctl/mi-wireless-wpa
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Sugerencia:</strong> Para las configuraciones de las redes inalámbricas, utilice <code>wifi-menu -o</code> que creará un fichero de configuración en <code>/etc/netctl/</code>.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> <code>wifi-menu -o</code> generará el fichero de perfil en <code>/etc/netctl/</code> con '-' en el nombre. Esto dará problemas con la configuración automática. Se recomienda cambiar el nombre del fichero.</div>
<p>Una vez que se ha creado el perfil de configuración para una conexión de red concreta hay que intentar establecer la conexión usando dicho perfil. Para ello:
</p>
<pre># netctl start &lt;nombre del perfil de la conexión de red&gt;
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> El «perfil» es el nombre del fichero, sin incluir la ruta completa. Si se facilita la ruta completa, ello provocará que netctl devuelva un código de error.</div>
<p>En caso de obtener un error al ejecutar la orden anterior, es posible acceder a una explicación detallada de lo que ha provocado el fallo. Para ello se pueden usar las órdenes <code>journalctl -xn</code> y <code>netctl status &lt;nombre del perfil de la conexión de red&gt;</code>. Una vez que se ha encontrado el fallo tan solo hay que hacer las correcciones pertinentes en el perfil de la conexión de red y volver a intentarlo.
</p>
<h3><span class="mw-headline" id="Automatizar_las_conexiones">Automatizar las conexiones</span></h3>
<p>Si solo se está usando un perfil de conexión de red (por interfaz) o se desea cambiar de perfil manualmente, el <a href="#M%C3%A9todo_b%C3%A1sico">método básico</a> es el acertado. Entre los ejemplos más comunes se encuentran los servidores, estaciones de trabajo, routers, etc.
</p>
<p>Si se necesita cambiar entre varios perfiles con frecuencia, utilice el método del <a href="#Cambio_autom%C3%A1tico_de_perfiles">cambio automático de perfiles</a>. Los ejemplos más comunes son los ordenadores portátiles.
</p>
<h4>
<span id="M.C3.A9todo_b.C3.A1sico"></span><span class="mw-headline" id="Método_básico">Método básico</span>
</h4>
<p>Con este método, se puede comenzar un solo perfil con dirección estática por interfaz. Primero compruebe manualmente que el perfil se puede iniciar con éxito, y después actívelo usando la orden:
</p>
<pre># netctl enable <i>nombre del perfil de la conexión de red</i>
</pre>
<p>Esto creará y activará un servicio de <a href="../es/Systemd.html" title="Systemd (Español)">systemd</a>, servicio que se iniciará cuando arranque el equipo. Los cambios en el fichero de este perfil no se transmitirán automáticamente a dicho fichero de servicio. Si se realizan cambios, es necesario volver a activar el perfil con la orden:
</p>
<pre># netctl reenable <i>nombre del perfil de la conexión de red</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> La conexión solo se establecerá si el perfil se puede iniciar con éxito en el arranque (o cuando se inicia el servicio). Esto significa concretamente, que, en el caso de una conexión por cable, el cable debe estar enchufado, y, en el caso de una conexión inalámbrica, la red debe estar dentro del rango. </div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Sugerencia:</strong> Para activar el perfil de la IP estática en la interfaz cableada, sin importar si el cable de red está o no conectado, pase la opción <code>SkipNoCarrier=yes</code> a su perfil.</div>
<h4>
<span id="Cambio_autom.C3.A1tico_de_perfiles"></span><span class="mw-headline" id="Cambio_automático_de_perfiles">Cambio automático de perfiles</span>
</h4>
<p><i>netctl</i> ofrece dos servicos especiales de <a href="../es/Systemd.html" title="Systemd (Español)">systemd</a> para la conmutación automática de perfiles:
</p>
<ul>
<li>Para las interfaces cableadas: <code>netctl-ifplugd@<i>interfaz</i>.service</code>. El uso de estos perfiles de netctl se intercambian cuando se enchufa/desenchufa el cable de red.</li>
<li>Para las interfaces inalámbricas: <code>netctl-auto@<i>interfaz</i>.service</code>. El uso de estos perfiles de netctl se intercambian al pasar del rango de una red dentro del alcance de rango de otra red.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> <i>netcfg</i> utiliza <code>net-auto-wireless.service</code> y <code>net-auto-wired.service</code> para estos fines.</div>
<p>Primero <a href="../es/Help:Reading.html#Instalaci.C3.B3n_de_paquetes" title="Help:Reading (Español)">instale</a> los paquetes necesarios:
</p>
<ul>
<li>El paquete <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wpa_actiond/">wpa_actiond</a></span><sup><small>AUR</small></sup> es necesario para usar <code>netctl-auto@<i>interfaz</i>.service</code>.</li>
<li>El paquete <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ifplugd">ifplugd</a></span> es necesario para usar <code>netctl-ifplugd@<i>interfaz</i>.service</code>.</li>
</ul>
<p>Ahora configure todos los perfiles que <code>netctl-auto@<i>interfaz</i>.service</code> o <code>netctl-ifplugd@<i>interfaz</i>.service</code> desea que inicien.
</p>
<p>Si algún perfil inalámbrico <b>no</b> se inicia automáticamente por  <code>netctl-auto@<i>interfaz</i>.service</code>, tiene que agregar explícitamente la variable <code>ExcludeAuto=yes</code> para ese perfil. Puede utilizar la variable <code>Priority=</code> para establecer la prioridad de algún perfil cuando existen varios perfiles disponibles. <code>netctl-ifplugd@<i>interfaz</i>.service</code> preferirá perfiles que utilicen <a href="https://en.wikipedia.org/wiki/DHCP" class="extiw" title="wikipedia:DHCP">DHCP</a>. Para preferir un perfil con una dirección IP estática, puede utilizar la variable <code>AutoWired=yes</code>. Consulte <code>netctl.profile(5)</code> para obtener más detalles.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> La selección automática de un perfil compatible con WPA por <i>netctl-auto</i> no es posible con la opción <code>Security=wpa-config</code>, sino que hay que usar, en su lugar, la opción <code>Security=wpa-configsection</code>.</div>
<p>Una vez que ha establecido y comprobrado que sus perfiles funcionan correctamente, solo tiene que activar estos servicios utilizando  <i>systemctl</i>:
</p>
<pre># systemctl enable netctl-auto@<i>interfaz</i>.service 
# systemctl enable netctl-ifplugd@<i>interfaz</i>.service  
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> 
<ul>
<li>Si alguno de los perfiles contienen errores, como por ejemplo, una variable <code>Key=</code> vacía, la unidad no se cargará durante el arranque.</li>
<li>Este método entra en conflicto con el <a href="#M%C3%A9todo_b%C3%A1sico">Método básico</a>. Si ha activado previamente un perfil a través de <i>netctl</i>, ejecute <code>netctl disable <i>profile</i></code>  para evitar que el perfil se cargue dos veces en el arranque.</li>
</ul>
</div>
<p>Desde netctl 1.3, es posible controlar manualmente una interfaz gestionada de otra manera por netctl-auto sin tener que detener el servicio netctl-auto. Esto se hace usando la orden netctl-auto. Para obtener una lista de acciones disponibles basta con ejecutar:
</p>
<pre> # netctl-auto --help
</pre>
<h3>
<span id="Migraci.C3.B3n_de_netcfg_a_netctl"></span><span class="mw-headline" id="Migración_de_netcfg_a_netctl">Migración de netcfg a netctl</span>
</h3>
<p><i>netctl</i> se vale del directorio <code>/etc/netctl</code> para almacenar los distintos perfiles de las conexiones de red <b>en lugar de</b> <code>/etc/network.d</code>, (el cual era el directorio en el cual <i>netcfg</i> almacenaba los perfiles de las conexiones de red).
</p>
<p>Para migrar de netcfg a <i>netctl</i> es necesario, al menos, lo siguiente:
</p>
<ul>
<li>Desactivar el servicio netcfg: <code>systemctl disable netcfg.service</code>.</li>
<li>Desinstalar <i>netcfg</i> e instalar <i>netctl</i>.</li>
<li>Mover los perfiles de las conexiones de red al nuevo directorio.</li>
<li>Renombrar las variables de dichos ficheros perfil de conexiones de red de acuerdo con las instrucciones en <code>netctl.profile(5)</code>. La gran mayoría tan solo han pasado de tener todo en letras mayúsculas a tener solo la primera letra. Un ejemplo: <code>CONNECTION</code> pasa a ser <code>Connection</code>.</li>
<li>Para la configuración de la IP estática asegúrese de que las variables <code>Address</code> tienen una máscara de red después de la IP (por ejemplo, <code>Address=('192.168.1.23<b>/24'</b> '192.168.1.87<b>/24'</b>)</code> en el perfil de ejemplo).</li>
<li>Si configura un perfil para una red inalámbrica siguiendo el ejemplo de <code>wireless-wpa-configsection</code>, tenga en cuenta que ello sobrescribe las opciones de <code>wpa_supplicant</code> definidas antes de los corchetes. Para una conexión a una red inalámbrica oculta, agregue <code>scan_ssid=1</code> a las opciones en <code>wireless-wpa-configsection</code>; <code>Hidden=yes</code> si no funciona allí.</li>
<li>Quitar las comillas de las variables de las distintas interfaces y otras variables que no necesitan de forma estricta las comillas. Esto no es más que una cuestión de estilo.</li>
<li>Ejecutar <code>netctl enable <i>nombre del perfil de la conexión de red</i></code> para cada uno de los perfiles de conexión de red en la antigua línea <code>NETWORKS</code>. <i>«last»</i> ya no tiene la función que tenía. Para más infomación leer <code>netctl.special(7)</code>.</li>
<li>Usar <code>netctl list</code> y/o <code>netctl start &lt;nombre del perfil de la conexión de red&gt;</code>, en lugar de <i>netcfg-menu</i>. No obstante, <i>wifi-menu</i> seguirá disponible.</li>
<li>A diferencia de <code>netcfg</code>, <code>netctl</code>, por defecto, no levanta un <a href="https://en.wikipedia.org/wiki/Network_interface_controller" class="extiw" title="wikipedia:Network interface controller">NIC</a> cuando este no está conectado a otro NIC potencialmente abierto. Para resolver este problema, añada <code>SkipNoCarrier=yes</code> al final del fichero de perfil <code>/etc/netctl/<i>fichero-de-perfil</i></code>.</li>
</ul>
<h3>
<span id="Contrase.C3.B1as_encriptadas_.28PSK_de_256-bits.29"></span><span class="mw-headline" id="Contraseñas_encriptadas_(PSK_de_256-bits)">Contraseñas encriptadas (PSK de 256-bits)</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Aunque «cifrada», la clave que se pone en la configuración del perfil es suficiente para conectarse a una red WPA-PSK, lo que significa que este procedimiento solo sirve para ocultar la versión legible de la frase de contraseña o passphrase, pero no evita que cualquier usuario con permisos de lectura acceda a este fichero para conectarse a la red. Debemos preguntarnos si hay alguna utilidad en este procedimiento, ya que usar la misma contraseña para todo suele ser una medida de seguridad muy pobre.</div>
<p>Los usuarios que <b>no</b> quieran tener sus contraseñas guardadas en <i>texto plano</i> tienen la posibilidad de generar una clave precompartida o PSK —del inglés, <i>Pre-Shared Key</i>— con encriptación de 256-bits, que se calcula a partir de la frase de contraseña («passphrase») y el nombre de la red («SSID») utilizando algoritmos estándar.
</p>
<ul>
<li>Método 1: Utilice <code>wifi-menu -o</code> para crear un fichero de configuración en la carpeta <code>/etc/netctl</code>.</li>
<li>Método 2: Configuración manual como sigue.</li>
</ul>
<p>Para ambos métodos es recomendable el uso de la orden <code>chmod 600 /etc/netctl/&lt;config_file&gt;</code>, a fin de evitar el acceso a la contraseña por parte de otros usuarios.
</p>
<p>A continuación, se generará la PSK con encriptación de 256-bits usando <a href="../en/Wpa_supplicant.html#Configuration" class="mw-redirect" title="WPA supplicant">wpa_passphrase</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ wpa_passphrase <i>your_essid</i> <i>passphrase</i></pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">network={
  ssid="<i>your_essid</i>"
  #psk="<i>passphrase</i>"
  psk=64cf3ced850ecef39197bb7b7b301fc39437a6aa6c6a599d0534b16af578e04a
}</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Esta información será utilizada en su perfil para que no cierre el terminal.</div>
<p>En otra consola, copiar el fichero ejemplo de perfil de conexión de red <code>wireless-wpa</code> de <code>/etc/netctl/examples</code> al directorio <code>/etc/netctl</code>.
</p>
<pre># cp /etc/netctl/examples/wireless-wpa /etc/netctl/wireless-wpa
</pre>
<p>Será necesario editar el fichero <code>/etc/netctl/wireless-wpa</code> con el editor de texto que prefiera el usuario y añadir la clave precompartida encriptada o <i>Encrypted Pre-shared Key</i> que se ha generado previamente con wpa_passphrase a la variable <code>Key</code> del perfil de conexión de red.
</p>
<p>Una vez terminada la edición del perfil de conexión de red  <code>wireless-wpa</code> que contiene la PSK con encriptación de 256-bits, debería quedar algo así:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/netctl/wireless-wpa</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Description='A simple WPA encrypted wireless connection using 256-bit PSK'
Interface=wlp2s2
Connection=wireless
Security=wpa
IP=dhcp
ESSID=<i>your_essid</i>
Key=\"64cf3ced850ecef39197bb7b7b301fc39437a6aa6c6a599d0534b16af578e04a</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> 
<ul>
<li>Hay que asegurarse de usar las directrices especiales sin entrecomillar o <b>special quoted rules</b> para la variable <code>Key=</code> como se explica al final de la página man <a rel="nofollow" class="external text" href="https://github.com/joukewitteveen/netctl/blob/master/docs/netctl.profile.5.txt">netctl.profile(5)</a>.</li>
<li>Si la contraseña no funciona, pruebe eliminar el signo <code>\"</code> en la variable <code>Key</code>.</li>
</ul>
</div>
<h2>
<span id="Consejos_y_trucos_.C3.BAtiles"></span><span class="mw-headline" id="Consejos_y_trucos_útiles">Consejos y trucos útiles</span>
</h2>
<h3>
<span id="Sustituir_.27netcfg_current.27"></span><span class="mw-headline" id="Sustituir_'netcfg_current'">Sustituir 'netcfg current'</span>
</h3>
<p>Si ha utilizado <code>netcfg current</code> en el pasado, puede utilizar <code># netctl-auto current</code> como un reemplazo para las conexiones iniciadas con <code>netctl-auto</code> (funcional desde netctl-1.3). 
</p>
<p>Para analizar manualmente las conexiones, también se puede utilizar:
</p>
<pre># netctl list | awk '/*/ {print $2}'
</pre>
<h3><span class="mw-headline" id="Eduroam">Eduroam</span></h3>
<p>Algunas universidades utilizan un sistema llamado «Eduroam» para la gestión de sus redes inalámbricas. Para este sistema, un perfil de WPA config-section con el siguiente formato suele ser útil:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/netctl/wlan0-eduroam</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Description='Eduroam-profile for &lt;user&gt;'
Interface=wlan0
Connection=wireless
Security=wpa-configsection
IP=dhcp
WPAConfigSection=(
 'ssid="eduroam"'
 'proto=RSN'
 'key_mgmt=WPA-EAP'
 'pairwise=CCMP'
 'auth_alg=OPEN'
 'eap=PEAP'
 'identity="&lt;user&gt;"'
 'password="&lt;password&gt;"'
)
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Sugerencia:</strong> Para evitar el almacenamiento de la contraseña en texto plano, puede generar un algoritmo para la contraseña con <code>$ echo -n &lt;password&gt; | iconv -t utf16le | openssl md4</code>. Después utilícelo como <code>'password=hash:&lt;hash&gt;'</code>.</div>
<p>Para perfiles TTLS y universidades certificadas esta configuración funciona:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/netctl/wlan0-eduroam</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Description='Eduroam university'
Interface=wlan0 
Connection=wireless
Security=wpa-configsection
IP=dhcp
ESSID=eduroam
WPAConfigSection=(
    'ssid="eduroam"'
    'key_mgmt=WPA-EAP'
    'eap=TTLS'
    'group=TKIP'
    'anonymous_identity="anonymous@domain_university"'
    'identity="XXX@domain_university"'
    'password="XXX"'
    'ca_cert="Path/to/the/certificate"'
    'phase2="auth=PAP"'
)
</pre>
<h3><span class="mw-headline" id="Bonding">Bonding</span></h3>
<p>De <a rel="nofollow" class="external text" href="https://www.kernel.org/doc/html/latest/networking/bonding.html">kernel documentation</a>:
</p>
<dl><dd>
<i>El controlador bonding de Linux proporciona un método para agregar múltiples interfaces de red en una sola interfaz lógica «vinculada». El comportamiento de la interfaz </i>bonded<i> depende de la modalidad. En términos generales, las modalidades proporcionan tanto una espera activa como servicios de equilibrio de carga. Además, permite llevar a cabo un monitoreo integral del enlace'.</i>
</dd></dl>
<h4><span class="mw-headline" id="Equilibrar_la_carga">Equilibrar la carga</span></h4>
<p>Para utilizar bonding con netctl, se necesita un paquete adicional disponible en los repositorios oficiales: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ifenslave">ifenslave</a></span>.
</p>
<p>Copie el fichero <code>/etc/netctl/examples/bonding</code> a la carpeta <code>/etc/netctl/bonding</code>, y modifíquelo, por ejemplo, como se indica a continuación: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/netctl/bonding</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Description='Bond Interface'
Interface='bond0'
Connection=bond
BindsToInterfaces=('eth0' 'eth1')
IP=dhcp
IP6=stateless</pre>
<p>Ahora se puede desactivar y detener su configuración antigua y establecer <i>bonding</i> para que se inicie automáticamente. Para cambiar al nuevo perfil, por ejemplo bonding, ejecute:
</p>
<pre># netctl switch-to bonding
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Este sistema utiliza la política de round-robin, que es el valor predeterminado para el controlador <code>bonding</code>. Véase <a rel="nofollow" class="external text" href="https://www.kernel.org/doc/html/latest/networking/bonding.html">official documentation</a> para obtener más detalles.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Sugerencia:</strong> Para comprobar el estado y la modalidad de bonding, ejecute: <pre>$ cat /proc/net/bonding/bond0</pre>
</div>
<h4>
<span id="Pasar_a_la_conexi.C3.B3n_inal.C3.A1mbrica_cuando_la_conexi.C3.B3n_cableada_falla"></span><span class="mw-headline" id="Pasar_a_la_conexión_inalámbrica_cuando_la_conexión_cableada_falla">Pasar a la conexión inalámbrica cuando la conexión cableada falla</span>
</h4>
<p>Este ejemplo describe cómo usar <i>bonding</i> como respaldo de la red inalámbrica para cuando la red cableada se cae, sirve también para detectar la presencia de cualquier conexión de red e iniciar dhcpcd cuando una o ambas redes se conecten.
</p>
<p>Necesitaremos los paquetes <s><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ifplugd">ifplugd</a></span></s>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ifenslave">ifenslave</a></span>, y <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wpa_supplicant">wpa_supplicant</a></span> disponibles en los repositorios oficiales.
</p>
<p>Primero, configuraremos el controlador <code>bonding</code> para usar <code>active-backup</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/bonding.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">options bonding mode=active-backup
options bonding miimon=100
options bonding primary=eth0
options bonding max_bonds=0</pre>
<p>La opción <code>max_bonds</code> evita obtener el error <code>Interface bond0 already exists</code>. Se puede añadir el ajuste <code>fail_over_mac=active</code> si se usa el filtrado MAC. 
</p>
<p>Luego, configuraremos un perfil de netctl para subordinar las dos interfaces del hardware:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/netctl/failover</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Description='A wired connection with failover to wireless'
Interface='bond0'
Connection=bond
BindsToInterfaces=('eth0' 'wlan0')
IP='no'
SkipNoCarrier='no'</pre>
<p>Activamos el perfil en el arranque:
</p>
<pre># netctl enable failover
</pre>
<p>Configuraremos <i>wpa_supplicant</i> para asociarla con redes conocidas. Esto se puede hacer con un perfil netcfg (recuerde usar <code>IP='no'</code>), con un servicio <i>wpa_supplicant</i> funcionando constantemente, o bajo demanda con <i>wpa_cli</i>. Las maneras para hacer esto están tratadas en la página de <a href="../es/Wpa_supplicant.html" class="mw-redirect" title="WPA supplicant (Español)">wpa_supplicant</a>. Para mantener <i>wpa_supplicant</i> ejecutándose constántemente, cree el fichero de configuración de <i>wpa_supplicant</i> <code>/etc/wpa_supplicant/wpa_supplicant-wlan0.conf</code> y después ejecute:
</p>
<pre># systemctl enable wpa_supplicant@wlan0
</pre>
<p>Ajuste <code>IP='no'</code> en el perfil de la conexión de red cableada.  La dirección IP debe asignarse únicamente a la interfaz <i>bond0</i>.
</p>
<p>A partir de ahora, si tenemos una conexión por cable e inalámbrica conectadas a la misma red, es probable que podamos desconectar y reconectar la conexión por cable sin perder la conectividad. ¡En la mayoría de los casos, incluso la transmisión de música se realizará sin saltos!
</p>
<h3><span class="mw-headline" id="Quitar_direcciones_antiguas_de_dhcpcd">Quitar direcciones antiguas de dhcpcd</span></h3>
<p>El fichero <code>/var/lib/dhcpcd/dhcpcd-[interface].lease</code>, donde <code>[interface]</code> es el nombre de la interfaz con la que se tiene el vínculo, contiene la dirección DHCP vigente, que es la respuesta enviada por el servidor DHCP. Se utiliza para determinar la última concesión del servidor, y su atributo <code>mtime</code> se utiliza para determinar cuándo se expidió. Esta última información se utiliza para solicitar la misma dirección IP anterior, si está disponible. Si no se quiere eso, simplemente borre este fichero. Por ejemplo :
</p>
<pre># rm /var/lib/dhcpcd/dhcpcd-wlan0.lease
</pre>
<p>Esto elimina la última dirección dhcpcd concedida a la interfaz <code>wlan0</code> interface.
</p>
<h3><span class="mw-headline" id="Problemas_de_espera_con_DHCP">Problemas de espera con DHCP</span></h3>
<p>Si se están teniendo problemas de tiempo de espera al solicitar concesiones a través de DHCP, se puede establecer un valor de tiempo de espera mayor que el que netctl establece de forma predeterminada, que es de 30 segundos. Cree un fichero en <code>/etc/netctl/hooks/</code> o <code>/etc/netctl/interfaces/</code>, y añada <code>TimeoutDHCP=40</code> para disponer de un tiempo de espera de 40 segundos, y hágalo ejecutable.
</p>
<h2>
<span id="V.C3.A9ase_tambi.C3.A9n"></span><span class="mw-headline" id="Véase_también">Véase también</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=157670">Hilo sobre información oficial</a></li>
<li>Hay un applet de cinnamon disponible en AUR: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/cinnamon-applet-netctl-systray-menu/">cinnamon-applet-netctl-systray-menu</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">enlace roto</a>: package not found]</sup>
</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../es/Category:Network_managers.html" title="Category:Network managers (Español)">Network managers (Español)</a></li>
<li><a href="../es/Category:Arch_projects.html" title="Category:Arch projects (Español)">Arch projects (Español)</a></li>
<li><a href="../es/Category:Commands.html" title="Category:Commands (Español)">Commands (Español)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../es/Category:Pages_or_sections_flagged_with_Template:Translateme.html" title="Category:Pages or sections flagged with Template:Translateme (Español)">Pages or sections flagged with Template:Translateme (Español)</a></li>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Netctl_(Espa%C3%B1ol)&amp;oldid=638526">https://wiki.archlinux.org/index.php?title=Netctl_(Español)&amp;oldid=638526</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 14 October 2020, at 07:15.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
