<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Duply (Español) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Duply_Español rootpage-Duply_Español skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Duply (Español)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Estado de la traducción:</strong> esta traducción de <a href="../en/Duply.html" title="Duply">Duply</a> fue revisada el <b>2021-02-12</b>. Si existen <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Duply&amp;diff=0&amp;oldid=651958">cambios</a> puede <a href="../es/ArchWiki:f6ecee2fb17812f6654b3a6ff807d392.html" class="mw-redirect" title="ArchWiki:Translation Team/Contributing (Español)">actualizarla</a> o avisar al <a href="../es/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Español)">equipo de traducción</a>.</div>
<p>De <a rel="nofollow" class="external text" href="https://www.duply.net/">duply.net</a>:
</p>
<dl><dd>Duply es un frontend para la poderosa magia de Duplicity. <a href="../es/Duplicity.html" title="Duplicity (Español)">Duplicity</a> es una aplicación shell escrita en python que realiza copias de seguridad incrementales encriptadas en almacenamientos remotos.</dd></dl>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Instalaci%C3%B3n"><span class="tocnumber">1</span> <span class="toctext">Instalación</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Utilizaci%C3%B3n"><span class="tocnumber">2</span> <span class="toctext">Utilización</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#Configuraci%C3%B3n"><span class="tocnumber">3</span> <span class="toctext">Configuración</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Sin_frase_de_contrase%C3%B1a_GPG"><span class="tocnumber">3.1</span> <span class="toctext">Sin frase de contraseña GPG</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#No_es_posible_firmar_al_usar_la_versi%C3%B3n_2.1.0_o_posterior_de_GPG"><span class="tocnumber">3.2</span> <span class="toctext">No es posible firmar al usar la versión 2.1.0 o posterior de GPG</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Realizar_una_copia_de_seguridad_de_la_configuraci%C3%B3n"><span class="tocnumber">4</span> <span class="toctext">Realizar una copia de seguridad de la configuración</span></a></li>
</ul>
</div>

<h2>
<span id="Instalaci.C3.B3n"></span><span class="mw-headline" id="Instalación">Instalación</span>
</h2>
<p>Duply está disponible como paquete <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/duply/">duply</a></span><sup><small>AUR</small></sup> en el <a href="../es/Arch_User_Repository.html" class="mw-redirect" title="AUR (Español)">AUR</a>.
</p>
<h2>
<span id="Utilizaci.C3.B3n"></span><span class="mw-headline" id="Utilización">Utilización</span>
</h2>
<p>Para ver un resumen de cómo usar Duply ejecute <code>duply usage</code>.
</p>
<p>Lo primero que hay que hacer es crear un perfil. Ejecute <code>duply my_profile create</code> para crear un perfil llamado <i>my_profile</i>. Luego configure el perfil usando el archivo <i>~/.duply/mi_perfil/conf</i>.
</p>
<p>Ejecute la orden <code>duply my_profile backup</code> para realizar copias de seguridad y <code>duply my_profile restore restore_directory</code> para restaurar una vez se complete la configuración.
</p>
<h2>
<span id="Configuraci.C3.B3n"></span><span class="mw-headline" id="Configuración">Configuración</span>
</h2>
<p>Configure <i>GPG_KEY</i> para cifrar y firmar la copia de seguridad con una clave GPG. Configure <i>GPG_PW</i> con la frase de contraseña GPG. Véase <a href="#Sin_frase_de_contrase%C3%B1a_GPG">#Sin frase de contraseña GPG</a> para más detalles sobre la solicitud de la frase de contraseña GPG. Establezca <i>TARGET</i> para el destino de la copia de seguridad. Establezca <i>SOURCE</i> para la ubicación base de la copia de seguridad. Véase el archivo <i>conf</i> para conocer más información sobre otras configuraciones de copias de seguridad de Duply.
</p>
<p>He aquí un ejemplo:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.duply/my_profile/conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">GPG_KEY='72AD0468'
GPG_PW='password'
TARGET='file://my_profile_backup'
SOURCE='/tmp/important_files'</pre>
<p>Ahora ejecute <code>duply my_profile backup</code> para realizar una copia de seguridad de todo lo que hay en <i>/tmp/important_files</i>. La primera vez que se ejecute <code>duply my_profile backup</code> se pedirá al usuario la contraseña GPG para poder exportar la clave y guardarla. Posteriormente, Duply debería ejecutarse sin pedir una frase de contraseña.
</p>
<p>Para excluir ciertos archivos a la hora de realizar una copia de seguridad, véase <i>~/.duply/my_profile/exclude</i>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.duply/my_profile/exclude</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Backup everything except this directory
- **/less_important_files
</pre>
<p>o bien
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.duply/my_profile/exclude</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Individual files
+ /tmp/important_files/file1
+ /tmp/important_files/file2

# Exclude cache inside directory
- /tmp/important_files/directory/cache
+ /tmp/important_files/directory

# Exclude everything else
- **
</pre>
<p>La exclusión de Duplicity requiere <code>**</code> para que coincida con el directorio base.
</p>
<h3>
<span id="Sin_frase_de_contrase.C3.B1a_GPG"></span><span class="mw-headline" id="Sin_frase_de_contraseña_GPG">Sin frase de contraseña GPG</span>
</h3>
<p>Debido a <a rel="nofollow" class="external text" href="https://sourceforge.net/p/ftplicity/bugs/83/">un bug</a> en Duply, Duplicity pedirá una frase de contraseña GPG a pesar de estar disponible en el gpg-agent. Simplemente pulsando return cuando aparezca el prompt, este funcionará ya que la frase de contraseña no es necesaria para usar la clave (si la clave está almacenada en caché), o se añade la línea <code>DUPL_PARAMS="$DUPL_PARAMS --use-agent"</code> al archivo <i>conf</i>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.duply/my_profile/conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Turn on --use-agent option no matter what
DUPL_PARAMS="$DUPL_PARAMS --use-agent"</pre>
<h3>
<span id="No_es_posible_firmar_al_usar_la_versi.C3.B3n_2.1.0_o_posterior_de_GPG"></span><span class="mw-headline" id="No_es_posible_firmar_al_usar_la_versión_2.1.0_o_posterior_de_GPG">No es posible firmar al usar la versión 2.1.0 o posterior de GPG</span>
</h3>
<p>Debido a los cambios en las últimas versiones de GPG, este mensaje puede aparecer durante el proceso de copia de seguridad:
</p>
<pre>duply gpg: signing failed: Inappropriate ioctl for device
</pre>
<p>Esto puede arreglarse descomentando la sección <i>GPG_OPTS</i> del archivo <i>conf</i> de Duply y añadiendo el argumento <i>--pinentry-mode loopback</i>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.duply/my_profile/conf OR /etc/duply/my_profile/conf (if running as root)</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">GPG_OPTS='--pinentry-mode loopback'</pre>
<h2>
<span id="Realizar_una_copia_de_seguridad_de_la_configuraci.C3.B3n"></span><span class="mw-headline" id="Realizar_una_copia_de_seguridad_de_la_configuración">Realizar una copia de seguridad de la configuración</span>
</h2>
<p>Es importante hacer una copia de seguridad de la configuración de su perfil para poder recuperar la copia de seguridad. Una forma de hacerlo automáticamente es añadir un script <i>post</i> que guarde el perfil en un tar después de un <i>backup</i>. Por ejemplo:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.duply/my_profile/post</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/bash

profile_name=$(basename $CONFDIR)

time=$(date +%s)
backup_file="$HOME/.duply/duply-$profile_name-"$time".tar.gz"

# Archive the profile in the ~/.duply directory.
tar -zcvf $backup_file -C $HOME/.duply $profile_name
chmod 600 $backup_file</pre>
<p>Copie el archivo <i>*.tar.gz</i> a una ubicación de almacenamiento segura como LastPass, KeePass, Bitwarden o un disco duro USB sin conexión. Otra opción es archivar el perfil en un papel como código QR (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/duply_qr-git/">duply_qr-git</a></span><sup><small>AUR</small></sup>). El archivo de configuración debería ser accesible incluso si se pierde el acceso al ordenador del que se hace la copia de seguridad, ya que el objetivo de la copia de seguridad es que pueda recuperarse incluso si el ordenador se pierde o se destruye.
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../es/Category:Backup.html" title="Category:Backup (Español)">Backup (Español)</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Duply_(Espa%C3%B1ol)&amp;oldid=660944">https://wiki.archlinux.org/index.php?title=Duply_(Español)&amp;oldid=660944</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 16 April 2021, at 21:22.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
