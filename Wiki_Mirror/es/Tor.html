<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Tor (Español) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Tor_Español rootpage-Tor_Español skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Tor (Español)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a><b>Este artículo o sección necesita ser <a href="../es/ArchWiki:Contributing.html#Traducir_contenido" title="ArchWiki:Contributing (Español)">traducido</a>.</b><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Notas:</b> Desactualizado. (Discusión en <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Tor_(Espa%C3%B1ol)">Talk:Tor (Español)#</a>)</div>
</div>
<div class="archwiki-template-meta-related-articles-start">
<p>Artículos relacionados</p>
<ul>
<li><a href="../en/GNUnet.html" title="GNUnet">GNUnet</a></li>
<li><a href="../en/I2P.html" title="I2P">I2P</a></li>
<li><a href="../en/Freenet.html" title="Freenet">Freenet</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://www.torproject.org">Tor</a>es una implementación 'open source' de 2da generación del <a rel="nofollow" class="external text" href="https://es.wikipedia.org/wiki/Encaminamiento_de_cebolla">enrutamiento de cebolla</a> que provee libre acceso a una red proxy anónimos. Su principal objetivo es proteger el <a href="https://en.wikipedia.org/wiki/Anonymity#Anonymity_on_the_Internet" class="extiw" title="wikipedia:Anonymity">anónimato en Internet</a> del <a rel="nofollow" class="external text" href="https://es.wikipedia.org/wiki/An%C3%A1lisis_de_tr%C3%A1fico">análisis de tráfico</a>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introducci%C3%B3n"><span class="tocnumber">1</span> <span class="toctext">Introducción</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Instalaci%C3%B3n"><span class="tocnumber">2</span> <span class="toctext">Instalación</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#Configuraci%C3%B3n"><span class="tocnumber">3</span> <span class="toctext">Configuración</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Configuraci%C3%B3n_de_Relevos"><span class="tocnumber">3.1</span> <span class="toctext">Configuración de Relevos</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Corriendo_Tor_en_un_Chroot"><span class="tocnumber">4</span> <span class="toctext">Corriendo Tor en un Chroot</span></a></li>
<li class="toclevel-1 tocsection-6">
<a href="#Corriendo_Tor_en_un_contenedor_systemd-nspawn_con_una_interfaz_de_red_virtual"><span class="tocnumber">5</span> <span class="toctext">Corriendo Tor en un contenedor systemd-nspawn con una interfaz de red virtual</span></a>
<ul>
<li class="toclevel-2 tocsection-7">
<a href="#Instalaci%C3%B3n_y_Configuraci%C3%B3n_del_Servidor"><span class="tocnumber">5.1</span> <span class="toctext">Instalación y Configuración del Servidor</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#Interfaz_de_red_virtual"><span class="tocnumber">5.1.1</span> <span class="toctext">Interfaz de red virtual</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h2>
<span id="Introducci.C3.B3n"></span><span class="mw-headline" id="Introducción">Introducción</span>
</h2>
<p>Los usuarios de la Red Tor ejecutan un enrutamiento de cebolla (<i>onion proxy</i> en ingles) en sus computadoras. Este software se conecta a Tor, periódicamente negocia un circuito virtual a través de la red Tor. Tor emplea criptografía en forma de capas (de ahí la analogía con la cebolla), lo que garantiza confidencialidad directa entre los routers. Al mismo tiempo, el software proxy onion presenta una interfaz <a rel="nofollow" class="external text" href="https://es.wikipedia.org/wiki/SOCKS">SOCKS</a> a sus clientes. Las aplicaciones que funcionan en SOCKS pueden apuntar a Tor, quien luego multiplexa  el tráfico a través de un circuito virtual Tor.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> Tor en si mismo no es todo lo que necesitas para mantener el anonimato. Hay otros escollos que te debes cuidar (ver: <a rel="nofollow" class="external text" href="https://www.torproject.org/download/download.html.en#warning">¿Quieres que Tor funcione realmente?</a>).</div>
<p>A través de este proceso el <i>onion proxy</i> maneja el trafico en la red para brindar anonimato al usuario final. El anonimato del usuario se mantiene encriptando el trafico, enviadolo a traves de otros nodos de la red Tor, y desencriptandolo en un último nodo para recibir tu tráfico antes de reenviarlo al servidor que fue especificado. Aunque Tor es considerado más seguro que las conexiones directas DNS (sin proxy) comunmente usadas, pueden ser considerablemente más lentas debido a la gran cantidad de tráfico re encaminado. Además, aunque Tor provee protección contra el análisis del tráfico, no puede evitar la confirmación en los límites de la red Tor (entrando y saliendo de la red).
</p>
<p>Vea <a rel="nofollow" class="external text" href="https://es.wikipedia.org/wiki/Tor">Wikipedia:Tor</a>para más información.
</p>
<h2>
<span id="Instalaci.C3.B3n"></span><span class="mw-headline" id="Instalación">Instalación</span>
</h2>
<p><a href="../es/Help:Reading.html#Instalaci.C3.B3n_de_paquetes" title="Help:Reading (Español)">Instalar</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tor">tor</a></span> está disponible en los <a href="../es/Official_repositories.html" title="Official repositories (Español)">repositorios oficiales</a>.
</p>
<p>En general, acederás s Tor usando el "Tor Browser", disponible como el paquete <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tor-browser/">tor-browser</a></span><sup><small>AUR</small></sup> o como <a rel="nofollow" class="external text" href="https://www.torproject.org/projects/torbrowser.html.en">ejecutable portable</a>.
</p>
<p>El <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/arm/">arm</a></span><sup><small>AUR</small></sup> (de sus siglas en ingles Anonymizing Relay Monitor) es un paquete que provee una terminal para monitorear el uso de banda ancha, detalles de la conexión y más.
</p>
<h2>
<span id="Configuraci.C3.B3n"></span><span class="mw-headline" id="Configuración">Configuración</span>
</h2>
<p>Por defecto Tor lee la configuración del archivo <code>/etc/tor/torrc</code>. Las opciones de configuración se encuentran explicadas en <span class="plainlinks archwiki-template-man" title="$ man 1 tor"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/tor.1">tor(1)</a></span> en el <a rel="nofollow" class="external text" href="https://torproject.org/docs/tor-manual.html.en">la página de Tor</a>. La configuración por defecto debería funcionar bien para la mayoría de los usuarios de Tor.
</p>
<p>Hay potenciales conflictos entre configuraciones dentro de <code>torrc</code> y aquellas en <code>tor.service</code>.
</p>
<ul>
<li>En <code>torrc</code>, el <code>RunAsDaemon</code> debería por defecto estar puesta en <code>0</code>, ya que <code>Type=simple</code> está colocado en el <code>[Service]</code> sección dentro del archivo <code>tor.service</code>.</li>
<li>En <code>torrc</code>, <code>User</code> no debería ser activado, a menos que <code>User=</code> este puesto en <code>root</code> en la <code>[Service]</code> sección dentro de <code>tor.service</code>.</li>
</ul>
<h3>
<span id="Configuraci.C3.B3n_de_Relevos"></span><span class="mw-headline" id="Configuración_de_Relevos">Configuración de Relevos</span>
</h3>
<p>El máximo número de descriptores de archivos que pueden ser abiertos por Tor puede ser fijado con <code>LimitNOFILE</code> en <code>tor.service</code>. Relevos rápidos pueden requerir aumentar este valor.
</p>
<p>Si su ordenador no está corriendo un servidor web, y no ha colocado<code>AccountingMax</code>, considere cambiar su <code>ORPort</code> a <code>443</code> y/o su <code>DirPort</code> a <code>80</code>. Muchos usuarios de Tor quedan retenidos detrás de cortafuegos que solo les permite navegar en la web, y este cambio les permitirá alcanzar su sesión Tor. Si ya está usando los puertos <code>80</code> y <code>443</code>,otros puertos útiles son <code>22</code>, <code>110</code>, y <code>143</code>.<a rel="nofollow" class="external autonumber" href="https://www.torproject.org/docs/tor-relay-debian">[1]</a>
Estos no son puertos con privilegio, por lo que para serlos Tor debe correrse como root, colocando  <code>User=root</code> en el archivo <code>tor.service</code> y <code>User tor</code> en el archivo <code>torrc</code>.
</p>
<p>Tal vez le guste revisar <a rel="nofollow" class="external text" href="https://blog.torproject.org/blog/lifecycle-of-a-new-relay">Ciclo de Vida de un Nuevo Relevo</a> de la documentación Tor.
</p>
<h2><span class="mw-headline" id="Corriendo_Tor_en_un_Chroot">Corriendo Tor en un Chroot</span></h2>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong>  Conectarse vía telnet al puerto local ControlPort parece no funcionar cuando se usa Tor en un chroot</div>
<p>Por motivos de seguridad puede ser deseable correr Tor en un <a href="../es/Chroot.html" class="mw-redirect" title="Change root (Español)">Chroot</a>. El siguiente script creará un chroot apropiado en <code>/opt/torchroot</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/torchroot-setup.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/bash
export TORCHROOT=/opt/torchroot

mkdir -p $TORCHROOT
mkdir -p $TORCHROOT/etc/tor
mkdir -p $TORCHROOT/dev
mkdir -p $TORCHROOT/usr/bin
mkdir -p $TORCHROOT/usr/lib
mkdir -p $TORCHROOT/usr/share/tor
mkdir -p $TORCHROOT/var/lib

ln -s /usr/lib  $TORCHROOT/lib
cp /etc/hosts           $TORCHROOT/etc/
cp /etc/host.conf       $TORCHROOT/etc/
cp /etc/localtime       $TORCHROOT/etc/
cp /etc/nsswitch.conf   $TORCHROOT/etc/
cp /etc/resolv.conf     $TORCHROOT/etc/
cp /etc/tor/torrc       $TORCHROOT/etc/tor/

cp /usr/bin/tor         $TORCHROOT/usr/bin/
cp /usr/share/tor/geoip* $TORCHROOT/usr/share/tor/
cp /lib/libnss* /lib/libnsl* /lib/ld-linux-*.so* /lib/libresolv* /lib/libgcc_s.so* $TORCHROOT/usr/lib/
cp $(ldd /usr/bin/tor | awk '{print $3}'|grep --color=never "^/") $TORCHROOT/usr/lib/
cp -r /var/lib/tor      $TORCHROOT/var/lib/
chown -R tor:tor $TORCHROOT/var/lib/tor

sh -c "grep --color=never ^tor /etc/passwd &gt; $TORCHROOT/etc/passwd"
sh -c "grep --color=never ^tor /etc/group &gt; $TORCHROOT/etc/group"

mknod -m 644 $TORCHROOT/dev/random c 1 8
mknod -m 644 $TORCHROOT/dev/urandom c 1 9
mknod -m 666 $TORCHROOT/dev/null c 1 3

if [[ "$(uname -m)" == "x86_64" ]]; then
  cp /usr/lib/ld-linux-x86-64.so* $TORCHROOT/usr/lib/.
  ln -sr /usr/lib64 $TORCHROOT/lib64
  ln -s $TORCHROOT/usr/lib ${TORCHROOT}/usr/lib64
fi

</pre>
<p>Luego de correr el script como root, Tor puede ser ejecutado en <a href="../en/Chroot.html" title="Chroot">chroot</a> con el comando:
</p>
<pre># chroot --userspec=tor:tor /opt/torchroot /usr/bin/tor
</pre>
<p>o si utiliza systemd recargue el servicio:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/tor.service.d/chroot.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Service]
User=root
ExecStart=
ExecStart=/usr/bin/sh -c "chroot --userspec=tor:tor /opt/torchroot /usr/bin/tor -f /etc/tor/torrc"
KillSignal=SIGINT
</pre>
<h2><span class="mw-headline" id="Corriendo_Tor_en_un_contenedor_systemd-nspawn_con_una_interfaz_de_red_virtual">Corriendo Tor en un contenedor systemd-nspawn con una interfaz de red virtual</span></h2>
<p>En este ejemplo crearemos un contenedor <a href="../es/Systemd-nspawn.html" title="Systemd-nspawn (Español)">systemd-nspawn</a> llamado <code>tor-exit</code> con una interfaz de red virtual macvlan.
</p>
<p>Vea <a href="../es/Systemd-nspawn.html" title="Systemd-nspawn (Español)">systemd-nspawn</a> y <a href="../es/Systemd-networkd.html" title="Systemd-networkd (Español)">systemd-networkd</a> para documentación completa.
</p>
<h3>
<span id="Instalaci.C3.B3n_y_Configuraci.C3.B3n_del_Servidor"></span><span class="mw-headline" id="Instalación_y_Configuración_del_Servidor">Instalación y Configuración del Servidor</span>
</h3>
<p>En este ejemplo el contenedor se alojará en <code>/srv/container</code>:
</p>
<pre># mkdir /srv/container/tor-exit
</pre>
<p><a href="../es/Help:Reading.html#Instalaci.C3.B3n_de_paquetes" title="Help:Reading (Español)">Instalar</a> el <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=arch-install-scripts">arch-install-scripts</a></span>.
</p>
<p>Instale <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tor">tor</a></span> y <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/arm/">arm</a></span><sup><small>AUR</small></sup> y deselecione <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span> como en <a href="../es/Systemd-nspawn.html#Crear_e_iniciar_Arch_Linux_en_un_contenedor" title="Systemd-nspawn (Español)">Systemd-nspawn (Español)#Crear e iniciar Arch Linux en un contenedor</a>:
</p>
<pre># pacstrap -i -c -d /srv/container/tor-exit base tor arm
</pre>
<p>Cree el directorio si no existe:
</p>
<pre># mkdir /var/lib/container
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Los Symlinks para <code>nspawn</code> actualmente están dañados (como en 2016-02-04; vea <a rel="nofollow" class="external free" href="https://github.com/systemd/systemd/issues/2001">https://github.com/systemd/systemd/issues/2001</a>), y recibirá el error "too many levels of symlinks". Como una (posiblemente insegura) solución, simplemente "pacstrap" su instalación en el directorio contenedor.</div>
<p>Symlink al registro del contenedor del servidor, como en <a href="../es/Systemd-nspawn.html#Activar_inicio_autom.C3.A1tico_de_los_contenedores" title="Systemd-nspawn (Español)">Systemd-nspawn_(Español)#Activar inicio automático de los contenedores</a>:
</p>
<pre># ln -s /srv/container/tor-exit /var/lib/container/tor-exit
</pre>
<h4><span class="mw-headline" id="Interfaz_de_red_virtual">Interfaz de red virtual</span></h4>
<p>Crea un directorio de Deposito para el servicio de contenedor:
</p>
<pre># mkdir /etc/systemd/system/systemd-nspawn@tor-exit.service.d
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/systemd-nspawn@tor-exit.service.d/tor-exit.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Service]
ExecStart=
ExecStart=/usr/bin/systemd-nspawn --quiet --keep-unit --boot --link-journal=guest --network-macvlan=$INTERFACE --private-network --directory=/var/lib/container/%i
LimitNOFILE=32768
</pre>
<p><code>--network-macvlan=$INTERFACE --private-network</code> crea automáticamente un macvlan llamado <code>mv-$INTERFACE</code> dentro del contenedor, el cual no es visible desde el servidor. <code>--private-network</code> está implícito por <code>--network-macvlan=</code> de acuerdo con <span class="plainlinks archwiki-template-man" title="$ man 1 systemd-nspawn"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-nspawn.1">systemd-nspawn(1)</a></span>.
Esto es aconsejable por seguridad ya que le permitirá dar una IP privada al contenedor, y no conocerá la IP de su máquina. Esto ayudará a esconder pedidos de DNS. 
</p>
<p><code>LimitNOFILE=32768</code> por <a href="#Raise_maximum_number_of_open_file_descriptors">#Raise maximum number of open file descriptors</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>.
</p>
<p>Ponga a punto <a href="../es/Systemd-networkd.html" title="Systemd-networkd (Español)">systemd-networkd</a> de acuerdo con su red en <code>/srv/container/tor-exit/etc/systemd/network/mv-$INTERFACE.network</code>.
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../es/Category:Anonymity_networks.html" title="Category:Anonymity networks (Español)">Anonymity networks (Español)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../es/Category:Pages_or_sections_flagged_with_Template:Translateme.html" title="Category:Pages or sections flagged with Template:Translateme (Español)">Pages or sections flagged with Template:Translateme (Español)</a></li>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Tor_(Espa%C3%B1ol)&amp;oldid=614155">https://wiki.archlinux.org/index.php?title=Tor_(Español)&amp;oldid=614155</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 18 May 2020, at 06:53.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
