<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>File permissions and attributes (Español) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-File_permissions_and_attributes_Español rootpage-File_permissions_and_attributes_Español skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">File permissions and attributes (Español)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Estado de la traducción:</strong> esta traducción de <a href="/title/File_permissions_and_attributes" title="File permissions and attributes">File permissions and attributes</a> fue revisada el <b>2021-02-16</b>. Si existen <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=File_permissions_and_attributes&amp;diff=0&amp;oldid=652586">cambios</a> puede <a href="/title/ArchWiki:Translation_Team/Contributing_(Espa%C3%B1ol)" class="mw-redirect" title="ArchWiki:Translation Team/Contributing (Español)">actualizarla</a> o avisar al <a href="/title/ArchWiki:Translation_Team_(Espa%C3%B1ol)" title="ArchWiki:Translation Team (Español)">equipo de traducción</a>.</div>
<div class="noprint archwiki-template-message">
<p><a href="/title/File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a><b>Este artículo o sección necesita ser <a href="/title/ArchWiki:Contributing_(Espa%C3%B1ol)#Traducir_contenido" title="ArchWiki:Contributing (Español)">traducido</a>.</b><a href="/title/File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Notas:</b> (2021-02) En fase de traducción. (Discusión en <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:File_permissions_and_attributes_(Espa%C3%B1ol)">Talk:File permissions and attributes (Español)#</a>)</div>
</div>
<div class="archwiki-template-meta-related-articles-start">
<p>Artículos relacionados</p>
<ul>
<li><a href="/title/Users_and_groups_(Espa%C3%B1ol)" title="Users and groups (Español)">Usuarios y grupos</a></li>
<li><a href="/title/Umask_(Espa%C3%B1ol)" title="Umask (Español)">umask</a></li>
<li><a href="/title/Access_Control_Lists_(Espa%C3%B1ol)" title="Access Control Lists (Español)">Listas de control de acceso</a></li>
<li><a href="/title/Capabilities" title="Capabilities">Capabilities</a></li>
</ul>
</div>
<p>Los <a href="/title/File_systems_(Espa%C3%B1ol)" title="File systems (Español)">sistemas de archivos</a> utilizan <a href="/index.php?title=File_system_permissions&amp;action=edit&amp;redlink=1" class="new" title="File system permissions (page does not exist)">permisos</a> y <a href="https://en.wikipedia.org/wiki/File_attribute" class="extiw" title="w:File attribute">atributos</a> para regular el nivel de interacción que los procesos del sistema pueden tener con archivos y directorios.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> Cuando se utilizan con fines de seguridad, los permisos y atributos solo defienden contra ataques lanzados desde el sistema iniciado. Para proteger los datos almacenados de los atacantes con acceso físico a la máquina, también se debe implementar un <a href="/title/Data-at-rest_encryption_(Espa%C3%B1ol)" title="Data-at-rest encryption (Español)">cifrado data-at-rest</a>.</div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Ver_los_permisos"><span class="tocnumber">1</span> <span class="toctext">Ver los permisos</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Ejemplos"><span class="tocnumber">1.1</span> <span class="toctext">Ejemplos</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3">
<a href="#Cambiar_los_permisos"><span class="tocnumber">2</span> <span class="toctext">Cambiar los permisos</span></a>
<ul>
<li class="toclevel-2 tocsection-4">
<a href="#M%C3%A9todo_de_texto"><span class="tocnumber">2.1</span> <span class="toctext">Método de texto</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#Text_method_shortcuts"><span class="tocnumber">2.1.1</span> <span class="toctext">Text method shortcuts</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Copying_permissions"><span class="tocnumber">2.1.2</span> <span class="toctext">Copying permissions</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="#Numeric_method"><span class="tocnumber">2.2</span> <span class="toctext">Numeric method</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Bulk_chmod"><span class="tocnumber">2.3</span> <span class="toctext">Bulk chmod</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Changing_ownership"><span class="tocnumber">3</span> <span class="toctext">Changing ownership</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Access_Control_Lists"><span class="tocnumber">4</span> <span class="toctext">Access Control Lists</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Umask"><span class="tocnumber">5</span> <span class="toctext">Umask</span></a></li>
<li class="toclevel-1 tocsection-12">
<a href="#File_attributes"><span class="tocnumber">6</span> <span class="toctext">File attributes</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#chattr_and_lsattr"><span class="tocnumber">6.1</span> <span class="toctext">chattr and lsattr</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14">
<a href="#Extended_attributes"><span class="tocnumber">7</span> <span class="toctext">Extended attributes</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="#User_extended_attributes"><span class="tocnumber">7.1</span> <span class="toctext">User extended attributes</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Preserving_extended_attributes"><span class="tocnumber">7.2</span> <span class="toctext">Preserving extended attributes</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17">
<a href="#Tips_and_tricks"><span class="tocnumber">8</span> <span class="toctext">Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="#Preserve_root"><span class="tocnumber">8.1</span> <span class="toctext">Preserve root</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#See_also"><span class="tocnumber">9</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Ver_los_permisos">Ver los permisos</span></h2>
<p>Utilice la opción <code>-l</code> de la orden <a href="/title/Ls_(Espa%C3%B1ol)" class="mw-redirect" title="Ls (Español)">ls</a> para ver los permisos (o <b>modo de archivo</b>) establecidos para el contenido de un directorio, por ejemplo:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ls -l /path/to/directory</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">total 128
drwxr-xr-x 2 archie users  4096 Jul  5 21:03 Escritorio
drwxr-xr-x 6 archie users  4096 Jul  5 17:37 Documentos
drwxr-xr-x 2 archie users  4096 Jul  5 13:45 Descargas
-rw-rw-r-- 1 archie users  5120 Jun 27 08:28 clientes.ods
-rw-r--r-- 1 archie users  3339 Jun 27 08:28 todo
-rwxr-xr-x 1 archie users  2048 Jul  6 12:56 miscript.sh
</pre>
<p>La primera columna es en lo que debemos enfocarnos. Tomando un valor de ejemplo de <code>drwxrwxrwx+</code>, el significado de cada carácter se explica en las siguientes tablas:
</p>
<table class="wikitable">

<tbody>
<tr style="text-align:center;">
<td>
<code>d</code>
</td>
<td>
<code>rwx</code>
</td>
<td>
<code>rwx</code>
</td>
<td>
<code>rwx</code>
</td>
<td>
<code>+</code>
</td>
</tr>
<tr>
<td>El tipo de archivo, técnicamente no forma parte de sus permisos. Véase <code>info ls -n "What information is listed"</code> para obtener una explicación de los posibles valores.
</td>
<td>Los permisos que tiene el propietario sobre el archivo, explicados a continuación.
</td>
<td>Los permisos que tiene el grupo sobre el archivo, explicados a continuación.
</td>
<td>Los permisos que tienen todos los demás usuarios sobre el archivo, explicados a continuación.
</td>
<td>Un solo carácter que especifica si se aplica un método de acceso alternativo al archivo. Cuando este carácter es un espacio, no existe un método de acceso alternativo. Un carácter <code>.</code> indica un archivo con un contexto de seguridad, pero ningún otro método de acceso alternativo. Un archivo con cualquier otra combinación de métodos de acceso alternativos se marca con un carácter <code>+</code>, por ejemplo en el caso de <a href="/title/Access_Control_Lists_(Espa%C3%B1ol)" title="Access Control Lists (Español)">listas de control de acceso</a>.
</td>
</tr>
</tbody>
</table>
<p>Cada una de las tres triadas de permisos (<code>rwx</code> en el ejemplo anterior) puede estar formada por los siguientes caracteres:
</p>
<table class="wikitable">
<tbody>
<tr>
<th scope="col" style="width: 10%;">
</th>
<th scope="col" style="width: 10%;">Carácter
</th>
<th scope="col" style="width: 30%;">Efecto en archivos
</th>
<th scope="col" style="width: 50%;">Efecto en directorios
</th>
</tr>
<tr>
<th rowspan="2" style="text-align:left;">Permiso de lectura (primer carácter)
</th>
<td style="text-align:center;">
<code>-</code>
</td>
<td>No se puede leer el archivo.
</td>
<td>No se puede mostrar el contenido del directorio.
</td>
</tr>
<tr>
<td style="text-align:center;">
<code>r</code>
</td>
<td>El archivo se puede leer.
</td>
<td>Se puede mostrar el contenido del directorio.
</td>
</tr>
<tr>
<th rowspan="2" style="text-align:left;">Permiso de escritura (segundo carácter)
</th>
<td style="text-align:center;">
<code>-</code>
</td>
<td>El archivo no se puede modificar.
</td>
<td>El contenido del directorio no se puede modificar.
</td>
</tr>
<tr>
<td style="text-align:center;">
<code>w</code>
</td>
<td>El archivo se puede modificar.
</td>
<td>El contenido del directorio se puede modificar (crear nuevos archivos o carpetas; cambiar el nombre o eliminar archivos o carpetas existentes); requiere que también se establezca el permiso de ejecución; de lo contrario, este permiso no tiene ningún efecto.
</td>
</tr>
<tr>
<th rowspan="6" style="text-align:left;">Permiso de ejecución (tercer carácter)
</th>
<td style="text-align:center;">
<code>-</code>
</td>
<td>El archivo no se puede ejecutar.
</td>
<td>No se puede acceder al directorio con <a href="/title/Cd_(Espa%C3%B1ol)" class="mw-redirect" title="Cd (Español)">cd)</a>.
</td>
</tr>
<tr>
<td style="text-align:center;">
<code>x</code>
</td>
<td>El archivo se puede ejecutar.
</td>
<td>Se puede acceder al directorio con <a href="/title/Cd_(Espa%C3%B1ol)" class="mw-redirect" title="Cd (Español)">cd</a>; este es el único bit de permiso que en la práctica se puede considerar "heredado" de los directorios ancestros, de hecho, si <i>cualquier</i> carpeta en la ruta no tiene el bit <code>x</code> establecido, tampoco se puede acceder al archivo o carpeta del final, independientemente de sus permisos; véase <span class="plainlinks archwiki-template-man" title="$ man 7 path_resolution"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/path_resolution.7">path_resolution(7)</a></span> para obtener más información.
</td>
</tr>
<tr>
<td style="text-align:center;">
<code>s</code>
</td>
<td colspan="2">El bit <a href="https://en.wikipedia.org/wiki/es:setuid" class="extiw" title="w:es:setuid">setuid</a> cuando se encuentra en la triada <b>u</b>suario; el bit <b>setgid</b> cuando se encuentra en la triada <b>g</b>rupo; no se encuentra en la triada <b>o</b>tros; también implica que <code>x</code> está establecido.
</td>
</tr>
<tr>
<td style="text-align:center;">
<code>S</code>
</td>
<td colspan="2">Igual que <code>s</code>, pero <code>x</code> no está configurado; raro en archivos normales e inútil en carpetas.
</td>
</tr>
<tr>
<td style="text-align:center;">
<code>t</code>
</td>
<td colspan="2">El bit <a href="https://en.wikipedia.org/wiki/es:sticky_bit" class="extiw" title="w:es:sticky bit">sticky</a>; sólo se puede encontrar en la triada <b>o</b>tros; también implica que <code>x</code> está establecido.
</td>
</tr>
<tr>
<td style="text-align:center;">
<code>T</code>
</td>
<td colspan="2">Igual que <code>t</code>, pero <code>x</code> no está configurado; raro en archivos normales e inútil en carpetas.
</td>
</tr>
</tbody>
</table>
<p>Véase <code>info Coreutils -n "Mode Structure"</code> y <span class="plainlinks archwiki-template-man" title="$ man 1 chmod"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/chmod.1">chmod(1)</a></span> para más detalles.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Sugerencia:</strong> Puede ver los permisos a lo largo de una ruta con <code>namei -l <i>ruta</i></code>.</div>
<h3><span class="mw-headline" id="Ejemplos">Ejemplos</span></h3>
<p>Veamos algunos ejemplos para aclararlo:
</p>
<pre><b>drwx------</b> 6 archie users  4096 Jul  5 17:37 Documentos
</pre>
<p>Archie tiene acceso completo al directorio de documentos. Puede listar, crear archivos y cambiar el nombre, eliminar cualquier archivo en Documentos, independientemente de los permisos del archivo. Su capacidad para acceder a un archivo depende del permiso del mismo.
</p>
<pre><b>dr-x------</b> 6 archie users  4096 Jul  5 17:37 Documentos
</pre>
<p>Archie tiene acceso completo, excepto que no puede crear, cambiar el nombre ni eliminar ningún archivo. Puede listar los archivos y (si el permiso del archivo lo autoriza) puede acceder a un archivo existente en Documentos.
</p>
<pre><b>d-wx------</b> 6 archie users  4096 Jul  5 17:37 Documentos
</pre>
<p>Archie no puede hacer 'ls' en Documentos, pero si conoce el nombre de un archivo existente, entonces puede listarlo, renombrarlo, eliminarlo o (si el permiso del archivo lo autoriza) acceder a él. Además, puede crear nuevos archivos.
</p>
<pre><b>d--x------</b> 6 archie users  4096 Jul  5 17:37 Documentos
</pre>
<p>Archie solo es capaz de (si el permiso del archivo lo autoriza) acceder a esos archivos en Documentos que conoce. No puede listar archivos ya existentes o crear, renombrar o eliminar ninguno de ellos.
</p>
<p>Debe tener en cuenta que detallamos los permisos de directorio y no tiene nada que ver con los permisos de archivos individuales. Cuando crea un nuevo archivo, es el directorio el que cambia. Es por eso que necesita permiso de escritura en el directorio.
</p>
<p>Veamos otro ejemplo, esta vez de un archivo, no de un directorio:
</p>
<pre><b>-rw-r--r--</b> 1 archie users  5120 Jun 27 08:28 foobar
</pre>
<p>Aquí podemos ver que la primera letra no es <code>d</code> sino <code>-</code>. Entonces sabemos que es un archivo, no un directorio. A continuación, los permisos del propietario son <code>rw-</code> por lo que el propietario tiene la capacidad de leer y escribir, pero no ejecutar. Puede parecer extraño que el propietario no tenga los tres permisos, pero el permiso <code>x</code> no es necesario ya que es un archivo de texto/datos, para ser leído por un editor de texto como Gedit, EMACS o software como R, y no un ejecutable por derecho propio (si contuviera algo como código de programación de Python, entonces muy bien podría serlo). Los permisos del grupo están configurados en <code>r--</code>, por lo que el grupo tiene la capacidad de leer el archivo pero no escribirlo/editarlo de ninguna manera; es esencialmente como configurar algo como de solo lectura. Podemos ver que los mismos permisos se aplican también a todos los demás.
</p>
<h2><span class="mw-headline" id="Cambiar_los_permisos">Cambiar los permisos</span></h2>
<p><a href="https://en.wikipedia.org/wiki/es:chmod" class="extiw" title="wikipedia:es:chmod">chmod</a> es una orden en Linux y otros sistemas operativos similares a Unix que permite <i>cambiar</i> los permisos (o acceder al <i>mod</i>o) de un archivo o directorio.
</p>
<h3>
<span id="M.C3.A9todo_de_texto"></span><span class="mw-headline" id="Método_de_texto">Método de texto</span>
</h3>
<p>Para cambiar los permisos (o el "modo de acceso") de un archivo, utilice la orden <i>chmod</i> en una terminal. A continuación se muestra la estructura general de la orden:
</p>
<pre>chmod <i>quién</i>=<i>permisos</i> <i>archivo</i>
</pre>
<p>Donde <code><i>quién</i></code> es cualquier variedad de letras, cada una de las cuales significa a quién se le está dando el permiso. Son los siguientes:
</p>
<ul>
<li>
<code>u</code>: el <a href="/title/User_(Espa%C3%B1ol)" class="mw-redirect" title="User (Español)">usuario</a> que es dueño del archivo.</li>
<li>
<code>g</code>: el <a href="/title/User_group_(Espa%C3%B1ol)" class="mw-redirect" title="User group (Español)">grupo</a> al que pertenece el archivo.</li>
<li>
<code>o</code>: los <b>o</b>tros usuarios, es decir, todos los demás.</li>
<li>
<code>a</code>: (<b>a</b>ll), todo lo anterior; utilice esto en lugar de escribir <code>ugo</code>.</li>
</ul>
<p>Los permisos son los mismos que se discutieron en <a href="#Ver_los_permisos">#Ver los permisos</a> (<code>r</code>, <code>w</code> y <code>x</code>).
</p>
<p>Now have a look at some examples using this command. Suppose you became very protective of the Documents directory and wanted to deny everybody but yourself, permissions to read, write, and execute (or in this case search/look) in it:
</p>
<p>Before: <code>drwxr-xr-x 6 archie users  4096 Jul  5 17:37 Documents</code>
</p>
<pre>$ chmod g= Documents
$ chmod o= Documents
</pre>
<p>After: <code>drwx------ 6 archie users  4096 Jul  6 17:32 Documents</code>
</p>
<p>Here, because you want to deny permissions, you do not put any letters after the <code>=</code> where permissions would be entered. Now you can see that only the owner's permissions are <code>rwx</code> and all other permissions are <code>-</code>. 
</p>
<p>This can be reverted with:
</p>
<p>Before: <code>drwx------ 6 archie users  4096 Jul  6 17:32 Documents</code>
</p>
<pre>$ chmod g=rx Documents
$ chmod o=rx Documents
</pre>
<p>After: <code>drwxr-xr-x 6 archie users  4096 Jul  6 17:32 Documents</code>
</p>
<p>In the next example, you want to grant read and execute permissions to the group, and other users, so you put the letters for the permissions (<code>r</code> and <code>x</code>) after the <code>=</code>, with no spaces.
</p>
<p>You can simplify this to put more than one <code><i>who</i></code> letter in the same command, e.g:
</p>
<pre>$ chmod go=rx Documents
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> It does not matter in which order you put the <code><i>who</i></code> letters or the permission letters in a <code>chmod</code> command: you could have <code>chmod go=rx file</code> or <code>chmod og=xr file</code>. It is all the same.</div>
<p>Now let us consider a second example, suppose you want to change a <code>foobar</code> file so that you have read and write permissions, and fellow users in the group <code>users</code> who may be colleagues working on <code>foobar</code>, can also read and write to it, but other users can only read it:
</p>
<p>Before: <code>-rw-r--r-- 1 archie users  5120 Jun 27 08:28 foobar</code>
</p>
<pre>$ chmod g=rw foobar
</pre>
<p>After: <code>-rw-rw-r-- 1 archie users  5120 Jun 27 08:28 foobar</code>
</p>
<p>This is exactly like the first example, but with a file, not a directory, and you grant write permission (just so as to give an example of granting every permission).
</p>
<h4><span class="mw-headline" id="Text_method_shortcuts">Text method shortcuts</span></h4>
<p>The <i>chmod</i> command lets add and subtract permissions from an existing set using <code>+</code> or <code>-</code> instead of <code>=</code>. This is different from the above commands, which essentially re-write the permissions (e.g. to change a permission from <code>r--</code> to <code>rw-</code>, you still need to include <code>r</code> as well as <code>w</code> after the <code>=</code> in the <i>chmod</i> command invocation. If you missed out <code>r</code>, it would take away the <code>r</code> permission as they are being re-written with the <code>=</code>. Using <code>+</code> and <code>-</code> avoids this by adding or taking away from the <i>current</i> set of permissions).
</p>
<p>Let us try this <code>+</code> and <code>-</code> method with the previous example of adding write permissions to the group:
</p>
<p>Before: <code>-rw-r--r-- 1 archie users 5120 Jun 27 08:28 foobar</code>
</p>
<pre>$ chmod g+w foobar
</pre>
<p>After: <code>-rw-rw-r-- 1 archie users  5120 Jun 27 08:28 foobar</code>
</p>
<p>Another example, denying write permissions to all (<b>a</b>):
</p>
<p>Before: <code>-rw-rw-r-- 1 archie users  5120 Jun 27 08:28 foobar</code>
</p>
<pre>$ chmod a-w foobar
</pre>
<p>After: <code>-r--r--r-- 1 archie users  5120 Jun 27 08:28 foobar</code>
</p>
<p>A different shortcut is the special <code>X</code> mode: this is not an actual file mode, but it is often used in conjunction with the <code>-R</code> option to set the executable bit only for directories, and leave it unchanged for regular files, for example:
</p>
<pre>$ chmod -R a+rX ./data/
</pre>
<h4><span class="mw-headline" id="Copying_permissions">Copying permissions</span></h4>
<p>It is possible to tell <i>chmod</i> to copy the permissions from one class, say the owner, and give those same permissions to group or even all. To do this, instead of putting <code>r</code>, <code>w</code>, or <code>x</code> after the <code>=</code>, put another <i>who</i> letter. e.g:
</p>
<p>Before: <code>-rw-r--r-- 1 archie users 5120 Jun 27 08:28 foobar</code>
</p>
<pre>$ chmod g=u foobar
</pre>
<p>After: <code>-rw-rw-r-- 1 archie users 5120 Jun 27 08:28 foobar</code>
</p>
<p>This command essentially translates to "change the permissions of group (<code>g=</code>), to be the same as the owning user (<code>=u</code>). Note that you cannot copy a set of permissions as well as grant new ones e.g.:
</p>
<pre>$ chmod g=wu foobar
</pre>
<p>In that case <i>chmod</i> throw an error.
</p>
<h3><span class="mw-headline" id="Numeric_method">Numeric method</span></h3>
<p><i>chmod</i> can also set permissions using numbers.
</p>
<p>Using numbers is another method which allows you to edit the permissions for all three owner, group, and others at the same time, as well as the setuid, setgid, and sticky bits. This basic structure of the code is this:
</p>
<pre>$ chmod <i>xxx</i> <i>filename</i>
</pre>
<p>Where <code><b>xxx</b></code> is a 3-digit number where each digit can be anything from 0 to 7. The first digit applies to permissions for owner, the second digit applies to permissions for group, and the third digit applies to permissions for all others.
</p>
<p>In this number notation, the values <code>r</code>, <code>w</code>, and <code>x</code> have their own number value:
</p>
<pre>r=4
w=2
x=1
</pre>
<p>To come up with a 3-digit number you need to consider what permissions you want owner, group, and all others to have, and then total their values up. For example, if you want to grant the owner of a directory read write and execution permissions, and you want group and everyone else to have just read and execute permissions, you would come up with the numerical values like so:
</p>
<ul>
<li>Owner: <code>rwx</code>=4+2+1=7</li>
<li>Group: <code>r-x</code>=4+0+1=5</li>
<li>Other: <code>r-x</code>=4+0+1=5</li>
</ul>
<pre>$ chmod 755 <i>filename</i>
</pre>
<p>This is the equivalent of using the following: 
</p>
<pre>$ chmod u=rwx <i>filename</i>
$ chmod go=rx <i>filename</i>
</pre>
<p>To view the existing permissions of a file or directory in numeric form, use the <span class="plainlinks archwiki-template-man" title="$ man 1 stat"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/stat.1">stat(1)</a></span> command:
</p>
<pre>$ stat -c %a <i>filename</i>
</pre>
<p>Where the %a option specifies output in numeric form.
</p>
<p>Most folders and directories are set to <code>755</code> to allow reading, writing and execution to the owner, but deny writing to everyone else, and files are normally <code>644</code> to allow reading and writing for the owner but just reading for everyone else; refer to the last note on the lack of <code>x</code> permissions with non executable files: it is the same thing here. 
</p>
<p>To see this in action with examples consider the previous example that has been used but with this numerical method applied instead:
</p>
<p>Before: <code>-rw-r--r-- 1 archie users  5120 Jun 27 08:28 foobar</code>
</p>
<pre>$ chmod 664 foobar
</pre>
<p>After: <code>-rw-rw-r-- 1 archie users  5120 Jun 27 08:28 foobar</code>
</p>
<p>If this were an executable the number would be <code>774</code> if you wanted to grant executable permission to the owner and group. Alternatively if you wanted everyone to only have read permission the number would be <code>444</code>. Treating <code>r</code> as 4, <code>w</code> as 2, and <code>x</code> as 1 is probably the easiest way to work out the numerical values for using <code>chmod <i>xxx</i> <i>filename</i></code>, but there is also a binary method, where each permission has a binary number, and then that is in turn converted to a number. It is a bit more convoluted, but here included for completeness.
</p>
<p>Consider this permission set:
</p>
<pre>-rwxr-xr--
</pre>
<p>If you put a 1 under each permission granted, and a 0 for every one not granted, the result would be something like this:
</p>
<pre>-rwxrwxr-x
 111111101
</pre>
<p>You can then convert these binary numbers:
</p>
<pre>000=0	    100=4
001=1	    101=5
010=2	    110=6
011=3	    111=7
</pre>
<p>The value of the above would therefore be 775. 
</p>
<p>Consider we wanted to remove the writable permission from group:
</p>
<pre>-rwxr-xr-x
 111101101
</pre>
<p>The value would therefore be 755 and you would use <code>chmod 755 <i>filename</i></code> to remove the writable permission. You will notice you get the same three digit number no matter which method you use. Whether you use text or numbers will depend on personal preference and typing speed. When you want to restore a directory or file to default permissions e.g. read and write (and execute) permission to the owner but deny write permission to everyone else, it may be faster to use <code>chmod 755/644 <i>filename</i></code>. However if you are changing the permissions to something out of the norm, it may be simpler and quicker to use the text method as opposed to trying to convert it to numbers, which may lead to a mistake. It could be argued that there is not any real significant difference in the speed of either method for a user that only needs to use <i>chmod</i> on occasion.
</p>
<p>You can also use the numeric method to set the <code>setuid</code>, <code>setgid</code>, and <code>sticky</code> bits by using four digits. 
</p>
<pre>setuid=4
setgid=2
sticky=1
</pre>
<p>For example, <code>chmod 2777 <i>filename</i></code> will set read/write/executable bits for everyone and also enable the <code>setgid</code> bit.
</p>
<h3><span class="mw-headline" id="Bulk_chmod">Bulk chmod</span></h3>
<p>Generally directories and files should not have the same permissions. If it is necessary to bulk modify a directory tree, use <a href="/title/Find" class="mw-redirect" title="Find">find</a> to selectively modify one or the other.
</p>
<p>To <i>chmod</i> only directories to 755:
</p>
<pre>$ find <i>directory</i> -type d -exec chmod 755 {} +
</pre>
<p>To <i>chmod</i> only files to 644:
</p>
<pre>$ find <i>directory</i> -type f -exec chmod 644 {} +
</pre>
<h2><span class="mw-headline" id="Changing_ownership">Changing ownership</span></h2>
<p><a href="https://en.wikipedia.org/wiki/chown" class="extiw" title="wikipedia:chown">chown</a> changes the owner of a file or directory, which is quicker and easier than altering the permissions in some cases. 
</p>
<p>Consider the following example, making a new partition with <a href="/title/GParted" class="mw-redirect" title="GParted">GParted</a> for backup data. Gparted does this all as root so everything belongs to root by default. This is all well and good but when it comes to writing data to the mounted partition, permission is denied for regular users.
</p>
<pre>brw-rw---- 1 root disk 8,    9 Jul  6 16:02 sda9
drwxr-xr-x 5 root root    4096 Jul  6 16:01 Backup
</pre>
<p>As you can see the device in <code>/dev</code> is owned by root, as is the mount location (<code>/media/Backup</code>). To change the owner of the mount location one can do the following:
</p>
<p>Before: <code>drwxr-xr-x 5 root  root 4096 Jul  6 16:01 Backup</code>
</p>
<pre># chown archie /media/Backup
</pre>
<p>After: <code>drwxr-xr-x 5 archie  root 4096 Jul  6 16:01 Backup</code>
</p>
<p>Now the partition can have data written to it by the new owner, archie, without altering the permissions (as the owner triad already had <code>rwx</code> permissions).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>
<code>chown</code> always clears the setuid and setgid bits.</li>
<li>Non-root users cannot use <code>chown</code> to "give away" files they own to another user.</li>
</ul>
</div>
<h2><span class="mw-headline" id="Access_Control_Lists">Access Control Lists</span></h2>
<p><a href="/title/Access_Control_Lists" title="Access Control Lists">Access Control Lists</a> provides an additional, more flexible permission mechanism for file systems by allowing to set permissions for any user or group to any file.
</p>
<h2><span class="mw-headline" id="Umask">Umask</span></h2>
<p>The <a href="/title/Umask" title="Umask">umask</a> utility is used to control the file-creation mode mask, which determines the initial value of file permission bits for newly created files.
</p>
<h2><span class="mw-headline" id="File_attributes">File attributes</span></h2>
<p>Apart from the file mode bits that control <a href="/title/Users_and_groups" title="Users and groups">user and group</a> read, write and execute permissions, several <a href="/title/File_systems" title="File systems">file systems</a> support file attributes that enable further customization of allowable file operations. This section describes some of these attributes and how to work with them.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> By default, file attributes are not preserved by <a href="/title/Cp" class="mw-redirect" title="Cp">cp</a>, <a href="/title/Rsync" title="Rsync">rsync</a>, and other similar programs.</div>
<h3><span class="mw-headline" id="chattr_and_lsattr">chattr and lsattr</span></h3>
<p>For ext2 and <a href="/title/Ext3" title="Ext3">ext3</a> file systems, the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=e2fsprogs">e2fsprogs</a></span> package contains the programs <a href="https://en.wikipedia.org/wiki/lsattr" class="extiw" title="wikipedia:lsattr">lsattr</a> and <a href="https://en.wikipedia.org/wiki/chattr" class="extiw" title="wikipedia:chattr">chattr</a> that list and change a file's attributes, respectively. Though some are not honored by all file systems, the available attributes are:
</p>
<ul>
<li>
<code>a</code>: append only</li>
<li>
<code>c</code>: compressed</li>
<li>
<code>d</code>: no dump</li>
<li>
<code>e</code>: extent format</li>
<li>
<code>i</code>: immutable</li>
<li>
<code>j</code>: data journalling</li>
<li>
<code>s</code>: secure deletion</li>
<li>
<code>t</code>: no tail-merging</li>
<li>
<code>u</code>: undeletable</li>
<li>
<code>A</code>: no atime updates</li>
<li>
<code>C</code>: no copy on write</li>
<li>
<code>D</code>: synchronous directory updates</li>
<li>
<code>S</code>: synchronous updates</li>
<li>
<code>T</code>: top of directory hierarchy</li>
</ul>
<p>For example, if you want to set the immutable bit on some file, use the following command:
</p>
<pre># chattr +i <i>/path/to/file</i>
</pre>
<p>To remove an attribute on a file just change <code>+</code> to <code>-</code>.
</p>
<h2><span class="mw-headline" id="Extended_attributes">Extended attributes</span></h2>
<p>From <span class="plainlinks archwiki-template-man" title="$ man 7 xattr"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/xattr.7">xattr(7)</a></span>: "Extended attributes are name:value pairs associated permanently with files and directories". There are four extended attribute classes: security, system, trusted and user.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> By default, extended attributes are not preserved by <a href="/title/Cp" class="mw-redirect" title="Cp">cp</a>, <a href="/title/Rsync" title="Rsync">rsync</a>, and other similar programs, see <a href="#Preserving_extended_attributes">#Preserving extended attributes</a>.</div>
<p>Extended attributes are also used to set <a href="/title/Capabilities" title="Capabilities">Capabilities</a>.
</p>
<h3><span class="mw-headline" id="User_extended_attributes">User extended attributes</span></h3>
<p>User extended attributes can be used to store arbitrary information about a file. To create one:
</p>
<pre>$ setfattr -n user.checksum -v "3baf9ebce4c664ca8d9e5f6314fb47fb" foo.txt
</pre>
<p>Use getfattr to display extended attributes:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ getfattr -d foo.txt</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># file: foo.txt
user.checksum="3baf9ebce4c664ca8d9e5f6314fb47fb"</pre>
<p>Finally, to remove an extended attribute:
</p>
<pre>$ setfattr -x user.checksum foo.txt
</pre>
<h3><span class="mw-headline" id="Preserving_extended_attributes">Preserving extended attributes</span></h3>
<table class="wikitable">
<tbody>
<tr>
<th>Command</th>
<th>Required flag
</th>
</tr>
<tr>
<td><code>cp</code></td>
<td>
<code>--preserve=mode,ownership,timestamps,xattr</code>
</td>
</tr>
<tr>
<td><code>mv</code></td>
<td data-sort-value="3" style="background: #ffa; color: inherit; vertical-align: middle; text-align: center;">preserves by default<sup>1
</sup>
</td>
</tr>
<tr>
<td><code>tar</code></td>
<td>
<code>--xattrs</code> for creation and extraction
</td>
</tr>
<tr>
<td><code>bsdtar</code></td>
<td>
<code>-p</code> for extraction
</td>
</tr>
<tr>
<td><a href="/title/Rsync" title="Rsync">rsync</a></td>
<td>
<code>--xattrs</code>
</td>
</tr>
</tbody>
</table>
<ol><li>mv silently discards extended attributes when the target file system does not support them.</li></ol>
<p>To preserve extended attributes with <a href="/title/Text_editor" class="mw-redirect" title="Text editor">text editors</a> you need to configure them to truncate files on saving instead of using <span class="plainlinks archwiki-template-man" title="$ man 2 rename"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/rename.2">rename(2)</a></span>.<a rel="nofollow" class="external autonumber" href="https://unix.stackexchange.com/questions/45407">[1]</a>
</p>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Preserve_root">Preserve root</span></h3>
<p>Use the <code>--preserve-root</code> flag to prevent <code>chmod</code> from acting recursively on <code>/</code>. This can, for example, prevent one from removing the executable bit systemwide and thus breaking the system. To use this flag every time, set it within an <a href="/title/Alias" class="mw-redirect" title="Alias">alias</a>. See also <a rel="nofollow" class="external autonumber" href="https://www.reddit.com/r/linux/comments/4ni3xe/tifu_sudo_chmod_644/">[2]</a>.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Chattr" class="extiw" title="wikipedia:Chattr">wikipedia:Chattr</a></li>
<li><a rel="nofollow" class="external text" href="https://www.hackinglinuxexposed.com/articles/20030417.html">Linux File Permission Confusion</a></li>
<li><a rel="nofollow" class="external text" href="https://www.hackinglinuxexposed.com/articles/20030424.html">Linux File Permission Confusion part 2</a></li>
<li><a href="https://en.wikipedia.org/wiki/Extended_file_attributes#Linux" class="extiw" title="wikipedia:Extended file attributes">wikipedia:Extended file attributes#Linux</a></li>
<li><a rel="nofollow" class="external text" href="https://www.lesbonscomptes.com/pages/extattrs.html">Extended attributes: the good, the not so good, the bad.</a></li>
<li><a rel="nofollow" class="external text" href="https://www.concrete5.org/documentation/how-tos/designers/backup-and-restore-file-permissions-in-linux/">Backup and restore file permissions in Linux</a></li>
<li><a rel="nofollow" class="external text" href="https://serverfault.com/questions/364677/why-is-chmod-r-777-destructive">Why is “chmod -R 777 /” destructive?</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="/title/Special:Categories" title="Special:Categories">Categories</a>: <ul>
<li><a href="/title/Category:File_systems_(Espa%C3%B1ol)" title="Category:File systems (Español)">File systems (Español)</a></li>
<li><a href="/title/Category:Command-line_(Espa%C3%B1ol)" title="Category:Command-line (Español)">Command-line (Español)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="/title/Category:Pages_or_sections_flagged_with_Template:Translateme_(Espa%C3%B1ol)" title="Category:Pages or sections flagged with Template:Translateme (Español)">Pages or sections flagged with Template:Translateme (Español)</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=File_permissions_and_attributes_(Espa%C3%B1ol)&amp;oldid=668737">https://wiki.archlinux.org/index.php?title=File_permissions_and_attributes_(Español)&amp;oldid=668737</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 8 May 2021, at 10:41.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="/title/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/title/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="/title/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
