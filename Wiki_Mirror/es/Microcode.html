<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Microcode (Español) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Microcode_Español rootpage-Microcode_Español skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Microcode (Español)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Estado de la traducción:</strong> este artículo es una traducción de <a href="../en/Microcode.html" title="Microcode">Microcode</a> revisada por última vez el <b>2020-12-06</b>. Si advierte que la versión inglesa <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Microcode&amp;diff=0&amp;oldid=632792">ha cambiado</a> puede actualizar la traducción <a href="../es/ArchWiki:f6ecee2fb17812f6654b3a6ff807d392.html" class="mw-redirect" title="ArchWiki:Translation Team/Contributing (Español)">usted mismo</a> o avisar al <a href="../es/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Español)">equipo de traducción</a>.</div>
<p>Los fabricantes de procesadores lanzan actualizaciones de estabilidad y seguridad para el <a href="https://en.wikipedia.org/wiki/es:Microc%C3%B3digo" class="extiw" title="wikipedia:es:Microcódigo">microcódigo</a> del procesador. Estas actualizaciones proporcionan correcciones de errores que pueden ser críticas para la estabilidad de su sistema. Sin ellas, puede experimentar falsos errores o paradas inesperadas del sistema que pueden ser difíciles de rastrear.
</p>
<p>Todos los usuarios con CPU AMD o Intel deben instalar las actualizaciones de microcódigo para garantizar la estabilidad del sistema.
</p>
<p>Las actualizaciones de microcódigo generalmente se envían con el firmware de la placa base y se aplican durante la inicialización del firmware. Dado que los OEM podrían no lanzar actualizaciones de firmware de manera oportuna y los sistemas antiguos no reciben nuevas actualizaciones de firmware, se añadió al kernel de Linux la capacidad de aplicar actualizaciones de microcódigo de CPU durante el arranque. <a rel="nofollow" class="external text" href="https://www.kernel.org/doc/html/latest/x86/microcode.html">El cargador de microcódigo de Linux</a> soporta tres métodos de carga:
</p>
<ol>
<li>
<b>Carga temprana</b> actualiza el microcódigo muy pronto durante el arranque, antes de la etapa initramfs, por lo que es el método preferido. Esto es obligatorio para las CPU con errores graves de hardware, como las familias de procesadores Intel Haswell y Broadwell.</li>
<li>
<b>Carga tardía</b> actualiza el microcódigo después del arranque, lo que podría ser demasiado tarde ya que la CPU podría haber intentado utilizar un conjunto de instrucciones con errores. Incluso si ya está utilizando la carga temprana, la carga tardía puede usarse para aplicar una actualización de microcódigo más nueva sin necesidad de reiniciar.</li>
<li>
<b>Microcódigo incorporado</b> se puede compilar en el kernel que luego se aplica mediante el cargador inicial.</li>
</ol>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Carga_temprana"><span class="tocnumber">1</span> <span class="toctext">Carga temprana</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Instalaci%C3%B3n"><span class="tocnumber">1.1</span> <span class="toctext">Instalación</span></a></li>
<li class="toclevel-2 tocsection-3">
<a href="#Configuration"><span class="tocnumber">1.2</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#Activar_la_carga_temprana_de_microc%C3%B3digo_en_kernels_personalizados"><span class="tocnumber">1.2.1</span> <span class="toctext">Activar la carga temprana de microcódigo en kernels personalizados</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#GRUB"><span class="tocnumber">1.2.2</span> <span class="toctext">GRUB</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Dracut"><span class="tocnumber">1.2.3</span> <span class="toctext">Dracut</span></a></li>
<li class="toclevel-3 tocsection-7">
<a href="#systemd-boot"><span class="tocnumber">1.2.4</span> <span class="toctext">systemd-boot</span></a>
<ul>
<li class="toclevel-4 tocsection-8"><a href="#Im%C3%A1genes_de_kernel_unificadas"><span class="tocnumber">1.2.4.1</span> <span class="toctext">Imágenes de kernel unificadas</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-9"><a href="#EFISTUB"><span class="tocnumber">1.2.5</span> <span class="toctext">EFISTUB</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#rEFInd"><span class="tocnumber">1.2.6</span> <span class="toctext">rEFInd</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#Syslinux"><span class="tocnumber">1.2.7</span> <span class="toctext">Syslinux</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#LILO"><span class="tocnumber">1.2.8</span> <span class="toctext">LILO</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-13">
<a href="#Carga_tard%C3%ADa"><span class="tocnumber">2</span> <span class="toctext">Carga tardía</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#Activar_las_actualizaciones_de_microc%C3%B3digo_tard%C3%ADas"><span class="tocnumber">2.1</span> <span class="toctext">Activar las actualizaciones de microcódigo tardías</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Desactivar_las_actualizaciones_de_microc%C3%B3digo_tard%C3%ADas"><span class="tocnumber">2.2</span> <span class="toctext">Desactivar las actualizaciones de microcódigo tardías</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16"><a href="#Comprobar_que_el_microc%C3%B3digo_se_actualiz%C3%B3_en_el_arranque"><span class="tocnumber">3</span> <span class="toctext">Comprobar que el microcódigo se actualizó en el arranque</span></a></li>
<li class="toclevel-1 tocsection-17">
<a href="#Cuales_CPU_aceptan_actualizaciones_de_microc%C3%B3digo"><span class="tocnumber">4</span> <span class="toctext">Cuales CPU aceptan actualizaciones de microcódigo</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="#Detectar_actualizaci%C3%B3n_de_microc%C3%B3digo_disponible"><span class="tocnumber">4.1</span> <span class="toctext">Detectar actualización de microcódigo disponible</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#V%C3%A9ase_tambi%C3%A9n"><span class="tocnumber">5</span> <span class="toctext">Véase también</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Carga_temprana">Carga temprana</span></h2>
<p>El <a href="../es/Arch_boot_process.html#Gestor_de_arranque" class="mw-redirect" title="Boot loader (Español)">cargador de arranque</a> debe cargar el microcódigo. Debido a la gran variabilidad en la configuración de inicio de los usuarios, las actualizaciones de microcódigo pueden no ser activadas automáticamente por la configuración predeterminada de Arch. Muchos kernel de AUR han seguido el camino de los <a href="../es/Kernel.html" class="mw-redirect" title="Kernels (Español)">kernels</a> oficiales de Arch en este sentido.
</p>
<p>Estas actualizaciones deben activarse añadiendo <code>/boot/amd-ucode.img</code> o <code>/boot/intel-ucode.img</code> como el <b>primer initrd en el archivo de configuración del cargador de arranque</b>. Esto es un añadido al archivo initrd normal. Véase a continuación las instrucciones para los cargadores de arranque más comunes.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> En las secciones siguientes reemplace <code><i>fabricante_de_la_cpu</i></code> con su fabricante de CPU, es decir, <code>amd</code> o <code>intel</code>.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Sugerencia:</strong> Para <a href="../es/Install_Arch_Linux_on_a_removable_medium.html" class="mw-redirect" title="Installing Arch Linux on a USB key (Español)">Arch Linux en una unidad extraíble</a> añada ambos archivos de microcódigo como <code>initrd</code> a la configuración del cargador de arranque. Su orden no importa siempre y cuando ambos estén especificados antes de la imagen real de initramfs.</div>
<h3>
<span id="Instalaci.C3.B3n"></span><span class="mw-headline" id="Instalación">Instalación</span>
</h3>
<p>Para los procesadores AMD, <a href="../es/Help:Reading.html#Instalaci%C3%B3n_de_paquetes" class="mw-redirect" title="Install (Español)">instale</a> el paquete <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=amd-ucode">amd-ucode</a></span>.
</p>
<p>Para los procesadores Intel, <a href="../es/Help:Reading.html#Instalaci%C3%B3n_de_paquetes" class="mw-redirect" title="Install (Español)">instale</a> el paquete <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=intel-ucode">intel-ucode</a></span>.
</p>
<p>Si su instalación de Arch es <a href="../es/Install_Arch_Linux_on_a_removable_medium.html" class="mw-redirect" title="Installing Arch Linux on a USB key (Español)">en una unidad extraíble</a> que necesita tener microcódigo para ambos fabricantes de procesadores, instale ambos paquetes.
</p>
<h3><span class="mw-headline" id="Configuration">Configuration</span></h3>
<h4>
<span id="Activar_la_carga_temprana_de_microc.C3.B3digo_en_kernels_personalizados"></span><span class="mw-headline" id="Activar_la_carga_temprana_de_microcódigo_en_kernels_personalizados">Activar la carga temprana de microcódigo en kernels personalizados</span>
</h4>
<p>Para que la carga temprana funcione en kernels personalizados, el "Soporte de carga de microcódigo de CPU" debe compilarse en el kernel, "nunca" compilarse como un módulo. Esto activará la opción "Microcódigo de carga temprana" que debe establecerse en <code>Y</code>.
</p>
<pre>CONFIG_BLK_DEV_INITRD=Y
CONFIG_MICROCODE=y
CONFIG_MICROCODE_INTEL=Y
CONFIG_MICROCODE_AMD=y
</pre>
<h4><span class="mw-headline" id="GRUB">GRUB</span></h4>
<p><i>grub-mkconfig</i> detectará automáticamente la actualización del microcódigo y configurará <a href="../es/GRUB.html" title="GRUB (Español)">GRUB</a> de manera apropiada. Después de instalar el paquete de microcódigo, vuelva a generar la configuración de GRUB para activar la carga de la actualización de microcódigo ejecutando:
</p>
<pre># grub-mkconfig -o /boot/grub/grub.cfg
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> <i>grub-mkconfig</i> no añade las imágenes de microcódigo a la entrada fallback de initramfs. Véase <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/60999">FS#60999</a>.</div>
<p>Alternativamente, los usuarios que administran su archivo de configuración GRUB manualmente pueden añadir <code>/boot/<i>fabricante_de_la_cpu</i>-ucode.img</code> (o <code>/<i>fabricante_de_la_cpu</i>-ucode.img</code> si <code>/boot</code> es una partición separada) como sigue:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/grub/grub.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
echo 'Cargando ramdisk inicial'
initrd	<b>/boot/<i>fabricante_de_la_cpu</i>-ucode.img</b> /boot/initramfs-linux.img
...
</pre>
<p>Repítalo para cada entrada del menú.
</p>
<h4><span class="mw-headline" id="Dracut">Dracut</span></h4>
<p>Al generar initramfs con <a href="../en/Dracut.html" title="Dracut">dracut</a>, el microcódigo debe incluirse con el paso de carga temprana de microcódigo.
</p>
<p>Verifique la salida de esta orden para comprobar que su sistema esté configurado correctamente:
</p>
<pre># dracut --kver x.y.z-arch1-1 /boot/initramfs-linux.img
</pre>
<h4><span class="mw-headline" id="systemd-boot">systemd-boot</span></h4>
<p>Utilice la opción <code>initrd</code> para cargar el microcódigo, antes del ramdisk inicial, de la siguiente manera:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/loader/entries/<i>entrada</i>.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">title   Arch Linux
linux   /vmlinuz-linux
<b>initrd  /<i>fabricante_de_la_cpu</i>-ucode.img</b>
initrd  /initramfs-linux.img
...
</pre>
<p>El último microcódigo <code><i> fabricante_de_la_cpu</i>-ucode.img</code> debe estar disponible durante el arranque en su <a href="../es/EFI_system_partition.html" title="EFI system partition (Español)">partición del sistema EFI</a> (ESP). El ESP se debe montar como <code>/boot</code> para que el microcódigo se actualice cada vez que se actualice <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=amd-ucode">amd-ucode</a></span> o <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=intel-ucode">intel-ucode</a></span>. De lo contrario, copie <code>/boot/<i>fabricante_de_la_cpu</i>-ucode.img</code> a su ESP en cada actualización del paquete de microcódigo.
</p>
<h5>
<span id="Im.C3.A1genes_de_kernel_unificadas"></span><span class="mw-headline" id="Imágenes_de_kernel_unificadas">Imágenes de kernel unificadas</span>
</h5>
<p>ara <a href="../es/Systemd-boot.html#Preparaci%C3%B3n_de_una_imagen_unificada_del_n%C3%BAcleo" title="Systemd-boot (Español)">imágenes de kernel unificadas</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>, primero genere el initrd para integrarlo creando uno nuevo de la siguiente manera:
</p>
<pre>$ cat /boot/<i>fabricante_de_la_cpu</i>-ucode.img /boot/initramfs-linux.img &gt; mi_nuevo_initrd.img
$ objcopy ... --add-section .initrd=mi_nuevo_initrd .img
</pre>
<h4><span class="mw-headline" id="EFISTUB">EFISTUB</span></h4>
<p>Añada dos opciones <code>initrd=</code>:
</p>
<pre><b>initrd=\<i>fabricante_de_la_cpu</i>-ucode.img</b> initrd=\initramfs-linux.img
</pre>
<h4><span class="mw-headline" id="rEFInd">rEFInd</span></h4>
<p>Edite las opciones de arranque en <code>/boot/refind_linux.conf</code> y añada <code>initrd=/boot/<i>fabricante_de_la_cpu</i>-ucode.img</code> (o <code>initrd=/<i>fabricante_de_la_cpu</i>-ucode.img</code> si <code>/boot</code> está en una partición separada) como el primer initramfs. Por ejemplo:
</p>
<pre>"Arrancar utilizando las opciones predeterminadas"     "root=PARTUUID=<i>XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</i> rw add_efi_memmap <b>initrd=boot\<i>cpu_manufacturer</i>-ucode.img</b> initrd=boot\initramfs-%v.img"
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Sugerencia:</strong> Los usuarios que anteriormente no especificaron un parámetro de kernel <code>initrd</code> deberán seguir los pasos descritos en <a href="../en/REFInd.html#Configuration" title="REFInd">rEFInd#Configuration</a> para permitir el paso de múltiples parámetros <code>initrd</code>.</div>
<p>Los usuarios que empleen <a href="../en/REFInd.html#Manual_boot_stanzas" title="REFInd">estancias manuales</a> en <code><i>esp</i>/EFI/refind/refind.conf</code> para definir los kernels deben añadir simplemente <code>initrd=/boot/<i>fabricante_de_la_cpu</i>-ucode.img</code> (o <code>/<i>fabricante_de_la_cpu</i>-ucode.img</code> si <code>/boot</code> es una partición separada) según sea necesario para las líneas de opciones, y no en la parte principal de la estancia. Por ejemplo:
</p>
<pre>options  "root=PARTUUID=<i>XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</i> rw add_efi_memmap <b>initrd=boot\<i>fabricante_de_la_cpu</i>-ucode.img</b>"
</pre>
<h4><span class="mw-headline" id="Syslinux">Syslinux</span></h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> No debe haber espacios entre los archivos initrd <code><i>fabricante_de_la_cpu</i>-ucode.img</code> y <code>initramfs-linux.img</code>. La línea <code>INITRD</code> debe ser exactamente como se ilustra a continuación.</div>
<p>Los múltiples initrd pueden estar separados por comas en <code>/boot/syslinux/syslinux.cfg</code>:
</p>
<pre>LABEL arch
    MENU LABEL Arch Linux
    LINUX ../vmlinuz-linux
    INITRD <b>../<i>fabricante_de_la_cpu</i>-ucode.img</b>,../initramfs-linux.img
...
</pre>
<h4><span class="mw-headline" id="LILO">LILO</span></h4>
<p><a href="../en/LILO.html" title="LILO">LILO</a> y posiblemente otros cargadores de arranque antiguos no admitan varias imágenes initrd. En ese caso, <code><i>fabricante_de_la_cpu</i>-ucode.img</code> y <code>initramfs-linux.img</code> deberán combinarse en una imagen.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> ¡La imagen fusionada debe recrearse después de cada actualización del kernel!</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> El orden es importante. La imagen original <code>initramfs-linux.img</code> debe estar <b>después</b> de <code><i>fabricante_de_la_cpu</i>-ucode.img</code> en la imagen resultante.</div>
<p>Para combinar ambas imágenes en una imagen llamada <code>initramfs-combinada.img</code>, se puede utilizar el siguiente comando:
</p>
<pre># cat /boot/<i>fabricante_de_la_cpu</i>-ucode.img /boot/initramfs-linux.img &gt; /boot/initramfs-combinada.img
</pre>
<p>Ahora, edite <code>/etc/lilo.conf</code> para cargar la nueva imagen.
</p>
<pre>...
initrd=/boot/initramfs-combinada.img
...
</pre>
<p>Y ejecute <code>lilo</code> como superusuario <i>(root)</i>:
</p>
<pre># lilo
</pre>
<h2>
<span id="Carga_tard.C3.ADa"></span><span class="mw-headline" id="Carga_tardía">Carga tardía</span>
</h2>
<p>La carga tardía de las actualizaciones de microcódigo ocurre después de que el sistema se haya iniciado. Utiliza archivos en <code>/usr/lib/firmware/amd-ucode/</code> y <code>/usr/lib/firmware/intel-ucode/</code>.
</p>
<p>Para los procesadores AMD, los archivos de actualización de microcódigo son proporcionados por <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-firmware">linux-firmware</a></span>.
</p>
<p>Para los procesadores Intel, ningún paquete proporciona los archivos de actualización de microcódigo (<a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/59841">FS#59841</a>). Para utilizar la carga tardía, debe extraer manualmente <code>intel-ucode/</code> del <a rel="nofollow" class="external text" href="https://github.com/intel/Intel-Linux-Processor-Microcode-Data-Files/releases">archivo provisto por Intel</a>.
</p>
<h3>
<span id="Activar_las_actualizaciones_de_microc.C3.B3digo_tard.C3.ADas"></span><span class="mw-headline" id="Activar_las_actualizaciones_de_microcódigo_tardías">Activar las actualizaciones de microcódigo tardías</span>
</h3>
<p>A diferencia de la carga temprana, la carga tardía de las actualizaciones de microcódigo en Arch Linux se activa de manera predeterminada utilizando <code>/usr/lib/tmpfiles.d/linux-firmware.conf</code>. Después del arranque, el archivo se analiza mediante <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-tmpfiles-setup.service"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-tmpfiles-setup.service.8">systemd-tmpfiles-setup.service(8)</a></span> y se actualiza el microcódigo de la CPU.
</p>
<p>Para recargar manualmente el microcódigo, p.e. tras actualizar los archivos de microcódigo en <code>/usr/lib/firmware/amd-ucode/</code> o <code>/usr/lib/firmware/intel-ucode/</code>, ejecute:
</p>
<pre># echo 1 &gt; /sys/devices/system/cpu/microcode/reload
</pre>
<p>Esto permite aplicar nuevas actualizaciones de microcódigo sin reiniciar el sistema. Para <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-firmware">linux-firmware</a></span> puede automatizarlo con un <a href="/index.php?title=Pacman_hook_(Espa%C3%B1ol)&amp;action=edit&amp;redlink=1" class="new" title="Pacman hook (Español) (page does not exist)">hook de pacman</a>, por ejemplo:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pacman.d/hooks/microcode_reload.hook</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Trigger]
Operation = Upgrade
Type = Path
Target = usr/lib/firmware/amd-ucode/*

[Action]
Description = Aplicando actualizaciones de microcódigo de CPU...
When = PostTransaction
Depends = sh
Exec = /bin/sh -c 'echo 1 &gt; /sys/devices/system/cpu/microcode/reload'</pre>
<h3>
<span id="Desactivar_las_actualizaciones_de_microc.C3.B3digo_tard.C3.ADas"></span><span class="mw-headline" id="Desactivar_las_actualizaciones_de_microcódigo_tardías">Desactivar las actualizaciones de microcódigo tardías</span>
</h3>
<p>Para los sistemas AMD, el microcódigo de la CPU se actualizará incluso si <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=amd-ucode">amd-ucode</a></span> no está instalado ya que los archivos en <code>/usr/lib/firmware/amd-ucode/</code> son provistos por el paquete <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-firmware">linux-firmware</a></span> (<a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/59840">FS#59840</a>).
</p>
<p><br>
Para <a href="../en/Category:Virtualization.html" class="mw-redirect" title="Virtual machine">máquinas virtuales</a> y <a href="https://en.wikipedia.org/wiki/Container_(virtualization)" class="extiw" title="wikipedia:Container (virtualization)">contenedores</a> (<a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/46591">FS#46591</a>) no es posible actualizar el microcódigo de la CPU, por lo que es posible que quiera desactiva las actualizaciones de microcódigo. Para hacerlo, debe anular el <a href="../es/Systemd.html#Archivos_temporales" class="mw-redirect" title="Tmpfile (Español)">tmpfile</a> <code>/usr/lib/tmpfiles.d/linux-firmware.conf</code> que proporciona <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-firmware">linux-firmware</a></span>. Se puede hacer creando un archivo con el mismo nombre en <code>/etc/tmpfiles.d/</code>:
</p>
<pre># ln -s /dev/null /etc/tmpfiles.d/linux-firmware.conf
</pre>
<h2>
<span id="Comprobar_que_el_microc.C3.B3digo_se_actualiz.C3.B3_en_el_arranque"></span><span class="mw-headline" id="Comprobar_que_el_microcódigo_se_actualizó_en_el_arranque">Comprobar que el microcódigo se actualizó en el arranque</span>
</h2>
<p>Utilice <i>dmesg</i> para ver si el microcódigo se ha actualizado:
</p>
<pre>$ dmesg | grep microcode
</pre>
<p>En los sistemas Intel, se debería ver algo similar a lo siguiente en cada inicio, lo que indica que el microcódigo se actualiza muy pronto:
</p>
<pre>[    0.000000] CPU0 microcode updated early to revision 0x1b, date = 2014-05-29
[    0.221951] CPU1 microcode updated early to revision 0x1b, date = 2014-05-29
[    0.242064] CPU2 microcode updated early to revision 0x1b, date = 2014-05-29
[    0.262349] CPU3 microcode updated early to revision 0x1b, date = 2014-05-29
[    0.507267] microcode: CPU0 sig=0x306a9, pf=0x2, revision=0x1b
[    0.507272] microcode: CPU1 sig=0x306a9, pf=0x2, revision=0x1b
[    0.507276] microcode: CPU2 sig=0x306a9, pf=0x2, revision=0x1b
[    0.507281] microcode: CPU3 sig=0x306a9, pf=0x2, revision=0x1b
[    0.507286] microcode: CPU4 sig=0x306a9, pf=0x2, revision=0x1b
[    0.507292] microcode: CPU5 sig=0x306a9, pf=0x2, revision=0x1b
[    0.507296] microcode: CPU6 sig=0x306a9, pf=0x2, revision=0x1b
[    0.507300] microcode: CPU7 sig=0x306a9, pf=0x2, revision=0x1b
[    0.507335] microcode: Microcode Update Driver: v2.2.
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> La fecha mostrada no corresponde a la versión del paquete <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=intel-ucode">intel-ucode</a></span> instalado. Muestra la última vez que Intel actualizó el microcódigo que corresponde al hardware específico que se está actualizando.</div>
<p>Es totalmente posible, particularmente con hardware más nuevo, que no haya una actualización de microcódigo para la CPU. En ese caso, la salida puede verse así:
</p>
<pre>[    0.292893] microcode: CPU0 sig=0x306c3, pf=0x2, revision=0x1c
[    0.292899] microcode: CPU1 sig=0x306c3, pf=0x2, revision=0x1c
[    0.292906] microcode: CPU2 sig=0x306c3, pf=0x2, revision=0x1c
[    0.292912] microcode: CPU3 sig=0x306c3, pf=0x2, revision=0x1c
[    0.292956] microcode: Microcode Update Driver: v2.2.
</pre>
<p>En los sistemas AMD que utilizan la carga temprana, la salida se vería así:
</p>
<pre>[    2.119089] microcode: microcode updated early to new patch_level=0x0700010f
[    2.119157] microcode: CPU0: patch_level=0x0700010f
[    2.119171] microcode: CPU1: patch_level=0x0700010f
[    2.119183] microcode: CPU2: patch_level=0x0700010f
[    2.119189] microcode: CPU3: patch_level=0x0700010f
[    2.119269] microcode: Microcode Update Driver: v2.2.
</pre>
<p>En los sistemas AMD que utilizan la carga tardía, la salida mostrará la versión del microcódigo anterior antes de volver a cargar el microcódigo y el nuevo una vez que se vuelva a cargar. Se vería algo como esto:
</p>
<pre>[    2.112919] microcode: CPU0: patch_level=0x0700010b
[    2.112931] microcode: CPU1: patch_level=0x0700010b
[    2.112940] microcode: CPU2: patch_level=0x0700010b
[    2.112951] microcode: CPU3: patch_level=0x0700010b
[    2.113043] microcode: Microcode Update Driver: v2.2.
[    6.429109] microcode: CPU2: new patch_level=0x0700010f
[    6.430416] microcode: CPU0: new patch_level=0x0700010f
[    6.431722] microcode: CPU1: new patch_level=0x0700010f
[    6.433029] microcode: CPU3: new patch_level=0x0700010f
[    6.433073] x86/CPU: CPU features have changed after loading microcode, but might not take effect.
</pre>
<h2>
<span id="Cuales_CPU_aceptan_actualizaciones_de_microc.C3.B3digo"></span><span class="mw-headline" id="Cuales_CPU_aceptan_actualizaciones_de_microcódigo">Cuales CPU aceptan actualizaciones de microcódigo</span>
</h2>
<p>Los usuarios pueden consultar a Intel o AMD en los siguientes enlaces para ver si un modelo en particular es compatible:
</p>
<ul>
<li>
<a rel="nofollow" class="external text" href="http://www.amd64.org/microcode.html">Centro de Investigación de Sistemas Operativos de AMD</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">enlace roto</a> 2019-07-01]</sup>.</li>
<li>
<a rel="nofollow" class="external text" href="https://downloadcenter.intel.com/SearchResult.aspx?lang=eng&amp;keyword=processor%20microcode%20data%20file">Centro de descarga de Intel</a>.</li>
</ul>
<h3>
<span id="Detectar_actualizaci.C3.B3n_de_microc.C3.B3digo_disponible"></span><span class="mw-headline" id="Detectar_actualización_de_microcódigo_disponible">Detectar actualización de microcódigo disponible</span>
</h3>
<p>Es posible averiguar si <code>intel-ucode.img</code> contiene una imagen de microcódigo para la CPU en ejecución con <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iucode-tool">iucode-tool</a></span>.
</p>
<ol>
<li>
<a href="../es/Help:Reading.html#Instalaci%C3%B3n_de_paquetes" class="mw-redirect" title="Install (Español)">Instale</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=intel-ucode">intel-ucode</a></span> (no es necesario cambiar initrd para la detección)</li>
<li>
<a href="../es/Help:Reading.html#Instalaci%C3%B3n_de_paquetes" class="mw-redirect" title="Install (Español)">Instale</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iucode-tool">iucode-tool</a></span>
</li>
<li>Cargue el módulo del nkernel <code>cpuid</code>: <pre># modprobe cpuid</pre>
</li>
<li>Extraiga la imagen de microcódigo y busque su cpuid:<br><pre># bsdtar -Oxf /boot/intel-ucode.img | iucode_tool -tb -lS -</pre>
</li>
<li>Si hay una actualización disponible, debería aparecer debajo de <i>selected microcodes</i>
</li>
<li>Es posible que el microcódigo ya esté en la BIOS de su proveedor y no aparezca cargando en dmesg. Compárelo con el microcódigo actual ejecutando <code>grep microcode /proc/cpuinfo</code>
</li>
</ol>
<h2>
<span id="V.C3.A9ase_tambi.C3.A9n"></span><span class="mw-headline" id="Véase_también">Véase también</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://flossexperiences.wordpress.com/2013/11/17/updating-microcodes/">Actualización de microcódigos - Experiencias en la comunidad</a></li>
<li><a rel="nofollow" class="external text" href="http://inertiawar.com/microcode/">Notas sobre actualizaciones de microcódigo de Intel – Ben Hawkes</a></li>
<li><a rel="nofollow" class="external text" href="https://www.kernel.org/doc/html/latest/x86/microcode.html">Cargador de microcódigo del kernel - documentación del kernel</a></li>
<li><a rel="nofollow" class="external text" href="http://www.anandtech.com/show/8376/intel-disables-tsx-instructions-erratum-found-in-haswell-haswelleep-broadwelly">Errata encontrada en Haswell/Broadwell – AnandTech</a></li>
<li><a rel="nofollow" class="external text" href="https://gitlab.com/iucode-tool/iucode-tool">Proyecto iucode-tool en GitLab</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../es/Category:CPU.html" title="Category:CPU (Español)">CPU (Español)</a></li>
<li><a href="../es/Category:Security.html" title="Category:Security (Español)">Security (Español)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Microcode_(Espa%C3%B1ol)&amp;oldid=643790">https://wiki.archlinux.org/index.php?title=Microcode_(Español)&amp;oldid=643790</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 6 December 2020, at 16:09.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
