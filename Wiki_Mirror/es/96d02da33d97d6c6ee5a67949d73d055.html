<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Pacman (Español)/Pacnew and Pacsave (Español) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Pacman_Español_Pacnew_and_Pacsave_Español rootpage-Pacman_Español skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Pacman (Español)/Pacnew and Pacsave (Español)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"><span class="subpages">&lt; <a href="/title/Pacman_(Espa%C3%B1ol)" title="Pacman (Español)">Pacman (Español)</a></span></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Estado de la traducción:</strong> esta traducción de <a href="/title/Pacman/Pacnew_and_Pacsave" title="Pacman/Pacnew and Pacsave">Pacman/Pacnew and Pacsave</a> fue revisada el <b>2018-12-21</b>. Si existen <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Pacman/Pacnew_and_Pacsave&amp;diff=0&amp;oldid=523844">cambios</a> puede <a href="/title/ArchWiki:Translation_Team/Contributing_(Espa%C3%B1ol)" class="mw-redirect" title="ArchWiki:Translation Team/Contributing (Español)">actualizarla</a> o avisar al <a href="/title/ArchWiki:Translation_Team_(Espa%C3%B1ol)" title="ArchWiki:Translation Team (Español)">equipo de traducción</a>.</div>
<p>Cuando <i>pacman</i> elimina un paquete que tiene un archivo de configuración, normalmente crea una copia de respaldo de ese archivo de configuración y agrega <i>.pacsave</i> al nombre del archivo. Del mismo modo, cuando <i>pacman</i> actualiza un paquete que incluye un nuevo archivo de configuración creado por el mantenedor que difiere del archivo que se instala, guarda un archivo <i>.pacnew</i> con la nueva configuración. <i>pacman</i> avisa de estas operacoines cuando se escriben dichos archivos.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Por_qu%C3%A9_se_crean_estos_archivos"><span class="tocnumber">1</span> <span class="toctext">Por qué se crean estos archivos</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Copias_de_seguridad_de_archivos_de_paquetes"><span class="tocnumber">2</span> <span class="toctext">Copias de seguridad de archivos de paquetes</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#Explicaci%C3%B3n_de_los_tipos"><span class="tocnumber">3</span> <span class="toctext">Explicación de los tipos</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#.pacnew"><span class="tocnumber">3.1</span> <span class="toctext">.pacnew</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#.pacsave"><span class="tocnumber">3.2</span> <span class="toctext">.pacsave</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Localizar_archivos_.pac*"><span class="tocnumber">4</span> <span class="toctext">Localizar archivos .pac*</span></a></li>
<li class="toclevel-1 tocsection-7">
<a href="#Gestionar_archivos_.pacnew"><span class="tocnumber">5</span> <span class="toctext">Gestionar archivos .pacnew</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#pacdiff"><span class="tocnumber">5.1</span> <span class="toctext">pacdiff</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Utilidades_de_terceros"><span class="tocnumber">5.2</span> <span class="toctext">Utilidades de terceros</span></a></li>
</ul>
</li>
</ul>
</div>

<h2>
<span id="Por_qu.C3.A9_se_crean_estos_archivos"></span><span class="mw-headline" id="Por_qué_se_crean_estos_archivos">Por qué se crean estos archivos</span>
</h2>
<p>Se puede crear un archivo <i> .pacnew </i> durante la actualización de un paquete (con <code>pacman -Syu</code>, <code>pacman -Su</code> o <code>pacman -U</code>) para evitar sobrescribir un archivo que ya existe y fue modificado previamente por el usuario. Cuando esto sucede, aparecerá un mensaje como el siguiente en la salida de <i>pacman</i>:
</p>
<pre>advertencia: /etc/pam.d/usermod instalado como /etc/pam.d/usermod.pacnew
</pre>
<p>Se puede crear un archivo <i> .pacsave </i> durante la eliminación de un paquete (con <code>pacman -R</code>), o mediante una actualización del paquete (el paquete debe eliminarse primero). Cuando la base de datos de pacman tiene registro de que se debe hacer una copia de seguridad de un determinado archivo que pertenece a un paquete, se creará un archivo <i>.pacsave</i>. Cuando esto sucede, pacman envía un mensaje como el siguiente:
</p>
<pre>advertencia: /etc/pam.d/usermod guardado como /etc/pam.d/usermod.pacsave
</pre>
<p>Estos archivos requieren la intervención manual del usuario y es una buena práctica manejarlos inmediatamente después de cada actualización o eliminación de un paquete. Si no se manejan, las configuraciones incorrectas pueden dar como resultado un mal funcionamiento del software, o que el mismo no se ejecute al completo.
</p>
<h2><span class="mw-headline" id="Copias_de_seguridad_de_archivos_de_paquetes">Copias de seguridad de archivos de paquetes</span></h2>
<p>El archivo <code>PKGBUILD</code> de un paquete especifica qué archivos deben conservarse o respaldarse cuando el paquete se actualiza o se elimina. Por ejemplo, <code>PKGBUILD</code> para <code>pulseaudio</code> contiene la siguiente línea:
</p>
<pre>backup=('etc/pulse/client.conf' 'etc/pulse/daemon.conf' 'etc/pulse/default.pa')
</pre>
<p>Para evitar que cualquier paquete sobrescriba un archivo determinado, consulte <a href="/title/Pacman_(Espa%C3%B1ol)#Evitar_la_instalaci%C3%B3n_de_archivos_en_el_sistema" title="Pacman (Español)">Pacman (Español)#Evitar la instalación de archivos en el sistema</a>.
</p>
<h2>
<span id="Explicaci.C3.B3n_de_los_tipos"></span><span class="mw-headline" id="Explicación_de_los_tipos">Explicación de los tipos</span>
</h2>
<h3><span class="mw-headline" id=".pacnew">.pacnew</span></h3>
<p>Para cada uno de las <a href="#Copias_de_seguridad_de_archivos_de_paquetes">#Copias de seguridad de archivos de paquetes</a> que se están actualizando, pacman compara tres <a href="https://en.wikipedia.org/wiki/es:md5sum" class="extiw" title="wikipedia:es:md5sum">md5sums</a> generados a partir del contenido del archivo: una suma para la versión instalada originalmente por el paquete, otra para la versión actualmente en el sistema de archivos y otra última para la versión en el nuevo paquete. Si la versión del archivo que se encuentra actualmente en el sistema de archivos se modificó con respecto a la versión instalada originalmente por el paquete, pacman no puede saber cómo combinar esos cambios con la nueva versión del archivo. Por lo tanto, en lugar de sobrescribir el archivo modificado al actualizar, pacman guarda la nueva versión con una extensión <i>.pacnew</i> y deja la versión modificada sin tocar.
</p>
<p>Para más detalles, la comparación de la suma MD5 a tres bandas dará uno de los siguientes resultados:
</p>
<dl>
<dt>original = <i>X</i>, actual = <i>X</i>, nuevo = <i>X</i>
</dt>
<dd>las tres versiones del archivo tienen un contenido idéntico, por lo que la sobrescritura no es un problema. Sobrescribe la versión actual con la nueva versión y no lo notifica al usuario (aunque el contenido del archivo es el mismo, esta sobrescritura actualizará la información del sistema de archivos con respecto a los archivos instalados, modificados y tiempos de accesos, y asegurará que cualquier cambio en los permisos del archivo se aplicarán).</dd>
</dl>
<dl>
<dt>original = <i>X</i>, actual = <i>X</i>, nuevo = <i>Y</i>
</dt>
<dd>el contenido de la versión actual es idéntico al del original, pero la nueva versión es diferente. Dado que el usuario no ha modificado la versión actual y la nueva versión puede contener mejoras o correcciones de errores, sobrescribe la versión actual con la nueva versión y no lo notifica al usuario. Esta es la única fusión automática de cambios nuevos que es capaz de realizar pacman.</dd>
</dl>
<dl>
<dt>original = <i>X</i>, actual = <i>Y</i>, nuevo = <i>X</i>
</dt>
<dd>el paquete original y el nuevo paquete contienen exactamente la misma versión del archivo, pero la versión actualmente en el sistema de archivos ha sido modificada. Deja la versión actual en su lugar y descarta la nueva versión sin notificarla al usuario.</dd>
</dl>
<dl>
<dt>original = <i>X</i>, actual = <i>Y</i>, nuevo = <i>Y</i>
</dt>
<dd>la nueva versión es idéntica a la versión actual. Sobrescribe la versión actual con la nueva versión y no lo notifica al usuario (aunque el contenido del archivo es el mismo, esta sobrescritura actualizará la información del sistema de archivos con respecto a los archivos instalados, modificados y tiempos de accesos, y asegurará que cualquier cambio en los permisos del archivo se aplicarán).</dd>
</dl>
<dl>
<dt>original = <i>X</i>, actual = <i>Y</i>, nuevo = <i>Z</i>
</dt>
<dd>las tres versiones son diferentes, así que deja la versión actual en su lugar, instala la nueva versión con una extensión <i>.pacnew</i> y advierte al usuario sobre la nueva versión. Se espera que el usuario combine manualmente los cambios necesarios de la nueva versión con la versión en vigor.</dd>
</dl>
<h3><span class="mw-headline" id=".pacsave">.pacsave</span></h3>
<p>Si el usuario ha modificado uno de los archivos especificados en <code> backup</code>, ese archivo cambiará de nombre con una extensión <i> .pacsave </i> y permanecerá en el sistema de archivos después de que se elimine el resto del paquete.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> el uso de la opción <code>-n</code> con <code>pacman -R</code> dará como resultado la eliminación completa de <i>todos</i> los archivos del paquete especificado, por lo tanto, no se creará ningún archivo <i>.pacsave</i>.</div>
<h2>
<span id="Localizar_archivos_.pac.2A"></span><span class="mw-headline" id="Localizar_archivos_.pac*">Localizar archivos .pac*</span>
</h2>
<p>pacman no trata los archivos <i>.pacnew</i> automáticamente: deben mantenerse por el usuario. Algunas herramientas se presentan en la siguiente sección. Para hacer esto manualmente, primero necesitará localizarlos. Al actualizar o eliminar una gran cantidad de paquetes, se pueden perder los archivos <i>.pac*</i> actualizados. Para descubrir si se ha instalado algún archivo <i>.pac*</i>, use una de la órdenes siguientes:
</p>
<ul>
<li>Para buscar dentro de <code>/etc</code> donde se almacenan la mayoría de las configuraciones globales: <pre>$ find /etc -regextye posix-extended -regex ".+\.pac(new|save)" 2&gt; /dev/null</pre> o para buscar en todo el disco, sustituya <code>/etc</code> por <code>/</code> en la orden anterior</li>
<li>Si está instalado, <a href="/title/Mlocate_(Espa%C3%B1ol)" class="mw-redirect" title="Mlocate (Español)">mlocate (Español)</a> también se puede usar. Primero vuelva a indexar la base de datos: <pre># updatedb</pre> Luego ejecute: <pre>$ locate --existing --regex "\.pac(new|save)$"</pre>
</li>
<li>Utilice el registro de pacman para encontrarlos: <pre>$ grep --extended-regexp "pac(new|save)" /var/log/pacman.log</pre> Tenga en cuenta que el registro no pierde de vista los archivos que se encuentran actualmente en el sistema de archivos ni los que ya se han eliminado; la orden anterior mostrará una lista de todos los archivos <i>.pac*</i> que hayan existido en su sistema. Para obtener solo los 10 archivos <i>.pac*</i> más recientes, canalice el resultado con <code>tail</code>.</li>
</ul>
<h2><span class="mw-headline" id="Gestionar_archivos_.pacnew">Gestionar archivos .pacnew</span></h2>
<h3><span class="mw-headline" id="pacdiff">pacdiff</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman-contrib">pacman-contrib</a></span> proporciona una sencilla herramienta, <i>pacdiff</i>, para  gestionar archivos pacnew/pacsave. Buscará todos los archivos <i> .pacnew </i> y <i> .pacsave </i> y solicitará cualquier acción sobre ellos. Utiliza <a href="/title/Vim#Merging_files" title="Vim">vimdiff</a> de forma predeterminada, pero puede especificar una herramienta diferente con <code>DIFFPROG=<i>your_editor</i> pacdiff</code>. Vea <a href="/title/List_of_applications/Utilities#Comparison,_diff,_merge" title="List of applications/Utilities">List of applications/Utilities#Comparison, diff, merge</a> para otras herramientas de comparación comunes.
</p>
<h3><span class="mw-headline" id="Utilidades_de_terceros">Utilidades de terceros</span></h3>
<p>En <a href="/title/AUR_(Espa%C3%B1ol)" class="mw-redirect" title="AUR (Español)">AUR (Español)</a> dispone de algunas utilidades de terceros que proporcionan varios niveles de automatización para estas tareas.
</p>
<p>Algunas de dichas herramientas son las siguientes:
</p>
<ul><li>
<b>dotpac</b> — Script interactivo básico con una interfaz de texto basada en ncurses y un tutorial útil. No proporciona características de fusión o fusión automática.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/AladW/dotpac">https://github.com/AladW/dotpac</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/dotpac/">dotpac</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>etc-update</b> — Puerto de Arch de la utilidad <i>etc-update</i> de Gentoo, que proporciona un CLI simple para ver, combinar y editar interactivamente los cambios. Los cambios triviales (como los comentarios) pueden ser mezclados automáticamente.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://wiki.gentoo.org/wiki/Handbook:Parts/Portage/Tools#etc-update">https://wiki.gentoo.org/wiki/Handbook:Parts/Portage/Tools#etc-update</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/etc-update/">etc-update</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>pacnews-git</b> — Un script simple destinado a encontrar todos los archivos <i>.pacnew</i>, para luego editarlos con <a href="/title/Vim#Merging_files" title="Vim">vimdiff</a>.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/pbrisbin/scripts/blob/master/pacnews">https://github.com/pbrisbin/scripts/blob/master/pacnews</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pacnews-git/">pacnews-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="/title/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/title/Category:Package_management_(Espa%C3%B1ol)" title="Category:Package management (Español)">Package management (Español)</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Pacman_(Espa%C3%B1ol)/Pacnew_and_Pacsave_(Espa%C3%B1ol)&amp;oldid=667616">https://wiki.archlinux.org/index.php?title=Pacman_(Español)/Pacnew_and_Pacsave_(Español)&amp;oldid=667616</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 3 May 2021, at 06:39.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="/title/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/title/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="/title/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
