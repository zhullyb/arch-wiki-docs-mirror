<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Swap (Español) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Swap_Español rootpage-Swap_Español skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Swap (Español)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a><b>Este artículo o sección necesita ser <a href="../es/ArchWiki:Contributing.html#Traducir_contenido" title="ArchWiki:Contributing (Español)">traducido</a>.</b><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Notas:</b> Faltan algunas secciones con respecto al artículo original (Discusión en <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Swap_(Espa%C3%B1ol)">Talk:Swap (Español)#</a>)</div>
</div>
<div class="archwiki-template-meta-related-articles-start">
<p>Artículos relacionados</p>
<ul>
<li><a href="../en/Swap_on_video_RAM.html" class="mw-redirect" title="Swap on video ram">Swap on video ram</a></li>
<li><a href="../es/Fstab.html" title="Fstab (Español)">fstab (Español)</a></li>
</ul>
</div>
<p>Definición de swap dada por el artículo <a rel="nofollow" class="external text" href="http://www.linux.com/news/software/applications/8208-all-about-linux-swap-space">«Todo sobre el espacio swap de Linux»</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">enlace roto</a> 2020-08-06]</sup>:
</p>
<dl><dd><i>Linux divide su memoria física RAM (memoria de acceso aleatorio) en capas de memoria llamadas páginas. El swapping es el proceso por el que una página de memoria se copia en un espacio del disco configurado previamente para ello, llamado espacio de swap (o de intercambio), para liberar esa memoria RAM. Los tamaños combinados de la memoria física y del espacio swap determinan la cantidad de memoria virtual disponible.</i></dd></dl>
<p>El soporte para swap es proporcionado por el kernel de Linux y utilidades en el espacio de usuario por el paquete <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=util-linux">util-linux</a></span>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Espacio_swap"><span class="tocnumber">1</span> <span class="toctext">Espacio swap</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Partici%C3%B3n_swap"><span class="tocnumber">2</span> <span class="toctext">Partición swap</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Activaci%C3%B3n_por_systemd"><span class="tocnumber">2.1</span> <span class="toctext">Activación por systemd</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4">
<a href="#Archivo_swap"><span class="tocnumber">3</span> <span class="toctext">Archivo swap</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Creaci%C3%B3n_de_un_archivo_swap"><span class="tocnumber">3.1</span> <span class="toctext">Creación de un archivo swap</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Eliminaci%C3%B3n_de_un_archivo_swap"><span class="tocnumber">3.2</span> <span class="toctext">Eliminación de un archivo swap</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Swap_en_un_dispositivo_USB"><span class="tocnumber">4</span> <span class="toctext">Swap en un dispositivo USB</span></a></li>
<li class="toclevel-1 tocsection-8">
<a href="#Optimizar_el_rendimiento"><span class="tocnumber">5</span> <span class="toctext">Optimizar el rendimiento</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Swappiness"><span class="tocnumber">5.1</span> <span class="toctext">Swappiness</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Prioridad"><span class="tocnumber">5.2</span> <span class="toctext">Prioridad</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Espacio_swap">Espacio swap</span></h2>
<p>El espacio swap o de intercambio será normalmente una partición del disco, pero también puede ser un archivo. Los usuarios pueden crear un espacio de intercambio durante la instalación de Arch Linux o en cualquier momento posterior, en caso de ser necesario. El espacio de intercambio es generalmente recomendado a los usuarios con menos de 1 GB de RAM, pero es una cuestión de preferencia personal en sistemas con cantidades generosas de memoria RAM física (aunque sí es necesario para utilizar la suspensión en disco).
</p>
<p>Para comprobar el estado del swap, utilice la siguiente orden:
</p>
<pre>$ swapon -s
</pre>
<p>O bien:
</p>
<pre>$ free -h
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> No hay ventaja en el rendimiento entre un archivo swap contiguo o una partición, ambos son tratados de la misma manera.</div>
<h2>
<span id="Partici.C3.B3n_swap"></span><span class="mw-headline" id="Partición_swap">Partición swap</span>
</h2>
<p>Una partición swap se puede crear con la mayoría de las herramientas que gestionan las particiones en GNU/Linux  (por ejemplo, <code>fdisk</code>, <code>cfdisk</code>). Las particiones swap son designadas como tipo <b>82</b>, sin embargo, es posible utilizar cualquier tipo de partición como swap.
</p>
<p>Para configurar un área swap Linux, se utiliza la orden <code>mkswap</code>. Por ejemplo:
</p>
<pre># mkswap /dev/sda2
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> Todos los datos en la partición especificada se perderán.</div>
<p>La utilidad <i>mkswap</i> genera un UUID de la partición por defecto, utilice la etiqueta <code>-U</code> en el caso de que quiera especificar una UUID personalizada:
</p>
<pre># mkswap -U <i>custom_UUID</i> /dev/sda2
</pre>
<p>Para activar el dispositivo para la paginación:
</p>
<pre># swapon /dev/sda2
</pre>
<p>Para activar esta partición swap en el arranque, añada la entrada siguiente al archivo <a href="../es/Fstab.html" title="Fstab (Español)">fstab</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/fstab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/dev/sda2 none swap defaults 0 0</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> 
<ul>
<li>Añadir una entrada a fstab is optional es opcional en la mayoría de los casos con systemd. Vea la sección siguiente.</li>
<li>Si utiliza un SSD con soporte TRIM, considere usar <code>defaults,discard</code> en la línea swap de <a href="../es/Fstab.html" title="Fstab (Español)">fstab (Español)</a>. Si activa manualmente swap con <i>swapon</i>, utilizar el parámetro <code>-d</code> o <code>--discard</code> producenel mismo efecto. Vea <span class="plainlinks archwiki-template-man" title="$ man 8 swapon"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/swapon.8">swapon(8)</a></span> para más detalles.</li>
</ul>
</div>
<h3>
<span id="Activaci.C3.B3n_por_systemd"></span><span class="mw-headline" id="Activación_por_systemd">Activación por systemd</span>
</h3>
<p>systemd activa particiones de intercambio basándose en dos mecanismos diferentes, ambos ejecutables en <code>/usr/lib/systemd/system-generators</code>.  Los generadores se ejecutan durante la puesta en marcha del sistema y crean unidades nativas de systemd para los montajes. El primero, <code>systemd-fstab-generator</code>, lee el archivo fstab para generar unidades, incluyendo una unidad para swap. El segundo, <code>systemd-gpt-auto-generator</code> inspecciona el disco raíz para generar unidades. Funciona con discos GPT solamente, y puede identificar particiones por su código tipo <b>82</b>.
</p>
<p>Esto puede ser resuelto por una de las siguientes opciones:
</p>
<ul>
<li>eliminar la entrada swap de <code>/etc/fstab</code>;</li>
<li>cambiar el código tipo de la partición de intercambio de '<i>82' </i> a un código de tipo arbitrario;</li>
<li>establecer el atributo de la partición swap a «<b>63</b>: no se monta automáticamente».</li>
</ul>
<h2><span class="mw-headline" id="Archivo_swap">Archivo swap</span></h2>
<p>Como una alternativa a la creación de toda una partición, un archivo swap ofrece la posibilidad de variar su tamaño sobre la marcha, y es más fácil de eliminar por completo. Esto puede ser especialmente deseable si el espacio es un bien escaso (por ejemplo, un disco SSD con un tamaño modesto).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> El sistema de archivos BTRFS no es compatible actualmente con archivos swap. La inobservancia de esta advertencia puede conducir a un sistema de archivos corrupto. Aunque debe tenerse en cuenta que se puede utilizar un archivo de intercambio formateado con btrfs si se monta a través de un dispositivo loop. Este método puede reducir el rendimiento de swap drásticamente.</div>
<h3>
<span id="Creaci.C3.B3n_de_un_archivo_swap"></span><span class="mw-headline" id="Creación_de_un_archivo_swap">Creación de un archivo swap</span>
</h3>
<p>Como root, utilice <code>fallocate</code> para crear un archivo swap del tamaño de su elección (M = Megabytes, G = Gigabytes) (<code>dd</code>  también se puede utilizar, pero se necesitará más tiempo). Por ejemplo, para crear un archivo swap de 512 MB, escriba :
</p>
<pre># fallocate -l 512M /swapfile
</pre>
<p>o
</p>
<pre># dd if=/dev/zero of=/swapfile bs=1M count=512
</pre>
<p>Establezca los permisos correctos (un archivo swap de lectura global es una enorme vulnerabilidad de seguridad)
</p>
<pre># chmod 600 /swapfile
</pre>
<p>Después de crear el tamaño correcto del archivo, dé formato a swap:
</p>
<pre># mkswap /swapfile
</pre>
<p>Active el archivo swap:
</p>
<pre># swapon /swapfile
</pre>
<p>Edite <a href="../es/Fstab.html#Ejemplo_de_archivo" title="Fstab (Español)">fstab</a> y añada esta entrada para el archivo swap:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/fstab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/swapfile none swap defaults 0 0</pre>
<h3>
<span id="Eliminaci.C3.B3n_de_un_archivo_swap"></span><span class="mw-headline" id="Eliminación_de_un_archivo_swap">Eliminación de un archivo swap</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong>  swap es manejado por systemd y tendrá que reactivarla cada cierto tiempo. </div>
<p>Para eliminar un archivo swap, dicho archivo debe estar desactivado previamente.
</p>
<p>Como root:
</p>
<pre># swapoff -a
</pre>
<p>Elimine el archivo de intercambio:
</p>
<pre># rm -f /swapfile
</pre>
<h2><span class="mw-headline" id="Swap_en_un_dispositivo_USB">Swap en un dispositivo USB</span></h2>
<p>Gracias a la modularidad que ofrece Linux, podemos tener múltiples particiones repartidas en diferentes dispositivos. Si se tiene un disco duro muy lleno, el dispositivo USB puede usarse como partición temporal. Pero este método tiene algunas desventajas graves:
</p>
<ul>
<li>El dispositivo USB es más lento que el disco duro.</li>
<li>Las memorias flash tienen limitados los ciclos de lectura. Su uso como partición swap acortará su vida útil.</li>
<li>Cuando hay otro dispositivo conectado al ordenador, no se puede utilizar swap.</li>
</ul>
<p>Para añadir un dispositivo USB para usarlo como SWAP, en primer lugar conecte un flah USB y dele formato con una partición swap. Puede utilizar herramientas gráficas como Gparted o herramientas de consola como fdisk. Asegúrese de marcar la partición como SWAP antes de escribir la tabla de particiones.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> ¡Asegúrese de que está escribiendo la partición para el disco correcto!</div>
<p>A continuación edite el archivo <code>/etc/fstab</code>.
</p>
<p>Ahora añada una nueva entrada, justo debajo de la entrada existente de swap, de modo que indique la nueva partición swap creada en el dispositivo USB, así:
</p>
<pre>UUID=... none swap defaults,pri=10 0 0
</pre>
<p>donde UUID se toma de la salida de la orden:
</p>
<pre>ls -l /dev/disk/by-uuid/ | grep /dev/sdc1
</pre>
<p>Basta con sustituir sdc1 por la nueva partición swap USB: <code>sdb1</code>
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Sugerencia:</strong> Es preferible UUID porque al conectar otros dispositivos al ordenador se podría modificar el orden de los dispositivos periféricos.</div>
<p>Por último, añada
</p>
<pre>pri=0
</pre>
<p>en la entrada swap <i>originaria</i> para indicarle que use el archivo swap del disco duro solo cuando la partición swap del USB está llena.
</p>
<p>Esta guía se puede aplicar a otras memorias, como tarjetas SD, etc.
</p>
<h2><span class="mw-headline" id="Optimizar_el_rendimiento">Optimizar el rendimiento</span></h2>
<p>Los valores de swap se pueden ajustar para mejorar el rendimiento.
</p>
<h3><span class="mw-headline" id="Swappiness">Swappiness</span></h3>
<p>El parámetro <i>swappiness</i> de <a href="../en/Sysctl.html" title="Sysctl">sysctl</a> representa la preferencia del kernel (inhibiéndose) de utilización del espacio swap. Swappiness  puede tener un valor entre 0 y 100. Si se establece un valor bajo reducirá el intercambio desde RAM, y se sabe que mejora la capacidad de respuesta en muchos sistemas.
</p>
<p>Para comprobar el valor actual de swappiness:
</p>
<pre>$ cat /proc/sys/vm/swappiness
</pre>
<p>Para ajustar temporalmente el valor swappiness:
</p>
<pre># sysctl vm.swappiness=10
</pre>
<p>Para establecer de manera permanente el valor swappiness, editar un archivo de configuración <i>sysctl</i>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sysctl.d/99-sysctl.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">vm.swappiness=10</pre>
<p>Para comprobar que esto puede funciona, eche un vistazo a <a rel="nofollow" class="external text" href="http://rudd-o.com/en/linux-and-free-software/tales-from-responsivenessland-why-linux-feels-slow-and-how-to-fix-that">este artículo</a>.
</p>
<p>Otro parámetro <i>sysctl</i> que afecta al rendimiento de swap es <code>vm.vfs_cache_pressure</code>, que controla la tendencia del kernel para reclamar la memoria que se utiliza para el almacenamiento de la caché VFS, frente a la pagecache y swap. Al aumentar este valor, aumenta la velocidad a la que la caché de VFS es demandada. <a rel="nofollow" class="external autonumber" href="http://doc.opensuse.org/products/draft/SLES/SLES-tuning_sd_draft/cha.tuning.memory.html#cha.tuning.memory.vm.reclaim">[1]</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">enlace roto</a> 2020-08-06]</sup> Para más información, véase <a rel="nofollow" class="external text" href="https://www.kernel.org/doc/Documentation/sysctl/vm.txt">Linux kernel documentation</a>.
</p>
<h3><span class="mw-headline" id="Prioridad">Prioridad</span></h3>
<p>Si se tiene más de un archivo o partición swap debería considerar la posibilidad de asignarles un valor de prioridad (0 a 32767) para cada área swap. El sistema utilizará las áreas swap de mayor prioridad antes de utilizar las asignadas como de menor prioridad. Por ejemplo, si se tiene un disco más rápido (<code>/dev/sda</code>) y un disco más lento (<code>/dev/sdb</code>), asigne una mayor prioridad al área swap que se encuentra en el dispositivo más rápido. Las prioridades se pueden asignar en fstab a través del parámetro <code>pri</code>:
</p>
<pre>/dev/sda1 none swap defaults,pri=100 0 0
/dev/sdb2 none swap defaults,pri=10  0 0
</pre>
<p>O mediante los parámetros <code>−p</code> (o <code>−−priority</code>) de la orden swapon:
</p>
<pre># swapon -p 100 /dev/sda1
</pre>
<p>Si dos o más áreas tienen la misma prioridad, y tienen asignada la más alta disponible, las páginas se distribuirá de forma <i>round-robin</i> entre ellas.
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../es/Category:File_systems.html" title="Category:File systems (Español)">File systems (Español)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../es/Category:Pages_or_sections_flagged_with_Template:Translateme.html" title="Category:Pages or sections flagged with Template:Translateme (Español)">Pages or sections flagged with Template:Translateme (Español)</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Swap_(Espa%C3%B1ol)&amp;oldid=638636">https://wiki.archlinux.org/index.php?title=Swap_(Español)&amp;oldid=638636</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 14 October 2020, at 07:18.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
