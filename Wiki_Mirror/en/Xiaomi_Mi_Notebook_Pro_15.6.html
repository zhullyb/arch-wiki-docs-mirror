<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Xiaomi Mi Notebook Pro 15.6 - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Xiaomi_Mi_Notebook_Pro_15_6 rootpage-Xiaomi_Mi_Notebook_Pro_15_6 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Xiaomi Mi Notebook Pro 15.6</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<table class="wikitable" style="float: right;">
<tbody>
<tr>
<td><b>Device</b></td>
<td><b>Status</b></td>
<td>
<b>Modules</b>
</td>
</tr>
<tr>
<td>Video</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working</td>
<td>i915
</td>
</tr>
<tr>
<td>Wireless</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working</td>
<td>iwlwifi
</td>
</tr>
<tr>
<td>Bluetooth</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working</td>
<td>btusb
</td>
</tr>
<tr>
<td>Audio</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working</td>
<td>snd_hda_intel
</td>
</tr>
<tr>
<td>Touchpad</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working</td>
<td>?
</td>
</tr>
<tr>
<td>Webcam</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working</td>
<td>uvcvideo
</td>
</tr>
<tr>
<td>USB-C / Thunderbolt 3</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working</td>
<td>?
</td>
</tr>
<tr>
<td>Function/Multimedia Keys</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working</td>
<td>xiaomi_wmi
</td>
</tr>
</tbody>
</table>
<p>The Mi Notebook Pro 15.6 is an aluminium notebook. It is a product by the Chinese Company Xiaomi.
</p>
<p>The installation should be going without any problems if you follow the following steps.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Pre-Installation_System_Settings"><span class="tocnumber">1</span> <span class="toctext">Pre-Installation System Settings</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Graphics_Card_Configuration"><span class="tocnumber">2</span> <span class="toctext">Graphics Card Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Intel_Only"><span class="tocnumber">2.1</span> <span class="toctext">Intel Only</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Intel/NVIDIA_Hybrid_Configuration"><span class="tocnumber">2.2</span> <span class="toctext">Intel/NVIDIA Hybrid Configuration</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5">
<a href="#Input"><span class="tocnumber">3</span> <span class="toctext">Input</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Touchpad"><span class="tocnumber">3.1</span> <span class="toctext">Touchpad</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Fn-Keys"><span class="tocnumber">3.2</span> <span class="toctext">Fn-Keys</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Display_Calibration"><span class="tocnumber">4</span> <span class="toctext">Display Calibration</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Hardware_information"><span class="tocnumber">5</span> <span class="toctext">Hardware information</span></a></li>
<li class="toclevel-1 tocsection-10">
<a href="#Troubleshoothing"><span class="tocnumber">6</span> <span class="toctext">Troubleshoothing</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Backlight"><span class="tocnumber">6.1</span> <span class="toctext">Backlight</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Pre-Installation_System_Settings">Pre-Installation System Settings</span></h2>
<p>It is actually very easy getting the Arch Installation Medium to boot properly. Prior to booting the Arch installation ISO enter the UEFI menu by pressing F2 during Boot.
</p>
<ul>
<li>Security -&gt; set password</li>
<li>Security -&gt; Disable Secure Boot</li>
<li>reset the password by setting the password again but letting the "New Password" fields blank</li>
</ul>
<p>Installation of Arch can proceed normally. Refer to the <a href="../en/Installation_guide.html" title="Installation guide">Installation guide</a> for more info.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Remember that your SSD is called <code>nvme0n1</code>, not <code>sda</code>.</div>
<h2><span class="mw-headline" id="Graphics_Card_Configuration">Graphics Card Configuration</span></h2>
<p>The Mi Book has an Intel, as well as an NVIDIA GPU.
</p>
<h3><span class="mw-headline" id="Intel_Only">Intel Only</span></h3>
<p>If you want to completely disable the NVIDIA GPU (which might save batterlife), do the following:
</p>
<ul>
<li>Install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-intel">xf86-video-intel</a></span> package</li>
<li>Blacklist the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia">nvidia</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-nouveau">xf86-video-nouveau</a></span> kernel modules <a href="../en/Kernel_module.html#Blacklisting" class="mw-redirect" title="Kernel modules">Kernel modules#Blacklisting</a>
</li>
</ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/nouveau.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">blacklist nouveau
blacklist nvidia</pre>
<ul><li>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bbswitch">bbswitch</a></span> to <a href="../en/Bumblebee.html#Power_management" title="Bumblebee">turn off the card</a>
</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/bbswitch.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">options bbswitch load_state=0 unload_state=0</pre>
<h3>
<span id="Intel.2FNVIDIA_Hybrid_Configuration"></span><span class="mw-headline" id="Intel/NVIDIA_Hybrid_Configuration">Intel/NVIDIA Hybrid Configuration</span>
</h3>
<p>You can enable hybrid GPUs by either using <a href="../en/Bumblebee.html" title="Bumblebee">Bumblebee</a> or <a href="../en/NVIDIA_Optimus.html" title="NVIDIA Optimus">NVIDIA Optimus</a>. Bumblebee is generally better for battery-life and compatibility but not officially supported by NVIDIA.
</p>
<p>Refer to the respective articles.
</p>
<p>Optimus-manager <a rel="nofollow" class="external autonumber" href="https://github.com/Askannz/optimus-manager">[1]</a> works great as well. In conjunction with bbswitch, it allows easy and persistent switching between modes (Intel, Hybrid, Nvidia) even after sleep / hibernation.
</p>
<p>Note that included MX150 GPU does not properly work with VDPAU. It also does not work with NVDECODE and NVENCODE. Thus, video playback works faster and better with Intel's chip with VAAPI on this particular notebook. Even though it supports specifications, this particular GPUs hardware acceleration APIs do not work with the proprietary NVIDIA driver (nouveau needs to be tested). The only benefit of NVIDIA GPU is better performance on high-resolution screens and CUDA/gaming.
</p>
<p>While video playback performance is best with Intel VAAPI, battery life is best when relying on CPU for video decoding (as VDPAU/NCDECODE/NVENCODE does not work).
</p>
<h2><span class="mw-headline" id="Input">Input</span></h2>
<h3><span class="mw-headline" id="Touchpad">Touchpad</span></h3>
<p>To use the touchpad like a normal one, you have to use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-libinput">xf86-input-libinput</a></span>. If you use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-evdev">xf86-input-evdev</a></span>, your touchpad acts like a touchscreen (e.g it maps your movements directly to your screen). But if you are using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-synaptics">xf86-input-synaptics</a></span> (although you really should not, because it is deprecated (see <a href="../en/Touchpad_Synaptics.html" class="mw-redirect" title="Synaptics">Synaptics</a>)) things are only working sporadically. This configuration of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libinput">libinput</a></span> using XOrg configuration files enables two-finger gestures, tap-to-click and 2-and 3-finger clicks (for right- and middle-click respectively).
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/20-touchpad.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "InputClass"
        Identifier "libinput touchpad"
        Driver "libinput"
        MatchIsTouchpad "on"
        MatchDevicePath "/dev/input/event*"
        Option "Tapping" "on"
        Option "ClickMethod" "clickfinger"
        Option "NaturalScrolling" "true"
EndSection</pre>
<h3><span class="mw-headline" id="Fn-Keys">Fn-Keys</span></h3>
<p>On this notebook, the Fn-keys are enabled as default (e.g. pressing F1 mutes the sound). If pressing the keys does nothing you are most likely using a <a href="../en/Window_manager.html" title="Window manager">Window manager</a> and not a <a href="../en/Desktop_environment.html" title="Desktop environment">Desktop environment</a>. Use the respective configuration files to bind the keys to their use. For example <a href="../en/Xbindkeys.html" title="Xbindkeys">Xbindkeys</a> or <a href="../en/I3.html" title="I3">i3</a>'s <code>bindsym</code>.
</p>
<p>Most Fn-keys return the correct keycodes. Here is a table containing that information:
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Fn-F-Key
</th>
<th>Keycode
</th>
</tr>
<tr>
<td>
<code>F1</code>
</td>
<td>
<code>XF86AudioMute</code>
</td>
</tr>
<tr>
<td>
<code>F2</code>
</td>
<td>
<code>XF86AudioLowerVolume</code>
</td>
</tr>
<tr>
<td>
<code>F3</code>
</td>
<td>
<code>XF86AudioRaiseVolume</code>
</td>
</tr>
<tr>
<td>
<code>F4</code>
</td>
<td>
<code>XF86MonBrightnessDown</code>
</td>
</tr>
<tr>
<td>
<code>F5</code>
</td>
<td>
<code>XF86MonBrightnessUp</code>
</td>
</tr>
<tr>
<td>
<code>F6</code>
</td>
<td>
<code>Super_L + P</code>
</td>
</tr>
<tr>
<td>
<code>F7</code>
</td>
<td>
<code>Nothing</code>
</td>
</tr>
<tr>
<td>
<code>F8</code>
</td>
<td>
<code>Super_L + Tab</code>
</td>
</tr>
<tr>
<td>
<code>F9</code>
</td>
<td>
<code>Nothing</code>
</td>
</tr>
<tr>
<td>
<code>F10</code>
</td>
<td>
<code>Turns Keyboard backlight on/off</code>
</td>
</tr>
<tr>
<td>
<code>F11</code>
</td>
<td>
<code>Print</code>
</td>
</tr>
<tr>
<td>
<code>F12</code>
</td>
<td>
<code>Insert</code>
</td>
</tr>
</tbody>
</table>
<p>To make F7 ("Scissors") work, one have to make sure "xiaomi_wmi" kernel module is loaded. This enables you to assign anything to the key.
</p>
<h2><span class="mw-headline" id="Display_Calibration">Display Calibration</span></h2>
<p>Factory display calibration is poor. Check the panel model:
</p>
<pre>$ edid-decode &lt; /sys/class/drm/card0-eDP-1/edid | grep Alphanumeric
</pre>
<p>If it's NV156FHM-N61, try the <a href="../en/ICC_profiles.html" title="ICC profiles">ICC profiles</a> at <a rel="nofollow" class="external autonumber" href="https://www.notebookcheck.net/uploads/tx_nbc2/NV156FHM_N61.icm">[2]</a>.
</p>
<h2><span class="mw-headline" id="Hardware_information">Hardware information</span></h2>
<p>The output of <i>lspci</i> is
</p>
<pre>00:00.0 Host bridge: Intel Corporation Xeon E3-1200 v6/7th Gen Core Processor Host Bridge/DRAM Registers (rev 08)
00:02.0 VGA compatible controller: Intel Corporation UHD Graphics 620 (rev 07)
00:08.0 System peripheral: Intel Corporation Xeon E3-1200 v5/v6 / E3-1500 v5 / 6th/7th Gen Core Processor Gaussian Mixture Model
00:14.0 USB controller: Intel Corporation Sunrise Point-LP USB 3.0 xHCI Controller (rev 21)
00:14.2 Signal processing controller: Intel Corporation Sunrise Point-LP Thermal subsystem (rev 21)
00:15.0 Signal processing controller: Intel Corporation Sunrise Point-LP Serial IO I2C Controller #0 (rev 21)
00:15.1 Signal processing controller: Intel Corporation Sunrise Point-LP Serial IO I2C Controller #1 (rev 21)
00:16.0 Communication controller: Intel Corporation Sunrise Point-LP CSME HECI #1 (rev 21)
00:1c.0 PCI bridge: Intel Corporation Sunrise Point-LP PCI Express Root Port #1 (rev f1)
00:1c.4 PCI bridge: Intel Corporation Sunrise Point-LP PCI Express Root Port #5 (rev f1)
00:1c.7 PCI bridge: Intel Corporation Sunrise Point-LP PCI Express Root Port #8 (rev f1)
00:1d.0 PCI bridge: Intel Corporation Sunrise Point-LP PCI Express Root Port #9 (rev f1)
00:1f.0 ISA bridge: Intel Corporation Sunrise Point LPC Controller/eSPI Controller (rev 21)
00:1f.2 Memory controller: Intel Corporation Sunrise Point-LP PMC (rev 21)
00:1f.3 Audio device: Intel Corporation Sunrise Point-LP HD Audio (rev 21)
00:1f.4 SMBus: Intel Corporation Sunrise Point-LP SMBus (rev 21)
01:00.0 3D controller: NVIDIA Corporation GP108M [GeForce MX150] (rev a1)
03:00.0 Network controller: Intel Corporation Wireless 8265 / 8275 (rev 78)
04:00.0 Non-Volatile memory controller: Samsung Electronics Co Ltd NVMe SSD Controller SM961/PM961
</pre>
<p>The output of <i>lsusb</i> is
</p>
<pre>Bus 002 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub
Bus 001 Device 005: ID 04f3:0c1a Elan Microelectronics Corp. ELAN:Fingerprint
Bus 001 Device 004: ID 0bda:0129 Realtek Semiconductor Corp. RTS5129 Card Reader Controller
Bus 001 Device 003: ID 05c8:03b7 Cheng Uei Precision Industry Co., Ltd (Foxlink) XiaoMi USB 2.0 Webcam
Bus 001 Device 002: ID 8087:0a2b Intel Corp. 
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
</pre>
<h2><span class="mw-headline" id="Troubleshoothing">Troubleshoothing</span></h2>
<h3><span class="mw-headline" id="Backlight">Backlight</span></h3>
<p>You can adjust brightness directly (works even with <code>modesetting</code> driver):
</p>
<pre># echo 7500 &gt; /sys/class/backlight/intel_backlight/brightness
</pre>
<p><br>
However, if you use a tool like <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xbacklight">xorg-xbacklight</a></span> in its default configuration, nothing happens, because the path to the backlighting variable is not standard. To fix this issue, you have to setup Intel driver and add Backlight option to respective X-Org configuration file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/10-backlight.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "Device" 
        Identifier "Card0" 
        Driver     "intel" 
        Option     "Backlight"  "intel_backlight" 
        BusID      "PCI:0:2:0" 
EndSection</pre>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Xiaomi.html" title="Category:Xiaomi">Xiaomi</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Xiaomi_Mi_Notebook_Pro_15.6&amp;oldid=627047">https://wiki.archlinux.org/index.php?title=Xiaomi_Mi_Notebook_Pro_15.6&amp;oldid=627047</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 28 July 2020, at 10:49.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
