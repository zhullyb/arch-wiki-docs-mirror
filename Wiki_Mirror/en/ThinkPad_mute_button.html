<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>ThinkPad mute button - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-ThinkPad_mute_button rootpage-ThinkPad_mute_button skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">ThinkPad mute button</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> No standard sections. Maybe move page so it can be a /Troubleshooting one? (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:ThinkPad_mute_button">Talk:ThinkPad mute button#</a>)</div>
</div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Problem"><span class="tocnumber">1</span> <span class="toctext">Problem</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Nothing_works"><span class="tocnumber">1.1</span> <span class="toctext">Nothing works</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#External_Audio_still_on"><span class="tocnumber">1.2</span> <span class="toctext">External Audio still on</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4">
<a href="#Solution"><span class="tocnumber">2</span> <span class="toctext">Solution</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Older_IBM_ThinkPads"><span class="tocnumber">2.1</span> <span class="toctext">Older IBM ThinkPads</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Nothing_works_2"><span class="tocnumber">2.2</span> <span class="toctext">Nothing works</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#External_Audio_still_on_2"><span class="tocnumber">2.3</span> <span class="toctext">External Audio still on</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#External_Audio_still_on_(and_you_use_XFCE)"><span class="tocnumber">2.4</span> <span class="toctext">External Audio still on (and you use XFCE)</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Problem">Problem</span></h2>
<p>The mute button does not work properly on most ThinkPads and IdeaPads with a newer kernel. Two different scenarios occur:
</p>
<h3><span class="mw-headline" id="Nothing_works">Nothing works</span></h3>
<p>The Button does not react at all: no led flash (some ThinkPads have an LED, indicating the Mute-State) and no effect on Speakers Volume. It only mutes, if you first press the mute button and afterwards the Vol-Down-Key.
</p>
<h3><span class="mw-headline" id="External_Audio_still_on">External Audio still on</span></h3>
<p>Pressing the button causes the speakers to mute (LED also works), but external audio is still on.
</p>
<h2><span class="mw-headline" id="Solution">Solution</span></h2>
<h3><span class="mw-headline" id="Older_IBM_ThinkPads">Older IBM ThinkPads</span></h3>
<p>First try this: "<a rel="nofollow" class="external free" href="https://www.thinkwiki.org/wiki/Mute_button">https://www.thinkwiki.org/wiki/Mute_button</a>"
</p>
<h3><span class="mw-headline" id="Nothing_works_2">Nothing works</span></h3>
<p>Edit your <code>/etc/modprobe.d/modprobe.conf</code> and add the following line:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/modprobe.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
options thinkpad_acpi enabled=0 # enables Mute-Button on ThinkPads with IdeaPad-Firmware</pre>
<p>reboot, and go on.
</p>
<h3><span class="mw-headline" id="External_Audio_still_on_2">External Audio still on</span></h3>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tpb/">tpb</a></span><sup><small>AUR</small></sup> from the <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a> and create an file <code>/root/.tpbrc</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/root/.tpbrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#tpb-Settings:
CALLBACK "/root/tp-key-handler"
OSD off
</pre>
<p>Now create the file <code>/root/tp-key-handler</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/root/tp-key-handler</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/bash
echo $1 $2
if [ $1 = mute ]; then
	if [ $2 = on ]; then
		mset="off";
	else
		mset="on";
	fi
	sudo -u USERNAME amixer sset Master $mset; # I had to sudo to me, because I use PulseAudio
fi</pre>
<p>you will have to add execute-rights to <code>/root/tp-key-handler</code>:
</p>
<pre># chmod +x /root/tp-key-handler 
</pre>
<p>Since tpb needs root-privileges as well as <a href="../en/Xorg.html" class="mw-redirect" title="X">X</a>, you may start it by adding <code>sudo tpb</code> in the <code>.xinitrc</code> and editing your <a href="../en/Sudo.html" title="Sudo">sudo</a>-Settings (use <code>visudo</code>) or addin <code>gksudo tpb</code> in any X-Startscript (the last will ask for an password on startup).
</p>
<h3>
<span id="External_Audio_still_on_.28and_you_use_XFCE.29"></span><span class="mw-headline" id="External_Audio_still_on_(and_you_use_XFCE)">External Audio still on (and you use XFCE)</span>
</h3>
<p>Go to Applications-&gt;Settings-&gt;Keyboard-&gt;Application Shortcuts tab. Hit Add and for the command, use <code>amixer sset Master toggle</code>. For the key, hit the mute button. Protip, to make sure the led state is correct, start with the led in the opposite state of your mutedness so that when you map the button, it starts out in the correct state. Alternatively, you could just reboot and make sure the led is off before you get into your <a href="../en/Xfce.html" title="Xfce">Xfce</a> session.
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Lenovo.html" title="Category:Lenovo">Lenovo</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=ThinkPad_mute_button&amp;oldid=662447">https://wiki.archlinux.org/index.php?title=ThinkPad_mute_button&amp;oldid=662447</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 18 April 2021, at 21:09.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
