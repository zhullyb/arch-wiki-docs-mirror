<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>USB flash installation medium - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-USB_flash_installation_medium rootpage-USB_flash_installation_medium skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">USB flash installation medium</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/Optical_disc_drive.html#Burning" class="mw-redirect" title="CD Burning">CD Burning</a></li>
<li><a href="../en/Archiso.html" title="Archiso">Archiso</a></li>
<li><a href="../en/Multiboot_USB_drive.html" title="Multiboot USB drive">Multiboot USB drive</a></li>
</ul>
</div>
<p>This page discusses various multi-platform methods on how to create an Arch Linux Installer USB drive (also referred to as <i>"flash drive", "USB stick", "USB key"</i>, etc) for booting in BIOS and UEFI systems. The result will be a LiveUSB (LiveCD-like) system that can be used for installing Arch Linux, system maintenance or for recovery purposes, and that, because of the nature of <a href="https://en.wikipedia.org/wiki/SquashFS" class="extiw" title="wikipedia:SquashFS">SquashFS</a>, will discard all changes once the computer shuts down.
</p>
<p>If you would like to run a full install of Arch Linux from a USB drive (i.e. with persistent settings), see <a href="../en/Install_Arch_Linux_on_a_removable_medium.html" class="mw-redirect" title="Installing Arch Linux on a USB key">Installing Arch Linux on a USB key</a>. If you would like to use your bootable Arch Linux USB stick as a rescue USB, see <a href="../en/Chroot.html" class="mw-redirect" title="Change root">Change root</a>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#BIOS_and_UEFI_bootable_USB"><span class="tocnumber">1</span> <span class="toctext">BIOS and UEFI bootable USB</span></a>
<ul>
<li class="toclevel-2 tocsection-2">
<a href="#Using_automatic_tools"><span class="tocnumber">1.1</span> <span class="toctext">Using automatic tools</span></a>
<ul>
<li class="toclevel-3 tocsection-3">
<a href="#In_GNU/Linux"><span class="tocnumber">1.1.1</span> <span class="toctext">In GNU/Linux</span></a>
<ul>
<li class="toclevel-4 tocsection-4"><a href="#Using_basic_command_line_utilities"><span class="tocnumber">1.1.1.1</span> <span class="toctext">Using basic command line utilities</span></a></li>
<li class="toclevel-4 tocsection-5"><a href="#Using_GNOME_Disk_Utility"><span class="tocnumber">1.1.1.2</span> <span class="toctext">Using GNOME Disk Utility</span></a></li>
<li class="toclevel-4 tocsection-6"><a href="#Using_MultiWriter"><span class="tocnumber">1.1.1.3</span> <span class="toctext">Using MultiWriter</span></a></li>
<li class="toclevel-4 tocsection-7"><a href="#Using_Kindd"><span class="tocnumber">1.1.1.4</span> <span class="toctext">Using Kindd</span></a></li>
<li class="toclevel-4 tocsection-8"><a href="#Using_etcher"><span class="tocnumber">1.1.1.5</span> <span class="toctext">Using etcher</span></a></li>
<li class="toclevel-4 tocsection-9"><a href="#Using_ventoy"><span class="tocnumber">1.1.1.6</span> <span class="toctext">Using ventoy</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-10">
<a href="#In_Windows"><span class="tocnumber">1.1.2</span> <span class="toctext">In Windows</span></a>
<ul>
<li class="toclevel-4 tocsection-11"><a href="#Using_Rufus"><span class="tocnumber">1.1.2.1</span> <span class="toctext">Using Rufus</span></a></li>
<li class="toclevel-4 tocsection-12"><a href="#Using_USBwriter"><span class="tocnumber">1.1.2.2</span> <span class="toctext">Using USBwriter</span></a></li>
<li class="toclevel-4 tocsection-13"><a href="#Using_win32diskimager"><span class="tocnumber">1.1.2.3</span> <span class="toctext">Using win32diskimager</span></a></li>
<li class="toclevel-4 tocsection-14"><a href="#Using_Cygwin"><span class="tocnumber">1.1.2.4</span> <span class="toctext">Using Cygwin</span></a></li>
<li class="toclevel-4 tocsection-15"><a href="#dd_for_Windows"><span class="tocnumber">1.1.2.5</span> <span class="toctext">dd for Windows</span></a></li>
<li class="toclevel-4 tocsection-16"><a href="#Using_ventoy_2"><span class="tocnumber">1.1.2.6</span> <span class="toctext">Using ventoy</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-17"><a href="#In_macOS"><span class="tocnumber">1.1.3</span> <span class="toctext">In macOS</span></a></li>
<li class="toclevel-3 tocsection-18">
<a href="#In_Android"><span class="tocnumber">1.1.4</span> <span class="toctext">In Android</span></a>
<ul>
<li class="toclevel-4 tocsection-19"><a href="#EtchDroid"><span class="tocnumber">1.1.4.1</span> <span class="toctext">EtchDroid</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-20">
<a href="#Using_manual_formatting"><span class="tocnumber">1.2</span> <span class="toctext">Using manual formatting</span></a>
<ul>
<li class="toclevel-3 tocsection-21"><a href="#In_GNU/Linux_2"><span class="tocnumber">1.2.1</span> <span class="toctext">In GNU/Linux</span></a></li>
<li class="toclevel-3 tocsection-22"><a href="#In_Windows_2"><span class="tocnumber">1.2.2</span> <span class="toctext">In Windows</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-23">
<a href="#Other_methods_for_BIOS_systems"><span class="tocnumber">2</span> <span class="toctext">Other methods for BIOS systems</span></a>
<ul>
<li class="toclevel-2 tocsection-24">
<a href="#In_GNU/Linux_3"><span class="tocnumber">2.1</span> <span class="toctext">In GNU/Linux</span></a>
<ul>
<li class="toclevel-3 tocsection-25"><a href="#Using_a_multiboot_USB_drive"><span class="tocnumber">2.1.1</span> <span class="toctext">Using a multiboot USB drive</span></a></li>
<li class="toclevel-3 tocsection-26"><a href="#Making_a_USB-ZIP_drive"><span class="tocnumber">2.1.2</span> <span class="toctext">Making a USB-ZIP drive</span></a></li>
<li class="toclevel-3 tocsection-27"><a href="#Using_UNetbootin"><span class="tocnumber">2.1.3</span> <span class="toctext">Using UNetbootin</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-28">
<a href="#In_Windows_3"><span class="tocnumber">2.2</span> <span class="toctext">In Windows</span></a>
<ul>
<li class="toclevel-3 tocsection-29"><a href="#The_Flashnul_way"><span class="tocnumber">2.2.1</span> <span class="toctext">The Flashnul way</span></a></li>
<li class="toclevel-3 tocsection-30">
<a href="#Loading_the_installation_medium_from_RAM"><span class="tocnumber">2.2.2</span> <span class="toctext">Loading the installation medium from RAM</span></a>
<ul>
<li class="toclevel-4 tocsection-31"><a href="#Preparing_the_USB_flash_drive"><span class="tocnumber">2.2.2.1</span> <span class="toctext">Preparing the USB flash drive</span></a></li>
<li class="toclevel-4 tocsection-32"><a href="#Copy_the_needed_files_to_the_USB_flash_drive"><span class="tocnumber">2.2.2.2</span> <span class="toctext">Copy the needed files to the USB flash drive</span></a></li>
<li class="toclevel-4 tocsection-33"><a href="#Create_the_configuration_file"><span class="tocnumber">2.2.2.3</span> <span class="toctext">Create the configuration file</span></a></li>
<li class="toclevel-4 tocsection-34"><a href="#Final_steps"><span class="tocnumber">2.2.2.4</span> <span class="toctext">Final steps</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-35"><a href="#Troubleshooting"><span class="tocnumber">3</span> <span class="toctext">Troubleshooting</span></a></li>
<li class="toclevel-1 tocsection-36"><a href="#See_also"><span class="tocnumber">4</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="BIOS_and_UEFI_bootable_USB">BIOS and UEFI bootable USB</span></h2>
<h3><span class="mw-headline" id="Using_automatic_tools">Using automatic tools</span></h3>
<h4>
<span id="In_GNU.2FLinux"></span><span class="mw-headline" id="In_GNU/Linux">In GNU/Linux</span>
</h4>
<h5><span class="mw-headline" id="Using_basic_command_line_utilities">Using basic command line utilities</span></h5>
<p>This method is recommended due to its simplicity and universal availability, since these tools are part of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=coreutils">coreutils</a></span> (pulled in by the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span> meta-package).
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> This will irrevocably destroy all data on <code>/dev/<b>sdx</b></code>. To restore the USB drive as an empty, usable storage device after using the Arch ISO image, the ISO 9660 filesystem signature needs to be removed by running <code>wipefs --all /dev/<b>sdx</b></code> as root, before <a href="../en/Partitioning.html" class="mw-redirect" title="Repartition">repartitioning</a> and <a href="../en/File_systems.html#Create_a_file_system" class="mw-redirect" title="Reformat">reformatting</a> the USB drive.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Find out the name of your USB drive with <code>lsblk</code>. Make sure that it is <b>not</b> mounted.</div>
<p>Run the following command, replacing <code>/dev/<b>sdx</b></code> with your drive, e.g. <code>/dev/sdb</code>. (Do <b>not</b> append a partition number, so do <b>not</b> use something like <code>/dev/sdb<b>1</b></code>):
</p>
<ul>
<li>using <code>cat</code>: <pre># cat path/to/archlinux.iso &gt; /dev/<b>sdx</b></pre>
</li>
<li>using <code>cp</code>: <pre># cp path/to/archlinux.iso /dev/<b>sdx</b></pre>
</li>
<li>using <code>dd</code>:<pre># dd bs=4M if=path/to/archlinux.iso of=/dev/<b>sdx</b> status=progress oflag=sync</pre>
</li>
<li>using <code>tee</code>: <pre># tee &lt; path/to/archlinux.iso &gt; /dev/<b>sdx</b></pre>
</li>
</ul>
<p>See <a rel="nofollow" class="external autonumber" href="https://unix.stackexchange.com/questions/224277/is-it-better-to-use-cat-dd-pv-or-another-procedure-to-copy-a-cd-dvd/224314#224314">[1]</a> and <a rel="nofollow" class="external autonumber" href="https://www.vidarholen.net/contents/blog/?p=479">[2]</a> for a comparison and perspective on the use of those tools and why <i>dd</i> may be the least adapted one.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> If the UEFI version of the USB's Arch ISO hangs or is unable to load, try repeating the medium creation process on the same USB drive one or more times. If this does not work, you may also try updating your motherboard's firmware.</div>
<h5><span class="mw-headline" id="Using_GNOME_Disk_Utility">Using GNOME Disk Utility</span></h5>
<p>Linux distributions running GNOME can easily make a live CD through <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nautilus">nautilus</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-disk-utility">gnome-disk-utility</a></span>.  Simply right-click on the <i>.iso</i> file, and select <i>Open With Disk Image Writer</i>.  When GNOME Disk Utility opens, specify the flash drive from the <i>Destination</i> drop-down menu and click <i>Start Restoring</i>.
</p>
<h5><span class="mw-headline" id="Using_MultiWriter">Using MultiWriter</span></h5>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-multi-writer">gnome-multi-writer</a></span> is a simple <a href="../en/GTK.html" title="GTK">GTK</a>3 based graphical tool to write an ISO file to one or multiple USB devices at once.
</p>
<h5><span class="mw-headline" id="Using_Kindd">Using Kindd</span></h5>
<p><a rel="nofollow" class="external text" href="https://github.com/LinArcX/Kindd">Kindd</a> is a Qt based graphical frontend for dd. It is available as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/kindd/">kindd</a></span><sup><small>AUR</small></sup>.
</p>
<h5><span class="mw-headline" id="Using_etcher">Using etcher</span></h5>
<p><a rel="nofollow" class="external text" href="https://etcher.io/">Etcher</a> is a OS image flasher built with node.js and Electron, capable of flashing an SDCard or USB drive. It protects you from accidentally writing to your hard-drives and ensures every byte of data was written correctly. There are <a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/?SeB=n&amp;K=etcher">5 related packages</a> in the AUR.
</p>
<h5><span class="mw-headline" id="Using_ventoy">Using ventoy</span></h5>
<p><a rel="nofollow" class="external text" href="https://www.ventoy.net/">Ventoy</a> is an open source tool to create bootable USB drive for ISO/WIM/IMG/VHD(x)/EFI files. With ventoy, you don't need to format the disk over and over, you just need to copy the ISO/WIM/IMG/VHD(x)EFI files to the USB drive and boot them directly. You can copy many files at a time and ventoy will give you a boot menu to select them. It is available in the AUR as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ventoy-bin/">ventoy-bin</a></span><sup><small>AUR</small></sup>.
</p>
<h4><span class="mw-headline" id="In_Windows">In Windows</span></h4>
<h5><span class="mw-headline" id="Using_Rufus">Using Rufus</span></h5>
<p><a rel="nofollow" class="external text" href="https://rufus.ie/">Rufus</a> is a multi-purpose USB ISO writer. It provides a graphical user interface and does not care if the drive is properly formatted or not.
</p>
<p>Simply select the Arch Linux ISO, the USB drive you want to create the bootable Arch Linux onto and click <i>START</i>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If the USB drive does not boot properly using the default ISO Image mode, <b>DD Image mode</b> should be used instead. To switch this mode on, select <i>GPT</i> from the <i>Partition scheme</i> drop-down menu. After clicking <i>START</i> you will get the mode selection dialog, select <i>DD Image mode</i>.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> To add <a rel="nofollow" class="external text" href="https://github.com/pbatard/rufus/issues/691">an additional partition for persistent storage</a> use the slider to choose the persistent partition's size. When using the persistent partition feature, make sure to select <i>MBR</i> in the <i>Partition scheme</i> drop-down menu and <i>BIOS or UEFI</i> in <i>Target System</i>, otherwise the drive will not be usable for both BIOS and UEFI booting.</div>
<h5><span class="mw-headline" id="Using_USBwriter">Using USBwriter</span></h5>
<p>This method does not require any workaround and is as straightforward as <code>dd</code> under Linux. Just download the Arch Linux ISO, and with local administrator rights use the <a rel="nofollow" class="external text" href="https://sourceforge.net/p/usbwriter/wiki/Documentation/">USBwriter</a> utility to write to your USB flash memory.
</p>
<h5><span class="mw-headline" id="Using_win32diskimager">Using win32diskimager</span></h5>
<p><a rel="nofollow" class="external text" href="https://sourceforge.net/projects/win32diskimager/">win32diskimager</a> is another graphical USB iso writing tool for Windows. Simply select your iso image and the target USB drive letter (you may have to format it first to assign it a drive letter), and click Write. 
</p>
<h5><span class="mw-headline" id="Using_Cygwin">Using Cygwin</span></h5>
<p>Make sure your <a rel="nofollow" class="external text" href="https://www.cygwin.com/">Cygwin</a> installation contains the <code>dd</code> package.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> If you do not want to install Cygwin, you can download <code>dd</code> for Windows from <a rel="nofollow" class="external text" href="http://www.chrysocome.net/dd">here</a>. See the next section for more information.</div>
<p>Place your image file in your home directory:
</p>
<pre>C:\cygwin\home\John\
</pre>
<p>Run cygwin as administrator (required for cygwin to access hardware). To write to your USB drive use the following command:
</p>
<pre>dd if=image.iso of=\\.\<b>x</b>: bs=4M
</pre>
<p>where image.iso is the path to the iso image file within the <code>cygwin</code> directory and <code>\\.\<b>x</b>:</code> is your USB flash drive where <code><b>x</b></code> is the windows designated letter, e.g. <code>\\.\d:</code>.
</p>
<p>On Cygwin 6.0, find out the correct partition with:
</p>
<pre>cat /proc/partitions
</pre>
<p>and write the ISO image with the information from the output. Example:
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> This will irrevocably delete all files on your USB flash drive, so make sure you do not have any important files on the flash drive before doing this.</div>
<pre>dd if=image.iso of=/dev/sdb bs=4M
</pre>
<h5><span class="mw-headline" id="dd_for_Windows">dd for Windows</span></h5>
<p>A GPL licensed dd version for Windows is available at <a rel="nofollow" class="external free" href="http://www.chrysocome.net/dd">http://www.chrysocome.net/dd</a>. The advantage of this over Cygwin is a smaller download. Use it as shown in instructions for Cygwin above.
</p>
<p>To begin, download the latest version of dd for Windows. Once downloaded, extract the archive's contents into Downloads or elsewhere.
</p>
<p>Now, launch your <code>command prompt</code> as an administrator. Next, change directory (<code>cd</code>) into the Downloads directory.
</p>
<p>If your Arch Linux ISO is elsewhere you may need to state the full path, for convenience you may wish to put the Arch Linux ISO into the same folder as the dd executable. The basic format of the command will look like this.
</p>
<pre># dd if=<i>archlinux-</i>version<i>-x86_64.iso</i> od=\\.\<i>x</i>: bs=4M
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The Windows drive letters are linked to a partition. To allow selecting the entire disk, <i>dd for Windows</i> provides the <code>od</code> parameter, which is used in the commands above. Note however that this parameter is specific to <i>dd for Windows</i> and cannot be found in other implementations of <i>dd</i>.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Because the <code>od</code> is used, all partitions on the selected disk will be destroyed. Be absolutely sure that you are directing dd to the correct drive before executing.</div>
<p>Simply replace the various null spots (indicated by an "x") with the correct date and correct drive letter. Here is a complete example.
</p>
<pre># dd if=ISOs\archlinux-<i>version</i>-x86_64.iso od=\\.\d: bs=4M
</pre>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> The following note may be invalid, the <a rel="nofollow" class="external text" href="http://www.chrysocome.net/dd">upstream documentation</a> does not mention anything related to <i>PhysicalDrive</i>. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:USB_flash_installation_medium#dd_for_windows">Talk:USB flash installation medium#dd for windows</a>)</div>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Alternatively, replace the drive letter with <code>\\.\PhysicalDrive<i>X</i></code>, where <code><i>X</i></code> is the physical drive number (starts from 0). Example:
<pre># dd if=ISOs\archlinux-<i>version</i>-x86_64.iso of=\\.\PhysicalDrive1 bs=4M</pre>
<p>You can find out the physical drive number by typing <code>wmic diskdrive list brief</code> at the command prompt or with <code>dd --list</code>
</p>
Any Explorer window must be closed or dd will report an error.</div>
<h5><span class="mw-headline" id="Using_ventoy_2">Using ventoy</span></h5>
<p><a rel="nofollow" class="external text" href="https://www.ventoy.net/">Ventoy</a> is an open source tool to create bootable USB drive for ISO/WIM/IMG/VHD(x)/EFI files. With ventoy, you don't need to format the disk over and over, you just need to copy the ISO/WIM/IMG/VHD(x)EFI files to the USB drive and boot them directly. You can copy many files at a time and ventoy will give you a boot menu to select them.
</p>
<h4><span class="mw-headline" id="In_macOS">In macOS</span></h4>
<p>First, you need to identify the USB device. Open <code>/Applications/Utilities/Terminal</code> and list all storage devices with the command:
</p>
<pre>$ diskutil list
</pre>
<p>Your USB device will appear as something like <code>/dev/disk2 (external, physical)</code>. Verify that this is the device you want to erase by checking its name and size and then use its identifier for the commands below instead of /dev/diskX.
</p>
<p>A USB device is normally auto-mounted in macOS, and you have to unmount (not eject) it before block-writing to it with <code>dd</code>. In Terminal, do:
</p>
<pre>$ diskutil unmountDisk /dev/diskX
</pre>
<p>Now copy the ISO image file to the device. The <code>dd</code> command is similar to its Linux counterpart, but notice the 'r' before 'disk' for raw mode which makes the transfer much faster:
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> BSD-derived <code>dd</code>, which includes macOS's default <code>dd</code>, uses lower-case <code>m</code> suffix. This differs from GNU <code>dd</code>, used elsewhere in this article.</div>
<pre># dd if=path/to/arch.iso of=/dev/<b>r</b>diskX bs=1m
</pre>
<p>On newer dd you should use "bs=1M", e.g.
</p>
<pre># dd if=path/to/arch.iso of=/dev/<b>r</b>diskX bs=1M
</pre>
<p>This command will run silently. To view progress, send SIGINFO by pressing <code>Ctrl+t</code>. Note <code>diskX</code> here should not include the <code>s1</code> suffix, or else the USB device will only be bootable in UEFI mode and not legacy. After completion, macOS may complain that "The disk you inserted was not readable by this computer". Select 'Ignore'. The USB device will be bootable.
</p>
<h4><span class="mw-headline" id="In_Android">In Android</span></h4>
<h5><span class="mw-headline" id="EtchDroid">EtchDroid</span></h5>
<p><a rel="nofollow" class="external text" href="https://etchdroid.depau.eu/">EtchDroid</a> is a OS image flasher for Android. It works without root permissions on Android 5 to Android 8. According to bug reports it doesn't always work on Android 9 and Android 4.4.
</p>
<p>To create an Arch Linux installer, download the ISO image file on your Android device. Plug the USB drive to your device, using a USB-OTG adapter if needed. Open EtchDroid, select "Flash raw image", select your Arch ISO, then select your USB drive. Grant the USB API permission and confirm.
</p>
<p>Keep your phone on a table while it's writing the image: a lot of USB-OTG adapters are a bit wobbly and you might unplug it by mistake.
</p>
<h3><span class="mw-headline" id="Using_manual_formatting">Using manual formatting</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> For UEFI-only booting, it is enough to copy the files and either change the volume's label or edit boot loader configuration files to set <code>archisolabel</code>/<code>archisodevice</code> acordingly. (But this is inside <a href="#BIOS_and_UEFI_bootable_USB">#BIOS and UEFI bootable USB</a>, new section may be needed for UEFI-only...) (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:USB_flash_installation_medium">Talk:USB flash installation medium#</a>)</div>
</div>
<h4>
<span id="In_GNU.2FLinux_2"></span><span class="mw-headline" id="In_GNU/Linux_2">In GNU/Linux</span>
</h4>
<p>This method is more complicated than writing the image directly with <code>dd</code>, but it does keep the flash drive usable for data storage (that is, the ISO is installed in a specific partition within the already <a href="../en/Partitioning.html" title="Partitioning">partitioned device</a> without altering other partitions).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Here, we will denote the targeted partition as <code>/dev/sd<b>Xn</b></code>. In any of the following commands, adjust <b>X</b> and <b>n</b> according to your system.</div>
<ul>
<li>If not done yet, create a <a href="../en/Partitioning.html#Partition_table" class="mw-redirect" title="Partition table">partition table</a> on <code>/dev/sd<b>X</b></code>.</li>
<li>If not done yet, create a partition on the device. The partition <code>/dev/sd<b>Xn</b></code> must be formatted to <a href="../en/FAT.html" class="mw-redirect" title="FAT32">FAT32</a>.</li>
<li>Mount the ISO image, mount the FAT32 filesystem located in the USB flash device, and copy the contents of the ISO image to it. Then unmount the ISO image, but keep the FAT32 partition mounted (this may be used in subsequent steps). For example:</li>
</ul>
<pre># mkdir -p /mnt/{iso,usb}
# mount -o loop archlinux-<i>version</i>-x86_64.iso /mnt/iso
# mount /dev/sd<b>Xn</b> /mnt/usb
# cp -a /mnt/iso/* /mnt/usb
# sync
# umount /mnt/iso
</pre>
<p>Booting requires specifying the volume on which the files reside. By default the label <code>ARCH_<i>YYYYMM</i></code> (with the appropriate release year and month) is used. Thus, the <a href="../en/Persistent_block_device_naming.html#by-label" title="Persistent block device naming">file system’s label</a> has to be set accordingly. Alternatively, you can change this behaviour by altering the lines ending by <code>archisolabel=ARCH_<i>YYYYMM</i></code> in the file <code>/mnt/usb/arch/boot/syslinux/archiso_sys.cfg</code> (for BIOS boot), and in <code>/mnt/usb/loader/entries/archiso-x86_64.conf</code> (for UEFI boot). For example, to use an <a href="../en/Persistent_block_device_naming.html#by-uuid" class="mw-redirect" title="UUID">UUID</a> instead, replace those portions of lines with <code>archisodevice=/dev/disk/by-uuid/<b>YOUR-UUID</b></code>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Wrong <code>archisolabel</code> or <code>archisodevice</code> will prevent booting from the created medium.</div>
<p>Syslinux files for BIOS systems are already copied to <code>/mnt/usb/arch/boot/syslinux</code>. Install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=syslinux">syslinux</a></span> package and follow <a href="../en/Syslinux.html#Manual_install" title="Syslinux">Syslinux#Manual install</a> instructions to make the partition bootable.
</p>
<h4><span class="mw-headline" id="In_Windows_2">In Windows</span></h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>For manual formatting, do not use any <b>Bootable USB Creator utility</b> for creating the UEFI bootable USB. For manual formatting, do not use <i>dd for Windows</i> to dd the ISO to the USB drive either.</li>
<li>In the below commands, <b>X:</b> is assumed to be the USB flash drive in Windows.</li>
<li>Windows uses backward slash <code>\</code> as path-separator, so the same is used in the below commands.</li>
<li>All commands should be run in Windows command prompt <b>as administrator</b>.</li>
<li>
<code>&gt;</code> denotes the Windows command prompt.</li>
</ul>
</div>
<ul>
<li>Partition and format the USB drive using <a rel="nofollow" class="external text" href="https://rufus.ie/">Rufus USB partitioner</a>. Select partition scheme option as <b>MBR for BIOS and UEFI</b> and File system as <b>FAT32</b>. Uncheck "Create a bootable disk using ISO image" and "Create extended label and icon files" options.</li>
<li>Change the <b>Volume Label</b> of the USB flash drive <code>X:</code> to match the LABEL mentioned in the <code>archisolabel=</code> part in <code>&lt;ISO&gt;\loader\entries\archiso-x86_64.conf</code>. This step is required for Official ISO (<a href="../en/Archiso.html" title="Archiso">Archiso</a>). This step can be also performed using Rufus, during the prior "partition and format" step.</li>
<li>Extract the ISO (similar to extracting ZIP archive) to the USB flash drive using <a rel="nofollow" class="external text" href="https://www.7-zip.org/">7-Zip</a>.</li>
<li>Download official Syslinux 6.xx binaries (zip file) from <a rel="nofollow" class="external free" href="https://www.kernel.org/pub/linux/utils/boot/syslinux/">https://www.kernel.org/pub/linux/utils/boot/syslinux/</a>  and extract it. The version of Syslinux should be the same version used in the ISO image.</li>
</ul>
<ul><li>Run the following command (in Windows cmd prompt, as admin):</li></ul>
<pre>&gt; cd bios\
&gt; for /r %Y in (*.c32) do copy "%Y" "X:\arch\boot\syslinux\" /y
&gt; copy mbr\*.bin X:\arch\boot\syslinux\ /y
</pre>
<ul><li>Install Syslinux to the USB by running (use <code>win64\syslinux64.exe</code> for x64 Windows):</li></ul>
<pre>&gt; cd bios\
&gt; win32\syslinux.exe -d /arch/boot/syslinux -i -a -m X:
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>The above step installs Syslinux's <code>ldlinux.sys</code> to the VBR of the USB partition, sets the partition as "active/boot" in the MBR partition table and writes the MBR boot code to the 1st 440-byte boot code region of the USB.</li>
<li>The <code>-d</code> switch expects a path with forward slash path-separator like in *unix systems.</li>
</ul>
</div>
<h2><span class="mw-headline" id="Other_methods_for_BIOS_systems">Other methods for BIOS systems</span></h2>
<h3>
<span id="In_GNU.2FLinux_3"></span><span class="mw-headline" id="In_GNU/Linux_3">In GNU/Linux</span>
</h3>
<h4><span class="mw-headline" id="Using_a_multiboot_USB_drive">Using a multiboot USB drive</span></h4>
<p>This allows booting multiple ISOs from a single USB device, including the archiso. Updating an existing USB drive to a more recent ISO is simpler than for most other methods. See <a href="../en/Multiboot_USB_drive.html" title="Multiboot USB drive">Multiboot USB drive</a>.
</p>
<h4><span class="mw-headline" id="Making_a_USB-ZIP_drive">Making a USB-ZIP drive</span></h4>
<p>For some old BIOS systems, only booting from USB-ZIP drives is supported. This method allows you to still boot from a USB-HDD drive.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> This will destroy all information on your USB flash drive!</div>
<ul>
<li>Download <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=syslinux">syslinux</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mtools">mtools</a></span> from the official repositories.</li>
<li>Find your usb drive with <code>lsblk</code>.</li>
<li>Type <code>mkdiskimage -4 /dev/sd<b>x</b> 0 64 32</code> (replace x with the letter of your drive). This will take a while.</li>
</ul>
<p>From here continue with the manual formatting method. The partition will be <code>/dev/sd<b>x</b>4</code> due to the way ZIP drives work.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Do not format the drive as FAT32; keep it as FAT16.</div>
<h4><span class="mw-headline" id="Using_UNetbootin">Using UNetbootin</span></h4>
<p>UNetbootin can be used on any Linux distribution or Windows to copy your iso to a USB device. However, Unetbootin overwrites <code>syslinux.cfg</code>, so it creates a USB device that does not boot properly. For this reason, <b>Unetbootin is not recommended</b> -- please use <code>dd</code> or one of the other methods discussed in this topic.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> UNetbootin writes over the default <code>syslinux.cfg</code>; this must be restored before the USB device will boot properly.</div>
<p>Edit <code>syslinux.cfg</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">sysconfig.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">default menu.c32
prompt 0
menu title Archlinux Installer
timeout 100

label unetbootindefault
menu label Archlinux_x86_64
kernel /arch/boot/x86_64/vmlinuz-linux
append initrd=/arch/boot/intel-ucode.img,/arch/boot/amd-ucode.img,/arch/boot/x86_64/initramfs-linux.img archisodevice=/dev/sd<b>x1</b> ../../</pre>
<p>In <code>/dev/sd<b>x1</b></code> you must replace <b>x</b> with the first free letter after the last letter in use on the system where you are installing Arch Linux (e.g. if you have two hard drives, use <code>c</code>.). You can make this change during the first phase of boot by pressing <code>Tab</code> when the menu is shown.
</p>
<h3><span class="mw-headline" id="In_Windows_3">In Windows</span></h3>
<h4><span class="mw-headline" id="The_Flashnul_way">The Flashnul way</span></h4>
<p><a rel="nofollow" class="external text" href="https://translate.google.com/translate?hl=&amp;sl=ru&amp;tl=en&amp;u=http%3A%2F%2Fshounen.ru%2Fsoft%2Fflashnul%2Freadme.rus.html&amp;sandbox=1">flashnul</a> is an utility to verify the functionality and maintenance of Flash-Memory (USB-Flash, IDE-Flash, SecureDigital, MMC, MemoryStick, SmartMedia, XD, CompactFlash etc).
</p>
<p>From a command prompt, invoke flashnul with <code>-p</code>, and determine which device index is your USB drive, e.g.:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">C:\&gt;flashnul -p</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Avaible physical drives:
Avaible logical disks:
C:\
D:\
E:\
</pre>
<p>When you have determined which device is the correct one, you can write the image to your drive, by invoking flashnul with the device index, <code>-L</code>, and the path to your image, e.g:
</p>
<pre>C:\&gt;flashnul <b>E:</b> -L <i>path\to\arch.iso</i>
</pre>
<p>As long as you are really sure you want to write the data, type yes, then wait a bit for it to write. If you get an access denied error, close any Explorer windows you have open.
</p>
<p>If under Vista or Win7, you should open the console as administrator, or else flashnul will fail to open the stick as a block device and will only be able to write via the drive handle windows provides
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Confirmed that you need to use drive letter as opposed to number. flashnul 1rc1, Windows 7 x64.</div>
<h4><span class="mw-headline" id="Loading_the_installation_medium_from_RAM">Loading the installation medium from RAM</span></h4>
<div class="noprint archwiki-template-message">
<p><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" decoding="async" width="48" height="48"></a><b>This article or section is a candidate for merging with <a href="../en/Multiboot_USB_drive.html#Using_Syslinux_and_memdisk" title="Multiboot USB drive">Multiboot USB drive#Using Syslinux and memdisk</a>.</b><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Notes:</b> This is the same method, only Syslinux is installed from Windows. Considering that <a href="../en/Multiboot_USB_drive.html" title="Multiboot USB drive">multiboot USB drive</a> can be used to boot an installation medium and it is already linked from the Related articles box at the top, maybe this section should be merged there? (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:USB_flash_installation_medium">Talk:USB flash installation medium#</a>)</div>
</div>
<p>This method uses <a href="../en/Syslinux.html" title="Syslinux">Syslinux</a> and a <a href="../en/Tmpfs.html" class="mw-redirect" title="Ramdisk">Ramdisk</a> (<a rel="nofollow" class="external text" href="https://wiki.syslinux.org/wiki/index.php/MEMDISK">MEMDISK</a>) to load the entire Arch Linux ISO image into RAM. Since this will be running entirely from system memory, you will need to make sure the system you will be installing this on has an adequate amount. A minimum amount of RAM between 500 MB and 1 GB should suffice for a MEMDISK based, Arch Linux install.
</p>
<p>For more information on Arch Linux system requirements as well as those for MEMDISK see the <a href="../en/Installation_guide.html" title="Installation guide">Installation guide</a> and <a rel="nofollow" class="external text" href="http://www.etherboot.org/wiki/bootingmemdisk#preliminaries">here</a>. For reference, here is the <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=135266">preceding forum thread</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Once the installer has completed loading you can simply remove the USB stick and even use it on a different machine to start the process all over again. Utilizing MEMDISK also allows booting and installing Arch Linux to and from the same USB flash drive.</div>
<h5><span class="mw-headline" id="Preparing_the_USB_flash_drive">Preparing the USB flash drive</span></h5>
<p>Begin by formatting the USB flash drive as <b>FAT32</b>. Then create the following folders on the newly formatted drive.
</p>
<ul><li>
<code>Boot</code>
<ul>
<li><code>Boot/ISOs</code></li>
<li><code>Boot/Settings</code></li>
</ul>
</li></ul>
<h5><span class="mw-headline" id="Copy_the_needed_files_to_the_USB_flash_drive">Copy the needed files to the USB flash drive</span></h5>
<p>Next copy the ISO that you would like to boot to the <code>Boot/ISOs</code> folder. After that, extract from the following files from the latest release of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=syslinux">syslinux</a></span> from <a rel="nofollow" class="external text" href="https://www.kernel.org/pub/linux/utils/boot/syslinux/">here</a> and copy them into the following folders.
</p>
<ul>
<li>
<code>./win32/syslinux.exe</code> to the Desktop or Downloads folder on your system.</li>
<li>
<code>./memdisk/memdisk</code> to the <code>Settings</code> folder on your USB flash drive.</li>
</ul>
<h5><span class="mw-headline" id="Create_the_configuration_file">Create the configuration file</span></h5>
<p>After copying the needed files, navigate to the USB flash drive, /boot/Settings and create a <code>syslinux.cfg</code> file.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> On the <code>INITRD</code> line, be sure to use the name of the ISO file that you copied to your <code>ISOs</code> folder.</div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/Boot/Settings/syslinux.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">DEFAULT arch_iso

LABEL arch_iso
        MENU LABEL Arch Setup
        LINUX memdisk
        INITRD /Boot/ISOs/archlinux-<i>version</i>-x86_64.iso
        APPEND iso</pre>
<p>For more information on Syslinux see the <a href="../en/Syslinux.html" title="Syslinux">Arch Wiki article</a>.
</p>
<h5><span class="mw-headline" id="Final_steps">Final steps</span></h5>
<p>Finally, create a <code>*.bat</code> file where <code>syslinux.exe</code> is located and run it ("Run as administrator" if you are on Vista or Windows 7):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">C:\Documents and Settings\username\Desktop\install.bat</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">@echo off
syslinux.exe -m -a -d /Boot/Settings X:
</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<ul>
<li>If you get the "device did not show up after 30 seconds" error due to the <code>/dev/disk/by-label/ARCH_<i>YYYYMM</i></code> not mounting, try renaming your USB medium to <code>ARCH_<i>YYYYMM</i></code> (e.g. <code>ARCH_201501</code>).</li>
<li>If you get errors, try using another USB device. There are case scenarios in which it solved all issues.</li>
</ul>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://wiki.gentoo.org/wiki/LiveUSB/HOWTO">Gentoo wiki - LiveUSB/HOWTO</a></li>
<li><a rel="nofollow" class="external text" href="https://fedoraproject.org/wiki/How_to_create_and_use_Live_USB">Fedora wiki - How to create and use Live USB</a></li>
<li><a rel="nofollow" class="external text" href="https://en.opensuse.org/SDB:Live_USB_stick">openSUSE wiki - SDB:Live USB stick</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Installation_process.html" title="Category:Installation process">Installation process</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Merge.html" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=USB_flash_installation_medium&amp;oldid=649022">https://wiki.archlinux.org/index.php?title=USB_flash_installation_medium&amp;oldid=649022</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 16 January 2021, at 10:26.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
