<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Tablet PC - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Tablet_PC rootpage-Tablet_PC skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Tablet PC</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Bad style. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Tablet_PC">Talk:Tablet PC#</a>)</div>
</div>
<p>This article aggregates information to get Arch Linux working on a tablet PC. The instructions contain information for getting the stylus, stylus rotation, and screen rotation to work properly on such devices.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Models"><span class="tocnumber">1</span> <span class="toctext">Models</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Stylus"><span class="tocnumber">2</span> <span class="toctext">Stylus</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#On-screen_keyboards"><span class="tocnumber">3</span> <span class="toctext">On-screen keyboards</span></a></li>
<li class="toclevel-1 tocsection-4">
<a href="#Rotation"><span class="tocnumber">4</span> <span class="toctext">Rotation</span></a>
<ul>
<li class="toclevel-2 tocsection-5">
<a href="#Stylus_and_screen_rotation"><span class="tocnumber">4.1</span> <span class="toctext">Stylus and screen rotation</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#With_xsetwacom"><span class="tocnumber">4.1.1</span> <span class="toctext">With xsetwacom</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#With_xinput"><span class="tocnumber">4.1.2</span> <span class="toctext">With xinput</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href="#XFCE:_Stylus_and_screen_rotation"><span class="tocnumber">4.2</span> <span class="toctext">XFCE: Stylus and screen rotation</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Touchscreen_rotation"><span class="tocnumber">4.3</span> <span class="toctext">Touchscreen rotation</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10">
<a href="#Automatic_rotation"><span class="tocnumber">5</span> <span class="toctext">Automatic rotation</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#With_xrandr_+_xinput"><span class="tocnumber">5.1</span> <span class="toctext">With xrandr + xinput</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#With_GNOME"><span class="tocnumber">5.2</span> <span class="toctext">With GNOME</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#With_a_KDE_module"><span class="tocnumber">5.3</span> <span class="toctext">With a KDE module</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#With_Screen_Rotator"><span class="tocnumber">5.4</span> <span class="toctext">With Screen Rotator</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#Tablet_mode"><span class="tocnumber">6</span> <span class="toctext">Tablet mode</span></a></li>
<li class="toclevel-1 tocsection-16">
<a href="#Desktop_Environments_/_Window_Managers"><span class="tocnumber">7</span> <span class="toctext">Desktop Environments / Window Managers</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="#i3"><span class="tocnumber">7.1</span> <span class="toctext">i3</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18">
<a href="#Tips_and_tricks"><span class="tocnumber">8</span> <span class="toctext">Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-19">
<a href="#Easystroke"><span class="tocnumber">8.1</span> <span class="toctext">Easystroke</span></a>
<ul>
<li class="toclevel-3 tocsection-20"><a href="#Launch_CellWriter_under_pen"><span class="tocnumber">8.1.1</span> <span class="toctext">Launch CellWriter under pen</span></a></li>
<li class="toclevel-3 tocsection-21"><a href="#Gestures_for_the_Alphabet"><span class="tocnumber">8.1.2</span> <span class="toctext">Gestures for the Alphabet</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-22">
<a href="#Xournal_&amp;_Xournal++"><span class="tocnumber">8.2</span> <span class="toctext">Xournal &amp; Xournal++</span></a>
<ul>
<li class="toclevel-3 tocsection-23"><a href="#Xournal"><span class="tocnumber">8.2.1</span> <span class="toctext">Xournal</span></a></li>
<li class="toclevel-3 tocsection-24"><a href="#Xournal++"><span class="tocnumber">8.2.2</span> <span class="toctext">Xournal++</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-25"><a href="#GNOME_Screensaver"><span class="tocnumber">8.3</span> <span class="toctext">GNOME Screensaver</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#GDM"><span class="tocnumber">8.4</span> <span class="toctext">GDM</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#LightDM"><span class="tocnumber">8.5</span> <span class="toctext">LightDM</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Touchegg"><span class="tocnumber">8.6</span> <span class="toctext">Touchegg</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-29">
<a href="#Troubleshooting"><span class="tocnumber">9</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-30"><a href="#Wacom_Drivers"><span class="tocnumber">9.1</span> <span class="toctext">Wacom Drivers</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Screen_Rotation"><span class="tocnumber">9.2</span> <span class="toctext">Screen Rotation</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Models">Models</span></h2>
<p>Intel (x86) tablets that are known to work (well) with Arch:
</p>
<ul>
<li><a href="../en/Samsung_Series_7_Slate_XE700T1A.html" title="Samsung Series 7 Slate XE700T1A">Samsung Series 7 Slate XE700T1A</a></li>
<li><a href="../en/Microsoft_Surface_Pro_3.html" title="Microsoft Surface Pro 3">Microsoft Surface Pro 3</a></li>
<li><a href="../en/Samsung_ATIV_Smart_PC_Pro_XE700T1C.html" title="Samsung ATIV Smart PC Pro XE700T1C">Samsung ATIV Smart PC Pro XE700T1C</a></li>
<li><a href="../en/Microsoft_Surface_Book_2.html" title="Microsoft Surface Book 2">Microsoft Surface Book 2</a></li>
<li>Asus T300 Chi</li>
<li>Acer Switch 3
<ul>
<li>Older models are shipped with a 32 bits UEFI only, like the <a href="../en/ASUS_x205ta.html" title="ASUS x205ta">ASUS x205ta</a>
</li>
<li>Recent models are shipped with a <a rel="nofollow" class="external text" href="https://bugzilla.kernel.org/show_bug.cgi?id=95851">nonworking touchpad</a>
</li>
</ul>
</li>
</ul>
<h2><span class="mw-headline" id="Stylus">Stylus</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-wacom">xf86-input-wacom</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> To configure styles devices manually (although not recommended), see the [<a rel="nofollow" class="external free" href="https://github.com/linuxwacom/xf86-input-">https://github.com/linuxwacom/xf86-input-</a>
wacom/wiki/Configuring-X Linux Wacom Project Wiki].</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If your keyboard stops working properly in X after installing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-wacom">xf86-input-wacom</a></span>, comment all unnecessary entries in /usr/share/X11/xorg.conf.d/70-wacom.conf.</div>
<h2><span class="mw-headline" id="On-screen_keyboards">On-screen keyboards</span></h2>
<p>See <a href="../en/List_of_applications/Utilities.html#On-screen_keyboards" title="List of applications/Utilities">List of applications/Utilities#On-screen keyboards</a>.
</p>
<h2><span class="mw-headline" id="Rotation">Rotation</span></h2>
<p>Unless you are running a very old Xserver, rotation capabilities (included in <a href="../en/Xrandr.html" title="Xrandr">xrandr</a>) should already be on by default. If not, you can enable xrandr by adding the following option to the <b>Screen</b> section of the xorg.conf file.
</p>
<pre>Option         "RandRRotation" "on"
</pre>
<p>Save the file and restart the xserver for changes to take effect.
</p>
<h3><span class="mw-headline" id="Stylus_and_screen_rotation">Stylus and screen rotation</span></h3>
<h4><span class="mw-headline" id="With_xsetwacom">With xsetwacom</span></h4>
<p>To set the screen and stylus input to portrait mode:
</p>
<pre> xrandr -o 3
 xsetwacom set stylus Rotate cw
</pre>
<p>To return to landscape mode:
</p>
<pre> xrandr -o 0
 xsetwacom set stylus Rotate none
</pre>
<p>In case the device 'stylus' cannot be found, use
</p>
<pre>xsetwacom list devices
</pre>
<p>to get a list of devices. Mine for example was 
</p>
<pre>xsetwacom set "Wacom Co.,Ltd. Pen and multitouch sensor Pen stylus" Rotate cw
</pre>
<p>Source: <a rel="nofollow" class="external free" href="http://xournal.sourceforge.net/manual.html">http://xournal.sourceforge.net/manual.html</a>
If you still cannot change the rotation, you can try to use xinput.
</p>
<h4><span class="mw-headline" id="With_xinput">With xinput</span></h4>
<p>You can also use <a href="../en/Xinput.html" title="Xinput">xinput</a> to turn the stylus, like you would rotate a touchscreen.
</p>
<p>To set the screen and stylus input to portrait mode:
</p>
<pre> xrandr -o left
 xinput set-prop &lt;Name of Stylus|Touch Screen&gt; --type=float "Coordinate Transformation Matrix"  0 -1 1 1 0 0 0 0 1
</pre>
<p>To return to landscape mode:
</p>
<pre> xrandr -o normal
 xinput set-prop &lt;Name of Stylus|Touch Screen&gt; --type=float "Coordinate Transformation Matrix"  0  0 0 0 0 0 0 0 0 
</pre>
<p>If your stylus is only listed as keyboard while using "xinput list", these are my results:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ xinput list</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">⎡ Virtual core pointer                    	id=2	[master pointer  (3)]
⎜   ↳ SynPS/2 Synaptics TouchPad              	id=14	[slave  pointer  (2)]
⎣ Virtual core keyboard                   	id=3	[master keyboard (2)]
    ↳ Virtual core XTEST keyboard             	id=5	[slave  keyboard (3)]
    ↳ ELAN0732:00 04F3:272A Pen               	id=11	[slave  keyboard (3)] #My Pen</pre>
<p>You can try touching the screen with the pen:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ xinput list</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">⎡ Virtual core pointer                    	id=2	[master pointer  (3)]
⎜   ↳ SynPS/2 Synaptics TouchPad              	id=14	[slave  pointer  (2)]
⎜   ↳ ELAN0732:00 04F3:272A Pen Pen (0)       	id=17	[slave  pointer  (2)] #My Pen Pointer
⎣ Virtual core keyboard                   	id=3	[master keyboard (2)]
    ↳ Virtual core XTEST keyboard             	id=5	[slave  keyboard (3)]
    ↳ ELAN0732:00 04F3:272A Pen               	id=11	[slave  keyboard (3)] #My Pen Keyboard</pre>
<p>Using the now listed pointer, the commands should work as expected, turning the stylus.
</p>
<p>This worked on my HP Envy x360.
</p>
<h3><span class="mw-headline" id="XFCE:_Stylus_and_screen_rotation">XFCE: Stylus and screen rotation</span></h3>
<p>The following script will rotate the display 90 degrees clockwise every time it is executed. It will also rotate the wacom pointer so that the stylus will still work.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">rotate.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/bash

case $(xfconf-query -c pointers -p /Wacom_ISDv4_90_Pen_stylus/Properties/Wacom_Rotation) in
    2)  # Currently top is rotated left, we should set it normal (0°)
          xrandr -o 0
          xfconf-query -c pointers -p /Wacom_ISDv4_90_Pen_stylus/Properties/Wacom_Rotation -s 0
          xfconf-query -c xsettings -p /Xft/RGBA -s rgb
          ;;
    0)  # Screen is not rotated, we should rotate it right (90°)
           xrandr -o 3
           xfconf-query -c pointers -p /Wacom_ISDv4_90_Pen_stylus/Properties/Wacom_Rotation -s 1
           xfconf-query -c xsettings -p /Xft/RGBA -s vbgr
           ;;
    1)    # Top of screen is rotated right, we should invert it (180°)
           xrandr -o 2
           xfconf-query -c pointers -p /Wacom_ISDv4_90_Pen_stylus/Properties/Wacom_Rotation -s 3
           xfconf-query -c xsettings -p /Xft/RGBA -s bgr
           ;;
    3)  # Screen is inverted, we should rotate it left (270°)
           xrandr -o 1
           xfconf-query -c pointers -p /Wacom_ISDv4_90_Pen_stylus/Properties/Wacom_Rotation -s 2
           xfconf-query -c xsettings -p /Xft/RGBA -s vrgb
           ;;
    *)
           echo "Unknown result from 'xfconf-query -c pointers -p /Wacom_ISDv4_90_Pen_stylus/Properties/Wacom_Rotation'" &gt;&amp;2
           exit 1
           ;;
esac
</pre>
<p>Save the file and make it executable:
</p>
<pre>chmod +x rotate.sh
</pre>
<p>You can create a link to it on your desktop or panel, or link it to a keyboard shortcut or special button on your tablet.
</p>
<h3><span class="mw-headline" id="Touchscreen_rotation">Touchscreen rotation</span></h3>
<p><a rel="nofollow" class="external text" href="https://github.com/yourealwaysbe/grox">Grox</a> is a simple script for rotating a touchscreen absolutely or by relative increments. It only uses xrandr to query the current state, rather than XFCE-specific features.
</p>
<h2><span class="mw-headline" id="Automatic_rotation">Automatic rotation</span></h2>
<h3>
<span id="With_xrandr_.2B_xinput"></span><span class="mw-headline" id="With_xrandr_+_xinput">With xrandr + xinput</span>
</h3>
<p>The following python script was developed to automatic rotate the screen and the touchscreen. Furthermore, it disable the touchpad for inverted, right, and left orientation, and supports automatic detection of accelerometers, touchscreens, and touchpad devices.
</p>
<p>It works for devices with an accelerometer communicating through the industrial I/O subsystem <code>/sys/bus/iio/devices/iio:deviceX</code>, where X is the number of the device. Usually, it is necessary to change the following parameters dpath, devicename, and touchpad.
</p>
<p>See <a rel="nofollow" class="external text" href="https://gist.githubusercontent.com/ei-grad/4d9d23b1463a99d24a8d/raw/rotate.py">rotate.py</a> and for scripts the Surface in the github <a rel="nofollow" class="external text" href="https://github.com/Surface-Pro-3/surface-tools">Surface Tools</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-04-03 ⓘ]</sup> repository.
</p>
<p>Here's a C version of the script that aims to reduce some system overhead: <a rel="nofollow" class="external text" href="https://github.com/aleozlx/2in1screen/blob/master/2in1screen.c">2in1screen.c</a>
You will need to replace your actual touch device name and recompile. Instruction to recompile is located at the 1st line. You can put this in .xinitrc like so before the exec line:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.xinitrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
# xrandr --dpi 180
xrdb -merge ~/.Xresources
~/bin/2in1screen &amp;   # &lt;&lt;&lt; invoke the binary around here will be fine
exec i3
</pre>
<p><br>
Note that there are many other surface pro 3 rotate scripts on github, including:
</p>
<ul>
<li><a rel="nofollow" class="external free" href="https://github.com/freundTech/surface-tools/tree/master/autorotate">https://github.com/freundTech/surface-tools/tree/master/autorotate</a></li>
<li>
<a rel="nofollow" class="external free" href="https://github.com/simonwjackson/surface-pro-3-scripts">https://github.com/simonwjackson/surface-pro-3-scripts</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-04-03 ⓘ]</sup>
</li>
<li><a rel="nofollow" class="external free" href="https://github.com/andrewrembrandt/surface-autorotate2">https://github.com/andrewrembrandt/surface-autorotate2</a></li>
</ul>
<h3><span class="mw-headline" id="With_GNOME">With GNOME</span></h3>
<p>See <a rel="nofollow" class="external text" href="https://github.com/hadess/iio-sensor-proxy">iio-sensor-proxy</a>. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iio-sensor-proxy">iio-sensor-proxy</a></span> is available, the git version <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/iio-sensor-proxy-git/">iio-sensor-proxy-git</a></span><sup><small>AUR</small></sup> is available in the AUR.
</p>
<p>If you want the rotation, but have the problem that GNOME is adjusting your brightness automatically in a bad way, then you can use these commands to disable it.
</p>
<p>For current user, which can also be done via power management GUI:
</p>
<pre>dbus-launch gsettings set org.gnome.settings-daemon.plugins.power ambient-enabled false
</pre>
<p><br>
For GDM, which cannot be done via GUI:
</p>
<pre>sudo -u gdm dbus-launch gsettings set org.gnome.settings-daemon.plugins.power ambient-enabled false
</pre>
<h3><span class="mw-headline" id="With_a_KDE_module">With a KDE module</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <a rel="nofollow" class="external text" href="https://github.com/dos1/kded_rotation">kded_rotation</a> is in early development stages and is a bit hacky. Use caution.</div>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iio-sensor-proxy">iio-sensor-proxy</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/iio-sensor-proxy-git/">iio-sensor-proxy-git</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/kded-rotation-git/">kded-rotation-git</a></span><sup><small>AUR</small></sup>, then restart your Plasma session. Screen rotation should now just work.
</p>
<p>For automatic touch screen rotation edit <code>/usr/bin/orientation-helper</code> script, changing the hardcoded input device name to match the one you have (choose from the output of <code>xinput list</code>).
</p>
<h3><span class="mw-headline" id="With_Screen_Rotator">With Screen Rotator</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <a rel="nofollow" class="external text" href="https://github.com/GuLinux/screenrotator">ScreenRotator</a> is in early development stages.</div>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iio-sensor-proxy">iio-sensor-proxy</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/iio-sensor-proxy-git/">iio-sensor-proxy-git</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/screenrotator-git/">screenrotator-git</a></span><sup><small>AUR</small></sup>. It will start automatically at each session, but you can also launch it from the Applications menu (system section).
</p>
<p>Screen rotator has no configuration, it will automatically detect orientation changes and rotate both your screen and touchscreen orientation accordingly.
</p>
<h2><span class="mw-headline" id="Tablet_mode">Tablet mode</span></h2>
<p>You can use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/detect-tablet-mode-git/">detect-tablet-mode-git</a></span><sup><small>AUR</small></sup> to configure laptop and tablet modes (e.g. enable/disable keyboard/touchpad/trackpoint, start/kill on-screen keyboard etc.)
</p>
<p>If no sensor is detected, it can be manually triggered using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tablet-mode/">tablet-mode</a></span><sup><small>AUR</small></sup>.
</p>
<h2>
<span id="Desktop_Environments_.2F_Window_Managers"></span><span class="mw-headline" id="Desktop_Environments_/_Window_Managers">Desktop Environments / Window Managers</span>
</h2>
<h3><span class="mw-headline" id="i3">i3</span></h3>
<p>Using a tiling window manager like <a href="../en/I3.html" title="I3">i3</a> makes a lot of sense for a tablet, where screen space is limited. While that may seem unintuitive at first -- think about it: Android, iOS and Windows 10's tablet mode all use tiling window managers. Thus, <a href="../en/I3.html" title="I3">i3</a> is an excellent window managers for tablets running Arch. The problem is that <a href="../en/I3.html" title="I3">i3</a> is designed to be used with a keyboard, without a mouse, so there are no touch controls built in. For the most part, users will need to build their own, though touch gestures (see <a href="#Tips_and_tricks">#Tips and tricks</a>) or by adding touch button controls to a status bar or panel. Users of the <a rel="nofollow" class="external text" href="https://github.com/jaagr/polybar/">polybar</a> status bar can try <a rel="nofollow" class="external text" href="https://github.com/ssmolkin1/i3touchmenu/">i3touchmenu</a>. 
</p>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Easystroke">Easystroke</span></h3>
<p><a rel="nofollow" class="external text" href="http://easystroke.sourceforge.net/">Easystroke</a> is a gesture recognition application, recognizing gestures by a variety of input devices, to include pen stylus, mouse, and touch. Gestures can be used to launch programs, enter text, emulate buttons and keys, and scroll. Easystroke is available in the AUR: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/easystroke-git/">easystroke-git</a></span><sup><small>AUR</small></sup>.
</p>
<h4><span class="mw-headline" id="Launch_CellWriter_under_pen">Launch CellWriter under pen</span></h4>
<p>One useful application of Easystroke is to use it to launch CellWriter right below your mouse pointer.
</p>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Script dump, in-code comments (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Tablet_PC">Talk:Tablet PC#</a>)</div>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This script requires the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xdotool">xdotool</a></span> package, which is not installed by default.</div>
<pre>#!/bin/bash
# Original author: mr_deimos (ubuntuforums.org). February 14, 2010
# Many bugs fixed and improvements made by Ben Wong.  October 20, 2010

# This script toggles the cellwriter letter recognizer window.
# If a cellwriter window is visible, it will be hidden.
# If cellwriter is not already running, this will create a new process.
# If coordinates are specified, the window pops up at those coordinates. 
# If coordinates are not specified, the window is toggled, but not moved.

# Implementation Note: this script is trickier than it should be
# because cellwriter does two stupid things. First, it has no
# --get-state option, so we can't tell if it is hidden or not. Second,
# both the notification area applet and the actual program window have
# the same window name in X, which means we can't simply use xwininfo
# to find out if it is showing or not. 
#
# (Of course, we wouldn't have to be doing this crazy script at all,
# if cellwriter had a --toggle-window option to toggle showing the
# keyboard, but that's another rant...)
#
# To work around the problem, we'll assume that if the window we got
# information about from xwininfo is smaller than 100 pixels wide, it
# must be an icon in the notification area. This may be the wrong
# assumption, but, oh well...

if [[ "$1" == "-v" || "$1" == "--verbose" ]]; then
    verbose=echo
    shift
else
    verbose=:
fi

if [[ "$1" &amp;&amp; -z "$2"  ||  "$1" == "-h"  ||  "$1" == "--help" ]] ; then 
    cat &gt;&amp;2 &lt;&lt;EOF
$(basename $0): Toggle showing the cellwriter window, optionally moving it."

Usage:  $(basename $0) [x y]"
	Where x and y are the desired position of the cellwriter window."
	If x and y are omitted, the window is not moved."
EOF
    exit 1
fi

if [[ "$1" &amp;&amp; "$2" ]]; then
    x=$[$1-20]			# Offset slightly so cursor will be in window 
    y=$[$2-30]
    [ $x -lt 0 ] &amp;&amp; x=0		# Minimum value is zero
    [ $y -lt 0 ] &amp;&amp; y=0
fi

if ! xwininfo -root &gt;/dev/null; then
    echo "$(basename $0): Error: Could not connect to your X server." &gt;&amp;2
    exit 1
fi

# Try to obtain CellWriter's window id.
# We can't use "xwininfo -name" b/c that might find the notification icon. 
OLDIFS="$IFS"
IFS=$'\n'
for line in $(xwininfo -root -tree | grep CellWriter); do
    line=0x${line#*0x}		# Just to get rid of white space before 0x.
    $verbose -en "Checking: $line\t"
    if [[ $line =~ (0x[A-Fa-f0-9]+).*\)\ *([0-9]+)x([0-9]+) ]]; then
	id=${BASH_REMATCH[1]}
	width=${BASH_REMATCH[2]}
	height=${BASH_REMATCH[3]}
	if [[ $width -gt 100 ]]; then
	    $verbose "looks good."
	    CW_WIN_ID=$id
	    break;
	else
	    $verbose "too small, ignoring."
	fi
    else
	echo "BUG: The xwininfo regular expression in $0 is broken." &gt;&amp;2
    fi
done
IFS="$OLDIFS"

#Check if Cellwriter's window is visible
if [ "$CW_WIN_ID" ] ; then
    CW_MAP_STATE=`xwininfo -id "$CW_WIN_ID"|grep "Map State"|cut -f 2 -d :`
else
    $verbose "Can't find cellwriter window, checking for a running process..."
    if ! pgrep -x cellwriter &gt;&amp; /dev/null; then
	$verbose "No cellwriter process running, starting a new one."
	if [[ "$x" &amp;&amp; "$y" ]]; then
	    cellwriter --show-window --window-x=$x --window-y=$y &amp;
	else
	    cellwriter --show-window &amp;
	fi
	exit 0
    else
	$verbose "Found a process, so the window has not been created yet."
	$verbose "Pretending the window is UnMapped."
	CW_MAP_STATE=IsUnMapped
    fi
fi

$verbose "Map state: $CW_MAP_STATE"

case "$CW_MAP_STATE" in

    *IsViewable*)		# Window is currently visible.
	$verbose "hiding window"
	cellwriter --hide-window &amp;
	;;

    *IsUnMapped*)		# Window is currently hidden or non-existent.
	if [[ "$x" &amp;&amp; "$y" &amp;&amp; "$CW_WIN_ID" ]]; then
	    $verbose "moving window to $x $y"
	    xdotool windowmove $CW_WIN_ID $x $y
	fi
	$verbose "showing window"
	cellwriter --show-window &amp;    # In bg in case cw is not already running
	;;

    *) 				# This will never happen...
	echo "BUG: cellwriter is neither viewable nor unmapped" &gt;&amp;2
	echo "BUG: ...which means this script, $0, is buggy." &gt;&amp;2
	exit 1
	;;
esac

exit 0
</pre>
<p>Save the script as <b>cellwriter.sh</b> in either <code>/usr/local/bin/</code> or <code>$HOME/bin</code>, and give it executable rights:
</p>
<pre>chmod +x cellwriter.sh
</pre>
<p>Then create a gesture in Easystroke tied to the following command:
</p>
<pre>cellwriter.sh $EASYSTROKE_X1 $EASYSTROKE_Y1
</pre>
<p>When you launch it (using the gesture you created), it will open right under your pen.
</p>
<h4><span class="mw-headline" id="Gestures_for_the_Alphabet">Gestures for the Alphabet</span></h4>
<p>You can also use Easystroke to make gestures for the entire alphabet, replacing much of the need for CellWriter. To avoid having to make seperate gestures for the uppser-case letters, you can use the following <a rel="nofollow" class="external text" href="http://wwww.ubuntuforums.org/showthread.php?t=837032&amp;page=5#49">script</a> to activate the shift key.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This script requires the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xautomation">xautomation</a></span> package, which is not installed by default.</div>
<pre>#!/bin/bash
if [ -f /tmp/shift ]
then
  xte "keydown Shift_L" "key $1" "keyup Shift_L"
  rm -f /tmp/shift
else
  xte "key $1"
fi
</pre>
<p>Save the script as <b>keypress.sh</b> in either <code>/usr/local/bin/</code> or <code>$HOME/bin</code>, and give it executable rights:
</p>
<pre>chmod +x keypress.sh
</pre>
<p>Then create a gesture in Easystroke tied to the following command:
</p>
<pre>touch /tmp/shift
</pre>
<p>This will activate the shift key. To activate the letter keys, tie your gestures to the following command:
</p>
<pre>keypress.sh $LETTER
</pre>
<p>Replace <code>$LETTER</code> with the letter in the alphabet in question.
</p>
<p>So, when you want to enter an upper-case letter, use your gesture for the shift key followed by the letter. If you want a lower-case letter, simply use your gesture for the letter.
</p>
<h3>
<span id="Xournal_.26_Xournal.2B.2B"></span><span class="mw-headline" id="Xournal_&amp;_Xournal++">Xournal &amp; Xournal++</span>
</h3>
<h4><span class="mw-headline" id="Xournal">Xournal</span></h4>
<p><a rel="nofollow" class="external text" href="http://xournal.sourceforge.net/">Xournal</a> is an application for notetaking, sketching, and keeping a journal using a stylus. Xournal aims to provide superior graphical quality (subpixel resolution) and overall functionality. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xournal/">xournal</a></span><sup><small>AUR</small></sup> can be installed from the <b>extra</b> repository.
</p>
<p>You can also extend the functionality of Xournal with patches, to enable things such as autosaving documents and inserting images. See <a rel="nofollow" class="external text" href="https://sourceforge.net/tracker/?group_id=163434&amp;atid=827735">SourceForge</a> for links to all the available patches. To apply a patch, download the PKGBUILD for Xournal from the <a href="../en/Arch_Build_System.html" class="mw-redirect" title="ABS">ABS</a>, and reference the article <a href="../en/Patching_packages.html" class="mw-redirect" title="Patching in ABS">Patching in ABS</a>.
</p>
<h4>
<span id="Xournal.2B.2B"></span><span class="mw-headline" id="Xournal++">Xournal++</span>
</h4>
<p>Xournal++ (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xournalpp">xournalpp</a></span>) is the successor to Xournal that is currently in development. If you want a newer version Xournal, then you could try this. It is currently stable with little to no bugs that causes crashes.
</p>
<h3><span class="mw-headline" id="GNOME_Screensaver">GNOME Screensaver</span></h3>
<p>To unlock your <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-screensaver">gnome-screensaver</a></span> using Cellwriter to enter your password, first start <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dconf-editor">dconf-editor</a></span>:
</p>
<pre>$ dconf-editor
</pre>
<p>Under <code>/org/gnome/desktop/screensaver</code>, <code>embedded-keyboard-command</code> to <code>cellwriter --xid --keyboard-only</code>, and check the <code>embedded-keyboard-enabled</code> checkbox.
</p>
<p>Alternatively, instead of using the graphical registry editor, you can simply type these into your command line:
</p>
<pre>$ gsettings set org.gnome.desktop.screensaver embedded-keyboard-command "cellwriter --xid --keyboard-only"
$ gsettings set org.gnome.desktop.screensaver embedded-keyboard-enabled true
</pre>
<h3><span class="mw-headline" id="GDM">GDM</span></h3>
<p>You can also use CellWriter with GDM. First open <code>/etc/gdm/Init/Default</code> as root with a text editor. Then near the bottom of the file, add the lines in <b>bold</b> as shown:
</p>
<pre>fi
<b>cellwriter --keyboard-only &amp;</b>
exit 0
</pre>
<p>You can add <code>--window-x</code> and <code>--window-y</code> to adjust the position of CellWriter accordingly. For example:
</p>
<pre>cellwriter --keyboard-only --window-x=512 --window-y=768 &amp;
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> You can only use CellWriter with a Plain style GDM.</div>
<p>To start a fully fledged CellWriter instance within the user session, you might want to terminate the instance started with the keyboard-only switch within the gdm context. Add something such as <code>killall cellwriter</code> to your newly created file <code>/etc/gdm/PostLogin/Default</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This works in a single-user setup, if you have a multi-user setup, you might want to develop and post your more elaborate solution.</div>
<h3><span class="mw-headline" id="LightDM">LightDM</span></h3>
<p>Configuring LightDM to use Onboard for touchscreen login and unlocking is likely the simplest option (and stable) to provide onscreen keyboard login (when using the default GTK greeter).
</p>
<p>Ensure <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=onboard">onboard</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-gtk-greeter-settings">lightdm-gtk-greeter-settings</a></span> are installed and run <code>lightdm-gtk-greeter-settings</code> to configure onboard to start.
</p>
<p>Specifiying <code>onboard -t Droid -l Phone</code> configures the Droid theme and sets the Phone layout.
</p>
<h3><span class="mw-headline" id="Touchegg">Touchegg</span></h3>
<p><a href="../en/Touchegg.html" title="Touchegg">Touchegg</a> is a multitouch gesture recognizer. It can recongize up to five finger gestures (tap, drag, pinch, rotate...).
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Wacom_Drivers">Wacom Drivers</span></h3>
<p>These commands are useful in troubleshooting:
</p>
<pre>wacdump -f tpc /dev/ttyS0
xidump -l
xidump -u stylus
</pre>
<p>If xidump shows that your tablet's max resolution is the same as screen resolution, then your wacom driver has rescaled your wacom coordinates to the X server's resolution. To fix this, try recompiling your linuxwacom driver with:
</p>
<pre>./configure --disable-quirk-tablet-rescale
</pre>
<h3><span class="mw-headline" id="Screen_Rotation">Screen Rotation</span></h3>
<p>Some video drivers do not support rotation. To check if your driver supports rotation, check the output of <code>xrandr</code> for the list orientations:
</p>
<pre>normal left inverted right
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The following driver(s) are known not to support rotation: fglrx</div>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Mobile_devices.html" title="Category:Mobile devices">Mobile devices</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Tablet_PC&amp;oldid=634218">https://wiki.archlinux.org/index.php?title=Tablet_PC&amp;oldid=634218</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 3 September 2020, at 12:01.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
