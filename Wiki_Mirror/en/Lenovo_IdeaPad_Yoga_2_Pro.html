<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Lenovo IdeaPad Yoga 2 Pro - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Lenovo_IdeaPad_Yoga_2_Pro rootpage-Lenovo_IdeaPad_Yoga_2_Pro skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Lenovo IdeaPad Yoga 2 Pro</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section does not follow the <a href="../en/Help:Laptop_page_guidelines.html" title="Help:Laptop page guidelines">Laptop page guidelines</a>.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Missing templates, poorly organized (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Lenovo_IdeaPad_Yoga_2_Pro">Talk:Lenovo IdeaPad Yoga 2 Pro#</a>)</div>
</div>
<table class="wikitable" style="float: right;">
<tbody>
<tr>
<td><b>Device</b></td>
<td><b>Status</b></td>
<td>
<b>Modules</b>
</td>
</tr>
<tr>
<td>Graphics</td>
<td style="color:green"><b>Working</b></td>
<td>xf86-video-intel
</td>
</tr>
<tr>
<td>Wireless</td>
<td style="color:green"><b>Working*</b></td>
<td>iwlwifi
</td>
</tr>
<tr>
<td>Audio</td>
<td style="color:green"><b>Working</b></td>
<td>snd_hda_intel
</td>
</tr>
<tr>
<td>Touchscreen</td>
<td style="color:green"><b>Working</b></td>
<td>usbtouchscreen
</td>
</tr>
<tr>
<td>Accelerometer</td>
<td style="color:green"><b>Working</b></td>
<td>iio-sensor-proxy
</td>
</tr>
<tr>
<td>Touchpad</td>
<td style="color:green"><b>Working</b></td>
<td>xf86-input-synaptics
</td>
</tr>
<tr>
<td>Camera</td>
<td style="color:green"><b>Working</b></td>
<td>
</td>
</tr>
<tr>
<td>Card Reader</td>
<td style="color:blue"><b>Unknown</b></td>
<td>
</td>
</tr>
<tr>
<td>Bluetooth</td>
<td style="color:green"><b>Working</b></td>
<td>
</td>
</tr>
<tr>
<td>HDMI</td>
<td style="color:blue"><b>Working</b></td>
<td>
</td>
</tr>
</tbody>
</table>
<p><br>
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#The_ideapad_laptop_module"><span class="tocnumber">2</span> <span class="toctext">The ideapad_laptop module</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#Keyboard_and_other_hardware_keys"><span class="tocnumber">3</span> <span class="toctext">Keyboard and other hardware keys</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Keyboard_special_keys"><span class="tocnumber">3.1</span> <span class="toctext">Keyboard special keys</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Hardware_keys_on_right_side"><span class="tocnumber">3.2</span> <span class="toctext">Hardware keys on right side</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6">
<a href="#Touchscreen"><span class="tocnumber">4</span> <span class="toctext">Touchscreen</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Multitouch_gestures"><span class="tocnumber">4.1</span> <span class="toctext">Multitouch gestures</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Touchscreen_button"><span class="tocnumber">4.2</span> <span class="toctext">Touchscreen button</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Touchscreen_stops_working_after_suspension"><span class="tocnumber">4.3</span> <span class="toctext">Touchscreen stops working after suspension</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10">
<a href="#ACPI"><span class="tocnumber">5</span> <span class="toctext">ACPI</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Touchpad"><span class="tocnumber">5.1</span> <span class="toctext">Touchpad</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Backlight"><span class="tocnumber">5.2</span> <span class="toctext">Backlight</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Battery"><span class="tocnumber">5.3</span> <span class="toctext">Battery</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#Graphics"><span class="tocnumber">6</span> <span class="toctext">Graphics</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#Rotation/Conversion"><span class="tocnumber">7</span> <span class="toctext">Rotation/Conversion</span></a></li>
<li class="toclevel-1 tocsection-16"><a href="#See_also"><span class="tocnumber">8</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Installing Arch on the HiDPI screen may be difficult as the text will be hard to read. To make the font more readable, before you hit install, <a href="../en/Kernel_mode_setting.html#Disabling_modesetting" title="Kernel mode setting">disable mode settings</a>. Hit Tab in the arch linux boot menu and append the option <code>nomodeset</code> along with <code>nomodeset</code> kernel parameter. For Intel graphics card you need to add <code>i915.modeset=0</code> and for Nvidia graphics card you need to add <code>nouveau.modeset=0</code>. For Nvidia Optimus dual-graphics system, you need to add all the three kernel parameters (i.e. <code>"nomodeset i915.modeset=0 nouveau.modeset=0"</code>).
</p>
<p>Be aware, adding nomodeset prevents the kernel from identifying the monitor. As a result brightness adjustment and xrandr won't work. This line should probably be removed after installation.
</p>
<h2><span class="mw-headline" id="The_ideapad_laptop_module">The ideapad_laptop module</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  This should not be needed as of kernel 4.3</div>
<p>Several problems come up if the ideapad_laptop module is in use.  Namely, it blocks the network card and generates a massive stream of warning from the USB subsystem such as:
</p>
<pre>Dec  5 08:40:44 localhost kernel: [  290.632613] xhci_hcd 0000:00:14.0: ep 0x81 - asked for 15360 bytes, 15117 bytes untransferred
Dec  5 08:40:44 localhost kernel: [  290.735110] xhci_hcd 0000:00:14.0: ep 0x81 - asked for 15360 bytes, 15117 bytes untransferred
Dec  5 08:40:44 localhost kernel: [  290.837534] xhci_hcd 0000:00:14.0: ep 0x81 - asked for 15360 bytes, 15117 bytes untransferred
Dec  5 08:40:44 localhost kernel: [  290.940070] xhci_hcd 0000:00:14.0: ep 0x81 - asked for 15360 bytes, 15117 bytes untransferred
Dec  5 08:40:44 localhost kernel: [  291.042570] xhci_hcd 0000:00:14.0: ep 0x81 - asked for 15360 bytes, 15117 bytes untransferred
</pre>
<p>You can silence these in the short run by running:
</p>
<pre># dmesg -D
</pre>
<p>And you can unblock the wireless card by running:
</p>
<pre># rfkill unblock wlan
</pre>
<p>However, in the long term, you will probably want to blacklist the <code>ideapad_laptop</code> driver so that neither of these occur in the first place.  I am yet to find a disadvantage to doing so.
</p>
<h2><span class="mw-headline" id="Keyboard_and_other_hardware_keys">Keyboard and other hardware keys</span></h2>
<p>To access boot menu or BIOS settings, you must use the alternate power button, next to the standard one.
</p>
<p>No keypad available at all.
</p>
<h3><span class="mw-headline" id="Keyboard_special_keys">Keyboard special keys</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  A working keymap means that there is some output in <code>xev</code> when the key combination is pressed OR that the functionality is built in and "just works". It does not mean that the keymap is linked to the functionality. For that it is often necessary to add a keyboard shortcut <a href="../en/Keyboard_shortcuts.html#Xorg" class="mw-redirect" title="Extra keyboard keys in Xorg">by the method of your choice</a> or to use a desktop shell with built-in shortcut support for the keycode in question. For some of the keys the function operates on a BIOS level and no shortcut is needed.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  BIOS has a setting to flip the behavior of the FN key.</div>
<table class="wikitable">
<tbody>
<tr>
<th>Keys</th>
<th>Function</th>
<th>X sees
</th>
</tr>
<tr>
<td><code>Fn+F1</code></td>
<td>Audio mute/unmute</td>
<td>XF86AudioMute
</td>
</tr>
<tr>
<td><code>Fn+F2</code></td>
<td>Audio volume down</td>
<td>XF86AudioLowerVolume
</td>
</tr>
<tr>
<td><code>Fn+F3</code></td>
<td>Audio volume up</td>
<td>XF86AudioRaiseVolume
</td>
</tr>
<tr>
<td><code>Fn+F4</code></td>
<td>Close application</td>
<td>
<code>Alt_L+F4</code>
</td>
</tr>
<tr>
<td><code>Fn+F5</code></td>
<td>Refresh page</td>
<td>
<code>F5</code>
</td>
</tr>
<tr>
<td><code>Fn+F6</code></td>
<td>Disable Touchpad</td>
<td>?
</td>
</tr>
<tr>
<td><code>Fn+F7</code></td>
<td>Airplane mode</td>
<td>?
</td>
</tr>
<tr>
<td><code>Fn+F8</code></td>
<td>Unknown</td>
<td>
<code>Alt_L+Tab</code>
</td>
</tr>
<tr>
<td><code>Fn+F9</code></td>
<td>Turn off LCD</td>
<td>?
</td>
</tr>
<tr>
<td><code>Fn+F10</code></td>
<td>Toggle display</td>
<td>
<code>Super+p</code>
</td>
</tr>
<tr>
<td><code>Fn+F11</code></td>
<td>Dim LCD backlight</td>
<td>XF86MonBrightnessDown
</td>
</tr>
<tr>
<td><code>Fn+F12</code></td>
<td>Brighten LCD backlight</td>
<td>XF86MonBrightnessUp
</td>
</tr>
</tbody>
</table>
<h3><span class="mw-headline" id="Hardware_keys_on_right_side">Hardware keys on right side</span></h3>
<p>From hinge to front:
</p>
<pre>XF86AudioRaiseVolume
XF86AudioLowerVolume
Super_L+o
</pre>
<h2><span class="mw-headline" id="Touchscreen">Touchscreen</span></h2>
<p>Touchscreen USB device seems to come and go if the <code>usbtouchscreen</code> module is not loaded.
</p>
<h3><span class="mw-headline" id="Multitouch_gestures">Multitouch gestures</span></h3>
<p>You need to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/Touchegg/">Touchegg</a></span><sup><small>AUR</small></sup> from the <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a> in order to enable multitouch gestures. Optionally, you can install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/touchegg-gce-git/">touchegg-gce-git</a></span><sup><small>AUR</small></sup> as a graphical front-end. See more details in the <a href="../en/Touchegg.html" title="Touchegg">dedicated wiki page</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong>  If you use <a href="../en/GNOME.html" class="mw-redirect" title="Gnome Shell">Gnome Shell</a> you should start <code>touchegg</code> before it, in order to avoid conflicts.</div>
<h3><span class="mw-headline" id="Touchscreen_button">Touchscreen button</span></h3>
<p>The touchscreen button with a Windows logo is mapped as <code>Super</code>. However, <code>key_down</code> and <code>key_up</code> are generated simultaneously on touch release. The haptic feedback (vibration) when touching this button is currently not controllable via software.
</p>
<h3><span class="mw-headline" id="Touchscreen_stops_working_after_suspension">Touchscreen stops working after suspension</span></h3>
<p>Sometimes touchscreen stops working after resuming from suspension mode. You should be able to fix the problem reloading the <code>usbhid</code> and <code>usbtouchscreen</code> kernel modules:
</p>
<pre># modprobe -r usbhid usbtouchscreen
</pre>
<h2><span class="mw-headline" id="ACPI">ACPI</span></h2>
<p>I modified <code>/etc/acpi/default.sh</code> to allow for some debugging and additional features (see below):
</p>
<pre>#!/bin/sh
set $*
group=${1%%/*}
device=$2
id=$3
value=$4
log_unhandled() {
       logger "ACPI event unhandled: $*"
}
case "$group" in
       button)
               case "$action" in
                       power)
                               /etc/acpi/actions/powerbtn.sh
                               ;;
                       lid)
                               /etc/acpi/actions/lid.sh
                               ;;
                       *)      log_unhandled $* ;;
               esac
               ;;
       ac_adapter)
               case "$value" in
                       *)      log_unhandled $* ;;
               esac
               ;;
       *)      echo $* &gt; /dev/tty5
               log_unhandled $* ;;
esac
</pre>
<p><br>
</p>
<h3><span class="mw-headline" id="Touchpad">Touchpad</span></h3>
<p>The touchpad sends random input from time to time, especially when lid is closed. If you like your computer to keep running when the lid is closed, you may want to disable the touchpad with ACPI events:
</p>
<dl><dt>/etc/acpi/actions/lid.sh</dt></dl>
<pre>#!/bin/bash
export DISPLAY=:0
if grep closed /proc/acpi/button/lid/LID0/state
then
       synclient TouchpadOff=1 2&gt;/dev/tty5 &amp;&amp; echo "lid closed, disabling touchpad" &gt;/dev/tty5
else
       synclient TouchpadOff=0 2&gt;/dev/tty5 &amp;&amp; echo "lid open, eênabling touchpad" &gt;/dev/tty5
fi
</pre>
<p>Of course, the echo statement is optional and for debug purposes.
</p>
<h3><span class="mw-headline" id="Backlight">Backlight</span></h3>
<p>With newer kernels (I am currently using <code>3.17.6-1-ARCH</code>) backlight works out-of-the-box.
</p>
<p>"old" (ref needed) kernels require boot argument
</p>
<pre>acpi_backlight=vendor
</pre>
<p>Screen backlight brightness can be manually set with
</p>
<pre># echo $VAL &gt; /sys/class/backlight/intel_backlight/brightness
</pre>
<p>with $VAL between 0 and 937
</p>
<p>It's possible that you will get a permission denied error, in which case you can run 
</p>
<pre> # chmod a+rw /sys/class/backlight/intel_backlight/brightness
</pre>
<p>which makes the brightness editable by any user.
</p>
<p>Note: Some users have experienced brightness being stuck under Windows (10) (when you change it there is no actual change), it will most likely work under arch.
</p>
<h3><span class="mw-headline" id="Battery">Battery</span></h3>
<p>Battery info can be accessed with
</p>
<pre>ls /sys/class/power_supply/BAT1/*
</pre>
<p>Unfortunately, the values obtained there have no units (older Lenovo products had rates in mA, battery voltage, etc.)
</p>
<h2><span class="mw-headline" id="Graphics">Graphics</span></h2>
<p>Steam has been known to crash trying to run games complaining about missing i965 module. It seems some applications treat it as accelerated, and some do not.
</p>
<p>Resolution seems to be not so well supported by some desktop environments/window managers. Gnome-based DEs like Cinnamon and Mate, as well as XFCE and fvwm seem to work fine.
</p>
<p>Users may wish to boost font-sizes, as the HiDPI screen can be hard to read in some settings.
</p>
<p><br>
</p>
<p>If you have trouble detecting a display with the micro hdmi port, consider filing the plastic on the male hdmi plug back a bit (not on the laptop). See <a rel="nofollow" class="external text" href="https://forums.lenovo.com/t5/Lenovo-Edge-Yoga-Flex-Laptops/Yoga-2-Pro-micro-HDMi-issue-SOLVED/td-p/1297269">here</a>. The rubber case can prevent the plug from inserting fully.
</p>
<h2>
<span id="Rotation.2FConversion"></span><span class="mw-headline" id="Rotation/Conversion">Rotation/Conversion</span>
</h2>
<p>You can easily rotate screen with xrandr, however it does not rotate touchscreen/touchpad input which makes it fairly awkward to use. There is a <a rel="nofollow" class="external text" href="https://github.com/wolneykien/xrandr-align">project</a> attempting to address this. Keyboard hardware-disables in tablet mode, but touchpad is still active which needs to be addressed. No ACPI or keycode signals appear to be emitted for the various screen rotation states.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li>The LinLap site has some good information - see <a rel="nofollow" class="external autonumber" href="http://www.linlap.com/lenovo_ideapad_yoga_2_pro">[1]</a>;</li>
<li>a good Review of Arch Linux on a HiDPI Lenovo Yoga 2 Pro by KeithCU with useful comments <a rel="nofollow" class="external autonumber" href="http://keithcu.com/wordpress/?p=3270">[2]</a>;</li>
<li>an  installation guide written by Ubuntu users: <a rel="nofollow" class="external autonumber" href="https://askubuntu.com/questions/367963/ubuntu-on-lenovo-yoga-2-pro">[3]</a>.</li>
<li>color profile for fixing the mustard-yellow issue: <a rel="nofollow" class="external autonumber" href="https://bugzilla.kernel.org/show_bug.cgi?id=70721#c16">[4]</a>
</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Lenovo.html" title="Category:Lenovo">Lenovo</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Laptop_style.html" title="Category:Pages or sections flagged with Template:Laptop style">Pages or sections flagged with Template:Laptop style</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Lenovo_IdeaPad_Yoga_2_Pro&amp;oldid=656985">https://wiki.archlinux.org/index.php?title=Lenovo_IdeaPad_Yoga_2_Pro&amp;oldid=656985</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 31 March 2021, at 12:50.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
