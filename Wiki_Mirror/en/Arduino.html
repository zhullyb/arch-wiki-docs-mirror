<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Arduino - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Arduino rootpage-Arduino skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Arduino</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/AVR.html" title="AVR">AVR</a></li>
</ul>
</div>
<p><a href="https://en.wikipedia.org/wiki/Arduino" class="extiw" title="wikipedia:Arduino">Arduino</a> is an open-source electronics prototyping platform based on flexible, easy-to-use hardware and software. It is intended for artists, designers, hobbyists, and anyone interested in creating interactive objects or environments.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#AVR_Boards"><span class="tocnumber">1.1</span> <span class="toctext">AVR Boards</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Pinoccio_Scout"><span class="tocnumber">1.2</span> <span class="toctext">Pinoccio Scout</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Intel_Galileo"><span class="tocnumber">1.3</span> <span class="toctext">Intel Galileo</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#On_Arm7_devices"><span class="tocnumber">1.4</span> <span class="toctext">On Arm7 devices</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#RedBear_Duo"><span class="tocnumber">1.5</span> <span class="toctext">RedBear Duo</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7">
<a href="#Configuration"><span class="tocnumber">2</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#Accessing_serial"><span class="tocnumber">2.1</span> <span class="toctext">Accessing serial</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#stty"><span class="tocnumber">3</span> <span class="toctext">stty</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Arduino-Builder"><span class="tocnumber">4</span> <span class="toctext">Arduino-Builder</span></a></li>
<li class="toclevel-1 tocsection-11">
<a href="#Alternatives_for_IDE"><span class="tocnumber">5</span> <span class="toctext">Alternatives for IDE</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#ArduIDE"><span class="tocnumber">5.1</span> <span class="toctext">ArduIDE</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#gnoduino"><span class="tocnumber">5.2</span> <span class="toctext">gnoduino</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Arduino-CMake"><span class="tocnumber">5.3</span> <span class="toctext">Arduino-CMake</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Ino"><span class="tocnumber">5.4</span> <span class="toctext">Ino</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Makefile"><span class="tocnumber">5.5</span> <span class="toctext">Makefile</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Arduino-mk"><span class="tocnumber">5.6</span> <span class="toctext">Arduino-mk</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Scons"><span class="tocnumber">5.7</span> <span class="toctext">Scons</span></a></li>
<li class="toclevel-2 tocsection-19">
<a href="#PlatformIO"><span class="tocnumber">5.8</span> <span class="toctext">PlatformIO</span></a>
<ul>
<li class="toclevel-3 tocsection-20"><a href="#Installation_2"><span class="tocnumber">5.8.1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-3 tocsection-21"><a href="#Usage"><span class="tocnumber">5.8.2</span> <span class="toctext">Usage</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-22"><a href="#Emacs"><span class="tocnumber">5.9</span> <span class="toctext">Emacs</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-23">
<a href="#Troubleshooting"><span class="tocnumber">6</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-24"><a href="#Version_1.6"><span class="tocnumber">6.1</span> <span class="toctext">Version 1.6</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Consistent_naming_of_Arduino_devices"><span class="tocnumber">6.2</span> <span class="toctext">Consistent naming of Arduino devices</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Error_opening_serial_port"><span class="tocnumber">6.3</span> <span class="toctext">Error opening serial port</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#Working_with_Uno/Mega2560"><span class="tocnumber">6.4</span> <span class="toctext">Working with Uno/Mega2560</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Not_recognizing_USB_port_with_Mega2560_cheap_Chinese_clones"><span class="tocnumber">6.5</span> <span class="toctext">Not recognizing USB port with Mega2560 cheap Chinese clones</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#Application_not_resizing_with_WM,_menus_immediately_closing"><span class="tocnumber">6.6</span> <span class="toctext">Application not resizing with WM, menus immediately closing</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#Fails_to_upload:_programmer_is_not_responding"><span class="tocnumber">6.7</span> <span class="toctext">Fails to upload: programmer is not responding</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Crashing_with_java.lang.NullPointerException_after_a_fresh_install"><span class="tocnumber">6.8</span> <span class="toctext">Crashing with java.lang.NullPointerException after a fresh install</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-32"><a href="#See_also"><span class="tocnumber">7</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<ul>
<li>Install either <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=arduino">arduino</a></span> for the official IDE or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=arduino-cli">arduino-cli</a></span> for the official CLI. The offline documentation for the IDE can be installed via <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=arduino-docs">arduino-docs</a></span>.</li>
<li>Add your user to the <code>uucp</code> <a href="../en/Users_and_groups.html#Group_management" class="mw-redirect" title="User group">user group</a> (more information in the <a href="#Accessing_serial">#Accessing serial</a> section).</li>
<li>You may need to <a href="../en/Kernel_module.html" class="mw-redirect" title="Kernel modules">load</a> the <code>cdc_acm</code> module.</li>
</ul>
<h3><span class="mw-headline" id="AVR_Boards">AVR Boards</span></h3>
<p>To use AVR boards such as the Arduino Uno you can install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=arduino-avr-core">arduino-avr-core</a></span> optionally to use archlinux upstream avr-gcc instead of the bundled older avr-core. If you still want to use the older arduino-core you need to <a rel="nofollow" class="external text" href="https://www.arduino.cc/en/Guide/Cores">install it in the board manager</a>. You can always switch between the different cores in the "Tools&gt;Board" menu.
</p>
<h3><span class="mw-headline" id="Pinoccio_Scout">Pinoccio Scout</span></h3>
<p><a rel="nofollow" class="external text" href="https://pinocc.io/">Pinoccio Scouts</a> can also be programmed using the Arduino IDE. Instructions can be found <a rel="nofollow" class="external text" href="https://pinocc.io/solo">here</a>.
Alternative you can install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/arduino-pinoccio/">arduino-pinoccio</a></span><sup><small>AUR</small></sup> from the <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>.
</p>
<h3><span class="mw-headline" id="Intel_Galileo">Intel Galileo</span></h3>
<p>To use the Intel Galileo boards with Archlinux install the Arduino IDE and download the Galileo tools package via "Tools-&gt;Board-&gt;Boards Manager".
To fix the installation you can follow <a rel="nofollow" class="external text" href="https://github.com/arduino/Arduino/issues/5523">this github post</a>.
</p>
<h3><span class="mw-headline" id="On_Arm7_devices">On Arm7 devices</span></h3>
<p>See <a rel="nofollow" class="external text" href="http://blog.tklee.org/2014/10/arduino-ide-158-on-banana-pi.html">here</a> for a work around.
</p>
<h3><span class="mw-headline" id="RedBear_Duo">RedBear Duo</span></h3>
<p>You might need to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=perl-archive-zip">perl-archive-zip</a></span> or you'll get an error about missing crc32.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<h3><span class="mw-headline" id="Accessing_serial">Accessing serial</span></h3>
<p>The arduino board communicates with the computer via a serial connection or a serial-over-USB connection, so the user needs read/write access to the serial device file. <a href="../en/Udev.html" title="Udev">Udev</a> creates files such as <code>/dev/ttyUSB0</code> owned by group <code>uucp</code> so adding the user to the <code>uucp</code> group gives the required read/write access.  See <a href="../en/Users_and_groups.html#Group_management" title="Users and groups">Users and groups#Group management</a> for details.
</p>
<p>Before uploading to the Arduino, be sure to set the correct serial port, board, and processor from the Tools menu.
</p>
<h2><span class="mw-headline" id="stty">stty</span></h2>
<p>Preparing:
</p>
<pre># stty -F /dev/ttyACM0 cs8 9600 ignbrk -brkint -imaxbel -opost -onlcr -isig -icanon -iexten -echo -echoe -echok -echoctl -echoke noflsh -ixon -crtscts
</pre>
<p>Sending commands through Terminal without new line after command
</p>
<pre># echo -n "Hello World" &gt; /dev/ttyACM0
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  As autoreset on serial connection is activated by default on most boards, you need to disable this feature if you want to communicate directly with your board with the last command instead of a terminal emulator (arduino IDE, screen, picocom...). If you have a Leonardo board, you are not concerned by this, because it does not autoreset. If you have an Uno board, connect a 10 µF capacitor between the RESET and GND pins. If you have another board, connect a 120 ohms resistor between the RESET and 5V pins. See <a rel="nofollow" class="external free" href="http://playground.arduino.cc/Main/DisablingAutoResetOnSerialConnection">http://playground.arduino.cc/Main/DisablingAutoResetOnSerialConnection</a> for more details.</div>
<p>Reading what your Arduino has to tell you
</p>
<pre>$ cat /dev/ttyACM0
</pre>
<h2><span class="mw-headline" id="Arduino-Builder">Arduino-Builder</span></h2>
<p>You can also build Arduino sketches with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=arduino-builder">arduino-builder</a></span> command line tool. In order to use the provided <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=arduino-avr-core">arduino-avr-core</a></span> with upstream <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=avr-gcc">avr-gcc</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=avrdude">avrdude</a></span> you need to create a small settings file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">build.options.json</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">{
    "fqbn": "archlinux-arduino:avr:uno",
    "hardwareFolders": "/usr/share/arduino/hardware",
    "toolsFolders": "/usr/bin"
}</pre>
<p>Compile a sketch with:
</p>
<pre>$ arduino-builder -build-options-file build.options.json blink.ino
</pre>
<p>Or pass all options via command line:
</p>
<pre>$ arduino-builder -fqbn archlinux-arduino:avr:uno -hardware /usr/share/arduino/hardware -tools /usr/bin blink.ino
</pre>
<h2><span class="mw-headline" id="Alternatives_for_IDE">Alternatives for IDE</span></h2>
<h3><span class="mw-headline" id="ArduIDE">ArduIDE</span></h3>
<p>ArduIDE is a Qt-based IDE for Arduino. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/arduide-git/">arduide-git</a></span><sup><small>AUR</small></sup> is available in the <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>.
</p>
<h3><span class="mw-headline" id="gnoduino">gnoduino</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gnoduino/">gnoduino</a></span><sup><small>AUR</small></sup> is an implementation of original Arduino IDE for GNOME available in the <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>. The original Arduino IDE software is written in Java. This is a Python implementation and it is targeted at GNOME but will work on xfce4 and other WM. Its purpose is to be light, while maintaining compatibility with the original Arduino IDE. The source editor is based on gtksourceview.
</p>
<p>If you prefer working from terminal, below there are some other options to choose from.
</p>
<h3><span class="mw-headline" id="Arduino-CMake">Arduino-CMake</span></h3>
<p>Using <a rel="nofollow" class="external text" href="https://github.com/a9183756-gh/Arduino-CMake-Toolchain">Arduino-CMake-Toolchain</a> and <a rel="nofollow" class="external text" href="http://www.cmake.org/cmake/resources/software.html">CMake</a> you can build Arduino firmware from the command line using multiple build systems. CMake lets you generate the build system that fits your needs, using the tools you like. It can generate any type of build system, from simple Makefiles, to complete projects for Eclipse, Visual Studio, XCode, etc.
</p>
<p>Requirements: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cmake">cmake</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=arduino">arduino</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=avr-gcc">avr-gcc</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=avr-binutils">avr-binutils</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=avr-libc">avr-libc</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=avrdude">avrdude</a></span>.
</p>
<h3><span class="mw-headline" id="Ino">Ino</span></h3>
<p><a rel="nofollow" class="external text" href="https://github.com/amperka/ino">Ino</a> is a command line toolkit for working with arduino hardware. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ino/">ino</a></span><sup><small>AUR</small></sup> is available in the <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>.
</p>
<h3><span class="mw-headline" id="Makefile">Makefile</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Update 2015-03-23. Due to recent changes in Arduino ≥v1.5, many old Makefiles do not work without some modification. A simple Makefile for Arduino version 1.5+ can be found <a rel="nofollow" class="external text" href="https://github.com/tomswartz07/arduino-makefile">on GitHub</a>.</div>
<p>Instead of using the Arduino IDE it is possible to use another editor and a Makefile.
</p>
<p>Set up a directory to program your Arduino and copy the Makefile into this directory. A copy of the Makefile can be obtained from <code>/usr/share/arduino/hardware/cores/arduino/Makefile</code>
</p>
<p>You will have to modify this a little bit to reflect your settings. The makefile should be pretty self explanatory. Here are some lines you may have to edit.
</p>
<pre>PORT = usually /dev/ttyUSBx, where x is the usb serial port your arduino is plugged into
TARGET = your sketch's name
ARDUINO = /usr/share/arduino/lib/targets/arduino
</pre>
<p>Depending on which library functions you call in your sketch, you may need to compile parts of the library. To do that you need to edit your SRC and CXXSRC to include the required libraries.
</p>
<p>Now you should be able to <code>make &amp;&amp; make upload</code> to your board to execute your sketch.
</p>
<h3><span class="mw-headline" id="Arduino-mk">Arduino-mk</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/arduino-mk/">arduino-mk</a></span><sup><small>AUR</small></sup> is another alternative Makefile approach. It allows users to have a local Makefile that includes Arduino.mk. See <a rel="nofollow" class="external text" href="https://github.com/sudar/Arduino-Makefile">project page</a> for usage.
</p>
<p>For Arduino 1.5, try the following local Makefile (because Arduino 1.5's library directory structure is slightly different):
</p>
<pre>ARDUINO_DIR = /usr/share/arduino
ARDMK_DIR = /usr/share/arduino
AVR_TOOLS_DIR = /usr
AVRDUDE_CONF = /etc/avrdude.conf
ARDUINO_CORE_PATH = /usr/share/arduino/hardware/archlinux-arduino/avr/cores/arduino
ARDUINO_PLATFORM_LIB_PATH = /usr/share/arduino/hardware/archlinux-arduino/avr/libraries
BOARDS_TXT = /usr/share/arduino/hardware/archlinux-arduino/avr/boards.txt
ARDUINO_VAR_PATH = /usr/share/arduino/hardware/archlinux-arduino/avr/variants
BOOTLOADER_PARENT = /usr/share/arduino/hardware/archlinux-arduino/avr/bootloaders


BOARD_TAG    = uno
ARDUINO_LIBS =

include /usr/share/arduino/Arduino.mk
</pre>
<p>In some cases you could need to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=avr-libc">avr-libc</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=avrdude">avrdude</a></span>.
</p>
<h3><span class="mw-headline" id="Scons">Scons</span></h3>
<p>Using <a rel="nofollow" class="external text" href="http://www.scons.org/">scons</a> together with <a rel="nofollow" class="external text" href="https://github.com/suapapa/arscons">arscons</a> it is very easy to use to compile and upload Arduino projects from the command line. Scons is based on python and you will need python-pyserial to use the serial interface. Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=python-pyserial">python-pyserial</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=scons">scons</a></span>.
</p>
<p>That will get the dependencies you need too. You will also need Arduino itself so install it as described above. Create project directory (eg. test), then create a arduino project file in your new directory. Use the same name as the directory and add .ino (eg. test.ino). Get the <a rel="nofollow" class="external text" href="https://github.com/suapapa/arscons/blob/master/SConstruct">SConstruct</a> script from arscons and put it in your directory. Have a peek in it and, if necessary, edit it. It is a python script. Edit your project as you please, then run
</p>
<pre>$ scons                # This will build the project
$ scons upload         # This will upload the project to your Arduino
</pre>
<h3><span class="mw-headline" id="PlatformIO">PlatformIO</span></h3>
<p><a rel="nofollow" class="external text" href="https://docs.platformio.org/en/latest/core/quickstart.html">PlatformIO</a> is a <a href="../en/Python.html" title="Python">python</a> tool to build and upload sketches for multiple Hardware Platforms, at the moment of writing these are Arduino/AVR based boards, TI MSP430 and TI TM4C12x Boards. In the near future the author plans to add a library function that allows to search and include libraries directly from GitHub.
</p>
<h4><span class="mw-headline" id="Installation_2">Installation</span></h4>
<p>Install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/platformio/">platformio</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/platformio-git/">platformio-git</a></span><sup><small>AUR</small></sup> package.
</p>
<h4><span class="mw-headline" id="Usage">Usage</span></h4>
<pre>$ platformio platform install atmelavr
$ platformio init
$ vim platformio.ini
</pre>
<pre>#
# Atmel AVR based board + Arduino Wiring Framework
#
[env:ArduinoMega2560]
platform = atmelavr
framework = arduino
board = megaatmega2560   
upload_port = /dev/ttyACM0 
targets = upload
</pre>
<pre>$ platformio run
</pre>
<h3><span class="mw-headline" id="Emacs">Emacs</span></h3>
<p>It is possible to configure <a href="../en/Emacs.html" title="Emacs">Emacs</a> as IDE.
</p>
<p>Install the package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/emacs-arduino-mode-git/">emacs-arduino-mode-git</a></span><sup><small>AUR</small></sup> from the <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a> in order to enable the <code>arduino-mode</code> in emacs.
</p>
<p>Add to the init script:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.emacs</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">;; arduino-mode
(require 'cl)
(autoload 'arduino-mode "arduino-mode" "Arduino editing mode." t)
(add-to-list 'auto-mode-alist '("\.ino$" . arduino-mode))</pre>
<p>You can compile and upload the sketches using <code>Arduino-mk</code> (see above) with <code>M-x compile</code> <code>make upload</code>.
</p>
<p>Main resource: <a rel="nofollow" class="external text" href="http://www.emacswiki.org/emacs/ArduinoSupport">here</a>.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Version_1.6">Version 1.6</span></h3>
<p>Some older 3rd party tools may only work with Arduino 1.0 (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/arduino10/">arduino10</a></span><sup><small>AUR</small></sup>). Some of the tools may partially work for Arduino version 1.6 (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=arduino">arduino</a></span>) and after. Check the version if the tools do not work. Note that some newer boards do not work with the old Arduino IDE.
</p>
<h3><span class="mw-headline" id="Consistent_naming_of_Arduino_devices">Consistent naming of Arduino devices</span></h3>
<p>If you have more than one arduino you may have noticed that they names /dev/ttyUSB[0-9] are assigned in the order of connection. In the IDE this is not so much of a problem, but when you have programmed your own software to communicate with an arduino project in the background this can be annoying. Use the following udev rules to assign static symlinks to your arduino's:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/52-arduino.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEMS=="usb", KERNEL=="ttyUSB[0-9]*", ATTRS{idVendor}=="0403", ATTRS{idProduct}=="6001", SYMLINK+="sensors/ftdi_%s{serial}"
</pre>
<p>Your arduino's will be available under names like "/dev/sensors/ftdi_A700dzaF". If you want you can also assign more meaningfull names to several devices like this:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/52-arduino.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEMS=="usb", KERNEL=="ttyUSB[0-9]*", ATTRS{idVendor}=="0403", ATTRS{idProduct}=="6001", ATTRS{serial}=="A700dzaF", SYMLINK+="arduino/nano"
</pre>
<p>which will create a symlink in /dev/arduino/nano to the device with the specified serialnumber.
You do need to unplug and replug your arduino for this to take effect or run
</p>
<pre>udevadm trigger
</pre>
<p>Common <code>idVendor</code>/<code>idProduct</code> pairs can be found in <code>/usr/share/arduino/hardware/archlinux-arduino/avr/boards.txt</code> in the distribution package. Note that some of them (notably <a href="https://en.wikipedia.org/wiki/FTDI" class="extiw" title="wikipedia:FTDI">FTDI</a> ones) are not unique to the Arduino platform. Using <code>serial</code> attribute is a good way to distinguish between various devices.
</p>
<h3><span class="mw-headline" id="Error_opening_serial_port">Error opening serial port</span></h3>
<p>You may see the serial port initially when the IDE starts, but the TX/RX leds do nothing when uploading. You may have previously changed the baudrate in the serial monitor to something it does not like. Edit ~/.arduino/preferences.txt so that serial.debug_rate is a different speed, like 115200.
</p>
<h3>
<span id="Working_with_Uno.2FMega2560"></span><span class="mw-headline" id="Working_with_Uno/Mega2560">Working with Uno/Mega2560</span>
</h3>
<p>The Arduino Uno and Mega2560 have an onboard USB interface (an Atmel 8U2) that accepts serial data, so they are accessed through /dev/ttyACM0 created by the cdc-acm kernel module when it is plugged in.
</p>
<p>The 8U2 firmware may need an update to ease serial communications. See <a rel="nofollow" class="external autonumber" href="http://www.arduino.cc/cgi-bin/yabb2/YaBB.pl?num=1286350399">[1]</a> for more details and reply #11 for a fix. The original arduino bbs, where you can find an image explaining how to get your Uno into DFU, is now in a read-only state. If you do not have an account to view the image, see <a rel="nofollow" class="external autonumber" href="http://www.scribd.com/doc/45913857/Arduino-UNO">[2]</a>.
</p>
<p>You can perform a general function test of the Uno by putting it in loopback mode and typing characters into the arduino serial monitor at 115200 baud. It should echo the characters back to you. To put it in loopback, short pins 0 -&gt; 1 on the digital side and either hold the reset button or short the GND -&gt; RESET pins while you type.
</p>
<h3><span class="mw-headline" id="Not_recognizing_USB_port_with_Mega2560_cheap_Chinese_clones">Not recognizing USB port with Mega2560 cheap Chinese clones</span></h3>
<p>Try installing its driver: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/i2c-ch341-dkms/">i2c-ch341-dkms</a></span><sup><small>AUR</small></sup>.
</p>
<h3>
<span id="Application_not_resizing_with_WM.2C_menus_immediately_closing"></span><span class="mw-headline" id="Application_not_resizing_with_WM,_menus_immediately_closing">Application not resizing with WM, menus immediately closing</span>
</h3>
<p>see <a href="../en/Java.html#Gray_window,_applications_not_resizing_with_WM,_menus_immediately_closing" title="Java">Java#Gray window, applications not resizing with WM, menus immediately closing</a>
</p>
<h3><span class="mw-headline" id="Fails_to_upload:_programmer_is_not_responding">Fails to upload: programmer is not responding</span></h3>
<p>Changing processor setting from <code>ATmega328P</code> to <code>ATmega328P (Old Bootloader)</code> (See Tools-&gt;Processor in Arduino IDE) may help with upload failures.
</p>
<h3><span class="mw-headline" id="Crashing_with_java.lang.NullPointerException_after_a_fresh_install">Crashing with java.lang.NullPointerException after a fresh install</span></h3>
<p>You need to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=arduino-avr-core">arduino-avr-core</a></span>.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.arduino.cc/">Official website</a></li>
<li><a rel="nofollow" class="external free" href="http://answers.ros.org/question/9097/how-can-i-get-a-unique-device-path-for-my-arduinoftdi-device/">http://answers.ros.org/question/9097/how-can-i-get-a-unique-device-path-for-my-arduinoftdi-device/</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Development.html" title="Category:Development">Development</a></li>
<li><a href="../en/Category:Science.html" title="Category:Science">Science</a></li>
</ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Arduino&amp;oldid=646421">https://wiki.archlinux.org/index.php?title=Arduino&amp;oldid=646421</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 23 December 2020, at 16:09.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
