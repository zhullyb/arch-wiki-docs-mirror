<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>SlimDNS - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-SlimDNS rootpage-SlimDNS skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">SlimDNS</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/PowerDNS.html" title="PowerDNS">PowerDNS</a></li>
<li><a href="../en/PostgreSQL.html" title="PostgreSQL">PostgreSQL</a></li>
</ul>
</div>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Many <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> issues (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:SlimDNS">Talk:SlimDNS#</a>)</div>
</div>
<p><a rel="nofollow" class="external text" href="https://github.com/Torxed/slimDNS">slimDNS</a> is a simple DNS server. It's purpose is to be a self-contained, slim and uncomplicated executable.
</p>
<p>It relies on <a href="../en/PostgreSQL.html" title="PostgreSQL">PostgreSQL</a> for its zone and record information.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Manual_setup_(optional)"><span class="tocnumber">2</span> <span class="toctext">Manual setup <i>(optional)</i></span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Running"><span class="tocnumber">3</span> <span class="toctext">Running</span></a></li>
<li class="toclevel-1 tocsection-4">
<a href="#Configuration"><span class="tocnumber">4</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Adding_a_domain_(optional)"><span class="tocnumber">4.1</span> <span class="toctext">Adding a domain <i>(optional)</i></span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Adding_a_%60A%60_record"><span class="tocnumber">4.2</span> <span class="toctext">Adding a `A` record</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Adding_a_MX_record_/_complex_records"><span class="tocnumber">4.3</span> <span class="toctext">Adding a MX record / complex records</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Handy_information"><span class="tocnumber">5</span> <span class="toctext">Handy information</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/slimDNS-git/">slimDNS-git</a></span><sup><small>AUR</small></sup> or clone <a rel="nofollow" class="external text" href="https://github.com/Torxed/slimDNS.git">github.com/Torxed/slimDNS</a> and follow the manual setup instructions.
</p>
<h2>
<span id="Manual_setup_.28optional.29"></span><span class="mw-headline" id="Manual_setup_(optional)">Manual setup <i>(optional)</i></span>
</h2>
<p>Create a user/role called "slimdns"
</p>
<pre>[postgres@machine~] createuser --interactive
[postgres@machine~] psql
&gt; CREATE DATABASE slimdns OWNER slimdns;
&gt; ALTER USER slimdns WITH PASSWORD '&lt;some secure random string&gt;';
</pre>
<h2><span class="mw-headline" id="Running">Running</span></h2>
<p><a href="../en/Systemd.html#Using_units" class="mw-redirect" title="Start">start</a> and <a href="../en/Systemd.html#Using_units" class="mw-redirect" title="Enable">enable</a> <code>slimDNS.service</code>.
</p>
<p>Or if preferred, running it manually:
</p>
<pre># python slimdns.py
</pre>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>Configuration is stored under <code>/etc/slimDNS/config.py</code>, any changes to the config requires a restart.
</p>
<p>SlimDNS comes with a tool to modify the database, it's called `dnstools` (subject to name change).
The tool takes a series of parameters in order and can create domains (zones) and records.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Creating a domain, will not set up SOA or NS records by default. However, creating a record will automatically set up a SOA and NS record if the specified domain is not found.</div>
<h3>
<span id="Adding_a_domain_.28optional.29"></span><span class="mw-headline" id="Adding_a_domain_(optional)">Adding a domain <i>(optional)</i></span>
</h3>
<pre># python dnstool.py example.com
</pre>
<h3>
<span id="Adding_a_.60A.60_record"></span><span class="mw-headline" id="Adding_a_`A`_record">Adding a `A` record</span>
</h3>
<pre># python dnstool.py example.com 46.21.102.81
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Again, if the domain `example.com` did not exist, a domain entry would be inserted and appropriate SOA and NS records will be inserted as well for this new domain.</div>
<p>You can also add the same record, but define the record type:
</p>
<pre># python dnstool.py example.com 46.21.102.81 A
</pre>
<h3>
<span id="Adding_a_MX_record_.2F_complex_records"></span><span class="mw-headline" id="Adding_a_MX_record_/_complex_records">Adding a MX record / complex records</span>
</h3>
<p>Some records have more complex structure, for instance the SRV, MX or TXT records.
In order to be generic in handling these records, enclose the content of the record and add all the necessary data needed for the desired record type.
</p>
<pre># python dnstool.py example.com "46.21.102.81 10" MX
</pre>
<p>This would create a MX record, with a priority or preference of 10.
</p>
<h2><span class="mw-headline" id="Handy_information">Handy information</span></h2>
<ul>
<li>Updates run time cache every 30 seconds.</li>
<li>Does support a forwarding DNS server, however, testing on this is limited</li>
<li>Upon each start, slimdns will attempt to create the database 'slimdns' if not found, but will need this optional permissions to work.</li>
<li>Might crash for no aparent reason :D</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Domain_Name_System.html" title="Category:Domain Name System">Domain Name System</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=SlimDNS&amp;oldid=625508">https://wiki.archlinux.org/index.php?title=SlimDNS&amp;oldid=625508</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 16 July 2020, at 11:42.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
