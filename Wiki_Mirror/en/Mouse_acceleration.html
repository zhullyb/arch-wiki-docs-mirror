<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Mouse acceleration - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Mouse_acceleration rootpage-Mouse_acceleration skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Mouse acceleration</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/Mouse_buttons.html" title="Mouse buttons">Mouse buttons</a></li>
<li><a href="../en/Mouse_polling_rate.html" title="Mouse polling rate">Mouse polling rate</a></li>
</ul>
</div>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Configuration depends on the input driver, libinput can be used in <a href="../en/Xorg.html" title="Xorg">Xorg</a>. Each subsection should explicitly state which driver is assumed. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Mouse_acceleration">Talk:Mouse acceleration#</a>)</div>
</div>
<p>Setting the mouse acceleration depends on the windowing protocol you are using: either <a href="../en/Xorg.html" title="Xorg">Xorg</a> or <a href="../en/Wayland.html" title="Wayland">Wayland</a>. 
</p>
<ul><li>On <a href="../en/Xorg.html" title="Xorg">Xorg</a>, there are several ways of setting mouse acceleration</li></ul>
<dl><dd><ul>
<li>by editing Xorg configuration files</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xset">xorg-xset</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xinput">xorg-xinput</a></span> which provide <i>xset</i> and <i>xinput</i> respectively</li>
<li>and configuration interfaces common in <a href="../en/Desktop_environment.html" class="mw-redirect" title="Desktop environments">desktop environments</a>.</li>
</ul></dd></dl>
<ul>
<li>If you are using <a href="../en/Wayland.html" title="Wayland">Wayland</a>, the events are controlled via <a href="../en/Libinput.html" title="Libinput">libinput</a>. It is the compositor's job to expose the settings brought by libinput. There is currently no standard way to change settings across compositors.<a rel="nofollow" class="external autonumber" href="https://www.reddit.com/r/gnome/comments/3upay2/wayland_where_are_the_mouse_acceleration_options/">[1]</a>
</li>
<li>
<a href="../en/GNOME.html" title="GNOME">GNOME</a> manages mouse acceleration by itself. A choice between "adaptive" and "flat" profiles can be chosen by installing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dconf-editor">dconf-editor</a></span> and editing the value in org/gnome/desktop/peripherals/mouse/acceleration-profile. Alternatively, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-tweaks">gnome-tweaks</a></span> can also be used to edit the org/gnome/desktop/peripherals/mouse/acceleration-profile.</li>
</ul>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Mouse_acceleration_with_libinput"><span class="tocnumber">1</span> <span class="toctext">Mouse acceleration with libinput</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Changing_the_acceleration"><span class="tocnumber">1.1</span> <span class="toctext">Changing the acceleration</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Persistent_configuration"><span class="tocnumber">1.2</span> <span class="toctext">Persistent configuration</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4">
<a href="#Setting_mouse_acceleration"><span class="tocnumber">2</span> <span class="toctext">Setting mouse acceleration</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#In_Xorg_configuration"><span class="tocnumber">2.1</span> <span class="toctext">In Xorg configuration</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Using_xset"><span class="tocnumber">2.2</span> <span class="toctext">Using xset</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Using_xinput"><span class="tocnumber">2.3</span> <span class="toctext">Using xinput</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Configuration_example"><span class="tocnumber">2.4</span> <span class="toctext">Configuration example</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#Disabling_mouse_acceleration"><span class="tocnumber">3</span> <span class="toctext">Disabling mouse acceleration</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#with_libinput"><span class="tocnumber">3.1</span> <span class="toctext">with libinput</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Mouse_acceleration_with_libinput">Mouse acceleration with libinput</span></h2>
<p>When using the adaptive pointer acceleration profile, <a href="../en/Libinput.html" title="Libinput">libinput</a> calculates the mouse acceleration depending on the DPI and the parameter <code>Acceleration Speed</code> <a rel="nofollow" class="external autonumber" href="https://wayland.freedesktop.org/libinput/doc/latest/pointer-acceleration.html">[2]</a>. libinput relies on the resolution reported by <a href="../en/Xorg.html" class="mw-redirect" title="Evdev">evdev</a> <a rel="nofollow" class="external autonumber" href="https://wayland.freedesktop.org/libinput/doc/latest/motion_normalization.html">[3]</a>. Feedback settings set with <code>xset m</code> are effectively ignored. When using the flat pointer acceleration profile, the acceleration factor is constant regardless of the velocity of the pointer. This provides 1:1 movement between the device and the pointer on-screen.
</p>
<h3><span class="mw-headline" id="Changing_the_acceleration">Changing the acceleration</span></h3>
<p>Find the id of your device with <code>xinput list</code> and set the acceleration speed with the following command. Note that the acceleration speed has to be in the range of [-1,1]. Check <a rel="nofollow" class="external text" href="https://wayland.freedesktop.org/libinput/doc/latest/pointer-acceleration.html#ptraccel-linear">this plot</a> to see the impact of different acceleration speed values.
</p>
<pre>$ xinput --set-prop &lt;device id&gt; 'libinput Accel Speed' &lt;acceleration factor&gt;
</pre>
<p>Confirm your changes with the following:
</p>
<pre>$ xinput --list-props &lt;device id&gt;
</pre>
<h3><span class="mw-headline" id="Persistent_configuration">Persistent configuration</span></h3>
<p>libinput does not store configuration options, it is up to the caller to manage these. Under Wayland configuration is restored by the desktop environment. Under X <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-libinput">xf86-input-libinput</a></span> reads the xorg config files and applies the options <a rel="nofollow" class="external autonumber" href="https://wayland.freedesktop.org/libinput/doc/latest/faqs.html#how-do-i-configure-my-device-on-x">[4]</a>. To make changes persistent under X create a file like this:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/99-libinput-custom-config.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "InputClass"
  Identifier "&lt;something to identify this snippet&gt;"
  MatchDriver "libinput"
  MatchProduct "&lt;substring of the device name&gt;"
  Option "AccelSpeed" "&lt;e.g. 0.3&gt;"
EndSection
</pre>
<p>For further options see <span class="plainlinks archwiki-template-man" title="$ man 4 libinput"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/libinput.4">libinput(4)</a></span>.
</p>
<h2><span class="mw-headline" id="Setting_mouse_acceleration">Setting mouse acceleration</span></h2>
<h3><span class="mw-headline" id="In_Xorg_configuration">In Xorg configuration</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Don't use comments in code blocks, provide more description in the wiki text instead. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Mouse_acceleration">Talk:Mouse acceleration#</a>)</div>
</div>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 5 xorg.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/xorg.conf.5">xorg.conf(5)</a></span> for details.
</p>
<p>Examples:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/50-mouse-acceleration.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "InputClass"
	Identifier "My Mouse"
	MatchIsPointer "yes"
# set the following to 1 1 0 respectively to disable acceleration.
	Option "AccelerationNumerator" "2"
	Option "AccelerationDenominator" "1"
	Option "AccelerationThreshold" "4"
EndSection</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/50-mouse-deceleration.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "InputClass"
	Identifier "My Mouse"
	MatchIsPointer "yes"
# some curved deceleration
#	Option "AdaptiveDeceleration" "2"
# linear deceleration (mouse speed reduction)
	Option "ConstantDeceleration" "2"
EndSection</pre>
<p>You can also assign settings to specific hardware by using "MatchProduct", "MatchVendor" and other matches inside class sections. Run <code>lsusb</code> to find out the product name and vendor to match:
</p>
<pre>$ lsusb -v | grep -e idProduct -e idVendor
</pre>
<p>If you are unable to identify your device, try running <code>xinput list</code>. Some devices the use Logitech Unifying Recceiver share the same USB connection therefore, the mouse don't appear using <code>lsusb</code>
</p>
<h3><span class="mw-headline" id="Using_xset">Using xset</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> xset does not use libinput.</div>
<p>To get the current values, use:
</p>
<pre>$ xset q | grep -A 1 Pointer
</pre>
<p>To set new values, type:
</p>
<pre>$ xset m <i>acceleration</i> <i>threshold</i>
</pre>
<p>where <i>acceleration</i> defines how many times faster the cursor will move than the default speed. <i>threshold</i> is the velocity required for acceleration to become effective, usually measured in device units per 10ms. <i>acceleration</i> can be a fraction, so if you want to slow down the mouse you can use 1/2, 1/3, 1/4, ... if you want to make it faster you can use 2/1, 3/1, 4/1, ... 
</p>
<p><i>Threshold</i> defines the point at which acceleration should occur in pixels per 10 ms. If threshold is zero, e.g. if you use: 
</p>
<pre>$ xset m 3/2 0
</pre>
<p>as suggested in the man page, then acceleration is treated as "the exponent of a more natural and continuous formula."
</p>
<p>To get the default settings back:
</p>
<pre>$ xset m default
</pre>
<p>For more info see <span class="plainlinks archwiki-template-man" title="$ man 1 xset"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/xset.1">xset(1)</a></span>.
</p>
<p>Commands may be stored in <a href="../en/Xinit.html#xinitrc" class="mw-redirect" title="Xinitrc">Xinitrc</a> or <a href="../en/Xprofile.html" title="Xprofile">Xprofile</a>. Alternatively, create a <a href="../en/Desktop_entries.html" class="mw-redirect" title="Desktop entry">Desktop entry</a> in <code>.config/autostart</code>:
</p>
<pre>[Desktop Entry]
Name=Disable mouse acceleration
Exec=xset m 0 0
Type=Application
</pre>
<p>This technique may be more desirable than employing the xorg configuration technique described above; latter may interfere with setting mouse speed in a display manager.
</p>
<h3><span class="mw-headline" id="Using_xinput">Using xinput</span></h3>
<p>First, get a list of devices plugged in (ignore any virtual pointers):
</p>
<pre>$ xinput list
</pre>
<p>Take note of the ID. You may also use the full name in commands if the ID is prone to changing.
</p>
<p>Get a list of available properties and their current values available for modification with
</p>
<pre>$ xinput list-props 9
</pre>
<p>where <code>9</code> is the ID of the device you wish to use. Or
</p>
<pre>$ xinput list-props <i>mouse brand</i>
</pre>
<p>where <i>mouse brand</i> is the name of your mouse given by <code>$ xinput list</code>
</p>
<p>Example, changing the property of <code>Constant Deceleration</code> to 2:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ xinput list-props 9</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Device '<i>mouse brand</i>':
       Device Enabled (121):   1
       Device Accel Profile (240):     0
       Device Accel Constant Deceleration (241):       1.000000
       Device Accel Adaptive Deceleration (243):       1.000000
       Device Accel Velocity Scaling (244):    10.000000
</pre>
<pre>$ xinput --set-prop '<i>mouse brand</i>' 'Device Accel Constant Deceleration' 2
</pre>
<p>To make it permanent, edit xorg configuration (see above) or add commands to <a href="../en/Xprofile.html" title="Xprofile">xprofile</a>. The latter won't affect speed in a <a href="../en/Display_manager.html" title="Display manager">Display manager</a>.
</p>
<h3><span class="mw-headline" id="Configuration_example">Configuration example</span></h3>
<p>You may need to resort to using more than one method to achieve your desired mouse settings. Here's what I did to configure a generic optical mouse:
First, slow down the default movement speed 3 times so that it's more precise.
</p>
<pre>$ xinput --set-prop 9 'Device Accel Constant Deceleration' 3 &amp;
</pre>
<p>Then, enable acceleration and make it 3 times faster after moving past 6 units.
</p>
<pre>$ xset mouse 3 6 &amp;
</pre>
<p>If you are satisfied of the results, store the preceding commands in <code>~/.xinitrc</code>.
</p>
<h2><span class="mw-headline" id="Disabling_mouse_acceleration">Disabling mouse acceleration</span></h2>
<p>Mouse acceleration has changed dramatically in recent X server versions; using <code>xset</code> to disable acceleration doesn't work as it used to and is not recommended anymore. Recent changes on <code>PointerAcceleration</code> can be read <a rel="nofollow" class="external text" href="https://xorg.freedesktop.org/wiki/Development/Documentation/PointerAcceleration#Introduction">here</a>.
</p>
<p>Disabling the mouse acceleration means that a linear function will be used to map from physical to virtual mouse movements. The mouse speed setting controls the inclination of this linear function.
</p>
<p>To completely disable any sort of acceleration/deceleration, create the following file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/50-mouse-acceleration.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "InputClass"
	Identifier "My Mouse"
	MatchIsPointer "yes"
	Option "AccelerationProfile" "-1"
	Option "AccelerationScheme" "none"
	Option "AccelSpeed" "-1"
EndSection</pre>
<p>and restart X.
</p>
<h3><span class="mw-headline" id="with_libinput">with libinput</span></h3>
<p>Alternatively, since <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libinput">libinput</a></span>-1.1.0-1 and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-libinput">xf86-input-libinput</a></span>-0.15.0-1 you can use a flat acceleration profile. To enable it create the following file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/50-mouse-acceleration.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "InputClass"
	Identifier "My Mouse"
	Driver "libinput"
	MatchIsPointer "yes"
	Option "AccelProfile" "flat"
	Option "AccelSpeed" "0"
EndSection</pre>
<p>and restart X. Notice that under certain conditions (for example if you have a different <code>Pointer Speed</code> value for your mouse in Plasma 5.13) your desktop environment may try to override some of these values even if you have this X configuration file. 
</p>
<p><br>
Another option is this command:
</p>
<pre>$ xinput --set-prop &lt;device id&gt; 'libinput Accel Profile Enabled' 0, 1
</pre>
<p>Which doesn't need an X restart, but isn't persistent. Although it can be set up to run automatically with <a href="../en/Autostarting.html" title="Autostarting">Autostarting</a>.
</p>
<p>To confirm that acceleration has been disabled, enter the following:
</p>
<pre>$ xinput list-props {1..50} 2&gt;/dev/null | fgrep 'libinput Accel Profile Enabled ('
</pre>
<p>The profile should read <code>0, 1</code>.
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Mice.html" title="Category:Mice">Mice</a></li>
<li><a href="../en/Category:X_server.html" title="Category:X server">X server</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Mouse_acceleration&amp;oldid=629304">https://wiki.archlinux.org/index.php?title=Mouse_acceleration&amp;oldid=629304</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 4 August 2020, at 13:59.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
