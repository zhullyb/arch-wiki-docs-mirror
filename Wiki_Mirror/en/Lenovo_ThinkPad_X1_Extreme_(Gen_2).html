<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Lenovo ThinkPad X1 Extreme (Gen 2) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Lenovo_ThinkPad_X1_Extreme_Gen_2 rootpage-Lenovo_ThinkPad_X1_Extreme_Gen_2 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Lenovo ThinkPad X1 Extreme (Gen 2)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section does not follow the <a href="../en/Help:Laptop_page_guidelines.html" title="Help:Laptop page guidelines">Laptop page guidelines</a>.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Needs IDs in hardware table and a function keys section (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Lenovo_ThinkPad_X1_Extreme_(Gen_2)">Talk:Lenovo ThinkPad X1 Extreme (Gen 2)#</a>)</div>
</div>
<table class="wikitable" style="float: right;">

<tbody>
<tr>
<th>Hardware</th>
<th>PCI/USB ID</th>
<th>Working?
</th>
</tr>
<tr>
<td>Touchpad</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Keyboard</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>GPU (Intel)</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>GPU (Nvidia)</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Webcam</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Ethernet</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Bluetooth</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Card reader</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Audio</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Wireless</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Thunderbolt</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Fingerprint reader</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
</tbody>
</table>
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/Laptop/Lenovo.html" title="Laptop/Lenovo">Laptop/Lenovo</a></li>
<li><a href="../en/Lenovo_ThinkPad_X1_Extreme.html" title="Lenovo ThinkPad X1 Extreme">Lenovo ThinkPad X1 Extreme</a></li>
<li><a href="../en/Lenovo_ThinkPad_X1_Extreme_(Gen_3).html" title="Lenovo ThinkPad X1 Extreme (Gen 3)">Lenovo ThinkPad X1 Extreme (Gen 3)</a></li>
</ul>
</div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Thunderbolt"><span class="tocnumber">1</span> <span class="toctext">Thunderbolt</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Power_management"><span class="tocnumber">2</span> <span class="toctext">Power management</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Video"><span class="tocnumber">3</span> <span class="toctext">Video</span></a></li>
<li class="toclevel-1 tocsection-4">
<a href="#Brightness_control"><span class="tocnumber">4</span> <span class="toctext">Brightness control</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#OLED_Display"><span class="tocnumber">4.1</span> <span class="toctext">OLED Display</span></a></li>
<li class="toclevel-2 tocsection-6">
<a href="#LCD_Display"><span class="tocnumber">4.2</span> <span class="toctext">LCD Display</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#Hybrid_Graphics"><span class="tocnumber">4.2.1</span> <span class="toctext">Hybrid Graphics</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Discrete_Graphics"><span class="tocnumber">4.2.2</span> <span class="toctext">Discrete Graphics</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Keyboard"><span class="tocnumber">5</span> <span class="toctext">Keyboard</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Touchpad"><span class="tocnumber">6</span> <span class="toctext">Touchpad</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Wireless"><span class="tocnumber">7</span> <span class="toctext">Wireless</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#Ethernet"><span class="tocnumber">8</span> <span class="toctext">Ethernet</span></a></li>
<li class="toclevel-1 tocsection-13">
<a href="#Firmware"><span class="tocnumber">9</span> <span class="toctext">Firmware</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#Check_BIOS_version"><span class="tocnumber">9.1</span> <span class="toctext">Check BIOS version</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Disabling_Absolute_Persistence"><span class="tocnumber">9.2</span> <span class="toctext">Disabling Absolute Persistence</span></a></li>
<li class="toclevel-2 tocsection-16">
<a href="#Flashing_BIOS"><span class="tocnumber">9.3</span> <span class="toctext">Flashing BIOS</span></a>
<ul>
<li class="toclevel-3 tocsection-17"><a href="#Updating"><span class="tocnumber">9.3.1</span> <span class="toctext">Updating</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#Reverting_to_previous_versions"><span class="tocnumber">9.3.2</span> <span class="toctext">Reverting to previous versions</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Thunderbolt">Thunderbolt</span></h2>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Ensure you are on the latest BIOS firmware as doing the following steps on older BIOSes may brick your device</div>
<p>To use Thunderbolt 3, go into BIOS and enable BIOS Assist mode (Thunderbolt 3 -&gt; Enable BIOS assist mode)
</p>
<h2><span class="mw-headline" id="Power_management">Power management</span></h2>
<p>As of writing, <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1859876">a bug exists</a> where the battery data can appear corrupt, wildly incorrect, or seem to change drastically from boot to boot. To workaround this bug you should add battery to the  <code>/etc/mkinitcpio.conf</code>.
</p>
<pre>MODULES=(<b>battery</b>)
</pre>
<p>Remember to <a href="../en/Mkinitcpio.html#Image_creation_and_activation" class="mw-redirect" title="Regenerate the initramfs">regenerate the initramfs</a> for these changes to take effect.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> You can also build the battery module into your kernel.</div>
<h2><span class="mw-headline" id="Video">Video</span></h2>
<p>As of Linux 5.2.9, the Nouveau driver can cause quite a lot of kernel panics when using the webcamera.
</p>
<h2><span class="mw-headline" id="Brightness_control">Brightness control</span></h2>
<h3><span class="mw-headline" id="OLED_Display">OLED Display</span></h3>
<p>OLED screens have no backlight, brightness cannot be controlled by changing backlight power in the traditional way. Instead, it can be controlled using PWM by enabling following option:
</p>
<pre>echo "options i915 enable_dpcd_backlight=1" &gt;&gt; /etc/modprobe.d/i915.conf
</pre>
<p>Alternatively, you can add a kernel parameter. For example, if you are using GRUB, edit /etc/default/grub with 
</p>
<pre>GRUB_CMDLINE_LINUX_DEFAULT="i915.enable_dpcd_backlight=1"
</pre>
<p>Do not forget to <a href="../en/GRUB.html#Generate_the_main_configuration_file" title="GRUB">update the grub configuration</a> to apply the changes.
</p>
<p>Brightness control is not yet supported by standard tools. You can try this one <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/oled-backlight/">oled-backlight</a></span><sup><small>AUR</small></sup>
</p>
<h3><span class="mw-headline" id="LCD_Display">LCD Display</span></h3>
<h4><span class="mw-headline" id="Hybrid_Graphics">Hybrid Graphics</span></h4>
<p>Hybrid Graphics (also known as <a href="../en/NVIDIA_Optimus.html" title="NVIDIA Optimus">Nvidia Optimus</a>) Allows the system to use the integrated Intel graphics and the Nvidia GPU interchangeably without rebooting.
</p>
<p>Brightness control under Hybrid Graphics should work "out of the box" with no kernel command line options necessary. If you notice brightness controls cease working, check that your BIOS settings are still for "Hybrid Graphics" and not "Discrete Graphics".
</p>
<h4><span class="mw-headline" id="Discrete_Graphics">Discrete Graphics</span></h4>
<p>Discrete graphics means only the Nvidia GPU is available to the system.
</p>
<p>Currently brightness control does not work with "Discrete Graphics" selected in BIOS.
</p>
<h2><span class="mw-headline" id="Keyboard">Keyboard</span></h2>
<p>There is an issue with keystrokes being skipped at times (<a rel="nofollow" class="external text" href="https://forums.lenovo.com/t5/ThinkPad-X-Series-Laptops/X1-Extreme-Gen-2-missing-keystrokes/td-p/4569936?page=72">see the Lenovo forums</a>). This is resolved with system firmware version 1.30. See <a href="#Firmware">Firmware</a> to check your current version and upgrade.
</p>
<h2><span class="mw-headline" id="Touchpad">Touchpad</span></h2>
<p>If you are having issues with trackpad functionality not working after a sleep and resume, like non-smooth tracking or tap clicking not registering, you can switch back to the older communication protocol:
</p>
<pre>echo "options psmouse synaptics_intertouch=0" &gt; /etc/modprobe.d/trackpad.conf
</pre>
<p>More details on what this does are here <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=229349">[1]</a>
</p>
<h2><span class="mw-headline" id="Wireless">Wireless</span></h2>
<p>If your WiFi card is occasionally not detected after reboots, this may be related to a known bug that is related to windows fastboot. 
Workarounds are to completely shutdown the machine (no suspend or reboot), on next boot it works for me. 
Alternatives suggested are to first boot into windows, and/or disable windows fastboot in the bios. 
</p>
<p>References:
<a rel="nofollow" class="external autonumber" href="https://bugzilla.kernel.org/show_bug.cgi?id=201319">[2]</a>
<a rel="nofollow" class="external autonumber" href="https://askubuntu.com/questions/1083369/ubuntu-18-04-cannot-recognized-intel-wireless-ac-9260">[3]</a>
<a rel="nofollow" class="external autonumber" href="https://bugzilla.kernel.org/show_bug.cgi?id=205299">[4]</a>
</p>
<h2><span class="mw-headline" id="Ethernet">Ethernet</span></h2>
<p>If you have issues with a gigabit connection being capped at 100 MB/s and you are using the <i>e1000e</i> driver, try adding <i>pcie_aspm=off</i> to the kernel boot parameters.
</p>
<p>Additionally, run the following to get a more slight network performance improvement:
</p>
<pre> ethtool -s &lt;INTERFACE&gt; autoneg on speed 1000 duplex full
</pre>
<p>References:
<a rel="nofollow" class="external autonumber" href="https://serverfault.com/a/219658">[5]</a>
</p>
<h2><span class="mw-headline" id="Firmware">Firmware</span></h2>
<p>BIOS and firmware updates are available via <a href="../en/Fwupd.html" title="Fwupd">fwupd</a>, the Lenovo Vantage application on Windows, or from <a rel="nofollow" class="external text" href="https://pcsupport.lenovo.com/us/en/products/laptops-and-netbooks/thinkpad-x-series-laptops/thinkpad-x1-extreme-gen-2/downloads">Lenovo's website</a>.
</p>
<p>The latest BIOS version is highly recommended. All information on this page should assume the latest BIOS unless explicitly stated otherwise.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> To install Arch Linux you need to disable <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a>. If you cannot do so (e.g. because of <code>error: failed to save storage - write protected</code>), it may help to reset the BIOS to factory defaults (F9) and/or upgrade your BIOS.</div>
<h3><span class="mw-headline" id="Check_BIOS_version">Check BIOS version</span></h3>
<p>From Lenovo's firmware readme, to check the system's installed BIOS version:
</p>
<pre>DETERMINING WHICH VERSION IS INSTALLED

 [Checking on ThinkPad Setup]

  1. Turn on the computer.
  2. While the "To interrupt normal startup, press Enter" message is displayed
     at the lower-left area or lower-center of the screen, press the F1 key.
     The ThinkPad Setup menu will be displayed. If a password prompt appears,
     type the correct password.
  3. Locate the UEFI BIOS Version line.
     "UEFI BIOS version (BIOS ID)" will be shown on the UEFI BIOS Version line.
  4. Turn off the computer.
</pre>
<p>Alternatively, use fwupdmgr from <a href="../en/Fwupd.html" title="Fwupd">fwupd</a> without rebooting:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ fwupdmgr get-devices</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
├─System Firmware:
│     Current version:     0.1.30
...</pre>
<h3><span class="mw-headline" id="Disabling_Absolute_Persistence">Disabling Absolute Persistence</span></h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Switching to and flashing the Non-Absolute Persistence BIOS (Versions ending in P) is permanent and irreversible.</div>
<p>Lenovo offers two BIOS versions with their releases; Absolute Persistence and Non-absolute Persistence. Absolute Home &amp; Office (originally known as CompuTrace, and LoJack for Laptops) is a proprietary laptop theft recovery software (laptop tracking software) with features including the abilities to remotely lock, delete files from, and locate the stolen laptop on a map. More information about its functionality and vulnerabilities can be read <a href="https://en.wikipedia.org/wiki/Absolute_Home_%26_Office" class="extiw" title="wikipedia:Absolute Home &amp; Office">here</a>
</p>
<p>If you do not subscribe to this service and have no use for it, you can flash an alternate BIOS provided by Lenovo listed as "Non-Absolute Persistence". The BIOS versions are identified by their letter at the end of the .cab file. Versions ending in W include Absolute's features and versions ending in P remove it. The Non-Absolute version is included in the zip file containing BIOS updates from Lenovo's website or you can directly download it from <a rel="nofollow" class="external text" href="https://fwupd.org/lvfs/devices/com.lenovo.ThinkPadN2OETXXP.firmware">fwupd.org</a>.
</p>
<p>To install the Non-Absolute Persistence BIOS, you must first permanently disable Computrace in the BIOS. Once done, you can flash the Non-Absolute Persistence (P version) with the same instructions.
</p>
<h3><span class="mw-headline" id="Flashing_BIOS">Flashing BIOS</span></h3>
<h4><span class="mw-headline" id="Updating">Updating</span></h4>
<p>Download the zip file labelled "BIOS Update Utility (Linux)" from <a rel="nofollow" class="external text" href="https://support.lenovo.com/us/en/downloads/ds540308">Lenovo's support website</a> or <a rel="nofollow" class="external text" href="https://fwupd.org/lvfs/devices/com.lenovo.ThinkPadN2OETXXW.firmware">fwupd.org directly</a>. Extract the zip file, then use <a href="../en/Fwupd.html" title="Fwupd">fwupd</a> to update the firmware:
</p>
<pre> $ su
 # fwupdmgr install &lt;filename&gt;.cab
</pre>
<p>Then reboot immediately to finish the upgrade.
</p>
<h4><span class="mw-headline" id="Reverting_to_previous_versions">Reverting to previous versions</span></h4>
<p>To downgrade your bios, you can use the <i>--allow-older</i> flag with fwupd.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Be sure to read the release notes for the BIOS updates as many updates do not offer the ability to revert back to prior versions</div>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Lenovo.html" title="Category:Lenovo">Lenovo</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Laptop_style.html" title="Category:Pages or sections flagged with Template:Laptop style">Pages or sections flagged with Template:Laptop style</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_X1_Extreme_(Gen_2)&amp;oldid=663863">https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_X1_Extreme_(Gen_2)&amp;oldid=663863</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 23 April 2021, at 20:49.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
