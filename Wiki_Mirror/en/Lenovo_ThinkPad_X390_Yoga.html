<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Lenovo ThinkPad X390 Yoga - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Lenovo_ThinkPad_X390_Yoga rootpage-Lenovo_ThinkPad_X390_Yoga skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Lenovo ThinkPad X390 Yoga</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/Lenovo_ThinkPad_X1_Yoga_(Gen_4).html" title="Lenovo ThinkPad X1 Yoga (Gen 4)">Lenovo ThinkPad X1 Yoga (Gen 4)</a></li>
</ul>
</div>
<p>The Lenovo ThinkPad X390 Yoga is a 2-in-1 convertible laptop introduced in 2018. Its design is related to the <a href="../en/Lenovo_ThinkPad_X1_Yoga_(Gen_4).html" title="Lenovo ThinkPad X1 Yoga (Gen 4)">Lenovo ThinkPad X1 Yoga (Gen 4)</a>. It features a 13.3" screen, 8th-gen Intel Core processors and integrated <a href="../en/Intel_graphics.html" title="Intel graphics">Intel UHD 620 graphics</a>.
</p>
<p>To ensure you have this version, <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> the package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dmidecode">dmidecode</a></span> and run:
</p>
<pre># dmidecode -t system | grep Version
	Version: ThinkPad X390 Yoga
</pre>
<table class="wikitable" style="float: right; clear: right; margin: 0 0 0.5em 0.5em; max-width: 420px; width: 100%;">
<tbody>
<tr>
<td><b>Device</b></td>
<td><b>Working</b></td>
<td>
<b>Modules</b>
</td>
</tr>
<tr>
<td><a href="../en/Intel_graphics.html" title="Intel graphics">Intel graphics</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>i915, (intel_agp)
</td>
</tr>
<tr>
<td><a href="../en/Network_configuration/Wireless.html#iwlwifi" class="mw-redirect" title="Wireless network configuration">Wireless network</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>iwlmvm
</td>
</tr>
<tr>
<td>Native Ethernet with <a rel="nofollow" class="external autonumber" href="https://www3.lenovo.com/us/en/accessories-and-monitors/cables-and-adapters/adapters/CABLE-BO-TP-OneLink%2B-to-RJ45-Adapter/p/4X90K06975">[1]</a>
</td>
<td>?</td>
<td>?
</td>
</tr>
<tr>
<td>Mobile broadband</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>cdc_mbim
</td>
</tr>
<tr>
<td>Audio</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>snd_hda_intel
</td>
</tr>
<tr>
<td><a href="../en/Laptop.html#Touchpad" class="mw-redirect" title="Touchpad">Touchpad</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>psmouse, rmi_smbus, i2c_i801
</td>
</tr>
<tr>
<td><a href="../en/TrackPoint.html" title="TrackPoint">TrackPoint</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>psmouse, rmi_smbus, i2c_i801
</td>
</tr>
<tr>
<td>TouchScreen</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>wacom, libinput or xf86-input-wacom, libwacom
</td>
</tr>
<tr>
<td>Stylus</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>wacom, x86-input-wacom, libwacom
</td>
</tr>
<tr>
<td>Camera</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>uvcvideo
</td>
</tr>
<tr>
<td>Fingerprint Reader</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>fprintd-libfprint2
</td>
</tr>
<tr>
<td><a href="../en/Power_management.html" title="Power management">Power management</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>?
</td>
</tr>
<tr>
<td><a href="../en/Bluetooth.html" title="Bluetooth">Bluetooth</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>btusb
</td>
</tr>
<tr>
<td>microSD card reader</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>scsi_mod
</td>
</tr>
<tr>
<td>Keyboard Backlight</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>thinkpad_acpi
</td>
</tr>
<tr>
<td>Function/Multimedia Keys</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>?
</td>
</tr>
</tbody>
</table>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#BIOS"><span class="tocnumber">1</span> <span class="toctext">BIOS</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Thunderbolt_BIOS_settings_issue"><span class="tocnumber">1.1</span> <span class="toctext">Thunderbolt BIOS settings issue</span></a></li>
<li class="toclevel-2 tocsection-3">
<a href="#Updates"><span class="tocnumber">1.2</span> <span class="toctext">Updates</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#Automatic_(Linux_Vendor_Firmware_Service)"><span class="tocnumber">1.2.1</span> <span class="toctext">Automatic (Linux Vendor Firmware Service)</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-5"><a href="#Fix_touchscreen_after_resume"><span class="tocnumber">1.3</span> <span class="toctext">Fix touchscreen after resume</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6">
<a href="#Tablet_Functions"><span class="tocnumber">2</span> <span class="toctext">Tablet Functions</span></a>
<ul>
<li class="toclevel-2 tocsection-7">
<a href="#Screen_Rotation"><span class="tocnumber">2.1</span> <span class="toctext">Screen Rotation</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#Automatic_Screen_Rotation"><span class="tocnumber">2.1.1</span> <span class="toctext">Automatic Screen Rotation</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#With_Screen_Rotator"><span class="tocnumber">2.1.2</span> <span class="toctext">With Screen Rotator</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-10">
<a href="#Configuration"><span class="tocnumber">3</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Fan_Control"><span class="tocnumber">3.1</span> <span class="toctext">Fan Control</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Fingerprint_Reader"><span class="tocnumber">3.2</span> <span class="toctext">Fingerprint Reader</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Keyboard_Fn_Shortcuts"><span class="tocnumber">3.3</span> <span class="toctext">Keyboard Fn Shortcuts</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="BIOS">BIOS</span></h2>
<h3><span class="mw-headline" id="Thunderbolt_BIOS_settings_issue">Thunderbolt BIOS settings issue</span></h3>
<p>I was unable to disable Thunderbolt DMA protection and Virtualization settings when the notebook arrived. A BIOS update (using fwupdmgr) solved the issue.
</p>
<h3><span class="mw-headline" id="Updates">Updates</span></h3>
<h4>
<span id="Automatic_.28Linux_Vendor_Firmware_Service.29"></span><span class="mw-headline" id="Automatic_(Linux_Vendor_Firmware_Service)">Automatic (Linux Vendor Firmware Service)</span>
</h4>
<p><a rel="nofollow" class="external text" href="https://blogs.gnome.org/hughsie/2018/08/06/please-welcome-lenovo-to-the-lvfs/">In August of 2018 Lenovo has joined</a> the <a rel="nofollow" class="external text" href="https://fwupd.org/">Linux Vendor Firmware Service (LVFS)</a> project, which enables firmware updates from within the OS.
BIOS updates (and possibly other firmware such as the Thunderbolt controller) can be queried for and installed through <a href="../en/Fwupd.html" title="Fwupd">fwupd</a>.
</p>
<h3><span class="mw-headline" id="Fix_touchscreen_after_resume">Fix touchscreen after resume</span></h3>
<p>There are several possibilities, I opted for reloading the wacom kernel module:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/lib/systemd/system-sleep/10-wacom.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/bash

case $1/$2 in
  pre/*)
    # echo "Going to $2..."
    /usr/bin/rmmod wacom
    ;;
  post/*)
    # echo "Waking up from $2..."
    /usr/bin/modprobe wacom
    ;;
esac
</pre>
<p>This reloads the wacom kernel module during standby and fixes the issue for me. Other possible options can be found in the related ThinkPad articles, like disabling Thunderbolt or using rtcwake for 1 second. Both options did not work reliably for me.
</p>
<h2><span class="mw-headline" id="Tablet_Functions">Tablet Functions</span></h2>
<p>For the most part, the touch screen and stylus work under Xorg after installing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-wacom">xf86-input-wacom</a></span> package with no issues. However, I found the touchscreen to perform much better using libinput. I created the following file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/40-libinput.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "InputClass"
  Identifier "touchscreen config"
  MatchProduct "Wacom|WACOM|PTK-540WL|ISD-V4"
  MatchDevicePath "/dev/input/event*"
  MatchIsTouchscreen "on"
  Driver "libinput"
  Option "Tapping" "true"
  Option "TappingDrag" "true"
EndSection
</pre>
<p>This uses libinput and fixes scrolling with the finger in the desktop environment.
</p>
<h3><span class="mw-headline" id="Screen_Rotation">Screen Rotation</span></h3>
<h4><span class="mw-headline" id="Automatic_Screen_Rotation">Automatic Screen Rotation</span></h4>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iio-sensor-proxy">iio-sensor-proxy</a></span> package provides automatic screen rotation for some DEs. Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iio-sensor-proxy">iio-sensor-proxy</a></span>.
</p>
<p>If you using Xfce, you can use the script from <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=243005">[2]</a>.
</p>
<h4><span class="mw-headline" id="With_Screen_Rotator">With Screen Rotator</span></h4>
<p>Automatic screen rotation might work with ScreenRotator which has no configuration necessary.  The touchscreen two finger swipe does not follow rotation at this time. Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/iio-sensor-proxy-git/">iio-sensor-proxy-git</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/screenrotator-git/">screenrotator-git</a></span><sup><small>AUR</small></sup>.
</p>
<p>My system started crashing sometimes when rotating, so I switched to the above-mentioned script.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>Many of the configuration options can be found in <a href="../en/Lenovo_ThinkPad_X1_Yoga_(Gen_3).html#Configuration" title="Lenovo ThinkPad X1 Yoga (Gen 3)">Lenovo ThinkPad X1 Yoga (Gen 3)#Configuration</a>, as the X390 Yoga has a very similar structure to the X1 Yoga 3.
</p>
<h3><span class="mw-headline" id="Fan_Control">Fan Control</span></h3>
<p>See <a href="../en/Fan_speed_control.html#ThinkPad_laptops" title="Fan speed control">Fan speed control#ThinkPad laptops</a>
</p>
<h3><span class="mw-headline" id="Fingerprint_Reader">Fingerprint Reader</span></h3>
<p>Experimental support is available if you install a testing firmware to the device and fprintd-libfprint2 from the AUR. See <a rel="nofollow" class="external autonumber" href="https://gitlab.freedesktop.org/libfprint/libfprint/issues/181">[3]</a> for details. YMMV.
</p>
<h3><span class="mw-headline" id="Keyboard_Fn_Shortcuts">Keyboard Fn Shortcuts</span></h3>
<table class="wikitable">
<tbody>
<tr>
<th>Keybind</th>
<th>XF86 Event</th>
<th>Keycode</th>
<th>Keysym
</th>
</tr>
<tr>
<td>Fn</td>
<td>XF86WakeUp</td>
<td>151</td>
<td>0x1008ff2b
</td>
</tr>
<tr>
<td>Fn+F1</td>
<td>XF86AudioMute</td>
<td>121</td>
<td>0x1008ff12
</td>
</tr>
<tr>
<td>Fn+F2</td>
<td>XF86AudioLowerVolume</td>
<td>122</td>
<td>0x1008ff11
</td>
</tr>
<tr>
<td>Fn+F3</td>
<td>XF86AudioRaiseVolume</td>
<td>123</td>
<td>0x1008ff13
</td>
</tr>
<tr>
<td>Fn+F4</td>
<td>XF86AudioMicMute</td>
<td>198</td>
<td>0x1008ffb2
</td>
</tr>
<tr>
<td>Fn+F5</td>
<td>XF86MonBrightnessDown</td>
<td>232</td>
<td>0x1008ff03
</td>
</tr>
<tr>
<td>Fn+F6</td>
<td>XF86MonBrightnessUp</td>
<td>233</td>
<td>0x1008ff02
</td>
</tr>
<tr>
<td>Fn+F7</td>
<td>XF86Display</td>
<td>235</td>
<td>0x1008ff59
</td>
</tr>
<tr>
<td>Fn+F8</td>
<td>XF86WLAN</td>
<td>246</td>
<td>0x1008ff95
</td>
</tr>
<tr>
<td>Fn+F9</td>
<td>XF86Tools</td>
<td>179</td>
<td>0x1008ff81
</td>
</tr>
<tr>
<td>Fn+F10</td>
<td>XF86Bluetooth</td>
<td>245</td>
<td>0x1008ff94
</td>
</tr>
<tr>
<td>Fn+F11</td>
<td>??
</td>
</tr>
<tr>
<td>Fn+F12</td>
<td>XF86Favorites</td>
<td>164</td>
<td>0x1008ff30
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Lenovo.html" title="Category:Lenovo">Lenovo</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_X390_Yoga&amp;oldid=636208">https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_X390_Yoga&amp;oldid=636208</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 23 September 2020, at 06:50.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
