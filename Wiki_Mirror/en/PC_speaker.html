<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>PC speaker - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-PC_speaker rootpage-PC_speaker skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">PC speaker</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="/title/Kernel_modules" class="mw-redirect" title="Kernel modules">Kernel modules</a></li>
<li><a href="/title/Advanced_Linux_Sound_Architecture" title="Advanced Linux Sound Architecture">Advanced Linux Sound Architecture</a></li>
</ul>
</div>
<p>The computer often seems to make beep noises or other sounds at various times, whether we want them or not. They come from various sources, and as such, you may be able to configure if or when they occur. For situations where no sound card or speakers are available and a simple audio notification is desired, see <a href="#Beep">#Beep</a>. 
</p>
<p>Sounds from the computer can be heard from the built-in case speaker, the speakers, or headphones which are plugged into the soundcard (in which case the noise may be unexpectedly loud). 
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The sounds are caused by the BIOS (Basic Input/Output System), the OS (Operating System), the DE (Desktop Environment), or various software programs. The BIOS is a particularly troublesome problem because it is kept inside an EPROM chip on the motherboard, and the only direct control the user has is by turning the power on or off. Unless the BIOS setup has a setting you can adjust or you wish to attempt to reprogram that chip with the proper light source, it is not likely you will be able to change it at all. BIOS-generated beep sounds are not addressed here, except to say that unplugging your computer case speaker will stop all such sounds from being heard. (Do so at your own risk.)</div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Disable_PC_Speaker"><span class="tocnumber">1</span> <span class="toctext">Disable PC Speaker</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Globally"><span class="tocnumber">1.1</span> <span class="toctext">Globally</span></a></li>
<li class="toclevel-2 tocsection-3">
<a href="#Console"><span class="tocnumber">1.2</span> <span class="toctext">Console</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#Less_pager"><span class="tocnumber">1.2.1</span> <span class="toctext">Less pager</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-5"><a href="#Xorg"><span class="tocnumber">1.3</span> <span class="toctext">Xorg</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#ALSA"><span class="tocnumber">1.4</span> <span class="toctext">ALSA</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#GNOME"><span class="tocnumber">1.5</span> <span class="toctext">GNOME</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#KDE_Plasma"><span class="tocnumber">1.6</span> <span class="toctext">KDE Plasma</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Cinnamon"><span class="tocnumber">1.7</span> <span class="toctext">Cinnamon</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#GTK"><span class="tocnumber">1.8</span> <span class="toctext">GTK</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#PulseAudio"><span class="tocnumber">1.9</span> <span class="toctext">PulseAudio</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12">
<a href="#Beep"><span class="tocnumber">2</span> <span class="toctext">Beep</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#Installation"><span class="tocnumber">2.1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Run_as_non-root_user"><span class="tocnumber">2.2</span> <span class="toctext">Run as non-root user</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Tips_and_Tricks"><span class="tocnumber">2.3</span> <span class="toctext">Tips and Tricks</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16"><a href="#See_also"><span class="tocnumber">3</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Disable_PC_Speaker">Disable PC Speaker</span></h2>
<p>Turning off a particular instance of a sound, while leaving the others operational, is possible if and only if one can identify which portion of the environment generates the particular sound. This allows customizing the selection of sounds. Please feel free to add any configurations and settings to this wiki page that may be useful for other users.
</p>
<h3><span class="mw-headline" id="Globally">Globally</span></h3>
<p>The PC speaker can be disabled by <a href="/title/Kernel_modules#Manual_module_handling" class="mw-redirect" title="Kernel modules">unloading</a> the <code>pcspkr</code> <a href="/title/Kernel_module" title="Kernel module">kernel module</a>:
</p>
<pre># rmmod pcspkr
</pre>
<p><a href="/title/Blacklisting" class="mw-redirect" title="Blacklisting">Blacklisting</a> the <code>pcspkr</code> module will prevent <a href="/title/Udev" title="Udev">udev</a> from loading it at boot. Create the file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/nobeep.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">blacklist pcspkr</pre>
<p><a href="/title/Kernel_modules#Using_kernel_command_line_2" class="mw-redirect" title="Kernel modules">Blacklisting it on the kernel command line</a> is yet another way. Simply add <code>modprobe.blacklist=pcspkr</code> to your bootloader's kernel line.
</p>
<h3><span class="mw-headline" id="Console">Console</span></h3>
<p>You can add this command in <code>/etc/profile</code> or a dedicated file like <code>/etc/profile.d/disable-beep.sh</code>:
</p>
<pre>setterm -blength 0
</pre>
<p>Another way is to uncomment or add this line in <code>/etc/inputrc</code> or <code>~/.inputrc</code>:
</p>
<pre>set bell-style none
</pre>
<h4><span class="mw-headline" id="Less_pager">Less pager</span></h4>
<p>To disable PC speaker in <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=less">less</a></span> pager, you can launch it with <code>less -q</code> to mute PC speaker for end of line events or <code>less -Q</code> to mute it altogether. For <a href="/title/Man_page" title="Man page">man pages</a>, launch <code>man -P "less -Q"</code> or set the <code>$MANPAGER</code> or <code>$PAGER</code> <a href="/title/Environment_variable" class="mw-redirect" title="Environment variable">environment variables</a>.
</p>
<p>Alternatively, you can add these lines to your <code>~/<a href="/title/.bashrc" class="mw-redirect" title=".bashrc">.bashrc</a></code>:
</p>
<pre>alias less='less -Q'
alias man='man -P "less -Q"'
</pre>
<h3><span class="mw-headline" id="Xorg">Xorg</span></h3>
<pre>$ xset -b
</pre>
<p>You can add this command to a startup file such as <code>/etc/xprofile</code> to make it permanent. See <a href="/title/Xprofile" title="Xprofile">xprofile</a> for more information.
</p>
<h3><span class="mw-headline" id="ALSA">ALSA</span></h3>
<p>For most sound cards the PC speaker is listed as an <a href="/title/ALSA" class="mw-redirect" title="ALSA">ALSA</a> channel, named either <i>PC Speaker</i>, <i>PC Beep</i>, or <i>Beep</i>. To mute the speaker, either use <i>alsamixer</i> or <i>amixer</i>:
</p>
<pre>$ amixer set <i>channel</i> 0% mute
</pre>
<p>To unmute the channel, see <a href="/title/Advanced_Linux_Sound_Architecture#Unmuting_the_channels" title="Advanced Linux Sound Architecture">Advanced Linux Sound Architecture#Unmuting the channels</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> If you are using PulseAudio and the PC speaker channel is not listed for the default ALSA device, try selecting the device corresponding to the sound card - PulseAudio proxy controls may not list the PC speaker</div>
<h3><span class="mw-headline" id="GNOME">GNOME</span></h3>
<p>Using <a href="/title/GNOME#Configuration" title="GNOME">GSettings</a>:
</p>
<pre>$ gsettings set org.gnome.desktop.wm.preferences audible-bell false
</pre>
<h3><span class="mw-headline" id="KDE_Plasma">KDE Plasma</span></h3>
<p>Bell notification settings can be modified in "System Settings"-&gt;"Accessibility Options"-&gt;"Bell".
</p>
<h3><span class="mw-headline" id="Cinnamon">Cinnamon</span></h3>
<p><a href="/title/Cinnamon" title="Cinnamon">Cinnamon</a> seems to play a "water drop" sound. To disable it, set in <span class="plainlinks archwiki-template-man" title="$ man 1 gsettings"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/gsettings.1">gsettings(1)</a></span>:
</p>
<pre>$ gsettings set org.cinnamon.desktop.wm.preferences audible-bell false
</pre>
<h3><span class="mw-headline" id="GTK">GTK</span></h3>
<p>Append this line to <code>~/.gtkrc-2.0</code>:
</p>
<pre>gtk-error-bell = 0
</pre>
<p>Add the same line to the [Settings] section of <code>$XDG_CONFIG_HOME/gtk-3.0/settings.ini</code>:
</p>
<pre>[Settings]
gtk-error-bell = 0
</pre>
<p>This is documented in the <a rel="nofollow" class="external text" href="https://developer.gnome.org/gtk3/stable/GtkSettings.html">Gnome Developer Handbook</a>.
</p>
<h3><span class="mw-headline" id="PulseAudio">PulseAudio</span></h3>
<p>Play a sound instead of a PC speaker beep <a href="/title/PulseAudio#X11_Bell_Events" title="PulseAudio">using PulseAudio</a>.
</p>
<h2><span class="mw-headline" id="Beep">Beep</span></h2>
<p>A user can create a short audible tone when logged in to a <a href="/title/Virtual_console" class="mw-redirect" title="Virtual console">virtual console</a>. See <a href="https://en.wikipedia.org/wiki/bell_character#usage" class="extiw" title="wikipedia:bell character">Wikipedia:bell character#usage</a> for the details.
</p>
<p>Beep is an advanced PC speaker beeping program. It is useful for situations where no sound card and/or speakers are available, and simple audio notification is desired.
</p>
<h3><span class="mw-headline" id="Installation">Installation</span></h3>
<p><a href="/title/Install" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=beep">beep</a></span> package.
</p>
<p>You may also need to <a href="#ALSA">unmute</a> the PC speaker in <a href="/title/ALSA" class="mw-redirect" title="ALSA">ALSA</a>.
</p>
<h3><span class="mw-headline" id="Run_as_non-root_user">Run as non-root user</span></h3>
<p><code>beep</code> uses <code>/dev/input/by-path/platform-pcspkr-event-spkr</code> to control the PC speaker. To access it as a non-root user, one has to set the proper permissions. Create <code>/etc/udev/rules.d/70-pcspkr-beep.rules</code> and add the following rule:
</p>
<pre>ACTION=="add", SUBSYSTEM=="input", ATTRS{name}=="PC Speaker", ENV{DEVNAME}!="", TAG+="uaccess"
</pre>
<p>That will allow any user, who is logged into the currently active virtual console session, to use the PC speaker.
</p>
<p>Alternatively, a new user group may be created (e.g. <code>beep</code>) with the corresponding rule to set the right permissions on the device file:
</p>
<pre>ACTION=="add", SUBSYSTEM=="input", ATTRS{name}=="PC Speaker", ENV{DEVNAME}!="", GROUP="beep", MODE="0620"
</pre>
<p>With that solution any user in the <code>beep</code> group will be able to control the speaker.
</p>
<p>To force reloading rules and device file to apply new user permission without a reboot, execute:
</p>
<pre>$ udevadm control --reload &amp;&amp; rmmod pcspkr &amp;&amp; modprobe pcspkr
</pre>
<h3><span class="mw-headline" id="Tips_and_Tricks">Tips and Tricks</span></h3>
<p>While many people are happy with the traditional beep sound, some may like to change its properties a bit. The following example plays slighly higher and shorter sound and repeats it two times.
</p>
<pre># beep -f 5000 -l 50 -r 2
</pre>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul><li>
<span class="plainlinks archwiki-template-man" title="$ man 1 xset"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/xset.1">xset(1)</a></span>, <span class="plainlinks archwiki-template-man" title="$ man 1 setterm"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/setterm.1">setterm(1)</a></span>, <span class="plainlinks archwiki-template-man" title="$ man 1 bash"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/bash.1">bash(1)</a></span>
</li></ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="/title/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/title/Category:Sound" title="Category:Sound">Sound</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=PC_speaker&amp;oldid=664854">https://wiki.archlinux.org/index.php?title=PC_speaker&amp;oldid=664854</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 28 April 2021, at 11:27.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="/title/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/title/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="/title/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
