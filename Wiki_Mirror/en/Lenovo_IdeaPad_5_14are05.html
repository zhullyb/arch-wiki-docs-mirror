<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Lenovo IdeaPad 5 14are05 - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Lenovo_IdeaPad_5_14are05 rootpage-Lenovo_IdeaPad_5_14are05 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Lenovo IdeaPad 5 14are05</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p>The IdeaPad 5 14are05 is a 14-inch Lenovo AMD Renoir (Ryzen 4000)-based laptop.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Hardware_Support"><span class="tocnumber">1</span> <span class="toctext">Hardware Support</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#BIOS"><span class="tocnumber">1.1</span> <span class="toctext">BIOS</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Video"><span class="tocnumber">1.2</span> <span class="toctext">Video</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Sound"><span class="tocnumber">1.3</span> <span class="toctext">Sound</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Microphone"><span class="tocnumber">1.4</span> <span class="toctext">Microphone</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Wireless"><span class="tocnumber">1.5</span> <span class="toctext">Wireless</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Touchpad"><span class="tocnumber">1.6</span> <span class="toctext">Touchpad</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Display"><span class="tocnumber">1.7</span> <span class="toctext">Display</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#Issues"><span class="tocnumber">2</span> <span class="toctext">Issues</span></a>
<ul>
<li class="toclevel-2 tocsection-10">
<a href="#Suspend_issues_(S3_sleep_fix)"><span class="tocnumber">2.1</span> <span class="toctext">Suspend issues (S3 sleep fix)</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="#About_issue"><span class="tocnumber">2.1.1</span> <span class="toctext">About issue</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#Solution"><span class="tocnumber">2.1.2</span> <span class="toctext">Solution</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-13">
<a href="#Tips_and_tricks"><span class="tocnumber">3</span> <span class="toctext">Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#System_Performance_Mode"><span class="tocnumber">3.1</span> <span class="toctext">System Performance Mode</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Rapid_Charge"><span class="tocnumber">3.2</span> <span class="toctext">Rapid Charge</span></a></li>
<li class="toclevel-2 tocsection-16">
<a href="#Battery_Conservation"><span class="tocnumber">3.3</span> <span class="toctext">Battery Conservation</span></a>
<ul>
<li class="toclevel-3 tocsection-17"><a href="#Note"><span class="tocnumber">3.3.1</span> <span class="toctext">Note</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Hardware_Support">Hardware Support</span></h2>
<h3><span class="mw-headline" id="BIOS">BIOS</span></h3>
<p>BIOS can be accessed by pressing <code>F2</code> at the Splash screen.
</p>
<h3><span class="mw-headline" id="Video">Video</span></h3>
<p>X works natively with a current <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-amdgpu">xf86-video-amdgpu</a></span>.
</p>
<h3><span class="mw-headline" id="Sound">Sound</span></h3>
<p>Sound works with <a href="../en/PulseAudio.html" title="PulseAudio">PulseAudio</a> in <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span> out of the box.
</p>
<h3><span class="mw-headline" id="Microphone">Microphone</span></h3>
<p>The internal microphone is properly recognized and working for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span> &gt;=5.8rc3 as long as the <code>snd-acp3x-rn</code> kernel module is loaded.
</p>
<h3><span class="mw-headline" id="Wireless">Wireless</span></h3>
<p>It is available with different wifi chips but they should work out of the box.
</p>
<h3><span class="mw-headline" id="Touchpad">Touchpad</span></h3>
<p>The touchpad works almost as expected starting from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span> 5.9-rc1. It's still random whether it will work or not after going out of suspend mode, but in that case it's an easy fix: just add a keyboard shortcut for the touchpad toggle and you should be able to make it work again.
</p>
<p>For older kernels, it is important to make sure that the BIOS is updated to the latest version (atm 1.06), otherwise it is possible that the touchpad will not even be discovered let alone work.
If touchpad device is found it's still possible that it will not work (either right after startup or after going out of suspend mode). In this case a new cold start might help (sometimes a reboot might be enough).
</p>
<h3><span class="mw-headline" id="Display">Display</span></h3>
<p>The brightness works for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span> &gt;=5.7.6.1 , since the patch to fix brightness has been merged.
</p>
<h2><span class="mw-headline" id="Issues">Issues</span></h2>
<h3>
<span id="Suspend_issues_.28S3_sleep_fix.29"></span><span class="mw-headline" id="Suspend_issues_(S3_sleep_fix)">Suspend issues (S3 sleep fix)</span>
</h3>
<p>Original solution is described <a rel="nofollow" class="external text" href="https://www.reddit.com/r/linuxhardware/comments/i28nm5/ideapad_14are05_s3_sleep_fix/">on reddit</a> and <a href="../en/Lenovo_ThinkPad_X1_Yoga_(Gen_3).html#Suspend_issues" title="Lenovo ThinkPad X1 Yoga (Gen 3)">here</a>.
</p>
<h4><span class="mw-headline" id="About_issue">About issue</span></h4>
<p>Windows has introduced a new sleep mode a.k.a. Modern Standby. It's supposed to be more like a smartphone's deep sleep, which lets the system keep the wifi active and check for emails without needing to fully wake up.
</p>
<p>For some reason, this new S0ix sleep mode only works if BIOS doesn't advertise support for the traditional S3 suspend-to-RAM sleep state. So Linux will do suspend-to-idle sleep, which results in bigger energy consumption.
</p>
<p>Some systems have a "Sleep Mode: Windows / Linux" switch in the BIOS to turn S3 support on or off. This is unfortunately not the case for this Lenovo laptop.
</p>
<h4><span class="mw-headline" id="Solution">Solution</span></h4>
<ul>
<li>Get acpidump and iasl, provided by the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=acpica">acpica</a></span> package.</li>
<li>Dump all your ACPI files into a directory:</li>
</ul>
<pre>$ mkdir ~/acpi/
$ cd ~/acpi/
$ sudo acpidump -b
</pre>
<ul><li>Decompile the DSDT table</li></ul>
<pre>$ iasl -e *.dat -d dsdt.dat
</pre>
<ul><li>Patch the decompiled DSDT table (dsdt.dsl), using <a rel="nofollow" class="external text" href="https://gist.githubusercontent.com/zurohki/4b859668c901e6ba13e8187a0d5d734c/raw/a04e217f273630cfae8ab3aa82002e99b9b039d5/dsdt.patch">this patch</a>:</li></ul>
<pre>$ patch -p1 &lt; dsdt.patch
</pre>
<ul><li>Compile the modified DSDT table</li></ul>
<pre>$ iasl -ve -tc dsdt.dsl
</pre>
<ul><li>Make a <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cpio">cpio</a></span> archive</li></ul>
<pre>$ mkdir -p kernel/firmware/acpi
$ cp dsdt.aml kernel/firmware/acpi
$ find kernel | cpio -H newc --create &gt; acpi_override
</pre>
<ul><li>Copy created cpio file to boot:</li></ul>
<pre># cp acpi_override /boot
</pre>
<ul><li>GRUB needs to boot the kernel with a parameter setting the deep sleep state as default. Edit <code>/etc/default/grub</code> and add the following:</li></ul>
<pre><code>GRUB_CMDLINE_LINUX_DEFAULT="mem_sleep_default=deep"</code>
<code>GRUB_EARLY_INITRD_LINUX_CUSTOM=acpi_override</code>
</pre>
<ul><li>Regenerate the GRUB configuration:</li></ul>
<pre># update-grub
</pre>
<p>as a result in the <code>/boot/grub/grub.cfg</code> for the corresponding menu entry(ies) one should be able to find lines that look similar to: <code>initrd /boot/acpi_override</code>
</p>
<ul><li>Reboot</li></ul>
<ul><li>To verify that things are working:</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ dmesg | grep ACPI | grep supports</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[    0.195933] ACPI: (supports S0 S3 S4 S5)
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ cat /sys/power/mem_sleep</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">s2idle [deep]
</pre>
<ul><li>Don't forget to set your system to go into 'deep' sleep</li></ul>
<pre># echo deep &gt; /sys/power/mem_sleep
</pre>
<ul><li>Now try new suspend. Power led should have a slowly pulsing light.</li></ul>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="System_Performance_Mode">System Performance Mode</span></h3>
<p>There are 3 modes available: <i>Intelligent Cooling</i>, <i>Extreme Performance</i> and <i>Battery Saving</i>. To toggle it, you need to call some ACPI methods. 
</p>
<p>First install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=acpi_call">acpi_call</a></span> (or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=acpi_call-lts">acpi_call-lts</a></span> for LTS kernel, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=acpi_call-dkms">acpi_call-dkms</a></span> for other <a href="../en/Kernel.html" class="mw-redirect" title="Kernels">kernels</a>) and load the <a href="../en/Kernel_module.html" title="Kernel module">kernel module</a>:
</p>
<pre> $ sudo modprobe acpi_call
</pre>
<p>Set it to <i>Intelligent Cooling</i> mode:
</p>
<pre> $ echo '\_SB.PCI0.LPC0.EC0.VPC0.DYTC 0x000FB001' | sudo tee /proc/acpi/call
</pre>
<p>Set it to <i>Extreme Performance</i> mode:
</p>
<pre> $ echo '\_SB.PCI0.LPC0.EC0.VPC0.DYTC 0x0012B001' | sudo tee /proc/acpi/call
</pre>
<p>Set it to <i>Battery Saving</i> mode:
</p>
<pre> $ echo '\_SB.PCI0.LPC0.EC0.VPC0.DYTC 0x0013B001' | sudo tee /proc/acpi/call
</pre>
<p>To verify your setting:
</p>
<pre> $ echo '\_SB.PCI0.LPC0.EC0.STMD' | sudo tee /proc/acpi/call
 $ sudo cat /proc/acpi/call | cut -d '' -f1
</pre>
<p>As a result you get the value for the bit STMD (either <code>0x0</code> or <code>0x1</code>).
</p>
<pre> $ echo '\_SB.PCI0.LPC0.EC0.QTMD' | sudo tee /proc/acpi/call
 $ sudo cat /proc/acpi/call | cut -d '' -f1
</pre>
<p>As a result you get the value for the bit QTMD (either <code>0x0</code> or <code>0x1</code>).
To interpret the results the following table can be used:
</p>
<table class="wikitable">
<tbody>
<tr>
<th>STMD</th>
<th>QTMD</th>
<th>Mode
</th>
</tr>
<tr>
<td>0x0</td>
<td>0x0</td>
<td>Extreme Performance
</td>
</tr>
<tr>
<td>0x0</td>
<td>0x1</td>
<td>Battery Saving
</td>
</tr>
<tr>
<td>0x1</td>
<td>0x0</td>
<td>Intelligent Cooling
</td>
</tr>
</tbody>
</table>
<p><br>
</p>
<h3><span class="mw-headline" id="Rapid_Charge">Rapid Charge</span></h3>
<p>Make sure you have set up <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=acpi_call">acpi_call</a></span>.
</p>
<p>Turn on:
</p>
<pre> $ echo '\_SB.PCI0.LPC0.EC0.VPC0.SBMC 0x07' | sudo tee /proc/acpi/call
</pre>
<p>Turn off:
</p>
<pre> $ echo '\_SB.PCI0.LPC0.EC0.VPC0.SBMC 0x08' | sudo tee /proc/acpi/call
</pre>
<p>To verify your setting:
</p>
<pre> $ echo '\_SB.PCI0.LPC0.EC0.FCGM' | sudo tee /proc/acpi/call
 $ sudo cat /proc/acpi/call | cut -d '' -f1
</pre>
<p>where <code>0x0</code> stands for <i>off</i> and <code>0x1</code> stands for <i>on</i>.
</p>
<p>Also see the <a href="#Note">note</a>
</p>
<h3><span class="mw-headline" id="Battery_Conservation">Battery Conservation</span></h3>
<p>Similarly to the <a href="#Rapid_Charge">#Rapid Charge</a>, make sure you have set up <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=acpi_call">acpi_call</a></span>.
</p>
<p>Turn on:
</p>
<pre> $ echo '\_SB.PCI0.LPC0.EC0.VPC0.SBMC 0x03' | sudo tee /proc/acpi/call
</pre>
<p>Turn off:
</p>
<pre> $ echo '\_SB.PCI0.LPC0.EC0.VPC0.SBMC 0x05' | sudo tee /proc/acpi/call
</pre>
<p>To verify your setting:
</p>
<pre> $ echo '\_SB.PCI0.LPC0.EC0.BTSG' | sudo tee /proc/acpi/call
 $ sudo cat /proc/acpi/call | cut -d '' -f1
</pre>
<p>where <code>0x0</code> stands for <i>off</i> and <code>0x1</code> stands for <i>on</i>.
</p>
<p>There's also an <a href="../en/Laptop/Lenovo.html#Battery_Conservation_Mode_on_IdeaPad_laptops" title="Laptop/Lenovo">alternative</a> way to control the conservation mode of the battery.
</p>
<h4><span class="mw-headline" id="Note">Note</span></h4>
<p>It is worth noting that the Lenovo Vantage software for Windows when turning on Battery Conservation mode also turns off <a href="#Rapid_Charge">#Rapid Charge</a> (if it was on). 
The same is also valid for the <a href="#Rapid_Charge">#Rapid Charge</a>: turning it on will bring the battery conservation mode down. The aforementioned acpi calls (<a href="#Rapid_Charge">#Rapid Charge</a> and <a href="#Battery_Conservation">#Battery Conservation</a>) won't do this for you. So it's possible to get the state where both battery conservation and rapid charge modes are active.
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Lenovo.html" title="Category:Lenovo">Lenovo</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Lenovo_IdeaPad_5_14are05&amp;oldid=639851">https://wiki.archlinux.org/index.php?title=Lenovo_IdeaPad_5_14are05&amp;oldid=639851</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 26 October 2020, at 10:04.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
