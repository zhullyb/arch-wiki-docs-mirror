<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Razer Blade - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Razer_Blade rootpage-Razer_Blade skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Razer Blade</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><br>
</p>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section does not follow the <a href="../en/Help:Laptop_page_guidelines.html" title="Help:Laptop page guidelines">Laptop page guidelines</a>.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Various style issues, structure lacking (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Razer_Blade">Talk:Razer Blade#</a>)</div>
</div>
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/Razer_peripherals.html" title="Razer peripherals">Razer_peripherals</a></li>
<li><a href="../en/NVIDIA.html" title="NVIDIA">NVIDIA</a></li>
</ul>
</div>
<p>Razer Blade is Razer's line of gaming laptops. There is currently a 13" model (Razer Blade Stealth), 15" model (Razer Blade), and a 17" model (Razer Blade Pro). 
</p>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Which specific model does this apply to? Is the following still applicable? (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Razer_Blade">Talk:Razer Blade#</a>)</div>
</div>
<p>Due to the proprietary SBUI trackpad on the 17" model, it will be extremely difficult to get it to work without extensive USB protocol reversing.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Touchpad"><span class="tocnumber">1.1</span> <span class="toctext">Touchpad</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Touchscreen"><span class="tocnumber">1.2</span> <span class="toctext">Touchscreen</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Graphics_Drivers"><span class="tocnumber">1.3</span> <span class="toctext">Graphics Drivers</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Hybrid_graphics"><span class="tocnumber">1.4</span> <span class="toctext">Hybrid graphics</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6">
<a href="#Known_issues"><span class="tocnumber">2</span> <span class="toctext">Known issues</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#2013_version_problems"><span class="tocnumber">2.1</span> <span class="toctext">2013 version problems</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#2019_Razer_Blade_Stealth"><span class="tocnumber">2.2</span> <span class="toctext">2019 Razer Blade Stealth</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Audio"><span class="tocnumber">2.3</span> <span class="toctext">Audio</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10">
<a href="#Tips_and_tricks"><span class="tocnumber">3</span> <span class="toctext">Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Tweaking"><span class="tocnumber">3.1</span> <span class="toctext">Tweaking</span></a></li>
<li class="toclevel-2 tocsection-12">
<a href="#Power_management"><span class="tocnumber">3.2</span> <span class="toctext">Power management</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#Power_modes_and_fan_control"><span class="tocnumber">3.2.1</span> <span class="toctext">Power modes and fan control</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-14">
<a href="#Troubleshooting"><span class="tocnumber">4</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-15">
<a href="#2016_model_issues"><span class="tocnumber">4.1</span> <span class="toctext">2016 model issues</span></a>
<ul>
<li class="toclevel-3 tocsection-16"><a href="#Webcam"><span class="tocnumber">4.1.1</span> <span class="toctext">Webcam</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-17">
<a href="#2014_model_issues"><span class="tocnumber">4.2</span> <span class="toctext">2014 model issues</span></a>
<ul>
<li class="toclevel-3 tocsection-18"><a href="#Possible_trackpad_solution"><span class="tocnumber">4.2.1</span> <span class="toctext">Possible trackpad solution</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-19"><a href="#Webcam_2"><span class="tocnumber">4.3</span> <span class="toctext">Webcam</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Keyboard"><span class="tocnumber">4.4</span> <span class="toctext">Keyboard</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Infinite_suspend_loop"><span class="tocnumber">4.5</span> <span class="toctext">Infinite suspend loop</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Suspend_Loop"><span class="tocnumber">4.6</span> <span class="toctext">Suspend Loop</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Suspending"><span class="tocnumber">4.7</span> <span class="toctext">Suspending</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Suspending_stall_issue"><span class="tocnumber">4.8</span> <span class="toctext">Suspending stall issue</span></a></li>
<li class="toclevel-2 tocsection-25">
<a href="#Screen_flickering_/_distorted_/_noise_on_2017_stealth"><span class="tocnumber">4.9</span> <span class="toctext">Screen flickering / distorted / noise on 2017 stealth</span></a>
<ul>
<li class="toclevel-3 tocsection-26"><a href="#Option_1:_Change_edp_vswing=2"><span class="tocnumber">4.9.1</span> <span class="toctext">Option 1: Change edp_vswing=2</span></a></li>
<li class="toclevel-3 tocsection-27"><a href="#Option_2:_Use_LTS_Kernel_With_enable_rc6=0"><span class="tocnumber">4.9.2</span> <span class="toctext">Option 2: Use LTS Kernel With enable_rc6=0</span></a></li>
<li class="toclevel-3 tocsection-28"><a href="#Option_3:_Use_intel_idle.max_cstate=1"><span class="tocnumber">4.9.3</span> <span class="toctext">Option 3: Use intel_idle.max_cstate=1</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-29"><a href="#Possible_trackpad_solution_for_2013_version"><span class="tocnumber">4.10</span> <span class="toctext">Possible trackpad solution for 2013 version</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#pcieport_PCIe_Bus_Error"><span class="tocnumber">4.11</span> <span class="toctext">pcieport PCIe Bus Error</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-31">
<a href="#2013_version"><span class="tocnumber">5</span> <span class="toctext">2013 version</span></a>
<ul>
<li class="toclevel-2 tocsection-32"><a href="#What_works"><span class="tocnumber">5.1</span> <span class="toctext">What works</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-33"><a href="#See_also"><span class="tocnumber">6</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Before uninstalling windows make sure to update the bios. It is easier to install the Razer drivers with windows. You can find updates on the <a rel="nofollow" class="external text" href="https://support.razer.com/gaming-laptops/filter/family/0/type/laptops%7C">support page</a> related to your model.
</p>
<p>If you are for some reason unable to boot into windows to perform the update, there is still a <a rel="nofollow" class="external text" href="https://github.com/jbdrthapa/razerblade15/blob/master/razerfiles/touchpad/translation_fix/pinctrl-intel-translation-fix.patch">patch</a> that you an apply to your kernel build to get things working. However, this will unlikely be maintained due to the availability of the BIOS patch.
</p>
<p>The normal installation process works in general with the exceptions enumerated below.
</p>
<h3><span class="mw-headline" id="Touchpad">Touchpad</span></h3>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-libinput">xf86-input-libinput</a></span> package: this is also the only one that will enable natural scrolling. See <a href="../en/Libinput.html" title="Libinput">Libinput</a> for more information on this driver. 
</p>
<p>Alternatively, if you prefer using the <a href="../en/Touchpad_Synaptics.html" title="Touchpad Synaptics">Touchpad Synaptics</a> driver, <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-synaptics">xf86-input-synaptics</a></span> package.
</p>
<p>If you have issues with the touchpad not working after resuming from sleep, restarting the module i2c_hid seems to work.
</p>
<p>In the 2013 version the touchpad works only on Linux 4.0+ <b>without</b> libinput-based X.Org input driver (xf86-input-libinput) thanks to <a rel="nofollow" class="external text" href="https://git.kernel.org/cgit/linux/kernel/git/jikos/hid.git/log/drivers/hid/hid-rmi.c?h=for-3.20/rmi">Andrew Duggan's work</a>.
</p>
<p>In the 2018 version the touchpad works with the vanilla kernel with <a rel="nofollow" class="external text" href="https://dl.razer.com/drivers/BladeC1/Razer%20Blade%2015%20%282018%29%20BIOS%20update%20v1.05.pdf">BIOS version 1.05</a>.
</p>
<p>In the 2019 version the touchpad works with the vanilla kernel and BIOS version 1.02.
</p>
<h3><span class="mw-headline" id="Touchscreen">Touchscreen</span></h3>
<p>While the touchscreen will provide basic functionality out of the box, it is best to use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/touchegg/">touchegg</a></span><sup><small>AUR</small></sup> to configure multitouch gestures. These include two-finger scrolling, right-click, etc.
</p>
<h3><span class="mw-headline" id="Graphics_Drivers">Graphics Drivers</span></h3>
<p>The graphics card works OK with the standard intel drivers which you can <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-intel">xf86-video-intel</a></span> package.  See <a href="../en/Intel_graphics.html" title="Intel graphics">Intel graphics</a> for more information on installation and configuration. 
</p>
<p>Issues with screen flickering seem to be resolved by changing <i>AccelMethod</i> to <i>uxa</i> as described in the <a href="../en/Intel_graphics.html#AccelMethod" title="Intel graphics">SNA issues</a> section.
</p>
<pre># cat &gt;/etc/X11/xorg.conf.d/20-intel.conf 
Section "Device"
  Identifier  "Intel Graphics"
  Driver      "intel"
  Option      "AccelMethod"  "uxa"
  #Option      "AccelMethod"  "sna"
EndSection
</pre>
<p>If you experience screen tearing while scrolling add the following line to the conf above:
<code> Option "TearFree" "true"</code> and set the "AccelMethod" to "sna" and comment out "uxa"
</p>
<p>If you have an Intel Kaby Lake chip <a href="https://en.wikipedia.org/wiki/Kaby_Lake" class="extiw" title="wikipedia:Kaby Lake">wikipedia:Kaby_Lake</a>, and the issue is not fixed with the conf above, add to <code>i915.enable_rc6=0</code> to the <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a>.
</p>
<h3><span class="mw-headline" id="Hybrid_graphics">Hybrid graphics</span></h3>
<p>If the discrete Nvidia GPU is switched off before starting Xorg or Wayland, then the system freezes. The only possible solution is to manually disable/enable the discrete card after starting the graphical session.
However there is a ACPI DSDT fix available which fixes this problem. Check the <a rel="nofollow" class="external text" href="https://github.com/m4ng0squ4sh/razer_blade_14_2016_acpi_dsdt">repository</a> for more information.
</p>
<h2><span class="mw-headline" id="Known_issues">Known issues</span></h2>
<p>The trackpad does not work with certain bios versions.
</p>
<h3><span class="mw-headline" id="2013_version_problems">2013 version problems</span></h3>
<p><a rel="nofollow" class="external text" href="http://forum.notebookreview.com/razer/729380-razer-blade-pro-under-linux.html">Source</a>
</p>
<ul>
<li>SwitchBlade UI does not work due to lack of drivers.</li>
<li><strike>Trackpad scrolling does not work.</strike></li>
</ul>
<h3><span class="mw-headline" id="2019_Razer_Blade_Stealth">2019 Razer Blade Stealth</span></h3>
<ul><li>Doesn't resume from sleep properly when the lid is opened. A workaround has been merged into the 5.6 kernel.</li></ul>
<h3><span class="mw-headline" id="Audio">Audio</span></h3>
<p>On the latest 'KabyLake' Intel CPU, if you also have a dual-boot with Windows, you might experience some audio issues when booting to Windows and restarting on Linux. The problem is no sound from the speakers and some cracking noises on the headphones - especially when using the touchpad -.
No official solution has been posted yet, but a quick hack is to completely shut down the computer (so power off, not restart).
</p>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Tweaking">Tweaking</span></h3>
<p>If you are using <a href="../en/GNOME.html" title="GNOME">GNOME</a>, the <i>gnome-tweak-tool</i> can be used to adjust the window and font scaling. A font scale of <i>1.25</i> puts the font sizes closer to how they are displayed by default in Windows 10.
</p>
<p>If you are using an external monitor that is not <a href="../en/HiDPI.html" title="HiDPI">HiDPI</a>, you can use <i>xrandr</i> to alter the scaling of the external monitor using the instructions for <a href="../en/HiDPI.html#Multiple_displays" title="HiDPI">Multiple Displays</a>. You may have better results though running <a href="../en/GNOME.html" title="GNOME">GNOME</a> on <a href="../en/Wayland.html" title="Wayland">Wayland</a>. When installed, clicking the gear icon in <a href="../en/GDM.html" title="GDM">GDM</a> will allow you to select <i>Gnome On Wayland</i> and will default to that in the future.
</p>
<h3><span class="mw-headline" id="Power_management">Power management</span></h3>
<p><a rel="nofollow" class="external text" href="https://github.com/Askannz/optimus-manager/wiki/A-guide--to-power-management-options">Configuration option 1</a> is compatible if you use <a href="../en/NVIDIA_Optimus.html#Using_optimus-manager" title="NVIDIA Optimus">optimus manager</a> to switch between intel and nvidia drivers.
</p>
<h4><span class="mw-headline" id="Power_modes_and_fan_control">Power modes and fan control</span></h4>
<p><a rel="nofollow" class="external text" href="https://github.com/rnd-ash/razer-laptop-control">Razer-Laptop-Control</a> can be used to switch between balanced, gaming and creator power modes, as well as manually adjust fan RPM for much better gaming performance and cooling. You can install it via <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/razer-laptop-control-dkms-git/">razer-laptop-control-dkms-git</a></span><sup><small>AUR</small></sup> package for the driver, and use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/razer-laptop-control-git/">razer-laptop-control-git</a></span><sup><small>AUR</small></sup> package for the CLI tool
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="2016_model_issues">2016 model issues</span></h3>
<h4><span class="mw-headline" id="Webcam">Webcam</span></h4>
<p>There is a known issue using high resolutions (more than 360p) on the webcam video driver used by this models. This is well described in this issue <a rel="nofollow" class="external text" href="https://bugzilla.kernel.org/show_bug.cgi?id=207045#c3">#207045</a> from the Linux <a href="../en/Kernel.html" title="Kernel">Kernel</a>. You can solve it using <a href="../en/Arch_Build_System.html" title="Arch Build System">Arch Build System</a> to build your custom kernel and applying this small <a rel="nofollow" class="external text" href="https://lore.kernel.org/patchwork/patch/1227775/">patch</a>. 
</p>
<p>Here is how to <a href="../en/Patching_packages.html" class="mw-redirect" title="Patch">Patch</a> your kernel.
</p>
<p><br>
</p>
<h3><span class="mw-headline" id="2014_model_issues">2014 model issues</span></h3>
<p><a rel="nofollow" class="external text" href="http://forum.notebookreview.com/razer/751074-2014-razer-blade-14-linux.html">Source</a>
</p>
<ul>
<li>touchpad  (multitouch, although this may be a kernel bug that has since been fixed)</li>
<li>keys to increase/decrease screen illumination not working</li>
<li>keys to increase/decrease keyboard illumination not working</li>
</ul>
<h4><span class="mw-headline" id="Possible_trackpad_solution">Possible trackpad solution</span></h4>
<p><a rel="nofollow" class="external text" href="https://web.archive.org/web/20140912193000/https://bbs.archlinux.org/viewtopic.php?id=173356&amp;p=2">Source</a>
</p>
<pre>git clone <a rel="nofollow" class="external free" href="https://github.com/aduggan/hid-rmi.git">https://github.com/aduggan/hid-rmi.git</a> -b rb14 # and then install it
depmod -a
</pre>
<p>Then <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-synaptics">xf86-input-synaptics</a></span> package.
</p>
<p>Feature still not working: pinch to zoom, 3rd mouse button.
</p>
<h3><span class="mw-headline" id="Webcam_2">Webcam</span></h3>
<p>Setting the uvcvideo option "quirks=128" appears to let the webcam work at 720p30, thus enabling <a rel="nofollow" class="external text" href="https://hangouts.google.com">Google Hangouts</a> support. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cheese">cheese</a></span> works after changing resolution to 720p and relaunching. Multiplying the quirk by a power of 2+ further improves video quality to a point. "quirks=512" seems to work best for one user.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/uvcvideo.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">## fix issue with built-in webcam
options uvcvideo quirks=512</pre>
<h3><span class="mw-headline" id="Keyboard">Keyboard</span></h3>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/openrazer-meta/">openrazer-meta</a></span><sup><small>AUR</small></sup> package enables backlight control capabilities (including effects) and macro controls. You may use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/polychromatic/">polychromatic</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/razercommander-git/">razercommander-git</a></span><sup><small>AUR</small></sup> for a GUI to set the keyboard options.
</p>
<p>For more information on OpenRazer, see the <a href="../en/Razer_peripherals.html#OpenRazer" title="Razer peripherals">Razer peripherals#OpenRazer</a>
</p>
<p><br>
</p>
<h3><span class="mw-headline" id="Infinite_suspend_loop">Infinite suspend loop</span></h3>
<p>Add the following kernel param:
</p>
<pre>button.lid_init_state=open
</pre>
<p>to fix the suspend-resume-loop after closing the lid the first time after boot.
</p>
<h3><span class="mw-headline" id="Suspend_Loop">Suspend Loop</span></h3>
<p>Suspending (Close laptop lid) does not seem to work with a basic installation. The lid state transitions from "open" to "closed" correctly the first time (and the system suspends), but after resuming from suspend by opening the lid, the lid state does not change back to "open". This results in the laptop entering a suspend loop because systemd monitors the lid state, sees that the lid is closed, and suspends the system.
</p>
<p>A <a rel="nofollow" class="external text" href="https://bugzilla.kernel.org/show_bug.cgi?id=187271">bug</a> was filed against the kernel ACPI driver in November 2016. It contains a fair amount of documentation on the issue along with a workaround which seems to solve the problem.
</p>
<p>To work around the issue, add the following to your <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a>:
</p>
<pre>button.lid_init_state=open
</pre>
<p>This will instruct the acpi driver to generate an extra open event when waking from suspend which will keep the system up.
</p>
<p>You can check that the setting was acknowledged:
</p>
<pre># cat /sys/module/button/parameters/lid_init_state
open
</pre>
<p>And also view all boot parameters:
</p>
<pre>$ cat /proc/cmdline 
initrd=\initramfs-linux.img ... button.lid_init_state=open
</pre>
<h3><span class="mw-headline" id="Suspending">Suspending</span></h3>
<p>Some users are reporting the laptop immediately waking up after suspending. It appears to be XHC (USB 3.0 chip) that is causing the wakeups.
</p>
<p>You can fix this by running
</p>
<pre>   echo XHC | sudo tee /proc/acpi/wakeup
</pre>
<p>This will not persist on a restart though. To run this command on every startup, see <a href="../en/Systemd.html#Writing_unit_files" title="Systemd">Systemd#Writing unit files</a>.
</p>
<h3><span class="mw-headline" id="Suspending_stall_issue">Suspending stall issue</span></h3>
<p>If you have suspending stall issue, try to add a new file in <code>/etc/modprobe.d/</code> with the following contents:
</p>
<pre>blacklist i2c_nvidia_gpu
</pre>
<p>If you have an infinite suspend loop after the first time you close laptop's lid then try adding <code>button.lid_init_state=open</code> to your <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a>.<a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?pid=1738818#p1738818">[1]</a>
</p>
<h3>
<span id="Screen_flickering_.2F_distorted_.2F_noise_on_2017_stealth"></span><span class="mw-headline" id="Screen_flickering_/_distorted_/_noise_on_2017_stealth">Screen flickering / distorted / noise on 2017 stealth</span>
</h3>
<h4>
<span id="Option_1:_Change_edp_vswing.3D2"></span><span class="mw-headline" id="Option_1:_Change_edp_vswing=2">Option 1: Change edp_vswing=2</span>
</h4>
<p>Add the <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameter">kernel parameter</a>:
</p>
<pre>i915.edp_vswing=2
</pre>
<p>Other fixes (changing xf86-video-intel settings like DRI and AccelMode do not seem to help)
</p>
<h4>
<span id="Option_2:_Use_LTS_Kernel_With_enable_rc6.3D0"></span><span class="mw-headline" id="Option_2:_Use_LTS_Kernel_With_enable_rc6=0">Option 2: Use LTS Kernel With enable_rc6=0</span>
</h4>
<p>If the above does not work try adding the following kernel param instead:
</p>
<pre>i915.enable_rc6=0
</pre>
<p>The parameter is not available in the latest kernels (e.g. "4.17.5-1") but the linux-lts kernel does (e.g. "4.14.54-1-lts"). This was the only thing I found that worked on my Razer Blade Stealth 13 with i7-8550U cpu.
</p>
<h4>
<span id="Option_3:_Use_intel_idle.max_cstate.3D1"></span><span class="mw-headline" id="Option_3:_Use_intel_idle.max_cstate=1">Option 3: Use intel_idle.max_cstate=1</span>
</h4>
<p>Instead of reverting to the LTS release, I was able to add the following kernel parameter:
</p>
<pre>intel_idle.max_cstate=1
</pre>
<p>This changes the power options for the kernel.  This will increase power usage, as it keeps the processor on all the time.  More information can be found here: <a rel="nofollow" class="external free" href="https://gist.github.com/wmealing/2dd2b543c4d3cff6cab7">https://gist.github.com/wmealing/2dd2b543c4d3cff6cab7</a> .  I did not try any other cstates.  It may be worth setting max_cstate as high as possible to reduce power usage. I have tested from 8 downward and the first one to work was "intel_idle.max_cstate=4"
</p>
<h3><span class="mw-headline" id="Possible_trackpad_solution_for_2013_version">Possible trackpad solution for 2013 version</span></h3>
<p><a rel="nofollow" class="external text" href="https://web.archive.org/web/20140912193000/https://bbs.archlinux.org/viewtopic.php?id=173356&amp;p=2">Source</a>
</p>
<pre>git clone https://github.com/aduggan/hid-rmi.git -b rb14 # and then install it
depmod -a
</pre>
<p>Then <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-synaptics">xf86-input-synaptics</a></span> packages.
</p>
<p>Feature still not working: pinch to zoom, 3rd mouse button
</p>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> The SBUI works as a trackpad, but no linux drivers currently exist. Does it even work for basic trackpad functionality? (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Razer_Blade">Talk:Razer Blade#</a>)</div>
</div>
<h3><span class="mw-headline" id="pcieport_PCIe_Bus_Error">pcieport PCIe Bus Error</span></h3>
<p>You may see the following errors in dmesg:
</p>
<pre>kernel: pcieport 0000:00:1c.0: PCIe Bus Error: severity=Corrected, type=Data Link Layer, id=00e0(Transmitter ID)
kernel: pcieport 0000:00:1c.0:   device [8086:9d12] error status/mask=00001000/00002000
kernel: pcieport 0000:00:1c.0:    [12] Replay Timer Timeout
</pre>
<p>To fix this, add kernel param:
</p>
<pre>pci=nomsi
</pre>
<h2><span class="mw-headline" id="2013_version">2013 version</span></h2>
<h3><span class="mw-headline" id="What_works">What works</span></h3>
<p><a rel="nofollow" class="external text" href="https://web.archive.org/web/20140912192959/https://bbs.archlinux.org/viewtopic.php?id=173356">Source</a>
</p>
<ul>
<li>Wireless</li>
<li>Switchable graphics</li>
<li>Bluetooth</li>
<li>Keyboard light (HW controlled)</li>
<li>UEFI boot</li>
</ul>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/List_of_Razer_products#Laptops" class="extiw" title="wikipedia:List of Razer products">Wikipedia:List of Razer products#Laptops</a></li>
<li><a rel="nofollow" class="external text" href="https://insider.razer.com/index.php?forums/linux/">The Linux Corner on Razer Insider</a></li>
<li><a rel="nofollow" class="external text" href="http://drivers.razersupport.com//index.php?_m=downloads&amp;_a=view&amp;parentcategoryid=350&amp;nav=0%7CRazer">Systems Drivers</a></li>
<li><a rel="nofollow" class="external text" href="https://support.razer.com/gaming-laptops/filter/family/0/type/laptops%7CRazer">laptop support</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Razer.html" title="Category:Razer">Razer</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Laptop_style.html" title="Category:Pages or sections flagged with Template:Laptop style">Pages or sections flagged with Template:Laptop style</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Razer_Blade&amp;oldid=655029">https://wiki.archlinux.org/index.php?title=Razer_Blade&amp;oldid=655029</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 15 March 2021, at 14:25.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
