<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Microsemi Libero - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Microsemi_Libero rootpage-Microsemi_Libero skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Microsemi Libero</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p>From <a rel="nofollow" class="external autonumber" href="https://www.microsemi.com/product-directory/design-resources/1750-libero-soc#overview">[1]</a>:
</p>
<dl><dd>LiberoÂ® SoC Design Suite offers high productivity with its comprehensive, easy-to-learn, easy-to-adopt development tools for designing with Microsemi's PolarFire, IGLOO2, SmartFusion2, RTG4, SmartFusion, IGLOO, ProASIC3 and Fusion families.</dd></dl>
<p>This article shows how to install the Microsemi Libero FPGA Design Toolchain on Arch Linux.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-2">
<a href="#Preparations"><span class="tocnumber">1.1</span> <span class="toctext">Preparations</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#Package_installation"><span class="tocnumber">1.1.1</span> <span class="toctext">Package installation</span></a></li>
<li class="toclevel-3 tocsection-4"><a href="#Qt5_32-bit_dependencies"><span class="tocnumber">1.1.2</span> <span class="toctext">Qt5 32-bit dependencies</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-5">
<a href="#Extract_files"><span class="tocnumber">1.2</span> <span class="toctext">Extract files</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#Silent_installation"><span class="tocnumber">1.2.1</span> <span class="toctext">Silent installation</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="#Post-Installation"><span class="tocnumber">1.3</span> <span class="toctext">Post-Installation</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8">
<a href="#Launching_Libero"><span class="tocnumber">2</span> <span class="toctext">Launching Libero</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Application_menu_entry"><span class="tocnumber">2.1</span> <span class="toctext">Application menu entry</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10">
<a href="#Using_a_FlashPro_programmer"><span class="tocnumber">3</span> <span class="toctext">Using a FlashPro programmer</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Adding_udev_rules"><span class="tocnumber">3.1</span> <span class="toctext">Adding udev rules</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Removing_conflicting_kernel_module"><span class="tocnumber">3.2</span> <span class="toctext">Removing conflicting kernel module</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13">
<a href="#Troubleshooting"><span class="tocnumber">4</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#Libero_crashes_with_SysXceptError"><span class="tocnumber">4.1</span> <span class="toctext">Libero crashes with SysXceptError</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<h3><span class="mw-headline" id="Preparations">Preparations</span></h3>
<p>Libero needs about 45GiB free diskspace. <b>The size of the disk where Libero is installed must not exceed 2TB!</b>
</p>
<h4><span class="mw-headline" id="Package_installation">Package installation</span></h4>
<p>Libero depends on some 32-bit packages from multilib. In order to install multilib packages using <a href="../en/Pacman.html" title="Pacman">pacman</a>, you need to enable the <a href="../en/Official_repositories.html#multilib" class="mw-redirect" title="Multilib">multilib</a> repository first (if not already done).
</p>
<p>Install the following packages: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=openmotif">openmotif</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=zlib">zlib</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libjpeg6-turbo">libjpeg6-turbo</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-libxft">lib32-libxft</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-libpng12">lib32-libpng12</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-dbus">lib32-dbus</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-sqlite">lib32-sqlite</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-libpulse">lib32-libpulse</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-libxcomposite">lib32-libxcomposite</a></span>
</p>
<p>The License Manager binaries also need package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ld-lsb">ld-lsb</a></span> (as of lmgrd v11.16.6.0)
</p>
<h4><span class="mw-headline" id="Qt5_32-bit_dependencies">Qt5 32-bit dependencies</span></h4>
<p>Parts of Liberos shared libraries also depend on 32-bit Qt5 libraries, namely <code>libQt5XcbQpa.so.5</code>, <code>libQt5Gui.so.5</code>, <code>libQt5DBus.so.5</code> and <code>libQt5Core.so.5</code>. Sadly they are not available from the <a href="../en/Official_repositories.html#multilib" class="mw-redirect" title="Multilib">multilib</a> repository so we have to add them manually.
</p>
<p>Download the 32-bit installer of Qt at <a rel="nofollow" class="external text" href="https://www.qt.io/download-thank-you?os=linux32&amp;hsLang=en">Qt 32-bit online installer</a> and execute it:
</p>
<pre>$ chmod u+x qt-unified-linux-x86-2.0.5-2-online.run
$ ./qt-unified-linux-x86-2.0.5-2-online.run
</pre>
<p>It should be sufficient to install "Qt 5.5" -&gt; "Desktop gcc".
Set a sane installation path e.g. <code>/home/<i>user</i>/lib/qt5_32</code> where <i>user</i> is your username.
</p>
<h3><span class="mw-headline" id="Extract_files">Extract files</span></h3>
<p>The Installer unpacks its own Java Runtime and by default uses <code>/tmp</code> for temporary files even if it tells you differently. Thus make sure you have enough space available on <code>/tmp</code>! The default 8GB <a href="../en/Tmpfs.html" title="Tmpfs">tmpfs</a> is not sufficient for the installation, you have to disable it for installation and reboot the system to apply the change:
</p>
<pre># systemctl mask tmp.mount
# reboot
</pre>
<p>From <a rel="nofollow" class="external text" href="https://www.microsemi.com/product-directory/design-resources/1750-libero-soc#downloads">https://www.microsemi.com/product-directory/design-resources/1750-libero-soc#downloads</a> download the "Libero SoC v12.1 for Linux" install file (You need to create an account for that).
Make it executable and run it:
</p>
<pre>$ chmod u+x Libero_SoC_v12.1_lin.bin
$ ./Libero_SoC_v12.1_lin.bin -i console
</pre>
<p>In the installer answer the questions and set a path to extract the files to, e.g. <code>/home/<i>user</i>/programs/microsemi/libero/v12.1/</code> and <code>/home/<i>user</i>/programs/microsemi/common</code>.
There is a graphical installer available, just replace <code>console</code> with <code>gui</code> in the call above.
</p>
<h4><span class="mw-headline" id="Silent_installation">Silent installation</span></h4>
<p>You can also pass the installation parameters to the script on the commandline rather than typing them in. Following an example for a default installation:
</p>
<pre>$ ./Libero_SoC_v12.1_lin.bin -i silent \
   -DUSER_INSTALL_DIR=/home/<i>user</i>/programs/microsemi/libero/v12.1/ \
   -DUSER_COMMON_DIR=/home/<i>user</i>/programs/microsemi/common \
   -DCHOSEN_FEATURE_LIST=Synplify,ModelSim,ModelsimPro,Identify,Libero \
   -DCHOSEN_INSTALL_FEATURE_LIST=Synplify,ModelSim,ModelsimPro,Identify,Libero \
   -DCHOSEN_INSTALL_SET=Libero
</pre>
<h3><span class="mw-headline" id="Post-Installation">Post-Installation</span></h3>
<p>Reenable the <a href="../en/Tmpfs.html" title="Tmpfs">tmpfs</a> after the installation with:
</p>
<pre># systemctl unmask tmp.mount
# reboot
</pre>
<p>Some modifications have to be made for Libero to run on Arch Linux.
</p>
<p>Libero tries to load an old version of the motif library. Modify the following files and change the 3 to a 4 in the <code>case `uname`</code> block:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/home/<i>user</i>/programs/microsemi/libero/v12.1/Libero/bin/actel_setup_vars and /home/<i>user</i>/programs/microsemi/libero/v12.1/Libero/bin64/actel_setup_vars</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
case `uname` in
  SunOS)
  	...
  Linux)
    arch=lin

    # X/Motif
    <b>MOTIF_LIB=libXm.so.4</b>
    ...</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Alternatively you can create a symlink in the <code>/lib</code> directory:
<pre># ln -s /lib/libXm.so.4 /lib/libXm.so.3
</pre>
This is discouraged as it tampers with a directory preferably modified by <a href="../en/Pacman.html" title="Pacman">pacman</a> when installing packages. However it might be useful when reinstalling Libero or installing a newer version of it because the manual modification of the files above can be skipped.</div>
<p>Furthermore the outdated <code>libz</code> version shipped by Microsemi does not work with the repository version of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-libpng12">lib32-libpng12</a></span>.
In <code>/home/<i>user</i>/programs/microsemi/libero/v12.1/Libero/lib</code> do the following to make Libero use your library installed by <a href="../en/Pacman.html" title="Pacman">pacman</a>:
</p>
<pre>$ mv libz.so.1 libz.so.1.old
$ ln -s /lib/libz.so libz.so.1
</pre>
<p>Repeat the same two commands in <code>/home/<i>user</i>/programs/microsemi/libero/v12.1/Libero/libfp</code> to enable the FlashPro utilities.
</p>
<p>By mistake the installer adds double quotes around the common path when defining the vault location. Thus Libero will create a folder called <code>""</code> in the working directory when it is called. To change that either manually edit the file <code>install.def</code> to remove the double quotes from the line where <code>VAULT_LOCATION</code> is defined:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/home/<i>user</i>/programs/microsemi/libero/v12.1/Libero/data/install.def</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
data VAULT_LOCATION '/home/<i>user</i>/programs/microsemi/common/vault' OVERRIDE
...</pre>
<p>... or run the commands below to remove the quotes:
</p>
<pre>$ cd /home/<i>user</i>/programs/microsemi/libero/v12.1/Libero/data
$ sed 's/"//g' install.def &gt; tmp.def
$ cp tmp.def install.def
$ rm tmp.def
</pre>
<h2><span class="mw-headline" id="Launching_Libero">Launching Libero</span></h2>
<p>When launching Libero some environment variables have to be set.
</p>
<pre>LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/<i>user</i>/lib/qt5_32/5.5/gcc/lib
LM_LICENSE_FILE="<i>port</i>@<i>domain.of.your.license.server</i>"
SNPSLMD_LICENSE_FILE="<i>port</i>@<i>domain.of.synopsys.license.server</i>"
</pre>
<p>The <code>$LD_LIBRARY_PATH</code> has to include the libraries from the 32-bit Qt installation, <code>$LM_LICENSE_FILE</code> reflects your Libero license server on which the license daemon runs on some <i>port</i> under some url <i>domain.of.your.license.server</i>. <code>$SNPSLMD_LICENSE_FILE</code> is needed for the Synopsys tools used in Libero, set this to a different server and port if you have multiple license daemons running or to <code>$LD_LIBRARY_PATH</code> if not.
</p>
<p>With those variabled set Libero is ready to be launched with
</p>
<pre>$ /home/<i>user</i>/programs/microsemi/libero/v12.1/Libero/bin/libero
</pre>
<p>Probably you may want to create a launch script for that:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/home/<i>user</i>/scripts/launch_libero.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/<i>user</i>/lib/qt5_32/5.5/gcc/lib
export LM_LICENSE_FILE="<i>port</i>@<i>domain.of.your.license.server</i>"
export SNPSLMD_LICENSE_FILE="<i>port</i>@<i>domain.of.synopsys.license.server</i>"
/home/<i>user</i>/programs/microsemi/libero/v12.1/Libero/bin/libero</pre>
<p>Do not forget to make it executable:
</p>
<pre>$ chmod u+x /home/<i>user</i>/scripts/launch_libero.sh
</pre>
<h3><span class="mw-headline" id="Application_menu_entry">Application menu entry</span></h3>
<p>A freedesktop.org application menu entry (which a lot of desktop environments and window managers follow) can be added to the system by creating a <code>libero.desktop</code> file in your <code>~/.local/share/applications</code> directory:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.local/share/applications/libero.desktop</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Desktop Entry]
Version=1.0
Name=Libero SoC Design Suite v12.1
Comment=Microsemi Design Software for Microsemi FPGAs and SoCs
Exec=/home/<i>user</i>/scripts/launch_libero.sh
Icon=/home/<i>user</i>/programs/microsemi/libero/v12.1/libero.xpm
Terminal=false
Type=Application
Categories=Development</pre>
<h2><span class="mw-headline" id="Using_a_FlashPro_programmer">Using a FlashPro programmer</span></h2>
<p>Using a programmer (e.g. the Microsemi FlashPro5) requires two steps: Adding rules to gain device permissions and unloading a conflicting kernel module.
</p>
<h3><span class="mw-headline" id="Adding_udev_rules">Adding udev rules</span></h3>
<p>To add the correct permissions for your user to access the programmer add the following file to your <a href="../en/Udev.html" title="Udev">Udev</a> ruleset as root:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/70-microsemi.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="usb", ATTR{idVendor}=="1514", ATTR{idProduct}=="2008", MODE="0666", GROUP="microsemi-prog"
SUBSYSTEM=="usb", ATTR{idVendor}=="0403", ATTR{idProduct}=="6001", MODE="0666", GROUP="microsemi-prog"</pre>
<p>The group <code>microsemi-prog</code> is just an example, you may replace it by any group your user is in or add a new group and put your User <i>user</i> into it:
</p>
<pre># groupadd microsemi-prog
# usermod -aG microsemi-prog <i>user</i>
</pre>
<p>You have to log out and in to apply the new group for the session. In a single terminal some can also apply the new group with <code>newgrp microsemi-prog</code>. To list your groups type <code>id</code> or <code>groups</code>.
</p>
<h3><span class="mw-headline" id="Removing_conflicting_kernel_module">Removing conflicting kernel module</span></h3>
<p>When plugging in the programmer it identifies as an FTDI serial device and loads the corresponding kernel driver. Liberos software does not work with that kernel driver so we have to unload it:
</p>
<pre># rmmod ftdi_sio
</pre>
<p>To permanently unload the driver you may add it to your <a href="../en/Kernel_module.html#Blacklisting" class="mw-redirect" title="Blacklist">Blacklist</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/blacklist-ftdi.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">blacklist ftdi_sio</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Libero_crashes_with_SysXceptError">Libero crashes with SysXceptError</span></h3>
<p>Libero till version 12.1 does not work on disks larger than 2TB of size. Neither the Libero binaries nor the vault nor your home-folder nor any project may reside on a partition larger than that size. If you cannot change the size of the partition where your home-folder is located start Libero with a different path for your home on a smaller disk:
</p>
<pre>$ HOME=/path/to/fake/home libero
</pre>
<p>Some may add that to the startup-script to apply it on start.
The install and vault locations have to be set on installation or may be edited in <code>/home/<i>user</i>/programs/microsemi/libero/v12.1/Libero/data/install.def</code> when moving the files afterwards.
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Electronic_design_automation.html" title="Category:Electronic design automation">Electronic design automation</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Microsemi_Libero&amp;oldid=645091">https://wiki.archlinux.org/index.php?title=Microsemi_Libero&amp;oldid=645091</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 13 December 2020, at 13:56.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
