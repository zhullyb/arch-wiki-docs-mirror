<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>LightDM - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-LightDM rootpage-LightDM skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">LightDM</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/Display_manager.html" title="Display manager">Display manager</a></li>
<li><a href="../en/GDM.html" title="GDM">GDM</a></li>
<li><a href="../en/LXDM.html" title="LXDM">LXDM</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://github.com/canonical/lightdm">LightDM</a> is a cross-desktop <a href="../en/Display_manager.html" title="Display manager">display manager</a>. Its key features are:
</p>
<ul>
<li>Cross-desktop - supports different desktop technologies.</li>
<li>Supports different display technologies (X, Mir, Wayland ...).</li>
<li>Lightweight - low memory usage and high performance.</li>
<li>Supports guest sessions.</li>
<li>Supports remote login (incoming - <a href="../en/XDMCP.html" title="XDMCP">XDMCP</a>, <a href="../en/List_of_applications/Internet.html#Remote_desktop" class="mw-redirect" title="VNC">VNC</a>, outgoing - XDMCP, <a href="../en/PAM.html" class="mw-redirect" title="Pluggable">pluggable</a>).</li>
<li>Comprehensive test suite.</li>
<li>Low code complexity.</li>
</ul>
<p>More details about LightDM's design can be found <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/LightDM/Design">here</a>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Greeter"><span class="tocnumber">1.1</span> <span class="toctext">Greeter</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#Enabling_LightDM"><span class="tocnumber">2</span> <span class="toctext">Enabling LightDM</span></a></li>
<li class="toclevel-1 tocsection-4">
<a href="#Command_line_tool"><span class="tocnumber">3</span> <span class="toctext">Command line tool</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#User_switching"><span class="tocnumber">3.1</span> <span class="toctext">User switching</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Testing"><span class="tocnumber">4</span> <span class="toctext">Testing</span></a></li>
<li class="toclevel-1 tocsection-7">
<a href="#Optional_configuration_and_tweaks"><span class="tocnumber">5</span> <span class="toctext">Optional configuration and tweaks</span></a>
<ul>
<li class="toclevel-2 tocsection-8">
<a href="#X_session_wrapper"><span class="tocnumber">5.1</span> <span class="toctext">X session wrapper</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#Environment_variables"><span class="tocnumber">5.1.1</span> <span class="toctext">Environment variables</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#Keymap"><span class="tocnumber">5.1.2</span> <span class="toctext">Keymap</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#Multiple_keyboard_layouts_in_lightdm-gtk-greeter"><span class="tocnumber">5.1.3</span> <span class="toctext">Multiple keyboard layouts in lightdm-gtk-greeter</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-12">
<a href="#Changing_background_images/colors"><span class="tocnumber">5.2</span> <span class="toctext">Changing background images/colors</span></a>
<ul>
<li class="toclevel-3 tocsection-13">
<a href="#GTK_greeter"><span class="tocnumber">5.2.1</span> <span class="toctext">GTK greeter</span></a>
<ul>
<li class="toclevel-4 tocsection-14"><a href="#GTK3_Theme"><span class="tocnumber">5.2.1.1</span> <span class="toctext">GTK3 Theme</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-15"><a href="#Webkit2_greeter"><span class="tocnumber">5.2.2</span> <span class="toctext">Webkit2 greeter</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Unity_greeter"><span class="tocnumber">5.2.3</span> <span class="toctext">Unity greeter</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="#Slick_Greeter"><span class="tocnumber">5.2.4</span> <span class="toctext">Slick Greeter</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-18"><a href="#Changing_your_avatar"><span class="tocnumber">5.3</span> <span class="toctext">Changing your avatar</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Sources_of_Arch-centric_64x64_icons"><span class="tocnumber">5.4</span> <span class="toctext">Sources of Arch-centric 64x64 icons</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Enabling_autologin"><span class="tocnumber">5.5</span> <span class="toctext">Enabling autologin</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Enabling_interactive_passwordless_login"><span class="tocnumber">5.6</span> <span class="toctext">Enabling interactive passwordless login</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Enabling_guest_sessions"><span class="tocnumber">5.7</span> <span class="toctext">Enabling guest sessions</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Hiding_system_and_services_users"><span class="tocnumber">5.8</span> <span class="toctext">Hiding system and services users</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Migrating_from_SLiM"><span class="tocnumber">5.9</span> <span class="toctext">Migrating from SLiM</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Login_using_~/.xinitrc"><span class="tocnumber">5.10</span> <span class="toctext">Login using ~/.xinitrc</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#NumLock_on_by_default"><span class="tocnumber">5.11</span> <span class="toctext">NumLock on by default</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#Default_session"><span class="tocnumber">5.12</span> <span class="toctext">Default session</span></a></li>
<li class="toclevel-2 tocsection-28">
<a href="#Adjusting_the_login_window's_position"><span class="tocnumber">5.13</span> <span class="toctext">Adjusting the login window's position</span></a>
<ul>
<li class="toclevel-3 tocsection-29"><a href="#GTK_greeter_2"><span class="tocnumber">5.13.1</span> <span class="toctext">GTK greeter</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-30"><a href="#VNC_Server"><span class="tocnumber">5.14</span> <span class="toctext">VNC Server</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Lock_the_screen_using_light-locker"><span class="tocnumber">5.15</span> <span class="toctext">Lock the screen using light-locker</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-32">
<a href="#Troubleshooting"><span class="tocnumber">6</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-33"><a href="#Viewing_current_configuration"><span class="tocnumber">6.1</span> <span class="toctext">Viewing current configuration</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#LightDM_not_starting_and_screen_flashing"><span class="tocnumber">6.2</span> <span class="toctext">LightDM not starting and screen flashing</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#Wrong_locale_displayed"><span class="tocnumber">6.3</span> <span class="toctext">Wrong locale displayed</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#Unresponsive_for_a_few_minutes_after_startup"><span class="tocnumber">6.4</span> <span class="toctext">Unresponsive for a few minutes after startup</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#Missing_icons_with_GTK_greeter"><span class="tocnumber">6.5</span> <span class="toctext">Missing icons with GTK greeter</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#LightDM_freezes_on_login_attempt"><span class="tocnumber">6.6</span> <span class="toctext">LightDM freezes on login attempt</span></a></li>
<li class="toclevel-2 tocsection-39"><a href="#LightDM_displaying_in_wrong_monitor"><span class="tocnumber">6.7</span> <span class="toctext">LightDM displaying in wrong monitor</span></a></li>
<li class="toclevel-2 tocsection-40"><a href="#LightDM_does_not_appear_or_monitor_only_displays_TTY_output"><span class="tocnumber">6.8</span> <span class="toctext">LightDM does not appear or monitor only displays TTY output</span></a></li>
<li class="toclevel-2 tocsection-41"><a href="#LightDM_is_running_with_low_FPS_on_Intel_Graphics"><span class="tocnumber">6.9</span> <span class="toctext">LightDM is running with low FPS on Intel Graphics</span></a></li>
<li class="toclevel-2 tocsection-42"><a href="#Pulseaudio_not_starting_automatically"><span class="tocnumber">6.10</span> <span class="toctext">Pulseaudio not starting automatically</span></a></li>
<li class="toclevel-2 tocsection-43"><a href="#Long_pause_before_LightDM_shows_up_when_home_is_encrypted"><span class="tocnumber">6.11</span> <span class="toctext">Long pause before LightDM shows up when home is encrypted</span></a></li>
<li class="toclevel-2 tocsection-44"><a href="#Boot_hangs_on_%22%5B_OK_%5D_Reached_target_Graphical_Interface.%22"><span class="tocnumber">6.12</span> <span class="toctext">Boot hangs on "[  OK  ] Reached target Graphical Interface."</span></a></li>
<li class="toclevel-2 tocsection-45"><a href="#Wayland_session_not_working_with_duplicate_GNOME_entries_in_greeter"><span class="tocnumber">6.13</span> <span class="toctext">Wayland session not working with duplicate GNOME entries in greeter</span></a></li>
<li class="toclevel-2 tocsection-46"><a href="#Login_always_segfaults_on_first_attempt"><span class="tocnumber">6.14</span> <span class="toctext">Login always segfaults on first attempt</span></a></li>
<li class="toclevel-2 tocsection-47"><a href="#Infinite_login_loop"><span class="tocnumber">6.15</span> <span class="toctext">Infinite login loop</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-48"><a href="#See_also"><span class="tocnumber">7</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm">lightdm</a></span> package.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Stable releases are even-numbered (1.8, 1.10) while development releases are odd-numbered (1.9, 1.11). These development releases are available with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lightdm-devel/">lightdm-devel</a></span><sup><small>AUR</small></sup>. Also available is <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lightdm-git/">lightdm-git</a></span><sup><small>AUR</small></sup>.</div>
<h3><span class="mw-headline" id="Greeter">Greeter</span></h3>
<p>You will probably want to install a greeter. A greeter is a GUI that prompts the user for credentials, lets the user select a session, and so on. It is possible to use LightDM without a greeter, but only if an automatic login is configured; otherwise you will need to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-server">xorg-server</a></span> and one of the greeter packages below.
</p>
<p>The official repositories contain the following greeters:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-gtk-greeter">lightdm-gtk-greeter</a></span>: this is the <b>default</b> greeter LightDM attempts to use when started unless configured to do otherwise.</li>
<li>lightdm-deepin-greeter (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=deepin-session-ui">deepin-session-ui</a></span>): A greeter from the <a href="../en/Deepin_Desktop_Environment.html" class="mw-redirect" title="Deepin">Deepin</a> project.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-pantheon-greeter">lightdm-pantheon-greeter</a></span>: A greeter from the elementary OS project.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-webkit2-greeter">lightdm-webkit2-greeter</a></span>: A greeter that uses Webkit2 for theming. It supersedes <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lightdm-webkit-greeter/">lightdm-webkit-greeter</a></span><sup><small>AUR</small></sup>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-webkit-theme-litarvan">lightdm-webkit-theme-litarvan</a></span>: A modern and full-featured Webkit2 LightDM theme.</li>
</ul>
<p>Other alternative greeters are available in the <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lightdm-slick-greeter/">lightdm-slick-greeter</a></span><sup><small>AUR</small></sup>: A GTK based greeter focused more on appearance than <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-gtk-greeter">lightdm-gtk-greeter</a></span>, forked from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lightdm-unity-greeter/">lightdm-unity-greeter</a></span><sup><small>AUR</small></sup>, and default in Linux Mint.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lightdm-unity-greeter/">lightdm-unity-greeter</a></span><sup><small>AUR</small></sup>: The greeter used by Unity.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lightdm-mini-greeter/">lightdm-mini-greeter</a></span><sup><small>AUR</small></sup>: A minimal, configurable, single-user greeter.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lightdm-webkit-theme-aether/">lightdm-webkit-theme-aether</a></span><sup><small>AUR</small></sup>: A sleek, straightforward Archlinux themed login screen written on lightdm and the lightdm-webkit2-greeter.</li>
</ul>
<p>You can set the default greeter by changing the <code>[Seat:*]</code> section of the LightDM configuration file, like so:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/lightdm.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Seat:*]
...
greeter-session=lightdm-<i>yourgreeter</i>-greeter
...</pre>
<p>One way to check which greeters are available is to list the files in the <code>/usr/share/xgreeters</code> directory; each  <i>.desktop</i> file represents an available greeter. In this example, the <code>lightdm-gtk-greeter</code> and <code>lightdm-webkit2-greeter</code> greeters are available:
</p>
<pre>$ ls -1 /usr/share/xgreeters/
lightdm-gtk-greeter.desktop
lightdm-webkit2-greeter.desktop
</pre>
<h2><span class="mw-headline" id="Enabling_LightDM">Enabling LightDM</span></h2>
<p>Make sure to <a href="../en/Systemd.html#Using_units" class="mw-redirect" title="Enable">enable</a> <code>lightdm.service</code> so LightDM will be started at boot; see also <a href="../en/Display_manager.html#Loading_the_display_manager" title="Display manager">Display manager#Loading the display manager</a>.
</p>
<pre>$ systemctl enable lightdm
</pre>
<h2><span class="mw-headline" id="Command_line_tool">Command line tool</span></h2>
<p>LightDM offers a command line tool, <code>dm-tool</code>, which can be used to lock the current seat, switch sessions, etc, which is useful with 'minimalist' window managers and for testing. To see a list of available commands, execute:
</p>
<pre>$ dm-tool --help
</pre>
<h3><span class="mw-headline" id="User_switching">User switching</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Is this warning inappropriate? <code>dm-tool lock</code> and <code>dm-tool switch-to-greeter</code> are NOT screen lockers. They only switch to the LightDM greeter and send a notification to lock the session (as <code>loginctl lock-session</code>). This notification should be processed by a screen locker or redirected by <i>xss-lock</i>. In the absence of a screen locker to listen, there is nothing <code>dm-tool ...</code> can do - but that's not LightDM's fault. This issue is well known and touched upon <a href="../en/List_of_applications.html#Screen_lockers" title="List of applications">here</a> and <a href="../en/XScreenSaver.html#Lock_on_suspend" title="XScreenSaver">here</a>. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:LightDM">Talk:LightDM#</a>)</div>
</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> The use of lightDM's built-in screen lockers like <code>dm-tool lock</code> or <code>dm-tool switch-to-greeter</code> are <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1712213#p1712213"><b>not</b> recommended</a>. Use <a href="#Lock_the_screen_using_light-locker">light-locker</a> or something from <a href="../en/List_of_applications/Security.html#Screen_lockers" title="List of applications/Security">List of applications/Security#Screen lockers</a>.</div>
<p>LightDM's <i>dm-tool</i> command can be used to allow multiple users to be logged in on separate ttys. The following will send a signal requesting that the current session be locked and then will initiate a switch to LightDM's greeter, allowing a new user to log in to the system.
</p>
<pre>$ dm-tool switch-to-greeter
</pre>
<h2><span class="mw-headline" id="Testing">Testing</span></h2>
<p>First, <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-server-xephyr">xorg-server-xephyr</a></span> from the <a href="../en/Official_repositories.html" title="Official repositories">official repositories</a>.
</p>
<p>Then, run LightDM as an X application:
</p>
<pre>$ lightdm --test-mode --debug
</pre>
<h2><span class="mw-headline" id="Optional_configuration_and_tweaks">Optional configuration and tweaks</span></h2>
<p>LightDM can be configured by modifying its config file, <code>/etc/lightdm/lightdm.conf</code>.
</p>
<p>Some greeters have their own configuration files. For example:
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-gtk-greeter">lightdm-gtk-greeter</a></span>: <code>/etc/lightdm/lightdm-gtk-greeter.conf</code> (or you can use the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-gtk-greeter-settings">lightdm-gtk-greeter-settings</a></span> gui).
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-webkit2-greeter">lightdm-webkit2-greeter</a></span>: <code>/etc/lightdm/lightdm-webkit2-greeter.conf</code>
</p>
<h3><span class="mw-headline" id="X_session_wrapper">X session wrapper</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" decoding="async" width="48" height="48"></a><b>This article or section is a candidate for merging with <a href="../en/Xprofile.html" title="Xprofile">Xprofile</a>.</b><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Notes:</b> Duplicated information (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:LightDM">Talk:LightDM#</a>)</div>
</div>
<p>If you are migrating from <a href="../en/Xinit.html" title="Xinit">xinit</a>, you will notice that the display is not launched by your shell. This is because, as opposed to your shell starting the display (and the display inheriting the environment of your shell), LightDM starts your display and does not source your shell. LightDM launches the display by running a wrapper script and that finally exec's your graphic environment. By default, <code>/etc/lightdm/Xsession</code> is run.
</p>
<h4><span class="mw-headline" id="Environment_variables">Environment variables</span></h4>
<p>The script checks and sources <code>/etc/profile</code>, <code>~/.profile</code>,  <code>/etc/xprofile</code> and  <code>~/.xprofile</code>, in that order. If you are using a shell that does not source any of these files, you can create an  <code>~/.xprofile</code> to do so. (In this example, the login shell is <a href="../en/Zsh.html" title="Zsh">zsh</a>)
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.xprofile</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
[[ -f ~/.config/zsh/.zshenv ]] &amp;&amp; source ~/.config/zsh/.zshenv</pre>
<p>If you have shell variables that are important for your display (such as Gtk or QT themes, GNUPG location, config overrides, etc.) this will let your graphic environment have access to your environment without having to be launched by your login shell.
</p>
<h4><span class="mw-headline" id="Keymap">Keymap</span></h4>
<p>The script runs <a href="../en/X_keyboard_extension.html" class="mw-redirect" title="Xkbmap">Xkbmap</a> with arguments provided in files <code>/etc/X11/Xkbmap</code>, <code>~/.Xkbmap</code>. If those files are not found, it runs <a href="../en/Xmodmap.html" title="Xmodmap">xmodmap</a> with <code>/etc/X11/Xmodmap</code>, <code>~/.Xmodmap</code>. If using xkbmap, the files are parsed using cat. The following example works
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.Xmodmap</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">-model pc105 -layout us,us,tr -variant ,dvorak,f -option grp:caps_toggle</pre>
<p>Otherwise, the session inherits the system default mapping of X11. This mapping can be defined in the xorg configuration files, either manually or with <code>localectl set-x11-keymap</code>. See <a href="../en/Xorg/Keyboard_configuration.html#Setting_keyboard_layout" title="Xorg/Keyboard configuration">Xorg/Keyboard configuration#Setting keyboard layout</a>.
</p>
<h4><span class="mw-headline" id="Multiple_keyboard_layouts_in_lightdm-gtk-greeter">Multiple keyboard layouts in lightdm-gtk-greeter</span></h4>
<p>To enable users switch between pre-defined keyboard layouts on the log-in screen enable the drop-down menu and configure the layouts. Either use the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-gtk-greeter-settings">lightdm-gtk-greeter-settings</a></span> gui or edit the configuration file directly:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/lightdm-gtk-greeter.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[greeter]
indicators = ~hosts;~spacer;~clock;~spacer;~layout;~language;~session;~ally;~power</pre>
<p>Use <a href="../en/Xorg/Keyboard_configuration.html#Using_localectl" title="Xorg/Keyboard configuration">localectl</a> to set multiple layouts, e.g. de and its “variant” neo with the latter as primary:
</p>
<pre># localectl --no-convert set-x11-keymap de,de pc105 neo,
</pre>
<p>Note the trailing comma which implies a blank variant for the second de.
</p>
<h3>
<span id="Changing_background_images.2Fcolors"></span><span class="mw-headline" id="Changing_background_images/colors">Changing background images/colors</span>
</h3>
<p>You can set the background to a hex color or an image. Some greeters offer more robust background options like background selection from the login screen, random backgrounds, etc.
</p>
<h4><span class="mw-headline" id="GTK_greeter">GTK greeter</span></h4>
<p>You can use the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-gtk-greeter-settings">lightdm-gtk-greeter-settings</a></span> gui.
</p>
<p>Users wishing to customize the wallpaper on the greeter screen need to edit <code>/etc/lightdm/lightdm-gtk-greeter.conf</code> and define the <code>background</code> variable under the <code>[greeter]</code> section. For example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/lightdm-gtk-greeter.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[greeter]
background=/usr/share/pixmaps/black_and_white_photography-wallpaper-1920x1080.jpg</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> It is recommended to place the PNG or JPG file in <code>/usr/share/pixmaps</code> since the LightDM user needs read access to the wallpaper file.</div>
<h5><span class="mw-headline" id="GTK3_Theme">GTK3 Theme</span></h5>
<p>GTK3 themes can be specified with the <code>theme-name</code> variable in the <code>[greeter]</code> section of <code>/etc/lightdm/lightdm-gtk-greeter.conf</code> For example, <code>theme-name=Adwaita-dark</code>.
</p>
<h4><span class="mw-headline" id="Webkit2_greeter">Webkit2 greeter</span></h4>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-webkit2-greeter">lightdm-webkit2-greeter</a></span> allows you to choose a background image directly on the login screen. It also offers an option to display a random image each time it starts if you use the <a rel="nofollow" class="external text" href="https://github.com/artur9010/lightdm-webkit-material">Material theme</a>. By default, images are sourced from <code>/usr/share/backgrounds</code>. You can change the background images directory by editing <code>lightdm-webkit2-greeter.conf</code>. For example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/lightdm-webkit2-greeter.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[branding]
background_images = /usr/share/backgrounds</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The background images directory must be accessible to the LightDM user so it should not be located anywhere under <code>/home</code>. </div>
<h4><span class="mw-headline" id="Unity_greeter">Unity greeter</span></h4>
<p>Users using the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lightdm-unity-greeter/">lightdm-unity-greeter</a></span><sup><small>AUR</small></sup> must edit the <code>/usr/share/glib-2.0/schemas/com.canonical.unity-greeter.gschema.xml</code> file and then execute:
</p>
<pre># glib-compile-schemas /usr/share/glib-2.0/schemas/
</pre>
<p>According to <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=149945">this</a> page.
</p>
<h4><span class="mw-headline" id="Slick_Greeter">Slick Greeter</span></h4>
<p>Use the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lightdm-settings/">lightdm-settings</a></span><sup><small>AUR</small></sup> GUI 
</p>
<h3><span class="mw-headline" id="Changing_your_avatar">Changing your avatar</span></h3>
<p>First, make sure the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=accountsservice">accountsservice</a></span> package from the <a href="../en/Official_repositories.html" title="Official repositories">official repositories</a> is installed, then set it up as follows, replacing <code><i>username</i></code> with the desired user's login name.
</p>
<ul>
<li>Create the file <code>/var/lib/AccountsService/icons/<i>username</i>.png</code> using a 96x96 PNG image file. Different image file formats are possible too, e.g., JPEG.</li>
<li>Alternatively, create the image file as <code>/home/<i>username</i>/.face</code> and skip the next step if the defaults already point to the user home directory path</li>
<li>Edit or create the account settings file <code>/var/lib/AccountsService/users/<i>username</i></code>, and add the lines</li>
</ul>
<pre>[User]
Icon=/var/lib/AccountsService/icons/<i>username</i>.png
</pre>
<p>The filename here should point to the icon created in the first step, so adjust the filename extension if necessary.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Make sure that both created files have 644 permissions, use <a href="../en/File_permissions_and_attributes.html#Changing_permissions" class="mw-redirect" title="Chmod">chmod</a> to correct them.</div>
<h3><span class="mw-headline" id="Sources_of_Arch-centric_64x64_icons">Sources of Arch-centric 64x64 icons</span></h3>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/archlinux-artwork/">archlinux-artwork</a></span><sup><small>AUR</small></sup> package contains some nice examples that install to <code>/usr/share/archlinux/icons</code> and that can be copied to <code>/usr/share/icons/hicolor/64x64/devices</code> as follows:
</p>
<pre># find /usr/share/archlinux/icons -name "*64*" -exec cp {} /usr/share/icons/hicolor/64x64/devices \;
</pre>
<p>After copying, the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/archlinux-artwork/">archlinux-artwork</a></span><sup><small>AUR</small></sup> package can be removed.
</p>
<h3><span class="mw-headline" id="Enabling_autologin">Enabling autologin</span></h3>
<p>Edit the LightDM configuration file and ensure these lines are uncommented and correctly configured:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/lightdm.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Seat:*]
autologin-user=<i>username</i></pre>
<p>You must be part of the <code>autologin</code> group to be able to login automatically without entering your password:
</p>
<pre># groupadd -r autologin
# gpasswd -a <i>username</i> autologin
</pre>
<p>LightDM logs in using the session specified in the <code>~/.dmrc</code> of the user getting logged in automatically. To override this file, specify <code>autologin-session</code> in <code>lightdm.conf</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/lightdm.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Seat:*]
autologin-user=<i>username</i>
autologin-session=<i>session</i></pre>
<p>The list of valid session names can be found by listing <code>/usr/share/xsessions/*.desktop</code> for X's sessions and <code>/usr/share/wayland-sessions/*.desktop</code> for Wayland's.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> GNOME users, and by extension any gnome-keyring user will have to set up a blank password to their keyring for it to be unlocked automatically.</div>
<h3><span class="mw-headline" id="Enabling_interactive_passwordless_login">Enabling interactive passwordless login</span></h3>
<p>LightDM goes through PAM so you must configure the lightdm configuration of PAM:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pam.d/lightdm</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#%PAM-1.0
<b>auth        sufficient  pam_succeed_if.so user ingroup nopasswdlogin</b>
auth        include     system-login
...</pre>
<p>You must then also be part of the <code>nopasswdlogin</code> group to be able to login interactively without entering your password:
</p>
<pre># groupadd -r nopasswdlogin
# gpasswd -a <i>username</i> nopasswdlogin
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> GNOME users, and by extension any gnome-keyring user may have to follow the instructions at the end of the previous section on enabling autologin.</div>
<p>To create a new user account that logs in automatically and additionally able to login again without a password the user can be created with supplementary membership of both groups, e.g.:
</p>
<pre># useradd -mG autologin,nopasswdlogin -s /bin/bash <i>username</i>
</pre>
<h3><span class="mw-headline" id="Enabling_guest_sessions">Enabling guest sessions</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> A guest user has passwordless access to your system after enabling this feature.</div> 
<p>To enable guest sessions in LightDM (without changing your system configuration) you need at least two things:
</p>
<ol>
<li>a <b>guest-account-script</b>: defaults to <code>guest-account</code> and accepts two commands:
<ul>
<li>
<b>add</b> (to create a temporary guest system account and returns the user name of the created account)</li>
<li>
<b>remove</b> <i>account name</i>(to delete the corresponding account)</li>
</ul>
</li>
<li>an <a href="#Enabling_autologin"><b>autologin</b></a> group to which the created guest account must be added (cf. <code>/etc/pam.d/lightdm-autologin</code>)</li>
</ol>
<p>There are two AUR packages that enable guest sessions in lightdm:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lightdm-guest/">lightdm-guest</a></span><sup><small>AUR</small></sup> which provides the (largely unmodified) upstream guest-session script as well as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm">lightdm</a></span> itself.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lightdm-guest-account/">lightdm-guest-account</a></span><sup><small>AUR</small></sup> which provides only a minimal version of the script.</li>
</ul>
<h3><span class="mw-headline" id="Hiding_system_and_services_users">Hiding system and services users</span></h3>
<p>To prevent system users from showing-up in the login, install the optional dependency <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=accountsservice">accountsservice</a></span>, or add the user names to <code>/etc/lightdm/users.conf</code> under <code>hidden-users</code>. The first option has the advantage of not needing to update the list when more users are added or removed.
</p>
<h3><span class="mw-headline" id="Migrating_from_SLiM">Migrating from SLiM</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" decoding="async" width="48" height="48"></a><b>This article or section is a candidate for merging with <a href="../en/Display_manager.html" class="mw-redirect" title="Display Manager">Display Manager</a>.</b><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Notes:</b> Not LightDM specific (or even SLiM specific for that matter as <a href="../en/XDM.html" title="XDM">XDM</a> also uses <a href="../en/Xinit.html#xinitrc" class="mw-redirect" title="Xinitrc">xinitrc</a>). Perhaps this merits a one-liner somewhere on the <a href="../en/Display_manager.html" class="mw-redirect" title="Display Manager">Display Manager</a> page? (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:LightDM">Talk:LightDM#</a>)</div>
</div>
<p>Move the contents of <a href="../en/Xinit.html#xinitrc" class="mw-redirect" title="Xinitrc">xinitrc</a> to <a href="../en/Xprofile.html" title="Xprofile">xprofile</a>, removing the call to start the <a href="../en/Window_manager.html" title="Window manager">window manager</a> or <a href="../en/Desktop_environment.html" title="Desktop environment">desktop environment</a>.
</p>
<h3>
<span id="Login_using_.7E.2F.xinitrc"></span><span class="mw-headline" id="Login_using_~/.xinitrc">Login using ~/.xinitrc</span>
</h3>
<p>See <a href="../en/Display_manager.html#Run_~/.xinitrc_as_a_session" title="Display manager">Display manager#Run ~/.xinitrc as a session</a>.
</p>
<h3><span class="mw-headline" id="NumLock_on_by_default">NumLock on by default</span></h3>
<p>Install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=numlockx">numlockx</a></span> package and then edit <code>/etc/lightdm/lightdm.conf</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/lightdm.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Seat:*]
greeter-setup-script=/usr/bin/numlockx on</pre>
<h3><span class="mw-headline" id="Default_session">Default session</span></h3>
<p>Lightdm, like other DMs, stores the last-selected xsession in <code>~/.dmrc</code>. See <a href="../en/Display_manager.html#Session_configuration" title="Display manager">Display manager#Session configuration</a> for more info.
</p>
<h3>
<span id="Adjusting_the_login_window.27s_position"></span><span class="mw-headline" id="Adjusting_the_login_window's_position">Adjusting the login window's position</span>
</h3>
<h4><span class="mw-headline" id="GTK_greeter_2">GTK greeter</span></h4>
<p>Users need to edit <code>/etc/lightdm/lightdm-gtk-greeter.conf</code> and enter a value for the <code>position</code> variable. It accepts <code>x</code> and <code>y</code> values, either absolute (in pixels) or relative (in percent). Each value can also have an additional anchor location for the window, <code>start</code>, <code>center</code> and <code>end</code> separated from the value by a comma.
</p>
<p>Example:
</p>
<pre>position=200,start 50%,center
</pre>
<h3><span class="mw-headline" id="VNC_Server">VNC Server</span></h3>
<p>Lightdm can also be used to connect to via VNC. Make sure to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tigervnc">tigervnc</a></span> on the server side and optionally as your VNC client on the client PC.
</p>
<p>Setup an authentication password on the server as root:
</p>
<pre># vncpasswd /etc/vncpasswd
</pre>
<p>Edit the LightDM configuration file as shown below. Note that <code>listen-address</code> configures the VNC to only listen to connections from localhost. This is used to only allow connections via <a href="../en/TigerVNC.html#On_the_client" title="TigerVNC">SSH and port forwarding</a>. On the SSH client, make sure that you use <code>localhost:5900</code> for the tunnel destination; using <code>127.0.0.1:5900</code> or <code>::1:5900</code> is not reliable on dual stack network connections. If you want to allow insecure connections you can disable this setting.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/lightdm.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[VNCServer]
enabled=true
command=Xvnc -rfbauth /etc/vncpasswd
port=5900
listen-address=localhost
width=1024
height=768
depth=24</pre>
<p>Now open an SSH tunnel and connect to localhost as described in <a href="../en/TigerVNC.html#On_the_client" title="TigerVNC">TigerVNC#On the client</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If you get a blank screen upon opening the VNC connection, try a different LightDM greeter.</div>
<h3><span class="mw-headline" id="Lock_the_screen_using_light-locker">Lock the screen using light-locker</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=light-locker">light-locker</a></span> is a simple screen locker using LightDM to authenticate the user. Once it is installed and running you can lock your session using
</p>
<pre>$ light-locker-command -l
</pre>
<p>This requires <code>light-locker</code> to be started at the beginning of your session - see <a href="../en/Autostarting.html" title="Autostarting">Autostarting</a>.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Viewing_current_configuration">Viewing current configuration</span></h3>
<p>To view effective configuration, run
</p>
<pre>$ lightdm --show-config
</pre>
<p>This will show current settings, with the configuration files these settings were read from. 
</p>
<h3><span class="mw-headline" id="LightDM_not_starting_and_screen_flashing">LightDM not starting and screen flashing</span></h3>
<p>If you encounter consistent screen flashing and ultimately no LightDM on boot, ensure that you have defined the greeter correctly in LightDM's config file. And if you have correctly defined the GTK greeter, make sure the <code>xsessions-directory</code> (default: <code>/usr/share/xsessions</code>) exists and contains at least one .desktop file.
</p>
<p>The same error can happen on lightdm startup if the last used session is not available anymore (eg. you last used gnome and then removed the gnome-session package): the easiest workaround is to temporarily restore the removed package. Another solution might be:
</p>
<pre># dbus-send --system --type=method_call --print-reply --dest=org.freedesktop.Accounts /org/freedesktop/Accounts/User1000 org.freedesktop.Accounts.User.SetXSession string:xfce
</pre>
<p>This example sets the session "xfce" as default for the user 1000.
</p>
<h3><span class="mw-headline" id="Wrong_locale_displayed">Wrong locale displayed</span></h3>
<p>In case of your locale not being displayed correctly in Lightdm add your locale to <code>/etc/environment</code>
</p>
<pre> LANG=pt_PT.utf8
</pre>
<p>Alternatively if you want LightDM and its greeters to be in a language other than your set system locale, you can use the <code>Environment=</code> option in <a href="../en/Systemd.html#Drop-in_files" title="Systemd">Systemd#Drop-in files</a>.
</p>
<h3><span class="mw-headline" id="Unresponsive_for_a_few_minutes_after_startup">Unresponsive for a few minutes after startup</span></h3>
<p>You may have to download more entropy. Install and enable haveged, c.f. <a rel="nofollow" class="external free" href="https://github.com/canonical/lightdm/issues/17">https://github.com/canonical/lightdm/issues/17</a>
</p>
<h3><span class="mw-headline" id="Missing_icons_with_GTK_greeter">Missing icons with GTK greeter</span></h3>
<p>If you are using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-gtk-greeter">lightdm-gtk-greeter</a></span> as a greeter and it shows placeholder images as icons, make sure valid icon themes and themes are installed and configured. Check the following file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/lightdm-gtk-greeter.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[greeter]
theme-name=mate      # this should be the name of a directory under /usr/share/themes/
icon-theme-name=mate # this should be the name of a fully featured icons set directory under /usr/share/icons/</pre>
<h3><span class="mw-headline" id="LightDM_freezes_on_login_attempt">LightDM freezes on login attempt</span></h3>
<p>You may find that after entering the correct username and password and attempting to log in, LightDM freezes and you are unable to continue to the desktop. To fix the issue, reinstall the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gdk-pixbuf2">gdk-pixbuf2</a></span> package. See <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=179031">this forum thread</a>.
</p>
<h3><span class="mw-headline" id="LightDM_displaying_in_wrong_monitor">LightDM displaying in wrong monitor</span></h3>
<p>If you are using multiple monitors, LightDM may display in the wrong one (e.g. if your primary monitor is on the right). To force the LightDM login screen to display on a specific monitor, edit <code>/etc/lightdm/lightdm.conf</code> and change the <i>display-setup-script</i> parameter like this:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/lightdm.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">display-setup-script=xrandr --output <i>HDMI1</i> --primary</pre>
<p>Replace <i>HDMI1</i> with your real monitor ID, which you can find from <b>xrandr</b> command output.
</p>
<p>Alternatively, if you are using the GTK greeter, you can edit <code>/etc/lightdm/lightdm-gtk-greeter.conf</code> and add the <i>active-monitor</i> parameter like this:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/lightdm-gtk-greeter.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[greeter]
active-monitor=0</pre>
<p>Replace 0 with the desired display number.
</p>
<h3><span class="mw-headline" id="LightDM_does_not_appear_or_monitor_only_displays_TTY_output">LightDM does not appear or monitor only displays TTY output</span></h3>
<p>It may happen that your system boots so fast that LightDM service is started before your graphics drivers are properly loaded. If this is your case, you will want to add the following config to your lightdm.conf file:
</p>
<pre>   [LightDM]
   logind-check-graphical=true
</pre>
<p>This setting will tell LightDM to wait until graphics devices are ready before spawning greeters/autostarting sessions on them.
</p>
<h3><span class="mw-headline" id="LightDM_is_running_with_low_FPS_on_Intel_Graphics">LightDM is running with low FPS on Intel Graphics</span></h3>
<p>See <a href="../en/Intel_graphics.html#AccelMethod" title="Intel graphics">Intel graphics#AccelMethod</a>.
</p>
<h3><span class="mw-headline" id="Pulseaudio_not_starting_automatically">Pulseaudio not starting automatically</span></h3>
<p>See <a href="../en/PulseAudio.html#Running" title="PulseAudio">PulseAudio#Running</a>.
</p>
<h3><span class="mw-headline" id="Long_pause_before_LightDM_shows_up_when_home_is_encrypted">Long pause before LightDM shows up when home is encrypted</span></h3>
<p>Some LightDM themes try to access the user avatar located in HOME. If your HOME is encrypted, LightDM cannot access it and hangs. To prevent this from happening, you can either:
</p>
<ul>
<li>Set your avatar as explained in <a href="#Changing_your_avatar">#Changing your avatar</a>
</li>
<li>for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-gtk-greeter">lightdm-gtk-greeter</a></span> only: <code>hide-user-image = true</code> in <code>/etc/lightdm/lightdm-gtk-greeter.conf</code>
</li>
</ul>
<h3>
<span id="Boot_hangs_on_.22.5B_OK_.5D_Reached_target_Graphical_Interface..22"></span><span class="mw-headline" id='Boot_hangs_on_"[_OK_]_Reached_target_Graphical_Interface."'>Boot hangs on "[  OK  ] Reached target Graphical Interface."</span>
</h3>
<p>There is a possibility that user and group lookups fail if you modified /etc/nsswitch.conf. That happens when:
</p>
<ul><li>nsswitch.conf group: includes  <code>ldap</code> without setting <code>nss_initgroups_ignoreusers ALLLOCAL</code> in <code>/etc/nslcd.conf</code>
</li></ul>
<h3><span class="mw-headline" id="Wayland_session_not_working_with_duplicate_GNOME_entries_in_greeter">Wayland session not working with duplicate GNOME entries in greeter</span></h3>
<ul><li>Some greeters (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lightdm-webkit2-greeter">lightdm-webkit2-greeter</a></span> for example) do not support two sessions with the same name <a rel="nofollow" class="external autonumber" href="https://github.com/CanonicalLtd/lightdm/issues/16">[1]</a>. To check for duplicate entries:</li></ul>
<pre>ls -1 /usr/share/wayland-sessions /usr/share/xsessions
</pre>
<ul><li>Rename the duplicate entry in /usr/share/xsessions. For example:</li></ul>
<pre>mv /usr/share/xsessions/gnome.desktop /usr/share/xsessions/gnome.desktop.disabled
</pre>
<h3><span class="mw-headline" id="Login_always_segfaults_on_first_attempt">Login always segfaults on first attempt</span></h3>
<p>Set a hostname as described in <a href="../en/Network_configuration.html#Set_the_hostname" title="Network configuration">Network Page</a>. See also <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/47694">FS#47694</a>.
</p>
<h3><span class="mw-headline" id="Infinite_login_loop">Infinite login loop</span></h3>
<p>If you get stuck in loop in which you type your correct user and password but the screen goes black and the you are back in the login after every attempt, running <code>rm ~/.Xauthority</code> (or the stuck user's problematic <code>.Xauthority</code>) may fix the issue.
</p>
<p><br>
Another reason for this may be that you tried to recreate your "lightdm.conf" from scratch and your version is missing the line
</p>
<pre>   session-wrapper=/etc/lightdm/Xsession
</pre>
<p>In this case lightdm tries to use "lightdm-session" as the session-wrapper which does not exist on Arch Linux.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://wiki.ubuntu.com/LightDM">Ubuntu Wiki article</a></li>
<li><a rel="nofollow" class="external text" href="http://wiki.gentoo.org/wiki/LightDM">Gentoo Wiki article</a></li>
<li>
<a rel="nofollow" class="external text" href="https://launchpad.net/lightdm">Launchpad Page</a> obsolete</li>
<li><a rel="nofollow" class="external text" href="http://www.mattfischer.com/blog/?tag=lightdm">LightDM blog</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/CanonicalLtd/lightdm">LightDM on GitHub</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Display_managers.html" title="Category:Display managers">Display managers</a></li>
<li><a href="../en/Category:Canonical.html" title="Category:Canonical">Canonical</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Merge.html" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=LightDM&amp;oldid=648128">https://wiki.archlinux.org/index.php?title=LightDM&amp;oldid=648128</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 3 January 2021, at 12:51.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
