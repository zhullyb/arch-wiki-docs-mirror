<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Sudo (Čeština) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Sudo_Čeština rootpage-Sudo_Čeština skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Sudo (Čeština)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p>Sudo (su "do") dovoluje systémovému administrátorovi předat určitým uživatelům (nebo jejich skupinám) oprávnění spouštět některé (případně všechny) příkazy jako root nebo jiný uživatel, přičemž poskytuje o těchto příkazech a jejich parametrech kontrolní záznamy. <a rel="nofollow" class="external autonumber" href="https://www.gratisoft.us/sudo/">[1]</a>
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Princip"><span class="tocnumber">1</span> <span class="toctext">Princip</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Instalace"><span class="tocnumber">2</span> <span class="toctext">Instalace</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Pou%C5%BEit%C3%AD"><span class="tocnumber">3</span> <span class="toctext">Použití</span></a></li>
<li class="toclevel-1 tocsection-4">
<a href="#Konfigurace"><span class="tocnumber">4</span> <span class="toctext">Konfigurace</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#%C4%8Casov%C3%BD_limit_pro_heslo"><span class="tocnumber">4.1</span> <span class="toctext">Časový limit pro heslo</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6">
<a href="#Tipy_a_triky"><span class="tocnumber">5</span> <span class="toctext">Tipy a triky</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Ur%C3%A1%C5%BEky"><span class="tocnumber">5.1</span> <span class="toctext">Urážky</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Heslo_roota"><span class="tocnumber">5.2</span> <span class="toctext">Heslo roota</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Princip">Princip</span></h2>
<p>Sudo je bezpečná alternativa k tradičnímu příkazu <a href="/title/Su" title="Su">su</a>. Uživatelé často používají su (<b>s</b>ubstitute <b>u</b>ser — nahradit uživatele) pro získání práv roota. Obecně je přihlašování pod rootem — superuživatelem — na delší dobu považováno za nerozumné. Uživatel root si užívá kompletní a absolutní kontroly nad celým systémem, což je riskantní. Malé přepsání snadno dovede uvést systém do nepoužitelného stavu a aplikace běžící pod tímto uživatelem mohou tento neomezený přístup šířit.
</p>
<p>Spíše než to nabízí sudo <i>dočasné</i> navýšení práv pro jednotlivé příkazy (ať už jako root nebo jiný uživatel); navracejíc se po jejich dokončení do neprivilegovaného stavu, čímž chrání systém před nechtěnými důsledky. Navíc sudo zaznamenává všechny příkazy a neúspěšné pokusy o přístup pro kontrolu těchto událostí.
</p>
<h2><span class="mw-headline" id="Instalace">Instalace</span></h2>
<p>Nainstalujte balíček <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sudo">sudo</a></span>.
</p>
<p>Ve výchozím nastavení uživatelům není dovoleno sudo spustit. Pro instrukce viz <a href="#Konfigurace">#Konfigurace</a>.
</p>
<h2>
<span id="Pou.C5.BEit.C3.AD"></span><span class="mw-headline" id="Použití">Použití</span>
</h2>
<p>S nainstalovaným a nakonfigurovaným sudem mohou uživatelé pro spuštění příkazů s oprávněními superuživatele (nebo jinými) před tyto příkazy psát <code>sudo</code>. Například:
</p>
<pre>$ sudo pacman -Syu
</pre>
<p>Viz <a rel="nofollow" class="external text" href="https://www.gratisoft.us/sudo/man/sudo.html">manuálová stránka suda (anglicky)</a> pro více informací.
</p>
<h2><span class="mw-headline" id="Konfigurace">Konfigurace</span></h2>
<p>Konfigurační soubor pro sudo je <code>/etc/sudoers</code>. <b>Tento soubor nemá být upravován přímo!</b> Místo toho musí uživatelé zadat jako root příkaz <code>visudo</code>, jenž v programu specifikovaném proměnnou prostředí <i>$EDITOR</i> otevře dočasnou kopii konfiguračního souboru.
</p>
<pre># visudo
</pre>
<p>Výchozí editor je <i>vi</i>. Pokud si s <i>vi</i> nerozumíte, zadejte nejdříve tento příkaz:
</p>
<pre># export EDITOR=nano
</pre>
<p>Nebo jej změňte natrvalo přídáním následujícího do souboru <code>/etc/sudoers</code>, kde "vim" je vámi upřednostňovaný textový editor:
</p>
<pre># Specifikace Defaults
# Ve výchozím nastavení pročistit proměnné prostředí
Defaults      env_reset
# Nastavit výchozí editor na vim, nedovolit programu visudo použít EDITOR/VISUAL.
Defaults      editor=/usr/bin/vim, !env_editor
</pre>
<p>Poznámka: I když použijete jiný editor, stále musíte spouštět <code>visudo</code> jako root.
</p>
<p>Když je soubor uložen, <code>visudo</code> jej před přepsáním existujícího souboru <code>/etc/sudoers</code> prověří na syntaktické chyby. Tento bezpečnostní prvek je zaveden kvůli tomu, že pokud konfigurační soubor obsahuje chyby, sudo bude uvedeno v nepoužitelnost.
</p>
<p>Abyste určitému uživateli povolili získání oprávnění roota, když na začátek příkazu napíše "sudo", přidejte následující řádek:
</p>
<pre>UŽIVATELSKÉ_JMÉNO   ALL=(ALL) ALL
</pre>
<p>Povolení přístupu k sudu pouze z lokálního počítače:
</p>
<pre>UŽIVATELSKÉ_JMÉNO   HOSTNAME=(ALL) ALL
</pre>
<p>kde UŽIVATELSKÉ_JMÉNO je uživatelské jméno dotyčného uživatele.
</p>
<p>Povolení členům <a href="/index.php?title=Groups_(%C4%8Cesky)&amp;action=edit&amp;redlink=1" class="new" title="Groups (Česky) (page does not exist)">skupiny</a> <code>kolo</code> použít sudo bez výzvy k zadání hesla:
</p>
<pre>%kolo      ALL=(ALL) NOPASSWD: ALL
</pre>
<p>Obšírnější příklad <code>sudoers</code> můžete nalézt <a rel="nofollow" class="external text" href="https://www.gratisoft.us/sudo/sample.sudoers">zde</a>. Pro detailní informace si prohlédněte <a rel="nofollow" class="external text" href="https://www.gratisoft.us/sudo/man/sudoers.html">manuál k sudoers (anglicky)</a>.
</p>
<h3>
<span id=".C4.8Casov.C3.BD_limit_pro_heslo"></span><span class="mw-headline" id="Časový_limit_pro_heslo">Časový limit pro heslo</span>
</h3>
<p>Uživatelé si mohou přát změnit výchozí časový limit před vypršením hesla. Toho docílíte přidáním následující řádky do <code>/etc/sudoers</code> (<code>visudo</code>). Například:
</p>
<pre>Defaults:UŽIVATELSKÉ_JMÉNO timestamp_timeout=20
</pre>
<p>Zde heslo pro uživatele UŽIVATELSKÉ_JMÉNO vyprší, pokud sudo nepoužije déle než 20 minut.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Pokud chcete, aby se sudo ptalo na heslo vždy, nastavte časový limit na nulu.</div>
<h2><span class="mw-headline" id="Tipy_a_triky">Tipy a triky</span></h2>
<h3>
<span id="Ur.C3.A1.C5.BEky"></span><span class="mw-headline" id="Urážky">Urážky</span>
</h3>
<p>Uživatelé mohou sudo nakonfigurovat tak, aby namísto výchozí zprávy "špatné heslo" zobrazovalo chytré urážky. Najděte řádek Defaults v souboru <code>/etc/sudoers</code> a přidejte za čárku ke stávajícím volbám "insults". Výsledek může vypadat nějak takto:
</p>
<pre># Specifikace Defaults
Defaults insults
</pre>
<p>Pro otestování zadejte <code>sudo -K</code> pro ukončení současného sezení a nechce se suda dotázat na heslo.
</p>
<h3><span class="mw-headline" id="Heslo_roota">Heslo roota</span></h3>
<p>Uživatelé mohou sudo nakonfigurovat tak, aby místo jejich vlastního uživatelského hesla chtělo heslo uživatele root. Toho lze docílit přidáním volby <code>rootpw</code> na řádek Defaults v souboru <code>/etc/sudoers</code>:
</p>
<pre>Defaults timestamp_timeout=0,rootpw
</pre>
<p>Chcete-li zabránit odhalení hesla uživatele root, můžete jej omezit na určitou skupinu:
</p>
<pre>Defaults:%kolo targetpw
%kolo ALL=(ALL) ALL
</pre>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="/title/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/title/Category:Security_(%C4%8Ce%C5%A1tina)" title="Category:Security (Čeština)">Security (Čeština)</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Sudo_(%C4%8Ce%C5%A1tina)&amp;oldid=666706">https://wiki.archlinux.org/index.php?title=Sudo_(Čeština)&amp;oldid=666706</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 1 May 2021, at 11:51.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="/title/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/title/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="/title/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
