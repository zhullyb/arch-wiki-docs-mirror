<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>XMLTV - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-XMLTV rootpage-XMLTV skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">XMLTV</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> FAQ-like format, does not fit with <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:XMLTV">Talk:XMLTV#</a>)</div>
</div>
<p><a rel="nofollow" class="external text" href="http://wiki.xmltv.org/index.php/Main_Page/">XMLTV</a> (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xmltv/">xmltv</a></span><sup><small>AUR</small></sup>) is a set of utilities to download TV listings and format them in XML.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#What_does_XMLTV_actually_*do*_?"><span class="tocnumber">1</span> <span class="toctext">What does XMLTV actually *do* ?</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Why_XMLTV_is_so_problematic?"><span class="tocnumber">2</span> <span class="toctext">Why XMLTV is so problematic?</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#What_about_the_DVB-T_EPG_?"><span class="tocnumber">3</span> <span class="toctext">What about the DVB-T EPG ?</span></a></li>
<li class="toclevel-1 tocsection-4">
<a href="#Compilation"><span class="tocnumber">4</span> <span class="toctext">Compilation</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Make_a_package"><span class="tocnumber">4.1</span> <span class="toctext">Make a package</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Configuring_XMLTV"><span class="tocnumber">5</span> <span class="toctext">Configuring XMLTV</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Checking_XMLTV_actually_works"><span class="tocnumber">6</span> <span class="toctext">Checking XMLTV actually works</span></a></li>
</ul>
</div>

<h2>
<span id="What_does_XMLTV_actually_.2Ado.2A_.3F"></span><span class="mw-headline" id="What_does_XMLTV_actually_*do*_?">What does XMLTV actually *do* ?</span>
</h2>
<p>Any good PVR system needs to know when to record. Systems like VideoPlus in the UK, where numbers encode start and stop times, have made programming easier, but it's much easier to just look at an EPG and click on the programme you want to record.
</p>
<p>However, there is no central system for acquiring TV programme data, at present, so that's where XMLTV comes in. XMLTV's job is to take program data off the internet and convert it to a standard format for PVRs like MythTV and FreeVO.
</p>
<h2>
<span id="Why_XMLTV_is_so_problematic.3F"></span><span class="mw-headline" id="Why_XMLTV_is_so_problematic?">Why XMLTV is so problematic?</span>
</h2>
<p>The problem with XMLTV is it is grabbing data from places that were not really designed to supply it. It kind of "screen scrapes" - it looks at a web page containing TV information like this and tries to rip the text off it and convert it into an easy to use format. Things can go wrong with this ; if the website decides it's going to reformat its text, then it will cease to work properly or indeed at all.
</p>
<h2>
<span id="What_about_the_DVB-T_EPG_.3F"></span><span class="mw-headline" id="What_about_the_DVB-T_EPG_?">What about the DVB-T EPG ?</span>
</h2>
<p>DVB-T, aka Freeview here, has programme guide information embedded in it ; any UK Freeview set top box has an EPG. It seems to be problematic getting this to work in MythTV, as it is currently "in development". When it does work, this will make it much easier as XMLTV can be abandoned, for DVB-T anyway (still needed for analogue, which is sound and video only)
</p>
<p>One downside of the DVB-T EPG is that it only goes 7 days into the future, whereas XMLTV does 14 days. This is useful if you want to record when you are on holiday.
</p>
<h2><span class="mw-headline" id="Compilation">Compilation</span></h2>
<p>If your grabber is not available in the package in <i>community</i>, you have to try and compile xmltv yourself. You can choose between two ways of obtaining a self compiled xmltv installation. You can use <a href="../en/Arch_Build_System.html" class="mw-redirect" title="ABS">ABS</a> and edit the <a href="../en/PKGBUILD.html" title="PKGBUILD">PKGBUILD</a> to make a package or compile it by hand.
</p>
<h3><span class="mw-headline" id="Make_a_package">Make a package</span></h3>
<p>Refer to the wiki page about the Arch Build System (ABS) on how to use it. Copy the directory xmltv to your build directory. Now you have to check, why your grabber is not available. Extract the source and run Makefile.PL:
</p>
<pre>makepkg -e
cd src/"PKGNAME"
perl Makefile.PL
</pre>
<p>You will be prompted for every grabber. The script will tell you, which grabber is not supported and why. You will have to install additional dependencies then. For the grabber "tv_grab_eu_epgdata" for example you will have to install perl-datetime-format-strptime from <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>. Add these dependencies in the PKGBUILD and run makepkg.
</p>
<h2><span class="mw-headline" id="Configuring_XMLTV">Configuring XMLTV</span></h2>
<p>Next we need to configure XMLTV. To do this run
</p>
<pre>tv_grab_uk_rt --configure
</pre>
<p>Now, for this grabber, you can individually select whether or not you want each channel. To select every channel (it's quicker to edit the configuration file in a text editor), type:
</p>
<pre>all
</pre>
<p>And it will configure itself to download every single channel it can.
</p>
<h2><span class="mw-headline" id="Checking_XMLTV_actually_works">Checking XMLTV actually works</span></h2>
<p>To check it, simply run it.
</p>
<pre>tv_grab_uk_rt
</pre>
<p>If all is well, it should churn out reams and reams of channel programme data. It should look like this
</p>
<pre>&lt;programme start="20070330035500 +0100" stop="20070330042000 +0100" channel="abc1.disney.com"&gt;
   &lt;title&gt;8 Simple Rules for Dating My Teenage Daughter&lt;/title&gt;
   &lt;sub-title&gt;Rory's Got a Girlfriend&lt;/sub-title&gt;
   &lt;desc lang="en"&gt;Sitcom in which a father has his hands full when his wife returns to work and he is left to supervise their teenage daughters. Paul has to face the fact that his son wants to start dating girls, and Kerry envies her sister.&lt;/desc&gt;
   &lt;credits&gt;
     &lt;actor&gt;John Ritter&lt;/actor&gt;
     &lt;actor&gt;Katey Sagal&lt;/actor&gt;
</pre>
<p>except there will be pages of it.
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Television.html" title="Category:Television">Television</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=XMLTV&amp;oldid=636494">https://wiki.archlinux.org/index.php?title=XMLTV&amp;oldid=636494</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 25 September 2020, at 12:25.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
