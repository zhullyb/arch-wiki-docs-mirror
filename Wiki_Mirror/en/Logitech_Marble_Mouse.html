<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Logitech Marble Mouse - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Logitech_Marble_Mouse rootpage-Logitech_Marble_Mouse skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Logitech Marble Mouse</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p>The <b>Logitech Marble Mouse</b> is a pointing device with four buttons and a trackball, also known as the <b>Trackman Marble</b>. The Marble Mouse is usable either left- or right-handed. It requires some configuration to enable scrolling with the trackball. For a detailed image, see: <a rel="nofollow" class="external text" href="https://i.imgur.com/4pZrjAV.png">Logitech Marble Mouse</a> (or <a rel="nofollow" class="external text" href="https://help.ubuntu.com/community/Logitech_Marblemouse_USB?action=AttachFile&amp;do=get&amp;target=marble-mouse-buttons-names.png">here</a>).
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Sample_Configurations"><span class="tocnumber">2</span> <span class="toctext">Sample Configurations</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#libinput"><span class="tocnumber">2.1</span> <span class="toctext">libinput</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="#Basic_function"><span class="tocnumber">3</span> <span class="toctext">Basic function</span></a></li>
<li class="toclevel-1 tocsection-5">
<a href="#Configuration"><span class="tocnumber">4</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-6">
<a href="#Buttons_and_trackball"><span class="tocnumber">4.1</span> <span class="toctext">Buttons and trackball</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#Assigning_buttons"><span class="tocnumber">4.1.1</span> <span class="toctext">Assigning buttons</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#%22Both-large-buttons%22_combination-click"><span class="tocnumber">4.1.2</span> <span class="toctext">"Both-large-buttons" combination-click</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#Scroll_modifier"><span class="tocnumber">4.1.3</span> <span class="toctext">Scroll modifier</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-10"><a href="#Right-side_or_left-side"><span class="tocnumber">4.2</span> <span class="toctext">Right-side or left-side</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#System-wide_or_per-user"><span class="tocnumber">4.3</span> <span class="toctext">System-wide or per-user</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Xorg_input_hotplugging"><span class="tocnumber">4.4</span> <span class="toctext">Xorg input hotplugging</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Without_Xorg_hotplugging"><span class="tocnumber">4.5</span> <span class="toctext">Without Xorg hotplugging</span></a></li>
<li class="toclevel-2 tocsection-14">
<a href="#Gnome_3_and_Wayland"><span class="tocnumber">4.6</span> <span class="toctext">Gnome 3 and Wayland</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="#Mouse_wheel_emulation"><span class="tocnumber">4.6.1</span> <span class="toctext">Mouse wheel emulation</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Acceleration_profile"><span class="tocnumber">4.6.2</span> <span class="toctext">Acceleration profile</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-17"><a href="#Sway_and_Wayland"><span class="tocnumber">4.7</span> <span class="toctext">Sway and Wayland</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Plasma_and_Wayland"><span class="tocnumber">4.8</span> <span class="toctext">Plasma and Wayland</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19">
<a href="#Sample_configuration"><span class="tocnumber">5</span> <span class="toctext">Sample configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#Configuration_file"><span class="tocnumber">5.1</span> <span class="toctext">Configuration file</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Restarting_X"><span class="tocnumber">5.2</span> <span class="toctext">Restarting X</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-22">
<a href="#Minimal_configuration"><span class="tocnumber">6</span> <span class="toctext">Minimal configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-23"><a href="#Using_evdev"><span class="tocnumber">6.1</span> <span class="toctext">Using evdev</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-24">
<a href="#Additional_tweaks"><span class="tocnumber">7</span> <span class="toctext">Additional tweaks</span></a>
<ul>
<li class="toclevel-2 tocsection-25"><a href="#Console_(gpm)"><span class="tocnumber">7.1</span> <span class="toctext">Console (gpm)</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Chromium_browser"><span class="tocnumber">7.2</span> <span class="toctext">Chromium browser</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#Firefox_browser"><span class="tocnumber">7.3</span> <span class="toctext">Firefox browser</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-28"><a href="#See_also"><span class="tocnumber">8</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>The mouse is detected at boot time or whenever it is "hot-plugged" into a booted system, automatically. No special installation is required.
</p>
<h2><span class="mw-headline" id="Sample_Configurations">Sample Configurations</span></h2>
<p>For additional information about available options, see <a rel="nofollow" class="external text" href="http://manpages.ubuntu.com/manpages/bionic/man4/libinput.4.html#configuration%20details">libinput's configuration details</a>.
</p>
<h3><span class="mw-headline" id="libinput">libinput</span></h3>
<p>GDM 3.16 and XFCE 4.12 use <b>libinput</b>. The following configuration steps are known to work as of Jan 23, 2019:
</p>
<ol>
<li>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-input-libinput">xf86-input-libinput</a></span>
</li>
<li>Edit <code>/etc/X11/xorg.conf.d/10-libinput.conf</code>.</li>
<li>Append the following content:</li>
</ol>
<pre>Section "InputClass"
  Identifier   "Marble Mouse"
  MatchProduct "Logitech USB Trackball"
  Driver       "libinput"
  Option       "ScrollMethod"    "button"
  Option       "ScrollButton"    "8"
  Option       "MiddleEmulation" "true"
EndSection
</pre>
<p>This:
</p>
<ul>
<li>Enables horizontal and vertical scrolling by pressing and holding the small left button while moving the trackball.</li>
<li>Enables chord-clicks by pressing the two large buttons simultaneously.</li>
<li>Uses the small left button for browsing back.</li>
<li>Uses the small right button for browsing forward.</li>
</ul>
<p>Or append:
</p>
<pre>Section "InputClass"
  Identifier    "Marble Mouse"
  MatchProduct  "Logitech USB Trackball"
  Driver        "libinput"
  Option        "ScrollMethod"        "button"
  Option        "ScrollButton"        "9"
  Option        "MiddleEmulation"     "true"
  Option        "HorizontalScrolling" "false"
  Option        "ButtonMapping"       "1 2 3 4 5 6 7 9 8"
EndSection
</pre>
<p>This:
</p>
<ul>
<li>Enables vertical scrolling by pressing and holding the small right button while moving the trackball.</li>
<li>Disables horizontal scrolling.</li>
<li>Enables chord-clicks by pressing the two large buttons simultaneously.</li>
<li>Uses the small left button for browsing forward.</li>
<li>Uses the small right button for browsing back.</li>
</ul>
<h2><span class="mw-headline" id="Basic_function">Basic function</span></h2>
<p>Hardware IDs for the Marble Mouse buttons remain constant, regardless of device configuration.
</p>
<p>When no additional configuration is specified, buttons are mapped to these functions:
</p>
<table class="wikitable">
<tbody>
<tr>
<th>ID    </th>
<th>Hardware Action    </th>
<th>Result                
</th>
</tr>
<tr>
<td>1</td>
<td>Large button left</td>
<td>normal click
</td>
</tr>
<tr>
<td>2</td>
<td>Both large buttons</td>
<td>middle-click  †
</td>
</tr>
<tr>
<td>3</td>
<td>Large button right</td>
<td>right-click
</td>
</tr>
<tr>
<td>4</td>
<td><i>(not a button)</i></td>
<td>-
</td>
</tr>
<tr>
<td>5</td>
<td><i>(not a button)</i></td>
<td>-
</td>
</tr>
<tr>
<td>6</td>
<td><i>(not a button)</i></td>
<td>-
</td>
</tr>
<tr>
<td>7</td>
<td><i>(not a button)</i></td>
<td>-
</td>
</tr>
<tr>
<td>8</td>
<td>Small button left</td>
<td>browser back
</td>
</tr>
<tr>
<td>9</td>
<td>Small button right</td>
<td>browser forward
</td>
</tr>
</tbody>
</table>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Both large buttons pressed simultaneously creates a <b>middle-click</b>.</li>
<li>†  The simultaneous click is enabled by a configuration directive. It requires <code>Emulate3buttons</code>.</li>
<li>Terms <i>middle-click</i> and <i>wheel-click</i> are used interchangeably in this document.</li>
<li>
<i>Alternate-click</i> may be used instead of <i>right-click</i>. Typically, this pops up a context menu.</li>
<li>The result shown above occurs when no modifier key is pressed.</li>
<li>A different result may occur when a modifier key such as <i>Ctrl</i> is held while a button is clicked.</li>
</ul>
</div>
<table class="wikitable">

<tbody>
<tr>
<th>ID    </th>
<th>Hardware Action    </th>
<th>Result                
</th>
</tr>

<tr>
<td>4</td>
<td><i>Roll ball down</i></td>
<td>move cursor down
</td>
</tr>
<tr>
<td>5</td>
<td><i>Roll ball up</i></td>
<td>move cursor up
</td>
</tr>
<tr>
<td>6</td>
<td><i>Roll ball left</i></td>
<td>move cursor left
</td>
</tr>
<tr>
<td>7</td>
<td><i>Roll ball right</i></td>
<td>move cursor right
</td>
</tr>
</tbody>
</table>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Cursor motion occurs when no modifier is used.</li>
<li>A modifier used in conjunction with rolling motion may create an alternate result.</li>
<li>"Modifier" refers to a key (such as <i>Ctrl</i>) or button (as in <i>mouse button</i>) being held while the trackball is rolled.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The Marble Mouse trackball can perform document scrolling, much like a wheel mouse. Scrolling occurs when the <b><a href="#Scroll_modifier">scroll mod­ifier</a></b> is held down while the trackball is rolled. You must provide at least a <b><a href="#Minimal_configuration">minimal configuration</a></b> to enable this feature.</div>
<p>Using the trackball in "wheel mode" can require some unusual gestures on the user's part. Using a wheel mouse, for example, you can resize the display font in your web browser using the  <i>Ctrl + wheel_roll</i>  gesture. With the trackball, this operation becomes  <i>Ctrl + hold_button + ball_roll</i>.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>You may find it helpful to simply jump to the <a href="#Sample_configuration">sample configuration</a> and try it.
</p>
<p>The configuration sections contain information which may not be of interest to you. Most Arch users will be using a modern version of the X server which requires udev hot plugging.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> There is currently (as at May 2012) an issue with <a rel="nofollow" class="external text" href="http://who-t.blogspot.com.au/2011/04/gnome-30-middle-mouse-button-emulation.html">Gnome 3 and middle click emulation</a>. See <a href="#%22Both-large-buttons%22_combination-click">#"Both-large-buttons" combination-click</a> below.</div>
<p>Gnome 3 is used, for example, in Ubuntu 12.04.
</p>
<h3><span class="mw-headline" id="Buttons_and_trackball">Buttons and trackball</span></h3>
<p>After you locate the <a href="#Configuration_file">sample configuration file</a> you may wish to alter it. You need only concern yourself with three or four setup lines.
</p>
<h4><span class="mw-headline" id="Assigning_buttons">Assigning buttons</span></h4>
<p>You may want to assign new actions for button presses. This is done by setting positional parameters.
</p>
<p>Values may be changed for buttons <b>1, 2, 3, 8,</b> and <b>9</b>. (Button <b>2</b> is simply a combination press of the two large buttons.) Do not alter parameters 4, 5, 6, or 7.
</p>
<pre># This line makes the default button assignments.

Option "ButtonMapping" "1 2 3 4 5 6 7 8 9"
</pre>
<p>One obvious reason to assign different button actions is to accommodate left-handed placement:
</p>
<pre># This line switches the left and right large buttons, and nothing else. For left-handed user.

Option "ButtonMapping" "3 2 1 4 5 6 7 8 9"
</pre>
<p>Another reason to reassign is when you do not like the "normal" assignments — especially the small buttons.
</p>
<p>The line below changes the button <b>2</b> action to <i><b>browser forward</b></i>. Parameter two (both-large-button click) is given value <b>9</b> for <i>browser forward</i>. The line below also reassigns both small buttons. We want them to emit <i><b>middle-click</b></i>. (Either button may be clicked separately.) Parameters eight and nine are given values of <b>2</b> for <i>middle-click</i>.
</p>
<pre># Three buttons are given new assignments. For right-handed user.

Option "ButtonMapping" "1 9 3 4 5 6 7 2 2"
</pre>
<p>Parameters are positioned in numeric order. Parameters you might modify are 1, 2, 3, 8, and 9. Parameters 4, 5, 6, and 7 should be left alone; they correspond to trackball movements.
</p>
<h4>
<span id=".22Both-large-buttons.22_combination-click"></span><span class="mw-headline" id='"Both-large-buttons"_combination-click'>"Both-large-buttons" combination-click</span>
</h4>
<p>As stated, button <b>2</b> is a simultaneous press of the two large buttons.
</p>
<p>Experimentation shows, in the absence of a configuration directive, this action produces an indeterminate result. It appears to issue <i>some</i> command, but the result is inconsistent with my expectation of <i>middle-click.</i> The result seems dependent on whichever object is foremost. It is inconsistent regardless. You need to enable the combination-click:
</p>
<pre># Emulate3Buttons refers to the act of pressing buttons A and D
# simultaneously to emulate a middle-click or wheel click.
Option "Emulate3Buttons" "true"
</pre>
<p>This is sufficient to enable the default mapping of button <b>2</b>, which is <i>wheel-click</i>.  See <a href="#Minimal_configuration">minimal configuration</a>. 
</p>
<p>As at May 2012, there is an issue with <a rel="nofollow" class="external text" href="http://who-t.blogspot.com.au/2011/04/gnome-30-middle-mouse-button-emulation.html">Gnome 3 and middle click emulation</a>. Gnome 3 is used, for example, in Ubuntu 12.04. Gnome 3 also sets the middle click property, and defaults to "false". Since Gnome does its settings <b>after</b> Xorg, the Gnome setting overrides the xorg setting, and emulation is disabled. The Gnome setting can be changed with this command:
</p>
<pre>gsettings set org.gnome.settings-daemon.peripherals.mouse middle-button-enabled true
</pre>
<p>You only need to do this once (per user) as Gnome remembers the settings between sessions. There is a <a rel="nofollow" class="external text" href="https://bugs.launchpad.net/ubuntu/+source/xserver-xorg-input-evdev/+bug/874237/comments/13">launchpad bug</a> on the issue in case you are interested.
</p>
<h4><span class="mw-headline" id="Scroll_modifier">Scroll modifier</span></h4>
<p>One huge limitation for the Marble Mouse is the lack of a scroll wheel or scroll ring. This limitation is overcome by assigning a <i>scroll modifier</i>: a mouse button which allows the trackball to scroll. When the scroll modifier is held, the trackball scrolls. Although a scroll modifier is <i>assigned</i> by default (see <a href="#Basic_function">basic function</a>), the scroll modifier is <b>not enabled</b> by default. In addition to enabling the scroll modifier, you may <i>also</i> assign it to a different button.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The scroll button has a "click" function in addition to its scroll function. The scroll modifier is a "press and hold" function separate from the "click" function. The best choice for scroll modifier is one of the small buttons. Unfortunately, standard "click" actions for those buttons are awkward. I recommend you reassign click actions for the small buttons.</div>
<p>The standard scroll setting defines the small button for scrolling — that is good, — but the same button has a default <i>"click"</i> action that is <i><b>browser back</b></i>. A better choice is <i><b>middle-click</b></i>. <i>Middle-click</i> corresponds to what you would expect from years of wheel mouse usage.
</p>
<p>Putting complaints aside (these are addressed by reassigning small buttons), you specify a button to be the <i><b>scroll modifier</b></i>:
</p>
<pre>Option "EmulateWheel" "true"
Option "EmulateWheelButton" "8"

# Button 8 is the small button on the left side, which works well for right-handed users.
# Button 9 is the small button on the right side, which works well for left-handed users.
# Button 2 cannot be assigned as the scroll modifier; AKA "EmulateWheelButton".
</pre>
<p><b>Disable horizontal scrolling</b>
</p>
<p>A particular configuration line enables horizontal scrolling. You disable horizontal scrolling by commenting that line out.
</p>
<pre># A hash mark disables a configuration line.

# Option "XAxisMapping" "6 7"
</pre>
<p>I use both scrolling directions, but some may find this restriction helpful. You cannot disable vertical scrolling in a similar fashion — not that you would want to, anyway.
</p>
<h3><span class="mw-headline" id="Right-side_or_left-side">Right-side or left-side</span></h3>
<p>Previous sections explain how to modify your configuration file for either left or right placement.
</p>
<ul>
<li> On occasion, you may wish to switch between left-handed and right-handed usage.</li>
<li> I do this when I feel the early signs of repetitive strain injury.</li>
</ul>
<p>To switch to the opposite placement, I manually edit my configuration file and <a href="#Restarting_X">restart the X server.</a> Comments in the file remind me which lines to change. You could devise a script to make switching more automatic, if you wanted to.
</p>
<ul><li> With Arch Linux, I prefer a lightweight or non-existent desktop environment running the <b><a href="../en/Openbox.html" title="Openbox">Openbox</a></b> window manager.</li></ul>
<p>Other desktop environments may have widgets to simplify — or complicate, depending how you view it — switching between right and left. With Ubuntu 10.10, for example, you need only mark a box in the mouse control panel to effect a button switch. <i>(You must change the configuration file to get the correct scroll modifier assignment, however. Also, Ubuntu ignores large button assignments in the configuration file; the control panel makes them unnecessary.)</i>
</p>
<h3><span class="mw-headline" id="System-wide_or_per-user">System-wide or per-user</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  Section undergoing revision. Please jump to the sample configuration </div>
<p>If you want the configuration to be system wide, you can add this line to the InputDevice-Section.
</p>
<pre>Option "ButtonMapping" "1 8 3 2 9"
</pre>
<p>For a per-user-configuration you need to put this in your ~/.xinitrc.
</p>
<pre>xinput set-button-map "Logitech USB Trackball" 1 8 3 4 5 6 7 2 9 10 11 12 13
</pre>
<h3><span class="mw-headline" id="Xorg_input_hotplugging">Xorg input hotplugging</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  Section undergoing revision. Please jump to the sample configuration </div>
<p>Two expositions help you configure a trackball with buttons for click, middle-click, right-click, and scrolling. The first exposition uses <a href="../en/Xorg.html#Input_devices" title="Xorg">Xorg Input Hotplugging</a>; the second does not. Edit them to suit your preferences.
</p>
<p>Add this entry to your <code>/etc/X11/xorg.conf</code>:
</p>
<pre>Section "InputClass"
    Identifier   "Logitech Trackball"
    MatchProduct "Trackball"
    Option       "ButtonMapping"      "1 8 3 4 5 6 7 2 9"
    Option       "EmulateWheel"       "True"
    Option       "EmulateWheelButton" "9"
    Option       "XAxisMapping"       "6 7"
EndSection
</pre>
<p>To learn more about the used parameters you should read the apropriate section in the evdev man page.
</p>
<h3><span class="mw-headline" id="Without_Xorg_hotplugging">Without Xorg hotplugging</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  Section undergoing revision. Please jump to the sample configuration </div>
<p>The mouse device entry in <code>/etc/X11/xorg.conf</code> should look like this:
</p>
<pre>Section "InputDevice"
    Identifier "Mouse0"
    Driver     "mouse"
    Option     "CorePointer"
    Option     "Device"             "/dev/input/mice"
    Option     "Protocol"           "ExplorerPS/2"
    Option     "Buttons"            "9"
    Option     "ZAxisMapping"       "4 5"
    Option     "XAxisMapping"       "6 7"
    Option     "EmulateWheelButton" "9"
    Option     "EmulateWheel"       "true"
EndSection
</pre>
<p>The <code>"Auto"</code> option for <code>"Protocol"</code> works fine, too.
Of course you can use the name you prefer as the <code>Identifier</code>, as long as it is the same you use as <code>InputDevice</code> in the <code>Section "ServerLayout"</code>.
</p>
<h3><span class="mw-headline" id="Gnome_3_and_Wayland">Gnome 3 and Wayland</span></h3>
<p>When running Wayland, the aforementioned configuration files have no effect. Gnome 3 does, however, provide a limited set of configuration options for enabling mouse wheel emulation and adjusting the acceleration behaviour of the mouse cursor.
</p>
<h4><span class="mw-headline" id="Mouse_wheel_emulation">Mouse wheel emulation</span></h4>
<p>Gnome provides the option to assign a scroll modifier button. To do this, enter
</p>
<pre>gsettings set org.gnome.desktop.peripherals.trackball scroll-wheel-emulation-button &lt;button_id&gt;
</pre>
<p>, where <i>&lt;button_id&gt;</i> is the id of the mouse button that should act as the modifier (see <a href="#Basic_function">basic function</a>). To deactivate mouse wheel emulation, set this to 0.
</p>
<h4><span class="mw-headline" id="Acceleration_profile">Acceleration profile</span></h4>
<p>The trackball can be configured to either use a "flat" or "adaptive" acceleration profile or to just use its "default" one. To do that, set
</p>
<pre>gsettings set org.gnome.desktop.peripherals.trackball accel-profile &lt;profile&gt;
</pre>
<p>to the desired value.
</p>
<h3><span class="mw-headline" id="Sway_and_Wayland">Sway and Wayland</span></h3>
<p>When running Wayland, the aforementioned configuration files have no effect. Sway provides a limited set of configuration options for enabling mouse wheel emulation and adjusting the acceleration behaviour of the mouse cursor. 
In your sway config file, add the following section to enable scrolling with the marble while the small left button is pressed:
</p>
<pre>input "1133:50184:Logitech_USB_Trackball" {
    scroll_method on_button_down
}
</pre>
<h3><span class="mw-headline" id="Plasma_and_Wayland">Plasma and Wayland</span></h3>
<p>When running a Plasma Desktop session in Wayland, you can configure scrolling with <code>qdbus</code>, you just have to find the right event number, which you can determine from <code>/dev</code>, for example:
</p>
<pre>event="$(basename $(readlink /dev/input/by-id/usb-Logitech_USB_Trackball-event-mouse))"
qdbus org.kde.KWin /org/kde/KWin/InputDevice/$event org.kde.KWin.InputDevice.scrollOnButtonDown true
</pre>
<h2><span class="mw-headline" id="Sample_configuration">Sample configuration</span></h2>
<p>The sample configuration modifies and extends the <a href="#Basic_function">basic function</a> of the Marble Mouse.
</p>
<p>In this example, either of the two small buttons may be clicked to send a <i><b>wheel-click</b></i>. Wheel-click means the same as "middle-click" here. In addition, one of the small buttons provides <i><b>scrolling</b></i> in conjunction with the trackball. Note that only <i>one</i> small button has the ability for scrolling, although both small buttons are able to <i>wheel-click.</i>
</p>
<p>Finally, clicking both large buttons simultaneously sends the <i><b>browser back</b></i> event. There is no button to send <i>browser forward</i>.
</p>
<table class="wikitable">
<tbody>
<tr>
<th>ID    </th>
<th>Hardware Action         </th>
<th>Result (this configuration)     </th>
<th>New assignment
</th>
</tr>
<tr>
<td>1</td>
<td>Large button left</td>
<td>normal click</td>
<td>1
</td>
</tr>
<tr>
<td>2</td>
<td>Both large buttons</td>
<td>browser back</td>
<td>8
</td>
</tr>
<tr>
<td>3</td>
<td>Large button right</td>
<td>right-click</td>
<td>3
</td>
</tr>
<tr>
<td>8</td>
<td>Small button left  †</td>
<td>wheel-click</td>
<td>2
</td>
</tr>
<tr>
<td>9</td>
<td>Small button right  ‡      </td>
<td>wheel-click</td>
<td>2
</td>
</tr>
</tbody>
</table>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li> Both large buttons pressed simultaneously results in <i>browser back</i>.</li>
<li> Either small button, when clicked, results in <i>middle-click</i>.</li>
<li> †  This small button allows trackball scrolling when held down. It is the scroll modifier.</li>
<li> ‡  This button can be mapped for scrolling function instead. This button works better for left-side placement because it lies near the thumb of one's left-hand. Only one button can be assigned as the scroll modifier as far as I know.</li>
</ul>
</div>
<h3><span class="mw-headline" id="Configuration_file">Configuration file</span></h3>
<p>The following lines are appended to <b><code>/etc/X11/xorg.conf.d/10-evdev.conf</code></b>
</p>
<p><b>Note:</b> <i>Users of other Linux distributions may find the configuration file in another location. Ubuntu uses /usr/share/X11/xorg.conf.d/10-evdev.conf</i> 
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  Scrolling described below does not work on Cinnamon as of March 2018 - but the libinput configuration given later works. </div>
<p><br>
This example is set up for right-hand placement with horizontal scrolling disabled.
</p>
<pre>#       - - - Logitech Marble Mouse Settings - - -
#
#       The Logitech Marble Mouse buttons are mapped [A-D] from left to right: 
#       A (large); B (small) |  C (small); D (large). 
#
#       Preferred options for right-handed usage:
#       A = normal click [1]  
#       B = middle-click [2] 
#       C = middle-click [2] 
#       D = right-click [3]
#       Hold button B while rolling trackball to emulate wheel-scrolling. 
#
#       Preferred options for left-handed usage:
#       A = right-click [3]  
#       B = middle-click [2] 
#       C = middle-click [2]
#       D = normal click [1]
#       Hold button C while rolling trackball to emulate wheel-scrolling.
#       Pressing both large buttons simultaneously (b) produces a "back" action.

Section "InputClass"
        Identifier  "Marble Mouse"
        MatchProduct "Logitech USB Trackball"
        MatchIsPointer "on"
        MatchDevicePath "/dev/input/event*"
        Driver "evdev"

#       Physical button #s:     A b D - - - - B C    
#       Option "ButtonMapping" "1 8 3 4 5 6 7 2 2"   right-hand placement
#       Option "ButtonMapping" "3 8 1 4 5 6 7 2 2"   left-hand placement
#       b = A &amp; D 
        Option "ButtonMapping" "1 8 3 4 5 6 7 2 2"

#       EmulateWheel: Use Marble Mouse trackball as mouse wheel 
#       Factory Default: 8; Use 9 for right side small button
        Option "EmulateWheel" "true"
        Option "EmulateWheelButton" "8"

#       EmulateWheelInertia: How far (in pixels) the pointer must move to
#       generate button press/release events in wheel emulation mode.
#       Factory Default: 50
        Option "EmulateWheelInertia" "10"

#       Axis Mapping: Enable vertical [ZAxis] and horizontal [XAxis] scrolling
        Option "ZAxisMapping" "4 5"
#       Option "XAxisMapping" "6 7"

#       Emulate3Buttons: Required to interpret simultaneous press of two large
#       buttons, A &amp; D, as a seperate command, b.
#       Factory Default: true
        Option "Emulate3Buttons" "true"
EndSection
</pre>
<h3><span class="mw-headline" id="Restarting_X">Restarting X</span></h3>
<p>Changes made to xorg configuration files do not take effect until the X session is restarted. To restart the X session, simply log out from your window manager and log back in.
</p>
<h2><span class="mw-headline" id="Minimal_configuration">Minimal configuration</span></h2>
<h3><span class="mw-headline" id="Using_evdev">Using evdev</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  Scrolling described below does not work on Cinnamon as of March 2018 - but the libinput configuration given later works. </div>
<p>At times it can be useful to start with the absolute minimum and build from there. This is one facet of <a href="../en/Arch_terminology.html#The_Arch_Way" class="mw-redirect" title="The Arch Way">The Arch Way</a>. In this spirit, I decided to see how few lines I might use to create a usable Marble Mouse configuration.
</p>
<p>You can omit <i>all</i> configuration lines and the Marble Mouse is still usable for basic pointing and clicking. However, it will not be able to scroll. The "both-large-button" simultaneous click produces indeterminate results — experimentation shows this.
</p>
<p>Given that you are satisfied with <a href="#Basic_function">default button settings</a> and you wish only to enable scrolling and the "both-large-button" click, you need these lines. The following lines are appended to <b><code>/etc/X11/xorg.conf.d/10-evdev.conf</code></b>.
</p>
<pre>Section "InputClass"
        Identifier  "Marble Mouse"
        MatchProduct "Logitech USB Trackball"
        Option "EmulateWheel" "true"
        Option "EmulateWheelButton" "8"
        Option "XAxisMapping" "6 7"
        Option "Emulate3Buttons" "true"
EndSection
</pre>
<p><br>
</p>
<h2><span class="mw-headline" id="Additional_tweaks">Additional tweaks</span></h2>
<h3>
<span id="Console_.28gpm.29"></span><span class="mw-headline" id="Console_(gpm)">Console (gpm)</span>
</h3>
<p>See <a href="../en/General_purpose_mouse.html" class="mw-redirect" title="Console mouse support">Console mouse support</a> for details. Within the console you can use <code>gpm</code> with type option set to <b>imps2</b>. Edit <b><code>/etc/conf.d/gpm</code></b> such that:
</p>
<pre>GPM_ARGS="-m /dev/input/mice -t imps2"
</pre>
<p>This lets you use the large left button for selecting text and the right button to extend the selection. The small left button acts as a middle-click; it pastes the selection.
</p>
<h3><span class="mw-headline" id="Chromium_browser">Chromium browser</span></h3>
<p>By default, Chromium treats a middle-click as a <i>paste</i> command. This choice stems from "Linux tradition", not the capricious whim of one developer. Like myself, you may prefer a <i><b>Windows</b></i> approach. I want the middle button(s) to initiate <i>automatic scrolling,</i> not <i>pasting</i>:
</p>
<ul>
<li>A browser extension <b>AutoScroll</b> allows middle-click to initiate automatic scrolling.</li>
<li>This extension is helpful for any Linux user with a wheel mouse, not just Marble Mouse users.</li>
<li>A middle-click initiates automatic scrolling when clicked on a blank area of a web page.</li>
</ul>
<ul>
<li>When you program both small buttons to emit middle-click, either button can initiate automatic scrolling. That is a click function.</li>
<li>When you program one of the small buttons to act as scroll modifier (mouse setup), you can manually scroll web pages <b>without</b> fixing the browser. That is a press‑and‑hold function. (I recommend installing AutoScroll even though it is not absolutely necessary for scrolling.)</li>
<li>After you assign the scroll modifier to one of the small buttons, the small buttons act a bit differently from one another. The difference is seen when you compare their "press‑and‑hold" behaviors.</li>
</ul>
<p>Be sure to install <i><b>AutoScroll</b></i>;  the similarly-named <i>Auto Scroll</i> extension implements a different feature.
</p>
<p>This information also applies to the browser called <b>Google Chrome</b>.
</p>
<h3><span class="mw-headline" id="Firefox_browser">Firefox browser</span></h3>
<p>Older versions of Firefox map horizontal-scrolling hardware to perform <i><b>browser back</b></i> and <i><b>browser forward</b></i> navigation.
</p>
<p>This makes vertical scrolling using the trackball almost impossible.
</p>
<p>The slightest horizontal motion triggers a URL redirection. To fix this:
</p>
<ul>
<li>Enter <code>about:config</code> in the location bar</li>
<li>Find the internal variable named <code>mousewheel.horizscroll.withnokey.action</code>. Set its value to <b>0</b>.</li>
<li>It may be useful to set <code>mousewheel.horizscroll.withnokey.numlines</code> to <b>1</b> as well.</li>
</ul>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li>Arch wiki documentation: <a href="../en/Mouse_buttons.html" class="mw-redirect" title="All Mouse Buttons Working">All Mouse Buttons Working</a>
</li>
<li>Arch wiki documentation: <a href="../en/Xorg.html#Configuration" title="Xorg">Xorg#Configuration</a>
</li>
<li>Marble mouse scroll wheel: <a rel="nofollow" class="external text" href="http://simans.net/marble/">Replacement for SetPoint driver</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-03-30 ⓘ]</sup>
</li>
<li>Joe Shaw blog post: <a rel="nofollow" class="external text" href="http://joeshaw.org/2010/10/01/681/">Linux input ecosystem</a>
</li>
<li>Ubuntu community: <a rel="nofollow" class="external text" href="https://help.ubuntu.com/community/Logitech_Marblemouse_USB">Logitech Marble Mouse</a>
</li>
<li>Chrome web store: <a rel="nofollow" class="external text" href="https://chrome.google.com/webstore/detail/occjjkgifpmdgodlplnacmkejpdionan">AutoScroll extension</a>
</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Mice.html" title="Category:Mice">Mice</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Logitech_Marble_Mouse&amp;oldid=646424">https://wiki.archlinux.org/index.php?title=Logitech_Marble_Mouse&amp;oldid=646424</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 23 December 2020, at 16:13.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
