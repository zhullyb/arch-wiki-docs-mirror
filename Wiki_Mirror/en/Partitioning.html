<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Partitioning - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Partitioning rootpage-Partitioning skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Partitioning</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/File_systems.html" title="File systems">File systems</a></li>
<li><a href="../en/Fdisk.html" title="Fdisk">fdisk</a></li>
<li><a href="../en/GPT_fdisk.html" class="mw-redirect" title="Gdisk">gdisk</a></li>
<li><a href="../en/Parted.html" title="Parted">parted</a></li>
<li><a href="../en/Fstab.html" title="Fstab">fstab</a></li>
<li><a href="../en/LVM.html" title="LVM">LVM</a></li>
<li><a href="../en/Swap.html" title="Swap">Swap</a></li>
<li><a href="../en/Arch_boot_process.html" title="Arch boot process">Arch boot process</a></li>
<li><a href="../en/Unified_Extensible_Firmware_Interface.html" title="Unified Extensible Firmware Interface">Unified Extensible Firmware Interface</a></li>
</ul>
</div>
<p>From <a href="https://en.wikipedia.org/wiki/Disk_partitioning" class="extiw" title="wikipedia:Disk partitioning">Wikipedia</a>:
</p>
<dl><dd>Disk partitioning or disk slicing is the creation of one or more regions on <a href="https://en.wikipedia.org/wiki/Secondary_storage#Secondary_storage" class="extiw" title="wikipedia:Secondary storage">secondary storage</a>, so that each region can be managed separately.</dd></dl>
<p>An entire disk may be allocated to a single partition, or multiple ones for cases such as dual-booting, maintaining a <a href="../en/Swap.html" title="Swap">swap</a> partition, or to logically separate data such as audio and video files. The partitioning scheme is stored in a <a href="#Partition_table">partition table</a> such as Master Boot Record (MBR) or GUID Partition Table (GPT).
</p>
<p>Partition tables are created and modified using one of <a href="https://en.wikipedia.org/wiki/List_of_disk_partitioning_software" class="extiw" title="wikipedia:List of disk partitioning software">many partitioning tools</a>. The tools available for Arch Linux are listed in the <a href="#Partitioning_tools">#Partitioning tools</a> section.
</p>
<p>Partitions usually contain a <a href="../en/File_systems.html" class="mw-redirect" title="File system">file system</a> directly which is accomplished by creating a file system on (a.k.a. <a href="../en/File_systems.html#Create_a_file_system" class="mw-redirect" title="Format">formatting</a>) the partition. Alternatively, partitions can contain <a href="../en/LVM.html" title="LVM">LVM</a>, <a href="../en/Data-at-rest_encryption.html#Block_device_encryption" title="Data-at-rest encryption">block device encryption</a> or <a href="../en/RAID.html" title="RAID">RAID</a>, which ultimately provide device files on which a file system can be placed (or the devices can be stacked further).
</p>
<p>Any <a href="../en/Device_file.html#Block_devices" class="mw-redirect" title="Block device">block device</a> (e.g. disk, partition, LUKS device, LVM logical volume or RAID array) that directly contains a mountable file system is called a <a href="https://en.wikipedia.org/wiki/Volume_(computing)" class="extiw" title="wikipedia:Volume (computing)">volume</a>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Partition_table"><span class="tocnumber">1</span> <span class="toctext">Partition table</span></a>
<ul>
<li class="toclevel-2 tocsection-2">
<a href="#Master_Boot_Record"><span class="tocnumber">1.1</span> <span class="toctext">Master Boot Record</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#Master_Boot_Record_(bootstrap_code)"><span class="tocnumber">1.1.1</span> <span class="toctext">Master Boot Record (bootstrap code)</span></a></li>
<li class="toclevel-3 tocsection-4"><a href="#Master_Boot_Record_(partition_table)"><span class="tocnumber">1.1.2</span> <span class="toctext">Master Boot Record (partition table)</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-5"><a href="#GUID_Partition_Table"><span class="tocnumber">1.2</span> <span class="toctext">GUID Partition Table</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Choosing_between_GPT_and_MBR"><span class="tocnumber">1.3</span> <span class="toctext">Choosing between GPT and MBR</span></a></li>
<li class="toclevel-2 tocsection-7">
<a href="#Partitionless_disk"><span class="tocnumber">1.4</span> <span class="toctext">Partitionless disk</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#Btrfs_partitioning"><span class="tocnumber">1.4.1</span> <span class="toctext">Btrfs partitioning</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#Partition_scheme"><span class="tocnumber">2</span> <span class="toctext">Partition scheme</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Single_root_partition"><span class="tocnumber">2.1</span> <span class="toctext">Single root partition</span></a></li>
<li class="toclevel-2 tocsection-11">
<a href="#Discrete_partitions"><span class="tocnumber">2.2</span> <span class="toctext">Discrete partitions</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#/"><span class="tocnumber">2.2.1</span> <span class="toctext">/</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#/boot"><span class="tocnumber">2.2.2</span> <span class="toctext">/boot</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#/home"><span class="tocnumber">2.2.3</span> <span class="toctext">/home</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#/var"><span class="tocnumber">2.2.4</span> <span class="toctext">/var</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#/data"><span class="tocnumber">2.2.5</span> <span class="toctext">/data</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="#Swap"><span class="tocnumber">2.2.6</span> <span class="toctext">Swap</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-18">
<a href="#Example_layouts"><span class="tocnumber">2.3</span> <span class="toctext">Example layouts</span></a>
<ul>
<li class="toclevel-3 tocsection-19"><a href="#UEFI/GPT_layout_example"><span class="tocnumber">2.3.1</span> <span class="toctext">UEFI/GPT layout example</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="#BIOS/MBR_layout_example"><span class="tocnumber">2.3.2</span> <span class="toctext">BIOS/MBR layout example</span></a></li>
<li class="toclevel-3 tocsection-21"><a href="#BIOS/GPT_layout_example"><span class="tocnumber">2.3.3</span> <span class="toctext">BIOS/GPT layout example</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-22">
<a href="#Tools"><span class="tocnumber">3</span> <span class="toctext">Tools</span></a>
<ul>
<li class="toclevel-2 tocsection-23">
<a href="#Partitioning_tools"><span class="tocnumber">3.1</span> <span class="toctext">Partitioning tools</span></a>
<ul>
<li class="toclevel-3 tocsection-24"><a href="#fdisk"><span class="tocnumber">3.1.1</span> <span class="toctext">fdisk</span></a></li>
<li class="toclevel-3 tocsection-25"><a href="#GPT_fdisk"><span class="tocnumber">3.1.2</span> <span class="toctext">GPT fdisk</span></a></li>
<li class="toclevel-3 tocsection-26"><a href="#GNU_Parted"><span class="tocnumber">3.1.3</span> <span class="toctext">GNU Parted</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-27"><a href="#Backup"><span class="tocnumber">3.2</span> <span class="toctext">Backup</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Recovery"><span class="tocnumber">3.3</span> <span class="toctext">Recovery</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-29"><a href="#Partition_alignment"><span class="tocnumber">4</span> <span class="toctext">Partition alignment</span></a></li>
<li class="toclevel-1 tocsection-30"><a href="#GPT_kernel_support"><span class="tocnumber">5</span> <span class="toctext">GPT kernel support</span></a></li>
<li class="toclevel-1 tocsection-31">
<a href="#Troubleshooting"><span class="tocnumber">6</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-32"><a href="#Tricking_old_BIOS_into_booting_from_GPT"><span class="tocnumber">6.1</span> <span class="toctext">Tricking old BIOS into booting from GPT</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-33"><a href="#See_also"><span class="tocnumber">7</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Partition_table">Partition table</span></h2>
<p>There are two main types of partition table available. These are described below in the <a href="#Master_Boot_Record">#Master Boot Record</a> (MBR) and <a href="#GUID_Partition_Table">#GUID Partition Table</a> (GPT) sections along with a discussion on how to choose between the two. A third, less common alternative is using a partitionless disk, which is also discussed.
</p>
<p>Use a <a href="#Partitioning_tools">partitioning tool</a> to view the partition table of a <a href="../en/Device_file.html#Block_devices" class="mw-redirect" title="Block device">block device</a>. 
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Run <code>parted <i>/dev/sdX</i> print</code> or <code>fdisk -l <i>/dev/sdX</i></code>, where <code><i>/dev/sdX</i></code> is the <a href="../en/Device_file.html#Block_devices" class="mw-redirect" title="Block device">block device</a> such as <code>/dev/sda</code> for a SATA disk, <code>/dev/nvme0n1</code> for a <a href="../en/Solid_state_drive/NVMe.html" class="mw-redirect" title="NVMe">NVMe</a> disk or <code>/dev/mmcblk0</code> eMMC disk. See <a href="../en/Device_file.html#Block_device_names" title="Device file">Device file#Block device names</a> for more information on block device naming.</div>
<h3><span class="mw-headline" id="Master_Boot_Record">Master Boot Record</span></h3>
<p>The <a href="https://en.wikipedia.org/wiki/Master_boot_record" class="extiw" title="wikipedia:Master boot record">Master Boot Record</a> (MBR) is the first 512 bytes of a storage device. It contains an operating system bootloader and the storage device's partition table. It plays an important role in the <a href="../en/Arch_boot_process.html" class="mw-redirect" title="Boot process">boot process</a> under <a href="https://en.wikipedia.org/wiki/BIOS" class="extiw" title="wikipedia:BIOS">BIOS</a> systems. See <a href="https://en.wikipedia.org/wiki/Master_boot_record#Disk_partitioning" class="extiw" title="wikipedia:Master boot record">Wikipedia:Master boot record#Disk partitioning</a> for the MBR structure.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>The MBR is not located in a partition; it is located at the first sector of the device (physical offset 0), preceding the first partition.</li>
<li>The boot sector present on a partitionless device or within an individual partition is called a <a href="https://en.wikipedia.org/wiki/Volume_boot_record" class="extiw" title="wikipedia:Volume boot record">volume boot record (VBR)</a> instead.</li>
</ul>
</div>
<h4>
<span id="Master_Boot_Record_.28bootstrap_code.29"></span><span class="mw-headline" id="Master_Boot_Record_(bootstrap_code)">Master Boot Record (bootstrap code)</span>
</h4>
<p>The first 440 bytes of MBR are the <b>bootstrap code area</b>. On BIOS systems it usually contains the first stage of the boot loader. The bootstrap code can be backed up, restored from backup or erased <a href="../en/Dd.html#Backup_and_restore_MBR" title="Dd">using dd</a>.
</p>
<h4>
<span id="Master_Boot_Record_.28partition_table.29"></span><span class="mw-headline" id="Master_Boot_Record_(partition_table)">Master Boot Record (partition table)</span>
</h4>
<p>In the MBR partition table (also known as DOS or MS-DOS partition table) there are 3 types of partitions:
</p>
<ul>
<li>Primary</li>
<li>Extended
<ul><li>Logical</li></ul>
</li>
</ul>
<p><b>Primary</b> partitions can be bootable and are limited to four partitions per disk or RAID volume. If the MBR partition table requires more than four partitions, then one of the primary partitions needs to be replaced by an <b>extended</b> partition containing <b>logical</b> partitions within it. 
</p>
<p>Extended partitions can be thought of as containers for logical partitions. A hard disk can contain no more than one extended partition. The extended partition is also counted as a primary partition so if the disk has an extended partition, only three additional primary partitions are possible (i.e. three primary partitions and one extended partition). The number of logical partitions residing in an extended partition is unlimited. A system that dual boots with Windows will require for Windows to reside in a primary partition.
</p>
<p>The customary numbering scheme is to create primary partitions <i>sda1</i> through <i>sda3</i> followed by an extended partition <i>sda4</i>. The logical partitions on <i>sda4</i> are numbered <i>sda5</i>, <i>sda6</i>, etc.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> When partitioning a MBR disk consider leaving at least 33 512-byte sectors (16.5 KiB) of free unpartitioned space at the end of the disk in case you ever decide to <a href="../en/GPT_fdisk.html#Convert_between_MBR_and_GPT" class="mw-redirect" title="Gdisk">convert it to GPT</a>. The space will be required for the backup GPT header.</div>
<h3><span class="mw-headline" id="GUID_Partition_Table">GUID Partition Table</span></h3>
<p><a href="https://en.wikipedia.org/wiki/GUID_Partition_Table" class="extiw" title="wikipedia:GUID Partition Table">GUID Partition Table</a> (GPT) is a partitioning scheme that is part of the <a href="../en/Unified_Extensible_Firmware_Interface.html" title="Unified Extensible Firmware Interface">Unified Extensible Firmware Interface</a> specification; it uses <a href="https://en.wikipedia.org/wiki/Globally_unique_identifier" class="extiw" title="wikipedia:Globally unique identifier">globally unique identifiers</a> (GUIDs), or UUIDs in the Linux world, to define partitions and <a href="https://en.wikipedia.org/wiki/GUID_Partition_Table#Partition_type_GUIDs" class="extiw" title="wikipedia:GUID Partition Table">partition types</a>. It is designed to succeed the <a href="#Master_Boot_Record">Master Boot Record</a> partitioning scheme method.
</p>
<p>At the start of a GUID Partition Table disk there is a <a href="https://en.wikipedia.org/wiki/GUID_Partition_Table#Protective_MBR_.28LBA_0.29" class="extiw" title="wikipedia:GUID Partition Table">protective Master Boot Record</a> (PMBR) to protect against GPT-unaware software. This protective MBR just like an ordinary MBR has a <a href="#Master_Boot_Record_(bootstrap_code)">bootstrap code area</a> which can be used for BIOS/GPT booting with boot loaders that support it.
</p>
<h3><span class="mw-headline" id="Choosing_between_GPT_and_MBR">Choosing between GPT and MBR</span></h3>
<p>GUID Partition Table (GPT) is an alternative, contemporary, partitioning style; it is intended to replace the old Master Boot Record (MBR) system. GPT has several advantages over MBR which has quirks dating back to MS-DOS times. With the recent developments to the formatting tools, it is equally easy to get good dependability and performance for GPT or MBR. 
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> For GRUB to boot from a GPT-partitioned disk on a BIOS-based system, a <a href="../en/GRUB.html#GUID_Partition_Table_(GPT)_specific_instructions" class="mw-redirect" title="BIOS boot partition">BIOS boot partition</a> is required.</div>
<p>Some points to consider when choosing: 
</p>
<ul>
<li>To dual-boot with Windows (both 32-bit and 64-bit) using Legacy BIOS, the MBR scheme is required.</li>
<li>To dual-boot Windows 64-bit using <a href="../en/Unified_Extensible_Firmware_Interface.html" class="mw-redirect" title="UEFI">UEFI</a> mode instead of BIOS, the GPT scheme is required.</li>
<li>If you are installing on older hardware, especially on old laptops, consider choosing MBR because its BIOS might not support GPT (but <a href="#Tricking_old_BIOS_into_booting_from_GPT">see below</a> how to fix it).</li>
<li>If you are partitioning a disk that is larger than 2 TiB, you need to use GPT.</li>
<li>It is recommended to always use GPT for <a href="../en/Unified_Extensible_Firmware_Interface.html" class="mw-redirect" title="UEFI">UEFI</a> boot, as some UEFI implementations do not support booting to the MBR while in UEFI mode.</li>
<li>If none of the above apply, choose freely between GPT and MBR. Since GPT is more modern, it is recommended in this case.</li>
</ul>
<p>Some advantages of GPT over MBR are:
</p>
<ul>
<li>Provides a unique disk GUID and unique partition GUID (<a href="../en/Persistent_block_device_naming.html#by-partuuid" class="mw-redirect" title="PARTUUID">PARTUUID</a>) for each partition - A good filesystem-independent way of referencing partitions and disks.</li>
<li>Provides a filesystem-independent partition name (<a href="../en/Persistent_block_device_naming.html#by-partlabel" class="mw-redirect" title="PARTLABEL">PARTLABEL</a>).</li>
<li>Arbitrary number of partitions - depends on space allocated for the partition table - No need for extended and logical partitions. By default the GPT table contains space for defining 128 partitions. However if you want to define more partitions, you can allocate more space to the partition table (currently only <i>gdisk</i> is known to support this feature).</li>
<li>Uses 64-bit LBA for storing Sector numbers - maximum addressable disk size is 2 ZiB. MBR is limited to addressing 2 TiB of space per drive.<a rel="nofollow" class="external autonumber" href="https://superuser.com/a/1028994">[1]</a>
</li>
<li>Stores a backup header and partition table at the end of the disk that aids in <a href="../en/GPT_fdisk.html#Recover_GPT_header" class="mw-redirect" title="Gdisk">recovery</a> in case the primary ones are damaged.</li>
<li>CRC32 checksums to detect errors and corruption of the header and partition table.</li>
</ul>
<p>The section on <a href="#Partitioning_tools">#Partitioning tools</a> contains a table indicating which tools are available for creating and modifying GPT and MBR tables.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> It is possible to convert between MBR and GPT. See <a href="../en/GPT_fdisk.html#Convert_between_MBR_and_GPT" class="mw-redirect" title="Gdisk">gdisk#Convert between MBR and GPT</a>.</div>
<h3><span class="mw-headline" id="Partitionless_disk">Partitionless disk</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Explain when one might want to use a partitionless disk (e.g. in VMs) and when not and why. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Partitioning">Talk:Partitioning#</a>)</div>
</div>
<p>Partitionless disk a.k.a. <a rel="nofollow" class="external text" href="https://docs.microsoft.com/en-us/windows-hardware/manufacture/desktop/windows-and-gpt-faq#what-is-a-superfloppy">superfloppy</a> refers to a storage device without a partition table, having one file system occupying the whole storage device. The boot sector present on a partitionless device is called a <a href="https://en.wikipedia.org/wiki/Volume_boot_record" class="extiw" title="wikipedia:Volume boot record">volume boot record (VBR)</a>.
</p>
<h4><span class="mw-headline" id="Btrfs_partitioning">Btrfs partitioning</span></h4>
<p><a href="../en/Btrfs.html" title="Btrfs">Btrfs</a> can occupy an entire data storage device and replace the <a href="#Master_Boot_Record">MBR</a> or <a href="#GUID_Partition_Table">GPT</a> partitioning schemes. See the <a href="../en/Btrfs.html#Partitionless_Btrfs_disk" title="Btrfs">Btrfs#Partitionless Btrfs disk</a> instructions for details.
</p>
<h2><span class="mw-headline" id="Partition_scheme">Partition scheme</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Introduce <a href="../en/LVM.html" title="LVM">LVM</a>, <a href="../en/RAID.html" class="mw-redirect" title="Mdadm">mdadm</a>, <a href="../en/Dm-crypt.html" title="Dm-crypt">dm-crypt</a>, etc. They could be placed in a new subsection together with the information about Btrfs subvolumes. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Partitioning">Talk:Partitioning#</a>)</div>
</div>
<p>There are no strict rules for partitioning a hard drive, although one may follow the general guidance given below. A disk partitioning scheme is determined by various issues such as desired flexibility, speed, security, as well as the limitations imposed by available disk space. It is essentially personal preference. If you would like to dual boot Arch Linux and a Windows operating system please see <a href="../en/Dual_boot_with_Windows.html" title="Dual boot with Windows">Dual boot with Windows</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>
<a href="../en/Unified_Extensible_Firmware_Interface.html" class="mw-redirect" title="UEFI">UEFI</a> systems typically need an <a href="../en/EFI_system_partition.html" title="EFI system partition">EFI system partition</a>.</li>
<li>BIOS systems that are partitioned with <a href="#GUID_Partition_Table">GPT</a> require a <a href="../en/GRUB.html#GUID_Partition_Table_(GPT)_specific_instructions" class="mw-redirect" title="BIOS boot partition">BIOS boot partition</a> if <a href="../en/GRUB.html" title="GRUB">GRUB</a> is used as the bootloader.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> If using <a href="../en/Btrfs.html" title="Btrfs">Btrfs</a>, subvolumes can be used to imitate partitions. See the <a href="../en/Btrfs.html#Mounting_subvolumes" title="Btrfs">Btrfs#Mounting subvolumes</a> section.</div>
<h3><span class="mw-headline" id="Single_root_partition">Single root partition</span></h3>
<p>This scheme is the simplest and should be enough for most use cases. A <a href="../en/Swap.html#Swap_file" class="mw-redirect" title="Swapfile">swapfile</a> can be created and easily resized as needed. It usually makes sense to start by considering a single <code>/</code> partition and then separate out others based on specific use cases like RAID, encryption, a shared media partition, etc.
</p>
<h3><span class="mw-headline" id="Discrete_partitions">Discrete partitions</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> List the appropriate <a rel="nofollow" class="external text" href="https://systemd.io/DISCOVERABLE_PARTITIONS/">GPT partition type GUIDs</a>. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Partitioning">Talk:Partitioning#</a>)</div>
</div>
<p>Separating out a path as a partition allows for the choice of a different filesystem and mount options. In some cases like a media partition, they can also be shared between operating systems.
</p>
<p>Below are some example layouts that can be used when partitioning, and the following subsections detail a few of the directories which can be placed on their own separate partition and then <a href="../en/File_systems.html#Mount_a_file_system" class="mw-redirect" title="Mount">mounted</a> at mount points under <code>/</code>. See <span class="plainlinks archwiki-template-man" title="$ man 7 file-hierarchy"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/file-hierarchy.7">file-hierarchy(7)</a></span> for a full description of the contents of these directories.
</p>
<h4>
<span id=".2F"></span><span class="mw-headline" id="/">/</span>
</h4>
<p>The <a href="https://en.wikipedia.org/wiki/Root_directory" class="extiw" title="wikipedia:Root directory">root directory</a> is the top of the hierarchy, the point where the primary filesystem is mounted and from which all other filesystems stem. All files and directories appear under the root directory <code>/</code>, even if they are stored on different physical devices. The contents of the root filesystem must be adequate to boot, restore, recover, and/or repair the system. Therefore, certain directories under <code>/</code> are not candidates for separate partitions.
</p>
<p>The <code>/</code> partition or root partition is necessary and it is the most important. The other partitions can be replaced by it.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Directories essential for booting (except for <code>/boot</code>) <b>must</b> be on the same partition as <code>/</code> or mounted in early userspace by the <a href="../en/Arch_boot_process.html#initramfs" class="mw-redirect" title="Initramfs">initramfs</a>. These essential directories are: <code>/etc</code> and <code>/usr</code> <a rel="nofollow" class="external autonumber" href="https://freedesktop.org/wiki/Software/systemd/separate-usr-is-broken">[2]</a>.</div>
<p><code>/</code> traditionally contains the <code>/usr</code> directory, which can grow significantly depending upon how much software is installed. 15–20 GiB should be sufficient for most users with modern hard disks. If you plan to store a swap file here, you might need a larger partition size.
</p>
<h4>
<span id=".2Fboot"></span><span class="mw-headline" id="/boot">/boot</span>
</h4>
<p>The <code>/boot</code> directory contains the kernel and ramdisk images as well as the bootloader configuration file and bootloader stages. It also stores data that is used before the kernel begins executing user-space programs. <code>/boot</code> is not required for normal system operation, but only during boot and kernel upgrades (when regenerating the initial ramdisk).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>A separate <code>/boot</code> partition is only required if your boot loader is not capable of accessing the <code>/boot</code> directory that resides in <code>/</code>. For example, if the boot loader does not support that file system or if your <code>/</code> is on a stacked block device (e.g. software <a href="../en/RAID.html" title="RAID">RAID</a>, a <a href="../en/Dm-crypt.html" title="Dm-crypt">encrypted volume</a> or a <a href="../en/LVM.html" title="LVM">LVM</a> volume) and the boot loader does not have drivers for it. See <a href="../en/Arch_boot_process.html#Boot_loader" title="Arch boot process">Arch boot process#Boot loader</a> for more information on boot loader requirements and capabilities.</li>
<li>If booting using an UEFI <a href="../en/Arch_boot_process.html#Boot_loader" class="mw-redirect" title="Boot loader">boot loader</a> that does not have drivers for other file systems it is recommended to mount the <a href="../en/EFI_system_partition.html" title="EFI system partition">EFI system partition</a> to <code>/boot</code>. See <a href="../en/EFI_system_partition.html#Mount_the_partition" title="EFI system partition">EFI system partition#Mount the partition</a> for more information.</li>
</ul>
</div>
<p>A suggested size for <code>/boot</code> is 200 MiB unless you are using <a href="../en/EFI_system_partition.html" title="EFI system partition">EFI system partition</a> as <code>/boot</code>, in which case at least 260 MiB is recommended.
</p>
<h4>
<span id=".2Fhome"></span><span class="mw-headline" id="/home">/home</span>
</h4>
<p>The <code>/home</code> directory contains user-specific configuration files, caches, application data and media files.
</p>
<p>Separating out <code>/home</code> allows <code>/</code> to be re-partitioned separately, but note that you can still reinstall Arch with <code>/home</code> untouched even if it is not separate—the other top-level directories just need to be removed, and then pacstrap can be run.
</p>
<p>You should not share home directories between users on different distributions, because they use incompatible software versions and patches. Instead, consider sharing a media partition or at least using different home directories on the same <code>/home</code> partition. The size of this partition varies.
</p>
<h4>
<span id=".2Fvar"></span><span class="mw-headline" id="/var">/var</span>
</h4>
<p>The <code>/var</code> directory stores variable data such as spool directories and files, administrative and logging data, <a href="../en/Pacman.html" title="Pacman">pacman</a>'s cache, etc. It is used, for example, for caching and logging, and hence frequently read or written. Keeping it in a separate partition avoids running out of disk space due to flunky logs, etc.
</p>
<p>It exists to make it possible to mount <code>/usr</code> as read-only. Everything that historically went into <code>/usr</code> that is written to during system operation (as opposed to installation and software maintenance) must reside under <code>/var</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <code>/var</code> contains many small files. The choice of file system type should consider this fact if a separate partition is used.</div>
<p><code>/var</code> will contain, among other data, the <a href="../en/Pacman.html" title="Pacman">pacman</a> cache. Retaining these packages is helpful in case a package upgrade causes instability, requiring a <a href="../en/Downgrading_packages.html" class="mw-redirect" title="Downgrade">downgrade</a> to an older, archived package. The pacman cache will grow as the system is expanded and updated, but it can be safely cleared if space becomes an issue. 8–12 GiB on a desktop system should be sufficient for <code>/var</code>, depending on how much software will be installed.
</p>
<h4>
<span id=".2Fdata"></span><span class="mw-headline" id="/data">/data</span>
</h4>
<p>One can consider mounting a "data" partition to cover various files to be shared by all users. Using the <code>/home</code> partition for this purpose is fine as well. The size of this partition varies.
</p>
<h4><span class="mw-headline" id="Swap">Swap</span></h4>
<p>A <a href="../en/Swap.html" title="Swap">swap</a> is a file or partition that provides disk space used as virtual memory. Swap files and swap partitions are equally performant, but swap files are much easier to resize as needed. A swap partition can <i>potentially</i> be shared between operating systems, but not if hibernation is used.
</p>
<p>Historically, the general rule for swap partition size was to allocate twice the amount of physical RAM. As computers have gained ever larger memory capacities, this rule is outdated. For example, on average desktop machines with up to 512 MiB RAM, the 2× rule is usually adequate; if a sufficient amount of RAM (more than 1024 MiB) is available, it may be possible to have a smaller swap partition.
</p>
<p>To use hibernation (a.k.a suspend to disk) it is advised to create the swap partition at the size of RAM. Although the kernel will try to compress the suspend-to-disk image to fit the swap space there is no guarantee it will succeed if the used swap space is significantly smaller than RAM. See <a href="../en/Power_management/Suspend_and_hibernate.html#Hibernation" title="Power management/Suspend and hibernate">Power management/Suspend and hibernate#Hibernation</a> for more information.
</p>
<h3><span class="mw-headline" id="Example_layouts">Example layouts</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Improve current examples. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Partitioning#Table_draft_2">Talk:Partitioning#Table draft 2</a>)</div>
</div>
<p>The following examples use <code>/dev/sda</code> as the example disk with <code>/dev/sda1</code> as the first partition. The block device naming scheme will differ if you are partitioning a <a href="../en/Solid_state_drive/NVMe.html" class="mw-redirect" title="NVMe">NVMe</a> disk (e.g. <code>/dev/nvme0n1</code> with partitions starting from <code>/dev/nvme0n1p1</code>) or an SD card or eMMC disk (e.g. <code>/dev/mmcblk0</code> with partitions starting from <code>/dev/mmcblk0p1</code>). See <a href="../en/Device_file.html#Block_device_names" title="Device file">Device file#Block device names</a> for more information.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>UEFI booting does not involve any "boot" flag, booting relies solely on the boot entries in NVRAM. <a href="../en/Parted.html" title="Parted">Parted</a> and its front-ends  use a "boot" flag on GPT to indicate that a partition is an EFI system partition.</li>
<li>There is no requirement to have all required/wanted partitions on the same disk or to use the same type of partition table for all disks.</li>
</ul>
</div>
<h4>
<span id="UEFI.2FGPT_layout_example"></span><span class="mw-headline" id="UEFI/GPT_layout_example">UEFI/GPT layout example</span>
</h4>
<table class="wikitable">
<tbody>
<tr>
<th>Mount point on the installed system
</th>
<th>Partition
</th>
<th>
<a href="https://en.wikipedia.org/wiki/GUID_Partition_Table#Partition_type_GUIDs" class="extiw" title="wikipedia:GUID Partition Table">Partition type GUID</a>
</th>
<th>
<a href="https://en.wikipedia.org/wiki/GUID_Partition_Table#Partition_entries_.28LBA_2.E2.80.9333.29" class="extiw" title="wikipedia:GUID Partition Table">Partition attributes</a>
</th>
<th>Suggested size
</th>
</tr>
<tr>
<td>
<code>/boot</code> or <code>/efi</code><sup>1</sup>
</td>
<td>
<code>/dev/sda1</code>
</td>
<td>
<code>C12A7328-F81F-11D2-BA4B-00A0C93EC93B</code>: <a href="../en/EFI_system_partition.html" title="EFI system partition">EFI system partition</a>
</td>
<td>
</td>
<td>260 MiB
</td>
</tr>
<tr>
<td>
<code>[SWAP]</code>
</td>
<td>
<code>/dev/sda2</code>
</td>
<td>
<code>0657FD6D-A4AB-43C4-84E5-0933C84B4F4F</code>: Linux <a href="../en/Swap.html" title="Swap">swap</a>
</td>
<td>
</td>
<td>More than 512 MiB
</td>
</tr>
<tr>
<td>
<code>/</code>
</td>
<td>
<code>/dev/sda3</code>
</td>
<td>
<code>4F68BCE3-E8CD-4DB1-96E7-FBCAF984B709</code>: Linux x86-64 root (/)
</td>
<td>
</td>
<td>Remainder of the device
</td>
</tr>
</tbody>
</table>
<h4>
<span id="BIOS.2FMBR_layout_example"></span><span class="mw-headline" id="BIOS/MBR_layout_example">BIOS/MBR layout example</span>
</h4>
<table class="wikitable">
<tbody>
<tr>
<th>Mount point on the installed system
</th>
<th>Partition
</th>
<th>
<a href="https://en.wikipedia.org/wiki/Partition_type" class="extiw" title="wikipedia:Partition type">Partition type ID</a>
</th>
<th>
<a href="https://en.wikipedia.org/wiki/Boot_flag" class="extiw" title="wikipedia:Boot flag">Boot flag</a>
</th>
<th>Suggested size
</th>
</tr>
<tr>
<td>
<code>[SWAP]</code>
</td>
<td>
<code>/dev/sda1</code>
</td>
<td>
<code>82</code>: Linux <a href="../en/Swap.html" title="Swap">swap</a>
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No
</td>
<td>More than 512 MiB
</td>
</tr>
<tr>
<td>
<code>/</code>
</td>
<td>
<code>/dev/sda2</code>
</td>
<td>
<code>83</code>: Linux
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
<td>Remainder of the device
</td>
</tr>
<tr>
<td style="background: #ddd; color: inherit; vertical-align: middle; text-align: center;">N/A
</td>
<td>
<i>Unallocated space</i><sup>2</sup>
</td>
<td style="background: #ddd; color: inherit; vertical-align: middle; text-align: center;">N/A
</td>
<td style="background: #ddd; color: inherit; vertical-align: middle; text-align: center;">N/A
</td>
<td>At least 16.5 KiB at the end of the disk
</td>
</tr>
</tbody>
</table>
<h4>
<span id="BIOS.2FGPT_layout_example"></span><span class="mw-headline" id="BIOS/GPT_layout_example">BIOS/GPT layout example</span>
</h4>
<table class="wikitable">
<tbody>
<tr>
<th>Mount point on the installed system
</th>
<th>Partition
</th>
<th>
<a href="https://en.wikipedia.org/wiki/GUID_Partition_Table#Partition_type_GUIDs" class="extiw" title="wikipedia:GUID Partition Table">Partition type GUID</a>
</th>
<th>
<a href="https://en.wikipedia.org/wiki/GUID_Partition_Table#Partition_entries_.28LBA_2.E2.80.9333.29" class="extiw" title="wikipedia:GUID Partition Table">Partition attributes</a>
</th>
<th>Suggested size
</th>
</tr>
<tr>
<td style="background: #ddd; color: inherit; vertical-align: middle; text-align: center;">None
</td>
<td>
<code>/dev/sda1</code>
</td>
<td>
<code>21686148-6449-6E6F-744E-656564454649</code>: <a href="../en/GRUB.html#GUID_Partition_Table_(GPT)_specific_instructions" class="mw-redirect" title="BIOS boot partition">BIOS boot partition</a><sup>3</sup>
</td>
<td>
</td>
<td>1 MiB
</td>
</tr>
<tr>
<td>
<code>[SWAP]</code>
</td>
<td>
<code>/dev/sda2</code>
</td>
<td>
<code>0657FD6D-A4AB-43C4-84E5-0933C84B4F4F</code>: Linux <a href="../en/Swap.html" title="Swap">swap</a>
</td>
<td>
</td>
<td>More than 512 MiB
</td>
</tr>
<tr>
<td>
<code>/</code>
</td>
<td>
<code>/dev/sda3</code>
</td>
<td>
<code>4F68BCE3-E8CD-4DB1-96E7-FBCAF984B709</code>: Linux x86-64 root (/)
</td>
<td>
</td>
<td>Remainder of the device
</td>
</tr>
</tbody>
</table>
<ol>
<li>The ESP can be mounted to <code>/efi</code> if the used boot loader is capable of accessing the file system (and everything above it) on which the kernel and initramfs images are located. See <a href="../en/EFI_system_partition.html#Typical_mount_points" title="EFI system partition">EFI system partition#Typical mount points</a> and the warning in <a href="../en/Arch_boot_process.html#Boot_loader" title="Arch boot process">Arch boot process#Boot loader</a> for details.</li>
<li>An unpartitioned space of at least 33 512-byte sectors (16.5 KiB) at the end of the disk to allow <a href="../en/GPT_fdisk.html#Convert_between_MBR_and_GPT" title="GPT fdisk">converting to GPT</a> in the future. The space will be required for the backup GPT header. The recommendation to preserve an unpartitioned space applies to all MBR partitioned disks.</li>
<li>A BIOS boot partition is only required when using <a href="../en/GRUB.html" title="GRUB">GRUB</a> for BIOS booting from a GPT disk. The partition has nothing to do with <code>/boot</code>, and it must not be formatted with a file system or mounted.</li>
</ol>
<h2><span class="mw-headline" id="Tools">Tools</span></h2>
<h3><span class="mw-headline" id="Partitioning_tools">Partitioning tools</span></h3>
<p>The following programs are used to create and/or manipulate device partition tables and partitions. See the linked articles for the exact commands to be used.
</p>
<p>This table will help you to choose utility for your needs:
</p>
<table class="wikitable">
<tbody>
<tr>
<th>
</th>
<th>MBR
</th>
<th>GPT
</th>
</tr>
<tr>
<th>Dialog
</th>
<td>fdisk <br> parted
</td>
<td>fdisk <br> gdisk <br> parted
</td>
</tr>
<tr>
<th>Pseudo-graphics
</th>
<td>cfdisk
</td>
<td>cfdisk <br> cgdisk
</td>
</tr>
<tr>
<th>Non-interactive
</th>
<td>sfdisk <br> parted
</td>
<td>sfdisk <br> sgdisk <br> parted
</td>
</tr>
<tr>
<th>Graphical
</th>
<td>GParted <br> gnome-disk-utility <br> partitionmanager
</td>
<td>GParted <br> gnome-disk-utility <br> partitionmanager
</td>
</tr>
</tbody>
</table>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> To partition devices, use a partitioning tool compatible to the chosen type of partition table. Incompatible tools may result in the destruction of that table, along with existing partitions or data.</div>
<h4><span class="mw-headline" id="fdisk">fdisk</span></h4>
<p><i>fdisk</i> and its related utilities are described in the <a href="../en/Fdisk.html" title="Fdisk">fdisk</a> article.
</p>
<ul><li>
<a href="../en/Fdisk.html" title="Fdisk">fdisk</a> (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=util-linux">util-linux</a></span>)
<ul>
<li>
<span class="plainlinks archwiki-template-man" title="$ man 8 fdisk"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/fdisk.8">fdisk(8)</a></span> – Dialog-driven program for creation and manipulation of partition tables.</li>
<li>
<span class="plainlinks archwiki-template-man" title="$ man 8 cfdisk"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/cfdisk.8">cfdisk(8)</a></span> – <a href="https://en.wikipedia.org/wiki/curses_(programming_library)" class="extiw" title="wikipedia:curses (programming library)">Curses</a>-based variant of fdisk.</li>
<li>
<span class="plainlinks archwiki-template-man" title="$ man 8 sfdisk"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sfdisk.8">sfdisk(8)</a></span> – Scriptable variant of fdisk.</li>
</ul>
</li></ul>
<h4><span class="mw-headline" id="GPT_fdisk">GPT fdisk</span></h4>
<p><i>gdisk</i> and its related utilities are described in the <a href="../en/GPT_fdisk.html" class="mw-redirect" title="Gdisk">gdisk</a> article.
</p>
<ul><li>
<a href="../en/GPT_fdisk.html" title="GPT fdisk">GPT fdisk</a> (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gptfdisk">gptfdisk</a></span>)
<ul>
<li>
<span class="plainlinks archwiki-template-man" title="$ man 8 gdisk"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/gdisk.8">gdisk(8)</a></span> – Interactive <a href="#GUID_Partition_Table">GUID partition table (GPT)</a> manipulator.</li>
<li>
<span class="plainlinks archwiki-template-man" title="$ man 8 cgdisk"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/cgdisk.8">cgdisk(8)</a></span> – Curses-based variant of gdisk.</li>
<li>
<span class="plainlinks archwiki-template-man" title="$ man 8 sgdisk"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sgdisk.8">sgdisk(8)</a></span> – Scriptable variant of gdisk.</li>
</ul>
</li></ul>
<h4><span class="mw-headline" id="GNU_Parted">GNU Parted</span></h4>
<p>These group of tools are described in the <a href="../en/Parted.html" class="mw-redirect" title="GNU Parted">GNU Parted</a> article.
</p>
<ul><li>
<b><a href="../en/Parted.html" class="mw-redirect" title="GNU Parted">GNU Parted</a></b> — Terminal partitioning tool.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://www.gnu.org/software/parted/parted.html">https://www.gnu.org/software/parted/parted.html</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=parted">parted</a></span>
</dd></dl>
<ul><li>
<b>GNOME Disks</b> — Disk management utility for GNOME.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://wiki.gnome.org/Apps/Disks">https://wiki.gnome.org/Apps/Disks</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-disk-utility">gnome-disk-utility</a></span>
</dd></dl>
<ul><li>
<b><a href="../en/Parted.html" class="mw-redirect" title="GParted">GParted</a></b> — GTK partition editor for graphically managing your disk partitions.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://gparted.sourceforge.io/">https://gparted.sourceforge.io/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gparted">gparted</a></span>
</dd></dl>
<ul><li>
<b>KDE Partition Manager</b> — Utility program for KDE to manage the disk devices, partitions and file systems.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://kde.org/applications/system/org.kde.partitionmanager">https://kde.org/applications/system/org.kde.partitionmanager</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=partitionmanager">partitionmanager</a></span>
</dd></dl>
<h3><span class="mw-headline" id="Backup">Backup</span></h3>
<ul>
<li>
<a href="../en/Fdisk.html" title="Fdisk">fdisk</a> can create a backup of the partitions table. See <a href="../en/Fdisk.html#Backup_and_restore_partition_table" title="Fdisk">fdisk#Backup and restore partition table</a>.</li>
<li>
<a href="../en/GPT_fdisk.html" title="GPT fdisk">GPT fdisk</a> can create a binary backup consisting of the protective MBR, the main GPT header, the backup GPT header, and one copy of the partition table. See <a href="../en/GPT_fdisk.html#Backup_and_restore_partition_table" title="GPT fdisk">GPT fdisk#Backup and restore partition table</a>.</li>
</ul>
<h3><span class="mw-headline" id="Recovery">Recovery</span></h3>
<ul><li>
<b><a href="https://en.wikipedia.org/wiki/gpart" class="extiw" title="wikipedia:gpart">gpart</a></b> — A utility that guesses the contents of a destroyed MBR partition table. Its usage is explained in the <span class="plainlinks archwiki-template-man" title="$ man 8 gpart"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/gpart.8">gpart(8)</a></span> man page.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/baruch/gpart">https://github.com/baruch/gpart</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gpart">gpart</a></span>
</dd></dl>
<ul><li>
<b><a href="../en/GPT_fdisk.html#Recover_GPT_header" title="GPT fdisk">GPT fdisk</a></b> — A partitioning tool that can restore the primary GPT header (located at the start of the disk) from the secondary GPT header (located at the end of the disk) or vice versa.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://www.rodsbooks.com/gdisk/">https://www.rodsbooks.com/gdisk/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gptfdisk">gptfdisk</a></span>
</dd></dl>
<ul><li>
<b><a href="../en/File_recovery.html#Testdisk_and_PhotoRec" title="File recovery">TestDisk</a></b> — A utility that supports recovering lost partitions on both MBR and GPT.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://www.cgsecurity.org/index.html?testdisk.html">https://www.cgsecurity.org/index.html?testdisk.html</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=testdisk">testdisk</a></span>
</dd></dl>
<h2><span class="mw-headline" id="Partition_alignment">Partition alignment</span></h2>
<p><a href="../en/Fdisk.html" title="Fdisk">fdisk</a>, <a href="../en/GPT_fdisk.html" class="mw-redirect" title="Gdisk">gdisk</a> and <a href="../en/Parted.html#Alignment" title="Parted">parted</a> handle alignment automatically. See <a href="../en/Parted.html#Check_alignment" class="mw-redirect" title="GNU Parted">GNU Parted#Check alignment</a> if you want to verify your alignment after partitioning.
</p>
<p>For certain drives <a href="../en/Advanced_Format.html" title="Advanced Format">Advanced Format</a> might be able to provide a better-performing alignment.
</p>
<h2><span class="mw-headline" id="GPT_kernel_support">GPT kernel support</span></h2>
<p>The <code>CONFIG_EFI_PARTITION</code> option in the kernel config enables GPT support in the kernel (despite the name, EFI PARTITION). This option must be built in the kernel and not compiled as a loadable module. This option is required even if GPT disks are used only for data storage and not for booting. This option is enabled by default in all Arch's <a href="../en/Kernel.html#Officially_supported_kernels" class="mw-redirect" title="Kernels">officially supported kernels</a>. In case of a custom kernel, enable this option by doing <code>CONFIG_EFI_PARTITION=y</code>.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Tricking_old_BIOS_into_booting_from_GPT">Tricking old BIOS into booting from GPT</span></h3>
<p>Some old BIOSes (from before year 2010) attempt to parse the boot sector and refuse to boot it if it does not contain a bootable MBR partition. This is a problem if one wants to use GPT on this disk, because, from the BIOS viewpoint, it contains only one, non-bootable, MBR partition of type <code>ee</code> (i.e., the protective MBR partition). One can mark the protective MBR entry as bootable using <code>fdisk -t mbr /dev/sda</code>, and it will work on some BIOSes. However, the UEFI specification prohibits the protective MBR partition entry from being bootable, and UEFI-based boards do care about this, even in the legacy boot mode. So, this matters if one wants to create a GPT-based USB flash drive that is supposed to boot both on modern UEFI-based boards and also on old BIOSes that insist on finding a bootable MBR partition. It is not possible to solve this problem using traditional tools such as <a href="../en/Fdisk.html" title="Fdisk">fdisk</a> or <a href="../en/GPT_fdisk.html" class="mw-redirect" title="Gdisk">gdisk</a>, but it is possible to create a fake MBR partition entry suitable for both kinds of BIOSes manually as a sequence of bytes.
</p>
<p>The command below will overwrite the second MBR partition slot and add a bootable partition there of type 0 (i.e. unused), covering only the first sector of the device. It will not interfere with the GPT or with the first MBR partition entry which normally contains a protective MBR partition.
</p>
<pre># printf '\200\0\0\0\0\0\0\0\0\0\0\0\001\0\0\0' | dd of=/dev/sda bs=1 seek=462
</pre>
<p>The end result will look like this:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># fdisk -t mbr -l /dev/sda</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Disk /dev/sda: 232.9 GiB, 250059350016 bytes, 488397168 sectors
Disk model: ST3250820AS     
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: dos
Disk identifier: 0x00000000

Device     Boot Start       End   Sectors   Size Id Type
/dev/sda1           1 488397167 488397167 232.9G ee GPT
/dev/sda2  *        0         0         1   512B  0 Empty

Partition table entries are not in disk order.</pre>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Disk_partitioning" class="extiw" title="wikipedia:Disk partitioning">Wikipedia:Disk partitioning</a></li>
<li><a href="https://en.wikipedia.org/wiki/Binary_prefix" class="extiw" title="wikipedia:Binary prefix">Wikipedia:Binary prefix</a></li>
<li><a rel="nofollow" class="external text" href="https://thestarman.pcministry.com/asm/mbr/DiskTerms.htm">Understanding Disk Drive Terminology</a></li>
<li><a rel="nofollow" class="external text" href="https://kb.iu.edu/d/aijw">What is a Master Boot Record (MBR)?</a></li>
<li>Rod Smith's page on <a rel="nofollow" class="external text" href="https://www.rodsbooks.com/gdisk/whatsgpt.html">What's a GPT?</a> and <a rel="nofollow" class="external text" href="https://rodsbooks.com/gdisk/booting.html">Booting OSes from GPT</a>
</li>
<li><a rel="nofollow" class="external text" href="https://developer.ibm.com/tutorials/l-gpt/">Make the most of large drives with GPT and Linux - IBM Developer</a></li>
<li><a rel="nofollow" class="external text" href="https://docs.microsoft.com/en-us/windows-hardware/manufacture/desktop/windows-and-gpt-faq">Microsoft's Windows and GPT FAQ</a></li>
<li>
<a rel="nofollow" class="external text" href="https://www.thomas-krenn.com/en/wiki/Partition_Alignment">Partition Alignment</a> (with examples)</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:File_systems.html" title="Category:File systems">File systems</a></li>
<li><a href="../en/Category:Boot_process.html" title="Category:Boot process">Boot process</a></li>
<li><a href="../en/Category:System_recovery.html" title="Category:System recovery">System recovery</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Partitioning&amp;oldid=644606">https://wiki.archlinux.org/index.php?title=Partitioning&amp;oldid=644606</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 11 December 2020, at 08:32.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
