<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Pulse Connect Secure - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Pulse_Connect_Secure rootpage-Pulse_Connect_Secure skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Pulse Connect Secure</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><a rel="nofollow" class="external text" href="https://www.pulsesecure.net/connect-secure">Pulse Connect Secure</a> (PCS), previously known as Juniper SSL VPN, is a commercial VPN solution targeted at businesses.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#AUR"><span class="tocnumber">1.1</span> <span class="toctext">AUR</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#OpenConnect"><span class="tocnumber">1.2</span> <span class="toctext">OpenConnect</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4">
<a href="#Third-party_scripts"><span class="tocnumber">2</span> <span class="toctext">Third-party scripts</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#JNC"><span class="tocnumber">2.1</span> <span class="toctext">JNC</span></a></li>
<li class="toclevel-2 tocsection-6">
<a href="#MSJNC"><span class="tocnumber">2.2</span> <span class="toctext">MSJNC</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#Instructions_for_64-bit_users"><span class="tocnumber">2.2.1</span> <span class="toctext">Instructions for 64-bit users</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Automatic_installation_of_ncsvc_using_msjnc"><span class="tocnumber">2.2.2</span> <span class="toctext">Automatic installation of ncsvc using msjnc</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#Manual_installation_of_msjnc"><span class="tocnumber">2.2.3</span> <span class="toctext">Manual installation of msjnc</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#Note_regarding_Server/URL"><span class="tocnumber">2.2.4</span> <span class="toctext">Note regarding Server/URL</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11">
<a href="#JVPN"><span class="tocnumber">2.3</span> <span class="toctext">JVPN</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#Installation_2"><span class="tocnumber">2.3.1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#Running_as_root"><span class="tocnumber">2.3.2</span> <span class="toctext">Running as root</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#Running_as_a_regular_user"><span class="tocnumber">2.3.3</span> <span class="toctext">Running as a regular user</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-15">
<a href="#Workarounds"><span class="tocnumber">3</span> <span class="toctext">Workarounds</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#64-bit_Java_(workaround_1)"><span class="tocnumber">3.1</span> <span class="toctext">64-bit Java (workaround 1)</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#64-bit_Java_(workaround_2)"><span class="tocnumber">3.2</span> <span class="toctext">64-bit Java (workaround 2)</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Motif_and_libstdc++-libc6.2-2.so.3"><span class="tocnumber">3.3</span> <span class="toctext">Motif and libstdc++-libc6.2-2.so.3</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19">
<a href="#Troubleshooting"><span class="tocnumber">4</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#Password_incorrect"><span class="tocnumber">4.1</span> <span class="toctext">Password incorrect</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Login_succeeds_but_Network_Connect_will_not_launch"><span class="tocnumber">4.2</span> <span class="toctext">Login succeeds but Network Connect will not launch</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Network_Connect_launched_but_the_VPN_does_not_work"><span class="tocnumber">4.3</span> <span class="toctext">Network Connect launched but the VPN does not work</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Network_Connect_launched_and_a_configuration_error_message_is_displayed"><span class="tocnumber">4.4</span> <span class="toctext">Network Connect launched and a configuration error message is displayed</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#ncapp.error_Failed_to_connect/authenticate_with_IVE."><span class="tocnumber">4.5</span> <span class="toctext">ncapp.error Failed to connect/authenticate with IVE.</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#ncsvc_and_kernel_versions_3.19_and_4.5_to_4.9"><span class="tocnumber">4.6</span> <span class="toctext">ncsvc and kernel versions 3.19 and 4.5 to 4.9</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Unauthorized_new_route_has_been_added,_disconnecting"><span class="tocnumber">4.7</span> <span class="toctext">Unauthorized new route has been added, disconnecting</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#After_login,_pulseUi_displays_'Compliance:_Security_policies_not_met'"><span class="tocnumber">4.8</span> <span class="toctext">After login, pulseUi displays 'Compliance: Security policies not met'</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<h3><span class="mw-headline" id="AUR">AUR</span></h3>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pulse-secure/">pulse-secure</a></span><sup><small>AUR</small></sup> package and run the service:
</p>
<pre>$ pulsesvc -h &lt;hostname&gt; -Port &lt;port number&gt; -u &lt;username&gt; -realm &lt;realm&gt; -Url &lt;login URL&gt;
</pre>
<p>Note that the login URL is different from the URL used in browsers. Check "Note regarding Server/URL" section below.
</p>
<p>To use the <code>pulseUi</code> GUI client you need to additionally install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/webkitgtk-bin/">webkitgtk-bin</a></span><sup><small>AUR</small></sup> (or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/webkitgtk/">webkitgtk</a></span><sup><small>AUR</small></sup>) and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/icu64/">icu64</a></span><sup><small>AUR</small></sup>.
In the GUI client, the URL should be same as that used in browsers.
</p>
<h3><span class="mw-headline" id="OpenConnect">OpenConnect</span></h3>
<p>The <a href="../en/OpenConnect.html" title="OpenConnect">OpenConnect</a> VPN client also supports Pulse Connect Secure. See the <a rel="nofollow" class="external text" href="http://lists.infradead.org/pipermail/openconnect-devel/2015-January/002628.html">initial announcement</a> for more details.
</p>
<p>To use, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=openconnect">openconnect</a></span>. If your Juniper VPN setup doesn't require any input after connecting you can use this command in order to connect 
</p>
<pre># openconnect --protocol=pulse https://vpn.example.com/
</pre>
<p>If you want <a href="../en/NetworkManager.html" title="NetworkManager">NetworkManager</a> support, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=networkmanager-openconnect">networkmanager-openconnect</a></span>, or try the latest git version. The VPN connection can be created through the GUI or by using this command:
</p>
<pre>$ nmcli con add type vpn con-name "Connection Name" ifname "*" vpn-type openconnect -- vpn.data "gateway=vpn.example.com,protocol=nc"
</pre>
<h2><span class="mw-headline" id="Third-party_scripts">Third-party scripts</span></h2>
<h3><span class="mw-headline" id="JNC">JNC</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> In <a rel="nofollow" class="external text" href="http://kb.juniper.net/InfoCenter/index?page=content&amp;id=KB20490&amp;actp=RSS">some cases</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2017-12-19]</sup>, depending on your corporate policy configuration, you <b>must</b> login through the browser. If this is the case, command-line tools (jnc, junipernc) will not work.</div>
<p>1. Go to your company's VPN site, log in and download/install the Juniper client. 
</p>
<p>2. Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jnc/">jnc</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>. You need to enable the <a href="../en/Official_repositories.html#multilib" class="mw-redirect" title="Multilib">multilib</a> repository: see the <a rel="nofollow" class="external text" href="http://www.scc.kit.edu/scc/net/juniper-vpn/linux/">upstream website</a>.
</p>
<p>3. Make a directory for the <i>.config</i> file:
</p>
<pre>$ mkdir -p ~/.juniper_networks/network_connect/config
</pre>
<p>4. Copy and adapt this <i>.config</i> file in this directory:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.juniper_networks/network_connect/config/.config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">host=foo.bar.com
user=username
password=secret
realm= realm with spaces
cafile=/etc/ssl/bar-chain.pem
certfile=</pre>
<dl>
<dt>cafile</dt>
<dd>ca chain to verify the host certificate</dd>
<dt>certfile</dt>
<dd>host certificate in DER format. Cafile or certfile must be configured, you can download them from your VPN sign-in page (certificate information, export certificate).</dd>
<dt>realm</dt>
<dd>You can find out your realm by viewing the page source of your VPN sign-in page: just search for the word realm in it.</dd>
</dl>
<p>5. Start/stop network connect:
</p>
<pre>$ jnc --nox
</pre>
<p>for use without GUI. To stop the client, execute
</p>
<pre>$ jnc stop
</pre>
<h3><span class="mw-headline" id="MSJNC">MSJNC</span></h3>
<p>The <a rel="nofollow" class="external text" href="http://mad-scientist.us/juniper.html">Mad Scientist's "msjnc" script</a> requires <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gtk2-perl">gtk2-perl</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glib-perl">glib-perl</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=unzip">unzip</a></span>.
</p>
<h4><span class="mw-headline" id="Instructions_for_64-bit_users">Instructions for 64-bit users</span></h4>
<p>Enable <a href="../en/Official_repositories.html#multilib" class="mw-redirect" title="Multilib">multilib</a> and then <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-zlib">lib32-zlib</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=net-tools">net-tools</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glib-perl">glib-perl</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=perl-libwww">perl-libwww</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gtk2-perl">gtk2-perl</a></span>.
</p>
<p>Access the the Juniper VPN website you need to use. Log in and allow the installation to attempt and fail (due to non-32 bit Java). You should get an error similar to the following:
</p>
<pre>Setup failed.
Please install 32 bit Java and update alternatives links using update-alternatives command.
For more details, refer KB article KB25230</pre>
<p>You should now have the file <code>~/.juniper_networks/ncLinuxApp.jar</code> present.
</p>
<p>However, if <code>ncLinuxApp.jar</code> is not downloaded, fetch it manually - see the following example URL: <code><a rel="nofollow" class="external free" href="https://server/dana-cached/nc/ncLinuxApp.jar">https://server/dana-cached/nc/ncLinuxApp.jar</a></code> (note: you need to log in first).
</p>
<p>Then download the <a rel="nofollow" class="external text" href="https://raw.github.com/madscientist/msjnc/master/msjnc">msjnc</a> script, make it executable, and put it in your <code>PATH</code>.
</p>
<h4><span class="mw-headline" id="Automatic_installation_of_ncsvc_using_msjnc">Automatic installation of ncsvc using msjnc</span></h4>
<p>The first time you launch <i>msjnc</i> (before <i>ncsvc</i> is installed), it will extract <code>ncLinuxApp.jar</code> and prompt for your password in order to install the service. This requires <i>sudo</i> to be configured to allow all commands to your user.
</p>
<p>After the service is installed to <code>~/.juniper_networks/network_connect/ncsvc</code> with suid, create a profile and connect.
</p>
<h4><span class="mw-headline" id="Manual_installation_of_msjnc">Manual installation of msjnc</span></h4>
<p>Create these directories:
</p>
<pre>$ mkdir -p ~/.juniper_networks/network_connect
$ mkdir -p ~/.juniper_networks/tmp
</pre>
<p>Extract the software:
</p>
<pre>$ unzip ~/.juniper_networks/ncLinuxApp.jar -d ~/.juniper_networks/tmp
</pre>
<p>Copy <code>NC.jar</code> to the <code>network_connect</code> directory:
</p>
<pre>$ cp ~/.juniper_networks/tmp/NC.jar ~/.juniper_networks/network_connect
</pre>
<p>Install the service:
</p>
<pre>$ sh ~/.juniper_networks/tmp/installNC.sh ~/.juniper_networks/network_connect
</pre>
<p>Launch <i>msjnc</i>, create a profile, and connect.
</p>
<h4>
<span id="Note_regarding_Server.2FURL"></span><span class="mw-headline" id="Note_regarding_Server/URL">Note regarding Server/URL</span>
</h4>
<p>For the Server/URL, you may have to provide the URL that processes the login form rather than the login page itself. As an example, one company's login form is on <code>/dana-na/auth/url_0/welcome.cgi</code> but the form is actually processed by <code>/dana-na/auth/url_0/login.cgi</code>. You may have to inspect the html of the login page to find the form's action attribute.
</p>
<h3><span class="mw-headline" id="JVPN">JVPN</span></h3>
<p>The <a rel="nofollow" class="external text" href="https://github.com/samm-git/jvpn">JVPN Perl script</a> establishes a Juniper VPN connection and supports the following features:
</p>
<ul>
<li>Connection using Host Checker.</li>
<li>Automatic download of the required Juniper java and daemon files (ncsvc) when run as root.</li>
</ul>
<h4><span class="mw-headline" id="Installation_2">Installation</span></h4>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the perl dependencies <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=perl-term-readkey">perl-term-readkey</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=perl-lwp-protocol-https">perl-lwp-protocol-https</a></span>. Once you have done so, you must choose whether to run <i>jvpn</i> as root (easiest method) or as a regular user and run the steps below accordingly. 
</p>
<h4><span class="mw-headline" id="Running_as_root">Running as root</span></h4>
<p>Run the command:
</p>
<pre># curl -L <a rel="nofollow" class="external free" href="https://github.com/samm-git/jvpn/archive/v0.7.0.tar.gz">https://github.com/samm-git/jvpn/archive/v0.7.0.tar.gz</a> | tar xz
</pre>
<p>The command creates a file <code>jvpn-0.7.0</code> in current directory.
</p>
<p>Finally, start the script with:
</p>
<pre># ./jvpn.pl
</pre>
<p>On first run, the script will download all the necessary files
</p>
<h4><span class="mw-headline" id="Running_as_a_regular_user">Running as a regular user</span></h4>
<p>Use your web browser (no need for 32-bit Java) to connect to the VPN website and download the appropriate software. The files downloaded will be located in <code>~/.juniper_networks/network_connect/</code> (even if the VPN connection actually fails).
</p>
<p>This step is considered more complex because you have to have a functional Java plugin in your browser (configured with appropriate security settings). During installation of Network Connect, the browser will request a root password to set the setuid flag on <i>ncsvc</i> (Juniper daemon).
</p>
<p>Then install <i>jvpn</i> into the folder by executing the following:
</p>
<pre>$ cd ~/.juniper_networks/network_connect
$ curl -L <a rel="nofollow" class="external free" href="https://github.com/samm-git/jvpn/archive/v0.7.0.tar.gz">https://github.com/samm-git/jvpn/archive/v0.7.0.tar.gz</a> | tar xz --strip-components=1
</pre>
<p>Next, edit <code>jvpn.ini</code> (directions are included in the file).
</p>
<p>Finally, start the script with the following:
</p>
<pre>$ cd ~/.juniper_networks/network_connect
$ ./jvpn.pl
</pre>
<h2><span class="mw-headline" id="Workarounds">Workarounds</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> All of these workarounds are poor quality and potentially problematic. These need to be reviewed and then either fixed or removed. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Pulse_Connect_Secure">Talk:Pulse Connect Secure#</a>)</div>
</div>
<h3>
<span id="64-bit_Java_.28workaround_1.29"></span><span class="mw-headline" id="64-bit_Java_(workaround_1)">64-bit Java (workaround 1)</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> These steps are <b>not recommended</b>. Updating your JRE will break this workaround and you will have to repeat these steps.</div>
<p>1) Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/bin32-jre/">bin32-jre</a></span><sup><small>AUR</small></sup>. Make sure the PKGBUILD installs it to <code>/opt/bin32-jre</code>, rather than <code>/opt/java</code>, where it will conflict with the 64-bit JRE.
</p>
<p>2) Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jre/">jre</a></span><sup><small>AUR</small></sup>.
</p>
<p>3) Move the java binary to <code>java.orig</code>:
</p>
<pre># mv /opt/java/jre/bin/java /opt/java/jre/bin/java.orig
</pre>
<p>4) Create a bash script <code>java</code> and make it executable:
</p>
<pre># touch /opt/java/jre/bin/java
# chmod 755 /opt/java/jre/bin/java
</pre>
<p>5) Finally, edit the bash script as per the below:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/opt/java/jre/bin/java</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/bash
if [ $3x = "NCx" ]
then
    /opt/bin32-jre/jre/bin/java "$@"
else
    /opt/java/jre/bin/java.orig "$@"
fi</pre>
<h3>
<span id="64-bit_Java_.28workaround_2.29"></span><span class="mw-headline" id="64-bit_Java_(workaround_2)">64-bit Java (workaround 2)</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Installing non-packaged versions of Java and symlinking libraries into arbitrary locations is <b>not recommended</b>.</div>  
<p>Another approach is to install an alternative version of Java and link the Java plugin for Firefox manually - this avoids the necessity of using a <i>chroot</i> environment. Follow the instructions below:
</p>
<ol>
<li>
<a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xterm">xterm</a></span>.</li>
<li>Install a custom 64-bit Java environment from <a rel="nofollow" class="external text" href="http://www.java.com/en/download">java.com</a>. Select the Linux x64 version. Once you have decided upon a location for the installation, extract the binary into that location and then mark it executable. Finally, run the binary to install Java.</li>
<li>Install a custom 32-bit Java environment, also from <a rel="nofollow" class="external text" href="http://www.java.com/en/download">java.com</a> but this time, select the Linux (self-extracting) option. Extract the new binary to the same location created above, mark it executable, and run the binary. It will ask you whether you want to replace the files to 32 bit: <b>Type "A" to overwrite all the 64-bit files with the 32-bit ones.</b>
</li>
<li>Finally, link the library into the required location. The relevant library for Firefox is <code>libnpjp2.so</code>. To link it, use the following command <code>ln -s <i>location-of-custom-java-installation</i>/lib/amd64/libnpjp2.so /usr/lib/mozilla/plugins/libnpjp2.so</code>.</li>
</ol>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Firefox 5 and higher check <code>/usr/lib/mozilla/plugins</code> for plugins instead of <code>~/.mozilla/plugins</code> which was used in previous versions.</div>
<p>For more information, see the following guide from <a rel="nofollow" class="external text" href="https://web.archive.org/web/20120114155121/http://wireless.siu.edu:80/install-ubuntu-64.htm">Southern Illinois University</a>.
</p>
<h3>
<span id="Motif_and_libstdc.2B.2B-libc6.2-2.so.3"></span><span class="mw-headline" id="Motif_and_libstdc++-libc6.2-2.so.3">Motif and libstdc++-libc6.2-2.so.3</span>
</h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Are Motif and <code>libstdc++-libc6.2-2.so.3</code> still required in any way? None of the clients linked to in <a href="#Installation">#Installation</a> depend on these things. Plus, the Gentoo wiki page that this section is based on no longer exists. Furthermore, if Motif is required, does one really have to use <i>lesstif</i>? If you're going to be creating symlinks anyway, why not just use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=openmotif">openmotif</a></span> and then symlink <code>libXm.so.4</code> to <code>libXm.so.3</code>? (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Pulse_Connect_Secure">Talk:Pulse Connect Secure#</a>)</div>
</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> The steps involved in this section, including using obsolete libraries and symlinking new library names to old are <b>absolutely not recommended</b>.</div>
<p>When trying to use Juniper VPN, you may be informed that there are missing libraries. If so, follow the instructions below.
</p>
<p>1) Install a Java Runtime Environment (JRE) - see <a href="../en/Java.html" title="Java">Java</a>.
</p>
<p>2) Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/libstdc%2B%2B296/">libstdc++296</a></span><sup><small>AUR</small></sup> which provides the required <code>libstdc++-libc6.2-2.so.3</code> library.
</p>
<p>3) Install the Motif toolkit. Note that <i>lesstif</i> must be used - the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=openmotif">openmotif</a></span> package provides a version of Motif that is too recent. Specifically, it provides <code>libXm.so.4</code> instead of <code>libXm.so.3</code>.
</p>
<p>4) Then create symlinks in order to be able to use lesstif as if it is official Motif - see the reference below.
</p>
<p>5) Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xterm">xterm</a></span> - the installation uses xterm to ask for the root password.
</p>
<p>6) Next, run: <code>modprobe tun</code> as root. You will need to do this every time before you connect. As such, you might want to setup the tun module to be autoloaded at startup.
</p>
<p>7) Finally, head over to your VPN portal page and initiate the connection by clicking on <i>Network Connect</i>.
</p>
<p>For more information see:
<a rel="nofollow" class="external text" href="https://web.archive.org/web/20151215041949/http://www.gentoo-wiki.info/HOWTO_Juniper_SSL_Network_Connect_VPN">Gentoo Wiki Archives</a>
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Password_incorrect">Password incorrect</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Is it still the case that Juniper IVE does not support UTF-8? Was this ever the case? This section seems to be based on one person's experiences from 10 years ago (as of 2017). This content needs to be verified. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Pulse_Connect_Secure">Talk:Pulse Connect Secure#</a>)</div>
</div>
<p>If your username and password are correct but the system reports that they are incorrect, that means the POST request to the Juniper IVE box failed.
</p>
<p>The <a rel="nofollow" class="external text" href="https://addons.mozilla.org/en-US/firefox/addon/966">Tamper Data</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-04-01 ⓘ]</sup> addon for Firefox can be used to debug. Try changing the fields in the headers.
</p>
<p>Note that Juniper IVE does not support UTF-8. The <code>intl.charset.default</code> setting in <code>about:config</code> for Firefox is UTF-8, causing a POST request to have only UTF-8 in the charset. Setting it to <code>ISO-8859-1</code> might fix the problem. Also double check the <code>intl.accept_charsets</code> Firefox setting. Using UTF-8, Chinese and European charsets is possible but ensure you have <code>ISO-8859-1</code> as a fallback. Note that you can use the Tamper Data addon to make sure you really are accepting <code>ISO-8859-1</code> in the HTTP header.
</p>
<p>Finally, ensure that the useragent is <code>Firefox</code>, not <code>Bon Echo</code>. You may need to change this under <code>general.useragent.extra.firefox</code> in <code>about:config</code>.
</p>
<h3><span class="mw-headline" id="Login_succeeds_but_Network_Connect_will_not_launch">Login succeeds but Network Connect will not launch</span></h3>
<ol>
<li>Firstly, verify your Java installation.</li>
<li>Then navigate to <code>~/.juniper_networks/network_connect</code>.</li>
<li>Check that <code>ncsvc</code> is setuid root. Fix it if not.</li>
<li>Run <code>ldd ncsvc</code> and see if there are any missing libraries.</li>
<li>Follow the instructions from the <a rel="nofollow" class="external text" href="http://www.juniperforum.com/index.php/topic,2043.0.html">Juniper forum</a><sup title="Last check status: SSL error">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-04-01 ⓘ]</sup> to run it from command line. Use the <code>-L 5</code> switch to log everything and use <i>strace</i> as root. Also try consulting <code>ncsvc.log</code> for any possible errors.</li>
</ol>
<h3><span class="mw-headline" id="Network_Connect_launched_but_the_VPN_does_not_work">Network Connect launched but the VPN does not work</span></h3>
<p>Run <code>ip route</code> to to check if the route is present. Network connect has a diagnosis tool in the GUI. You can also checks the logs (also available in the GUI).
</p>
<p>Other cause for VPN not working can lie in DNS settings. Check whether they really are set (usually in /etc/resolv.conf) and that DNS cache does not intervene (stop systemd-resolved service if running).
</p>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> The information in the note below was added in 2007. Is this still an issue in 2017? (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Pulse_Connect_Secure">Talk:Pulse Connect Secure#</a>)</div>
</div>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Please provide a link to the bug report on Red Hat Bugzilla. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Pulse_Connect_Secure">Talk:Pulse Connect Secure#</a>)</div>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <code>/etc/resolv.conf</code> will periodically get overwritten by DHCPCD so your VPN will stop working eventually. If that happens, just restart Network Connect. You might also wish to save your <code>/etc/resolv.conf</code> file so that your VPN settings can be easily restored. As of 2007, there is no known solution to the problem but there is a bug report on Red Hat Bugzilla.</div>
<h3><span class="mw-headline" id="Network_Connect_launched_and_a_configuration_error_message_is_displayed">Network Connect launched and a configuration error message is displayed</span></h3>
<p>Check that you have <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=net-tools">net-tools</a></span> installed.
</p>
<h3>
<span id="ncapp.error_Failed_to_connect.2Fauthenticate_with_IVE."></span><span class="mw-headline" id="ncapp.error_Failed_to_connect/authenticate_with_IVE.">ncapp.error Failed to connect/authenticate with IVE.</span>
</h3>
<p>See <a rel="nofollow" class="external text" href="http://ubuntuforums.org/showthread.php?p=12127450#post12127450">this post</a> on the Ubuntu forums. Note that in some cases, the policy will not permit a connection initiated from the command line. Instead, you have to install both <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/bin32-jre/">bin32-jre</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/bin32-firefox/">bin32-firefox</a></span><sup><small>AUR</small></sup> and authenticate through the browser.
</p>
<h3><span class="mw-headline" id="ncsvc_and_kernel_versions_3.19_and_4.5_to_4.9">ncsvc and kernel versions 3.19 and 4.5 to 4.9</span></h3>
<p>Juniter VPN does not support <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span> 3.19. See <a rel="nofollow" class="external text" href="http://www.unixgr.com/juniper-ncsvc-and-linux-3-19/">UNIXgr</a>.
</p>
<p>There are also issues with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span> versions 4.5 to 4.9 (and probably later versions too). See <a rel="nofollow" class="external text" href="https://bugzilla.kernel.org/show_bug.cgi?id=121131">Bug 121131 on the Kernel bug tracker</a> for more information. There are two ways to work around this issue:
</p>
<ul>
<li>
<a href="../en/Downgrading_packages.html" class="mw-redirect" title="Downgrade">Downgrade</a> to version 4.4, or <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-lts">linux-lts</a></span>.</li>
<li>According to a comment on the <a rel="nofollow" class="external text" href="https://bugzilla.kernel.org/show_bug.cgi?id=121131#c24">kernel bugzilla</a> disabling router solicitations for IPv6 and reconnecting will also solve the issue. This can be done with the following command:</li>
</ul>
<pre># echo 0 &gt; /proc/sys/net/ipv6/conf/default/router_solicitations
</pre>
<dl><dd>To make this setting automatically on boot time use <a href="../en/Systemd.html#systemd-tmpfiles_-_temporary_files" class="mw-redirect" title="Systemd-tmpfiles">systemd-tmpfiles</a>:</dd></dl>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/tmpfiles.d/disable-router-solicitations.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">w /proc/sys/net/ipv6/conf/default/router_solicitations - - - - 0</pre>
<h3>
<span id="Unauthorized_new_route_has_been_added.2C_disconnecting"></span><span class="mw-headline" id="Unauthorized_new_route_has_been_added,_disconnecting">Unauthorized new route has been added, disconnecting</span>
</h3>
<p>When using the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pulse-secure/">pulse-secure</a></span><sup><small>AUR</small></sup> client, VPN may not work with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=connman">connman</a></span> due to conflicting routing table strategies. Check <code>~/.pulse_secure/pulse/pulsesvc.log</code> for such messages:
</p>
<pre>rmon.error Unauthorized new route to x.x.x.x/y.y.y.y has been added (conflicts with our route to z.z.z.z), disconnecting (routemon.cpp:598)
</pre>
<p>If this is the case, using <a href="../en/NetworkManager.html" title="NetworkManager">NetworkManager</a> instead can fix the issue.
</p>
<h3>
<span id="After_login.2C_pulseUi_displays_.27Compliance:_Security_policies_not_met.27"></span><span class="mw-headline" id="After_login,_pulseUi_displays_'Compliance:_Security_policies_not_met'">After login, pulseUi displays 'Compliance: Security policies not met'</span>
</h3>
<p>It seems that <code>pulseUi</code> uses <a href="../en/NetworkManager.html" title="NetworkManager">NetworkManager</a> internally while verifying connection in some cases. If this is the case, install <a href="../en/NetworkManager.html" title="NetworkManager">NetworkManager</a> and start <code>NetworkManager.sevice</code>.
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:VPN_providers.html" title="Category:VPN providers">VPN providers</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Pulse_Connect_Secure&amp;oldid=634623">https://wiki.archlinux.org/index.php?title=Pulse_Connect_Secure&amp;oldid=634623</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 8 September 2020, at 02:29.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
