<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Xbindkeys - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Xbindkeys rootpage-Xbindkeys skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Xbindkeys</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="/title/Xmodmap" title="Xmodmap">Xmodmap</a></li>
<li><a href="/title/Sxhkd" title="Sxhkd">Sxhkd</a></li>
<li><a href="/title/Xorg#Automation" title="Xorg">Xorg#Automation</a></li>
</ul>
</div>
<p>Xbindkeys is a program that allows to bind commands to certain keys or key combinations on the keyboard. Xbindkeys works with multimedia keys and is independent of the window manager and desktop environment. 
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Configuration"><span class="tocnumber">2</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Audio_control"><span class="tocnumber">2.1</span> <span class="toctext">Audio control</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Backlight_control"><span class="tocnumber">2.2</span> <span class="toctext">Backlight control</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#GUI_method"><span class="tocnumber">2.3</span> <span class="toctext">GUI method</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Identifying_keycodes"><span class="tocnumber">3</span> <span class="toctext">Identifying keycodes</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Making_changes_permanent"><span class="tocnumber">4</span> <span class="toctext">Making changes permanent</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Simulating_multimedia_keys"><span class="tocnumber">5</span> <span class="toctext">Simulating multimedia keys</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Mouse_Chording"><span class="tocnumber">6</span> <span class="toctext">Mouse Chording</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Troubleshooting"><span class="tocnumber">7</span> <span class="toctext">Troubleshooting</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="/title/Install" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xbindkeys">xbindkeys</a></span> package.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>Create a blank <code>~/.xbindkeysrc</code>, or you can create a sample file (Note this includes some bindings such as <code>Ctrl+f</code>, which you may want to edit or remove):
</p>
<pre>$ xbindkeys -d &gt; ~/.xbindkeysrc
</pre>
<p>Now you can either edit <code>~/.xbindkeysrc</code> to set keybindings, or you can do that with the <a href="#GUI_method">#GUI method</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> After you made a change, execute <code>xbindkeys --poll-rc</code> to reload the configuration file and apply the changes.</div>
<h3><span class="mw-headline" id="Audio_control">Audio control</span></h3>
<p>Here is an example configuration file that binds <code>Fn</code> key combos on a laptop to <i>pactl</i> commands that adjust audio, such as sound volume and mute status. Note that pound (#) symbols can be used to create comments.
</p>
<pre># Increase volume
"pactl set-sink-volume @DEFAULT_SINK@ +1000"
   XF86AudioRaiseVolume
</pre>
<pre># Decrease volume
"pactl set-sink-volume @DEFAULT_SINK@ -1000"
   XF86AudioLowerVolume
</pre>
<pre># Mute volume
"pactl set-sink-mute @DEFAULT_SINK@ toggle"
   XF86AudioMute
</pre>
<pre># Mute microphone
"pactl set-source-mute @DEFAULT_SOURCE@ toggle"
   XF86AudioMicMute
</pre>
<p>For alternative commands to control volume, see <a href="/title/PulseAudio#Keyboard_volume_control" title="PulseAudio">PulseAudio#Keyboard volume control</a> or <a href="/title/ALSA#Keyboard_volume_control" class="mw-redirect" title="ALSA">ALSA#Keyboard volume control</a>.
</p>
<h3><span class="mw-headline" id="Backlight_control">Backlight control</span></h3>
<p>Keybindings for backlight control can be defined using the <code>XF86MonBrightnessUp</code> and <code>XF86MonBrightnessDown</code> keys. See <a href="/title/Backlight#Backlight_utilities" title="Backlight">Backlight#Backlight utilities</a> for the available backlight control utilities.
</p>
<h3><span class="mw-headline" id="GUI_method">GUI method</span></h3>
<p>For graphical configuration <a href="/title/Install" class="mw-redirect" title="Install">install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xbindkeys_config-gtk2/">xbindkeys_config-gtk2</a></span><sup><small>AUR</small></sup> package and run:
</p>
<pre>$ xbindkeys_config
</pre>
<h2><span class="mw-headline" id="Identifying_keycodes">Identifying keycodes</span></h2>
<p>To find the keycodes for a particular key, enter the following command:
</p>
<pre>$ xbindkeys --key
</pre>
<p>or the following to grab multiple keys:
</p>
<pre>$ xbindkeys --multikey
</pre>
<p>A blank window will pop up. Press the key(s) to which you wish to assign a command and <i>xbindkeys</i> will output a handy snippet that can be entered into <code>~/.xbindkeysrc</code>. For example, while the blank window is open, press <code>Alt+o</code> to get the following output (results may vary):
</p>
<pre>"(Scheme function)"
    m:0x8 + c:32
    Alt + o
</pre>
<ol>
<li>The first line represents a command.</li>
<li>The second line contains the state (0x8) and keycode (32) as reported by the tool <i>xev</i>.</li>
<li>The third line contains the keysyms associated with the given keycodes.</li>
</ol>
<p>To use this output, copy either one of the last two lines to <code>~/.xbindkeysrc</code> and replace "(Scheme function)" with the command you wish to perform.
</p>
<p>To identify mouse buttons, <i>xev</i> can be used, see <a rel="nofollow" class="external autonumber" href="https://blog.hanschen.org/2009/10/13/mouse-shortcuts-with-xbindkeys/">[1]</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> If the multikey mode is used, press <code>q</code> to quit the window.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <i>xev</i> is provided within the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xev">xorg-xev</a></span> package, see <span class="plainlinks archwiki-template-man" title="$ man 1 xev"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/xev.1">xev(1)</a></span> for more information.</div>
<h2><span class="mw-headline" id="Making_changes_permanent">Making changes permanent</span></h2>
<p>Once you are done configuring your keys, edit your <a href="/title/Xprofile" title="Xprofile">xprofile</a> or <a href="/title/Xinitrc" class="mw-redirect" title="Xinitrc">xinitrc</a> file (depending on your window manager) and place 
</p>
<pre>xbindkeys
</pre>
<p>before the line that starts your window manager or DE.
</p>
<h2><span class="mw-headline" id="Simulating_multimedia_keys">Simulating multimedia keys</span></h2>
<p>The XF86Audio* and other multimedia keys <a rel="nofollow" class="external autonumber" href="https://wiki.linuxquestions.org/wiki/XF86_keyboard_symbols">[2]</a> are pretty-much well-recognized by the major DEs. For keyboards without such keys, you can simulate their effect with other keys
</p>
<pre># Decrease volume on pressing Super-minus
"pactl set-sink-volume 0 -1000"
   m:0x50 + c:20
   Mod2+Mod4 + minus
</pre>
<p>However, to actually call the keys themselves you can use tools like <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xdotool">xdotool</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xmacro/">xmacro</a></span><sup><small>AUR</small></sup>. Unfortunately since you would already be holding down some modifier key (Super or Shift, for example), X will see the result as <code>Super-XF86AudioLowerVolume</code> which will not do anything useful. Here is a script based on <i>xmacro</i> and <i>xmodmap</i> from the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xmodmap">xorg-xmodmap</a></span> package for doing this<a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?pid=843395">[3]</a>.
</p>
<pre>#!/bin/sh
echo 'KeyStrRelease Super_L KeyStrRelease minus' </pre>
<p>This works for calling XF86AudioLowerVolume once (assuming you are using <code>Super+minus</code>), but repeatedly calling it without releasing the Super key (like tapping on a volume button) does not work. If you would like it to work that way, add the following line to the bottom of the script.
</p>
<pre>echo 'KeyStrPress Super_L' | xmacroplay :0
</pre>
<p>With this modified script, if you press the key combination fast enough your Super_L key will remain 'on' till the next time you hit it, which may result in some interesting side-effects. Just tap it again to remove that state, or use the original script if you want things to 'just work' and do not mind not multi-tapping on volume up/down.
</p>
<p>These instructions are valid for pretty much any one of the XF86 multimedia keys (important ones would be XF86AudioRaiseVolume, XF86AudioLowerVolume, XF86AudioPlay, XF86AudioPrev, XF86AudioNext).
</p>
<h2><span class="mw-headline" id="Mouse_Chording">Mouse Chording</span></h2>
<p>By dedicating one button on the mouse as a "chording" key (much like the Shift key on a keyboard), it's possible to use xbindkeys to configure your mouse to perform more actions than would otherwise be possible. This requires the use of Scheme, rather than the simplified xbindkeys syntax.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.xbindkeysrc.scm</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">(define (define-mouse-chords chord-key . definitions)
  (define (start-mouse-chord)
    (let ((cmd #f))
      (for-each
        (lambda (definition)
          (let ((key (list-ref definition 0)) (binding (list-ref definition 1)))
            (xbindkey-function key (lambda () (set! cmd binding)))))
        definitions)
      (xbindkey-function `(release ,chord-key)
        (lambda ()
          (remove-xbindkey `(release ,chord-key))
          (for-each
            (lambda (definition)
              (let ((key (list-ref definition 0)))
                (remove-xbindkey key)))
            definitions)
          (if cmd
            (begin
              (run-command cmd)
              (set! cmd #f))
          )))))
  (xbindkey-function chord-key start-mouse-chord))</pre>
<p>With this function defined, you can now configure some chorded commands:
</p>
<pre>(define-mouse-chords "b:10"
  (list '(release "b:1") "xdotool click 8")
  (list '(release "b:2") "xdotool click 9")
)
</pre>
<p>This defines "button 10" as as chording key on your mouse. When button 10 is pressed down, the function will create bindings for the buttons defined inside the block. When button 10 is released, those bindings will be removed. So for example: with button 10 held down, pressing and releasing button 1, and then releasing button 10, will result in a virtual "button 8" (back) event being generated.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<p>If, for any reason, a hotkey you <i>already</i> set in <code>~/.xbindkeysrc</code> does not work, open up a terminal and type the following:
</p>
<pre>$ xbindkeys -n
</pre>
<p>By pressing the non-working key, you will be able to see any error <i>xbindkeys</i> encounter (e.g: mistyped command/keycode,...).
</p>
<p>If the command for a keybind works via the xdotool in command line, but not when activated by the hotkey try adding "+ Release" to the hotkey (Esp notable on gnome):
</p>
<pre>"xdotool key --clearmodifiers XF86AudioPlay"
    Mod2 + F7 + Release
</pre>
<p>This will make the <code>F7</code> key play/pause audio. Where the "xdotool" command would work in commandline, if the "+ Release" is removed it will fail with xbindkeys.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Be aware that setting two or more keyboard layouts with e.g. <code>setxkbmap -layout ch,dk</code> results in different button states for the different layouts and <i>xbindkeys</i> will not be able to handle that.</div>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="/title/Special:Categories" title="Special:Categories">Categories</a>: <ul>
<li><a href="/title/Category:Keyboard_configuration" title="Category:Keyboard configuration">Keyboard configuration</a></li>
<li><a href="/title/Category:X_server" title="Category:X server">X server</a></li>
</ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Xbindkeys&amp;oldid=669568">https://wiki.archlinux.org/index.php?title=Xbindkeys&amp;oldid=669568</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 8 May 2021, at 11:58.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="/title/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/title/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="/title/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
