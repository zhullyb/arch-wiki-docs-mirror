<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Wayland - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Wayland rootpage-Wayland skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Wayland</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/Kernel_mode_setting.html" class="mw-redirect" title="KMS">KMS</a></li>
<li><a href="../en/Xorg.html" title="Xorg">Xorg</a></li>
<li><a href="../en/Screen_capture.html#Wayland" title="Screen capture">Screen capture#Wayland</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://wayland.freedesktop.org/">Wayland</a> is a display server protocol. It is aimed to become the successor of the <a href="../en/Xorg.html" class="mw-redirect" title="X Window System">X Window System</a>. You can find a <a href="https://en.wikipedia.org/wiki/Wayland_(display_server_protocol)#Differences_between_Wayland_and_X" class="extiw" title="wikipedia:Wayland (display server protocol)">comparison between Wayland and Xorg on Wikipedia</a>.
</p>
<p>Display servers using the Wayland protocol are called <b>compositors</b> because they also act as <a href="https://en.wikipedia.org/wiki/Compositing_window_manager" class="extiw" title="wikipedia:Compositing window manager">compositing window managers</a>. Below you can find a <a href="#Compositors">list of Wayland compositors</a>.
</p>
<p>For backwards compatibility to seamlessly run legacy <a href="../en/Xorg.html" class="mw-redirect" title="X11">X11</a> applications, <a href="#XWayland">XWayland</a> can be used, which provides an X Server in Wayland.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Requirements"><span class="tocnumber">1</span> <span class="toctext">Requirements</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Compositors"><span class="tocnumber">2</span> <span class="toctext">Compositors</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Tiling"><span class="tocnumber">2.1</span> <span class="toctext">Tiling</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Stacking"><span class="tocnumber">2.2</span> <span class="toctext">Stacking</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Other"><span class="tocnumber">2.3</span> <span class="toctext">Other</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Display_managers"><span class="tocnumber">3</span> <span class="toctext">Display managers</span></a></li>
<li class="toclevel-1 tocsection-7">
<a href="#GUI_libraries"><span class="tocnumber">4</span> <span class="toctext">GUI libraries</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#GTK_3"><span class="tocnumber">4.1</span> <span class="toctext">GTK 3</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Qt_5"><span class="tocnumber">4.2</span> <span class="toctext">Qt 5</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Clutter"><span class="tocnumber">4.3</span> <span class="toctext">Clutter</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#SDL2"><span class="tocnumber">4.4</span> <span class="toctext">SDL2</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#GLFW"><span class="tocnumber">4.5</span> <span class="toctext">GLFW</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#GLEW"><span class="tocnumber">4.6</span> <span class="toctext">GLEW</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#EFL"><span class="tocnumber">4.7</span> <span class="toctext">EFL</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#winit"><span class="tocnumber">4.8</span> <span class="toctext">winit</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16"><a href="#XWayland"><span class="tocnumber">5</span> <span class="toctext">XWayland</span></a></li>
<li class="toclevel-1 tocsection-17">
<a href="#Troubleshooting"><span class="tocnumber">6</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="#Color_correction"><span class="tocnumber">6.1</span> <span class="toctext">Color correction</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Slow_motion,_graphical_glitches,_and_crashes"><span class="tocnumber">6.2</span> <span class="toctext">Slow motion, graphical glitches, and crashes</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Cannot_open_display:_:0_with_Electron-based_applications"><span class="tocnumber">6.3</span> <span class="toctext">Cannot open display: :0 with Electron-based applications</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Remote_display"><span class="tocnumber">6.4</span> <span class="toctext">Remote display</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Input_grabbing_in_games,_remote_desktop_and_VM_windows"><span class="tocnumber">6.5</span> <span class="toctext">Input grabbing in games, remote desktop and VM windows</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-23"><a href="#See_also"><span class="tocnumber">7</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Requirements">Requirements</span></h2>
<p>Most Wayland compositors only work on systems using <a href="../en/Kernel_mode_setting.html" title="Kernel mode setting">Kernel mode setting</a>. Wayland by itself does not provide a graphical environment; for this you also need a compositor (see the following section), or a desktop environment that includes a compositor (e.g. <a href="../en/GNOME.html" title="GNOME">GNOME</a> or <a href="../en/KDE.html" title="KDE">KDE</a>).
</p>
<p>For the GPU driver and Wayland compositor to be compatible they must support the same buffer API. There are two main APIs: <a href="https://en.wikipedia.org/wiki/Generic_Buffer_Management" class="extiw" title="wikipedia:Generic Buffer Management">GBM</a> and <a rel="nofollow" class="external text" href="https://www.phoronix.com/scan.php?page=news_item&amp;px=XDC2016-Device-Memory-API">EGLStreams</a>.
</p>
<table class="wikitable">

<tbody>
<tr>
<th>Buffer API</th>
<th>GPU driver support</th>
<th>Wayland compositor support
</th>
</tr>
<tr>
<td>GBM</td>
<td>All except <a href="../en/NVIDIA.html" title="NVIDIA">NVIDIA</a>
</td>
<td>All
</td>
</tr>
<tr>
<td>EGLStreams</td>
<td><a href="../en/NVIDIA.html" title="NVIDIA">NVIDIA</a></td>
<td>
<a href="../en/GNOME.html" title="GNOME">GNOME</a>, <a href="../en/KDE.html" title="KDE">KDE</a>, <a href="../en/Weston.html#EGLstream_support_(for_proprietary_Nvidia_Driver)" title="Weston">Weston</a>
</td>
</tr>
</tbody>
</table>
<h2><span class="mw-headline" id="Compositors">Compositors</span></h2>
<p>See <a href="../en/Window_manager.html#Types" title="Window manager">Window manager#Types</a> for the difference between <b>Tiling</b> and <b>Stacking</b>.
</p>
<h3><span class="mw-headline" id="Tiling">Tiling</span></h3>
<ul><li>
<b><a href="../en/Cagebreak.html" title="Cagebreak">Cagebreak</a> </b> —  Based on cage, inspired by <a href="../en/Ratpoison.html" title="Ratpoison">ratpoison</a>.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/project-repo/cagebreak">https://github.com/project-repo/cagebreak</a>  ||  <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/cagebreak/">cagebreak</a></span><sup><small>AUR</small></sup> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/cagebreak-bin/">cagebreak-bin</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>Cardboard </b> —  Scrolling compositor, inspired by PaperWM, based on wlroots.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://gitlab.com/cardboardwm/cardboard">https://gitlab.com/cardboardwm/cardboard</a>  ||</dd></dl>
<ul><li>
<b>dwl </b> —  <a href="../en/Dwm.html" title="Dwm">dwm</a>-like Wayland compositor based on wlroots.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/djpohly/dwl">https://github.com/djpohly/dwl</a>  ||  <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/dwl/">dwl</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>river </b> —  Dynamic tiling Wayland compositor inspired by dwm and <a href="../en/Bspwm.html" title="Bspwm">bspwm</a>.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/ifreund/river">https://github.com/ifreund/river</a>  ||  <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/river-git/">river-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b><a href="../en/Sway.html" title="Sway">Sway</a> </b> —  <a href="../en/I3.html" title="I3">i3</a>-compatible Wayland compositor based on wlroots.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/swaywm/sway">https://github.com/swaywm/sway</a>  ||  <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sway">sway</a></span>
</dd></dl>
<ul><li>
<b><a href="../en/Velox.html" title="Velox">Velox</a> </b> —  Simple window manager based on swc, inspired by dwm and <a href="../en/Xmonad.html" title="Xmonad">xmonad</a>.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/michaelforney/velox">https://github.com/michaelforney/velox</a>  ||  <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/velox/">velox</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>waymonad </b> —  Wayland compositor inspired by xmonad written in <a href="../en/Haskell.html" title="Haskell">Haskell</a>.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/waymonad/waymonad">https://github.com/waymonad/waymonad</a>  ||</dd></dl>
<h3><span class="mw-headline" id="Stacking">Stacking</span></h3>
<ul><li>
<b><a href="../en/Enlightenment.html" title="Enlightenment">Enlightenment</a> </b> —  See <a href="../en/Enlightenment.html#Manually" title="Enlightenment">Enlightenment#Manually</a>. More Info: <a rel="nofollow" class="external autonumber" href="https://git.enlightenment.org/core/enlightenment.git/tree/README">[1]</a> <a rel="nofollow" class="external autonumber" href="https://www.enlightenment.org/about-wayland">[2]</a>
</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://www.enlightenment.org/">https://www.enlightenment.org/</a>  ||  <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=enlightenment">enlightenment</a></span>
</dd></dl>
<ul><li>
<b>Greenfield </b> —  Runs in a web browser and can display remote applications.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://greenfield.app/">https://greenfield.app/</a>  ||</dd></dl>
<ul><li>
<b>Grefsen </b> —  Qt/Wayland compositor providing a minimal desktop environment.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/ec1oud/grefsen">https://github.com/ec1oud/grefsen</a>  ||</dd></dl>
<ul><li>
<b>hikari </b> —  wlroots-based compositor inspired by <a href="../en/Cwm.html" title="Cwm">cwm</a> which is actively developed on FreeBSD but also supports Linux.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://hikari.acmelabs.space/">https://hikari.acmelabs.space/</a>  ||  <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/hikari/">hikari</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>KDE <a href="https://en.wikipedia.org/wiki/KWin" class="extiw" title="w:KWin">KWin</a> </b> —  See <a href="../en/KDE.html#Starting_Plasma" title="KDE">KDE#Starting Plasma</a>.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://userbase.kde.org/KWin">https://userbase.kde.org/KWin</a>  ||  <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kwin">kwin</a></span>
</dd></dl>
<ul><li>
<b>Liri Shell </b> —  Part of <a href="../en/Liri.html" title="Liri">Liri</a>, built using QtQuick and QtCompositor as a compositor for Wayland.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/lirios/shell">https://github.com/lirios/shell</a>  ||  <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/liri-shell-git/">liri-shell-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>labwc </b> —  wlroots-based compositor inspired by Openbox.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/johanmalm/labwc">https://github.com/johanmalm/labwc</a>  ||  <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/labwc-git/">labwc-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b><a href="https://en.wikipedia.org/wiki/Mutter_(software)" class="extiw" title="w:Mutter (software)">Mutter</a> </b> —  See <a href="../en/GNOME.html#Starting" title="GNOME">GNOME#Starting</a>.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://gitlab.gnome.org/GNOME/mutter">https://gitlab.gnome.org/GNOME/mutter</a>  ||  <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mutter">mutter</a></span>
</dd></dl>
<ul><li>
<b>wayfire </b> —  3D compositor inspired by <a href="../en/Compiz.html" title="Compiz">Compiz</a> and based on wlroots.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://wayfire.org/">https://wayfire.org/</a>  ||  <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wayfire/">wayfire</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b><a href="../en/Weston.html" title="Weston">Weston</a> </b> —  reference implementation of a Wayland compositor.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://gitlab.freedesktop.org/wayland/weston">https://gitlab.freedesktop.org/wayland/weston</a>  ||  <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=weston">weston</a></span>
</dd></dl>
<ul><li>
<b>wio </b> —  wlroots-based compositor that aims to replicate the look and feel of Plan 9's Rio desktop.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://wio-project.org/">https://wio-project.org/</a>  ||</dd></dl>
<h3><span class="mw-headline" id="Other">Other</span></h3>
<ul><li>
<b>Cage </b> —  Displays a single fullscreen application like a kiosk.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://www.hjdskes.nl/projects/cage/">https://www.hjdskes.nl/projects/cage/</a>  ||  <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cage">cage</a></span>
</dd></dl>
<ul><li>
<b>Maze Compositor </b> —  Renders windows in a 3D maze using Qt.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/imbavirus/mazecompositor">https://github.com/imbavirus/mazecompositor</a>  ||</dd></dl>
<ul><li>
<b>Motorcar </b> —   Wayland compositor to explore 3D windowing using virtual reality.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/evil0sheep/motorcar">https://github.com/evil0sheep/motorcar</a>  ||</dd></dl>
<p>Some of the above may support <a href="../en/Display_manager.html" title="Display manager">display managers</a>. Check <code>/usr/share/wayland-sessions/<i>compositor</i>.desktop</code> to see how they are started.
</p>
<h2><span class="mw-headline" id="Display_managers">Display managers</span></h2>
<p>Display managers listed below support launching Wayland compositors. The "Type" column indicates whether the display manager supports running itself on Wayland or not.
</p>
<table class="wikitable sortable">
<tbody>
<tr>
<th>Name
</th>
<th>Type
</th>
<th>Description
</th>
</tr>
<tr>
<td>
<a href="../en/GDM.html" title="GDM">GDM</a>
</td>
<td>Runs on Wayland
</td>
<td>
<a href="../en/GNOME.html" title="GNOME">GNOME</a> display manager.
</td>
</tr>
<tr>
<td>
<a href="../en/Greetd.html" title="Greetd">greetd</a>
</td>
<td>Login daemon
</td>
<td>Minimal and flexible login daemon.
</td>
</tr>
<tr>
<td>
<a href="../en/LightDM.html" title="LightDM">LightDM</a>
</td>
<td>Runs on X11
</td>
<td>Cross-desktop display manager.
</td>
</tr>
<tr>
<td>
<a href="../en/Display_manager.html#Console" class="mw-redirect" title="Ly">Ly</a>
</td>
<td>Runs in console
</td>
<td>TUI display manager written in C
</td>
</tr>
<tr>
<td>
<a href="../en/SDDM.html" title="SDDM">SDDM</a>
</td>
<td>Runs on X11
</td>
<td>QML-based display manager.
</td>
</tr>
<tr>
<td>
<a href="../en/Display_manager.html#Console" class="mw-redirect" title="Tbsm">tbsm</a>
</td>
<td>Runs in console
</td>
<td>Simple CLI session launcher written in pure bash.
</td>
</tr>
</tbody>
</table>
<h2><span class="mw-headline" id="GUI_libraries">GUI libraries</span></h2>
<p>See details on the <a rel="nofollow" class="external text" href="https://wayland.freedesktop.org/toolkits.html">official website</a>.
</p>
<h3><span class="mw-headline" id="GTK_3">GTK 3</span></h3>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gtk3">gtk3</a></span> package has the Wayland backend enabled. GTK will default to the Wayland backend, but it is possible to override it to Xwayland by modifying an environment variable: <code>GDK_BACKEND=x11</code>.
</p>
<h3><span class="mw-headline" id="Qt_5">Qt 5</span></h3>
<p>To enable Wayland support in <a href="../en/Qt.html" title="Qt">Qt</a> 5, install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=qt5-wayland">qt5-wayland</a></span> package.
</p>
<p>To run a Qt 5 application with the Wayland plugin <a rel="nofollow" class="external autonumber" href="https://wiki.qt.io/QtWayland#How_do_I_use_QtWayland.3F">[3]</a>, use <code>-platform wayland</code> or <code>QT_QPA_PLATFORM=wayland</code> <a href="../en/Environment_variables.html" class="mw-redirect" title="Environment variable">environment variable</a>. To force the usage of <a href="../en/Xorg.html" class="mw-redirect" title="X11">X11</a> on a Wayland session, use <code>QT_QPA_PLATFORM=xcb</code>. This might be necessary for some proprietary applications that do not use the system's implementation of Qt, such as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/zoom/">zoom</a></span><sup><small>AUR</small></sup>.
</p>
<p>On some compositors, for example <a href="../en/Sway.html" title="Sway">sway</a>, Qt applications running natively might have missing functionality. For example, <a rel="nofollow" class="external text" href="https://keepassxc.org">KeepassXC</a> will be unable to minimize to tray. This can be solved by installing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=qt5ct">qt5ct</a></span> and setting <code>QT_QPA_PLATFORMTHEME=qt5ct</code> before running the application.
</p>
<h3><span class="mw-headline" id="Clutter">Clutter</span></h3>
<p>The Clutter toolkit has a Wayland backend that allows it to run as a Wayland client. The backend is enabled in the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=clutter">clutter</a></span> package.
</p>
<p>To run a Clutter application on Wayland, set <code>CLUTTER_BACKEND=wayland</code>.
</p>
<h3><span class="mw-headline" id="SDL2">SDL2</span></h3>
<p>To run a SDL2 application on Wayland, set <code>SDL_VIDEODRIVER=wayland</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Many proprietary games come bundled with old versions of SDL, which do not support Wayland and might break entirely if you set <code>SDL_VIDEODRIVER=wayland</code>. To force the application to run with XWayland, set <code>SDL_VIDEODRIVER=x11</code>.</div>
<h3><span class="mw-headline" id="GLFW">GLFW</span></h3>
<p>To use GLFW with the Wayland backend, install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glfw-wayland">glfw-wayland</a></span> package (instead of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glfw-x11">glfw-x11</a></span>).
</p>
<h3><span class="mw-headline" id="GLEW">GLEW</span></h3>
<p>To use GLEW with the Wayland backend, install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glew-wayland">glew-wayland</a></span> package (instead of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glew">glew</a></span>).
</p>
<h3><span class="mw-headline" id="EFL">EFL</span></h3>
<p>EFL has complete Wayland support. To run a EFL application on Wayland, see Wayland <a rel="nofollow" class="external text" href="https://wayland.freedesktop.org/efl.html">project page</a>.
</p>
<h3><span class="mw-headline" id="winit">winit</span></h3>
<p>Winit is window handling library in Rust. It will default to the Wayland backend, but it is possible to override it to Xwayland by modifying an environment variable: <code>WINIT_UNIX_BACKEND=x11</code>.
</p>
<h2><span class="mw-headline" id="XWayland">XWayland</span></h2>
<p><a rel="nofollow" class="external text" href="https://wayland.freedesktop.org/xserver.html">XWayland</a> is an X Server that runs under Wayland. It provides backwards compatibility for legacy <a href="../en/Xorg.html" class="mw-redirect" title="X11">X11</a> applications.
</p>
<p>In order to use it, <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xwayland">xorg-xwayland</a></span> package.
</p>
<p>XWayland is started via a compositor, so you should check for XWayland compatibility and instructions on how to start XWayland, with the compositor of your choice.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  
<ul>
<li>Regarding Security: XWayland is an X Server, so it does not have the security features of Wayland!</li>
<li>For now the Nvidia proprietary driver does not support GPU acceleration for XWayland. See <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/mesa/mesa/-/merge_requests/6429">this</a> or <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/xorg/xserver/-/merge_requests/587">this</a> pull request for the status of XWayland support.</li>
</ul>
</div>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Color_correction">Color correction</span></h3>
<p>See <a href="../en/Backlight.html#Color_correction" title="Backlight">Backlight#Color correction</a>.
</p>
<h3>
<span id="Slow_motion.2C_graphical_glitches.2C_and_crashes"></span><span class="mw-headline" id="Slow_motion,_graphical_glitches,_and_crashes">Slow motion, graphical glitches, and crashes</span>
</h3>
<p>Gnome-shell users may experience display issues when they switch to Wayland from X. One of the root cause might be the <code>CLUTTER_PAINT=disable-clipped-redraws:disable-culling</code> set by yourself for Xorg-based gnome-shell. Just try to remove it from <code>/etc/environment</code> or other rc files to see if everything goes back to normal.
</p>
<h3><span class="mw-headline" id="Cannot_open_display:_:0_with_Electron-based_applications">Cannot open display: :0 with Electron-based applications</span></h3>
<p>Make sure you have not set GDK_BACKEND=wayland. Setting it globally will break Electron apps.
</p>
<h3><span class="mw-headline" id="Remote_display">Remote display</span></h3>
<ul>
<li>(20200206) <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wlroots">wlroots</a></span> (used by <a href="../en/Sway.html" title="Sway">sway</a>) offers an VNC backend via <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wayvnc/">wayvnc</a></span><sup><small>AUR</small></sup> since version 0.10. RDP backend has been removed. <a rel="nofollow" class="external autonumber" href="https://github.com/swaywm/wlroots/releases/tag/0.10.0">[4]</a>.</li>
<li>(20180401) <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mutter">mutter</a></span> has now remote desktop enabled at compile time, see <a rel="nofollow" class="external autonumber" href="https://wiki.gnome.org/Projects/Mutter/RemoteDesktop">[5]</a> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-remote-desktop">gnome-remote-desktop</a></span> for details.</li>
<li>There was a merge of FreeRDP into Weston in 2013, enabled via a compile flag. The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=weston">weston</a></span> package has it enabled since version 6.0.0.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/waypipe-git/">waypipe-git</a></span><sup><small>AUR</small></sup> is a transparent proxy for Wayland applications, with a wrapper command to run over <a href="../en/Secure_Shell.html" class="mw-redirect" title="SSH">SSH</a>
</li>
</ul>
<h3>
<span id="Input_grabbing_in_games.2C_remote_desktop_and_VM_windows"></span><span class="mw-headline" id="Input_grabbing_in_games,_remote_desktop_and_VM_windows">Input grabbing in games, remote desktop and VM windows</span>
</h3>
<p>In contrast to Xorg, Wayland does not allow exclusive input device grabbing, also known as active or explicit grab (e.g. <a rel="nofollow" class="external text" href="https://tronche.com/gui/x/xlib/input/XGrabKeyboard.html">keyboard</a>, <a rel="nofollow" class="external text" href="https://tronche.com/gui/x/xlib/input/XGrabPointer.html">mouse</a>), instead, it depends on the Wayland compositor to pass keyboard shortcuts and confine the pointer device to the application window.
</p>
<p>This change in input grabbing breaks current applications' behavior, meaning:
</p>
<ul>
<li>Hotkey combinations and modifiers will be caught by the compositor and will not be sent to remote desktop and virtual machine windows.</li>
<li>The mouse pointer will not be restricted to the application's window which might cause a parallax effect where the location of the mouse pointer inside the window of the virtual machine or remote desktop is displaced from the host's mouse pointer.</li>
</ul>
<p>Wayland solves this by adding protocol extensions for Wayland and XWayland. Support for these extensions is needed to be added to the Wayland compositors. In the case of native Wayland clients, the used widget toolkits (e.g GTK, Qt) needs to support these extensions or the applications themselves if no widget toolkit is being used. In the case of Xorg applications, no changes in the applications or widget toolkits are needed as the XWayland support is enough.
</p>
<p>These extensions are already included in <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wayland-protocols">wayland-protocols</a></span>, and supported by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-server-xwayland">xorg-server-xwayland</a></span><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: replaced by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xwayland">xorg-xwayland</a></span>]</sup> 1.20.
</p>
<p>The related extensions are:
</p>
<ul>
<li><a rel="nofollow" class="external text" href="https://cgit.freedesktop.org/wayland/wayland-protocols/tree/unstable/xwayland-keyboard-grab/xwayland-keyboard-grab-unstable-v1.xml">XWayland keyboard grabbing protocol</a></li>
<li><a rel="nofollow" class="external text" href="https://cgit.freedesktop.org/wayland/wayland-protocols/tree/unstable/keyboard-shortcuts-inhibit/keyboard-shortcuts-inhibit-unstable-v1.xml">Compositor shortcuts inhibit protocol</a></li>
<li><a rel="nofollow" class="external text" href="https://cgit.freedesktop.org/wayland/wayland-protocols/tree/unstable/relative-pointer/relative-pointer-unstable-v1.xml">Relative pointer protocol</a></li>
<li><a rel="nofollow" class="external text" href="https://cgit.freedesktop.org/wayland/wayland-protocols/tree/unstable/pointer-constraints/pointer-constraints-unstable-v1.xml">Pointer constraints protocol</a></li>
</ul>
<p>Supporting Wayland compositors:
</p>
<ul>
<li>Mutter, <a href="../en/GNOME.html" title="GNOME">GNOME</a>'s compositor <a rel="nofollow" class="external text" href="https://bugzilla.gnome.org/show_bug.cgi?id=783342">since release 3.28</a>
</li>
<li>wlroots supports relative-pointer and pointer-constraints</li>
</ul>
<p>Supporting widget toolkits:
</p>
<ul><li>GTK since release 3.22.18.</li></ul>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a href="https://fedoraproject.org/wiki/How_to_debug_Wayland_problems" class="extiw" title="fedora:How to debug Wayland problems">Fedora:How to debug Wayland problems</a></li>
<li><a href="../en/Cursor_themes.html" title="Cursor themes">Cursor themes</a></li>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=107499">Arch Linux forum discussion</a></li>
<li><a rel="nofollow" class="external text" href="https://wayland.freedesktop.org/docs/html/">Wayland documentation online</a></li>
<li><a rel="nofollow" class="external text" href="https://awesomeopensource.com/projects/wayland">Awesome Wayland projects</a></li>
<li><a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/wayland">Official Wayland Gitlab</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Graphical_user_interfaces.html" title="Category:Graphical user interfaces">Graphical user interfaces</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Wayland&amp;oldid=649126">https://wiki.archlinux.org/index.php?title=Wayland&amp;oldid=649126</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 17 January 2021, at 09:29.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
