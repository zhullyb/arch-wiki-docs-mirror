<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>HP ProBook 4320s - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-HP_ProBook_4320s rootpage-HP_ProBook_4320s skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">HP ProBook 4320s</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section does not follow the <a href="../en/Help:Laptop_page_guidelines.html" title="Help:Laptop page guidelines">Laptop page guidelines</a>.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Many style violations. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:HP_ProBook_4320s">Talk:HP ProBook 4320s#</a>)</div>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Because of my bluetooth not working, I'am still stuck to the uncomfortable option to master the ugly touthpad here.
As of FEB/2012 this is still true, except that bluetooth can be enabled with a special procedure involving Windows</div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Device_Information"><span class="tocnumber">1</span> <span class="toctext">Device Information</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#lspci_model_HP_Probook_4320s_P/N:WS904EA#ABB"><span class="tocnumber">1.1</span> <span class="toctext">lspci model HP Probook 4320s P/N:WS904EA#ABB</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#items_of_interest_form_lspci"><span class="tocnumber">1.2</span> <span class="toctext">items of interest form lspci</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#other_devices_needing_an_attention"><span class="tocnumber">1.3</span> <span class="toctext">other devices needing an attention</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5">
<a href="#Configuration"><span class="tocnumber">2</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-6">
<a href="#Networking"><span class="tocnumber">2.1</span> <span class="toctext">Networking</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#WLAN"><span class="tocnumber">2.1.1</span> <span class="toctext">WLAN</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Bluetooth_(Working)"><span class="tocnumber">2.1.2</span> <span class="toctext">Bluetooth (Working)</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9">
<a href="#Graphics"><span class="tocnumber">2.2</span> <span class="toctext">Graphics</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#Video_card_ATI"><span class="tocnumber">2.2.1</span> <span class="toctext">Video card ATI</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11">
<a href="#Input_Devices"><span class="tocnumber">2.3</span> <span class="toctext">Input Devices</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#Clikpad_(touchpad)"><span class="tocnumber">2.3.1</span> <span class="toctext">Clikpad (touchpad)</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#ClickPad_with_newest_synaptics_package"><span class="tocnumber">2.3.2</span> <span class="toctext">ClickPad with newest synaptics package</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#Working_w/o_aditional_settings_in_../xorg.d/:_with_the_newer_Synaptics_package"><span class="tocnumber">2.3.3</span> <span class="toctext">Working w/o aditional settings in ../xorg.d/: with the newer Synaptics package</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#What's_needed_is_the_real_buttons_work"><span class="tocnumber">2.3.4</span> <span class="toctext">What's needed is the real buttons work</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-16">
<a href="#Power_related_configurations"><span class="tocnumber">2.4</span> <span class="toctext">Power related configurations</span></a>
<ul>
<li class="toclevel-3 tocsection-17"><a href="#laptop-mode"><span class="tocnumber">2.4.1</span> <span class="toctext">laptop-mode</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#lm-sensors"><span class="tocnumber">2.4.2</span> <span class="toctext">lm-sensors</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#External_links"><span class="tocnumber">3</span> <span class="toctext">External links</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Device_Information">Device Information</span></h2>
<p>There are many configurations for these models of HP Probooks. Mine is like the following "lspci". Mostly, the stuff in lspci is pretty meaningless, because your OS (most likely Arch) will pick up all the device modules automatically, so you should't worry or pay too close attention to them.
The most and only items in the lspci are your <b>graphics card</b> and your <b>wireless networking card</b>.
</p>
<h3>
<span id="lspci_model_HP_Probook_4320s_P.2FN:WS904EA.23ABB"></span><span class="mw-headline" id="lspci_model_HP_Probook_4320s_P/N:WS904EA#ABB">lspci model HP Probook 4320s P/N:WS904EA#ABB</span>
</h3>
<pre>00:00.0 Host bridge: Intel Corporation Core Processor DRAM Controller (rev 02)
00:01.0 PCI bridge: Intel Corporation Core Processor PCI Express x16 Root Port (rev 02)
00:16.0 Communication controller: Intel Corporation 5 Series/3400 Series Chipset HECI Controller (rev 06)
00:1a.0 USB Controller: Intel Corporation 5 Series/3400 Series Chipset USB2 Enhanced Host Controller (rev 05)
00:1b.0 Audio device: Intel Corporation 5 Series/3400 Series Chipset High Definition Audio (rev 05)
00:1c.0 PCI bridge: Intel Corporation 5 Series/3400 Series Chipset PCI Express Root Port 1 (rev 05)
00:1c.1 PCI bridge: Intel Corporation 5 Series/3400 Series Chipset PCI Express Root Port 2 (rev 05)
00:1c.3 PCI bridge: Intel Corporation 5 Series/3400 Series Chipset PCI Express Root Port 4 (rev 05)
00:1c.5 PCI bridge: Intel Corporation 5 Series/3400 Series Chipset PCI Express Root Port 6 (rev 05)
00:1d.0 USB Controller: Intel Corporation 5 Series/3400 Series Chipset USB2 Enhanced Host Controller (rev 05)
00:1e.0 PCI bridge: Intel Corporation 82801 Mobile PCI Bridge (rev a5)
00:1f.0 ISA bridge: Intel Corporation Mobile 5 Series Chipset LPC Interface Controller (rev 05)
00:1f.2 SATA controller: Intel Corporation 5 Series/3400 Series Chipset 6 port SATA AHCI Controller (rev 05)
01:00.0 VGA compatible controller: ATI Technologies Inc Manhattan [Mobility Radeon HD 5000 Series]
01:00.1 Audio device: ATI Technologies Inc Manhattan HDMI Audio [Mobility Radeon HD 5000 Series]
44:00.0 Network controller: RaLink RT3090 Wireless 802.11n 1T/1R PCIe
45:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8111/8168B PCI Express Gigabit Ethernet controller (rev 03)
ff:00.0 Host bridge: Intel Corporation Core Processor QuickPath Architecture Generic Non-core Registers (rev 02)
ff:00.1 Host bridge: Intel Corporation Core Processor QuickPath Architecture System Address Decoder (rev 02)
ff:02.0 Host bridge: Intel Corporation Core Processor QPI Link 0 (rev 02)
ff:02.1 Host bridge: Intel Corporation Core Processor QPI Physical 0 (rev 02)
ff:02.2 Host bridge: Intel Corporation Core Processor Reserved (rev 02)
ff:02.3 Host bridge: Intel Corporation Core Processor Reserved (rev 02)</pre>
<h3><span class="mw-headline" id="items_of_interest_form_lspci">items of interest form lspci</span></h3>
<pre>44:00.0 Network controller: RaLink RT3090 Wireless 802.11n 1T/1R PCIe
01:00.0 VGA compatible controller: ATI Technologies Inc Manhattan [Mobility Radeon HD 5000 Series]
</pre>
<h3><span class="mw-headline" id="other_devices_needing_an_attention">other devices needing an attention</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Some updated information- read below.</div>
<ul>
<li>
<b>Synaptics Clikpad</b> (looks like a touchpad, but it has both of the buttons integrated in the overall touching zone of the touchpad).</li>
<li>
<b>Battery life!!!</b> Huuuuge difference of battery life when win7 and Arch compared. I suspect it to be tricky configuration of <b>lm-sensors</b>, <b>cpufreq</b>, and <b>acpi</b> alltogether.</li>
</ul>
<p>Updated information:
</p>
<ul>
<li>
<b>Clickpad</b> It works pretty good, if package from AUR is isnstalled. This package removes the original xf86-input-synaptics package. With this AUR package, no /etc/X11/xorg.d/[files] are needed anymore, specially if you use gnome/kde of other environment settings. Both buttons work well, and both scrolling hor/vert are working too. If you want also the LED tapp to work, you must install another package form AUR.</li>
<li>
<b>Battery</b> Well, it is still true for the most part, although utilising pm-utils configuration takes care of that quite well. One thing I cannot seem to figure out still is the cooling fans.</li>
</ul>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<h3><span class="mw-headline" id="Networking">Networking</span></h3>
<h4><span class="mw-headline" id="WLAN">WLAN</span></h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Some updated information- read below.</div>
<p>This notebook comes, in my opinion, equiped the worst choice of wireless hardware. Definetely, for linux users. The Ralink <b>combo card RT3090</b> is quite new, and Ralink promises extremely welcome support for the Linux community. However, the drivers supplied by them are nothing more but a pain and bunch of unstable, unusable lines of coding. So for now, let's try using what's already there for us within the linux kernel.
</p>
<p>There generally are two drivers. One of with is old and staging, and another much newer, but probably not quite ready. The best choice is to load the older <b>rt2860sta driver</b> and blacklist the rest. 
</p>
<ul>
<li>add "rt2860sta" to the modules array in <code>/etc/rc.conf</code>
</li>
<li>black list the rest. My <code>/etc/modprobe.d/modprobe.conf</code> looks like this</li>
</ul>
<pre>blacklist rt2800pci
blacklist rt61pci                                              
blacklist rt2800usb
blacklist rt2800lib
blacklist rt2x00usb
blacklist rt2x00lib
blacklist rt2x00pci
</pre>
<ul><li>if especially the rt2800pci is not blacklisted, it messes up your wireless stability.</li></ul>
<ul><li>Note, as of kernel version 3.0 this section's guide is deprecated. rt2800pci is currently the only working wifi method for this device. As noted above, connection stability is poor.</li></ul>
<p><b>Updated information</b> Untill the latest kernel rt2800pci module worked good. This module is also the default one that get loaded automatically. For me it was hugely unstable, so I started to dig into Ralink original driver, and as of now I can declare some significant SUCCESSS. I have been able to compile the Ralink driver (with many trials+errors) and it seems to work alright. I seem to experience the speed overload issue <a rel="nofollow" class="external autonumber" href="https://ubuntuforums.org/showthread.php?t=1600498">[1]</a> however, but I am not sure whe the problem comes form just yet. Of course, I can blame Rlinks alrgight, but just before I do that, I will tinker with the driver settings prior-compiling. So far it helped.
What I did berofe compiling is his:
In the original Ralink driver find , open it with edit and edit lines: - 
</p>
<pre>file config.mk in os/linux folder:
HAS_ATE=y (originally was n) - 
HAS_WPA_SUPPLICANT=y (originally was n) - 
HAS_NATIVE_WPA_SUPPLICANT_SUPPORT=y (originally was n) and - 
HAS_ANTENNA_DIVERSITY_SUPPORT=y originally was n) 
</pre>
<p>Then compile as normal, install, and load the driver.
I also did iwpriv command to supress the uneeded log spit.
</p>
<h4>
<span id="Bluetooth_.28Working.29"></span><span class="mw-headline" id="Bluetooth_(Working)">Bluetooth (Working)</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> As of 2013.11.13 Bluetooth is working for RT3090. After installing bluez, bluez-utils and any other bluetooth related packages you may need, run "bccmd enabletx" as root. No need to dual boot with Windows, only running the command.</div>
<p>As the half-mini <b>wireless card RT3090</b> is a combo one, the bluetooth radio is embeded together with wifi. The bluetooth device isn't listed in lspci. However, is is visible with hciconfig -a command.
/etc/X11/xorg.conf.d  #  hciconfig -a
</p>
<pre>hci0:	Type: BR/EDR  Bus: USB
	BD Address: 70:F3:95:xx:xx:xx  ACL MTU: 310:10  SCO MTU: 64:8
	UP RUNNING PSCAN 
	RX bytes:778 acl:0 sco:0 events:40 errors:0
	TX bytes:2112 acl:0 sco:0 commands:40 errors:0
	Features: 0xff 0xff 0x8f 0xfe 0x9b 0xff 0x59 0x83
	Packet type: DM1 DM3 DM5 DH1 DH3 DH5 HV1 HV2 HV3 
	Link policy: RSWITCH HOLD SNIFF PARK 
	Link mode: SLAVE ACCEPT 
	Name: 'hpprobook'
	Class: 0x580100
	Service Classes: Capturing, Object Transfer, Telephony
	Device Class: Computer, Uncategorized
	HCI Version: 2.1 (0x4)  Revision: 0x149c
	LMP Version: 2.1 (0x4)  Subversion: 0x149c
	Manufacturer: Cambridge Silicon Radio (10)
</pre>
<p>Looks good as it should, but <b>there is no radio activity!</b> Nothing shows up on scannig neither direction. I assume, the driver is either dead, or I am missing something.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Please, fill me in if you know how to get the bluetooth working 
Bluetooth works only if dualbooted with windows, the hard wireless key is disabled before rebooting, and then already in Linux, you press the key again. This enables back the wireless device along with the bluetooth radio as well.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <i>bccmd enabletx</i> as root (or with sudo) works for me in Ubuntu, might apply here too...</div>
<h3><span class="mw-headline" id="Graphics">Graphics</span></h3>
<h4><span class="mw-headline" id="Video_card_ATI">Video card ATI</span></h4>
<p>Not much to say.. Just install the required package with pacman and you are all set. Your system will pick up the driver at the next lounch of X. The package is <b>xf86-video-ati</b>. Works without an issue. FGLRX works normally, that is to say, with poor stability and compatibility, Wine gaming is 
</p>
<h3><span class="mw-headline" id="Input_Devices">Input Devices</span></h3>
<h4>
<span id="Clikpad_.28touchpad.29"></span><span class="mw-headline" id="Clikpad_(touchpad)">Clikpad (touchpad)</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> All the configs below are NOT needed if yo use Gnome or other DE settings for your mouse/pad. All taps, buttons, scrolls are WORKING if you install synaptics package from AUR</div>
<p>The touchpad -clickpad is a pain. Unless you are already using the <b>2.6.38 kernel</b> (as you shoud) and <b>xf86-input-synaptics 1.4.0-2</b> package (wich came out pretty much the same day), your clikpad will be jittering and acting annoyingly with the default settings. I managed to get it working somewhat well by tweaking it with the /etc/X11/xorg.d/10-synaptics.conf file <i>see below</i>. 
</p>
<p>Now - with the synaptics package older than "xf86-input-synaptics 1.4.0-2", there are many things to tweak to get your clikpad working somewhat good. You will still miss the right-clik (the real click) button though, but I worked around this problem by making a soft-clik out of a two-finger touch that emulates the right-button click with inserting "Option "RTCornerButton"  "2" in the config file. 
</p>
<p>Note, that normaly you shoudn't have <b>any other files</b> in the ..xorg.d/ directory that state configurations for input devices, unless you need specific configs for other input devices. When I connect external mouse, it works without any specific configuration.
</p>
<p>Here is my <code>/etc/X11/xorg.conf.d/10-synaptics.conf</code> file.
</p>
<pre># Config for clickpad ##
Section "InputClass"
        Identifier "touchpad catchall"          ## As defined in ../10-evdev.conf file
        Driver "synaptics"
        MatchIsTouchpad "on"
        Option "SHMConfig" "true"               ## Alows you to run synclient commands on-the-fly. Good for testing
        MatchDevicePath "/dev/input/event*"
        Option "TapButton1" "1"
        Option "TapButton2" "3"
        Option "TapButton3" "0"
        Option "FastTaps"   "0"
        Option "LockedDrags" "flase"
        Option "TapAndDragGesture" "true"
        Option "MinSpeed"   "1"
        Option "MaxSpeed"   "1.95"              ## Found this value suiting best for me
        Option "AccelFactor"    "0.0115"        ## Also good for me
        #Option "AreaBottomEdge"  "3800"        ## Makes area around the real buttons insensitive for touch, disabled just because...
        Option "LeftEdge"        "1756"         ## Edge settins found to be correct
        Option "RightEdge"       "5258"
        Option "TopEdge"         "1622"
        Option "BottomEdge"      "3450"
        Option "FingerLow"  "30"                ## Managing sensitivity
        Option "FingerHigh" "50"                ## Also
        Option "MaxTapTime" "180"
        Option "MaxTapMove" "220"
        Option "VertEdgeScroll"      "true"
        Option "UpDownScrolling"    "true"        
        Option "VertScrollDelta"    "101"
        #Option "HorizEdgeScroll"    "true"    ## If enabled, the area right above real buttons will react to horizontal sroll, I prefer two-finger-scrolls for bot
h ver and horiz 
        Option "HorizScrollDelta"   "88"
        Option "HorizTwoFingerScroll" "true"
        Option "VertTwoFingerScroll" "true"
        Option "RTCornerButton"    "2"         ## Right-top corner touch will emulate 3rd button press- good for pasting
        #Option "EmulateTwoFingerMinW" "5"
        #Option "HorizTwoFingerMinZ" "0"
        Option "CoastingFriction" "10"          ## Adds inertia for scrolls
        Option "CoastingSpeed"   "50"           ## Also
EndSection
</pre>
<p>What is achieved with these setings are explained in the comments in the file.
</p>
<h4><span class="mw-headline" id="ClickPad_with_newest_synaptics_package">ClickPad with newest synaptics package</span></h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Users, please, help updating this information, as it is far from complete</div>
<p>Now, with the newer package form Synaptics (1.4.0-2) I was really expecting much more improvement. However, it comes with some degree of dissapointment. First I tried to roll on without any aditional configuration of the device. I left it with the default settings that came with the new version of synaptics package.
</p>
<ul>
<li>First, the clickpad seems to work smoother than before - thank you!</li>
<li>However, the right-button is still missing. Vertical-two-finger sroll is working out-of-the-box - thank you!</li>
<li>The default sensitivity of the clickpad is set too much - bad!</li>
<li>None of the true wonders of clickpad are available (correct me if I am wrong)
<ul>
<li>wonders like two-finger-zoom (stealed from apple),</li>
<li>two-finger rotation,</li>
<li>finger-movement inertia (really nice option- I very much like it),</li>
<li>scrolling inertia (also very useful),</li>
<li>Clickpad off button in the upper-left corner.</li>
</ul>
</li>
<li>I have the opportunity to test all the wonders of the clickpad, because I <b>double-boot my Probook with Windows7</b>. Where all the features of the clickpad are available.</li>
</ul>
<h4>
<span id="Working_w.2Fo_aditional_settings_in_...2Fxorg.d.2F:_with_the_newer_Synaptics_package"></span><span class="mw-headline" id="Working_w/o_aditional_settings_in_../xorg.d/:_with_the_newer_Synaptics_package">Working w/o aditional settings in ../xorg.d/: with the newer Synaptics package</span>
</h4>
<p>This is the <b>default config file</b>, let's use it and see how it goes..
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/10-synaptics.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "InputClass"
        Identifier "touchpad catchall"
        Driver "synaptics"
        MatchIsTouchpad "on"
        MatchDevicePath "/dev/input/event*"
        Option "TapButton1" "1"
        Option "TapButton2" "2"
        Option "TapButton3" "3"
EndSection
</pre>
<p>When reverting to using the same (my tweaked file) config file as listed above, everything works pretty much the same as with the newer driver, except that more options come default.
</p>
<h4>
<span id="What.27s_needed_is_the_real_buttons_work"></span><span class="mw-headline" id="What's_needed_is_the_real_buttons_work">What's needed is the real buttons work</span>
</h4>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Please, contributors wanted to update this information (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:HP_ProBook_4320s">Talk:HP ProBook 4320s#</a>)</div>
</div>
<h3><span class="mw-headline" id="Power_related_configurations">Power related configurations</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Everything here is related to the notebook running on batteries</div>
<p>So far I seem to have configured the following things to my understanding, but the most annoying thing remains- <b>battery life is BAD!</b> I can see outmost 1h50m when unplugged. In Win7 with the HP PowerAssistant common tweaks, I see 3h40m right after unplugging.
</p>
<ul>
<li>Cooler fan is running, which makes me think, that the cpu's are overloaded. But they are not.</li>
<li>cpufreq-info says my cpu cores all are governed by the "conservative" mode. Later changed it to powersave mode.</li>
<li>command "watch grep \"cpu MHz\" /proc/cpuinfo" shows cpu cores at the lowest Mhz,</li>
<li>laptop-mode is enabled and configured properly.</li>
</ul>
<h4><span class="mw-headline" id="laptop-mode">laptop-mode</span></h4>
<ul><li>My settings in <code>/etc/laptop-mode/conf.d/cpufreq.conf</code> set the governing of cpu cores accordingly:</li></ul>
<pre>BATT_CPU_MAXFREQ=fastest
BATT_CPU_MINFREQ=slowest
BATT_CPU_GOVERNOR=powersave
BATT_CPU_IGNORE_NICE_LOAD=1
LM_AC_CPU_MAXFREQ=fastest
LM_AC_CPU_MINFREQ=slowest
LM_AC_CPU_GOVERNOR=performance
LM_AC_CPU_IGNORE_NICE_LOAD=1
NOLM_AC_CPU_MAXFREQ=fastest
NOLM_AC_CPU_MINFREQ=slowest
NOLM_AC_CPU_GOVERNOR=performance
NOLM_AC_CPU_IGNORE_NICE_LOAD=0
</pre>
<p>But actually, my fans run quieter when notebook is charging, and cpu governor is "prformance". Can you beat that? Before I had the "BATT_CPU_GOVERNOR=conservative" which seemed to log a unknown error.  Later I changed it to "powersave", and now my log reads:
</p>
<pre>ACPI group/action undefined: processor / CPU0
ACPI group/action undefined: processor / CPU1
ACPI group/action undefined: processor / CPU2
ACPI group/action undefined: processor / CPU3
</pre>
<p>I am not sure what this "action undefined" means. Hope nothing bad.
</p>
<h4><span class="mw-headline" id="lm-sensors">lm-sensors</span></h4>
<ul><li>After configuring lm-sensors, the command "sensors" are not showing the RPM data of systems fans.</li></ul>
<p>I suspect the problem to be there...
</p>
<h2><span class="mw-headline" id="External_links">External links</span></h2>
<p>Another article on <a rel="nofollow" class="external text" href="http://sysphere.org/~anrxc/j/articles/probook/index.html">Arch and ProBook 4320s</a>, with solutions to various usability problems (audio, clickpad, wireless...).
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:HP.html" title="Category:HP">HP</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Laptop_style.html" title="Category:Pages or sections flagged with Template:Laptop style">Pages or sections flagged with Template:Laptop style</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=HP_ProBook_4320s&amp;oldid=661394">https://wiki.archlinux.org/index.php?title=HP_ProBook_4320s&amp;oldid=661394</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 17 April 2021, at 21:33.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
