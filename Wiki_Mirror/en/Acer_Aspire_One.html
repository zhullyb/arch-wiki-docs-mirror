<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Acer Aspire One - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Acer_Aspire_One rootpage-Acer_Aspire_One skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Acer Aspire One</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Numerous <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> issues and duplication (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Acer_Aspire_One">Talk:Acer Aspire One#</a>)</div>
</div>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a><b>This article or section is out of date.</b><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> This page is ancient (2009) (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Laptop#Old_laptop_pages">Talk:Laptop#Old laptop pages</a>)</div>
</div>
<p>This page documents configuration and troubleshooting specific to the Acer Aspire One.
</p>
<p>Some of this information is from the <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=51796">Arch Forum</a>. You can also find a lot of helpful information from the <a rel="nofollow" class="external text" href="https://web.archive.org/web/20110630065944/http://www.aspireoneuser.com/forum/viewforum.php?f=5">AspireOneUser Forum</a> and <a rel="nofollow" class="external text" href="https://help.ubuntu.com/community/AspireOne">Install Ubuntu Hardy Heron (8.04.1) on the Acer Aspire One</a>.
</p>
<p>General netbook installation hints can be found also in <a href="../en/ArchWiki:Archive.html" class="mw-redirect" title="ASUS Eee PC 701">ASUS Eee PC 701</a>
</p>
<p>Also see the pages on the <a href="../en/ArchWiki:Archive.html" class="mw-redirect" title="Acer AOD250-1613">Acer Aspire One model AOD250-1613 (Android + XP version)</a> and the <a href="../en/Acer_AO722-BZ454.html" title="Acer AO722-BZ454">Acer Aspire One model AO722-BZ454</a>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Before_you_begin"><span class="tocnumber">1</span> <span class="toctext">Before you begin</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#A_list_of_choices_to_be_made_during_installation"><span class="tocnumber">1.1</span> <span class="toctext">A list of choices to be made during installation</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Choosing_your_installation_medium"><span class="tocnumber">1.2</span> <span class="toctext">Choosing your installation medium</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Preparation_prior_to_installing_Arch_Linux"><span class="tocnumber">1.3</span> <span class="toctext">Preparation prior to installing Arch Linux</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5">
<a href="#Recommended_partition_schemes"><span class="tocnumber">2</span> <span class="toctext">Recommended partition schemes</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#File-systems"><span class="tocnumber">2.1</span> <span class="toctext">File-systems</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Choosing_maximum_lifetime,_or_data_integrity"><span class="tocnumber">2.2</span> <span class="toctext">Choosing maximum lifetime, or data integrity</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Mounting_Options"><span class="tocnumber">2.3</span> <span class="toctext">Mounting Options</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#Hardware"><span class="tocnumber">3</span> <span class="toctext">Hardware</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#lspci"><span class="tocnumber">3.1</span> <span class="toctext">lspci</span></a></li>
<li class="toclevel-2 tocsection-11">
<a href="#Module_setup"><span class="tocnumber">3.2</span> <span class="toctext">Module setup</span></a>
<ul>
<li class="toclevel-3 tocsection-12">
<a href="#Module_configuration"><span class="tocnumber">3.2.1</span> <span class="toctext">Module configuration</span></a>
<ul>
<li class="toclevel-4 tocsection-13"><a href="#Modules_to_blacklist"><span class="tocnumber">3.2.1.1</span> <span class="toctext">Modules to blacklist</span></a></li>
<li class="toclevel-4 tocsection-14"><a href="#Modules_to_load"><span class="tocnumber">3.2.1.2</span> <span class="toctext">Modules to load</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-15"><a href="#Tweaks"><span class="tocnumber">3.2.2</span> <span class="toctext">Tweaks</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-16">
<a href="#Network"><span class="tocnumber">3.3</span> <span class="toctext">Network</span></a>
<ul>
<li class="toclevel-3 tocsection-17">
<a href="#WLAN"><span class="tocnumber">3.3.1</span> <span class="toctext">WLAN</span></a>
<ul>
<li class="toclevel-4 tocsection-18"><a href="#ath5k"><span class="tocnumber">3.3.1.1</span> <span class="toctext">ath5k</span></a></li>
<li class="toclevel-4 tocsection-19"><a href="#Testing"><span class="tocnumber">3.3.1.2</span> <span class="toctext">Testing</span></a></li>
<li class="toclevel-4 tocsection-20"><a href="#ath9k_and_acer_wmi"><span class="tocnumber">3.3.1.3</span> <span class="toctext">ath9k and acer_wmi</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-21"><a href="#LAN"><span class="tocnumber">3.3.2</span> <span class="toctext">LAN</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-22">
<a href="#Audio"><span class="tocnumber">3.4</span> <span class="toctext">Audio</span></a>
<ul>
<li class="toclevel-3 tocsection-23"><a href="#With_linux_(alsa_as_modules)"><span class="tocnumber">3.4.1</span> <span class="toctext">With linux (alsa as modules)</span></a></li>
<li class="toclevel-3 tocsection-24"><a href="#With_linux-one_and_linux-one-dev_(alsa_built_into_the_kernel)"><span class="tocnumber">3.4.2</span> <span class="toctext">With linux-one and linux-one-dev (alsa built into the kernel)</span></a></li>
<li class="toclevel-3 tocsection-25"><a href="#Audio_test"><span class="tocnumber">3.4.3</span> <span class="toctext">Audio test</span></a></li>
<li class="toclevel-3 tocsection-26"><a href="#Pulseaudio_troubleshooting"><span class="tocnumber">3.4.4</span> <span class="toctext">Pulseaudio troubleshooting</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-27">
<a href="#Video"><span class="tocnumber">3.5</span> <span class="toctext">Video</span></a>
<ul>
<li class="toclevel-3 tocsection-28"><a href="#External_VGA_port"><span class="tocnumber">3.5.1</span> <span class="toctext">External VGA port</span></a></li>
<li class="toclevel-3 tocsection-29"><a href="#Setting_DPI"><span class="tocnumber">3.5.2</span> <span class="toctext">Setting DPI</span></a></li>
<li class="toclevel-3 tocsection-30">
<a href="#Setting_a_proper_framebuffer"><span class="tocnumber">3.5.3</span> <span class="toctext">Setting a proper framebuffer</span></a>
<ul>
<li class="toclevel-4 tocsection-31"><a href="#Kernel_mode_setting_(KMS)"><span class="tocnumber">3.5.3.1</span> <span class="toctext">Kernel mode setting (KMS)</span></a></li>
<li class="toclevel-4 tocsection-32"><a href="#uvesafb"><span class="tocnumber">3.5.3.2</span> <span class="toctext">uvesafb</span></a></li>
<li class="toclevel-4 tocsection-33"><a href="#Using_intelfb_without_an_initrd"><span class="tocnumber">3.5.3.3</span> <span class="toctext">Using intelfb without an initrd</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-34"><a href="#Webcam"><span class="tocnumber">3.6</span> <span class="toctext">Webcam</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#Card_Reader"><span class="tocnumber">3.7</span> <span class="toctext">Card Reader</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#Additional_function_keys"><span class="tocnumber">3.8</span> <span class="toctext">Additional function keys</span></a></li>
<li class="toclevel-2 tocsection-37">
<a href="#Touchpad"><span class="tocnumber">3.9</span> <span class="toctext">Touchpad</span></a>
<ul>
<li class="toclevel-3 tocsection-38"><a href="#Two-Finger_scrolling"><span class="tocnumber">3.9.1</span> <span class="toctext">Two-Finger scrolling</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-39">
<a href="#Power_management"><span class="tocnumber">4</span> <span class="toctext">Power management</span></a>
<ul>
<li class="toclevel-2 tocsection-40"><a href="#Enabling_CPU_frequency_scaling"><span class="tocnumber">4.1</span> <span class="toctext">Enabling CPU frequency scaling</span></a></li>
<li class="toclevel-2 tocsection-41"><a href="#Suspend_on_lid,_shutdown_on_power_button"><span class="tocnumber">4.2</span> <span class="toctext">Suspend on lid, shutdown on power button</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-42">
<a href="#Example_configurations"><span class="tocnumber">5</span> <span class="toctext">Example configurations</span></a>
<ul>
<li class="toclevel-2 tocsection-43"><a href="#/etc/rc.local"><span class="tocnumber">5.1</span> <span class="toctext">/etc/rc.local</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-44">
<a href="#Tuning_tips"><span class="tocnumber">6</span> <span class="toctext">Tuning tips</span></a>
<ul>
<li class="toclevel-2 tocsection-45">
<a href="#SD_Storage_Expansion"><span class="tocnumber">6.1</span> <span class="toctext">SD Storage Expansion</span></a>
<ul>
<li class="toclevel-3 tocsection-46"><a href="#Labeling_Partitions"><span class="tocnumber">6.1.1</span> <span class="toctext">Labeling Partitions</span></a></li>
<li class="toclevel-3 tocsection-47">
<a href="#Mount_expansion_as_/home"><span class="tocnumber">6.1.2</span> <span class="toctext">Mount expansion as /home</span></a>
<ul>
<li class="toclevel-4 tocsection-48"><a href="#Method_1:_fstab_entry"><span class="tocnumber">6.1.2.1</span> <span class="toctext">Method 1: fstab entry</span></a></li>
<li class="toclevel-4 tocsection-49"><a href="#Method_2:_rc.local_entry"><span class="tocnumber">6.1.2.2</span> <span class="toctext">Method 2: rc.local entry</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-50">
<a href="#Regulating_the_CPU_fan"><span class="tocnumber">6.2</span> <span class="toctext">Regulating the CPU fan</span></a>
<ul>
<li class="toclevel-3 tocsection-51"><a href="#acerhdf"><span class="tocnumber">6.2.1</span> <span class="toctext">acerhdf</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-52">
<a href="#Using_the_Super_key_for_middle-clicking"><span class="tocnumber">6.3</span> <span class="toctext">Using the Super key for middle-clicking</span></a>
<ul>
<li class="toclevel-3 tocsection-53"><a href="#Using_FVWM_2"><span class="tocnumber">6.3.1</span> <span class="toctext">Using FVWM 2</span></a></li>
<li class="toclevel-3 tocsection-54"><a href="#Using_xte"><span class="tocnumber">6.3.2</span> <span class="toctext">Using xte</span></a></li>
<li class="toclevel-3 tocsection-55"><a href="#Using_xbindkeys"><span class="tocnumber">6.3.3</span> <span class="toctext">Using xbindkeys</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-56"><a href="#SSD_specific_tweaks"><span class="tocnumber">6.4</span> <span class="toctext">SSD specific tweaks</span></a></li>
<li class="toclevel-2 tocsection-57">
<a href="#Updating_the_BIOS"><span class="tocnumber">6.5</span> <span class="toctext">Updating the BIOS</span></a>
<ul>
<li class="toclevel-3 tocsection-58">
<a href="#Using_FreeDOS"><span class="tocnumber">6.5.1</span> <span class="toctext">Using FreeDOS</span></a>
<ul>
<li class="toclevel-4 tocsection-59"><a href="#AOD150"><span class="tocnumber">6.5.1.1</span> <span class="toctext">AOD150</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-60"><a href="#Using_Flashrom"><span class="tocnumber">6.5.2</span> <span class="toctext">Using Flashrom</span></a></li>
<li class="toclevel-3 tocsection-61"><a href="#Instructions_by_Acer_for_AOA110_and_AOA150"><span class="tocnumber">6.5.3</span> <span class="toctext">Instructions by Acer for AOA110 and AOA150</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-62"><a href="#Compiling_for_the_Atom_processor"><span class="tocnumber">6.6</span> <span class="toctext">Compiling for the Atom processor</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-63"><a href="#See_also"><span class="tocnumber">7</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Before_you_begin">Before you begin</span></h2>
<h3><span class="mw-headline" id="A_list_of_choices_to_be_made_during_installation">A list of choices to be made during installation</span></h3>
<ul>
<li>Installation medium: CD-ROM or USB <b>(usb is recommended)</b>
</li>
<li>Which filesystems to choose:
<ul>
<li>If you want a journaled filesystem for the SSD or HDD or not <b>(ext4 is recommended)</b>
</li>
<li>If you want a journaled filesystem for the SD-card or not <b>(highly recommended, for instance xfs or ext4)</b>
</li>
</ul>
</li>
<li>If you want a swap partition or not <b>(not recommended, but meh)</b>
<ul>
<li>A swap partition may wear the disk somewhat, but it makes hibernation possible</li>
<li>Regular "sleep" is still possible without a swap partition</li>
</ul>
</li>
<li>Which kernel to use: linux or kernel-netbook <b>(kernel-netbook is recommended)</b>
</li>
<li>Which modules and daemons you want loaded at boot in rc.conf</li>
<li>If you want to configure the machine for maximum performance or battery life</li>
<li>If you want to configure X for using 3D graphics or not</li>
<li>If you wish to boot straight into a graphics mode or not ("KMS")</li>
<li>General configuration</li>
</ul>
<p>There are also all sorts of tweaks along the way, that you may choose to apply.
</p>
<h3><span class="mw-headline" id="Choosing_your_installation_medium">Choosing your installation medium</span></h3>
<p>The Acer Aspire One does not come with an optical drive.
</p>
<p>This means you will need to install Arch Linux through one of the alternative methods:
</p>
<ul>
<li>
<a href="../en/USB_flash_installation_medium.html" class="mw-redirect" title="Install from USB stick">USB stick</a> <b>(recommended)</b>
</li>
<li>External USB CD-ROM drive <b>(weird, but possible)</b>
</li>
</ul>
<h3><span class="mw-headline" id="Preparation_prior_to_installing_Arch_Linux">Preparation prior to installing Arch Linux</span></h3>
<ul>
<li>Press <code>F12</code> at BIOS POST or change boot order with <code>F2</code> to select your installation method. (On some systems, <code>F12</code> might not be enabled by default, and you must hit <code>F2</code> to enter the BIOS and enable it).</li>
<li>To boot off the USB stick, choose USB HDD as the boot device.</li>
<li>It is recommended to permanently add a SD(HC) card into the left SD card reader to <a href="#SD_Storage_Expansion">extend storage space</a>.</li>
<li>Before running <code>/arch/setup</code> mount your SD card to be visible to the installer.</li>
</ul>
<h2><span class="mw-headline" id="Recommended_partition_schemes">Recommended partition schemes</span></h2>
<ul>
<li>
<code>/dev/sda1</code>         all 8GB on the SSD for <code>/</code>, formatted as ext4</li>
<li>
<code>/dev/mmcblk0p1</code>    all space on the extensional left side SD(HC) card for <code>/home</code>
<ul><li>the SD card needs a journaling file system, like ext4 or xfs</li></ul>
</li>
<li>No swap at all, unless you want hibernation. Having swap wears the disk somewhat more.</li>
</ul>
<h3><span class="mw-headline" id="File-systems">File-systems</span></h3>
<p>There is a limit in how many times you can write to any disk, SSD or a regular HDD. For SSD, you can write about 2 GB a day and it should last for about 3 years. Regular usage is probably less than this, hence it should last several more years. All disks will wear out eventually, so backup often. This goes for both SSD and HDDs.
</p>
<p>In general, having data on a disk should be considered as safe as written notes on a wet paper napkin.
</p>
<p>Solid state drives are made of flash memory, they are fast at reading but slow at writing data.
</p>
<p>Journaled filesystem writes in a journal what it is modifying in the filesystem, so you will get more writes into the SSD, that will take your write count up as a bit of overhead for each write you will do, but will give you filesystem consistency if something as gone wrong. Same thing goes for the HDD-version.
</p>
<p>You can choose a journaled filesystem (like ext4 or xfs) or a non journaled one (like ext2).
The choice mainly depends on how important it is to you that all files are okay if you suddenly turn off the computer, compared to slightly less wear and tear over the years, and slightly more speed on disk operations.
</p>
<p>The choice depends on your demands. Some people had trouble using ext2 with the SD-card (the filesystem was corrupted) and switched to XFS instead, with great success.
</p>
<p>In general, ext4 is a good choice for disks and XFS works well for SD-cards that stay in the slot.
</p>
<p>XFS over ext2/ext4 also have the added benefit of not having to wait for disk-checks every Nth boot, which can be a huge annoyance if you are about to hold a presentation.
</p>
<h3>
<span id="Choosing_maximum_lifetime.2C_or_data_integrity"></span><span class="mw-headline" id="Choosing_maximum_lifetime,_or_data_integrity">Choosing maximum lifetime, or data integrity</span>
</h3>
<p>For a longer life for your disk, take care to:
</p>
<ul>
<li>Not use a journaling file system</li>
<li>Not use a swap partition (unless you want to be able to hibernate)</li>
<li>Edit your new installation fstab to mount the partitions as "noatime", which will mean better performance and longer life by not writing file access times. "relatime" is an alternative solution. See <a rel="nofollow" class="external text" href="http://lwn.net/Articles/244829/">this LWN article</a> for more information.</li>
<li>Not log errors or messages</li>
</ul>
<p>If, on the other hand, data integrity is more important, use EXT4, XFS or another journaled filesystem instead.
</p>
<p>A swap partition may be preferable if you use a browser, or other memory intensive application, that easily makes the system run out of memory. This will use the disk somewhat more, but may prevent crashes. Check the system status with an application like <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=htop">htop</a></span>. If you find out you need one, it's easy to create a large file and use that as a swap partition.
</p>
<h3><span class="mw-headline" id="Mounting_Options">Mounting Options</span></h3>
<p>There are some tweaks you can employ in order to get somewhat better performance from your file systems:
</p>
<ul><li>EXT4:</li></ul>
<pre> defaults,noatime
</pre>
<ul><li>XFS:</li></ul>
<pre> defaults,noatime
</pre>
<ul><li>EXT3:</li></ul>
<pre> defaults,noatime,errors=remount-ro,commit=15
</pre>
<ul><li>EXT2:</li></ul>
<pre> defaults,noatime,errors=remount-ro
</pre>
<p>These are to be added to your filesystem mount tab file located under <code>/etc/fstab</code>.
As example a mount line for the root directory:
</p>
<pre> /dev/sda1              /             ext4      defaults,noatime    0    1
</pre>
<p>It's also possible to add the "discard" mount option.
</p>
<p>Another tweak is to mount each log directory into a memory filesystem (stores everything only into RAM) so you can skip more write counts out of our SSD but suitable also for HDD. These log files will be then deleted each time the system is rebooted.
</p>
<p>For that you have to add to the same <code>/etc/fstab</code> the follow lines:
</p>
<pre> none                   /var/log      tmpfs     size=10M   0      0
 none                   /tmp          tmpfs     size=100M  0      0
 none                   /var/tmp      tmpfs     size=20M   0      0

</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> The temporary folders listed above will delete all files in those folders after each reboot. You may omit the last three lines, but have increased write access to the SSD.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> It has been reported that the stock kernel is causing partition table corruption on the SD card when you resume from a suspend. Corrupted <code>/home</code>. Someone on the forum suggested that you need a kernel with <code>CONFIG_MMC_UNSAFE_RESUME</code> set to prevent this from happening. This solution did not work for some people, while using XFS instead of ext2 for <code>/home</code> worked just fine.</div>
<h2><span class="mw-headline" id="Hardware">Hardware</span></h2>
<p>Aspire One common hardware:
</p>
<ul>
<li>Intel Atom N270 1.6 GHz cpu, SMP capable (hyperthreading like PIV), up to SSE3 extensions, no EM64T!</li>
<li>Intel 945GME chipset</li>
<li>Intel 950 GMA onboard graphics adapter</li>
<li>8.9 or 10.1 inch Acer Crystal Brite 1024×600 display</li>
<li>Realtek High Definition Audio ALC260</li>
<li>Battery: 11.V 41,2Wh/2200mAh or 45Wh/2400mAh Lithium-Ionen-Akku / 3 cell, with a 6 cell model planned</li>
<li>SD(hc) Card Reader left side: RICOH R5C8xx</li>
<li>Multi Card Reader right side Seite: JMicron JMB385 Flash Media Controller</li>
<li>Webcam: Acer Crystal Eye Webcam (Suyin Optronics)</li>
<li>Wlan: Atheros AR5007EG (Chipset 2425)</li>
<li>LAN: Realtek RTL8102E</li>
<li>Touchpad: Synaptics</li>
<li>Weight: 960 gr.</li>
<li>Size: 24,9 x 17 x 2,9 cm</li>
<li>One memory expansion slot ( So-DIMM DDRII 400/533/667MHz up to 1GB) under the keyboard hard to access see <a rel="nofollow" class="external text" href="http://www.aspireoneuser.com/forum/viewtopic.php?f=4&amp;t=17">memory upgrade</a><sup title="Last check status: 403">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-03-28 ⓘ]</sup>; max. 1,5GB</li>
</ul>
<p>Version A110L
</p>
<ul>
<li>One 512MB memory stick onboard soldered</li>
<li>8 GB solid state drive (SSD)</li>
</ul>
<p>Version A150L
</p>
<ul>
<li>One 1024MB memory stick onboard soldered</li>
<li>120 GB hard disk drive (HDD)</li>
</ul>
<p>Version D255e
</p>
<ul>
<li>LAN: Atheros Communication AR8132 fast ethernet</li>
<li>Wireless: Network controller [0280]: Broadcom Corporation BCM4313 802.11b/g LP-PHY [14e4:4727] (rev 01)Subsystem: Broadcom Corporation Device [14e4:0510]</li>
</ul>
<h3><span class="mw-headline" id="lspci">lspci</span></h3>
<pre>00:00.0 Host bridge: Intel Corporation Mobile 945GME Express Memory Controller Hub (rev 03)
00:02.0 VGA compatible controller: Intel Corporation Mobile 945GME Express Integrated Graphics Controller (rev 03)
00:02.1 Display controller: Intel Corporation Mobile 945GM/GMS/GME, 943/940GML Express Integrated Graphics Controller (rev 03)
00:1b.0 Audio device: Intel Corporation 82801G (ICH7 Family) High Definition Audio Controller (rev 02)
00:1c.0 PCI bridge: Intel Corporation 82801G (ICH7 Family) PCI Express Port 1 (rev 02)
00:1c.1 PCI bridge: Intel Corporation 82801G (ICH7 Family) PCI Express Port 2 (rev 02)
00:1c.2 PCI bridge: Intel Corporation 82801G (ICH7 Family) PCI Express Port 3 (rev 02)
00:1c.3 PCI bridge: Intel Corporation 82801G (ICH7 Family) PCI Express Port 4 (rev 02)
00:1d.0 USB Controller: Intel Corporation 82801G (ICH7 Family) USB UHCI Controller #1 (rev 02)
00:1d.1 USB Controller: Intel Corporation 82801G (ICH7 Family) USB UHCI Controller #2 (rev 02)
00:1d.2 USB Controller: Intel Corporation 82801G (ICH7 Family) USB UHCI Controller #3 (rev 02)
00:1d.3 USB Controller: Intel Corporation 82801G (ICH7 Family) USB UHCI Controller #4 (rev 02)
00:1d.7 USB Controller: Intel Corporation 82801G (ICH7 Family) USB2 EHCI Controller (rev 02)
00:1e.0 PCI bridge: Intel Corporation 82801 Mobile PCI Bridge (rev e2)
00:1f.0 ISA bridge: Intel Corporation 82801GBM (ICH7-M) LPC Interface Bridge (rev 02)
00:1f.2 IDE interface: Intel Corporation 82801GBM/GHM (ICH7 Family) SATA IDE Controller (rev 02)
00:1f.3 SMBus: Intel Corporation 82801G (ICH7 Family) SMBus Controller (rev 02)
02:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8101E PCI Express Fast Ethernet controller (rev 02)
03:00.0 Ethernet controller: Atheros Communications, Inc. AR5006EG 802.11 b/g Wireless PCI Express Adapter (rev 01)
</pre>
<h3><span class="mw-headline" id="Module_setup">Module setup</span></h3>
<p>Ethernet, wireless networking and sound will work with the linux, kernel-netbook, linux-one and linux-one-dev kernels.
</p>
<h4><span class="mw-headline" id="Module_configuration">Module configuration</span></h4>
<p>Now you have to select the modules you need to get the hardware working. Please refer to <a href="../en/Kernel_module.html" class="mw-redirect" title="Kernel modules">kernel modules</a> for more information.
</p>
<h5><span class="mw-headline" id="Modules_to_blacklist">Modules to blacklist</span></h5>
<ul>
<li>
<b>memstick</b> - Makes full load on one core- fixed as of kernel 2.6.29.</li>
<li>
<b>snd_pcsp</b> - PC Speaker will be your sound card and <code>snd_hda_intel</code> will not work. Also amazingly annoying if put to use.</li>
</ul>
<h5><span class="mw-headline" id="Modules_to_load">Modules to load</span></h5>
<ul>
<li>
<b>acpi_cpufreq</b> - CPU scaling</li>
<li>
<b>ath5k</b> or <b>ath9k</b> - The wireless device</li>
<li>
<b>pciehp</b> - The SD card readers' hotplug functionality</li>
<li>
<b>r8169</b> - The ethernet NIC</li>
<li>
<b>uvcvideo</b> - The webcam device</li>
</ul>
<h4><span class="mw-headline" id="Tweaks">Tweaks</span></h4>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a><b>This article or section is out of date.</b><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Needs updating for systemd (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Acer_Aspire_One">Talk:Acer Aspire One#</a>)</div>
</div>
<p>Put <code>zramswap</code> in the DAEMONS array in /etc/rc.conf to use the zram module that may improve performance. This requires <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/zramswap/">zramswap</a></span><sup><small>AUR</small></sup> and a recent kernel.
</p>
<h3><span class="mw-headline" id="Network">Network</span></h3>
<h4><span class="mw-headline" id="WLAN">WLAN</span></h4>
<p>AA1 wireless device is a rather new Atheros wireless chip not supported by Linux kernel until version 2.6.27. Before that an external module was required to be compiled and installed named madwifi.
</p>
<p>Now you need to reset the wireless driver upon suspend/resume so you need to create a rule for pm-utils to reload the module. This is done by creating a new file under /etc/pm/config.d/ named modules with:
</p>
<pre> echo "SUSPEND_MODULES=\"ath5k\"" &gt; /etc/pm/config.d/modules
</pre>
<h5><span class="mw-headline" id="ath5k">ath5k</span></h5>
<p>If you have problems with <code>ath5k</code>, you can get the latest version by following the instructions on this site:
<a rel="nofollow" class="external free" href="https://wireless.wiki.kernel.org/en/users/download">https://wireless.wiki.kernel.org/en/users/download</a>
</p>
<p>Essentially, you install the latest wireless drivers into an <code>updates/</code> directory, thus leaving the stock drivers intact for possible reverting.
</p>
<p><br>
In some cases, using the ath5k driver can lead to sporadic connection drops after a certain amount of data is transferred. In this case it may help to disable hwcrypt:
</p>
<pre># ip link set eth0 up
# rmmod -r ath5k
# modprobe ath5k nohwcrypt=1
# ip link set eth0 down
</pre>
<p>If this solves the problem, make the solution permanent by adding the following to <code>/etc/modprobe.d/ath5k.conf</code> 
</p>
<pre>options ath5k nohwcrypt=1
</pre>
<h5><span class="mw-headline" id="Testing">Testing</span></h5>
<p>This is one way to test if the wireless card is working:
</p>
<p>Use iw dev to find the name of your wireless device:
</p>
<pre>iw dev
</pre>
<p>The output may be something like this:
</p>
<pre>phy#0
        Interface wlp3s0
        wdev 0x1
        addr 00:22:68:aa:bb:cc
        type managed
        channel 11 (2462 MHz), width: 20 MHz (no HT), center1: 2462 MHz
</pre>
<p>From the output, you can see that the name of the wireless interface device is wlp3s0. Remember this device name!
</p>
<p>Now scan the wireless network for access points:
</p>
<pre># iw wlp3s0 scan | grep SSID
</pre>
<p>If you can see a list of SSID's, then you know your wireless device is working and ready to connect to one of the networks. You may prefer a user friendly tool like nm-applet (included in the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=network-manager-applet">network-manager-applet</a></span> package) for typing in passwords and confirming that a connection has been made. Once the connection is set up, nm-applet is not needed, only the NetworkManager service.
</p>
<h5><span class="mw-headline" id="ath9k_and_acer_wmi">ath9k and acer_wmi</span></h5>
<p>Some people have reported conflicts between the ath9k and acer_wmi drivers, resulting in the wireless card not functioning. Blacklisting acer_wmi seems to resolve the issue.
</p>
<h4><span class="mw-headline" id="LAN">LAN</span></h4>
<ul>
<li>Use module r8169 for eth0 support with kernel version &gt;=2.6.26.</li>
<li>If you have problems with r8169 (unlikely), try r8101.</li>
</ul>
<h3><span class="mw-headline" id="Audio">Audio</span></h3>
<p>Typical Intel HD Audio, works out-of-the-box, see <a href="../en/Advanced_Linux_Sound_Architecture.html" class="mw-redirect" title="ALSA">ALSA</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If the following steps do not help you to get your internal microphone working, follow the guidelines in this forum thread: <a rel="nofollow" class="external free" href="https://bbs.archlinux.org/viewtopic.php?pid=991291">https://bbs.archlinux.org/viewtopic.php?pid=991291</a>.</div>
<h4>
<span id="With_linux_.28alsa_as_modules.29"></span><span class="mw-headline" id="With_linux_(alsa_as_modules)">With linux (alsa as modules)</span>
</h4>
<p>Add one of these as a line in <code>/etc/modprobe.d/sound.conf</code>:
</p>
<ul>
<li>options snd-hda-intel model=acer-aspire
<ul><li>
<strong>Recommended</strong>. Everything works.</li></ul>
</li>
<li>options snd-hda-intel model=acer
<ul><li>Everything works, except the internal microphone and turning off the loudspeaker when a headset is plugged in. For some people the internal microphone may work.</li></ul>
</li>
<li>options snd-hda-intel model=auto
<ul><li>Both internal and external microphone does not work</li></ul>
</li>
</ul>
<h4>
<span id="With_linux-one_and_linux-one-dev_.28alsa_built_into_the_kernel.29"></span><span class="mw-headline" id="With_linux-one_and_linux-one-dev_(alsa_built_into_the_kernel)">With linux-one and linux-one-dev (alsa built into the kernel)</span>
</h4>
<p>MIDI does not work with linux-one(-dev)!
</p>
<p>Add one of these as a kernel option in <code>/boot/grub/menu.lst</code>:
</p>
<ul>
<li>snd-hda-intel.model=acer-aspire
<ul><li>
<strong>Recommended</strong>. Everything works.</li></ul>
</li>
<li>snd-hda-intel.model=acer
<ul><li>Everything works, except the internal microphone and turning off the loudspeaker when a headset is plugged in. For some people the internal microphone may work.</li></ul>
</li>
<li>snd-hda-intel.model=auto
<ul><li>Both internal and external microphone does not work</li></ul>
</li>
</ul>
<h4><span class="mw-headline" id="Audio_test">Audio test</span></h4>
<p><code>aplay /usr/share/sounds/alsa/Front_Center.wav</code>
</p>
<h4><span class="mw-headline" id="Pulseaudio_troubleshooting">Pulseaudio troubleshooting</span></h4>
<ul><li><a href="../en/PulseAudio/Troubleshooting.html#No_microphone_input_on_Acer_Aspire_One_and_Lenovo_Ideapad_310-15ISK/330-15ARR" title="PulseAudio/Troubleshooting">No mic input on Acer Aspire One and Lenovo Ideapad</a></li></ul>
<h3><span class="mw-headline" id="Video">Video</span></h3>
<p>Typical Intel chipset. Works with the xf86-video-intel driver.
</p>
<p>You will need to install packages:
</p>
<ul>
<li>xorg</li>
<li>xf86-video-intel</li>
<li>xf86-input-synaptics</li>
</ul>
<p>For Acer Spire One model D270 has <a href="../en/Intel_GMA_3600.html" title="Intel GMA 3600">Intel GMA 3600</a> graphics, so <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-intel">xf86-video-intel</a></span> does not work. Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-fbdev">xf86-video-fbdev</a></span> instead <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?pid=1232202#p1232202">[1]</a>.
</p>
<p>Alternatively, using the instructions above and in the <a href="../en/Uvesafb.html" title="Uvesafb">Uvesafb</a> article to set up the console framebuffer, and then installing and configuring the xf86-video-fbdev driver, will provide the full resolution -- backlight brightness control is impossible with this method, however.
</p>
<p>For the original Linpus Xorg.conf (if you use this you may want to remove the ServerFlags section - the two entries in it disable the Ctrl-Alt-Backspace and Ctrl-Alt-F* hotkeys) please see <a href="#Example_configurations">Example configurations</a>.
</p>
<h4><span class="mw-headline" id="External_VGA_port">External VGA port</span></h4>
<p>The external VGA port works without further modifications if the externel screen is connected at boot time. If the screen is added later, the VGA port has to be enabled by <code>xrandr</code>. See also section <a href="#Additional_function_keys">Additional function keys</a> for automating this.
</p>
<h4><span class="mw-headline" id="Setting_DPI">Setting DPI</span></h4>
<p>Very large fonts may appear in some applications (for example the menu line in Firefox). Setting the DisplaySize in the Monitor section in combination with the NoDDC option in <code>xorg.conf</code> may help:
</p>
<pre>Section "Device"
   ...
   Option    "NoDDC"
   ...
EndSection
...
Section "Monitor"
   ...
   DisplaySize 271 159 # Sets the correct DPI (96 x 96)
   ...
EndSection
</pre>
<p>When using an external screen, the NoDDC option has the effect, that XRandR may no longer be able to determine and use the maximum resolution of the screen. If you have such problems, delete the above lines from <code>xorg.conf</code>. Instead add the following to your <code>~/.xserverrc</code>:
</p>
<pre>#!/bin/bash
exec /usr/bin/X -dpi 100
</pre>
<p>You may also try 75dpi if you can live with small fonts.
</p>
<p>You can also try to add the following to your <code>~/.Xdefaults</code>:
</p>
<pre>*dpi: 75
</pre>
<h4><span class="mw-headline" id="Setting_a_proper_framebuffer">Setting a proper framebuffer</span></h4>
<p>There are three options for setting the frame buffer (kernel mode setting, uvesafb, and intelfb). The most modern, thus recommended one is kernel mode setting (KMS). This is also the easiest to implement.
</p>
<h5>
<span id="Kernel_mode_setting_.28KMS.29"></span><span class="mw-headline" id="Kernel_mode_setting_(KMS)">Kernel mode setting (KMS)</span>
</h5>
<p>Follow the instructions in <a href="../en/Kernel_mode_setting.html" title="Kernel mode setting">Kernel mode setting</a>.
</p>
<h5><span class="mw-headline" id="uvesafb">uvesafb</span></h5>
<p>This will enable a 1024x600 framebuffer with 32bit color.
Read <a href="../en/Uvesafb.html" title="Uvesafb">Uvesafb</a> for details.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Before you begin, be aware that suspend will most probably not work with Uvesafb. When resuming you will end up with a blank screen.</div>
<h5><span class="mw-headline" id="Using_intelfb_without_an_initrd">Using intelfb without an initrd</span></h5>
<p>Another option is to use the intelfb framebuffer. This is an option if you are using the linux-one-dev kernel, or any other kernel where intelfb is compiled in the kernel rather than as a module. It is also a good option if you do not want to use an initrd image on boot (hence using the new grub package below.)
</p>
<p>First off install <code>grub2-915resolution</code> from AUR. (This may mean you need to modify the new /boot/grub/grub.cfg, see the wiki page for help)
</p>
<p>To /boot/grub/grub.cfg add the 915 initialisation like so:
</p>
<pre>menuentry "kernel26-one-dev" {
set root=(hd0,1)
<b>insmod 915resolution
915resolution 5c 1024 600</b>
linux /vmlinuz-one-dev root=/dev/sda2 ro <b>video=intelfb vga=604</b>
}
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This method means you have to change to the new version of grub, which uses a new configuration format, and hence will not work with your old menu.lst</div>
<h3><span class="mw-headline" id="Webcam">Webcam</span></h3>
<p>Works on the fly with the kernel26 (&gt;=2.6.22) from core using the UVC kernel module (uvcvideo). Make sure that your user belongs to the "video" group.
</p>
<p>Test the webcam:
</p>
<ul><li>Load the kernel module as root</li></ul>
<pre>modprobe uvcvideo
</pre>
<ul><li>Install and run wxcam as a regular user</li></ul>
<pre>wxcam
</pre>
<ul><li>To stop using the webcam related kernel modules (which saves some battery power)</li></ul>
<pre>echo uvcvideo videodev v4l1_compat video | xargs rmmod
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Install and run <a href="../en/Powertop.html" title="Powertop">Powertop</a> as root if you are interested in saving even more power.</div>
<h3><span class="mw-headline" id="Card_Reader">Card Reader</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> For some people, this is not needed with the most recent BIOS v3309</div>
<p>To enable hotplugging for the card readers, add the following to <code>/etc/modprobe.d/pciehp.conf</code>:
</p>
<pre>options pciehp pciehp_force=1
</pre>
<p>Then add <code>pciehp</code> to the modules array in <code>/etc/rc.conf</code>:
</p>
<pre>MODULES=( ... pciehp ... )
</pre>
<p>As outlined in <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=879536#p879536">this</a> post, you might also need to add the following to your kernel command line (in <code>/boot/grub/menu.lst</code>):
</p>
<pre>pcie_ports=native
</pre>
<p>If this don't work, you can force a PCI rescan with this command (successfully tested on Acer Aspire One A110L/ZG5), solution source: <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=160309">(SOLVED) *jmicron* SD card is recognised only if inserted on boot</a>:
</p>
<pre># echo 1 &gt; /sys/bus/pci/rescan
</pre>
<p>As an alternative, which may possibly also enable powersaving for the card readers, get the <a rel="nofollow" class="external text" href="http://petaramesh.org/public/arc/projects/AcerOne_Ubuntu/jmb38x_d3e.sh">jmb38x_d3e.sh</a><sup title="Last check status: domain name not resolved">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-05-24 ⓘ]</sup> script from the original Linpus install and install it in <code>/usr/local/sbin</code>. Remember to give executable rights.
Note that this script uses <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bc">bc</a></span> which you may need to install.
</p>
<p>Then add the following line to <code>/etc/rc.local</code>:
</p>
<pre>/usr/local/sbin/jmb38x_d3e.sh &amp;&gt;/var/log/jmb38x_d3e.log &amp;
</pre>
<p>You may skip the log output if do not want this. You do not need the <code>pciehp</code> module in <code>/etc/rc.conf</code> if you use this script.
</p>
<h3><span class="mw-headline" id="Additional_function_keys">Additional function keys</span></h3>
<p>See <a href="../en/Extra_keyboard_keys.html" title="Extra keyboard keys">Extra keyboard keys</a>.
</p>
<h3><span class="mw-headline" id="Touchpad">Touchpad</span></h3>
<h4><span class="mw-headline" id="Two-Finger_scrolling">Two-Finger scrolling</span></h4>
<p>To enable two-finger scrolling, paste the following in your .xinitrc and restart X:
</p>
<pre> xinput set-int-prop "Synaptics Mouse" "Synaptics Two-Finger Pressure" 32 10
 xinput set-int-prop "Synaptics Mouse" "Synaptics Two-Finger Width" 32 6
 xinput set-int-prop "Synaptics Mouse" "Two-Finger Scrolling" 8 1
 xinput set-int-prop "Synaptics Mouse" "Synaptics Two-Finger Scrolling" 8 1 1
 xinput set-int-prop "Synaptics Mouse" "Synaptics Jumpy Cursor Threshold" 32 150
</pre>
<p>Note: you might need to change "Synaptics Mouse" to the name your touchpad was assigned.
</p>
<h2><span class="mw-headline" id="Power_management">Power management</span></h2>
<h3><span class="mw-headline" id="Enabling_CPU_frequency_scaling">Enabling CPU frequency scaling</span></h3>
<p>See <a href="../en/CPU_frequency_scaling.html" title="CPU frequency scaling">CPU frequency scaling</a>.
</p>
<h3>
<span id="Suspend_on_lid.2C_shutdown_on_power_button"></span><span class="mw-headline" id="Suspend_on_lid,_shutdown_on_power_button">Suspend on lid, shutdown on power button</span>
</h3>
<p>Some people needed to install the kernel named "linux-one" in order to make this work properly.  On the D250 (and possibly others), if the bios has not been updated to the latest (see elsewhere on this page for how to update the bios), then the 'lid' event is broken in the sense that it always reports 'closed' and it will continue to send lid events once triggered (thus blocking out power button events).  In short, if you have problems with getting acpi events to work, update your bios.
</p>
<p>See <a href="../en/Acpid.html" title="Acpid">acpid</a> for more information.
</p>
<h2><span class="mw-headline" id="Example_configurations">Example configurations</span></h2>
<h3>
<span id=".2Fetc.2Frc.local"></span><span class="mw-headline" id="/etc/rc.local">/etc/rc.local</span>
</h3>
<p>Read this first, for how to enable /etc/rc.local: <a rel="nofollow" class="external free" href="https://superuser.com/questions/278396/systemd-does-not-run-etc-rc-local">https://superuser.com/questions/278396/systemd-does-not-run-etc-rc-local</a>
</p>
<p>Preferably, there should be a package that provided this, in a proper systemd-like way.
</p>
<p>Please update this page if you find a better method.
</p>
<pre> #!/bin/bash
 #
 # /etc/rc.local: Local multi-user startup script.
 #
 # Change writeback-time (as suggested by powertop)
 echo 1500 &gt; /proc/sys/vm/dirty_writeback_centisecs
 # Enable laptop mode
 echo 5 &gt; /proc/sys/vm/laptop_mode
 # Make the right SD-slot visible, as suggested by the Debian wiki
 setpci -d 197b:2381 AE=47
 # Set up the wifi-key
 /usr/bin/setkeycodes e055 159
 /usr/bin/setkeycodes e056 158
 # Set up the function keys
 /usr/bin/setkeycodes e025 130
 /usr/bin/setkeycodes e026 131
 /usr/bin/setkeycodes e027 132
 /usr/bin/setkeycodes e029 122
 /usr/bin/setkeycodes e071 134
 /usr/bin/setkeycodes e072 135
</pre>
<h2><span class="mw-headline" id="Tuning_tips">Tuning tips</span></h2>
<h3><span class="mw-headline" id="SD_Storage_Expansion">SD Storage Expansion</span></h3>
<h4><span class="mw-headline" id="Labeling_Partitions">Labeling Partitions</span></h4>
<p>For using both card readers at a time you have to specify which is the one to use as storage expansion and the one to be used a removable storage by setting a label into the filesystem.
</p>
<p>Plug only the expansion SD card into the left card reader and make the desired filesystem with one of the following:
</p>
<ul><li>XFS:</li></ul>
<pre>mkfs.xfs /dev/mmcblk0p1
</pre>
<ul><li>EXT3</li></ul>
<pre>mkfs.ext3 /dev/mmcblk0p1
</pre>
<ul><li>EXT2</li></ul>
<pre>mkfs.ext2 /dev/mmcblk0p1

</pre>
<p>Then give the filesystem a label:
</p>
<ul><li>XFS:</li></ul>
<pre>xfs_admin -L "SD_HOME" /dev/mmcblk0p1
</pre>
<ul><li>EXT3/EXT2:</li></ul>
<pre>e2label /dev/mmcblk0p1 "SD_HOME"
</pre>
<h4>
<span id="Mount_expansion_as_.2Fhome"></span><span class="mw-headline" id="Mount_expansion_as_/home">Mount expansion as /home</span>
</h4>
<p>Now that you have an SD card with a defined label, you can mount the SD card at boot. There are two methods for this: either by creating a mount option in  <code>/etc/fstab</code>, or by adding a mount command to  <code>/etc/rc.local</code>. The ordinary and recommended method for mounting disk at boot time is through <code>/etc/fstab</code>, but as this appears to lead to problems with the SD card reader in the AAO, a second method is listed below to try in case of errors.
</p>
<h5><span class="mw-headline" id="Method_1:_fstab_entry">Method 1: fstab entry</span></h5>
<p>Define a mount option in <code>/etc/fstab</code>as defined in <a href="#Mounting_Options">Mounting Options</a>. Do not forget to change the folder which it is to be mounted on, it should be <code>/home</code>.
</p>
<p>If you already have something in your <code>/home</code> folder you need to save a backup in order to upon mounting the SD expansion you have the same files as before so you can try this:
</p>
<pre>$ tar -cfg /home.tar /home</pre>
<p>Now you can mount the device and put the backup there. Remember to put the line in fstab first and back up <code>/home</code> first!
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Back up <code>/home</code> first. Always think twice before pressing return after <code>rm</code>.</div>
<pre>$  rm -rf /home/*
$  mount /home
$  tar -xvf /home.tar -C /home/
$  rm /home.tar</pre>
<h5><span class="mw-headline" id="Method_2:_rc.local_entry">Method 2: rc.local entry</span></h5>
<p>For making rc.local work with systemd, see: <a rel="nofollow" class="external free" href="https://superuser.com/questions/278396/systemd-does-not-run-etc-rc-local">https://superuser.com/questions/278396/systemd-does-not-run-etc-rc-local</a>
</p>
<p>Mounting <code>/home</code> on your SD card through fstab occasionally appears to lead to a problem described in <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=913240#p913240">this</a> forum thread, where the SD card gives a "FILESYSTEM CHECK FAILED" error during init on alternating boot-ups. This appears to have to do with the slower nature of SD-cards, and the system trying to mount the card before it is fully initialised.
</p>
<p>
An alternative method for mounting the SD card is adding  </p>
<pre>( sleep 4; mount /dev/mmcblk0p1 -t xfs -o defaults,noatime /home )&amp;</pre>
<p>  to <code>/etc/rc.local</code>, and removing the entry of your SD card from <code>/etc/fstab</code>. 
</p>
<p>This command mounts the SD card with a 4 second delay, assuming you partitioned the card with the xfs filesystem. The ampersand after the command backgrounds the process, allowing the system to continue booting while the card mounts. 
</p>
<p>
Find your SD card's UUID by issuing </p>
<pre>$ ls -l /dev/disk/by-uuid/</pre>
<p> or </p>
<pre># blkid</pre>
<h3><span class="mw-headline" id="Regulating_the_CPU_fan">Regulating the CPU fan</span></h3>
<p>Letting the BIOS regulate the cpu fan results in a noisy monster of a netbook. You can override the default fan settings by using either <code>acerhdf</code> (recommended method) or <code>acerfand</code> (<b>not</b> recommended) based on two scripts.
</p>
<h4><span class="mw-headline" id="acerhdf">acerhdf</span></h4>
<p>The acerhdf kernel module regulates the fan in a performant and secure way.
</p>
<p>From kernel 2.6.31 on the acerhdf module is provided inside the kernel tree. Therefore it comes precompiled with the linux, linux-one and linux-one-dev packages.
</p>
<pre>options acerhdf verbose=0 fanon=67000 fanoff=62000 interval=10 kernelmode=1
</pre>
<p>Or, to make the fan be more active and cool the AAO more, but make more noise:
</p>
<pre>options acerhdf verbose=0 fanon=62000 fanoff=52000 interval=10 kernelmode=1
</pre>
<p>The module option "kernelmode=1" automatically activates acerhdf's function.
</p>
<h3><span class="mw-headline" id="Using_the_Super_key_for_middle-clicking">Using the Super key for middle-clicking</span></h3>
<p>When browsing the web, a third mouse button is a great help for opening links in tabs. Unfortunately, there is no third mouse button on the Acer Aspire One.
</p>
<p>However, one can configure one of the keys on the keyboard for acting like a third mouse button instead. (The Super key is the one with a picture of a little house, or on models that do not have a little house, the key between the fn and alt).
</p>
<h4><span class="mw-headline" id="Using_FVWM_2">Using FVWM 2</span></h4>
<p>Add these two lines to your .fvwm/.fvwm2rc (or just add the second line to your favorite startup function):
</p>
<pre>AddToFunc StartFunction
+ I Key Super_L A N FakeClick depth 0 press 2 wait 200 release 2
</pre>
<h4><span class="mw-headline" id="Using_xte">Using xte</span></h4>
<ol>
<li>Install xautomation, which includes xte</li>
<li>Set up your windowmanager to execute this command at the press of the Super key:</li>
</ol>
<pre>xte "mouseclick 2"
</pre>
<h4><span class="mw-headline" id="Using_xbindkeys">Using xbindkeys</span></h4>
<p>Add this line to your <b>~/.xbindkeysrc.scm</b>:
</p>
<pre> (xbindkey '("Super_L") "xte 'mouseclick 2 &amp;'")
</pre>
<h3><span class="mw-headline" id="SSD_specific_tweaks">SSD specific tweaks</span></h3>
<p>See <a href="../en/Solid_state_drive.html" class="mw-redirect" title="Solid State Drives">Solid State Drives</a>.
</p>
<h3><span class="mw-headline" id="Updating_the_BIOS">Updating the BIOS</span></h3>
<p>Aspire one been shipped with two kind of InsydeH2O BIOS firmware:<sup><a rel="nofollow" class="external autonumber" href="https://www.acer.com/ac/en/ID/content/support-product/4253;-;AO725">[2]</a></sup>
</p>
<ul>
<li>Legacy BIOS V1.0.0 comes with preinstalled Windows 7 Starter 32 bit, called just "<i>BIOS</i>"</li>
<li>UEFI V2.0.0 comes with preinstalled Windows 8, called "<i>BIOS - UEFI for Windows 8 (Not for Upgrades)</i>"</li>
</ul>
<p>"Not for Upgrades" means not for those, who "upgraded" Windows 7 with Windows 8. Official Acer BIOS update utility for Windows forbids update BIOS V1.* to UEFI V2.* (installer raises an error "<i>Not allow to flash secure BIOS on current platform</i>"). Fortunately even old AMD C-60 hardware (e.g. Acer Aspire One 725-c68kk) able to run UEFI V2.* with x86_64 support and there is a way to force install it.<sup><a rel="nofollow" class="external autonumber" href="https://catchtito.blogspot.com/2013/05/how-to-update-to-2x-bios-from-1x-bios.html">[3]</a><a rel="nofollow" class="external autonumber" href="https://www.bios-mods.com/forum/Thread-Upgrade-Bios-To-UEFI-Insyde?pid=159051#pid159051">[4]</a></sup>
</p>
<h4><span class="mw-headline" id="Using_FreeDOS">Using FreeDOS</span></h4>
<p>This method needs to be tested and finetuned. Note that not all USB-disks are possible to boot from.
</p>
<ul>
<li>Install <a rel="nofollow" class="external text" href="http://unetbootin.sourceforge.net/">unetbootin</a>
</li>
<li>Use unetbootin to put FreeDOS on an USB stick</li>
<li>Download the latest BIOS from the Acer webpage (latest is 3310)</li>
<li>Unzip the BIOS-files to the USB stick</li>
<li>Reboot and configure the BIOS to boot from the USB stick before the SSD/HDD</li>
<li>Start the BIOS update utility (3310.BAT)</li>
<li>Reboot</li>
<li>Configure the BIOS to start from the SSD/HDD first again</li>
<li>Done</li>
</ul>
<h5><span class="mw-headline" id="AOD150">AOD150</span></h5>
<p>The bios upgrades on the acer aspire site for the AOD150 line all want you to run it on windows. Here is how the author avoided it (The author does not understand this subject; she just guessed. Again, you are messing with your BIOS and this is not an officially condoned method, so there is a risk you will brick your netbook. You have been warned.):
</p>
<ul>
<li>Install <a rel="nofollow" class="external text" href="http://unetbootin.sourceforge.net/">unetbootin</a>
</li>
<li>Use unetbootin to put FreeDOS on an USB stick</li>
<li>
<b>Here is where it changes</b>
<ul>
<li>Download the latest BIOS from the Acer webpage, for the AOA150 (latest is 3310). Note that this is the incorrect BIOS for your AOD150 model. From this zip file, you will be using everything except the actual BIOS image.</li>
<li>Download the latest BIOS from the Acer webpage, for the AOD150 (latest is 1.09). Note that this is the correct BIOS, but requires windows to use, so you are only going to use the BIOS image from this file.</li>
<li>Unzip the AOA150 zip file to a scratch directory. You may, for instance, get four files: a .bat file, a .fd file, flashit.exe, and a readme.txt. Copy everything but the .fd file onto your usb drive.</li>
<li>Unzip the AOD150 zip file to a scratch directory. It should result in an exe file (KAV10109.exe) and a readme.txt. Now you have to get the .fd file from the .exe.</li>
<li>Run the exe file using wine. It will extract some files, and then show an error from InsydeFlash complaining that it cannot load the drivers. <i>Do not</i> click 'Okay' yet.</li>
<li>Alt-tab to a terminal, and cd into your wine installation's windows temp directory. Mine is $HOME/.wine/drive_c/windows/temp</li>
<li>There should be directory there with the contents of what the exe file extracted. Mine is 7zSe6a.tmp/. If you cannot find it, you can run 'find . -iname InsydeFlash.exe', and whatever directory that file is in is what you want.</li>
<li>Inside that directory should be a file with a .fd extension. Copy this file to your usb drive, alongside the .bat and .exe file you copied before.</li>
<li>You can click 'Okay' and close your wine session now. This will clean up the temp directory, which is why you left it open.</li>
<li>Now cd into your usb drive and edit the .bat file in a text editor of your choice. In it should be a line that calls flashit with one of the arguments being the .fd file for the AOA150. Mine is '3310.fd'. Delete this, and replace it with the name of the file you just copied from the AOD150's installation. The contents of the batch file should now look something like:</li>
</ul>
</li>
</ul>
<pre>flashit KAV10.fd /mc /all /dc
</pre>
<ul>
<li><ul><li><b>You have now finished prepping your usb drive</b></li></ul></li>
<li>Reboot and configure the BIOS to boot from the USB stick before the SSD/HDD</li>
<li>Start the BIOS update utility (3310.BAT)</li>
<li>Reboot</li>
<li>Configure the BIOS to start from the SSD/HDD first again</li>
<li>Done</li>
<li>Note that when the author upgraded her BIOS, resuming from a suspend stopped working (blank screen, no keyboard response). To fix that, she removed the mtrr-related parameters from her kernel command-line in /boot/grub/menu.lst (enable_mtrr_cleanup mtrr_spare_reg_nr=1), which she had added before to fix some register quirks for the intel graphics card.</li>
</ul>
<h4><span class="mw-headline" id="Using_Flashrom">Using Flashrom</span></h4>
<p>Flashrom can be used to flash the BIOS directly from Linux.
It does not currently seem to support AA1, but it might be worth watching the flashrom-svn package in AUR.
See also: <a rel="nofollow" class="external free" href="https://flashrom.org/Flashrom">https://flashrom.org/Flashrom</a>
</p>
<h4><span class="mw-headline" id="Instructions_by_Acer_for_AOA110_and_AOA150">Instructions by Acer for AOA110 and AOA150</span></h4>
<p>This <a rel="nofollow" class="external text" href="http://netbooks-us.custhelp.com/app/answers/detail/a_id/133/~/update-bios-on-aoa110-or-aoa150/">routine</a><sup title="Last check status: domain name not resolved">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-03-28 ⓘ]</sup> requires nothing more than that a couple of files are copied to a flash drive, and is confirmed to work on AOA110. In case the link does not work here is an exact quote: 
</p>
<pre>Updating the BIOS will require a USB flash drive to store the BIOS information on during the update. To perform the update to the BIOS:
  1. Go here, click on the BIOS tab and download and extract the latest BIOS for the netbook.
  2. The files required will be in the Dos_Flash subdirectory.
  3. Rename the BIOS file from 3310.fd to zg5ia32.fd.
  4. Copy zg5ia32.fd and Flashit.exe to USB flash drive
  5. Ensure that the AC adapter is plugged in.
  6. Insert the USB flash drive into a USB port.
  7. Press and Hold down the Fn and the Esc keys together and press the power button.
  8. When the unit's power light comes on wait a few seconds and release the Fn and Esc keys.
  9. After the keys have been released the power light will start to blink.
 10. During the BIOS update process the display will be blank.
 11. Let the unit run and after approximately 1 to 7 minutes, the unit should reboot and the BIOS will be updated.

If the unit fails to reboot, or the BIOS was not updated sucessfully, try the steps again. If the problem persists, the netbook may need service.

Note: These instructions are only for the Acer Aspire One AOA110 and the AOA150 netbook series and should not be performed on any other model Acer Aspire One.
</pre>
<h3><span class="mw-headline" id="Compiling_for_the_Atom_processor">Compiling for the Atom processor</span></h3>
<p>In /etc/makepkg.conf, set <code>-march=atom</code> and <code>-mtune=atom</code>
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="http://aspireoneuser.com">AspireOneUser.com</a></li>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=51796">Arch Forum</a></li>
<li><a rel="nofollow" class="external text" href="https://help.ubuntu.com/community/AspireOne">Install Ubuntu Hardy Heron (8.04.1) on Acer Aspire One</a></li>
<li><a rel="nofollow" class="external text" href="http://wiki.debian.org/DebianAcerOne">Installing Debian on Acer Aspire One</a></li>
<li><a rel="nofollow" class="external text" href="https://web.archive.org/web/20110630065944/http://www.aspireoneuser.com/forum/viewforum.php?f=5">AspireOneUser Forum</a></li>
<li><a rel="nofollow" class="external text" href="http://moblin.org/search/node/acer%20aspire%20one">Moblin on Acer Aspire One</a></li>
<li><a rel="nofollow" class="external text" href="https://macles.blogspot.com">Macles Blog</a></li>
<li><a rel="nofollow" class="external text" href="https://www.thev.net/PaulLiu/acer_aspire_one.html?stamp=1222950371">Slackware on Acer Aspire One</a></li>
<li><a rel="nofollow" class="external text" href="https://web.archive.org/web/20140227191907/http://ftp.twaren.net/Linux/Linpus/Aspire_One_Linpus_Linux">Acer ftp-Server with Sources</a></li>
<li>
<a rel="nofollow" class="external text" href="http://iki.fi/dt/minilaptop.html">My new, old notebook</a><sup title="Last check status: SSL error">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-05-24 ⓘ]</sup>
</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Acer.html" title="Category:Acer">Acer</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Acer_Aspire_One&amp;oldid=654586">https://wiki.archlinux.org/index.php?title=Acer_Aspire_One&amp;oldid=654586</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 12 March 2021, at 15:10.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
