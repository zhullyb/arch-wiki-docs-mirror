<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Chromebook Pixel 2 - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Chromebook_Pixel_2 rootpage-Chromebook_Pixel_2 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Chromebook Pixel 2</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section does not follow the <a href="../en/Help:Laptop_page_guidelines.html" title="Help:Laptop page guidelines">Laptop page guidelines</a>.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Stub (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Chromebook_Pixel_2">Talk:Chromebook Pixel 2#</a>)</div>
</div>
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/Chrome_OS_devices.html" title="Chrome OS devices">Chrome OS devices</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> This article relies on third-party scripts and modifications, and may irreparably damage your hardware or data. Proceed at your own risk.</div>
<p>This page details installing Arch Linux on the Google Chromebook Pixel (2015).  It is commonly referred to as the Chromebook Pixel 2, sometimes referred to by its codename Samus, and sometimes called the Chromebook Pixel LS (which stands for "Ludicrous Speed") when referring to the upgraded version with a Intel Core i7.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#GRUB"><span class="tocnumber">1.1</span> <span class="toctext">GRUB</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3">
<a href="#Linux"><span class="tocnumber">2</span> <span class="toctext">Linux</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Suspend"><span class="tocnumber">2.1</span> <span class="toctext">Suspend</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5">
<a href="#Audio,_Brightness,_and_Touch"><span class="tocnumber">3</span> <span class="toctext">Audio, Brightness, and Touch</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Audio_scripts_fail"><span class="tocnumber">3.1</span> <span class="toctext">Audio scripts fail</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Kernel_5.5_Audio_Issues"><span class="tocnumber">3.2</span> <span class="toctext">Kernel 5.5 Audio Issues</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Enable_pulseaudio-alsa_without_scripts"><span class="tocnumber">3.3</span> <span class="toctext">Enable pulseaudio-alsa without scripts</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Keyboard_Bindings"><span class="tocnumber">4</span> <span class="toctext">Keyboard Bindings</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Unresolved_Issues"><span class="tocnumber">5</span> <span class="toctext">Unresolved Issues</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#See_Also"><span class="tocnumber">6</span> <span class="toctext">See Also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<ol>
<li>
<a href="../en/Chrome_OS_devices.html#Enabling_developer_mode" title="Chrome OS devices">Enable developer mode</a>.</li>
<li>
<a href="../en/Chrome_OS_devices.html#Accessing_the_superuser_shell" title="Chrome OS devices">Use the superuser shell</a> in order to <a href="../en/Chrome_OS_devices.html#Boot_to_SeaBIOS_by_default" title="Chrome OS devices">enable SeaBIOS</a>.</li>
<li>You have the option to <a href="../en/Chrome_OS_devices.html#Boot_to_SeaBIOS_by_default" title="Chrome OS devices">Boot to SeaBIOS by default</a> so you can boot without any keyboard shortcuts.</li>
<li>
<a href="../en/Chrome_OS_devices.html#Installing_Arch_Linux" title="Chrome OS devices">Install Arch Linux</a>.</li>
<li>Continue reading below to correctly configure GRUB before rebooting.</li>
</ol>
<h3><span class="mw-headline" id="GRUB">GRUB</span></h3>
<p>GRUB does not detect the correct video mode and does not display the menu by default. <tt>GRUB_GFXMODE</tt> is set to auto.    Using <tt>vbeinfo</tt>, on the grub command line, it's detected at <tt>1280x850x16</tt>.  The options to display the menu are to either turn off <tt>GRUB_GFXMODE</tt> or set the correct display. In <code>/etc/default/grub</code> either,
</p>
<pre>GRUB_TERMINAL_OUTPUT=console
</pre>
<p>or,
</p>
<pre>GRUB_GFXMODE=1280x850x16
</pre>
<p>and then run
</p>
<pre>grub-mkconfig -o /boot/grub/grub.cfg
</pre>
<p>to update the config.
</p>
<p>If you forget to do this you can boot off the installation media again mount your disks and <tt>arch-chroot</tt> in.
</p>
<h2><span class="mw-headline" id="Linux">Linux</span></h2>
<p>Touchpad, touchscreen, and audio have been working in the vanilla Linux kernel since v4.9, but <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linux-samus4/">linux-samus4</a></span><sup><small>AUR</small></sup> comes with a config that is somewhat optimized for the Chromebook Pixel (2015).
</p>
<h3><span class="mw-headline" id="Suspend">Suspend</span></h3>
<p>Since kernel 5.x suspend seems to not work out-of-the-box anymore and instead shuts down when lid is closed. Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=acpi">acpi</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tpm2-tools">tpm2-tools</a></span>, then create <code>/etc/modprobe.d/suspend.conf</code> with
</p>
<pre>options tpm_tis force=1 interrupts=0
</pre>
<p>This should make suspend work on lid close.
</p>
<h2>
<span id="Audio.2C_Brightness.2C_and_Touch"></span><span class="mw-headline" id="Audio,_Brightness,_and_Touch">Audio, Brightness, and Touch</span>
</h2>
<p>The source for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linux-samus4/">linux-samus4</a></span><sup><small>AUR</small></sup> contains some helpful scripts<a rel="nofollow" class="external autonumber" href="https://github.com/raphael/linux-samus/tree/master/scripts/setup">[1]</a> that aren't distributed in the package, but can instead be installed in a derivative package called <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/samus-scripts/">samus-scripts</a></span><sup><small>AUR</small></sup>. These are helpful for managing audio (e.g. switching between speaker and headphone output), setting screen backlight and keyboard LED brightness, and fixing the Atmel maXTouch bug (see <a href="#Unresolved_Issues">#Unresolved Issues</a>).
</p>
<h3><span class="mw-headline" id="Audio_scripts_fail">Audio scripts fail</span></h3>
<p>If audio scripts from above don't work, create <code>/etc/modprobe.d/audio.conf</code> with
</p>
<pre>options snd_soc_sst_bdw_rt5677_mach index=0 
options snd-hda-intel index=1
</pre>
<p>and make sure to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-alsa">pulseaudio-alsa</a></span>
</p>
<h3><span class="mw-headline" id="Kernel_5.5_Audio_Issues">Kernel 5.5 Audio Issues</span></h3>
<p>After Linux Kernel 5.5, there is an extra kernel options to enable SST audio driver for bdw-rt5677 (Which is initially disabled after 5.5).
Add the following switches in the kernel boot parameters to enable audio
</p>
<pre>snd_intel_dspcfg.dsp_driver=2
</pre>
<h3><span class="mw-headline" id="Enable_pulseaudio-alsa_without_scripts">Enable pulseaudio-alsa without scripts</span></h3>
<p>The hardware and driver mismatch the left and right channel, and it is defaultly muted.
Just open alsamixer, and turn on the following switches will make audio works
</p>
<pre>Stereo DAC MIXL DAC1 R
Stereo DAC MIXR DAC1 L
</pre>
<p>This switches will make all audio works, and enable the autoswitch to headphone when connected. (If no other scripts make the audio works, linux-samus's sripts will make the autoswitch failed)
</p>
<h2><span class="mw-headline" id="Keyboard_Bindings">Keyboard Bindings</span></h2>
<p><a rel="nofollow" class="external text" href="https://archlinux.org/packages/extra/any/xkeyboard-config/">xkeyboard-config 2.16-1</a> added a <tt>chromebook</tt> model that enables the Chrome OS style functions for the function keys.  You can, for example, set this using <tt>localectl set-x11-keymap us chromebook</tt>.  See the <tt>chromebook</tt> definition in <tt>/usr/share/X11/xkb/symbols/inet</tt> for the full mappings.
</p>
<p>The search button acts as a <code>Super_L</code> key, which may be undesirable for keyboard layouts that make good use of this position. Using <a href="../en/Xmodmap.html" title="Xmodmap">xmodmap</a>, you can rebind this to whatever you would like. Example using <code>Tab</code> for a keyboard layout with six layers:
</p>
<pre>$ xmodmap -e "keycode 133 = Tab Tab Tab Tab Tab Tab"
</pre>
<p>Add this to your .xinitrc to load at login.
</p>
<h2><span class="mw-headline" id="Unresolved_Issues">Unresolved Issues</span></h2>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xkeyboard-config">xkeyboard-config</a></span> provides a <tt>chromebook</tt> model which can be specified, for example, with <tt>localectl set-x11-keymap us chromebook</tt> but when using <a href="../en/GNOME.html" title="GNOME">GNOME</a> on <a href="../en/Wayland.html" title="Wayland">Wayland</a> the model is not recognized. The media keys still behave as function keys and <tt>setxkbmap -print -verbose 10</tt> doesn't show the <tt>chromebook</tt> model being used.</li>
<li>Touchpad occasionally doesn't work after waking from sleep using linux 4.9-1+. If this happens, reloading the touchpad driver via <tt>sudo modprobe -r atmel_mxt_ts &amp;&amp; sudo modprobe atmel_mxt_ts</tt> usually restores touchpad functionality. This fix is also available as <tt>enable-touch</tt> from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/samus-scripts/">samus-scripts</a></span><sup><small>AUR</small></sup>.</li>
</ul>
<h2><span class="mw-headline" id="See_Also">See Also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=194962">Laptop Issues » Google Chromebook Pixel 2</a></li>
<li><a rel="nofollow" class="external text" href="https://www.chromium.org/chromium-os/developer-information-for-chrome-os-devices/chromebook-pixel-2015">Chromium OS Developer Information for Chromebook Pixel (2015)</a></li>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=246716">tpm bug: systemctl suspend turns off computer</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Chrome_OS_devices.html" title="Category:Chrome OS devices">Chrome OS devices</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Laptop_style.html" title="Category:Pages or sections flagged with Template:Laptop style">Pages or sections flagged with Template:Laptop style</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Chromebook_Pixel_2&amp;oldid=656936">https://wiki.archlinux.org/index.php?title=Chromebook_Pixel_2&amp;oldid=656936</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 31 March 2021, at 12:06.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
