<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>MSI P15 - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-MSI_P15 rootpage-MSI_P15 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">MSI P15</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section does not follow the <a href="../en/Help:Laptop_page_guidelines.html" title="Help:Laptop page guidelines">Laptop page guidelines</a>.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Needs more entries and IDs in hardware table, lacks function keys table (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:MSI_P15">Talk:MSI P15#</a>)</div>
</div>
<p>This laptop may also be known as Prestige 15 or A10SC
</p>
<table class="wikitable" style="float: right;">

<tbody>
<tr>
<th>Hardware</th>
<th>PCI/USB ID</th>
<th>Working?
</th>
</tr>
<tr>
<td>Touchpad</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Keyboard</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>GPU (Intel)</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>GPU (nvidia)</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Webcam</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Wireless</td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Fingerprint reader</td>
<td><code>06cb:009b</code></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No
</td>
</tr>
</tbody>
</table>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Wireless"><span class="tocnumber">2</span> <span class="toctext">Wireless</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#Function_keys"><span class="tocnumber">3</span> <span class="toctext">Function keys</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Home_and_End_buttons"><span class="tocnumber">3.1</span> <span class="toctext">Home and End buttons</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Fingerprint_reader"><span class="tocnumber">4</span> <span class="toctext">Fingerprint reader</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Hibernation"><span class="tocnumber">5</span> <span class="toctext">Hibernation</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>SecureBoot needs to be disabled at first startup, but it can be configured later. This laptop supports SecureBoot keys reset to factory and custom keys install.
To access advanced options in bios, press R_alt+L_ctrl+L_shift+F2 after entering bios.
</p>
<h2><span class="mw-headline" id="Wireless">Wireless</span></h2>
<p>Sometimes the Wi-Fi card it gets stuck on startup and needs reset, which can also be accomplished by reloading iwlwifi, iwlmvm and restarting wpa_supplicant.
</p>
<h2><span class="mw-headline" id="Function_keys">Function keys</span></h2>
<p>All the Fn keys should work out of the box, but <code>Fn12</code>, <code>Fn4</code>, <code>Fn5</code> and <code>Fn7</code>. The latter does not send an Fn input, but rather the proper <code>F7</code> key, so this can be easily assigned.
About the other Fn keys, <code>Fn+F4</code> maps as the keycode 93, so it can be assigned to its original function (touchpad toggle) with <a href="../en/Xmodmap.html" title="Xmodmap">xmodmap</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"> ~/.Xmodmap</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">keycode  93 = XF86TouchpadToggle NoSymbol XF86TouchpadToggle</pre>
<p>About <code>Fn5</code> and <code>Fn12</code>, these send a keycode, and needs to be configured asd described in <a href="../en/Map_scancodes_to_keycodes.html" title="Map scancodes to keycodes">Map scancodes to keycodes</a> using <code>udev</code> instead of <code>setkeycodes</code>, as the latter does not seem to work properly. This is achieved modifying the file <code>/lib/udev/hwdb.d/60-keyboard.hwdb</code> or otherwise, adding at the end of the <code># Micro-Star</code> section the followings:
</p>
<pre>evdev:atkbd:dmi:bvn*:bvr*:bd*:svnMicro-Star*:pn*A10SC*:pvr*
 KEYBOARD_KEY_f1=f20
 KEYBOARD_KEY_f2=f21
</pre>
<p>The microphone mute button should now work out of the box, but the rotate screen one does need a script that toggles the rotation. This can be accomplished by this script
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">toggle_rotation.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
# This shell script is PUBLIC DOMAIN. You may do whatever you want with it.

TOGGLE=/tmp/.toggle

if [Â ! -e $TOGGLE ]; then
    touch $TOGGLE
    xrandr -o inverted
else
    rm $TOGGLE
    xrandr -o normal
fi
</pre>
<p>which will need to be saved somewhere with execution permissions, then added to the shortcut menu in the currently used Desktop Environment and lastly enabled to be triggered by <code>Fn12</code>. Afterwards, please update the hardware database by running <code>systemd-hwdb update &amp;&amp; udevadm trigger</code> as root.
</p>
<h3><span class="mw-headline" id="Home_and_End_buttons">Home and End buttons</span></h3>
<p>These buttons are mapped to <code>AltGr+PgUp</code> and <code>AltGr+PgDown</code> respectively. A helpful solution is to modify the current layout in <code>/usr/share/X11/xkb/symbols/$LAYOUT</code>, where LAYOUT is the current keyboard layout. This is accomplished by writing the following two lines in the default section of the file:
</p>
<pre>   key &lt;PGUP&gt;  { [     Prior,      Prior,         Home,    Home      ] };
   key &lt;PGDN&gt;  { [      Next,       Next,          End,    End       ] };
</pre>
<h2><span class="mw-headline" id="Fingerprint_reader">Fingerprint reader</span></h2>
<p>The fingerprint sensor implementation is not currently functioning but there are some promising projects.
</p>
<p><a rel="nofollow" class="external text" href="https://github.com/uunicorn/python-validity">python-validity</a> and <a rel="nofollow" class="external text" href="https://github.com/tester1969/pam-validity">pam-validity</a>.
</p>
<p>There is also the <a rel="nofollow" class="external text" href="https://github.com/nmikhailov/Validity90">Validity90</a> project on GitHub to port the Synaptics 06cb:009b device to Linux - but this project has not seen work in years.
</p>
<h2><span class="mw-headline" id="Hibernation">Hibernation</span></h2>
<p>If after hibernation the laptop does not power off but reboots, it is necessary to modify <code>/etc/systemd/sleep.conf</code> to the following:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/sleep.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">HibernateMode=shutdown</pre>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:MSI.html" title="Category:MSI">MSI</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Laptop_style.html" title="Category:Pages or sections flagged with Template:Laptop style">Pages or sections flagged with Template:Laptop style</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=MSI_P15&amp;oldid=658552">https://wiki.archlinux.org/index.php?title=MSI_P15&amp;oldid=658552</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 9 April 2021, at 12:26.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
