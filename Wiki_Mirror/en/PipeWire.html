<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>PipeWire - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-PipeWire rootpage-PipeWire skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">PipeWire</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/PipeWire/Examples.html" title="PipeWire/Examples">PipeWire/Examples</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="http://pipewire.org">PipeWire</a> is a new multimedia framework by GNOME. The main developer is Wim Taymans.
</p>
<p>PipeWire supports containers like <a href="../en/Flatpak.html" title="Flatpak">Flatpak</a> and does not rely on <a href="../en/Users_and_groups.html#Group_management" class="mw-redirect" title="User group">user groups</a> <i>audio</i> and <i>video</i>, but rather uses a <a href="../en/Polkit.html" title="Polkit">Polkit</a>-like security model asking Flatpak or Wayland for permission to record screen or audio.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#WebRTC_screen_sharing"><span class="tocnumber">2.1</span> <span class="toctext">WebRTC screen sharing</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Video"><span class="tocnumber">2.2</span> <span class="toctext">Video</span></a></li>
<li class="toclevel-2 tocsection-5">
<a href="#Audio"><span class="tocnumber">2.3</span> <span class="toctext">Audio</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#ALSA/Legacy_applications"><span class="tocnumber">2.3.1</span> <span class="toctext">ALSA/Legacy applications</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#PulseAudio_clients"><span class="tocnumber">2.3.2</span> <span class="toctext">PulseAudio clients</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#JACK_clients"><span class="tocnumber">2.3.3</span> <span class="toctext">JACK clients</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#Bluetooth_devices"><span class="tocnumber">2.3.4</span> <span class="toctext">Bluetooth devices</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#Run_PipeWire_on_top_of_native_JACK"><span class="tocnumber">2.3.5</span> <span class="toctext">Run PipeWire on top of native JACK</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-11">
<a href="#Audio_post-processing"><span class="tocnumber">3</span> <span class="toctext">Audio post-processing</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#PulseEffects"><span class="tocnumber">3.1</span> <span class="toctext">PulseEffects</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13">
<a href="#Troubleshooting"><span class="tocnumber">4</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#Microphone_is_not_detected_by_PipeWire"><span class="tocnumber">4.1</span> <span class="toctext">Microphone is not detected by PipeWire</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#No_sound_after_connecting_to_Bluetooth_device"><span class="tocnumber">4.2</span> <span class="toctext">No sound after connecting to Bluetooth device</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Low_volume"><span class="tocnumber">4.3</span> <span class="toctext">Low volume</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Increasing_RLIMIT_MEMLOCK"><span class="tocnumber">4.4</span> <span class="toctext">Increasing RLIMIT_MEMLOCK</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#External_sound_card_not_activated_after_reconnect"><span class="tocnumber">4.5</span> <span class="toctext">External sound card not activated after reconnect</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#No_Sound_or_pactl_info_shows_Failure:_Connection_refused"><span class="tocnumber">4.6</span> <span class="toctext">No Sound or pactl info shows Failure: Connection refused</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-20"><a href="#See_also"><span class="tocnumber">5</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pipewire">pipewire</a></span> package from the official repositories.
</p>
<p>Pipewire uses <a href="../en/Systemd/User.html" title="Systemd/User">Systemd/User</a> for management of the server and automatic socket activation. See the respective <a href="../en/Systemd/User.html" title="Systemd/User">Systemd/User</a> for more details on the startup behavior and logging of the service.
</p>
<p>Optionally, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pipewire-docs">pipewire-docs</a></span> to review the documentation. Other packages, such as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pipewire-alsa">pipewire-alsa</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pipewire-pulse">pipewire-pulse</a></span>, and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pipewire-jack">pipewire-jack</a></span> are normally not needed unless one wants to <a href="#Audio">use PipeWire as a PulseAudio/JACK replacement</a>. Also available are <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lib32-pipewire/">lib32-pipewire</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lib32-pipewire-pulse-git/">lib32-pipewire-pulse-git</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>, and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lib32-pipewire-jack/">lib32-pipewire-jack</a></span><sup><small>AUR</small></sup> for multilib support.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<h3><span class="mw-headline" id="WebRTC_screen_sharing">WebRTC screen sharing</span></h3>
<p>Most browsers used to rely on X11 for capturing the desktop (or individual applications) when using WebRTC (e.g. on Google Hangouts). On Wayland, the sharing mechanism is handled differently for security reasons. PipeWire enables sharing content under Wayland with fine-grained access controls.
</p>
<p>This requires <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xdg-desktop-portal">xdg-desktop-portal</a></span> and one of its backends <a rel="nofollow" class="external text" href="http://jgrulich.cz/2018/07/04/how-to-enable-and-use-screen-sharing-on-wayland">to be installed</a>. The available backends are:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xdg-desktop-portal-gtk">xdg-desktop-portal-gtk</a></span> for GNOME.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xdg-desktop-portal-kde">xdg-desktop-portal-kde</a></span> for KDE.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xdg-desktop-portal-wlr">xdg-desktop-portal-wlr</a></span> for Wlroots-based compositor (e.g. <a href="../en/Sway.html" title="Sway">Sway</a>, dwl)</li>
</ul>
<p>Firefox (84+) supports this method by default, while on Chromium (73+) one needs to enable <a rel="nofollow" class="external text" href="https://bugs.chromium.org/p/chromium/issues/detail?id=682122">WebRTC PipeWire support</a> by setting the corresponding (experimental) flag at the following URL
</p>
<pre>chrome://flags/#enable-webrtc-pipewire-capturer
</pre>
<p>For <code>xdg-desktop-portal-wlr</code> to work you need to set <code>XDG_CURRENT_DESKTOP</code><a rel="nofollow" class="external autonumber" href="https://github.com/emersion/xdg-desktop-portal-wlr#running">[1]</a>:
</p>
<pre>export XDG_CURRENT_DESKTOP=sway
</pre>
<p>Note, since Chromium is currently using PipeWire 0.2 whereas Arch ships PipeWire 0.3, you also need to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libpipewire02">libpipewire02</a></span> for screen sharing to work.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> To share an individual monitor with <code>xdg-desktop-portal-wlr</code> if you have more than one, you can add the <code>--output=<i>Monitor</i></code> flag to it by <a href="../en/Systemd.html#Editing_provided_units" title="Systemd">editing</a> the <code>ExecStart=</code> option in the unit's service file. The complete line could look like <code>ExecStart=@libexecdir@/xdg-desktop-portal-wlr --output=eDP-1</code>
</div>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Since <a rel="nofollow" class="external text" href="https://github.com/flatpak/xdg-desktop-portal-gtk/pull/225">this pull request</a> was merged, the following note about specific app/window sharing may be not correct anymore for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xdg-desktop-portal-gtk">xdg-desktop-portal-gtk</a></span>. Also see the ticket tracking the discussion at <a rel="nofollow" class="external autonumber" href="https://github.com/flatpak/xdg-desktop-portal-gtk/issues/204">[2]</a>. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:PipeWire">Talk:PipeWire#</a>)</div>
</div>
<p>Note that the only supported feature is sharing the entire desktop and not a specific app/window <a rel="nofollow" class="external autonumber" href="https://github.com/emersion/xdg-desktop-portal-wlr/wiki/FAQ#will-this-let-me-share-individual-windows">[3]</a><a rel="nofollow" class="external autonumber" href="https://github.com/KDE/xdg-desktop-portal-kde/blob/master/TODO">[4]</a>.
</p>
<h3><span class="mw-headline" id="Video">Video</span></h3>
<p>Although the software is not yet production-ready, it is safe to play around with. Most applications that rely on <a href="../en/GStreamer.html" title="GStreamer">GStreamer</a> to handle e.g. video streams should work out-of-the-box thanks to the PipeWire GStreamer plugin. Applications like e.g. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cheese">cheese</a></span> are therefore already able to share video input using it.
</p>
<h3><span class="mw-headline" id="Audio">Audio</span></h3>
<p>PipeWire can be used as an audio server, similar to PulseAudio and JACK. It aims to replace both PulseAudio and JACK, by providing a PulseAudio-compatible server implementation and ABI-compatible libraries for JACK clients. See <a rel="nofollow" class="external text" href="https://blogs.gnome.org/uraeus/2020/09/04/pipewire-late-summer-update-2020/">this blog entry</a> for more information.
</p>
<h4>
<span id="ALSA.2FLegacy_applications"></span><span class="mw-headline" id="ALSA/Legacy_applications">ALSA/Legacy applications</span>
</h4>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pipewire-alsa">pipewire-alsa</a></span> to route all application using the ALSA API through PipeWire.
</p>
<h4><span class="mw-headline" id="PulseAudio_clients">PulseAudio clients</span></h4>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pipewire-pulse">pipewire-pulse</a></span>. Normally, no further action is needed, as the user service <code>pipewire-pulse.socket</code> should be enabled automatically by the package. If PipeWire does not work correctly on system startup, validate that the user services <code>pipewire-pulse.service</code> and <code>pipewire.service</code> are up and running. See <a href="../en/Systemd/User.html" title="Systemd/User">Systemd/User</a>.
</p>
<p>Reboot or re-login to see the effect.
</p>
<p>To check if the replacement is working, run the following command and see the output:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ pactl info</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
Server Name: PulseAudio (on PipeWire 0.3.16)
...</pre>
<h4><span class="mw-headline" id="JACK_clients">JACK clients</span></h4>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pipewire-jack">pipewire-jack</a></span> and use <code>pw-jack</code> to launch JACK clients with the compatible libraries instead of the original <code>libjack*</code>:
</p>
<pre>pw-jack <i>application</i>
</pre>
<p>It's also possible to request a custom buffer size by setting a quotient of buffersize/samplerate (which equals the block latency in seconds):
</p>
<pre>PIPEWIRE_LATENCY="128/48000" pw-jack <i>application</i>
</pre>
<p>Alternatively, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pipewire-jack-dropin/">pipewire-jack-dropin</a></span><sup><small>AUR</small></sup> or uninstall <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=jack">jack</a></span>/<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=jack2">jack2</a></span> to let JACK clients load the compatible libraries automatically.
</p>
<p>Use <code>ldd</code> to verify that the JACK application links to the correct library:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ldd /usr/bin/qjackctl | grep -i libjack</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">libjack.so.0 =&gt; /usr/lib/pipewire-0.3/jack/libjack.so.0 (0x00007f7e5080a000)</pre>
<h4><span class="mw-headline" id="Bluetooth_devices">Bluetooth devices</span></h4>
<p>PipeWire handles Bluetooth audio devices if the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pipewire-pulse">pipewire-pulse</a></span> package is installed. More specifically, the media session daemon checks for <code>/etc/pipewire/media-session.d/with-pulseaudio</code>, and enables its <code>bluez5</code> module automatically if the file exists.
</p>
<h4><span class="mw-headline" id="Run_PipeWire_on_top_of_native_JACK">Run PipeWire on top of native JACK</span></h4>
<p>PipeWire can also run as a JACK client on top of the native JACK daemon if desired. See <a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/pipewire/pipewire/-/wikis/JACK">JACK and PipeWire</a> for more information.
</p>
<h2><span class="mw-headline" id="Audio_post-processing">Audio post-processing</span></h2>
<h3><span class="mw-headline" id="PulseEffects">PulseEffects</span></h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Currently, the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseeffects">pulseeffects</a></span> package is missing required dependencies to run on PipeWire, and will fail to launch with the error <code>Failed to get required plugin: pipewiresrc</code>. See <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/69437">FS#69437</a> and <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/69521">FS#69521</a>.
<p>Either use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pulseeffects-git/">pulseeffects-git</a></span><sup><small>AUR</small></sup>, which has the required dependencies, or install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pipewire-pulse">pipewire-pulse</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gst-plugin-pipewire">gst-plugin-pipewire</a></span>.
</p>
</div>
<p>PulseEffects is a GTK utility which provides a large array of audio effects and filters to individual application output streams and microphone input streams. Notable effects include an input/output equalizer, output loudness equalization and bass enhancement, and input de-esser and noise reduction plug-in. See <a rel="nofollow" class="external text" href="https://github.com/wwmm/pulseeffects">the GitHub page</a> for a full list of effects.
</p>
<p>To use, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseeffects">pulseeffects</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pulseeffects-git/">pulseeffects-git</a></span><sup><small>AUR</small></sup>.
</p>
<p>See <a rel="nofollow" class="external text" href="https://github.com/wwmm/pulseeffects/wiki/Community-presets">Community Presets</a> for a collection of preset configurations.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Microphone_is_not_detected_by_PipeWire">Microphone is not detected by PipeWire</span></h3>
<p>PipeWire's <code>alsa-monitor</code> module uses <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=alsa-card-profiles">alsa-card-profiles</a></span> to detect devices by default. If this isn't working for you, try to turn off <code>api.alsa.use-acp</code>, or optionally turn on <code>api.alsa.use-ucm</code> in <code>/etc/pipewire/media-session.d/alsa-monitor.conf</code>, under <code>rules</code> -&gt; the first rule -&gt; <code>actions</code> -&gt; <code>update-props</code>:
</p>
<pre>...
update-props = {
    api.alsa.use-acp = false
...
</pre>
<p>Then, restart pipewire and check available devices:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ pw-record --list-targets</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Available targets ("*" denotes default): 62
	58: description="Built-in Audio" prio=1872
	60: description="Built-in Audio" prio=2000
*	62: description="Built-in Audio (Loopback PCM)" prio=1984</pre>
<h3><span class="mw-headline" id="No_sound_after_connecting_to_Bluetooth_device">No sound after connecting to Bluetooth device</span></h3>
<p>As of 2020-12-07, if there is no sound after connecting a Bluetooth device, you might need to switch the default sink and/or move a sink input to the correct sink. Use <code>pactl set-default-sink</code> to set the sink and <code>pactl list sinks</code> to list the available ones. This can be automated via <a href="../en/Udev.html" title="Udev">udev</a> using a script similar to <a rel="nofollow" class="external text" href="https://gist.github.com/tinywrkb/04e7fd644afa9b92d33a3a99ab07ee9e">this one</a>.
</p>
<p>See this <a rel="nofollow" class="external text" href="https://www.reddit.com/r/archlinux/comments/jydd02/pipewirepulse_03164_in_testing_now_replaces/gd3m7fu/?context=3">Reddit thread</a> for a discussion of the issue. According to author of the script, the headset profile (HSP) might still have problems.
</p>
<h3><span class="mw-headline" id="Low_volume">Low volume</span></h3>
<p>After replacing PulseAudio with Pipewire, sound worked fine, but after a reboot, the volume was intolerably low.
</p>
<p>Open <code>alsamixer</code>, use <code>F6</code> to select the proper soundcard, and make sure the ALSA volumes are at 100%. <code>alsactl</code> should maintain this setting after reboot.
</p>
<h3><span class="mw-headline" id="Increasing_RLIMIT_MEMLOCK">Increasing RLIMIT_MEMLOCK</span></h3>
<pre>Dec 13 11:11:11 HOST pipewire-pulse[99999]: Failed to mlock memory 0x7f4f659d8000 32832: This is not a problem but for best performance, consider increasing RLIMIT_MEMLOCK
</pre>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=realtime-privileges">realtime-privileges</a></span> and add your own user to the <code>realtime</code> group.
</p>
<p>Alternatively, increasing memlock from 64kB to 128kB seems enough to fix this. If you are running <code>pipewire-pulse</code> under <a href="../en/Systemd/User.html" title="Systemd/User">systemd/User</a>, add:
</p>
<pre>username	soft	memlock	64
username	hard	memlock	128
</pre>
<p>to <code>/etc/security/limits.d/username.conf</code>
</p>
<h3><span class="mw-headline" id="External_sound_card_not_activated_after_reconnect">External sound card not activated after reconnect</span></h3>
<p>Check <code>~/.config/pipewire-media-session/default-profile</code> if there is any entry with default profile "off" and remove it. If that does not help, remove all files from <code>~/.config/pipewire-media-session/</code> and restart PipeWire using <code>systemctl --user restart pipewire.service</code>.
</p>
<h3><span class="mw-headline" id="No_Sound_or_pactl_info_shows_Failure:_Connection_refused">No Sound or pactl info shows Failure: Connection refused</span></h3>
<p>It means applications are unable to connect to the PipeWire-Pulse service, confirm that <code>/etc/pipewire/pipewire-pulse.conf</code> exists and is not empty and restart PipeWire-Pulse using <code>systemctl --user restart pipewire-pulse.service</code>.
</p>
<p>If that does not fix it, run <code>strace -f -o /tmp/pipe.txt pactl info</code> and pastebin <code>/tmp/pipe.txt</code> while seeking help on IRC (Freenode <b>#pipewire</b>) or the mailing-lists.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://gitlab.freedesktop.org/pipewire/pipewire/-/wikis/home">Wiki</a> — PipeWire Wiki on Freedesktop GitLab</li>
<li>
<a rel="nofollow" class="external text" href="https://blogs.gnome.org/uraeus/2018/01/26/an-update-on-pipewire-the-multimedia-revolution-an-update/">Pipewire Update Blog Post</a> — Blog post from January 2018 outlining the state of PipeWire at the time</li>
<li>
<a rel="nofollow" class="external text" href="https://blogs.gnome.org/uraeus/2020/09/04/pipewire-late-summer-update-2020/">PipeWire Late Summer Update 2020</a> — Blog post from September 2020</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Multimedia.html" title="Category:Multimedia">Multimedia</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=PipeWire&amp;oldid=652511">https://wiki.archlinux.org/index.php?title=PipeWire&amp;oldid=652511</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 15 February 2021, at 15:54.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
