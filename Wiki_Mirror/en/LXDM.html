<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>LXDM - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-LXDM rootpage-LXDM skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">LXDM</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="/title/LXDE" title="LXDE">LXDE</a></li>
<li><a href="/title/Display_manager" title="Display manager">Display manager</a></li>
</ul>
</div>
<p>LXDM is a lightweight <a href="/title/Display_manager" title="Display manager">display manager</a> for the <a href="/title/LXDE" title="LXDE">LXDE</a> <a href="/title/Desktop_environment" title="Desktop environment">desktop environment</a>. The UI is implemented with <a href="/title/GTK" title="GTK">GTK</a> 2.
</p>
<p>LXDM does not support the <a href="/title/XDMCP" title="XDMCP">XDMCP</a> protocol. An alternative that does is <a href="/title/LightDM" title="LightDM">LightDM</a>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Configuration"><span class="tocnumber">2</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-3">
<a href="#Default_session"><span class="tocnumber">2.1</span> <span class="toctext">Default session</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#Globally"><span class="tocnumber">2.1.1</span> <span class="toctext">Globally</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#Per_user"><span class="tocnumber">2.1.2</span> <span class="toctext">Per user</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-6"><a href="#Autologin"><span class="tocnumber">2.2</span> <span class="toctext">Autologin</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Last_used_options"><span class="tocnumber">2.3</span> <span class="toctext">Last used options</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8">
<a href="#Tips_and_tricks"><span class="tocnumber">3</span> <span class="toctext">Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Adding_face_icons"><span class="tocnumber">3.1</span> <span class="toctext">Adding face icons</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Simultaneous_users_and_switching_users"><span class="tocnumber">3.2</span> <span class="toctext">Simultaneous users and switching users</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Themes"><span class="tocnumber">3.3</span> <span class="toctext">Themes</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Advanced_Session_Configuration"><span class="tocnumber">3.4</span> <span class="toctext">Advanced Session Configuration</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13">
<a href="#Troubleshooting"><span class="tocnumber">4</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#White_flash"><span class="tocnumber">4.1</span> <span class="toctext">White flash</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Logout_Issue"><span class="tocnumber">4.2</span> <span class="toctext">Logout Issue</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="/title/Install" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lxdm">lxdm</a></span> package, or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lxdm-gtk3">lxdm-gtk3</a></span> for the GTK3 version. The development package is <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lxdm-git/">lxdm-git</a></span><sup><small>AUR</small></sup>.
</p>
<p><a href="/title/Enable" class="mw-redirect" title="Enable">Enable</a> the provided <code>lxdm.service</code> <a href="/title/Systemd" title="Systemd">systemd</a> unit to start LXDM at boot.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>The configuration files for LXDM are all located in <code>/etc/lxdm/</code>. The main configuration file is <code>lxdm.conf</code>. Its format is documented in its comments. Another file, <code>Xsession</code>, is the systemwide x session configuration file and should generally not be edited. All other files in this folder are shell scripts, which are run when certain events happen in LXDM.
</p>
<p>These are:
</p>
<ol>
<li>
<code>LoginReady</code> is executed with root privileges when LXDM is ready to show the login window.</li>
<li>
<code>PreLogin</code> is run as root before logging a user in.</li>
<li>
<code>PostLogin</code> is run as the logged-in user right after they have logged in.</li>
<li>
<code>PostLogout</code> is run as the logged-in user right after they have logged out.</li>
<li>
<code>PreReboot</code> is run as root before rebooting with LXDM.</li>
<li>
<code>PreShutdown</code> is run as root before poweroff with LXDM.</li>
</ol>
<h3><span class="mw-headline" id="Default_session">Default session</span></h3>
<p>The default session can be set globally, as well as set at an individual-user level. Individual user preferences take precedence over globally set preferences for the user in question.
</p>
<h4><span class="mw-headline" id="Globally">Globally</span></h4>
<p>Edit <code>/etc/lxdm/lxdm.conf</code> and change the session line to whatever session or DE is desired:
</p>
<pre>session=/usr/bin/startlxde</pre>
<p>Example using <a href="/title/Xfce" title="Xfce">Xfce</a>:
</p>
<pre>session=/usr/bin/startxfce4</pre>
<p>Example using <a href="/title/Openbox" title="Openbox">Openbox</a>:
</p>
<pre>session=/usr/bin/openbox-session</pre>
<p>Example using <a href="/title/GNOME" title="GNOME">GNOME</a>:
</p>
<pre>session=/usr/bin/gnome-session</pre>
<p>This is useful for themes that have no visible session selection box, and if experiencing trouble using autologin.
</p>
<h4><span class="mw-headline" id="Per_user">Per user</span></h4>
<p>To define an individual user's preferred session, simply edit their respective <code>~/.dmrc</code> to define the selection.
</p>
<p>Example: user1 wants Xfce4, user2 wants <a href="/title/Cinnamon" title="Cinnamon">Cinnamon</a>, and user3 wants GNOME:
</p>
<p>For user1:
</p>
<pre>[Desktop]
Session=xfce
</pre>
<p>For user2:
</p>
<pre>[Desktop]
Session=cinnamon
</pre>
<p>For user3:
</p>
<pre>[Desktop]
Session=gnome
</pre>
<p>The list of installed sessions can be displayed by using command:
</p>
<pre>$ ls /usr/share/xsessions/
</pre>
<h3><span class="mw-headline" id="Autologin">Autologin</span></h3>
<p>To log in to one account automatically on startup, without providing a password, find the line in <code>/etc/lxdm/lxdm.conf</code> that looks like this:
</p>
<pre>#autologin=dgod
</pre>
<p>Uncomment it, substituting the target user instead of <i>dgod</i>.
</p>
<h3><span class="mw-headline" id="Last_used_options">Last used options</span></h3>
<p>Previously used LXDM options can be found in:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/var/lib/lxdm/lxdm.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[base]
last_session=/usr/share/xsessions/LXDE.desktop
last_lang=sv_SE.UTF-8
last_langs=sv_SE.UTF-8 fa_IR.UTF-8 en_US.UTF-8</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This file is not automatically removed when uninstalling LXDM. It must be removed manually if you want to remove all traces of LXDM options.</div>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Adding_face_icons">Adding face icons</span></h3>
<p>A 96x96 px image (jpg or png) can optionally be displayed on a per-user basis, replacing the stock icon. Copy or symlink the target image to <code>$HOME/.face</code>. The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-control-center">gnome-control-center</a></span> package supplies some default icons suitable for the lxdm screen. Look under <code>/usr/share/pixmaps/faces</code> after installing that package.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>Users need not keep <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-control-center">gnome-control-center</a></span> installed to use face icons. Install it, copy the images elsewhere, and remove it.</li>
<li>The user home directory must have r-x permissions for others and the .face file must have r-- permissions for others. This may be undesirable from a security and access perspective if your system has other users: it means anyone else can browse your home directory.</li>
<li>A graphical tool <code>lxdm-config</code> shipped with lxdm can be used to place a <code>.face</code> file in the home directory, along with other configuration.</li>
</ul>
</div>
<h3><span class="mw-headline" id="Simultaneous_users_and_switching_users">Simultaneous users and switching users</span></h3>
<p>LXDM allows multiple users to be logged into different TTYs simultaneously. The following command is used to allow another user to log in without logging out the current user:
</p>
<pre>$ lxdm -c USER_SWITCH
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> When the new user logs in, their session is now on the NEXT TTY from tty7. For example, user1 logs in and issues the USER_SWITCH command. Now user2 logs in. User2 will be on tty7 while user1 will be on tty1.</div>
<h3><span class="mw-headline" id="Themes">Themes</span></h3>
<p>The LXDM themes are located in <code>/usr/share/lxdm/themes</code>.
</p>
<p>There is only one theme provided with LXDM: Industrial. To display the background file <code>wave.svg</code> which is part of this theme, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=librsvg">librsvg</a></span>.
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lxdm-themes/">lxdm-themes</a></span><sup><small>AUR</small></sup> provides 6 extra themes: Archlinux, ArchlinuxFull, ArchlinuxTop, Arch-Dark, Arch-Stripes, and IndustrialArch. The ArchStripes and ArchDark themes are also packaged with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lxdm-git/">lxdm-git</a></span><sup><small>AUR</small></sup> (with different names to avoid file conflicts).
</p>
<p>Choice of theme is configurable in <code>/etc/lxdm/lxdm.conf</code>:
</p>
<pre>## the theme of greeter
theme=theme_name
</pre>
<p>You can also configure LXDM to use a GTK theme (stored in <code>/usr/share/themes</code>) in <code>/etc/lxdm/lxdm.conf</code>:
</p>
<pre>## GTK theme
gtk_theme=gtk_theme_name
</pre>
<h3><span class="mw-headline" id="Advanced_Session_Configuration">Advanced Session Configuration</span></h3>
<p>After a user logs on, LXDM sources <i>all</i> of the following files, in the below order:
</p>
<ol>
<li><code>/etc/profile</code></li>
<li><code>~/.profile</code></li>
<li><code>/etc/xprofile</code></li>
<li><code>~/.xprofile</code></li>
</ol>
<p>These files can be used to set session environment variables and to start services which  must set certain environment variables in order for clients in the session to be able to use the service, like ssh-agent. See <a href="/title/Xprofile" title="Xprofile">Xprofile</a> for details.
</p>
<p>Note that LXDM does <i>not</i> source <code>~/.xinitrc</code>, so those migrating from a DM that <i>does</i> use this file, like <a href="/title/SLiM" title="SLiM">SLiM</a>, will have to move their settings elsewhere — probably <code>~/.xprofile</code>. Also note LXDM does not source <code>~/.bash_profile</code>.
</p>
<p>If you still want to use your <code>~/.xinitrc</code> file, you can add a line to the <code>/etc/lxdm/PostLogin</code> event file:
</p>
<pre>source ~/.xinitrc
</pre>
<p>LXDM also makes use of .<a href="/title/Xresources" class="mw-redirect" title="Xresources">Xresources</a>, .<a href="/title/Xkbmap" class="mw-redirect" title="Xkbmap">Xkbmap</a>, and .<a href="/title/Xmodmap" title="Xmodmap">Xmodmap</a>. See <code>/etc/lxdm/Xsession</code> for details on how LXDM uses system-wide and per-user configuration files to configure the session.<a rel="nofollow" class="external autonumber" href="https://github.com/archlinux/svntogit-community/blob/packages/lxdm/trunk/Xsession">[1]</a>
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="White_flash">White flash</span></h3>
<p>When using the default LXDM <code>theme=Industrial</code> and a dark background image (e.g. <code>bg=/usr/share/backgrounds/img.png</code>) there may be a short bright flash before LXDM starts. This is caused by the <code>bg_color:</code> property of the selected <a href="/title/GTK" title="GTK">GTK</a> theme. To avoid this change <code>gtk_theme=Adwaita</code> to <code>gtk_theme=Adwaita-dark</code> or to another dark theme.
</p>
<h3><span class="mw-headline" id="Logout_Issue">Logout Issue</span></h3>
<p>If you had trouble logging out when using lxdm (e.g. stuck, display freeze, etc..) try uncomment the <code>reset=1</code> option in <code>/etc/lxdm/lxdm.conf</code> to refresh xserver on every logout.
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="/title/Special:Categories" title="Special:Categories">Categories</a>: <ul>
<li><a href="/title/Category:Display_managers" title="Category:Display managers">Display managers</a></li>
<li><a href="/title/Category:LXDE" title="Category:LXDE">LXDE</a></li>
</ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=LXDM&amp;oldid=666830">https://wiki.archlinux.org/index.php?title=LXDM&amp;oldid=666830</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 1 May 2021, at 15:00.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="/title/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/title/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="/title/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
