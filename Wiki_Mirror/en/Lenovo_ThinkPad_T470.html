<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Lenovo ThinkPad T470 - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Lenovo_ThinkPad_T470 rootpage-Lenovo_ThinkPad_T470 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Lenovo ThinkPad T470</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section does not follow the <a href="../en/Help:Laptop_page_guidelines.html" title="Help:Laptop page guidelines">Laptop page guidelines</a>.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> <code>lspci</code>/<code>lsusb</code> dumps do not belong into laptop pages.  Some specific sub-models need function key and hardware tables.  (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Lenovo_ThinkPad_T470">Talk:Lenovo ThinkPad T470#</a>)</div>
</div>
<p>This article covers the installation and configuration of Arch Linux on a Lenovo T470 laptop.  There are several sub-models of this laptop, see below for details.
</p>
<p>For a general overview of laptop-related articles and recommendations, see <a href="../en/Laptop.html" title="Laptop">Laptop</a>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Firmware_(e.g._bios_and_peripherals)"><span class="tocnumber">1</span> <span class="toctext">Firmware (e.g. bios and peripherals)</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Kernel_and_hardware_support"><span class="tocnumber">2</span> <span class="toctext">Kernel and hardware support</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Fingerprint_reader"><span class="tocnumber">2.1</span> <span class="toctext">Fingerprint reader</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Screen_backlight"><span class="tocnumber">2.2</span> <span class="toctext">Screen backlight</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Thunderbolt_3"><span class="tocnumber">2.3</span> <span class="toctext">Thunderbolt 3</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#UEFI_boot"><span class="tocnumber">2.4</span> <span class="toctext">UEFI boot</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#BIOS_GPT_boot"><span class="tocnumber">2.5</span> <span class="toctext">BIOS GPT boot</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Special_buttons"><span class="tocnumber">2.6</span> <span class="toctext">Special buttons</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#Sub-models"><span class="tocnumber">3</span> <span class="toctext">Sub-models</span></a>
<ul>
<li class="toclevel-2 tocsection-10">
<a href="#20K7_(aka_ThinkPad_25th_Anniversary_Edition)"><span class="tocnumber">3.1</span> <span class="toctext">20K7 (aka ThinkPad 25th Anniversary Edition)</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="#Function_keys"><span class="tocnumber">3.1.1</span> <span class="toctext">Function keys</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#Hardware"><span class="tocnumber">3.1.2</span> <span class="toctext">Hardware</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-13">
<a href="#20HD"><span class="tocnumber">3.2</span> <span class="toctext">20HD</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#lspci"><span class="tocnumber">3.2.1</span> <span class="toctext">lspci</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#lsusb"><span class="tocnumber">3.2.2</span> <span class="toctext">lsusb</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-16">
<a href="#20JN"><span class="tocnumber">3.3</span> <span class="toctext">20JN</span></a>
<ul>
<li class="toclevel-3 tocsection-17"><a href="#lspci_2"><span class="tocnumber">3.3.1</span> <span class="toctext">lspci</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#lsusb_2"><span class="tocnumber">3.3.2</span> <span class="toctext">lsusb</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-19">
<a href="#20HD,20HE(Campus_model)"><span class="tocnumber">3.4</span> <span class="toctext">20HD,20HE(Campus model)</span></a>
<ul>
<li class="toclevel-3 tocsection-20"><a href="#lspci_3"><span class="tocnumber">3.4.1</span> <span class="toctext">lspci</span></a></li>
<li class="toclevel-3 tocsection-21"><a href="#lsusb_3"><span class="tocnumber">3.4.2</span> <span class="toctext">lsusb</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-22"><a href="#See_also"><span class="tocnumber">4</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2>
<span id="Firmware_.28e.g._bios_and_peripherals.29"></span><span class="mw-headline" id="Firmware_(e.g._bios_and_peripherals)">Firmware (e.g. bios and peripherals)</span>
</h2>
<p>The T470 is one of the models supported officially by Lenovo through the <a href="../en/Fwupd.html" title="Fwupd">fwupd</a> firmware update program.
</p>
<p>
If you are using a UEFI boot scheme, this is probably the easiest and most officially supported way to keep all the firmware programs updated. </p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Users have observed a BIOS requirement of "UEFI/Legacy Boot" set to "UEFI Only" and enable Windows UEFI Firmware Update under UEFI BIOS Update Options when using <a href="../en/Fwupd.html" title="Fwupd">fwupd</a>.</div>
<p>If it does not work for you or if you prefer these methods, it is still possible to do the BIOS update by booting on a specially crafted disk or  USB stick.
By visiting the downloads section (T470) an ISO can be downloaded and burned to disk which will perform the update <a rel="nofollow" class="external text" href="http://pcsupport.lenovo.com/gb/en/products/laptops-and-netbooks/thinkpad-t-series-laptops/thinkpad-t470/downloads">from Lenovo</a>. Or <a rel="nofollow" class="external text" href="https://www.thinkwiki.org/wiki/BIOS_Upgrade#Booting_from_a_USB_Flash_drive">extracted and copied on a USB Stick</a>.
</p>
<p>Another option that works if you got a CD-ISO from Lenovo is to follow <a rel="nofollow" class="external text" href="https://rikkonsecurity.wordpress.com/2017/06/16/how-to-update-thinkpad-t470-bios-from-linux-using-usb/">this guide</a> and convert the ISO to an IMG prior to dd-ing it to a USB stick.
</p>
<h2><span class="mw-headline" id="Kernel_and_hardware_support">Kernel and hardware support</span></h2>
<p><a href="../en/Hardware_video_acceleration.html" title="Hardware video acceleration">Hardware video acceleration</a> with Kaby Lake seems to work fine via va-api.
</p>
<p>As noted in <a href="../en/Intel_graphics.html" title="Intel graphics">Intel graphics</a>, the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-intel">xf86-video-intel</a></span> driver seems to cause more issue than the builtin <code>modesetting</code> Xorg driver.
Works fine without the intel driver (on a Skylake configuration).
</p>
<p>suspend-resume results in the fan holding at 100% without ever spinning down. This is being tracked on the <a rel="nofollow" class="external text" href="https://bugzilla.kernel.org/show_bug.cgi?id=196975">kernel bugtracker</a>. The issue <a rel="nofollow" class="external text" href="https://bugzilla.kernel.org/show_bug.cgi?id=196975#c54">seems to be resolved</a> by BIOS 1.43.
</p>
<h3><span class="mw-headline" id="Fingerprint_reader">Fingerprint reader</span></h3>
<p>As of writing this, the fingerprint reader is still under <a rel="nofollow" class="external text" href="https://github.com/nmikhailov/Validity90">prototype development</a>, but looks like working fine on the T470.
</p>
<p>To get the sensor working, it first must be initialized with data. This currently only works with Windows (this is no longer true, see note below). So if you had used the reader before installing Arch, this should work fine.  Otherwise install a Windows version in a virtualbox, connect the Validity Sensor over USB(USB 2.0), install the drivers and use it a few times.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This is not yet in the upstream version of libfprint2, but there is a method for enrolling fingerprint data into the Validity Sensors 138a:0097 device only using Linux. The way to do so is here:
<p><a rel="nofollow" class="external free" href="https://gitlab.freedesktop.org/3v1n0/libfprint/-/tree/vfs0090-libfprint2">https://gitlab.freedesktop.org/3v1n0/libfprint/-/tree/vfs0090-libfprint2</a>
</p>
<p>This uses the package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/validity-sensors-tools-git/">validity-sensors-tools-git</a></span><sup><small>AUR</small></sup>.  Now, this may not work, as the fingerprint device may return a data structure that does not match the expected size/length when loading the driver. If the above libfprint driver does not work for you, and you see errors about a length mismatch in the journal, the following fork of the above project has a fix for this:
</p>
<p><a rel="nofollow" class="external free" href="https://github.com/piotrekzurek/libfprint">https://github.com/piotrekzurek/libfprint</a>
</p>
With either of these drivers loaded, Windows should no longer be necessary to initialize the Validity Sensors fingerprint reader.  Users may want to set up <a href="../en/Pacman.html#Hooks" title="Pacman">Pacman#Hooks</a> to rebuild this driver whenever the kernel is upgraded.</div>
<p>As soon as this step is completed, the sensor can be used under Linux.
Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fprintd">fprintd</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/libfprint-vfs009x-git/">libfprint-vfs009x-git</a></span><sup><small>AUR</small></sup>, then reboot.
You can now enroll your fingers with <code>fprintd-enroll</code>.
</p>
<p>After setting up the fingerprint sensor is complete, one can use it to login or authenticate for <code>sudo</code> or <code>su</code>.
</p>
<p>For login, edit <code>/etc/pam.d/login</code> by adding <code>pam_fprintd.so</code> as <i>sufficient</i> to the top of the auth section:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pam.d/login</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"><b>auth sufficient pam_fprintd.so</b>
...
</pre>
<p>Do the same for sudo with <code>/etc/pam.d/sudo</code> or su with <code>/etc/pam.d/su</code>
</p>
<p>For more information visit <a rel="nofollow" class="external text" href="https://github.com/3v1n0/libfprint">libfprint</a> and adapt for the vfs0097 package.
</p>
<h3><span class="mw-headline" id="Screen_backlight">Screen backlight</span></h3>
<p>Without the <code>intel</code> driver (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-intel">xf86-video-intel</a></span>), neither <code>xbacklight</code> or <code>xrandr</code> brightness control are working.
It is possible that, with the good <code>acpi_*</code> kernel parameters, the backlight related keys do their job.
</p>
<p>Other workaround exists, such as described <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1449243#p1449243">on this post</a> or in the wiki <a href="../en/Acpid.html#Enabling_backlight_control" title="Acpid">acpid#Enabling backlight control</a>.
Using the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=acpilight">acpilight</a></span> package as a <code>xbacklight</code> replacement works well.
You can also check <a rel="nofollow" class="external text" href="https://lab.knightsofnii.com/kristaba/tpacpi-backlight">this repository</a> as a base to add the ACPI rules to call <code>xbacklight</code> when backlight keys are pressed.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=acpilight">acpilight</a></span> package is known to allow controlling the ThinkPad keyboard backlight. Similar ACPI rules should allow to toggle it when the keyboard backlight key is pressed.</div>
<h3><span class="mw-headline" id="Thunderbolt_3">Thunderbolt 3</span></h3>
<p>With the latest kernel (4.12.12 as of writing), the <i>Alpine Ridge</i> thunderbolt 3 controller is recognized without any additional configuration.
Using a generic thunderbolt 3 to HDMI + USB3 hub works out of the box (the HDMI output is recognized by xrandr as DP-1 output).
</p>
<h3><span class="mw-headline" id="UEFI_boot">UEFI boot</span></h3>
<p>After configuring the BIOS setup to allow UEFI boot (either <i>UEFI only</i> or <i>both</i>), it works flawlessly.
</p>
<p>For booting directly with EFISTUB the kernel executable (e.g. <code>vmlinuz-linux</code>) may need to be renamed with a <i>.efi</i> extension (e.g. <code>vmlinuz-linux.efi</code>) otherwise it will fail to load.
</p>
<h3><span class="mw-headline" id="BIOS_GPT_boot">BIOS GPT boot</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> I was unable to boot with a GPT + BIOS configuration, and therefore switch to GPT + EFI. However, until another confirmation, it is quite probable that was caused by some bad configuration from my side.</div>
<p>I can confirm that issue. Even with a recent bios (1.52), it does not work.
</p>
<p>I had to trick my ThinkPad into UEFI (because my bios is locked, found that method by pure luck). 
It works by installing the <a href="../en/Syslinux.html" title="Syslinux">syslinux</a> bootloader on your freshly installed arch (be sure to follow the GPT specific instructions at <a href="../en/Syslinux.html#GUID_partition_table" title="Syslinux">Syslinux#GUID partition table</a>) and the boot that syslinux with the arch install iso ('Boot existing OS' -&gt; press <code>TAB</code> -&gt; replace <code>hd0 0</code> with <code>hd1 0</code>). Syslinux should show you an option to boot the ArchLinux installation in UEFI mode. Mount you Arch installation, <code>arch-chroot</code> into it and install <a href="../en/GRUB.html" title="GRUB">GRUB</a> (or your favorite bootloader) for UEFI. That did the trick for me. 
</p>
<p>You have to create a proper UEFI partition. Have a look at <a href="../en/Partitioning.html" title="Partitioning">partitioning</a>.
</p>
<h3><span class="mw-headline" id="Special_buttons">Special buttons</span></h3>
<p>Some special buttons are not supported by X server due to keycode number limit.
</p>
<table class="wikitable" style="text-align:center">

<tbody>
<tr>
<th>Key combination</th>
<th>Scancode</th>
<th>Keycode
</th>
</tr>
<tr>
<td><code>Fn+F11</code></td>
<td><code>0x49</code></td>
<td>
<code>374</code> <code>KEY_KEYBOARD</code>
</td>
</tr>
<tr>
<td><code>Fn+F12</code></td>
<td><code>0x45</code></td>
<td>
<code>364</code> <code>KEY_FAVORITES</code>
</td>
</tr>
</tbody>
</table>
<p>You can remap unsupported keys using <a href="../en/Map_scancodes_to_keycodes.html" title="Map scancodes to keycodes">udev hwdb</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/hwdb.d/90-thinkpad-keyboard.hwdb</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">evdev:name:ThinkPad Extra Buttons:dmi:bvn*:bvr*:bd*:svnLENOVO*:pn*
 KEYBOARD_KEY_45=prog1
 KEYBOARD_KEY_49=prog2
</pre>
<p>Update hwdb after editing the rule.
</p>
<pre># udevadm hwdb --update
# udevadm trigger --sysname-match="event*"
</pre>
<h2><span class="mw-headline" id="Sub-models">Sub-models</span></h2>
<h3>
<span id="20K7_.28aka_ThinkPad_25th_Anniversary_Edition.29"></span><span class="mw-headline" id="20K7_(aka_ThinkPad_25th_Anniversary_Edition)">20K7 (aka ThinkPad 25th Anniversary Edition)</span>
</h3>
<p>Very specific model, released in 2017 as a celebration of the entire IBM/Lenovo ThinkPad line.  Comes with a dual-core Intel Core i7-7500U CPU @ 2.70GHz.
</p>
<h4><span class="mw-headline" id="Function_keys">Function keys</span></h4>
<table class="wikitable">
<tbody>
<tr>
<th>Special Key</th>
<th>Visible?<sup>1</sup>
</th>
<th>Marked?<sup>2</sup>
</th>
<th>Effect
</th>
</tr>
<tr>
<td><code>Fn</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86WakeUp
</td>
</tr>
<tr>
<td><code>Fn+F1</code></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td>No Effect
</td>
</tr>
<tr>
<td><code>Fn+F2</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86ScreenSaver
</td>
</tr>
<tr>
<td><code>Fn+F3</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86Battery
</td>
</tr>
<tr>
<td><code>Fn+F4</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86Sleep
</td>
</tr>
<tr>
<td><code>Fn+F5</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86TouchpadToggle
</td>
</tr>
<tr>
<td><code>Fn+F6</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86WebCam
</td>
</tr>
<tr>
<td><code>Fn+F7</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86Display
</td>
</tr>
<tr>
<td><code>Fn+F8</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86WLAN
</td>
</tr>
<tr>
<td><code>Fn+F9</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86Tools
</td>
</tr>
<tr>
<td><code>Fn+F10</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86Bluetooth
</td>
</tr>
<tr>
<td><code>Fn+F11</code></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>No Effect
</td>
</tr>
<tr>
<td><code>Fn+F12</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86Favorites
</td>
</tr>
<tr>
<td><code>Fn+Home</code></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86MonBrightnessUp
</td>
</tr>
<tr>
<td><code>Fn+End</code></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86MonBrightnessDown
</td>
</tr>
<tr>
<td><code>Fn+PgUp</code></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>Cycle Keyboard Backlight
</td>
</tr>
<tr>
<td><code>Mute Speaker</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86AudioMute
</td>
</tr>
<tr>
<td><code>Volume Down</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86AudioLowerVolume
</td>
</tr>
<tr>
<td><code>Volume Up</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86AudioRaiseVolume
</td>
</tr>
<tr>
<td><code>Mute Microphone</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86AudioMicMute
</td>
</tr>
<tr>
<td><code>Fn+Left</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86AudioPrev
</td>
</tr>
<tr>
<td><code>Fn+Up</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86AudioStop
</td>
</tr>
<tr>
<td><code>Fn+Down</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86AudioPlay
</td>
</tr>
<tr>
<td><code>Fn+Right</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86AudioNext
</td>
</tr>
<tr>
<td><code>Menu</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>Menu
</td>
</tr>
<tr>
<td><code>Back</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86Back
</td>
</tr>
<tr>
<td><code>Forward</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>XF86Forward
</td>
</tr>
</tbody>
</table>
<ol>
<li>The key is visible to <code>xev</code> and similar tools</li>
<li>The physical key has a symbol on it, which describes its function</li>
</ol>
<h4><span class="mw-headline" id="Hardware">Hardware</span></h4>
<p>All hardware working with stock Arch <code>linux</code> kernel 5.11.10-arch1-1
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Device</th>
<th>PCI/USB ID</th>
<th>Working?
</th>
</tr>
<tr>
<td><a href="../en/Intel_graphics.html" title="Intel graphics">Intel graphics</a></td>
<td><code>8086:5916</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>
<a href="../en/NVIDIA.html" title="NVIDIA">NVIDIA</a> graphics</td>
<td><code>10de:134d</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td><a href="../en/Network_configuration/Wireless.html" class="mw-redirect" title="Wireless">Wireless</a></td>
<td><code>8086:24fd</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td><a href="../en/Bluetooth.html" title="Bluetooth">Bluetooth</a></td>
<td><code>8087:0a2b</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td><a href="../en/Webcam_setup.html" class="mw-redirect" title="Webcam">Webcam</a></td>
<td><code>5986:111c</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>IR Camera</td>
<td><code>5986:111d</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td><a href="../en/TrackPoint.html" title="TrackPoint">TrackPoint</a></td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td><a href="../en/Laptop.html#Touchpad" class="mw-redirect" title="Touchpad">Touchpad</a></td>
<td></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td><a href="../en/Touchscreen.html" title="Touchscreen">Touchscreen</a></td>
<td><code>2386:310e</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td>Fingerprint Reader</td>
<td><code>138a:0097</code></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
</tbody>
</table>
<h3><span class="mw-headline" id="20HD">20HD</span></h3>
<p>Kernel '4.10.13-1-ARCH'
</p>
<h4><span class="mw-headline" id="lspci">lspci</span></h4>
<pre>00:00.0 Host bridge: Intel Corporation Device 5904 (rev 02)
00:02.0 VGA compatible controller: Intel Corporation Device 5916 (rev 02)
00:14.0 USB controller: Intel Corporation Sunrise Point-LP USB 3.0 xHCI Controller (rev 21)
00:14.2 Signal processing controller: Intel Corporation Sunrise Point-LP Thermal subsystem (rev 21)
00:16.0 Communication controller: Intel Corporation Sunrise Point-LP CSME HECI #1 (rev 21)
00:1c.0 PCI bridge: Intel Corporation Device 9d10 (rev f1)
00:1c.6 PCI bridge: Intel Corporation Sunrise Point-LP PCI Express Root Port #7 (rev f1)
00:1d.0 PCI bridge: Intel Corporation Sunrise Point-LP PCI Express Root Port #9 (rev f1)
00:1d.2 PCI bridge: Intel Corporation Device 9d1a (rev f1)
00:1f.0 ISA bridge: Intel Corporation Device 9d58 (rev 21)
00:1f.2 Memory controller: Intel Corporation Sunrise Point-LP PMC (rev 21)
00:1f.3 Audio device: Intel Corporation Device 9d71 (rev 21)
00:1f.4 SMBus: Intel Corporation Sunrise Point-LP SMBus (rev 21)
00:1f.6 Ethernet controller: Intel Corporation Ethernet Connection (4) I219-V (rev 21)
04:00.0 Network controller: Intel Corporation Device 24fd (rev 78)
3e:00.0 Non-Volatile memory controller: Samsung Electronics Co Ltd Device a804
</pre>
<h4><span class="mw-headline" id="lsusb">lsusb</span></h4>
<pre>Bus 002 Device 007: ID 0bda:0316 Realtek Semiconductor Corp. 
Bus 002 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub
Bus 001 Device 008: ID 138a:0097 Validity Sensors, Inc. 
Bus 001 Device 005: ID 5986:111c Acer, Inc 
Bus 001 Device 003: ID 8087:0a2b Intel Corp. 
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
</pre>
<h3><span class="mw-headline" id="20JN">20JN</span></h3>
<p>Quite specific model, comes with a 6th generation Intel processor (Skylake) instead of a Kaby Lake like most T470 models.
Output of lspci and lsusb with kernel 4.12.12-1.
</p>
<h4><span class="mw-headline" id="lspci_2">lspci</span></h4>
<pre>00:00.0 Host bridge: Intel Corporation Xeon E3-1200 v5/E3-1500 v5/6th Gen Core Processor Host Bridge/DRAM Registers (rev 08)
00:02.0 VGA compatible controller: Intel Corporation HD Graphics 520 (rev 07)
00:14.0 USB controller: Intel Corporation Sunrise Point-LP USB 3.0 xHCI Controller (rev 21)
00:14.2 Signal processing controller: Intel Corporation Sunrise Point-LP Thermal subsystem (rev 21)
00:16.0 Communication controller: Intel Corporation Sunrise Point-LP CSME HECI #1 (rev 21)
00:1c.0 PCI bridge: Intel Corporation Sunrise Point-LP PCI Express Root Port #1 (rev f1)
00:1c.6 PCI bridge: Intel Corporation Sunrise Point-LP PCI Express Root Port #7 (rev f1)
00:1d.0 PCI bridge: Intel Corporation Sunrise Point-LP PCI Express Root Port #9 (rev f1)
00:1d.2 PCI bridge: Intel Corporation Device 9d1a (rev f1)
00:1f.0 ISA bridge: Intel Corporation Sunrise Point-LP LPC Controller (rev 21)
00:1f.2 Memory controller: Intel Corporation Sunrise Point-LP PMC (rev 21)
00:1f.3 Audio device: Intel Corporation Sunrise Point-LP HD Audio (rev 21)
00:1f.4 SMBus: Intel Corporation Sunrise Point-LP SMBus (rev 21)
00:1f.6 Ethernet controller: Intel Corporation Ethernet Connection I219-LM (rev 21)
04:00.0 Network controller: Intel Corporation Wireless 8260 (rev 3a)
05:00.0 PCI bridge: Intel Corporation JHL6240 Thunderbolt 3 Bridge (Low Power) [Alpine Ridge LP 2016] (rev 01)
06:00.0 PCI bridge: Intel Corporation JHL6240 Thunderbolt 3 Bridge (Low Power) [Alpine Ridge LP 2016] (rev 01)
06:01.0 PCI bridge: Intel Corporation JHL6240 Thunderbolt 3 Bridge (Low Power) [Alpine Ridge LP 2016] (rev 01)
06:02.0 PCI bridge: Intel Corporation JHL6240 Thunderbolt 3 Bridge (Low Power) [Alpine Ridge LP 2016] (rev 01)
3d:00.0 USB controller: Intel Corporation Device 15c1 (rev 01)
</pre>
<h4><span class="mw-headline" id="lsusb_2">lsusb</span></h4>
<pre>Bus 004 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub
Bus 003 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 002 Device 002: ID 0bda:0316 Realtek Semiconductor Corp. 
Bus 002 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub
Bus 001 Device 003: ID 8087:0a2b Intel Corp. 
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
</pre>
<h3>
<span id="20HD.2C20HE.28Campus_model.29"></span><span class="mw-headline" id="20HD,20HE(Campus_model)">20HD,20HE(Campus model)</span>
</h3>
<h4><span class="mw-headline" id="lspci_3">lspci</span></h4>
<pre>00:00.0 Host bridge: Intel Corporation Xeon E3-1200 v6/7th Gen Core Processor Host Bridge/DRAM Registers (rev 02)
00:02.0 VGA compatible controller: Intel Corporation HD Graphics 620 (rev 02)
00:14.0 USB controller: Intel Corporation Sunrise Point-LP USB 3.0 xHCI Controller (rev 21)
00:14.2 Signal processing controller: Intel Corporation Sunrise Point-LP Thermal subsystem (rev 21)
00:15.0 Signal processing controller: Intel Corporation Sunrise Point-LP Serial IO I2C Controller #0 (rev 21)
00:16.0 Communication controller: Intel Corporation Sunrise Point-LP CSME HECI #1 (rev 21)
00:1c.0 PCI bridge: Intel Corporation Sunrise Point-LP PCI Express Root Port #1 (rev f1)
00:1c.6 PCI bridge: Intel Corporation Sunrise Point-LP PCI Express Root Port #7 (rev f1)
00:1d.0 PCI bridge: Intel Corporation Sunrise Point-LP PCI Express Root Port #9 (rev f1)
00:1d.2 PCI bridge: Intel Corporation Device 9d1a (rev f1)
00:1f.0 ISA bridge: Intel Corporation Sunrise Point-LP LPC Controller (rev 21)
00:1f.2 Memory controller: Intel Corporation Sunrise Point-LP PMC (rev 21)
00:1f.3 Audio device: Intel Corporation Sunrise Point-LP HD Audio (rev 21)
00:1f.4 SMBus: Intel Corporation Sunrise Point-LP SMBus (rev 21)
00:1f.6 Ethernet controller: Intel Corporation Ethernet Connection (4) I219-V (rev 21)
04:00.0 Network controller: Intel Corporation Wireless 8265 / 8275 (rev 78)
3e:00.0 Non-Volatile memory controller: Samsung Electronics Co Ltd NVMe SSD Controller SM961/PM961
</pre>
<h4><span class="mw-headline" id="lsusb_3">lsusb</span></h4>
<pre>Bus 002 Device 003: ID 0bda:0316 Realtek Semiconductor Corp. 
Bus 002 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub
Bus 001 Device 005: ID 138a:0097 Validity Sensors, Inc. 
Bus 001 Device 003: ID 5986:111c Acer, Inc 
Bus 001 Device 002: ID 8087:0a2b Intel Corp. 
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
</pre>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li>T470 ThinkWiki page: <a rel="nofollow" class="external free" href="https://www.thinkwiki.org/wiki/Category:T470">https://www.thinkwiki.org/wiki/Category:T470</a>
</li>
<li>Product specifications reference (PSREF): <a rel="nofollow" class="external free" href="https://psref.lenovo.com/syspool/Sys/PDF/ThinkPad/ThinkPad_T470/ThinkPad_T470_Spec.PDF">https://psref.lenovo.com/syspool/Sys/PDF/ThinkPad/ThinkPad_T470/ThinkPad_T470_Spec.PDF</a>
</li>
<li>Hardware maintenance manual: <a rel="nofollow" class="external free" href="https://download.lenovo.com/pccbbs/mobiles_pdf/t470_hmm_en_sp40m11890_03.pdf">https://download.lenovo.com/pccbbs/mobiles_pdf/t470_hmm_en_sp40m11890_03.pdf</a>
</li>
<li>User guide: <a rel="nofollow" class="external free" href="https://download.lenovo.com/pccbbs/mobiles_pdf/t470_ug_en.pdf">https://download.lenovo.com/pccbbs/mobiles_pdf/t470_ug_en.pdf</a>
</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Lenovo.html" title="Category:Lenovo">Lenovo</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Laptop_style.html" title="Category:Pages or sections flagged with Template:Laptop style">Pages or sections flagged with Template:Laptop style</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_T470&amp;oldid=661690">https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_T470&amp;oldid=661690</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 18 April 2021, at 11:52.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
