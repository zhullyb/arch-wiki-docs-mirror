<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>System76 Oryx Pro - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-System76_Oryx_Pro rootpage-System76_Oryx_Pro skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">System76 Oryx Pro</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Drivers"><span class="tocnumber">2</span> <span class="toctext">Drivers</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Graphical"><span class="tocnumber">3</span> <span class="toctext">Graphical</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Audio"><span class="tocnumber">4</span> <span class="toctext">Audio</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Suspend/Hibernate"><span class="tocnumber">5</span> <span class="toctext">Suspend/Hibernate</span></a></li>
<li class="toclevel-1 tocsection-6">
<a href="#Common_Issues"><span class="tocnumber">6</span> <span class="toctext">Common Issues</span></a>
<ul>
<li class="toclevel-2 tocsection-7">
<a href="#system76-firmware:_EFI_mount_point_not_found"><span class="tocnumber">6.1</span> <span class="toctext">system76-firmware: EFI mount point not found</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#With_grub"><span class="tocnumber">6.1.1</span> <span class="toctext">With grub</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="#Xorg_fails_to_start_with_%22No_devices_detected%22"><span class="tocnumber">6.2</span> <span class="toctext">Xorg fails to start with "No devices detected"</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>The System76 Oryx Pro comes with two NVMe M.2 slots, as well as space for a 2.5" SSD/HDD. Booting from NVMe requires the use of EFI, while booting over SATA/AHCI does not. Typically EFI would be a safe-to-use method for this laptop overall.
</p>
<h2><span class="mw-headline" id="Drivers">Drivers</span></h2>
<p>The System76 Oryx Pro has customized utilities and daemons that assist with running the Oryx Pro nicely under Linux. This includes driver (graphical, io, fan) configuration, firmware updates, and LED control.
</p>
<p>System76 produces a distribution called Pop OS! which they install on their machines. This guide is meant to align drivers and graphical configurations with the style that Pop OS! chooses, which seems to be best for these configurations.
</p>
<p>The collection of drivers can be found in the <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>.
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/system76-driver/">system76-driver</a></span><sup><small>AUR</small></sup>
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/system76-dkms/">system76-dkms</a></span><sup><small>AUR</small></sup>
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/system76-io-dkms/">system76-io-dkms</a></span><sup><small>AUR</small></sup>
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/system76-firmware-daemon/">system76-firmware-daemon</a></span><sup><small>AUR</small></sup>
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/system76-power/">system76-power</a></span><sup><small>AUR</small></sup>
</p>
<p>There are also -git versions of many of these packages, if you wish to stay bleeding edge.
</p>
<h2><span class="mw-headline" id="Graphical">Graphical</span></h2>
<p>This system comes complete with an integrated (<a href="../en/Intel_graphics.html" class="mw-redirect" title="Intel">intel</a>) and discrete (<a href="../en/NVIDIA.html" title="NVIDIA">NVIDIA</a>) graphics card. The external ports (DP over Mini-DP, DP over USB-C, HDMI) are tied to the discrete nvidia card. Some users have reported getting this to work right with Bumblebee.
</p>
<p>When in doubt, remove <a href="../en/Bumblebee.html" title="Bumblebee">bumblebee</a> and install <a href="../en/NVIDIA.html" title="NVIDIA">NVIDIA</a> proprietary drivers.
</p>
<p>Your mileage may vary if you are using a more complete DE like <a href="../en/GNOME.html" title="GNOME">GNOME</a>; this has only been tested with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=i3-wm">i3-wm</a></span>.
</p>
<h2><span class="mw-headline" id="Audio">Audio</span></h2>
<p>Audio seems to work out of the box with a USB headset, however, it does not relay audio to the onboard speaker. This section needs to be feature complete with workarounds for any issues.
</p>
<h2>
<span id="Suspend.2FHibernate"></span><span class="mw-headline" id="Suspend/Hibernate">Suspend/Hibernate</span>
</h2>
<p>Out of the box, Arch Linux does not resume a previously suspended or hibernated session. This section needs to be feature complete with workarounds for any issues.
</p>
<h2><span class="mw-headline" id="Common_Issues">Common Issues</span></h2>
<h3><span class="mw-headline" id="system76-firmware:_EFI_mount_point_not_found">system76-firmware: EFI mount point not found</span></h3>
<p>If using the new (replacement) EFI mount point <code>/efi</code>, ensure you have the mount present in <code>etc/fstab</code>. You may find the appropriate device to mount by using a combination of lsblk and fdisk -l.
</p>
<pre># fdisk -l # List disks (one device will be designated as "EFI System")
# lsblk    # List devices and mount points, you should see the EFI system device, and confirm whether it is mounted/unmounted
# mount <i>device</i> /efi
#
# genfstab -U / # (optional) print fstab configuration for inclusion/merging into /etc/fstab
</pre>
<p>After mounting the device, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/system76-firmware-daemon/">system76-firmware-daemon</a></span><sup><small>AUR</small></sup> must be built from source (root not required) and modified to include `/efi` as a valid EFI mount point.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> There is a pull request to upstream the required change<a rel="nofollow" class="external autonumber" href="https://github.com/pop-os/system76-firmware/pull/43">[1]</a>
</div>
<p>After building and installing the modified <code>system76-firmware</code> from source, <code>system76-firmware-cli</code> maybe run to schedule a firmware update:
</p>
<pre># system76-firmware-cli schedule
</pre>
<h4><span class="mw-headline" id="With_grub">With grub</span></h4>
<p>After scheduling a firmware update, ensure that <a href="../en/GRUB.html" title="GRUB">GRUB</a> is set to use the EFI partition like so:
</p>
<pre># grub-install --target=x86_64-efi --efi-directory=/efi --bootloader-id=grub
# cp /boot/grub/grub.cfg /boot/grub/grub.cfg.bak
# grub-mkconfig -o /boot/grub/grub.cfg
</pre>
<p>Restart to trigger the firmware update.
</p>
<h3>
<span id="Xorg_fails_to_start_with_.22No_devices_detected.22"></span><span class="mw-headline" id='Xorg_fails_to_start_with_"No_devices_detected"'>Xorg fails to start with "No devices detected"</span>
</h3>
<p>If you find (normally after an update &amp; restart) that launching X (via <code>startx</code> or otherwise) does not work, you may confirm that the <code>nvidia</code> device is installed and working by doing the following:
</p>
<p>Confirm the error in <code>~/.local/share/xorg/Xorg.0.log</code>. The <code>nvidia</code> kernel module should successfully load. You may also confirm the error with <code>dmesg</code> or <code>journalctl</code>.
</p>
<p>Check whether both integrated and discrete graphics cards are available:
</p>
<pre># lspci | grep VGA
00:02.0 VGA compatible controller: Intel Corporation UHD Graphics 630 (Mobile)
01:00.0 VGA compatible controller: NVIDIA Corporation TU106M [GeForce RTX 2070 Mobile] (rev a1)
</pre>
<p>If you do not see the second entry (or some similar NVIDIA card), make sure the card has been turned on by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/system76-power/">system76-power</a></span><sup><small>AUR</small></sup> (use <code>--help</code> to explore options):
</p>
<pre># system76-power graphics 
</pre>
<p>Check whether the discrete NVIDIA graphics card is powered on using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/system76-power/">system76-power</a></span><sup><small>AUR</small></sup>:
</p>
<pre># system76-power graphics power
</pre>
<p>To power the discrete NVIDIA graphics card on, supply "on" as an argument (i.e. <code>system76-power graphics power on</code>). After doing so and querying again, you should see:
</p>
<pre># system76-power graphics power
on (discrete)
</pre>
<p>Once the card is powered on, it should show up in the output of <code>lspci</code>, and be detectable by Xorg, given that the appropriate NVIDIA driver is installed.
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:System76.html" title="Category:System76">System76</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=System76_Oryx_Pro&amp;oldid=645954">https://wiki.archlinux.org/index.php?title=System76_Oryx_Pro&amp;oldid=645954</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 19 December 2020, at 14:51.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
