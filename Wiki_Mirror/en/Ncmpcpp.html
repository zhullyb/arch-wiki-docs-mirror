<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>ncmpcpp - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Ncmpcpp rootpage-Ncmpcpp skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">ncmpcpp</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><span></span>
</p>
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/Music_Player_Daemon.html" class="mw-redirect" title="Mpd">mpd</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="http://rybczak.net/ncmpcpp">Ncmpcpp</a> is an <a href="../en/Music_Player_Daemon.html" class="mw-redirect" title="Mpd">mpd</a> client (compatible with <a rel="nofollow" class="external text" href="https://www.mopidy.com/">mopidy</a>) with a UI very similar to <i>ncmpc</i>, but it provides new useful features such as support for regular expressions for library searches, extended song format, items filtering, the ability to sort playlists, and a local filesystem browser.
</p>
<p>To use it, a functional <i>mpd</i> must be present on the system since <i>ncmpcpp</i>/<i>mpd</i> work together in a client/server relationship.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Basic_configuration"><span class="tocnumber">2</span> <span class="toctext">Basic configuration</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Enabling_visualization"><span class="tocnumber">3</span> <span class="toctext">Enabling visualization</span></a></li>
<li class="toclevel-1 tocsection-4">
<a href="#Basic_usage"><span class="tocnumber">4</span> <span class="toctext">Basic usage</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Loading_ncmpcpp"><span class="tocnumber">4.1</span> <span class="toctext">Loading ncmpcpp</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Different_views"><span class="tocnumber">4.2</span> <span class="toctext">Different views</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Other_UI_keys"><span class="tocnumber">4.3</span> <span class="toctext">Other UI keys</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Playback_modes"><span class="tocnumber">4.4</span> <span class="toctext">Playback modes</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#Tips_and_tricks"><span class="tocnumber">5</span> <span class="toctext">Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Remapping_keys"><span class="tocnumber">5.1</span> <span class="toctext">Remapping keys</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Autoset_Tags_from_Filename_and_vice_versa"><span class="tocnumber">5.2</span> <span class="toctext">Autoset Tags from Filename and vice versa</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Notification_on_song_change"><span class="tocnumber">5.3</span> <span class="toctext">Notification on song change</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href="#Troubleshooting"><span class="tocnumber">6</span> <span class="toctext">Troubleshooting</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#See_also"><span class="tocnumber">7</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ncmpcpp">ncmpcpp</a></span> from the <a href="../en/Official_repositories.html" title="Official repositories">official repositories</a>.
</p>
<h2><span class="mw-headline" id="Basic_configuration">Basic configuration</span></h2>
<p>The shell "GUI" for <i>ncmpcpp</i> is highly customizable. Edit <code>$XDG_CONFIG_HOME/ncmpcpp/config</code> to your liking. If, after installation, <code>$XDG_CONFIG_HOME/ncmpcpp/config</code> has not been created, simply copy the sample config, <a href="../en/File_permissions_and_attributes.html#Changing_ownership" title="File permissions and attributes">change owner</a> and edit at the very least the following three configuration options:
</p>
<ul>
<li>
<b>mpd_host</b> - Should point to the host on which <i>mpd</i> resides, can be "localhost", "127.0.0.1" or "::1" if on the same machine. To connect with a password, write "<i>password</i>@<i>host</i>"</li>
<li>
<b>mpd_port</b> - The default of <i>mpd</i> should be "6600"</li>
<li>
<b>mpd_music_dir</b> - The same directory value as specified in "music_directory" in <code>mpd.conf</code>
</li>
</ul>
<p>For inspiration, see the following resources:
</p>
<ul>
<li>Sample configuration file in <code>/usr/share/doc/ncmpcpp/config</code>.</li>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=66488">Show your .ncmpcpp/config with screenshot forum thread</a></li>
</ul>
<h2><span class="mw-headline" id="Enabling_visualization">Enabling visualization</span></h2>
<p>For visualization, add a few lines to <code>/etc/mpd.conf</code> or <code>~/.config/mpd/mpd.conf</code> to enable the generation of the <a href="https://en.wikipedia.org/wiki/Fast_Fourier_transform" class="extiw" title="wikipedia:Fast Fourier transform">fast Fourier transform</a> data for the visualization:
</p>
<pre>audio_output {
    type                    "fifo"
    name                    "my_fifo"
    path                    "/tmp/mpd.fifo"
    format                  "44100:16:2"
}
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> You may need to add an <code>audio_output</code> section for the normal audio output. See <a href="../en/Music_Player_Daemon.html#Audio_configuration" title="Music Player Daemon">Music Player Daemon#Audio configuration</a> for details.</div>
<p>Additional lines need to be added to <code>$XDG_CONFIG_HOME/ncmpcpp/config</code>
</p>
<pre>visualizer_data_source = "/tmp/mpd.fifo"
visualizer_output_name = "my_fifo"
visualizer_in_stereo = "yes"
visualizer_type = "spectrum"
visualizer_look = "+|"
</pre>
<ul>
<li>
<b>visualizer_sync_interval</b>  - Set the interval for synchronizing the visualizer with the audio output from <i>mpd</i>. It should be set to greater than 10 to avoid trying to synchronize too frequently, which freezes the visualization. The recommended value is 30, but it can be reduced if the audio becomes desynced with the visualization.</li>
<li>
<b>visualizer_type</b> - Set the visualization to either a <code>spectrum</code>/<code>ellipse</code>/<code>wave_filled</code> analyzer or <code>wave</code> form.</li>
<li>
<b>visualizer_look</b> - Set the visualizer's look (string has to be exactly 2 characters long: first one is for wave and whereas second for frequency spectrum, wave_filled and ellipse).</li>
</ul>
<h2><span class="mw-headline" id="Basic_usage">Basic usage</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-cut.png" class="image"><img alt="Tango-edit-cut.png" src="../File:Tango-edit-cut.png" decoding="async" width="48" height="48"></a><b>This section is being considered for removal.</b><a href="../File:Tango-edit-cut.png" class="image"><img alt="Tango-edit-cut.png" src="../File:Tango-edit-cut.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Assuming that the internal F1 help also shows these shortcuts, they can be removed here. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Ncmpcpp#Deletion_of_the_key_list">Talk:Ncmpcpp#Deletion of the key list</a>)</div>
</div>
<h3><span class="mw-headline" id="Loading_ncmpcpp">Loading ncmpcpp</span></h3>
<p>Load ncmpcpp in a shell:
</p>
<pre>$ ncmpcpp
</pre>
<h3><span class="mw-headline" id="Different_views">Different views</span></h3>
<p>Partial list of views within ncmpcpp:
</p>
<ul>
<li>
<code>1</code> - Current playlist</li>
<li>
<code>2</code> - Filesystem browser</li>
<li>
<code>3</code> - DB search</li>
<li>
<code>4</code> - Library</li>
<li>
<code>5</code> - Playlist editor</li>
<li>
<code>6</code> - Tag editor (very powerful!)</li>
<li>
<code>7</code> - Output selector</li>
<li>
<code>8</code> - Music visualizer</li>
<li>
<code>=</code> - Clock</li>
<li>
<code>F1</code> - Help</li>
</ul>
<h3><span class="mw-headline" id="Other_UI_keys">Other UI keys</span></h3>
<ul>
<li>
<code>q</code> - Quit</li>
<li>
<code>f</code> - Seek forward</li>
<li>
<code>b</code> - Seek backward</li>
<li>
<code>\</code> - Switch between classic and alternative views</li>
<li>
<code>#</code> - Display bitrate of file</li>
<li>
<code>i</code> - Show song info</li>
<li>
<code>I</code> - Show artist info (saved in <code>$XDG_CONFIG_HOME/ncmpcpp/config/artists/ARTIST.txt</code>)</li>
<li>
<code>L</code> - Shuffle between available lyric databases</li>
<li>
<code>l</code> - Retrieve song lyrics for current song Show/hide lyrics</li>
<li>
<code>&gt;</code> - Next track</li>
<li>
<code>&lt;</code> - Previous track</li>
<li>
<code>p</code> - Play/Pause</li>
<li>
<code>+</code> - Increase volume 2%</li>
<li>
<code>-</code> - Decrease volume 2%</li>
</ul>
<h3><span class="mw-headline" id="Playback_modes">Playback modes</span></h3>
<p>Notice the control panel in the upper right; shown in alternative mode:
</p>
<pre>1:40/4:16 1082 kbps                            ──┤ Criminal ├──                                       Vol: 98%
[playing]                             Disturbed - Indestructible (2008)                               <b>[-z-c--]</b>
</pre>
<p>And again in classic mode:
</p>
<pre>─────────────────────────────────────────────────────────────────────────────────────────────────────────<b>[zc]</b>─
</pre>
<p>This corresponds to the playback modes; ordered from left to right, they are:
</p>
<ul>
<li>
<code>r</code> - repeat mode <b>[r-----]</b> (Repeats the playlist after reaching the end.)</li>
<li>
<code>z</code> - random mode <b>[-z----]</b>
</li>
<li>
<code>y</code> - single mode <b>[--s---]</b> (Only plays a single track and then stops.)</li>
<li>
<code>R</code> - consume mode <b>[---c--]</b> (Removes the current track from playlist after reaching the end.)</li>
<li>
<code>x</code> - crossfade mode <b>[----x-]</b>
</li>
</ul>
<p>The final "-" is only active when the user forces an update to the datebase via <code>u</code>.
</p>
<p>In order to loop a single track, turn on both single and repeat mode.
</p>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Remapping_keys">Remapping keys</span></h3>
<p>A listing of key bindings and their respective functions is available from within npmpcpp itself via hitting <code>F1</code>. Users may remap any of the default keys simply by copying <code>/usr/share/doc/ncmpcpp/bindings</code> to <code>$XDG_CONFIG_HOME/ncmpcpp/</code> and editing it.
</p>
<h3><span class="mw-headline" id="Autoset_Tags_from_Filename_and_vice_versa">Autoset Tags from Filename and vice versa</span></h3>
<p>In the Tag Editor you can select a directory with music and then select the <code>Filename</code> option in the middle section. This opens a little window with two options: <code>Get Tags from Filename</code> and <code>Rename files</code>.
If you choose <code>Get Tags From Filename</code>, a popup with two windows is shown. On the left side you can enter a pattern that extracts the selected information from the filenames. You can also hit <code>Preview</code> to see what the result would look like. On the right side you can see the legend containing all the possible keywords to be used for extraction.
</p>
<p>A simple Example would be the pattern: <code>%a - %t</code>. If your files are named according to this pattern (Artist - Title) then this pattern would extract this information and set the Tags for the File.
</p>
<p>The other option <code>Rename Files</code> does the exact opposite. It takes the Tags from the audio files and creates a Filename from them.
</p>
<h3><span class="mw-headline" id="Notification_on_song_change">Notification on song change</span></h3>
<p>The <code>execute_on_song_change</code> command can be coupled with <i>notify-send</i> to generate notifications whenever the song changes (and upon application launch). This is contingent upon having a <a href="../en/Desktop_notifications.html" title="Desktop notifications">notification server</a> installed and configured. Edit <code>$XDG_CONFIG_HOME/ncmpcpp/config</code>, for example:
</p>
<pre>execute_on_song_change = notify-send "Now Playing" "$(mpc --format '%title% \n%artist% - %album%' current)"
</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> The description does not explain what is the actual issue. Problems with MPD should be covered in <a href="../en/Music_Player_Daemon/Troubleshooting.html" title="Music Player Daemon/Troubleshooting">Music Player Daemon/Troubleshooting</a>. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Ncmpcpp">Talk:Ncmpcpp#</a>)</div>
</div>
<p>When encountering a problem where ncmpcpp freezes when tabbing to certain pages (2 for "browse" specifically) it can be frustrating and annoying however to get around this freezing behavior ensure all mpd services are killed and rerun mpd as a user service with <code> systemctl --user start mpd.service</code> and enable with the same command replacing `start` with `enable`.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<p><a rel="nofollow" class="external text" href="http://dotshare.it/category/mpd/ncmpcpp/">dotshare.it configurations</a>
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Music.html" title="Category:Music">Music</a></li>
<li><a href="../en/Category:Console_applications.html" title="Category:Console applications">Console applications</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Sections_flagged_with_Template:Remove.html" title="Category:Sections flagged with Template:Remove">Sections flagged with Template:Remove</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Ncmpcpp&amp;oldid=648845">https://wiki.archlinux.org/index.php?title=Ncmpcpp&amp;oldid=648845</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 13 January 2021, at 09:05.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
