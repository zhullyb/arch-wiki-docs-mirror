<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>fbpad - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Fbpad rootpage-Fbpad skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">fbpad</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><a rel="nofollow" class="external text" href="http://repo.or.cz/w/fbpad.git">fbpad</a> is a small framebuffer terminal that manages many terminals through single character tags. It is exceptionally lightweight, being written in C and using its own font format, tinyfont, which avoids <a href="../en/Xorg.html" title="Xorg">xorg</a> font dependencies. fbpad optionally supports 256 colors, bold fonts, and saving the framebuffer contents to memory, all which combined make fbpad a viable alternative to the <a href="../en/Xorg.html" class="mw-redirect" title="X">X</a> server for many purposes.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Configuration"><span class="tocnumber">2</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Tag_Colors"><span class="tocnumber">2.1</span> <span class="toctext">Tag Colors</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Fonts"><span class="tocnumber">2.2</span> <span class="toctext">Fonts</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Color_Support"><span class="tocnumber">2.3</span> <span class="toctext">Color Support</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6">
<a href="#Usage"><span class="tocnumber">3</span> <span class="toctext">Usage</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Copying_Text"><span class="tocnumber">3.1</span> <span class="toctext">Copying Text</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Watching_YouTube"><span class="tocnumber">3.2</span> <span class="toctext">Watching YouTube</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Recommended_Programs"><span class="tocnumber">4</span> <span class="toctext">Recommended Programs</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#External_Links"><span class="tocnumber">5</span> <span class="toctext">External Links</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fbpad-git/">fbpad-git</a></span><sup><small>AUR</small></sup> can be installed from the <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>, which by default imports the "bold" and "scrsnap" branches of fbpad, which add in 256-colors and bold fonts, and saving the contents of the framebuffer, respectively. fbpad is customized via a <code>config.h</code> file, and edits to the <code>config.h</code> file are incorporated into fbpad after recompiling fbpad, using the command <code>makepkg --skipinteg -i</code>. 
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>Users most likely will want to edit the definitions in the <code>config.h</code> for fonts (more on this later), <code>SHELL</code>, <code>MAIL</code>, and <code>EDITOR</code> prior to use, to their preferred programs.
</p>
<p><a href="../en/Dwm.html" title="Dwm">dwm</a> users should have no problems accustoming to fbpad. fbpad-specific keybindings are initiated with the modifier key, which is hardcoded as the <code>Alt</code> key, just like in dwm. <code>Alt+j</code> and <code>Alt+k</code> switch between terminals in an open tag, <code>Alt+o</code> switches to the last open tag, and <code>Alt+p</code> shows the list of open tags, to name a few. Users comfortable with manually patching source code can edit the <code>fbpad.c</code> file to edit/add keybindings. 
</p>
<p>If you re-compile fbpad often, you would probably like to be able to reload fbpad without having to manually re-launch it. The following code starts fbpad post login in tty1 and will reload it if you quit fbpad with <code>Ctrl+Alt+q</code>.
</p>
<pre>if [[ $(tty) = /dev/tty1 ]]; then
  while true; do
    fbpad &gt;/dev/null 2&gt;&amp;1
  done
fi
</pre>
<p>Place this at the end of your shellrc file.
</p>
<h3><span class="mw-headline" id="Tag_Colors">Tag Colors</span></h3>
<p>The default background of the list of tags is hardcoded as white, the foreground of empty tags as black, the foreground of fully occupied tags as green (each tag may contain two terminals), and the foreground of tags that are not fully occupied as blue. This color scheme clearly is not for everyone, but this is easily remedied with the following patch:
</p>
<pre>--- a/fbpad.c	2011-11-11 13:02:22.834825518 -0500
+++ b/fbpad.c	2011-11-11 13:04:07.016043271 -0500
@@ -110,7 +110,7 @@
 
 static void showtags(void)
 {
-	int colors[] = {15, 4, 2};
+	int colors[] = {8, 2, 9};
 	int c = 0;
 	int r = pad_rows() - 1;
 	int i;
@@ -128,7 +128,7 @@
 			nt++;
 		pad_put(i == ctag ? '(' : ' ', r, c++, FGCOLOR, BGCOLOR);
 		if (TERMSNAP(i))
-			pad_put(tags[i], r, c++, !nt ? BGCOLOR : colors[nt], 15);
+			pad_put(tags[i], r, c++, !nt ? 8 : colors[nt], BGCOLOR);
 		else
 			pad_put(tags[i], r, c++, colors[nt], BGCOLOR);
 		pad_put(i == ctag ? ')' : ' ', r, c++, FGCOLOR, BGCOLOR);</pre>
<p>To use, replace "8" with the desired color for empty tags (in both instances), "2" with the desired color for not fully occupied tags, and "9" with the desired color for fully occupied tags, where the colors 0-15 are defined in the <code>config.h</code> file. This patch also makes the default background color the background color of your terminal, which the writer finds to be a more natural choice.
</p>
<p>Note that the second "8" is the color for tags for which fbpad saves the framebuffer contents. If you choose to define <code>TAGS_SAVED</code> as <code>TAGS</code>, then you will want your default foreground color and the color for saved tags to be the same, i.e. "8" in both instances. Otherwise, you may define <code>TAGS_SAVED</code> as a concatenated string of the tags to be saved, and change the second "8" to the color you wish to indicate saved tags by. The writer herself saves all tags for convenience. 
</p>
<p>Save the patch as <code>fbpad-tagcolor.diff</code>, add <code>'fbpad-tagcolor.diff'</code> to your source array, and the following line to the <code>PKGBUILD</code> after the line that copies the <code>config.h</code> file:
</p>
<pre>patch -p1 -i "${srcdir}/${_gitname}-tagcolor.diff" || return 1
</pre>
<h3><span class="mw-headline" id="Fonts">Fonts</span></h3>
<p>The font format for fbpad is the "tinyfont", and there exists a utility, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ft2tf/">ft2tf</a></span><sup><small>AUR</small></sup>, which converts TTF files to the tinyfont format. You will need to edit the <code>config.h</code> file in the ft2tf build directory to point to the TTF file of your desired font. For instance, if the font file <code>MonteCarloFixed.ttf</code> was located in <code>$HOME/.fonts</code> directory, you would edit line 10 of the <code>config.h</code> to look like the following:
</p>
<pre>{"/home/archie/.fonts/MonteCarloFixed12.ttf", 6},
</pre>
<p>if your username was "archie", and the font size of Monte Carlo you wished to create was size 6. Delete other font lines you see other than this one, unless you wish to supplement your font with the glyphs from another font, in which case, add lines like the one above for your other TTF fonts.
</p>
<p>Then, run <code>makepkg -skipinteg -i</code> to rebuild and reinstall the package with your customized settings.
</p>
<p>After installing ft2tf, the following command creates a tinyfont file:
</p>
<pre>$ ft2tf &gt; MyFont.tf
</pre>
<p>where "MyFont" can be replaced with a name of your choosing.
</p>
<p>Remember to edit your <code>config.h</code> to point to the directory where you save your <code>MyFont.tf</code>. If your font also has a bold face, repeat the process of editing the ft2tf <code>config.h</code> file, this time specifying the location of the boldface TTF file in the ft2tf <code>config.h</code>, rebuilding with makepkg, and adding the final boldface tinyfont location to your fbpad <code>config.h</code>.
</p>
<p>Also note that some fonts might require modification of the <code>WIDTHDIFF</code> and <code>HEIGHTDIFF</code> to have the proper width and height, respectively.
</p>
<h3><span class="mw-headline" id="Color_Support">Color Support</span></h3>
<p>
By default, the AUR package installs the custom terminfo for fbpad, but you will need to add </p>
<pre>export TERM=fbpad-256</pre>
<p> to your shellrc to take advantage of the 256 color support. Clearly, commands not spawned in your default shell (for instance, those for <code>EDITOR</code> and <code>MAIL</code>) will not read your shellrc file, so you will need to edit their definitions in your <code>config.h</code> file to have the commands for <code>EDITOR</code> and <code>MAIL</code> run in a parent shell. For instance, the author of this article, who uses <a href="../en/Zsh.html" title="Zsh">zsh</a>, changed the default command for <code>MAIL</code> from:
</p>
<pre>#define MAIL		"mailx"
</pre>
<p>to
</p>
<pre>#define MAIL		"zsh -i -c mailx"
</pre>
<p>Additionally, to have colors with the <code>ls</code> command, "fbpad-256" needs to be added to the list of terms that <code>ls</code> knows can handle color. Per the <code>README</code>, run the following command in your shell:
</p>
<pre>$ dircolors --print-database | sed '/^TERM linux$/aTERM fbpad-256' &gt;$HOME/.dircolors
</pre>
<p>and add <code>eval `dircolors ~/.dircolors`</code> to your shellrc file so that the custom dircolors file, with the fbpad-256 term added, may be loaded.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>The following are examples of how some general desktop needs may be implemented in fbpad.
</p>
<h3><span class="mw-headline" id="Copying_Text">Copying Text</span></h3>
<p>As everything is done mouselessly in fbpad, to copy text, users can make a "screenshot" of all the text on the screen with the <code>Alt+s</code> command. This will save all viewable text to the file <code>/tmp/scr</code>. Then, if your shell supports editing the commandline with <a href="../en/Vim.html" title="Vim">vim</a> (for instance, the edit-command-line ZLE function in zsh), you can open the <code>/tmp/scr</code> file as a new buffer in vim and use its copy keybindings to paste the needed text into your original buffer. <a href="../en/Emacs.html" title="Emacs">Emacs</a> users probably can adopt a similar scheme to copy text.
</p>
<h3><span class="mw-headline" id="Watching_YouTube">Watching YouTube</span></h3>
<p>If one is using <a href="../en/MPlayer.html" title="MPlayer">MPlayer</a> with the video output driver set to <code>fbdev2</code>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=youtube-viewer">youtube-viewer</a></span> can be used for searching YouTube and watching with MPlayer from the commandline in fbpad. Alternatively, one can add the following script as an external browser in the commandline web browser <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=w3m">w3m</a></span>, and launch playback of videos from YouTube websites with one's media player of choice. The script below employs <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fbff-git/">fbff-git</a></span><sup><small>AUR</small></sup>, a lightweight media player also written by the author of fbpad, and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/yturl/">yturl</a></span><sup><small>AUR</small></sup>, a simple program, that, rather UNIX-like, functions solely to convert YouTube URLs into directly watchable URLs.
</p>
<pre>#!/bin/sh
video=$(yturl $1)
fbff -f $video &gt; /dev/null 2&gt;&amp;1</pre>
<p>Save the file in your <code>PATH</code> as <code>youtube.sh</code>, and add it as an external browser to w3m by opening w3m, hitting the <code>o</code> key to edit options, and edit the "External Browser" field under "External Program Settings" by entering in the field "youtube.sh". Hit "OK", and you are done. Now, when wishing to watch a video, with YouTube open, hit the <code>M</code> key, and the video will begin streaming instantly in fbff.
</p>
<h2><span class="mw-headline" id="Recommended_Programs">Recommended Programs</span></h2>
<p>Here are a few recommendations for programs that enhance the usability of a framebuffer-based desktop:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dvtm">dvtm</a></span> - a dynamic virtual terminal manager (think dwm, but for the console)</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fbcat/">fbcat</a></span><sup><small>AUR</small></sup> - a framebuffer screenshot grabber</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fbff-git/">fbff-git</a></span><sup><small>AUR</small></sup> - an ffmpeg-based media player</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fbpdf-git/">fbpdf-git</a></span><sup><small>AUR</small></sup> - a MuPDF-based PDF viewer, optionally supports DjVu or rendering via poppler</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fbv">fbv</a></span> - an image viewer</li>
<li>
<a href="../en/GNU_Screen.html" title="GNU Screen">GNU Screen</a> - a terminal multiplexer</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=w3m">w3m</a></span> - a commandline web browser</li>
</ul>
<h2><span class="mw-headline" id="External_Links">External Links</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1019748">fbpdf, fbpad, and fbff - A Minimal Framebuffer Software Suite</a></li>
<li>
<a rel="nofollow" class="external text" href="http://litcave.rudi.ir">litcave</a>, the homepage of Ali Gholami Rudi's software projects</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Terminal_emulators.html" title="Category:Terminal emulators">Terminal emulators</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Fbpad&amp;oldid=658465">https://wiki.archlinux.org/index.php?title=Fbpad&amp;oldid=658465</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 8 April 2021, at 20:59.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
