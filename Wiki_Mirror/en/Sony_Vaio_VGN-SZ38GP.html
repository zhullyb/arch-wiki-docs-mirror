<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Sony Vaio VGN-SZ38GP - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Sony_Vaio_VGN-SZ38GP rootpage-Sony_Vaio_VGN-SZ38GP skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Sony Vaio VGN-SZ38GP</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section does not follow the <a href="../en/Help:Laptop_page_guidelines.html" title="Help:Laptop page guidelines">Laptop page guidelines</a>.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Stub (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Sony_Vaio_VGN-SZ38GP">Talk:Sony Vaio VGN-SZ38GP#</a>)</div>
</div>
<h2><span class="mw-headline" id="Switch_Mode">Switch Mode</span></h2>
<ul>
<li>When you finished your installation, download the <a rel="nofollow" class="external text" href="https://www.nvidia.com/object/linux-display-ia32-256.44-driver.html">latest nvidia driver</a>
</li>
<li>Backup the files : libGL.so.1.2  and libglx.so that you can find respectively under the folder /usr/lib/ and /usr/lib/xorg/modules/extensions/</li>
</ul>
<ul>
<li><b>You need to copy them in a different location because when you will install the nvidia driver it will automatically remove them.</b></li>
<li>Backup your xorg.conf file that you can find under /etc/X11/</li>
</ul>
<p><i>I choose to put the lib file under the folder /opt/gpu/intel/lib and the xorg.conf as /etc/X11/xorg.intel</i>
</p>
<ul><li>Reboot the computer in Speed Mode.</li></ul>
<p>If you are running X you need to kill it. First go to a command prompt using Ctrl+Alt+F1-6 and after you have login run the command: killall X. You also need to kill kdm (killall kdm) or other login manager that you may have since it will make X respawn. 
</p>
<p>Then you have to change the runlevel by using the command: init 3.
</p>
<ul>
<li>Run the script provided by nvidia to install the driver, it will automatically generate a new xorg.conf file with the correct setting for you graphic card.</li>
<li>Backup the files libGL.so.&lt;Nvidia Version&gt; and libglx.so.&lt;Nvidia Version&gt; that you can respectively find in /usr/lib and /usr/lib/xorg/modules/extensions</li>
<li>Backup xorg.conf file generated by the nvidia driver</li>
</ul>
<p><i>I choose to put the lib file under the folder /opt/gpu/nv/lib and the xorg.conf as /etc/X11/xorg.nv</i>
</p>
<ul><li>Now use the following script :</li></ul>
<pre>#!/bin/bash
VIDEO=`lspci | grep -c nVidia`
NVIDIA_VERSION="256.35"
if [ "$VIDEO" = 1 ]; then
cp -f /etc/X11/xorg.conf.nv /etc/X11/xorg.conf
ln -sf /opt/gpu/nv/libGL.so.$NVIDIA_VERSION /usr/lib/libGL.so.1
ln -sf /opt/gpu/nv/libglx.so.$NVIDIA_VERSION /usr/lib/xorg/modules/extensions/libglx.so
echo "Speed Mode"
else
cp -f /etc/X11/xorg.conf.intel /etc/X11/xorg.conf
ln -sf /opt/gpu/intel/libGL.so.1.2 /usr/lib/libGL.so.1
ln -sf /opt/gpu/intel/libglx.xorg /usr/lib/xorg/modules/extensions/libglx.so
echo "Stamina Mode"
fi
</pre>
<ul>
<li>Make you script executable using the following command : chmod +x &lt;your_script_name&gt;</li>
<li>Add your script path to the /etc/rc.local file.</li>
</ul>
<h2><span class="mw-headline" id="Screen_Brightness">Screen Brightness</span></h2>
<p>For each graphic card there is a specific program that handle it, for the Intel card it is xbacklight.
</p>
<p>xbacklight is installed by default with the Intel driver so you have nothing to do.
Know we will have to configure acpi to configure the fn keys.
</p>
<ul>
<li>Go to /etc/acpi/events and create two files sonybright-down  sonybright-up.</li>
<li>in the first one add the following line :</li>
</ul>
<pre># /etc/acpi/events/sony-brightness-down
event=sony/hotkey SPIC 00000001 00000010
action=/etc/acpi/actions/sonybright.sh down
</pre>
<ul><li>in the second one add the following line :</li></ul>
<pre># /etc/acpi/events/sony-brightness-up
event=sony/hotkey SPIC 00000001 00000011
action=/etc/acpi/actions/sonybright.sh up
</pre>
<ul>
<li>Now you will have to create two script file for handling the brightness for each graphic card.</li>
<li>Create a file named intelbright.sh and put the following line inside :</li>
</ul>
<pre>#!/bin/bash
if [ "x$1" = "xdown" ]; then
xbacklight -dec 10;
elif [ "x$1" = "xup" ]; then
xbacklight -inc 20;
fi
</pre>
<p><b>If the previous script does not work, you can use the alternative one below :</b>
</p>
<pre>#!/bin/bash
val=$(cat /sys/class/backlight/sony/actual_brightness)
if [ "x$1" = "xdown" ]; then
((val--));
elif [ "x$1" = "xup" ]; then
((val++));
fi
echo $val &gt; /sys/class/backlight/sony/brightness
</pre>
<ul><li>Create a file named nvlbright.sh and put the following line inside :</li></ul>
<pre>#!/bin/bash
if [ "x$1" = "xdown" ]; then
smartdimmer -d;
elif [ "x$1" = "xup" ]; then
smartdimmer -i;
fi
</pre>
<ul><li>You can now add the following line to the script that we used to switch graphic card :</li></ul>
<pre>#!/bin/bash
VIDEO=`lspci | grep -c nVidia`
NVIDIA_VERSION="256.35"
if [ "$VIDEO" = 1 ]; then
cp -f /etc/X11/xorg.conf.nv /etc/X11/xorg.conf
<b>cp -f /opt/gpu/bright/nvbright.sh /etc/acpi/actions/sonybright.sh</b>
ln -sf /opt/gpu/nv/libGL.so.$NVIDIA_VERSION /usr/lib/libGL.so.1
ln -sf /opt/gpu/nv/libglx.so.$NVIDIA_VERSION /usr/lib/xorg/modules/extensions/libglx.so
echo "Speed Mode"
else
cp -f /etc/X11/xorg.conf.intel /etc/X11/xorg.conf
<b>cp -f /opt/gpu/bright/intelbright.sh /etc/acpi/actions/sonybright.sh</b>
ln -sf /opt/gpu/intel/libGL.so.1.2 /usr/lib/libGL.so.1
ln -sf /opt/gpu/intel/libglx.xorg /usr/lib/xorg/modules/extensions/libglx.so
echo "Stamina Mode"
fi
</pre>
<h2><span class="mw-headline" id="Wifi">Wifi</span></h2>
<p>If you have your wireless switch that is not automatically activating your wireless if you do not turn it on before turn on your computer. 
You can fix the problem by adding the following line to /etc/modprobe.d/modprobe.conf
</p>
<pre>options sony-laptop mask=0xffffdfff
</pre>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Sony.html" title="Category:Sony">Sony</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Laptop_style.html" title="Category:Pages or sections flagged with Template:Laptop style">Pages or sections flagged with Template:Laptop style</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Sony_Vaio_VGN-SZ38GP&amp;oldid=662364">https://wiki.archlinux.org/index.php?title=Sony_Vaio_VGN-SZ38GP&amp;oldid=662364</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 18 April 2021, at 20:56.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
