<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Iptables (Српски) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Iptables_Српски rootpage-Iptables_Српски skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Iptables (Српски)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> <span style="color:red;">please use the first argument of the template to provide a brief explanation.</span> (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Iptables_(%D0%A1%D1%80%D0%BF%D1%81%D0%BA%D0%B8)">Talk:Iptables (Српски)#</a>)</div>
</div>
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="/index.php?title=Firewall-ovi&amp;action=edit&amp;redlink=1" class="new" title="Firewall-ovi (page does not exist)">Firewall-ovi</a></li>
<li><a href="../en/Sysctl.html#TCP/IP_stek_ojacavanje" title="Sysctl">Sysctl#TCP/IP stek ojacavanje</a></li>
<sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>
</ul>
</div>
<p>iptables je mocan <a href="../en/Category:Firewalls.html" class="mw-redirect" title="Firewall">vatreni zid</a> ugradjen u linux kernel i deo je <a href="https://en.wikipedia.org/wiki/Netfilter" class="extiw" title="wikipedia:Netfilter">netfilter</a> projekta. Moze se podesiti direktno ili upotrebu jednog od mnogih <a href="../en/Category:Firewalls.html#iptables_front-ends" class="mw-redirect" title="Firewalls">frontend-ova</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> i <a href="../en/Category:Firewalls.html#iptables_GUIs" class="mw-redirect" title="Firewall">GUI-ja</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>. ip tabele se koriste za <a href="https://en.wikipedia.org/wiki/Ipv4" class="extiw" title="wikipedia:Ipv4">ipv4</a> i ip6 tabele se koriste za <a href="https://en.wikipedia.org/wiki/Ipv6" class="extiw" title="wikipedia:Ipv6">ipv6</a>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Instalacija"><span class="tocnumber">1</span> <span class="toctext">Instalacija</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Osnovni_koncepti"><span class="tocnumber">2</span> <span class="toctext">Osnovni koncepti</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#tabele"><span class="tocnumber">2.1</span> <span class="toctext">tabele</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#lanci"><span class="tocnumber">2.2</span> <span class="toctext">lanci</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#mete"><span class="tocnumber">2.3</span> <span class="toctext">mete</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#moduli"><span class="tocnumber">2.4</span> <span class="toctext">moduli</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7">
<a href="#Konfigurisanje"><span class="tocnumber">3</span> <span class="toctext">Konfigurisanje</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#Sa_komandne_linije"><span class="tocnumber">3.1</span> <span class="toctext">Sa komandne linije</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Konfiguracioni_fajl"><span class="tocnumber">3.2</span> <span class="toctext">Konfiguracioni fajl</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Cuvanje_brojaca"><span class="tocnumber">3.3</span> <span class="toctext">Cuvanje brojaca</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Uputstva"><span class="tocnumber">3.4</span> <span class="toctext">Uputstva</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12">
<a href="#Logovanje"><span class="tocnumber">4</span> <span class="toctext">Logovanje</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#Ogranicavanje_ucestalosti_logovanja"><span class="tocnumber">4.1</span> <span class="toctext">Ogranicavanje ucestalosti logovanja</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#syslog-ng"><span class="tocnumber">4.2</span> <span class="toctext">syslog-ng</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#ulogd"><span class="tocnumber">4.3</span> <span class="toctext">ulogd</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Dalje_citanje"><span class="tocnumber">4.4</span> <span class="toctext">Dalje citanje</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Instalacija">Instalacija</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  Vas kernel mora biti kompajliran sa iptables podrskom. Svi Arch Linux kerneli iz oficijalnih repozitorijuma imaju podrsku za ip tabele.</div>
<p>Prvo, instalirajte korisnicke programe:
</p>
<pre># pacman -S iptables
</pre>
<p>Sledece, dodajte ip tabele u <a href="../en/Daemons.html" class="mw-redirect" title="Daemon">DAEMONS niz</a> u /etc/rc.conf da bi ih ucitali u vasa podesavanja prilikom butovanja:
</p>
<pre>DAEMONS=(... <b>iptables</b> network ...)
</pre>
<h2><span class="mw-headline" id="Osnovni_koncepti">Osnovni koncepti</span></h2>
<h3><span class="mw-headline" id="tabele">tabele</span></h3>
<p>iptables sadrze cetiri tabele: raw, filter, nat i mangle.
</p>
<h3><span class="mw-headline" id="lanci">lanci</span></h3>
<p>Lanci se koriste za zadavanje skupa pravila. Paket pocinje pri vrhu lanca i nastavlja dalje ka dole dok ne pogodi pravilo. Postoje tri ugradjena lanca: INPUT, OUTPUT i FORWARD. Sav odlazni saobracaj prolazi kroz FORWARD lanac i sav dolazeci saobracaj prolazi kroz FORWARD lanac. Tri ugradjena lanca imaju pocetne mete koje se koriste ako ni jedno pravilo nije pogodjeno. Lanci definisani od strane korisnika se mogu dodati da bi se skup pravila ucinio efikasnijim.
</p>
<h3><span class="mw-headline" id="mete">mete</span></h3>
<p>"meta" je rezultat koji se desava kada paket pogodi pravilo. Mete se zadaju upotrebom "skoka" (-j). Najcesce mete su ACCEPT, DROP, REJECT i LOG.
</p>
<h3><span class="mw-headline" id="moduli">moduli</span></h3>
<p>Postoje mnogi moduli koji se mogu koristiti za prosirivanje ip tabela poput connlimit, conntrack, limit i recent. Ovi moduli dodaju dodatnu funkcionalnost koja omogucava kompleksna pravila filterovanja.
</p>
<h2><span class="mw-headline" id="Konfigurisanje">Konfigurisanje</span></h2>
<h3><span class="mw-headline" id="Sa_komandne_linije">Sa komandne linije</span></h3>
<p>Mozete da proverite trenutni skup pravila i broj pogodaka po pravilu upotrebom komande:
</p>
<pre># iptables -nvL
Chain INPUT (policy ACCEPT 0 packets, 0 bytes)
 pkts bytes target     prot opt in     out     source               destination   
     
Chain FORWARD (policy ACCEPT 0 packets, 0 bytes)
 pkts bytes target     prot opt in     out     source               destination    
    
Chain OUTPUT (policy ACCEPT 0K packets, 0 bytes)
 pkts bytes target     prot opt in     out     source               destination
</pre>
<p>Ako izlaz izgleda kao gore, onda nema pravila.
</p>
<p>Mozete da flush-ujete i resetujete ip tabele na difolt upotrebom ovih komandi:
</p>
<pre># iptables -P INPUT ACCEPT
# iptables -P FORWARD ACCEPT
# iptables -P OUTPUT ACCEPT
# iptables -F
# iptables -X
</pre>
<h3><span class="mw-headline" id="Konfiguracioni_fajl">Konfiguracioni fajl</span></h3>
<p>Konfiguracioni fajl na /etc/conf.d/iptables pokazuje na lokaciju konfiguracionog fajla. Skup pravila je ucitan kada se daemon startuje.
</p>
<p>IPTABLES=/usr/sbin/iptables
IP6TABLES=/usr/sbin/ip6tables
</p>
<p>IPTABLES_CONF=/etc/iptables/iptables.rules
IP6TABLES_CONF=/etc/iptables/ip6tables.rules
IPTABLES_FORWARD=0  # enable IP forwarding?
</p>
<p>Da sacuvate trenutni skup pravila, upotrebite komandu:
</p>
<pre># /etc/rc.d/iptables save
</pre>
<p>Da ucitate skup pravila, upotrebite ovu komandu:
</p>
<pre># /etc/rc.d/iptables restart
</pre>
<h3><span class="mw-headline" id="Cuvanje_brojaca">Cuvanje brojaca</span></h3>
<p>Mozete takodje, opciono, da sacuvate bajt i paket brojace.
Da to uradite, editujte /etc/rc.d/iptables
</p>
<p>U <b>save)</b> sekciji, izmenite liniju:
</p>
<pre>/usr/sbin/iptables-save &gt; $IPTABLES_CONF
</pre>
<p>na 
</p>
<pre>/usr/sbin/iptables-save -c &gt; $IPTABLES_CONF
</pre>
<p>U <b>stop)</b> sekciji, dodajte sledece da sacuvate pre stopiranja:
</p>
<pre>stop)
     $0 save
     sleep 2
</pre>
<p>U <b>start)</b> sekciji, promenite liniju:
</p>
<pre>/usr/sbin/iptables-restore &lt; $IPTABLES_CONF
</pre>
<p>na
</p>
<pre>/usr/sbin/iptables-restore -c &lt; $IPTABLES_CONF
</pre>
<p>i sacuvajte fajl
</p>
<h3><span class="mw-headline" id="Uputstva">Uputstva</span></h3>
<ul>
<li><a href="/index.php?title=Simple_stateful_firewall_(%D0%A1%D1%80%D0%BF%D1%81%D0%BA%D0%B8)&amp;action=edit&amp;redlink=1" class="new" title="Simple stateful firewall (Српски) (page does not exist)">Simple stateful firewall (Српски)</a></li>
<li><a href="/index.php?title=Router_(%D0%A1%D1%80%D0%BF%D1%81%D0%BA%D0%B8)&amp;action=edit&amp;redlink=1" class="new" title="Router (Српски) (page does not exist)">Router (Српски)</a></li>
</ul>
<h2><span class="mw-headline" id="Logovanje">Logovanje</span></h2>
<p>LOG meta se moze koristiti za logovanje paketa koji pogadjaju pravilo. Nasuprot drugim metama poput ACCEPT ili DROP, paket ce nastaviti da se krece kroz lanac nakon sto pogodi LOG metu. Ovo znaci da ako hocete da omogucite logovanje svih ispustenih paketa, morate da dodate duplo LOG pravilo pre svakog DROP pravila. Posto ovo umanjuje efikasnost i cini stvari manje jednostavnim, LOGDROP lanac se moze napraviti umesto toga.
</p>
<pre>## /etc/iptables/iptables.rules

*filter
:INPUT DROP [0:0]
:FORWARD DROP [0:0]
:OUTPUT ACCEPT [0:0]

... lanci definisani od strane drugih korisnika ..

## LOGDROP chain
:LOGDROP - [0:0]

-A LOGDROP -m limit --limit 5/m --limit-burst 10 -j LOG
-A LOGDROP -j DROP

... pravila ...

## log i drop paketi koji pogadjaju ovo pravilo:
-A INPUT -m state --state INVALID -j LOGDROP

... jos pravila ...
</pre>
<h3><span class="mw-headline" id="Ogranicavanje_ucestalosti_logovanja">Ogranicavanje ucestalosti logovanja</span></h3>
<p>Modul za ogranicavanje se koristi za sprecavanje preteranog narastanja vaseg log fajla za ip tabele ili uzrokovanja bespotrebnog pisanja na hard disk. Bez ogranicavanja, napadac bi mogao da ispuni vas hard disk (ili bar vasu /var particiju) tako sto bi izazvao pisanje u log za ip tabele.
</p>
<p><b>-m limit</b> se koristi za poziv na modul za ogranicavanje. Mozete da upotrebite --limit da podesite prosecnu stopu i --limit-burst da podesite pocetnu burst stopu. Primer:
</p>
<pre>-A LOGDROP -m limit --limit 5/m --limit-burst 10 -j LOG
</pre>
<p>Ovo zadaje pravilo u LOGDROP lanac koji ce logovati sve pakete koji prolaze kroz njega. Prvih 10 paketa ce biti logovano, a zatim ce samo 5 paketa po minutu biti logovano. "limit burst" je obnovljen za jedan svaki put kada "limit rate" nije narusen.
</p>
<h3><span class="mw-headline" id="syslog-ng">syslog-ng</span></h3>
<p>Pretpostavljajuci da koristite syslog-ng koji je difolt u Arch Linux-u, mozete da kontrolisete gde ip tabele loguju izlaz na sledeci nacin:
</p>
<pre>filter f_everything { level(debug..emerg) and not facility(auth, authpriv); };
</pre>
<p>na
</p>
<pre>filter f_everything { level(debug..emerg) and not facility(auth, authpriv) and not filter(f_iptables); };
</pre>
<p>Ovo ce zaustaviti logovanje izlaza ip tabela u /var/log/everything.log.
</p>
<p>Ako isto zelite da ip tabele loguju u neki drugi fajl a ne u /var/log/iptables.log, mozete jednostavno da izmenite vrednost fajla destinacije d_iptables ovde (jos uvek u syslog-ng.conf)
</p>
<pre>destination d_iptables { file("/var/log/iptables.log"); };
</pre>
<h3><span class="mw-headline" id="ulogd">ulogd</span></h3>
<p>ulogd je specijalizovan daemon za logovanje paketa u korisnickom prostoru za netfilter koji moze da zameni difolt LOG metu.
</p>
<p><a rel="nofollow" class="external text" href="http://www.netfilter.org/projects/ulogd/index.html">stranica projekta</a>
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ulogd">ulogd</a></span>
</p>
<h3><span class="mw-headline" id="Dalje_citanje">Dalje citanje</span></h3>
<ul><li><a href="https://en.wikipedia.org/wiki/Iptables" class="extiw" title="wikipedia:Iptables">Wikipedia clanak za IP tabele</a></li></ul>
<ul><li><a rel="nofollow" class="external text" href="http://www.netfilter.org/projects/iptables/index.html">Home stranica za IP tabele</a></li></ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../sr/Category:Security.html" title="Category:Security (Српски)">Security (Српски)</a></li>
<li><a href="../sr/Category:Networking.html" title="Category:Networking (Српски)">Networking (Српски)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Iptables_(%D0%A1%D1%80%D0%BF%D1%81%D0%BA%D0%B8)&amp;oldid=484597">https://wiki.archlinux.org/index.php?title=Iptables_(Српски)&amp;oldid=484597</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 8 August 2017, at 09:04.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
