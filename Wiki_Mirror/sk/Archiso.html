<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Archiso (Slovenský) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Archiso_Slovenský rootpage-Archiso_Slovenský skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Archiso (Slovenský)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/Archiso.html" class="mw-redirect" title="Remastering the Install ISO">Remastering the Install ISO</a></li>
<li><a href="../en/Preboot_Execution_Environment.html" class="mw-redirect" title="Archiso as pxe server">Archiso as pxe server</a></li>
</ul>
</div>
<p><b>Archiso</b> je malá skupina bashových skriptov schopných vybudovať plne funkčný Arch Linux obraz pre CD a USB. Je to nástroj na generovanie oficiálnych CD/USB obrazov, avšak je to veľmi všeobecný nástroj
a potenciálne môže byť využitý na generovanie hocičoho od záchranných systémov, inštalačných diskov, špeciálne zameraných CD/DVD/USB systémov a ktovie čoho ešte. Srdcom a dušou Archisa je mkarchiso.
Všetky jeho možnosti sú popísané v jeho výpise použitie, takže tu nebude popísané jeho priame použitie. Miesto toho bude tento wiki článok v pozícii príručky pre veľmi rýchle vytvorenie live média.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Nastavenie"><span class="tocnumber">1</span> <span class="toctext">Nastavenie</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Konfigur%C3%A1cia_n%C3%A1%C5%A1ho_live_m%C3%A9dia"><span class="tocnumber">2</span> <span class="toctext">Konfigurácia nášho live média</span></a>
<ul>
<li class="toclevel-2 tocsection-3">
<a href="#In%C5%A1tal%C3%A1cia_bal%C3%AD%C4%8Dkov"><span class="tocnumber">2.1</span> <span class="toctext">Inštalácia balíčkov</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#Vlastn%C3%BD_lok%C3%A1lny_repozit%C3%A1r"><span class="tocnumber">2.1.1</span> <span class="toctext">Vlastný lokálny repozitár</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#Vyhnutie_sa_in%C5%A1tal%C3%A1cii_bal%C3%AD%C4%8Dkov_patriacich_do_z%C3%A1kladnej_skupiny"><span class="tocnumber">2.1.2</span> <span class="toctext">Vyhnutie sa inštalácii balíčkov patriacich do základnej skupiny</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-6"><a href="#Prid%C3%A1vanie_u%C5%BE%C3%ADvate%C4%BEa"><span class="tocnumber">2.2</span> <span class="toctext">Pridávanie užívateľa</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Prid%C3%A1vanie_s%C3%BAborov_do_obrazu"><span class="tocnumber">2.3</span> <span class="toctext">Pridávanie súborov do obrazu</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Boot_Loader"><span class="tocnumber">2.4</span> <span class="toctext">Boot Loader</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Login_mana%C5%BE%C3%A9r"><span class="tocnumber">2.5</span> <span class="toctext">Login manažér</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Zmena_automatick%C3%A9ho_prihlasovania"><span class="tocnumber">2.6</span> <span class="toctext">Zmena automatického prihlasovania</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11">
<a href="#Budovanie_ISO_obrazu"><span class="tocnumber">3</span> <span class="toctext">Budovanie ISO obrazu</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#Prebudovanie_ISO_obrazu"><span class="tocnumber">3.1</span> <span class="toctext">Prebudovanie ISO obrazu</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13">
<a href="#Pou%C5%BEitie_ISO_obrazu"><span class="tocnumber">4</span> <span class="toctext">Použitie ISO obrazu</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#CD"><span class="tocnumber">4.1</span> <span class="toctext">CD</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#USB"><span class="tocnumber">4.2</span> <span class="toctext">USB</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#GRUB"><span class="tocnumber">4.3</span> <span class="toctext">GRUB</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#grub4dos"><span class="tocnumber">4.4</span> <span class="toctext">grub4dos</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18">
<a href="#In%C5%A1tal%C3%A1cia_bez_pr%C3%ADstupu_na_internet"><span class="tocnumber">5</span> <span class="toctext">Inštalácia bez prístupu na internet</span></a>
<ul>
<li class="toclevel-2 tocsection-19"><a href="#In%C5%A1tal%C3%A1cia_archisa_do_nov%C3%A9ho_kore%C5%88ov%C3%A9ho_adres%C3%A1ra"><span class="tocnumber">5.1</span> <span class="toctext">Inštalácia archisa do nového koreňového adresára</span></a></li>
<li class="toclevel-2 tocsection-20">
<a href="#Zmena_pr%C3%A1v_(chroot)_a_konfigur%C3%A1cia_z%C3%A1kladn%C3%A9ho_syst%C3%A9mu"><span class="tocnumber">5.2</span> <span class="toctext">Zmena práv (chroot) a konfigurácia základného systému</span></a>
<ul>
<li class="toclevel-3 tocsection-21"><a href="#Obnova_konfigur%C3%A1cie_journald"><span class="tocnumber">5.2.1</span> <span class="toctext">Obnova konfigurácie journald</span></a></li>
<li class="toclevel-3 tocsection-22"><a href="#Obnova_konfigur%C3%A1cie_pam"><span class="tocnumber">5.2.2</span> <span class="toctext">Obnova konfigurácie pam</span></a></li>
<li class="toclevel-3 tocsection-23"><a href="#Zmazanie_%C5%A1peci%C3%A1lneho_udev_pravidla"><span class="tocnumber">5.2.3</span> <span class="toctext">Zmazanie špeciálneho udev pravidla</span></a></li>
<li class="toclevel-3 tocsection-24"><a href="#Zablokovanie_a_zmazanie_slu%C5%BEieb_vytvoren%C3%BDch_archisom"><span class="tocnumber">5.2.4</span> <span class="toctext">Zablokovanie a zmazanie služieb vytvorených archisom</span></a></li>
<li class="toclevel-3 tocsection-25"><a href="#Zmazanie_%C5%A1peci%C3%A1lnych_skriptov_live_prostredia"><span class="tocnumber">5.2.5</span> <span class="toctext">Zmazanie špeciálnych skriptov live prostredia</span></a></li>
<li class="toclevel-3 tocsection-26"><a href="#Opravenie_pr%C3%ADstupov%C3%BDch_pr%C3%A1v_k_domovsk%C3%A9mu_adres%C3%A1ru_roota"><span class="tocnumber">5.2.6</span> <span class="toctext">Opravenie prístupových práv k domovskému adresáru roota</span></a></li>
<li class="toclevel-3 tocsection-27"><a href="#Nastavte_archu_heslo"><span class="tocnumber">5.2.7</span> <span class="toctext">Nastavte archu heslo</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-28">
<a href="#Pozrite_tie%C5%BE"><span class="tocnumber">6</span> <span class="toctext">Pozrite tiež</span></a>
<ul>
<li class="toclevel-2 tocsection-29"><a href="#Dokument%C3%A1cia_a_tutori%C3%A1ly"><span class="tocnumber">6.1</span> <span class="toctext">Dokumentácia a tutoriály</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#Pr%C3%ADklad_%C5%A1ablony_na_prisp%C3%B4sobenie"><span class="tocnumber">6.2</span> <span class="toctext">Príklad šablony na prispôsobenie</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Nastavenie">Nastavenie</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Pri nasledujúcich krokoch sa odporúča byť prihlásený ako root. V opačnom prípade je pravdepodobné, že budete mať problémy s prístupovými právami.</div>
<p>Skôr než začneme, musíme <a href="../en/Pacman.html" title="Pacman">nainštalovať</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=archiso">archiso</a></span> z <a href="../en/Official_repositories.html" title="Official repositories">oficiálnych repozitárov</a>. Alternatívne sa môže použiť <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/archiso-git/">archiso-git</a></span><sup><small>AUR</small></sup> z <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AURu</a>.
</p>
<p>Vytvorte adresár, v ktorom budete pracovať. Ten bude priestorom, kde sa budú nachádzať všetky modifikácie. <code>~/archlive</code> by malo byť postačujúce.
</p>
<pre>$ mkdir ~/archlive
</pre>
<p>Archiso skripty, ktoré sa skôr nainštalovali do hostiteľského systému, je teraz potrepné prekopírovať do novovytvoreného adresára, v ktorom sa bude pracovať.
</p>
<p>Archiso prichádza s dvoma "profilmi": <i>releng</i> a <i>baseline</i>.
</p>
<p>Ak si želáte vytvoriť plne prispôsobenú live verziu Arch Linuxu predinštalovanú so všetkými vašimi obľúbenými programami a konfiguráciami, použite <i>releng</i>.
</p>
<p>Ak len chcete vytvoriť čo najzákladnejšie live médium so žiadnymi predinštalovanými balíčkami a minimalistickou konfiguráciu, použite <i>baseline</i>.
</p>
<p>Vzhľadom na váš výber, spustite nasledovný príkaz, pričom nahraďte 'PROFILE' reťazcom <b>releng</b> alebo <b>baseline</b>.
</p>
<pre># cp -r /usr/share/archiso/configs/<b>PROFILE</b>/ ~/archlive
</pre>
<p>Ak používate profil <i>releng</i> k vytvoreniu plne prispôsobeného obrazu, potom pokračujte sekciou <a href="#Konfigur%C3%A1cia_n%C3%A1%C5%A1ho_live_m%C3%A9dia">#Konfigurácia nášho live média</a>
</p>
<p>Ak používate profil <i>baseline</i> k vytvoreniu okliešteného obrazu, potom nebudete potrebovať robiť žiadne prispôsobenia a môžete pokračovať sekciou <a href="#Budovanie_ISO_obrazu">#Budovanie ISO obrazu</a>.
</p>
<h2>
<span id="Konfigur.C3.A1cia_n.C3.A1.C5.A1ho_live_m.C3.A9dia"></span><span class="mw-headline" id="Konfigurácia_nášho_live_média">Konfigurácia nášho live média</span>
</h2>
<p>Táto sekcia detailne popisuje konfiguráciu obrazu, ktorý vytvoríte. Popisuje definíciu balíčkov a konfigurácii ktoré chcete mať vo vašom live obraze.
</p>
<p>Vojdite do adresára, ktorý sme vytvorili skôr (~/archlive/releng/ ak postupujete podľa tejto príručky). Uvidíte v ňom množstvo súborov a adresárov. My sa zameráme len na pár z nich, predovšetkým:
packages.* - toto je miesto, kde napíšete do samostatných riadkov názvy balíčkov, ktoré chcete mať predinštalované, a adresár airootfs - tento adresár je v úlohe medzivrstvy a tu sa vykonávajú všetky prispôsobenia. 
</p>
<p>Vo všeobecnosti každá administratívna úloha, ktorú by ste normálne spravili po čistej inštalácii (okrem inštalácie balíčkov), môže byť naskriptovaná v súbore <code>~/archlive/releng/airootfs/root/customize-airootfs.sh</code>. Musí byť písaný z pohľadu nového prostredia, takže / v skripte znamená koreňový adresár live-iso média, ktoré bude vytvorené.
</p>
<h3>
<span id="In.C5.A1tal.C3.A1cia_bal.C3.AD.C4.8Dkov"></span><span class="mw-headline" id="Inštalácia_balíčkov">Inštalácia balíčkov</span>
</h3>
<p>Budete chcieť vytvoriť zoznam balíčkov, ktoré budú obsiahnuté vo vašom live systéme. Do súboru sa napíšu riadok za riadkom názvy baličkov. Je to <i><b>skvelé</b></i> pre špeciálne zamerané live CD. Stačí
špecifikovať balíčky v súbore packages.both a vytvoriť image.
Súbory packages.i686 a packages.x84_64 umožnia inštalovať software pre 32bitový systém, resp. pre 64 bitový.
</p>
<p>Ak budete chcieť neskôr nainštalovať systém v prostredí bez internetového pripojenia, alebo budete chcieť preskočiť opätovné sťahovanie súborov, odporúčam nainštalovať "rsync".
</p>
<h4>
<span id="Vlastn.C3.BD_lok.C3.A1lny_repozit.C3.A1r"></span><span class="mw-headline" id="Vlastný_lokálny_repozitár">Vlastný lokálny repozitár</span>
</h4>
<div class="noprint archwiki-template-message">
<p><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" decoding="async" width="48" height="48"></a><b>This article or section is a candidate for merging with <a href="../en/Pacman/Tips_and_tricks.html#Custom_local_repository" class="mw-redirect" title="Pacman tips">Pacman tips#Custom local repository</a>.</b><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Notes:</b> Presuňte všeobecné informácie (napr. strom repozitárov) do hlavného článku. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Archiso_(Slovensk%C3%BD)">Talk:Archiso (Slovenský)#</a>)</div>
</div>
<p>Taktiež môžete <a href="../en/Pacman/Tips_and_tricks.html#Custom_local_repository" class="mw-redirect" title="Custom local repository">vytvoriť vlastný lokálny repozitár</a> pre účel prípravy vlastný balíčkov alebo balíčkov z <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>/<a href="../en/Arch_Build_System.html" class="mw-redirect" title="ABS">ABS</a>. 
Keď tak spravíte s balíčkami pre obe architektúry, mali by ste dodržať presnú adresárovú štruktúru, aby ste sa nedostali do problémov.
</p>
<p>Napríklad:
</p>
<ul><li>
<code>~/vlastnarepo</code>
<ul>
<li>
<code>~/vlastnarepo/x86_64</code>
<ul>
<li>~/vlastnarepo/x86_64/foo-x86_64.pkg.tar.xz</li>
<li>~/vlastnarepo/x86_64/vlastnarepo.db.tar.gz</li>
<li>~/vlastnarepo/x86_64/cvlastnarepo.db (odkaz vytvorený pomocou <code>repo-add</code>)</li>
</ul>
</li>
<li>
<code>~/vlastnarepo/i686</code>
<ul>
<li>~/vlastnarepo/i686/foo-i686.pkg.tar.xz</li>
<li>~/vlastnarepo/i686/vlastnarepo.db.tar.gz</li>
<li>~/vlastnarepo/i686/vlastnarepo.db (odkaz vytvorený pomocou <code>repo-add</code>)</li>
</ul>
</li>
</ul>
</li></ul>
<p>Potom môžete pridať váš repozitár pridaním nasledovného kódu do <code>~/archlive/releng/pacman.conf</code>. Umiestnite ho nad ostatné záznamy (pre najvyššiu prioritu).
</p>
<pre># vlastný repozitár
[vlastnyrepo]
SigLevel = Optional TrustAll
Server = file:///home/<b>užívateľ</b>/vlastnarepo/$arch
</pre>
<p>Budovacie skripty sú tým pripravené pre vybrané balíčky.
</p>
<p>Ak tomu tak nie je, môžu sa objaviť chybové správy podobné nasledujúcej:
</p>
<pre>error: failed to prepare transaction (package architecture is not valid)
:: package foo-i686 does not have a valid architecture
</pre>
<h4>
<span id="Vyhnutie_sa_in.C5.A1tal.C3.A1cii_bal.C3.AD.C4.8Dkov_patriacich_do_z.C3.A1kladnej_skupiny"></span><span class="mw-headline" id="Vyhnutie_sa_inštalácii_balíčkov_patriacich_do_základnej_skupiny">Vyhnutie sa inštalácii balíčkov patriacich do základnej skupiny</span>
</h4>
<p>Vo všeobecnosti <code>/usr/bin/mkarchiso</code>, skript využívaný v <code>~/archlive/releng/build.sh</code>, volá skript nazvaný <code>pacstrap</code>, patriaci do balíčka <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=arch-install-scripts">arch-install-scripts</a></span>, bez parametra <code>-i</code>,
čo spôsobí, že <a href="../en/Pacman.html" title="Pacman">Pacman</a> nebude čakať na vstup užívateľa počas inštalačného procesu.
</p>
<p>Tým, že balíčky (zo základnej skupiny), ktoré sa nemajú inštalovať, pridáte do riadku <code>IgnorePkg</code> v súbore <code>~/archlive/releng/pacman.conf</code>, sa <a href="../en/Pacman.html" title="Pacman">Pacman</a> aj napriek tomu spýta, či si tieto balíčky
želáte nainštalovať. A keďže je vstup užívateľa potlačený, balíčky sa nakoniec nainštalujú. Existuje niekoľko možností, ako sa tomu vyhnúť:
</p>
<ul><li>
<b>Nepekné</b>: Pridajte parameter <code>-i</code> do každého riadku volajúceho <code>pacstrap</code> v súbore <code>/usr/bin/mkarchiso</code>.</li></ul>
<ul><li>
<b>Čisté</b>: Vytvorte kópiu súboru <code>/usr/bin/mkarchiso</code>, do ktorého pridáte parameter a upravte <code>~/archlive/releng/build.sh</code> tak, aby volal modifikovanú verziu skriptu mkarchiso.</li></ul>
<ul><li>
<b>Pokročilé</b>: Vytvorte funkciu pre <code>~/archlive/releng/build.sh</code>, ktorá explicitne zmaže balíčky po základnej inštalácii. Tým sa zbavíte otravného enetrovania počas inštalačného procesu.</li></ul>
<h3>
<span id="Prid.C3.A1vanie_u.C5.BE.C3.ADvate.C4.BEa"></span><span class="mw-headline" id="Pridávanie_užívateľa">Pridávanie užívateľa</span>
</h3>
<p>So správou užívateľov môžete zaobchádzať rovnako, ako počas bežnej inštalácie, až na to, že vaše príkaze musíte umiestniť do skriptu <code>~/archlive/releng/airootfs/root/customize_airootfs.sh</code>.
Ďalšie informácie nájdete na stránke <a href="../en/Users_and_groups.html#User_management" title="Users and groups">správy užívateľov</a>.
</p>
<h3>
<span id="Prid.C3.A1vanie_s.C3.BAborov_do_obrazu"></span><span class="mw-headline" id="Pridávanie_súborov_do_obrazu">Pridávanie súborov do obrazu</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Aby ste to mohli spraviť, musíte byť prihlásený ako root. Nemeňte vlastníctvo žiadneho kopírovaného súboru. <b>Všetko</b> v rámci adresára airootfs musí vlastniť root. Vhodné nastavenie vlastníctva
bude riešené zachvíľu.</div>
<p>Adresár airootfs vystupuje ako medzivrstva, predstavujte si ho ako rootovský adresár '/' na vašom aktuálnom systéme. Všetky tu umiestnené súbory sa budú nachádzať aj vo vytvorenom live systéme.
</p>
<p>Takže ak máte v súčasnom systéme naskriptované IP tabuľky a chcete ich používať aj vo vašom live systéme, skopírujte ich nasledovne:
</p>
<pre># cp -r /etc/iptables ~/archlive/releng/airootfs/etc
</pre>
<p>Umiestňovanie súborov do domovského adresára sa mierne líši. Neumiestňujte ich do adresára airootfs/home, ale radšej vytvorte adresár skel v airootfs/etc a umiestnite ich doňho. Neskôr pridáme určité príkazy
do skriptu customize_root_image.sh, ktorý využijeme na prekopírovanie týchto súborov a nastavení prístupových práv pri bootovaní systému.
</p>
<p>Najprv vytvorte prázdny adresár. Uistite sa, že ste v adresári ~/archlive/releng/airootfs/etc (ak je to ten, z ktorého pracujete):
</p>
<pre># cd ~/archlive/releng/airootfs/etc &amp;&amp; mkdir skel
</pre>
<p>Teraz skopírujte 'domovské' súbory do adresára skel, stále všetko robte ako root!
Napríklad pre .bashrc. 
</p>
<pre># cp ~/.bashrc ~/archlive/releng/airootfs/etc/skel/
</pre>
<p>Po spustení skriptu <code>~/archlive/releng/airootfs/root/customize-airootfs.sh</code> a vytvorení nového užívateľa sa súbory z adresára skel automaticky nakopírujú do nového domovského adresára so správnymi prístupovými právami.
</p>
<h3><span class="mw-headline" id="Boot_Loader">Boot Loader</span></h3>
<p>Predvolený súbor by mal fungovať, takže by nemalo byť potrebné do neho zasahovať.
</p>
<p>Vzhľadom na modularitu isolinuxu máte možnosť použiť množstvo add-onov. Pozrite si <a rel="nofollow" class="external text" href="http://syslinux.zytor.com/wiki/index.php/SYSLINUX">oficiálne stránky syslinuxu</a> a <a rel="nofollow" class="external text" href="https://projects.archlinux.org/archiso.git/tree/configs/syslinux-iso/boot-files">git repozitár archisa</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-08-05 ⓘ]</sup>. Využitím spomínaných add-onov je možné vytvoriť vizuálne atraktívnejšie a komplexnejšie menu.
Pozrite sa <a rel="nofollow" class="external text" href="http://syslinux.zytor.com/wiki/index.php/Comboot/menu.c32">sem</a>.
</p>
<h3>
<span id="Login_mana.C5.BE.C3.A9r"></span><span class="mw-headline" id="Login_manažér">Login manažér</span>
</h3>
<p>X server je možné spustiť automaticky po nabootovaní povolením <a href="../en/Systemd.html" title="Systemd">systemd</a> služby vášho login manažéra. Ak viete, na ktorý .service je potrebné vyvoriť odkaz, tak je
to skvelé. Ak neviete, môžete to jednoducho zistiť v prípade, že používate rovnaký program ako ten, ktorý chcete použiť v live médiu. Stačí zadať príkaz
</p>
<pre># systemctl disable <b>nazovVashoLoginManazera</b>
</pre>
<p>pre jeho dočasné vypnutie. Teraz zadajte rovnaký príkaz, akurát nahraďte slovo "disable" za "enable", aby sa služba znova aktivovala. Systemctl zobrazí informáciu
o odkaze, ktorý práve vytvoril. Teraz vojdite do adresára ~/archiso/releng/airootfs/etc/systemd/system a vytvorte tu rovnaký odkaz.
</p>
<p>Napríklad (uistite sa, že ste buď v adresári ~/archiso/releng/airootfs/etc/systemd/system, alebo pridajte adresu do príkazu):
</p>
<pre># ln -s /usr/lib/systemd/system/lxdm.service display-manager.service
</pre>
<p>Týmto sa povolí služba LXDM po spustení vášho live systému.
</p>
<h3>
<span id="Zmena_automatick.C3.A9ho_prihlasovania"></span><span class="mw-headline" id="Zmena_automatického_prihlasovania">Zmena automatického prihlasovania</span>
</h3>
<p>Konfigurácia automatického prihlasovania pre getty sa nachádza v súbore airootfs/etc/systemd/system/getty@tty1.service.d/autologin.conf.
</p>
<p>Ak chcete zmeniť automaticky prihlasovaného užívateľa, mali by ste modifikovať tento súbor:
</p>
<pre>[Service]
ExecStart=
ExecStart=-/sbin/agetty --autologin <b>isouzivatel</b> --noclear %I 38400 linux
</pre>
<p>Alebo ho zmažte, ak chcete zabrániť automatickému prihlasovaniu.
</p>
<h2><span class="mw-headline" id="Budovanie_ISO_obrazu">Budovanie ISO obrazu</span></h2>
<p>Teraz ste pripravený vytvoriť z pripravených súborov obraz .iso, ktorý potom môžete napáliť na CD, alebo nahrať na USB:
Z adresára, v ktorom ste pracovali (buď ~/archlive/releng, alebo ~/archlive/baseline), spustite:
</p>
<pre># ./build.sh -v
</pre>
<p>Tento skript najprv stiahne a nainštaluje balíčky, ktoré ste si zvolili, do adresára work/*/airootfs, vytvorí kernel a inicializačné obrazy, aplikuje všetky
požadované prispôsobenia a na záver vytvorí iso obraz do adresára out/.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Ak chcete používať na vašom Live CD nejakého <a href="../en/Window_manager.html" title="Window manager">správcu okien</a>, musíte pridať všetky potrebné a správne <a href="../en/Xorg.html#Driver_installation" class="mw-redirect" title="Video drivers">grafické ovládače</a>,
pretože inak môže správca pri načítaní zamrznúť.</div>
<h3><span class="mw-headline" id="Prebudovanie_ISO_obrazu">Prebudovanie ISO obrazu</span></h3>
<p>Ak si želáte prebudovať váš iso obraz po pár modifikáciách, musíte zmazať zámkové súbory v pracovnom adresári:
</p>
<pre># rm -v work/build.make_*
</pre>
<h2>
<span id="Pou.C5.BEitie_ISO_obrazu"></span><span class="mw-headline" id="Použitie_ISO_obrazu">Použitie ISO obrazu</span>
</h2>
<h3><span class="mw-headline" id="CD">CD</span></h3>
<p>Jednoducho napáľte iso súbor na cd. Ak chcete, môžete postupovať podľa príručky <a href="../en/Optical_disc_drive.html#Burning" class="mw-redirect" title="CD Burning">napaľovania CD</a>.
</p>
<h3><span class="mw-headline" id="USB">USB</span></h3>
<p>Pozrite si informácie o <a href="../en/USB_flash_installation_medium.html" class="mw-redirect" title="USB flash installation media">USB flashke ako inštalačnom médiu</a>.
</p>
<h3><span class="mw-headline" id="GRUB">GRUB</span></h3>
<p>Pozrite si informácie o <a href="../en/Multiboot_USB_drive.html#Arch_Linux" title="Multiboot USB drive">viacbootovateľnej USB jednotke</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>.
</p>
<h3><span class="mw-headline" id="grub4dos">grub4dos</span></h3>
<p>Grub4dos je utilita, ktorú je možné využiť na vytvorenie viacbootovateľných USBčiek schopných obsahovať viacero linuxových distribúcií na jednej USB jednotke.
</p>
<p>Pre nabootovanie vytvoreného systému nachádzajúcom sa na usb, kde je grub4dos už nainštalovaný, namountujte ISO súbor a skopírujte celý adresár <code>/arch</code> do
<b>koreňového adresára usb</b>. Potom z grub4dos upravte súbor <code>menu.lst</code> (musí byť v koreňovom adresári usb) a pridajte tieto riadky:
</p>
<pre>title Archlinux x86_64
kernel /arch/boot/x86_64/vmlinuz archisolabel=&lt;menovka vášho usb&gt;
initrd /arch/boot/x86_64/archiso.img
</pre>
<p>Podľa potreby zmeňte časť <code>x86_64</code> a doplňte <b>skutočnú</b> menovku usb.
</p>
<h2>
<span id="In.C5.A1tal.C3.A1cia_bez_pr.C3.ADstupu_na_internet"></span><span class="mw-headline" id="Inštalácia_bez_prístupu_na_internet">Inštalácia bez prístupu na internet</span>
</h2>
<p>Ak si želáte nainštalovať archiso v stave akom je bez internetového pripojenia (napr. <a rel="nofollow" class="external text" href="https://archlinux.org/download/">oficiálne mesačné vydanie</a>), alebo ak si
neželáte opätovne sťahovať balíčky:
</p>
<h3>
<span id="In.C5.A1tal.C3.A1cia_archisa_do_nov.C3.A9ho_kore.C5.88ov.C3.A9ho_adres.C3.A1ra"></span><span class="mw-headline" id="Inštalácia_archisa_do_nového_koreňového_adresára">Inštalácia archisa do nového koreňového adresára</span>
</h3>
<p>Miesto inštalácie balíčkov za pomoci utilitky <code>pacstrap</code>(ktorá sťahuje všetky balíčky zo vzdialených repozitárov a my teraz nemáme na internet prístup) skopírujte
prosím <i>všetko</i> v Live prostredí do nového koreňového adresára:
</p>
<pre># time (cp -ax /{usr,bin,lib,lib64,sbin,etc,home,opt,root,srv,var} /mnt)
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Tento príkaz vynecháva niektoré špeciálne adrsáre, ktoré by nemali byť kopírované do nového koreňového adresára.</div>
<p>Potom vytvorte pár adresárov a do koreňového adresára nakopírujte obraz kernelu. Pekne po poradí, aby bola zachovaná integrita nového systému:
</p>
<pre># mkdir -vm755 /mnt/{boot,dev,run,mnt}
# cp -vaT /run/archiso/bootmnt/arch/boot/$(uname -m)/vmlinuz /mnt/boot/vmlinuz-linux
# mkdir -vm1777 /mnt/tmp
# mkdir -vm555 /mnt/{sys,proc}
</pre>
<h3>
<span id="Zmena_pr.C3.A1v_.28chroot.29_a_konfigur.C3.A1cia_z.C3.A1kladn.C3.A9ho_syst.C3.A9mu"></span><span class="mw-headline" id="Zmena_práv_(chroot)_a_konfigurácia_základného_systému">Zmena práv (chroot) a konfigurácia základného systému</span>
</h3>
<p>Teraz si zmeňte práva do novoinštalovaného systému:
</p>
<pre># arch-chroot /mnt /bin/bash
</pre>
<p>Prosím majte na pamäti, že skôr než budete konfigurovať locale, keymap, ... treba spraviť ešte niečo dôležité, aby ste sa vyhli skúmaniu Live prostredia(inými
slovami, prispôsobiť archiso, ktoré nemá súvis s ne-Live prostredím).
</p>
<h4>
<span id="Obnova_konfigur.C3.A1cie_journald"></span><span class="mw-headline" id="Obnova_konfigurácie_journald">Obnova konfigurácie journald</span>
</h4>
<p><a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso/blob/master/configs/releng/airootfs/root/customize_airootfs.sh#L19">Toto prispôsobenie archisa</a> bude viesť k ukladaniu
systémového žurnálu do pamäte RAM, čo znamená, že žurnál nebude dostupný po reštarte systému:
</p>
<pre># sed -i 's/Storage=volatile/#Storage=auto/' /etc/systemd/journald.conf
</pre>
<h4>
<span id="Obnova_konfigur.C3.A1cie_pam"></span><span class="mw-headline" id="Obnova_konfigurácie_pam">Obnova konfigurácie pam</span>
</h4>
<p><a rel="nofollow" class="external text" href="https://projects.archlinux.org/archiso.git/tree/configs/releng/airootfs/etc/pam.d/su">Táto konfigurácia pam-u</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-08-05 ⓘ]</sup> síce zničí bezpečnosť vášho nového systému, ale odporúča
sa použiť predvolenú konfiguráciu:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># nano /etc/pam.d/su</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#%PAM-1.0
auth            sufficient      pam_rootok.so
# Ak chcete implicitne dôverovať užívateľom v skupine "wheel", odkomentujte nasledujúci riadok.
<b>#auth           sufficient      pam_wheel.so trust use_uid</b>
# Ak chcete požadovať, aby bol užívateľ členom skupiny "wheel", odkomentujte nasledujúci riadok.
#auth           required        pam_wheel.so use_uid
auth            required        pam_unix.so
account         required        pam_unix.so
session         required        pam_unix.so
</pre>
<h4>
<span id="Zmazanie_.C5.A1peci.C3.A1lneho_udev_pravidla"></span><span class="mw-headline" id="Zmazanie_špeciálneho_udev_pravidla">Zmazanie špeciálneho udev pravidla</span>
</h4>
<p><a rel="nofollow" class="external text" href="https://projects.archlinux.org/archiso.git/tree/configs/releng/airootfs/etc/udev/rules.d/81-dhcpcd.rules">Toto pravidlo udev-u</a>
automaticky spustí dhcpcd, ak sa nájde nejaké pevné sieťové rozhranie.
</p>
<pre># rm /etc/udev/rules.d/81-dhcpcd.rules
</pre>
<h4>
<span id="Zablokovanie_a_zmazanie_slu.C5.BEieb_vytvoren.C3.BDch_archisom"></span><span class="mw-headline" id="Zablokovanie_a_zmazanie_služieb_vytvorených_archisom">Zablokovanie a zmazanie služieb vytvorených archisom</span>
</h4>
<p>Niektoré služby a súbory boli vytvorené špeciálne pre live prostredie. Zablokujte prosím tieto služby a zmažte nepotrebné súbory pre nový systém:
</p>
<pre># systemctl disable pacman-init.service choose-mirror.service
# rm -r /etc/systemd/system/{choose-mirror.service,pacman-init.service,etc-pacman.d-gnupg.mount,getty@tty1.service.d}
# rm /etc/systemd/scripts/choose-mirror
</pre>
<h4>
<span id="Zmazanie_.C5.A1peci.C3.A1lnych_skriptov_live_prostredia"></span><span class="mw-headline" id="Zmazanie_špeciálnych_skriptov_live_prostredia">Zmazanie špeciálnych skriptov live prostredia</span>
</h4>
<p>V archise sa taktiež nachádzajú skripty, ktoré sú nepotrebné pre nový systém:
</p>
<pre># rm /etc/systemd/system/getty@tty1.service.d/autologin.conf
# rm /root/{.automated_script.sh,.zlogin}
# rm /etc/sudoers.d/g_wheel
# rm /etc/mkinitcpio-archiso.conf
# rm -r /etc/initcpio
</pre>
<h4>
<span id="Opravenie_pr.C3.ADstupov.C3.BDch_pr.C3.A1v_k_domovsk.C3.A9mu_adres.C3.A1ru_roota"></span><span class="mw-headline" id="Opravenie_prístupových_práv_k_domovskému_adresáru_roota">Opravenie prístupových práv k domovskému adresáru roota</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Tento nedostatok bol zafixovaný vo v17(oficiálne ako mesačné vydanie: 2014.08.01), takže tento krok je potrebný len pri staršom live obraze.</div>
<pre># chmod 700 /root
</pre>
<h4><span class="mw-headline" id="Nastavte_archu_heslo">Nastavte archu heslo</span></h4>
<p><a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso/blob/master/configs/releng/airootfs/root/customize_airootfs.sh#L13">Pomocný skript</a> vytvoril pre live prostredie normálneho užívateľa nazvaného <code>arch</code>. Užívateľovi <code>arch</code> môžete nastaviť heslo pre prihlasovanie(v predvolenom stave nemá <code>arch</code> nastavené žiadne heslo) nasledovne:
You can set a passwd for user <code>arch</code> in order to login with this username(there is no passwd for <code>arch</code> by default):
</p>
<pre># passwd arch
</pre>
<p>Ak však nechcete používať toto používateľské meno, zmažte ho:
</p>
<pre># userdel -r arch
</pre>
<h2>
<span id="Pozrite_tie.C5.BE"></span><span class="mw-headline" id="Pozrite_tiež">Pozrite tiež</span>
</h2>
<h3>
<span id="Dokument.C3.A1cia_a_tutori.C3.A1ly"></span><span class="mw-headline" id="Dokumentácia_a_tutoriály">Dokumentácia a tutoriály</span>
</h3>
<ul>
<li><a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso">Projektová stránka Archisa</a></li>
<li><a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso/tree/master/docs">Oficiálna dokumentácia</a></li>
<li>
<a rel="nofollow" class="external text" href="http://blog.jak.me/2011/09/07/creating-a-custom-arch-linux-live-usb/">Návod na vytvorenie vlastného Live Arch Linux USB</a><sup title="Last check status: domain name not resolved">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-08-05 ⓘ]</sup>
</li>
</ul>
<h3>
<span id="Pr.C3.ADklad_.C5.A1ablony_na_prisp.C3.B4sobenie"></span><span class="mw-headline" id="Príklad_šablony_na_prispôsobenie">Príklad šablony na prispôsobenie</span>
</h3>
<ul><li><a rel="nofollow" class="external text" href="https://didjix.blogspot.com/">Live DJ distribúcia ArchLinuxu vybudovaná pomocou Archisa</a></li></ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../sk/Category:Live_Arch_systems.html" title="Category:Live Arch systems (Slovenský)">Live Arch systems (Slovenský)</a></li>
<li><a href="../sk/Category:Installation_process.html" title="Category:Installation process (Slovenský)">Installation process (Slovenský)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Merge.html" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Archiso_(Slovensk%C3%BD)&amp;oldid=660021">https://wiki.archlinux.org/index.php?title=Archiso_(Slovenský)&amp;oldid=660021</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 15 April 2021, at 15:34.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
