<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Slovak eID card reader (Slovenský) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Slovak_eID_card_reader_Slovenský rootpage-Slovak_eID_card_reader_Slovenský skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Slovak eID card reader (Slovenský)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Bad style. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Slovak_eID_card_reader_(Slovensk%C3%BD)">Talk:Slovak eID card reader (Slovenský)#</a>)</div>
</div>
<p>Táto stránka popisuje postup rozbehania čítačky a aplikácie eID klient pre <a rel="nofollow" class="external text" href="https://portal.minv.sk/wps/wcm/connect/sk/site/main/obciansky-preukaz-s-cipom/">Občiansky preukaz SR s čipom (eID)</a> v Arch linuxe.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Testovan%C3%A9_a_funk%C4%8Dn%C3%A9_%C4%8D%C3%ADta%C4%8Dky"><span class="tocnumber">1</span> <span class="toctext">Testované a funkčné čítačky</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#In%C5%A1tal%C3%A1cia"><span class="tocnumber">2</span> <span class="toctext">Inštalácia</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Ofici%C3%A1lna_pr%C3%ADru%C4%8Dka"><span class="tocnumber">3</span> <span class="toctext">Oficiálna príručka</span></a></li>
<li class="toclevel-1 tocsection-4">
<a href="#Pou%C5%BE%C3%ADvanie"><span class="tocnumber">4</span> <span class="toctext">Používanie</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Prv%C3%A9_spustenie"><span class="tocnumber">4.1</span> <span class="toctext">Prvé spustenie</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Povolenie_automatick%C3%A9ho_sp%C3%BA%C5%A1%C5%A5ania_eID_klienta"><span class="tocnumber">4.2</span> <span class="toctext">Povolenie automatického spúšťania eID klienta</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Kontrola_%C4%8D%C3%ADta%C4%8Dky"><span class="tocnumber">4.3</span> <span class="toctext">Kontrola čítačky</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#%22%C4%8C%C3%ADta%C4%8Dka_IDBridge_CT30_nie_je_podporovan%C3%A1_vo_virtualizovanom_prostred%C3%AD_pre_OS_Linux.%22"><span class="tocnumber">4.4</span> <span class="toctext">"Čítačka IDBridge CT30 nie je podporovaná vo virtualizovanom prostredí pre OS Linux."</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#Troubleshooting"><span class="tocnumber">5</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#DEBTAP:_gzip:_/var/cache/debtap/ubuntu-packages-files.gz:_unexpected_end_of_file;_Synchronization_failed._Exiting..."><span class="tocnumber">5.1</span> <span class="toctext">DEBTAP: gzip: /var/cache/debtap/ubuntu-packages-files.gz: unexpected end of file; Synchronization failed. Exiting...</span></a></li>
</ul>
</li>
</ul>
</div>

<h2>
<span id="Testovan.C3.A9_a_funk.C4.8Dn.C3.A9_.C4.8D.C3.ADta.C4.8Dky"></span><span class="mw-headline" id="Testované_a_funkčné_čítačky">Testované a funkčné čítačky</span>
</h2>
<table class="wikitable">
<tbody>
<tr>
<th>Model čítačky</th>
<th>lsusb</th>
<th>eID klient
</th>
</tr>
<tr>
<td>IDBridge CT30</td>
<td>Gemalto (was Gemplus) GemPC Twin SmartCard Reader</td>
<td>Gemalto PC Twin Reader
</td>
</tr>
<tr>
<td>Bit4id - miniLector EVO</td>
<td>Advanced Card Systems, Ltd ACR38 SmartCard Reader</td>
<td>ACS ACR 38U-CCID
</td>
</tr>
<tr>
<td>AU9560 - USB Smart Card Reader Controller</td>
<td>Alcor Micro Corp. AU9540 Smartcard Reader</td>
<td>Alcor Micro AU9560
</td>
</tr>
</tbody>
</table>
<h2>
<span id="In.C5.A1tal.C3.A1cia"></span><span class="mw-headline" id="Inštalácia">Inštalácia</span>
</h2>
<p>1. Balíčky zo štandardných repozitárov <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glibc">glibc</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=chrpath">chrpath</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=openssl">openssl</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pcsclite">pcsclite</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pcsc-tools">pcsc-tools</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=openssl">openssl</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xterm">xterm</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=qt5-imageformats">qt5-imageformats</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ccid">ccid</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=openssl-1.0">openssl-1.0</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libcurl-compat">libcurl-compat</a></span>:
</p>
<pre>sudo pacman -S glibc chrpath openssl pcsclite pcsc-tools openssl xterm qt5-imageformats ccid openssl-1.0 libcurl-compat
</pre>
<p>2. AUR balíček <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/debtap/">debtap</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/libcurl-openssl-1.0/">libcurl-openssl-1.0</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/qt4/">qt4</a></span><sup><small>AUR</small></sup>:
</p>
<pre>yaourt debtap
yaourt libcurl-openssl-1.0
yaourt qt4
</pre>
<p>3. Aktualizácia debtap databázy:
</p>
<pre>sudo debtap -u
</pre>
<p>4. eID klient aplikáciu stiahnuť zo stránky <a rel="nofollow" class="external text" href="https://eidas.minv.sk/TCTokenService/download/">Min. vnútra SR</a> - <a rel="nofollow" class="external text" href="https://eidas.minv.sk/TCTokenService/download/linux/debian/Aplikacia_pre_eID_i386_debian.tar.gz">balíček Debian 8/9 32-bit</a> alebo <a rel="nofollow" class="external text" href="https://eidas.minv.sk/TCTokenService/download/linux/debian/Aplikacia_pre_eID_amd64_debian.tar.gz">balíček Debian 8/9 64-bit</a>
</p>
<p>5. Prekonfigurovanie stiahnutého DEB balíčka na Arch linux kompatibilný formát a jeho inštalácia:
</p>
<pre>tar -zxf Aplikacia_pre_eID_*_debian.tar.gz
sudo debtap -u
debtap Aplikacia_pre_eID_*_debian.deb
                 <code><b># Prve dve otázky pri spustení tohto príkazu stačí odklepnúť enterom.</b></code>
                 <code><b># Následne je potreba upraviť ".PKGINFO":</b></code>
                                   <code><b># V default vygenerovanom ".PKGINFO" sa objaví min. 6x "Carriage return" (^M), ktorý je potrebné odstrániť zo všetkých riadkov.</b></code>
                                   <code><b># Taktiež doporučujem opraviť "pkgname = eac-mw-klient" na "pkgname = eidklient".</b></code>
                                   <code><b># Následne ".PKGINFO" uložiť a preskociť dalšie zmeny v zostávajucich súboroch.</b></code>
sudo pacman -U eidklient*.pkg.tar.xz
</pre>
<p>6. Oprava symbolických liniek na knižnice:
</p>
<pre>sudo ln -sf /usr/lib/qt/plugins/imageformats/libqtga.so /usr/lib/eac_mw_klient/
sudo ln -sf /usr/lib/qt4/plugins/imageformats/libqgif.so /usr/lib/eac_mw_klient/
sudo ln -sf /usr/lib/qt4/plugins/imageformats/libqico.so /usr/lib/eac_mw_klient/
sudo ln -sf /usr/lib/qt4/plugins/imageformats/libqjpeg.so /usr/lib/eac_mw_klient/
sudo ln -sf /usr/lib/qt4/plugins/imageformats/libqmng.so /usr/lib/eac_mw_klient/
sudo ln -sf /usr/lib/qt4/plugins/imageformats/libqsvg.so /usr/lib/eac_mw_klient/
sudo ln -sf /usr/lib/qt4/plugins/imageformats/libqtiff.so /usr/lib/eac_mw_klient/
</pre>
<p>7. Naštartovať PC/SC Smart Card daemona:
</p>
<pre>sudo systemctl start pcscd.service
</pre>
<p>Podľa potreby zapnúť štartovanie daemona ihneď po štarte OS:
</p>
<pre>sudo systemctl enable pcscd.service
</pre>
<p>8. Umiestnenie aplikačných odkazov na plochu:
</p>
<pre>cp /usr/lib/eac_mw_klient/*.desktop ~/Desktop
</pre>
<p>9. eIDklient verzia 3 disig-web-designer (pre online nahrávanie certifikátov na občianske preukazy s čipom) <a rel="nofollow" class="external text" href="https://download.disigcdn.sk/cdn/products/websigner/disig-web-signer-1-0-7_1.1.5-1.debian_i386.deb">balíček Debian 8/9 32-bit</a> alebo <a rel="nofollow" class="external text" href="https://download.disigcdn.sk/cdn/products/websigner/disig-web-signer-1-0-7_1.1.5-1.debian_amd64.deb">balíček Debian 8/9 64-bit</a>
</p>
<pre>debtap disig-web-signer-*.debian_amd64.deb
                 <code><b># Prve dve otázky pri spustení tohto príkazu stačí odklepnúť enterom.</b></code>
                 <code><b># Následne je potreba upraviť ".PKGINFO":</b></code>
                                   <code><b># Úplne vymazať riadok obsahujúci "depend = gdebi".</b></code>
                                   <code><b># Riadok obsahujúci "depend = libgl1-mesa-glx" možno nahradiť nasledujúcim "depend = mesa".</b></code>
                                   <code><b># Následne ".PKGINFO" uložiť a preskociť dalšie zmeny v zostávajucich súboroch.</b></code>
sudo pacman -U disig-web-signer*.pkg.tar.xz
</pre>
<h2>
<span id="Ofici.C3.A1lna_pr.C3.ADru.C4.8Dka"></span><span class="mw-headline" id="Oficiálna_príručka">Oficiálna príručka</span>
</h2>
<p>Na stánkach <a rel="nofollow" class="external text" href="https://eidas.minv.sk/TCTokenService/download/">Min. vnútra SR</a> alebo <a rel="nofollow" class="external text" href="https://www.slovensko.sk/sk/na-stiahnutie">slovensko.sk</a>
</p>
<h2>
<span id="Pou.C5.BE.C3.ADvanie"></span><span class="mw-headline" id="Používanie">Používanie</span>
</h2>
<h3>
<span id="Prv.C3.A9_spustenie"></span><span class="mw-headline" id="Prvé_spustenie">Prvé spustenie</span>
</h3>
<pre>LD_PRELOAD=/usr/lib/libcurl-openssl-1.0.so EAC_MW_klient
</pre>
<h3>
<span id="Povolenie_automatick.C3.A9ho_sp.C3.BA.C5.A1.C5.A5ania_eID_klienta"></span><span class="mw-headline" id="Povolenie_automatického_spúšťania_eID_klienta">Povolenie automatického spúšťania eID klienta</span>
</h3>
<ul>
<li>V prostredí aplikácie: dá sa povoliť pri prvom spustení aplikácie, alebo následne vo "Všeobecných nastaveniach".</li>
<li>Manuálne cez príkazový riadok: <code>cp /usr/lib/eac_mw_klient/startup/aplikacia-pre-eid.desktop ~/.config/autostart/</code>
</li>
</ul>
<h3>
<span id="Kontrola_.C4.8D.C3.ADta.C4.8Dky"></span><span class="mw-headline" id="Kontrola_čítačky">Kontrola čítačky</span>
</h3>
<p>Prostredníctvom balíčka <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pcsc-tools">pcsc-tools</a></span> pribudli v systéme okrem iného utilitky <code>pcsc_scan</code>, <code>scriptor</code> alebo <code>gscriptor</code>.
</p>
<h3>
<span id=".22.C4.8C.C3.ADta.C4.8Dka_IDBridge_CT30_nie_je_podporovan.C3.A1_vo_virtualizovanom_prostred.C3.AD_pre_OS_Linux..22"></span><span class="mw-headline" id='"Čítačka_IDBridge_CT30_nie_je_podporovaná_vo_virtualizovanom_prostredí_pre_OS_Linux."'>"Čítačka IDBridge CT30 nie je podporovaná vo virtualizovanom prostredí pre OS Linux."</span>
</h3>
<p>Napriek tomuto upozorneniu no stránkach <a rel="nofollow" class="external text" href="https://eidas.minv.sk/TCTokenService/download/">Min. vnútra SR</a> alebo <a rel="nofollow" class="external text" href="https://www.slovensko.sk/sk/na-stiahnutie">slovensko.sk</a>, fungovanie čítačiek vo VirtualBox VM fungovalo bez akýchkoľvek problémov.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3>
<span id="DEBTAP:_gzip:_.2Fvar.2Fcache.2Fdebtap.2Fubuntu-packages-files.gz:_unexpected_end_of_file.3B_Synchronization_failed._Exiting..."></span><span class="mw-headline" id="DEBTAP:_gzip:_/var/cache/debtap/ubuntu-packages-files.gz:_unexpected_end_of_file;_Synchronization_failed._Exiting...">DEBTAP: gzip: /var/cache/debtap/ubuntu-packages-files.gz: unexpected end of file; Synchronization failed. Exiting...</span>
</h3>
<p>V prípade chyby (aktuálne k verzii 2.8-1):
</p>
<pre>curl: (22) The requested URL returned error: 404 Not Found
gzip: /var/cache/debtap/ubuntu-packages-files.gz: unexpected end of file
Synchronization failed. Exiting...
</pre>
<p>stačí v scripte <code>/usr/bin/debtap</code> opraviť <code><b>http</b>://packages.ubuntu.com</code> za <b>https</b> a príkaz spustiť znova.
</p>
<p>Jednoduchý príkaz ktorý to celé opraví:
</p>
<pre>sudo sed '/ubuntu_latest_stable_version/s/http:\/\/packages.ubuntu.com/https:\/\/packages.ubuntu.com/' -i /usr/bin/debtap
</pre>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:55fbafeb0c8f5149bf6c60fac5656e11.html" title="Category:Slovenský">Slovenský</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Slovak_eID_card_reader_(Slovensk%C3%BD)&amp;oldid=621575">https://wiki.archlinux.org/index.php?title=Slovak_eID_card_reader_(Slovenský)&amp;oldid=621575</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 23 June 2020, at 09:10.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
