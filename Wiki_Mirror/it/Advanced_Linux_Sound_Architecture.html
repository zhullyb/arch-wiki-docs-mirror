<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Advanced Linux Sound Architecture (Italiano) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Advanced_Linux_Sound_Architecture_Italiano rootpage-Advanced_Linux_Sound_Architecture_Italiano skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Advanced Linux Sound Architecture (Italiano)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Articoli correlati</p>
<ul>
<li><a href="/title/Sound_system" title="Sound system">Sound system</a></li>
<li><a href="/title/Disable_PC_Speaker_Beep" class="mw-redirect" title="Disable PC Speaker Beep">Disable PC Speaker Beep</a></li>
</ul>
</div>
<p>L' <a href="https://en.wikipedia.org/wiki/Advanced_Linux_Sound_Architecture" class="extiw" title="wikipedia:Advanced Linux Sound Architecture">Architettura Avanzata per il Suono su Linux</a> (conosciuta con l'acronimo di <b>ALSA</b>) è un componente del kernel che rimpiazza l'originale Open Sound System (OSSv3) utilizzato per fornire driver di periferica per le schede audio. Oltre ai driver audio, <b>ALSA</b> mette a disposizione anche una libreria in spazio-utente per sviluppatori di applicazioni che vogliano utilizzare le funzioni dei driver tramite un'API piuttosto che con un'interazione diretta con i driver del kernel.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong>  Per una eventuale alternativa consultare la pagina <a href="/title/OSS" class="mw-redirect" title="OSS">OSS</a>.</div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Installazione"><span class="tocnumber">1</span> <span class="toctext">Installazione</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Utility"><span class="tocnumber">1.1</span> <span class="toctext">Utility</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#Togliere_il_muto_ai_canali"><span class="tocnumber">2</span> <span class="toctext">Togliere il muto ai canali</span></a></li>
<li class="toclevel-1 tocsection-4">
<a href="#Configurazione"><span class="tocnumber">3</span> <span class="toctext">Configurazione</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Nessun_suono_in_VirtualBox"><span class="tocnumber">3.1</span> <span class="toctext">Nessun suono in VirtualBox</span></a></li>
<li class="toclevel-2 tocsection-6">
<a href="#Impostare_la_scheda_audio_predefinita"><span class="tocnumber">3.2</span> <span class="toctext">Impostare la scheda audio predefinita</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#Selezionare_il_PCM_di_default_tramite_variabili_d'ambiente"><span class="tocnumber">3.2.1</span> <span class="toctext">Selezionare il PCM di default tramite variabili d'ambiente</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Metodo_alternativo"><span class="tocnumber">3.2.2</span> <span class="toctext">Metodo alternativo</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="#Assicurarsi_che_i_moduli_audio_siano_caricati"><span class="tocnumber">3.3</span> <span class="toctext">Assicurarsi che i moduli audio siano caricati</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Ottenere_un_output_SPDIF"><span class="tocnumber">3.4</span> <span class="toctext">Ottenere un output SPDIF</span></a></li>
<li class="toclevel-2 tocsection-11">
<a href="#Equalizzatore_System-Wide"><span class="tocnumber">3.5</span> <span class="toctext">Equalizzatore System-Wide</span></a>
<ul>
<li class="toclevel-3 tocsection-12">
<a href="#Utilizzando_AlsaEqual_(fornisce_l%E2%80%99interfaccia_grafica)"><span class="tocnumber">3.5.1</span> <span class="toctext">Utilizzando AlsaEqual (fornisce l’interfaccia grafica)</span></a>
<ul>
<li class="toclevel-4 tocsection-13"><a href="#Gestire_gli_stati_di_AlsaEqual"><span class="tocnumber">3.5.1.1</span> <span class="toctext">Gestire gli stati di AlsaEqual</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-14"><a href="#Utilizzando_mbeq"><span class="tocnumber">3.5.2</span> <span class="toctext">Utilizzando mbeq</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#Ricampionamento_in_alta_qualit%C3%A0"><span class="tocnumber">4</span> <span class="toctext">Ricampionamento in alta qualità</span></a></li>
<li class="toclevel-1 tocsection-16">
<a href="#Upmixing/Downmixing"><span class="tocnumber">5</span> <span class="toctext">Upmixing/Downmixing</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="#Upmixing"><span class="tocnumber">5.1</span> <span class="toctext">Upmixing</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Downmixing"><span class="tocnumber">5.2</span> <span class="toctext">Downmixing</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19">
<a href="#Mixaggio"><span class="tocnumber">6</span> <span class="toctext">Mixaggio</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#Mixaggio_software_(dmix)"><span class="tocnumber">6.1</span> <span class="toctext">Mixaggio software (dmix)</span></a></li>
<li class="toclevel-2 tocsection-21">
<a href="#Mixaggio_Hardware"><span class="tocnumber">6.2</span> <span class="toctext">Mixaggio Hardware</span></a>
<ul>
<li class="toclevel-3 tocsection-22"><a href="#Supporto"><span class="tocnumber">6.2.1</span> <span class="toctext">Supporto</span></a></li>
<li class="toclevel-3 tocsection-23"><a href="#Fix"><span class="tocnumber">6.2.2</span> <span class="toctext">Fix</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-24">
<a href="#Risoluzione_dei_problemi"><span class="tocnumber">7</span> <span class="toctext">Risoluzione dei problemi</span></a>
<ul>
<li class="toclevel-2 tocsection-25"><a href="#Suono_che_salta_utilizzando_Dynamic_Frequency_Scaling"><span class="tocnumber">7.1</span> <span class="toctext">Suono che salta utilizzando Dynamic Frequency Scaling</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Problemi_con_la_disponibilit%C3%A0_del_mixaggio_software_per_pi%C3%B9_di_un_utente_per_volta"><span class="tocnumber">7.2</span> <span class="toctext">Problemi con la disponibilità del mixaggio software per più di un utente per volta</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#Problemi_di_riproduzione_simultanea"><span class="tocnumber">7.3</span> <span class="toctext">Problemi di riproduzione simultanea</span></a></li>
<li class="toclevel-2 tocsection-28">
<a href="#Mancanza_di_suono_casuale"><span class="tocnumber">7.4</span> <span class="toctext">Mancanza di suono casuale</span></a>
<ul>
<li class="toclevel-3 tocsection-29"><a href="#Timidity"><span class="tocnumber">7.4.1</span> <span class="toctext">Timidity</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-30"><a href="#Problemi_specifici_di_alcuni_programmi"><span class="tocnumber">7.5</span> <span class="toctext">Problemi specifici di alcuni programmi</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Impostazione_modelli"><span class="tocnumber">7.6</span> <span class="toctext">Impostazione modelli</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#Audio_in_conflitto_con_altoparlante_interno_del_PC"><span class="tocnumber">7.7</span> <span class="toctext">Audio in conflitto con altoparlante interno del PC</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#Nessun_Input_dal_Microfono"><span class="tocnumber">7.8</span> <span class="toctext">Nessun Input dal Microfono</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#Impostazione_predefinita_Microfono/Dispositivo_di_acquisizione"><span class="tocnumber">7.9</span> <span class="toctext">Impostazione predefinita Microfono/Dispositivo di acquisizione</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#Il_microfono_interno_non_funziona"><span class="tocnumber">7.10</span> <span class="toctext">Il microfono interno non funziona</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#Nessun_suono_con_scheda_integrata_Intel"><span class="tocnumber">7.11</span> <span class="toctext">Nessun suono con scheda integrata Intel</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#Nessun_suono_dalle_cuffie_con_scheda_audio_integrata_Intel"><span class="tocnumber">7.12</span> <span class="toctext">Nessun suono dalle cuffie con scheda audio integrata Intel</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#Nessun_suono_quando_%C3%A8_installata_la_scheda_video_con_S/PDIF"><span class="tocnumber">7.13</span> <span class="toctext">Nessun suono quando è installata la scheda video con S/PDIF</span></a></li>
<li class="toclevel-2 tocsection-39"><a href="#La_qualit%C3%A0_dell'audio_%C3%A8_bassa"><span class="tocnumber">7.14</span> <span class="toctext">La qualità dell'audio è bassa</span></a></li>
<li class="toclevel-2 tocsection-40"><a href="#Rumori/Suoni_all%E2%80%99avvio_ed_allo_stop_della_riproduzione"><span class="tocnumber">7.15</span> <span class="toctext">Rumori/Suoni all’avvio ed allo stop della riproduzione</span></a></li>
<li class="toclevel-2 tocsection-41"><a href="#L'uscita_S/PDIF_non_funziona"><span class="tocnumber">7.16</span> <span class="toctext">L'uscita S/PDIF non funziona</span></a></li>
<li class="toclevel-2 tocsection-42"><a href="#L'uscita_HDMI_non_funziona"><span class="tocnumber">7.17</span> <span class="toctext">L'uscita HDMI non funziona</span></a></li>
<li class="toclevel-2 tocsection-43"><a href="#HP_TX2500"><span class="tocnumber">7.18</span> <span class="toctext">HP TX2500</span></a></li>
<li class="toclevel-2 tocsection-44"><a href="#Salto_di_suono_durante_la_riproduzione_MP3"><span class="tocnumber">7.19</span> <span class="toctext">Salto di suono durante la riproduzione MP3</span></a></li>
<li class="toclevel-2 tocsection-45">
<a href="#Cuffia_USB_e_schede_audio_esterne_USB"><span class="tocnumber">7.20</span> <span class="toctext">Cuffia USB e schede audio esterne USB</span></a>
<ul>
<li class="toclevel-3 tocsection-46"><a href="#Suono_gracchiante_su_dispositivi_USB"><span class="tocnumber">7.20.1</span> <span class="toctext">Suono gracchiante su dispositivi USB</span></a></li>
<li class="toclevel-3 tocsection-47"><a href="#Inserimento_a_caldo_di_una_scheda_audio_USB"><span class="tocnumber">7.20.2</span> <span class="toctext">Inserimento a caldo di una scheda audio USB</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-48"><a href="#Errore_'Unknown_hardware'_dopo_aggiornamento_Kernel"><span class="tocnumber">7.21</span> <span class="toctext">Errore 'Unknown hardware' dopo aggiornamento Kernel</span></a></li>
<li class="toclevel-2 tocsection-49"><a href="#HDA_Analyzer"><span class="tocnumber">7.22</span> <span class="toctext">HDA Analyzer</span></a></li>
<li class="toclevel-2 tocsection-50"><a href="#ALSA_con_SDL"><span class="tocnumber">7.23</span> <span class="toctext">ALSA con SDL</span></a></li>
<li class="toclevel-2 tocsection-51"><a href="#Workaround_in_caso_di_volume_basso"><span class="tocnumber">7.24</span> <span class="toctext">Workaround in caso di volume basso</span></a></li>
<li class="toclevel-2 tocsection-52"><a href="#%22Schiocco%22_al_resume_dopo_una_sospensione"><span class="tocnumber">7.25</span> <span class="toctext">"Schiocco" al resume dopo una sospensione</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-53"><a href="#Configurazioni_d'esempio"><span class="tocnumber">8</span> <span class="toctext">Configurazioni d'esempio</span></a></li>
<li class="toclevel-1 tocsection-54"><a href="#Link_esterni"><span class="tocnumber">9</span> <span class="toctext">Link esterni</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installazione">Installazione</span></h2>
<p>ALSA è incluso nel kernel di default di Arch come insieme di moduli, perciò non è necessario installarlo esplicitamente.
</p>
<p><a href="/title/Udev_(Italiano)" title="Udev (Italiano)">Udev</a> interrogherà automaticamente l'hardware al boot, caricando il modulo del kernel corretto per l'hardware rilevato. Perciò, la scheda audio dovrebbe essere subito funzionante, ma di default la configurazione prevederà che tutti i canali siano impostati su muto.
</p>
<p>Gli utenti con un login locale (su terminale virtuale o tramite display manager) hanno la facoltà di riprodurre l'audio e modificare i canali del mixer. Per consentire queste operazioni a chi ha un login remoto, l'utente deve essere <a href="/title/Utenti_e_Gruppi#Gestione_dei_gruppi" class="mw-redirect" title="Utenti e Gruppi">inserito</a> nel gruppo <code>audio</code>. L'aggiunta dell'utente al gruppo <code>audio</code> consente anche l'accesso diretto ai dispositivi, e ciò potrebbe portare alcune applicazioni ad impadronirsi in maniera esclusive di alcune uscite (rendendo impossibile il mixaggio software), impedire il passaggio rapido ad un altro utente, ed il sistema multiseat. Per questi motivi l'aggiunto di un utente al gruppo <code>audio</code> <b>non</b> è raccomandata, a meno di necessità specifiche. <a rel="nofollow" class="external autonumber" href="https://wiki.ubuntu.com/Audio/TheAudioGroup">[1]</a>.
</p>
<h3><span class="mw-headline" id="Utility">Utility</span></h3>
<p>Installare dai <a href="/title/Official_repositories_(Italiano)" title="Official repositories (Italiano)">repository ufficiali</a> il pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=alsa-utils">alsa-utils</a></span>, contenente lo strumento <code>alsamixer</code>, che consente la configurazione delle periferiche audio tramite console o terminale. Installare anche il pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=alsa-plugins">alsa-plugins</a></span> se si necessità del <a href="#Ricampionamento_in_alta_qualit%C3%A0">ricampionamento in alta qualità</a>, dell'<a href="#Upmixing/Downmixing">upmixing/downmixing</a> e di altre funzionalità avanzate. 
Se si vuole che le applicazioni basate su <a href="/title/Open_Sound_System_(Italiano)" title="Open Sound System (Italiano)">OSS</a> funzionino tramite dmix (mixaggio software) installare anche il pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=alsa-oss">alsa-oss</a></span>. Caricare i <a href="/title/Kernel_modules_(Italiano)" class="mw-redirect" title="Kernel modules (Italiano)">moduli del kernel</a> <code>snd_seq_oss</code>, <code>snd_pcm_oss</code> e <code>snd_mixer_oss</code> per abilitare i componenti di emulazione di OSS.
</p>
<h2><span class="mw-headline" id="Togliere_il_muto_ai_canali">Togliere il muto ai canali</span></h2>
<p>La versione attuale di ALSA, viene installata con tutti i canali impostati su <b>muto di default</b>. Sarà necessario togliere il "muto" manualmente. Il metodo più semplice per fare ciò è utilizzare l'interfaccia utente in ncurses <code>alsamixer</code>.
</p>
<p><code>$ alsamixer</code>
</p>
<p>Alternativamente, è possibile utilizzare <code>amixer</code> da riga di comando:
</p>
<p><code>$ amixer sset Master unmute</code>
</p>
<p>In <code>alsamixer</code>, l'etichetta <code>MM</code> sotto un canale indica che quest'ultimo è impostato su muto, mentre <code>00</code> indica che è attivo.
</p>
<p>Togliere il muto dai canali <code>Master</code> e <code>PCM</code> posizionandovi sopra di essi tramite i tasti <code>←</code> e <code>→</code> e premendo il tasto <code>M</code>. Usare il tasto <code>↑</code> per incrementare il volume ed ottenere un <code>db gain</code> pari a 0. Il valore di gain si trova in alto a sinistra dopo il campo <code>Item:</code>. Valori di gain superiori produrranno suoni distorti.
</p>
<p>Per ottenere un vero suono surround 5.1 o 7.1, è necessario togliere il muto anche ad altri canali come Front, Surround, Center, LFE (subwoofer) e Side (questi sono i nomi dei canali per il modulo intel HDA, possono variare in base all'hardware). Si tenga presente che ciò non abilita direttamente l'upmixing delle sorgenti stereo (come la maggior parte della musica). Per ottenere quell'effetto è necessario consultare il paragrafo <a href="#Upmixing/Downmixing">upmixing/downmixing</a>.
</p>
<p>Per abilitare il microfono, portarsi sulla tab Capture tramite <code>F4</code> ed abilitare il canale premendo <code>Spazio</code>
</p>
<p>Uscire da alsamixer premendo <code>Esc</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Alcune schede necessitano del canale digitale disattivato per produrre suono sull'uscita analogica. Per la SoundBlaster Audigy LS è necessario impostare su muto il canale IEC958.
Alcuni sistemi (come il Thinkpad T61), richiedono che anche il canale Speaker sia attivato e regolato.</div>
<p>Alcuni sistemi, (come il Dell E6400) potrebbero anche richiedere che ai canali <code>Front</code> ed <code>Headphone</code> venga tolto il muto e che vengano regolati.
</p>
<p>Si può ora verificare che il suono funzioni:
</p>
<p><code>$ speaker-test -c 2</code>
</p>
<p>Modificare il valore di <code>-c</code> in base al proprio sistema, ad esempio utilizzare <code>-c 8</code> per un 7.1.
</p>
<p><code>$ speaker-test -c 8</code>
</p>
<p>Se non dovesse funzionare, passare al paragrafo <a href="#Configurazione">#Configurazione</a> e quindi a <a href="#Risoluzione_dei_problemi">#Risoluzione dei problemi</a>.
</p>
<p>Il pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=alsa-utils">alsa-utils</a></span> include <code>alsa-restore.service</code> e <code>alsa-store.service</code> che sono preconfigurati per essere eseguiti rispettivamente all'avvio ed allo spegnimento.
</p>
<h2><span class="mw-headline" id="Configurazione">Configurazione</span></h2>
<h3><span class="mw-headline" id="Nessun_suono_in_VirtualBox">Nessun suono in VirtualBox</span></h3>
<p>Se si riscontrassero problemi audio in VirtualBox, il seguente comando potrebbe essere d'aiuto.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ alsactl init</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">

Found hardware: "ICH" "SigmaTel STAC9700,83,84" "AC97a:83847600" "0x8086" "0x0000"
Hardware is initialized using a generic method
</pre>
<p>Potrebbe essere necessario attivare l'uscita ALSA anche nel proprio software audio.
</p>
<h3><span class="mw-headline" id="Impostare_la_scheda_audio_predefinita">Impostare la scheda audio predefinita</span></h3>
<p>Se l'ordine delle schede audio del sistema cambia ad ogni avvio, è possibile renderlo immutabile specificandolo all'interno di un file col suffisso  <code>.conf</code> all'interno di <code>/etc/modprobe.d</code> (<code>/etc/modprobe.d/alsa-base.conf</code> è quello solitamente usato).
</p>
<p>Ad esempio, se si desidera che la scheda audio mia sia la #0
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/alsa-base.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">options snd slots=snd_mia,snd_hda_intel
options snd_mia index=0
options snd_hda_intel index=1
</pre>
<p>Utilizzare <code>$ lsmod | grep snd</code> per ottenere la lista dei dispositivi. Questa configurazione presuppone che sul sistema siano presenti una scheda audio mia che utilizza <code>snd_mia</code> ed un'altra (ad esempio integrata sulla scheda madre)  che utilizza <code>snd_hda_intel</code>.
</p>
<p>Si può anche istruire ALSA ad utilizzare un indice di <code>-2</code> per non far utilizzare mai una determinata scheda come primaria. Distribuzioni come Ubuntu e Mint utilizzano questo sistema per evitare che schede audio USB ed altri dispositivi "particolari" ottengano l'indice <code>0</code>
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/alsa-base.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">options bt87x index=-2
options cx88_alsa index=-2
options saa7134-alsa index=-2
options snd-atiixp-modem index=-2
options snd-intel8x0m index=-2
options snd-via82xx-modem index=-2
options snd-usb-audio index=-2
options snd-usb-caiaq index=-2
options snd-usb-ua101 index=-2
options snd-usb-us122l index=-2
options snd-usb-usx2y index=-2
options snd-pcsp index=-2
options snd-usb-audio index=-2</pre>
<p>Questa modifica richiede il riavvio del sistema.
</p>
<h4>
<span id="Selezionare_il_PCM_di_default_tramite_variabili_d.27ambiente"></span><span class="mw-headline" id="Selezionare_il_PCM_di_default_tramite_variabili_d'ambiente">Selezionare il PCM di default tramite variabili d'ambiente</span>
</h4>
<p>Nel proprio file di configurazione, preferibilmente quello globale, aggiungere
</p>
<pre> pcm.!default {
   type plug
   slave.pcm {
     @func getenv
     vars [ ALSAPCM ]
     default "hw:Audigy2"
   }
 }
</pre>
<p>È necessario sostituire la riga default col nome della propria scheda (nell'esempio è <code>Audigy2</code>). Si può ottenere il nome necessario tramite <code>aplay -l</code> oppure si possono utilizzare PCM come <b>surround51</b>. Se però è necessario utilizzare il microfono, è una buona idea selezionare full-duplex PCM come default.
Ora sarà possibile avviare programmi selezionando la scheda audio desiderata semplicemente cambiando il valore della variabile <code>ALSAPCM</code>. Si rivela utile per tutti quei programmi che non consentono di selezionare la scheda audio da utilizzare, per gli altri assicurarsi di aver mantenuto la scheda di default.
Ad esempio, consideriamo il caso in cui si sia creato un downmix PCM dal nome <b>mix51to20</b>, sarà possibile utilizzarlo con <code>mplayer</code> attraverso questo comando
</p>
<p><code>ALSAPCM=mix51to20 mplayer example_6_channel.wav</code>
</p>
<h4><span class="mw-headline" id="Metodo_alternativo">Metodo alternativo</span></h4>
<div class="noprint archwiki-template-message">
<p><a href="/title/File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a><b>This article or section is out of date.</b><a href="/title/File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b>  Queste istruzioni potrebbero non essere più valide (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:Advanced_Linux_Sound_Architecture_(Italiano)">Talk:Advanced Linux Sound Architecture (Italiano)#</a>)</div>
</div>
<p>Bisogna innanzitutto rilevare gli id della scheda e del dispositivo che si vogliono impostare come predefiniti eseguendo <code>aplay -l</code>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ aplay -l</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">**** List of PLAYBACK Hardware Devices ****
card 0: Intel [HDA Intel], device 0: CONEXANT Analog [CONEXANT Analog]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
card 0: Intel [HDA Intel], device 1: Conexant Digital [Conexant Digital]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
card 1: JamLab [JamLab], device 0: USB Audio [USB Audio]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
card 2: Audio [Altec Lansing XT1 - USB Audio], device 0: USB Audio [USB Audio]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
</pre>
<p>Ad esempio, l'ultima voce in questa lista si riferisce alla scheda con id 2, ed al dispositivo con id 0. Per impostarli come predefinit1, si può sia utilizzare il file di sistema <code>/etc/asound.conf</code>, sia quello con influenza limitata sul singolo utente <code>~/.asoundrc</code>. Potrebbe essere necessario creare il file se quest0ultimo non dovesse esistere.. Dopodichè inserirvi le seguenti opzioni con i corrispondenti id relativi alla scheda ed al dispositivo:
</p>
<pre>defaults.pcm.card 2
defaults.pcm.device 0
defaults.ctl.card 2
</pre>
<p>L'opzione <code>pcm</code> specifica quale scheda e dispositivo verranno utilizzati per la riproduzione dell'audio, mentre l'opzione <code>ctl</code> indica quali saranno controllati da utility come alsamixer.
Le opzioni dovrebbere essere effettive nel momento in cui un'applicazione relativa ad esse (mplayer, alsamixer, etc...) viene riavviata.
</p>
<h3><span class="mw-headline" id="Assicurarsi_che_i_moduli_audio_siano_caricati">Assicurarsi che i moduli audio siano caricati</span></h3>
<p>Verificare che udev abbia rilevato automaticamente l'audio,con il comando:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ lsmod|grep '^snd'| column -t </pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">snd_hda_codec_hdmi     22378   4
snd_hda_codec_realtek  294191  1
snd_hda_intel          21738   1
snd_hda_codec          73739   3  snd_hda_codec_hdmi,snd_hda_codec_realtek,snd_hda_intel
snd_hwdep              6134    1  snd_hda_codec
snd_pcm                71032   3  snd_hda_codec_hdmi,snd_hda_intel,snd_hda_codec
snd_timer              18992   1  snd_pcm
snd                    55132   9  snd_hda_codec_hdmi,snd_hda_codec_realtek,snd_hda_intel,snd_hda_codec,snd_hwdep,snd_pcm,snd_timer
snd_page_alloc         7017    2  snd_hda_intel,snd_pcm
</pre>
<p>Se l'output è simile, i driver audio sono stati autorilevati con successo. Si può anche controllare la directory <code>/dev/snd</code> per visualizzare i giusti file del dispositivo:
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> A partire da udev&gt;=171, i moduli per l'emulazione OSS (<code>snd_seq_oss, snd_pcm_oss, snd_mixer_oss</code>) non sono più caricati automaticamente di default: <a href="/title/Kernel_modules_(Italiano)#Caricamento" class="mw-redirect" title="Kernel modules (Italiano)">Impostarne il caricamento</a> se si desidera che vengano caricati automaticamente ad ogni avvio.</div>
<p>Si potrebbe anche controllare la directory <code>/dev/snd/</code> per conoscere i nomi di dispositivo corretti:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ls -l /dev/snd/</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">total 0
crw-rw----  1 root audio 116,  0 Apr  8 14:17 controlC0
crw-rw----  1 root audio 116, 32 Apr  8 14:17 controlC1
crw-rw----  1 root audio 116, 24 Apr  8 14:17 pcmC0D0c
crw-rw----  1 root audio 116, 16 Apr  8 14:17 pcmC0D0p
crw-rw----  1 root audio 116, 25 Apr  8 14:17 pcmC0D1c
crw-rw----  1 root audio 116, 56 Apr  8 14:17 pcmC1D0c
crw-rw----  1 root audio 116, 48 Apr  8 14:17 pcmC1D0p
crw-rw----  1 root audio 116,  1 Apr  8 14:17 seq
crw-rw----  1 root audio 116, 33 Apr  8 14:17 timer
</pre>
<p><b>In caso di richiesta di aiuto su IRC o sui forum, per favore postare l'output dei comandi precedenti.</b>
</p>
<p>Se sono presenti i dispositivi <code>controlC0</code> e <code>pcmC0D0p</code> o simili, allora i moduli audio sono stati rilevati e caricati correttamente.
</p>
<p>Altrimenti, i moduli audio non sono stati rilevati correttamente. Per risolvere, provare a caricare i moduli manualmente:
</p>
<ul>
<li>Individuare il modulo della scheda audio: <a rel="nofollow" class="external text" href="https://www.alsa-project.org/main/index.php/Matrix:Main">ALSA Soundcard Matrix</a>. Il modulo sarà preceduto dal suffisso 'snd-' (ad esempio: 'snd-via82xx').</li>
<li>
<a href="/title/Kernel_modules_(Italiano)#Caricamento" class="mw-redirect" title="Kernel modules (Italiano)">Caricare i moduli</a>:</li>
<li>Controllare i file del dispositivo in <code>/dev/snd</code> (vedi sopra) e/o provare se <code>alsamixer</code> o <code>amixer</code> hanno un corretto output.</li>
<li>Configurare <code>snd-NOME-DEL-MODULO</code> e <code>snd-pcm-oss</code> in modo che <a href="/title/Kernel_modules_(Italiano)#Caricamento" class="mw-redirect" title="Kernel modules (Italiano)">vengano caricati all'avvio</a>.</li>
</ul>
<h3><span class="mw-headline" id="Ottenere_un_output_SPDIF">Ottenere un output SPDIF</span></h3>
<p>(da gralves dai forum di Gentoo)
</p>
<ul>
<li>Nel Controllo Volume di GNOME, sotto il tab delle opzioni, cambiare IEC958 in PCM.  Questa opzione può essere abilitata nelle preferenze.</li>
<li>Se non è installato il Controllo Volume di GNOME,
<ul>
<li>Editare <code>/var/lib/alsa/asound.state</code>. In questo file alsasound salva le regolazioni del mixer.</li>
<li>Trovare la riga che riporta: <code>IEC958 Playback Switch</code>.  Vicino ad essa c'è una riga nella quale è indicato <code>value:false</code>. Cambiarla in <code>value:true</code>.</li>
<li>Adesso trovare questa riga: <code>IEC958 Playback AC97-SPSA</code>. Cambiare il suo valore in <code>0</code>.</li>
<li>Riavviare alsa.</li>
</ul>
</li>
</ul>
<p>Un metodo alternativo per abilitare un output SPDIF automaticamente al login (testato su una SoundBlaster Audigy) è il seguente:
</p>
<ul><li>aggiungere le seguenti righe in <code>/etc/rc.local</code>:</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/rc.local</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Use COAX-digital output
amixer set 'IEC958 Optical' 100 unmute
amixer set 'Audigy Analog/Digital Output Jack' on
</pre>
<p>Si può visualizzare il nome dell'uscita digitale della scheda con:
</p>
<pre>$ amixer scontrols</pre>
<h3><span class="mw-headline" id="Equalizzatore_System-Wide">Equalizzatore System-Wide</span></h3>
<h4>
<span id="Utilizzando_AlsaEqual_.28fornisce_l.E2.80.99interfaccia_grafica.29"></span><span class="mw-headline" id="Utilizzando_AlsaEqual_(fornisce_l’interfaccia_grafica)">Utilizzando AlsaEqual (fornisce l’interfaccia grafica)</span>
</h4>
<p>Installare <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/alsaequal/">alsaequal</a></span><sup><small>AUR</small></sup> da <a href="/title/AUR" class="mw-redirect" title="AUR">AUR</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  Se si utilizza un sistema x86_64 e 32bit-flashplugin, il suono in flash non funzionerà. Si dovrà quindi o disabilitare alsaequal o compilarlo per 32bit.</div>
<p>Dopo aver installato il pacchetto, inserire nel file di configurazione ALSA (<code>~/.asoundrc</code> o <code>/etc/asound.conf</code>) quanto segue:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.asoundrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ctl.equal {
 type equal;
}

pcm.plugequal {
  type equal;
  # Modify the line below if you don't
  # want to use sound card 0.
  #slave.pcm "plughw:0,0";
  #by default we want to play from more sources at time:
  slave.pcm "plug:dmix";
}

#pcm.equal {
  # Or if you want the equalizer to be your
  # default soundcard uncomment the following
  # line and comment the above line.
pcm.!default {
  type plug;
  slave.pcm plugequal;
}
</pre> 
<p>Ora si è pronti per modificare l’equalizzatore tramite il comando:
</p>
<pre>$ alsamixer -D equal</pre>
<p>Si noti che il file di configurazione, diverso per ogni utente (se non diversamente specificato), viene salvato in <code>$HOME/.alsaequal.bin</code>.
Perciò se si vuole utilizzare AlsaEqual con <a href="/title/Mpd" class="mw-redirect" title="Mpd">mpd</a> o con un altro software, con un utente diverso, è possibile configurarlo con il comando:
</p>
<pre># su mpd -c 'alsamixer -D equal</pre>
<p>Oppure, è possibile creare un link simbolico a <code>.alsaequal.bin</code> nella home di quell’utente.
</p>
<h5><span class="mw-headline" id="Gestire_gli_stati_di_AlsaEqual">Gestire gli stati di AlsaEqual</span></h5>
<p>Installare <a rel="nofollow" class="external text" href="https://xyne.archlinux.ca/projects/alsaequal-mgr/">alsaequal-mgr</a> da <a rel="nofollow" class="external text" href="https://xyne.archlinux.ca/repos/">Xyne's repos</a> o da <a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?ID=62420">AUR</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-08-02]</sup>.
</p>
<p>Configurare l'equalizzatore come al solito tramite
</p>
<p><code>$ alsamixer -D equal</code>
</p>
<p>Quando si è soddisfatti del risultato, si può dare un nome alla configurazione ("foo" in questo esempio) e salvarlo:
</p>
<p><code>alsaequal-mgr save foo</code>
</p>
<p>Lo stato "foo" può essere richiamato in seguito tramite
</p>
<p><code>$ alsaequal-mgr load foo</code>
</p>
<p>È quindi possibile creare stati differenziati per giochi, film, generi musicali, applicazioni VoIP, etc. e caricarli quando necessario.
</p>
<p>Consultare <a rel="nofollow" class="external text" href="https://xyne.archlinux.ca/projects/alsaequal-mgr/">project page</a> ed i messaggi di aiuto per ulteriori informazioni.
</p>
<h4><span class="mw-headline" id="Utilizzando_mbeq">Utilizzando mbeq</span></h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Questo metodo richiede l'utilizzo del plugin ladspa che può comportare un consumo un po' più alto della CPU quando si esegue un suono. Inoltre, questo metodo è pensato per l'utilizzo di un suono stereofonico (ad esempio, ottimizzato per un ascolto tramite cuffie) </div>
<p>Installare <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=alsa-plugins">alsa-plugins</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ladspa">ladspa</a></span> e <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=swh-plugins">swh-plugins</a></span> 
</p>
<ul><li>sarà necessario avere uno dei file tra <code>~/.asoundrc</code> e <code>/etc/asound.conf</code>, dunque, se non è ancora stato fatto, creare uno dei due</li></ul>
<pre>touch ~/.asoundrc</pre>
<p>ed inserirvi le seguenti righe:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/asound.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">pcm.eq {
  type ladspa

  # The output from the EQ can either go direct to a hardware device
  # (if you have a hardware mixer, e.g. SBLive/Audigy) or it can go
  # to the software mixer shown here.
  #slave.pcm "plughw:0,0"
  slave.pcm "plug:dmix"

  # Sometimes you may need to specify the path to the plugins,
  # especially if you have just installed them.  Once you have logged
  # out/restarted this should not be necessary, but if you get errors
  # about being unable to find plugins, try uncommenting this.
  #path "/usr/lib/ladspa"

  plugins [
    {
      label mbeq
      id 1197
      input {
        #this setting is here by example, edit to your own taste
        #bands: 50hz, 100hz, 156hz, 220hz, 311hz, 440hz, 622hz, 880hz, 1250hz, 1750hz, 25000hz,
        #50000hz, 10000hz, 20000hz
        controls [ -5 -5 -5 -5 -5 -10 -20 -15 -10 -10 -10 -10 -10 -3 -2 ]
      }
    }
  ]
 }

 # Redirect the default device to go via the EQ - you may want to do
 # this last, once you're sure everything is working.  Otherwise all
 # your audio programs will break/crash if something has gone wrong.

 pcm.!default {
  type plug
  slave.pcm "eq"
 }

 # Redirect the OSS emulation through the EQ too (when programs are running through "aoss")

 pcm.dsp0 {
  type plug
  slave.pcm "eq"
 }
</pre>
<ul><li>ora tutto dovrebbe essere sistemato</li></ul>
<h2>
<span id="Ricampionamento_in_alta_qualit.C3.A0"></span><span class="mw-headline" id="Ricampionamento_in_alta_qualità">Ricampionamento in alta qualità</span>
</h2>
<p>Quando viene abilitato il mixaggio software, ALSA è costretto a ricampionare tutto alla stessa frequenza (di default a 48000, se supportata). Dmix utilizza un algoritmo di ricampionamento poco efficace, che produce una notevole perdita di qualità.
</p>
<p>Installare <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=alsa-plugins">alsa-plugins</a></span> e <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libsamplerate">libsamplerate</a></span>
</p>
<p>Modificare il tasso di conversione di default a libsamplerate
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/asoundrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">defaults.pcm.rate_converter "samplerate_best"</pre>
<p><b>samplerate_best</b> offre la miglior qualità audio, ma necessità di cpu almeno decenti, in quanto il ricampionamento in tempo reale richiede un numero notevole di cicli di cpu. Sono disponibili anche altri algoritmi (<b>samplerate</b>, etc.) ma non forniscono tangibili miglioramenti rispetto al ricampionatore di default.
</p>
<h2>
<span id="Upmixing.2FDownmixing"></span><span class="mw-headline" id="Upmixing/Downmixing">Upmixing/Downmixing</span>
</h2>
<h3><span class="mw-headline" id="Upmixing">Upmixing</span></h3>
<p>Per fare in modo che una sorgente audio stereo saturi tutte le uscite di un sistema che ne ha più di 2, come 5.1 o 7.1, è necessario effettuare un upmixing. In passato questa procedura risultava complessa e suscettibile di errori, ma al giorno d'oggi esistono dei plugin che se ne occupano. In questo esempio si utilizzerà il plugin <code>upmix</code>, incluso in <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=alsa-plugins">alsa-plugins</a></span>.
</p>
<p>Dopodichè aggiungere il seguente codice al file di configurazione di ALSA a propria scelta (<code>/etc/asound.conf</code> oppure <code>~/.asoundrc</code>):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.asoundrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">pcm.upmix71 {
     type upmix
     slave.pcm "surround71"
     delay 15
     channels 8
 }
</pre>
<p>È intuitivo come adeguare questo esempio da 7.1 ad altro sistema.
</p>
<p>Questo metodo aggiunge un nuovo pcm che è possibile utilizzare per l'upmixing. Se si vuole che tutte le sorgenti audio vengano redirette verso questo pcm, aggiungerlo come default successivamente al codice appena scritto, in questo modo
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.asoundrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">....
pcm.!default "plug:upmix71"
....
</pre>
<p>Il plugin consente automaticamente alle sorgenti di essere riprodotte attraverso di esso, quindi impostarlo come predefinito è una scelta sicura. Se ciò non dovesse funzionare, si può provare a impostare dmix affinchè effettui l'upmixing del canale PCM in questo modo
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.asoundrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">pcm.dmix6 {
    type asym
    playback.pcm {
        type dmix
        ipc_key 567829
        slave {
            pcm "hw:0,0"
            channels 6
        }
    }
}
</pre>
<p>ed usare "dmix6" al posto di "surround71". Se si dovessero riscontrare problemi di suono che salta o risulta distorto, provare ad incrementare la dimensione del buffer (ad esempio a 32768) oppure utilizzare un <a href="#Ricampionamento_in_alta_qualit%C3%A0">ricampionatore di alta qualità</a>.
</p>
<h3><span class="mw-headline" id="Downmixing">Downmixing</span></h3>
<p>Se si vuole effettuare il downmixing, ad esempio per ascoltare su un'uscita stereo il sonoro di un video in 5.1, è necessario utilizzare il plugin <code>vdownmix</code> contenuto in <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=alsa-plugins">alsa-plugins</a></span>.
</p>
<p>Nel file di configurazione aggiungere quanto segue
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.asoundrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">pcm.!surround51 {
     type vdownmix
     slave.pcm "default"
 }
 pcm.!surround40 {
     type vdownmix
     slave.pcm "default"
 }
</pre>
<h2><span class="mw-headline" id="Mixaggio">Mixaggio</span></h2>
<h3>
<span id="Mixaggio_software_.28dmix.29"></span><span class="mw-headline" id="Mixaggio_software_(dmix)">Mixaggio software (dmix)</span>
</h3>
<p>Sistema di mixaggio software di ALSA
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> : Per versioni di ALSA uguali o superiori alla 1.0.9rc2 non vi è necessità di configurare dmix per le uscite audio analogiche. Dmix è abilitato di default se viene rilevata una scheda audio che non supporta il mixaggio via hardware.</div>
<p>Se comunque non dovesse funzionare automaticamente è sufficiente creare il (o modificare l'esistente) file <code>~/.asoundrc</code> con questo contenuto: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.asoundrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">pcm.dsp {
    type plug
    slave.pcm "dmix"
}
</pre>
<p>Questo dovrebbe abilitare il mixaggio software ed abilitare più applicazioni all'accesso alla periferica contemporaneamente.
Per le uscite audio digitali come S/PDIF, il pacchetto ALSA tuttora non abilita dmix di default. Perciò la configurazione appena mostrata si rivela in questo caso necessaria per l'utilizzo del mixaggio software su uscite S/PDIF.
Consultare <a href="#Risoluzione_dei_problemi">#Risoluzione dei problemi</a> per soluzioni a problemi comuni.
</p>
<h3><span class="mw-headline" id="Mixaggio_Hardware">Mixaggio Hardware</span></h3>
<h4><span class="mw-headline" id="Supporto">Supporto</span></h4>
<p>Se sul sistema è presente un chipset audio che supporta il mixaggio hardware, non è richiesta alcuna configurazione. Quasi tutti i chip integrati nelle schede madri non supportano il mixaggio hardware, e obbligano ad effettuare un mixaggio via software (vedere paragrafo precedente). Molte schede audio supportano il mixaggio hardware, e quelle meglio supportate su Linux sono le seguenti:
</p>
<ul>
<li>Creative SoundBlaster Live! (5.1 model)</li>
<li>Creative SoundBlaster Audigy (some models)</li>
<li>Creative SoundBlaster Audidy 2 (ZS models)</li>
<li>Creative SoundBlaster Audigy 4 (Pro models)</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> 
<ul>
<li>Le versioni economiche delle suddette schede, (Audigy SE, Audigy 2 NX, SoundBlaster Live! 24bit and SoundBlaster Live! 7.1) <b>non</b> supportano il mixaggio hardware, in quanto utilizzano chip differenti.</li>
<li>Il chip integrato VIA8237 che supporta il mixaggio hardware di 4 flussi. In realtà ridotti a 3 su alcune schede madri (il quarto non emette suono). Anche se funzionante, la qualità del suono non è comparabile a quella delle altre soluzioni.</li>
</ul>
</div>
<h4><span class="mw-headline" id="Fix">Fix</span></h4>
<p>Si si utilizza Arch64 e la scheda Intel Corporation 82801I (ICH9 Family) HD Audio Controller (rev 02), bisogna impostare alcuni parametri per ottenere suono da Enemy Territory:
</p>
<pre>$ echo "et.x86 0 0 direct" &gt; /proc/asound/card0/pcm0p/oss
$ echo "et.x86 0 0 disable" &gt; /proc/asound/card0/pcm0c/oss</pre>
<h2><span class="mw-headline" id="Risoluzione_dei_problemi">Risoluzione dei problemi</span></h2>
<h3><span class="mw-headline" id="Suono_che_salta_utilizzando_Dynamic_Frequency_Scaling">Suono che salta utilizzando Dynamic Frequency Scaling</span></h3>
<p>Alcune combinazioni di determinati driver ALSA e chipset, possono causare dei "salti" nel suono da tutte le sorgenti se utilizzati in combinazione con  un governor dinamico della frequenza della cpu come <code>ondemand</code> o <code>conservative</code>. Attualmente, l'unica soluzione è di passare al governor <code>performance</code>.	
Fare riferimento alla pagina <a href="/title/CPU_frequency_scaling_(Italiano)" title="CPU frequency scaling (Italiano)">CPU frequency scaling (Italiano)</a> per ulteriori informazioni.
</p>
<h3>
<span id="Problemi_con_la_disponibilit.C3.A0_del_mixaggio_software_per_pi.C3.B9_di_un_utente_per_volta"></span><span class="mw-headline" id="Problemi_con_la_disponibilità_del_mixaggio_software_per_più_di_un_utente_per_volta">Problemi con la disponibilità del mixaggio software per più di un utente per volta</span>
</h3>
<p>Può capitare di rilevare che solo un utente per volta può utilizzare dmix. Questa situazione può andar bene per la maggior parte degli utenti, ma coloro i quali utilizzano <a href="/title/Mpd" class="mw-redirect" title="Mpd">mpd</a> come utente differente, ciò diviene un problema. Quando mpd è in esecuzione un utente non può eseguire suoni tramite dmix. Nonostante sia sufficiente eseguire mpd tramite l'account utente di login, è stata trovata anche un'altra soluzione. L'aggiunta della riga <code>ipc_key_add_uid 0</code> al blocco <code>pcm.dmixer</code> disabilita questa limitazione. Quello seguente è un estratto del codice di <code>/etc/asound.conf</code>, il resto è identico a quello mostrato in precedenza.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/asound.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
pcm.dmixer {
 type dmix
 ipc_key 1024
 ipc_key_add_uid 0 
 ipc_perm 0660
slave {
...
</pre>
<h3><span class="mw-headline" id="Problemi_di_riproduzione_simultanea">Problemi di riproduzione simultanea</span></h3>
<p>Se si  hanno problemmi a riprodurre più tracce contemporaneamente, e se è installto <a href="/title/PulseAudio" title="PulseAudio">PulseAudio</a> (ad esempio utilizzando <a href="/title/GNOME" title="GNOME">GNOME</a>), la sua configurazione di default verrà utilizzata automaticamente. Alcuni utenti potrebbero non voler utilizzare <a href="/title/PulseAudio" title="PulseAudio">PulseAudio</a> trovandosi bene con le proprie configurazioni di ALSA. Un metodo per risolvere il problema, è modificare il file <code>/etc/asound.conf</code> e commentare le righe seguenti:
</p>
<pre># Use PulseAudio by default
#pcm.!default {
#  type pulse
#  fallback "sysdefault"
#  hint {
#    show on
#    description "Default ALSA Output (currently PulseAudio Sound Server)"
#  }
#}
</pre>
<p>Commentare anche queste potrebbe rivelarsi necessario:
</p>
<pre>#ctl.!default {
#  type pulse
#  fallback "sysdefault"
#}
</pre>
<p>Questa può rivelarsi una soluzione più semplice rispetto alla totale disinstallazione di <a href="/title/PulseAudio" title="PulseAudio">PulseAudio</a>.
Qui di seguito viene mostrato un esempio di un <code>/etc/asound.conf</code> correttamente funzionante.
</p>
<pre>cm.dmixer {
        type dmix
        ipc_key 1024
        ipc_key_add_uid 0
        ipc_perm 0660
}
pcm.dsp {
        type plug
        slave.pcm "dmix"
}
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong>  Questo <code>/etc/asound.conf</code> è stato creato ed utilizzato con successo per una configurazione globale di <a href="/title/Music_Player_Daemon_(Italiano)" title="Music Player Daemon (Italiano)">MPD</a>. Consultare <a href="#Problemi_con_la_disponibilit%C3%A0_del_mixaggio_software_per_pi%C3%B9_di_un_utente_per_volta">questa sezione</a>
</div>
<h3><span class="mw-headline" id="Mancanza_di_suono_casuale">Mancanza di suono casuale</span></h3>
<p>Si può testare velocemente il comparto audio eseguendo <code>speaker-test</code>. Se non viene emesso alcun suono, il messaggio d'errore dovrebbe essere qualcosa di simile a:
</p>
<pre>ALSA lib pcm_dmix.c:1022:(snd_pcm_dmix_open) unable to open slave
Playback open error: -16
Device or resource busy</pre>
<p>Se non si ottiene alcun suono all'avvio del sistema, può darsi che sul proprio sistema siano presenti più schede audio, e che il loro ordine cambi ad ogni avvio. Se fosse questo il caso, seguire <a href="#Impostare_la_scheda_audio_predefinita">#Impostare la scheda audio predefinita</a>
</p>
<p>Se si utilizza mpd ed il consiglio precedente non dovesse funzionare provare [<a rel="nofollow" class="external text" href="https://mpd.wikia.com/wiki/Configuration#ALSA_MPD_software_volume_control">questa soluzione</a>
</p>
<h4><span class="mw-headline" id="Timidity">Timidity</span></h4>
<p><a href="/title/Timidity" class="mw-redirect" title="Timidity">Timidity</a> potrebbe essere la causa della mancanza di suono. Provare ad eseguire:
</p>
<p><code>systemctl status timidity</code>
</p>
<p>Se l'avvio del demone dovesse risultare fallito, provare ad eseguire <code># killall -9 timidity</code>. Se questo dovesse risolvere il problema, sarà necessario disabilitare l'avvio automatico del demone.
</p>
<h3><span class="mw-headline" id="Problemi_specifici_di_alcuni_programmi">Problemi specifici di alcuni programmi</span></h3>
<p>Per alcuni programmi che continuano ad utilizzare i loro propri settaggi audio, come XMMS ed Mplayer, potrebbe rendersi necessaria l'impostazione dei loro specifici parametri.
Per Mplayer, aprire<code>~/.mplayer/config</code> (o <code>/etc/mplayer/mplayer.conf</code> per un'impostazione globale) ed aggiungere la seguente linea 
<code>ao=alsa</code>
</p>
<p>Per XMMS/Beep Media Player, portarsi nella scheda delle preferenze ed assicurarsi che sia selezionato come sistema audio ALSA e non OSS. Per fare ciò in XMMS
</p>
<ul><li>Aprire XMMS
<ul>
<li>Opzioni -&gt; Preferenze.</li>
<li>Scegliere il plugin di uscita ALSA.</li>
</ul>
</li></ul>
<p>Per applicazioni che non forniscono compatibilità con ALSA è possibile utilizzare il pacchetto alsa-oss. Per utilizzare aoss, eseguire il programma anteponendogli <code>aoss</code>, ad esempio:
<code>aoss realplay</code>
</p>
<p><code>pcm.!default{ ... }</code>
sembra non funzionare più, al suo posto si può utilizzare 
<code>pcm.default pcm.dmixer</code>
</p>
<h3><span class="mw-headline" id="Impostazione_modelli">Impostazione modelli</span></h3>
<p>Anche se Alsa rileva la scheda audio attraverso il BIOS a volte può non essere in grado di riconoscerne <a rel="nofollow" class="external text" href="https://www.kernel.org/doc/Documentation/sound/alsa/HD-Audio-Models.txt">il modello</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-08-02]</sup>. Il chip della scheda audio può essere trovato in  <code>alsamixer</code> (ad esempio ALC662) e il modello può essere impostato in <code>/etc/modprobe.d/modprobe.conf</code> o <code>/etc/modprobe.d/sound.conf</code>. Ad esempio:
</p>
<pre>options snd-hda-intel model=MODEL
</pre>
<p>Ci sono anche altri modelli da impostare. Nella maggior parte dei casi Alsa lo farà in automatico. Se si vogliono vedere nel dettaglio le impostazioni della propria scheda audio si veda <a rel="nofollow" class="external text" href="https://bugtrack.alsa-project.org/main/index.php/Matrix:Main">Alsa Soundcard List</a>, si individui il proprio modello, si clicchi su “<i>Details</i>” e si osservi la sezione "<i>Setting up modprobe...</i>". Inserire i valori trovati in <code>/etc/modprobe.d/modprobe.conf</code>.  Ad esempio, per una scheda AC97 Intel:
</p>
<pre># ALSA portion
alias char-major-116 snd
alias snd-card-0 snd-intel8x0
# module options should go here

# OSS/Free portion
alias char-major-14 soundcore
alias sound-slot-0 snd-card-0

# card #1
alias sound-service-0-0 snd-mixer-oss
alias sound-service-0-1 snd-seq-oss
alias sound-service-0-3 snd-pcm-oss
alias sound-service-0-8 snd-seq-oss
alias sound-service-0-12 snd-pcm-oss</pre>
<h3><span class="mw-headline" id="Audio_in_conflitto_con_altoparlante_interno_del_PC">Audio in conflitto con altoparlante interno del PC</span></h3>
<p>Se si è sicuri che tutto è attivo, che i propri driver sono installati correttamente, e che il volume è giusto, ma non si sente ancora nessun suono,  allora si proceda all’aggiunta delle seguenti linee di codice in <code>/etc/modprobe.d/modprobe.conf</code>:
</p>
<pre>options snd-NAME-OF-MODULE ac97_quirk=0
</pre>
<p>Funziona con <code>via82xx</code>
</p>
<pre>options snd-NAME-OF-MODULE ac97_quirk=1
</pre>
<p>Funziona con <code>snd_intel8x0</code>
</p>
<h3><span class="mw-headline" id="Nessun_Input_dal_Microfono">Nessun Input dal Microfono</span></h3>
<p>Assicurarsi, in alsamixer, che tutti i livelli del volume, nella sezione Registrazione, siano attivi e che la modalità CAPTURE del microfono sia abilitata (in alsamixer, selezionarla e premere spazio). Potrebbe anche essere necessario attivare e aumentare il volume di Line-in (Linea in ingresso) nella sezione Playblack (Riproduzione).
</p>
<p>Per testare il microfono, eseguire questi comandi:
</p>
<pre> arecord -d 5 test-mic.wav
 aplay test-mic.wav
</pre>
<p>Si consiglia di leggere la pagina <i>man</i> di <i>arecord</i>. Comunque, nel caso in cui non si sentisse alcun suono, il microfono potrebbe essere guasto oppure collegato nell’ingresso sbagliato.
</p>
<p>Alcuni portatili Dell richiedono che il suffisso "-dmic" sia aggiunto al nome del modello all'interno di <code>/etc/modprobe.d/modprobe.conf</code>:
<code>options snd-hda-intel model=dell-m6-dmic</code>
</p>
<p>Alcuni programmi tentano di utilizzare OSS come software di input principale. Se sono stati abilitati in precedenza i <a href="/title/Kernel_modules_(Italiano)" class="mw-redirect" title="Kernel modules (Italiano)">moduli del kernel</a> <code>snd_pcm_oss</code>, <code>snd_mixer_oss</code> o <code>snd_seq_oss</code> (di default non sono caricati automaticamente), provare a scaricarli.
</p>
<h3>
<span id="Impostazione_predefinita_Microfono.2FDispositivo_di_acquisizione"></span><span class="mw-headline" id="Impostazione_predefinita_Microfono/Dispositivo_di_acquisizione">Impostazione predefinita Microfono/Dispositivo di acquisizione</span>
</h3>
<p>Alcune applicazioni (Pidgin, Adobe Flash) non forniscono una opzione per modificare il dispositivo di acquisizione. Ciò può costituire un problema se il microfono è su un dispositivo diverso (ad esempio una webcam USB o proprio un microfono) dalla scheda audio. Per cambiare solo il dispositivo di acquisizione, lasciando quello di riproduzione di default, si può modificare il file <code> ~/.asoundrc</code> inserendo quanto segue:
</p>
<pre>pcm.usb
{
    type hw
    card U0x46d0x81d
}

pcm.!default
{
    type asym
    playback.pcm
    {
        type plug
        slave.pcm "dmix"
    }
    capture.pcm 
    {
        type plug
        slave.pcm "usb"
    }
}
</pre>
<p>Sostituire "U0x46d0x81d" con il nome della scheda del dispositivo di acquisizione in ALSA. È possibile utilizzare il comando <code> arecord -L</code> oppure <code> cat /proc/asound/cards</code> per visualizzare l’elenco di tutti i dispositivi di acquisizione rilevati da ALSA.
</p>
<h3><span class="mw-headline" id="Il_microfono_interno_non_funziona">Il microfono interno non funziona</span></h3>
<p>Assicurarsi, in alsamixer, che tutti i livelli del volume, nella sezione Registrazione, siano attivi. Per ottenere una nuova impostazione volume, chiamata Capture, che registrerà il microfono interno, occorre aggiungere un’opzione al file <code> /etc/sound.conf</code> e ricaricare il modulo snd-*. Ad esempio, per snd-hda-intel, aggiungere:
</p>
<pre> options snd-hda-intel enable_msi=1
</pre>
<p>Quindi, con i comandi riportati di seguito, ricaricare il modulo, attivare la nuova impostazione volume (Capture) e riprovare.
</p>
<pre> rmmod snd-hda-intel
 modprobe snd-hda-intel
</pre>
<h3><span class="mw-headline" id="Nessun_suono_con_scheda_integrata_Intel">Nessun suono con scheda integrata Intel</span></h3>
<p>Ci potrebbe essere un conflitto tra due moduli caricati, chiamati <code>snd_intel8x0</code> e <code>snd_intel8x0m</code>. In questo caso, mettere in blacklist <code>snd_intel8x0m</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/modprobe.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">blacklist snd_intel8x0m</pre>
<p><i>Disabilitare</i> i canali "External Amplifier" in <code>alsamixer</code> o in <code>amixer</code> potrebbe essere d'aiuto. Consultare anche <a rel="nofollow" class="external text" href="http://alsa.opensrc.org/index.php/Intel8x0#Dell_Inspiron_8600_.28and_probably_others.29">il wiki ALSA</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-08-02]</sup>.
</p>
<p>Anche togliere il muto al canale Mix del mixer potrebbe risolvere il problema.
</p>
<h3><span class="mw-headline" id="Nessun_suono_dalle_cuffie_con_scheda_audio_integrata_Intel">Nessun suono dalle cuffie con scheda audio integrata Intel</span></h3>
<p>Su di un portatile con <b>Intel Corporation 82801 I (ICH9 Family) HD Audio Controller</b> potrebbe essere necessario aggiungere questa riga a <code> modprobe</code> o al <code> sound.conf</code>:
</p>
<pre>options snd-hda-intel model=$model
</pre>
<p>Dove $model è uno dei modelli che seguono (non in ordine di merito ma di probabilità di funzionamento):
</p>
<ul>
<li>dell-vostro</li>
<li>olpc-xo-1_5</li>
<li>dell-m6</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong>  Potrebbe essere necessario inserire queste "opzioni" dopo eventuali "alias"</div>
<p>Si possono visualizzare tutti i modelli disponibili nella documentazione del kernel. Ad esempio <a rel="nofollow" class="external text" href="https://git.kernel.org/cgit/linux/kernel/git/stable/linux-stable.git/tree/Documentation/sound/alsa/HD-Audio-Models.txt">qui</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-08-02]</sup>, ma accertarsi che si tratti della documentazione della versione del kernel in uso.
</p>
<p>Un elenco di tutti i modelli è anche disponibile a <a rel="nofollow" class="external text" href="https://www.mjmwired.net/kernel/Documentation/sound/alsa/HD-Audio-Models.txt">questo indirizzo</a>. Per conoscere il nome del proprio chip eseguire il seguente comando
<code>$ grep Codec /proc/asound/card*/codec*</code>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong>  Alcuni chip potrebbero essere stati rinominati, e non avere quindi un riscontro diretto con i nomi all'interno del file</div>
<p>Se seguendo questo metodo si dovessero riscontrare malfunzionamenti o anomalie, si prega di segnalare ad ALSA eventuali bug.
</p>
<p>Inoltre, in caso di problemi con segnali acustici (pcspkr):
</p>
<pre>options snd-hda-intel model=$model enable=1 index=0
</pre>
<h3>
<span id="Nessun_suono_quando_.C3.A8_installata_la_scheda_video_con_S.2FPDIF"></span><span class="mw-headline" id="Nessun_suono_quando_è_installata_la_scheda_video_con_S/PDIF">Nessun suono quando è installata la scheda video con S/PDIF</span>
</h3>
<p>Individuare i moduli disponibili ed il loro ordine:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ cat /proc/asound/modules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">0 snd_hda_intel
1 snd_ca0106
</pre>
<p>Disattivare il codec audio della scheda video in <code>/etc/modprobe.d/modprobe.conf</code>:
</p>
<pre># /etc/modprobe.d/modprobe.conf
#
install snd_hda_intel /bin/false
</pre>
<p>Se entrambi i dispositivi utilizzano lo stesso modulo, dovrebbe essere possibile disattivare uno dei due tramite il BIOS.
</p>
<h3>
<span id="La_qualit.C3.A0_dell.27audio_.C3.A8_bassa"></span><span class="mw-headline" id="La_qualità_dell'audio_è_bassa">La qualità dell'audio è bassa</span>
</h3>
<p>Se si riscontra una bassa qualità dell'audio, provare ad impostare il volume di PCM (in alsamixer) ad un livello di gain 0.
</p>
<p>Se è stato caricato il driver snd-usb-audio, potresti provare ad abilitare <code>softvol</code> all'interno del file <code>/etc/asound.conf</code>. Configurazione d'esempio per il primo dispositivo audio:
</p>
<pre>pcm.!default {
   type plug
   slave.pcm "softvol"
 }
 pcm.dmixer {
      type dmix
      ipc_key 1024
      slave {
          pcm "hw:0"
          period_time 0
          period_size 4096
          buffer_size 131072
          rate 50000
      }
      bindings {
          0 0
          1 1
      }
 }
 pcm.dsnooper {
      type dsnoop
      ipc_key 1024
      slave {
          pcm "hw:0"
          channels 2
          period_time 0
          period_size 4096
          buffer_size 131072
          rate 50000
      }
      bindings {
          0 0
          1 1
      }
 }
 pcm.softvol {
      type softvol
      slave { pcm "dmixer" }
      control {
          name "Master"
          card 0
      }
 }
 ctl.!default {
   type hw
   card 0
 }
 ctl.softvol {
   type hw
   card 0
 }
 ctl.dmixer {
   type hw
   card 0
 }
</pre>
<h3>
<span id="Rumori.2FSuoni_all.E2.80.99avvio_ed_allo_stop_della_riproduzione"></span><span class="mw-headline" id="Rumori/Suoni_all’avvio_ed_allo_stop_della_riproduzione">Rumori/Suoni all’avvio ed allo stop della riproduzione</span>
</h3>
<p>Alcuni moduli (ad es. snd-ac97-codec e snd-hda-intel) posso spegnere la scheda audio quando questa non è utilizzata. Lo spegnimento può generare un suono. A volte ciò può avvenire anche quando si agisce sulla barra del volume, o quando si aprono o chiudono finestre (KDE4). Per evitare che ciò avvenga si può eseguire <code>modinfo snd-MY-MODULE</code>, e cercare un’opzione che regoli o disattivi questa funzione.
</p>
<p>
Ad esempio: per disabilitare il risparmio energetico utilizzando snd_hda_intel aggiungere in <code> /etc/modprobe.d/modprobe.conf</code> </p>
<pre>options snd-hda-intel power_save=0</pre>
<p> o </p>
<pre>options snd-hda-intel power_save=0 power_save_controller=N</pre>
<p>È anche possibile provare prima al volo le configurazioni dando, ad esempio, <code>modprobe snd_hda_intel power_save=0</code> 
</p>
<p>Potrebbe anche rivelarsi necessario togliere il muto dal canale alsa 'Line'. Qualsiasi valore, purchè non 0 o troppo alto, andrà bene.
</p>
<p>Ad esempio: su una scheda integrata VIA VT1708S (che utilizza il modulo snd-hda-intel) questi disturbi erano presenti anche dopo aver impostato il parametro 'power_save' a 0. Im postandolo ad 1 e togliendo il muto al canale 'Line', il problema è stato risolto.
</p>
<p>Fonte: <a rel="nofollow" class="external free" href="https://www.kernel.org/doc/Documentation/sound/alsa/powersave.txt">https://www.kernel.org/doc/Documentation/sound/alsa/powersave.txt</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-08-02]</sup>
</p>
<h3>
<span id="L.27uscita_S.2FPDIF_non_funziona"></span><span class="mw-headline" id="L'uscita_S/PDIF_non_funziona">L'uscita S/PDIF non funziona</span>
</h3>
<p>Se l'uscita digitale ottica/coassiale della scheda madre/scheda audio non funziona o ha smesso di funzionare, e in alsamixer i relativi canali sono già attivi, provare ad eseguire: 
</p>
<pre>iecset audio on
</pre>
<p>da utente root.
</p>
<p>È inoltre possibile inserire questo comando in <code> rc.local</code> in quanto a volte può smettere di funzionare dopo un riavvio.
</p>
<h3>
<span id="L.27uscita_HDMI_non_funziona"></span><span class="mw-headline" id="L'uscita_HDMI_non_funziona">L'uscita HDMI non funziona</span>
</h3>
<p>La procedura esposta di seguito consente di testare il funzionamento dell'uscita audio HDMI. Prima di procede, accertarsi di aver abilitato e levato il muto all'output corrispondente tramite <code>alsamixer</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Se si utilizza una scheda video ATI ed un kernel linux &gt;=3.0, un modulo del kernel necessario risulterà disabilitato. Consultare <a href="/title/ATI#HDMI_audio" title="ATI">ATI#HDMI audio</a>.</div>
<p>Collegare il pc al monitor tramite cavo HDMI ed abilitare il display con un tool come <code>xrandr</code> o <code>arandr</code>. Ad esempio 
</p>
<pre>$ xrandr # list outputs
$ xrandr --output DVI-D_1 --mode 1024x768 --right-of PANEL # enable output</pre>
<p>Interrogare i dispositivi di riproduzione:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ aplay -l</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">**** List of PLAYBACK Hardware Devices ****
card 0: NVidia [HDA NVidia], device 0: ALC1200 Analog [ALC1200 Analog]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
card 0: NVidia [HDA NVidia], device 1: ALC1200 Digital [ALC1200 Digital]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
card 0: NVidia [HDA NVidia], device 3: NVIDIA HDMI [NVIDIA HDMI]
  Subdevices: 0/1
  Subdevice #0: subdevice #0
</pre>
<p>Ora che abbiamo le informazioni per la periferica HDMI, si può fare una prova. Nell'esempio che segue, 0 è il numero della scheda e 3 è il numero del dispositivo.
</p>
<pre>$ aplay -D plughw:0,3 /usr/share/sounds/alsa/Front_Center.wav</pre>
<p>Se aplay non restituisce alcun errore, ma ancora non si sente alcun suono, "riavviare" il ricevitore, il monitor o la tv. Poichè l'interfaccia HDMI esegue un rigido controllo sulla connessione, potrebbe aver recepito che prima non c'era alcun flusso audio, ed ha quindi disabilitato la decodifica audio.
</p>
<p>Se la verifica ha esito positivo, modificare/creare <code>~/.asoundrc</code> per impostare HDMI come dispositivo audio predefinito e riavviare; ora l'audio dovrebbe funzionare.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.asoundrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">pcm.!default {
  type hw
  card 0
  device 3
}
</pre>
<p>Se la configurazione precedente non dovesse funzionare, provare con:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.asoundrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">defaults.pcm.card 0
defaults.pcm.device 3
defaults.ctl.card 0
</pre>
<h3><span class="mw-headline" id="HP_TX2500">HP TX2500</span></h3>
<p>Aggiungere queste due righe in <code>/etc/modprobe.d/modprobe.conf</code>:
</p>
<pre>options snd-cmipci mpu_port=0x330 fm_port=0x388
options snd-hda-intel index=0 model=toshiba position_fix=1
</pre>
<pre>options snd-hda-intel model=hp (works for tx2000cto)
</pre>
<h3><span class="mw-headline" id="Salto_di_suono_durante_la_riproduzione_MP3">Salto di suono durante la riproduzione MP3</span></h3>
<p>Se si hanno salti di suono durante la riproduzione di file MP3 e se al computer sono collegati di più di 2 altoparlanti (o più di due), eseguire <code> alsamixer</code> e disabilitare i canali degli altoparlanti che <b>NON</b> si posseggono (ad esempio, disabilitare il canale dell’altoparlante centrale se non si dispone di un altoparlante centrale).
</p>
<h3><span class="mw-headline" id="Cuffia_USB_e_schede_audio_esterne_USB">Cuffia USB e schede audio esterne USB</span></h3>
<p>Se si utilizza una cuffia USB con ALSA, si può provare ad usare <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=asoundconf">asoundconf</a></span> (attualmente disponibile solo da <a href="/title/AUR" class="mw-redirect" title="AUR">AUR</a>) per impostare l'auricolare come uscita audio principale. Prima di proseguire,  assicurarsi di avere abilitato il modulo usb audio (<code>modprobe snd-usb-audio</code>).
</p>
<pre>#modprobe snd-usb-audio
</pre>
<p>Se si vuole, si può aggiungere quanto segue al file <code>/etc/rc.conf</code>
</p>
<pre># asoundconf is-active
# asoundconf list
# asoundconf set-default-card &lt;chosen soundcard&gt;
</pre>
<h4><span class="mw-headline" id="Suono_gracchiante_su_dispositivi_USB">Suono gracchiante su dispositivi USB</span></h4>
<p>Se si riscontra audio gracchiante su dispositivi USB, si può provare ad impostare il modulo snd-usb-audio per minime latenze.
Aggiungere questo codice a <code>/etc/modprobe.d/modprobe.conf</code> :
</p>
<pre>options snd-usb-audio nrpacks=1
</pre>
<p>Fonte: <a rel="nofollow" class="external free" href="https://alsa.opensrc.org/Usb-audio#Tuning_USB_devices_for_minimal_latencies">https://alsa.opensrc.org/Usb-audio#Tuning_USB_devices_for_minimal_latencies</a>
</p>
<h4><span class="mw-headline" id="Inserimento_a_caldo_di_una_scheda_audio_USB">Inserimento a caldo di una scheda audio USB</span></h4>
<p>Per fare in modo che una scheda audio USB diventi al suo inserimento automaticamente la scheda principale, si può utilizzare la seguente regola di udev (ad esempio aggiungendo queste righe al file <code>/etc/udev/rules.d/00-local.rules</code>):
</p>
<pre>KERNEL=="pcmC[D0-9cp]*", ACTION=="add", PROGRAM="/bin/sh -c 'K=%k; K=$${K#pcmC}; K=$${K%%D*}; echo defaults.ctl.card $$K &gt; /etc/asound.conf; echo defaults.pcm.card $$K &gt;&gt;/etc/asound.conf'"
KERNEL=="pcmC[D0-9cp]*", ACTION=="remove", PROGRAM="/bin/sh -c 'echo defaults.ctl.card 0 &gt; /etc/asound.conf; echo defaults.pcm.card 0 &gt;&gt;/etc/asound.conf'"</pre>
<h3>
<span id="Errore_.27Unknown_hardware.27_dopo_aggiornamento_Kernel"></span><span class="mw-headline" id="Errore_'Unknown_hardware'_dopo_aggiornamento_Kernel">Errore 'Unknown hardware' dopo aggiornamento Kernel</span>
</h3>
<p>I seguenti messaggi possono essere visualizzati durante l'avvio di ALSA, dopo l'aggiornamento del kernel:
</p>
<pre>Unknown hardware "foo" "bar" ...
Hardware is initialized using a guess method
/usr/bin/alsactl: set_control:nnnn:failed to obtain info for control #mm (No such file or directory)
</pre>
<p>oppure
</p>
<pre>Found hardware: "HDA-Intel" "VIA VT1705" "HDA:11064397,18490397,00100000" "0x1849" "0x0397"
Hardware is initialized using a generic method
/usr/bin/alsactl: set_control:1328: failed to obtain info for control #1 (No such file or directory)
/usr/bin/alsactl: set_control:1328: failed to obtain info for control #2 (No such file or directory)
/usr/bin/alsactl: set_control:1328: failed to obtain info for control #25 (No such file or directory)
/usr/bin/alsactl: set_control:1328: failed to obtain info for control #26 (No such file or directory)
</pre>
<p>E’ sufficiente memorizzare nuovamente le impostazioni del mixer di ALSA (da root):
</p>
<pre># alsactl -f /var/lib/alsa/asound.state store
</pre>
<p>Potrebbe essere necessario configurare nuovamente ALSA tramite <code>alsamixer</code>
</p>
<h3><span class="mw-headline" id="HDA_Analyzer">HDA Analyzer</span></h3>
<p>Se la mappatura dei pin (spinotti) audio non corrisponde ma ALSA funzione regolarmente, si può provare HDA Analyzer – un’interfaccia grafica (GUI) in pyGTK2 per il controllo dell’audio HD, disponibile nel <a rel="nofollow" class="external text" href="https://www.alsa-project.org/main/index.php/HDA_Analyzer">wiki di ALSA</a>.
Provare anche ad utilizzare la sezione Widget Control per gestire i PIN, impostando IN per il microfono e OUT per le cuffie. Potrebbe essere una buona idea fare riferimento ai valori di default (Config Defaults).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<p>NOTA: Lo script è incompatibile con python3 (che è attualmente fornito con ArchLinux) ma si può comunque provare ad utilizzarlo. La soluzione è: aprire “run.py”, trovare tutte le ricorrenze "python" (2 ricorrenze - una nella  prima riga, e la seconda nell'ultima riga) e sostituirle con "python2".
</p>
NOTA 2: Lo script richiede i privilegi di root, ma non funziona attraverso su/sudo. Eseguirlo quindi tramite <code>kdesu</code> o <code>gksu</code>.</div>
<h3><span class="mw-headline" id="ALSA_con_SDL">ALSA con SDL</span></h3>
<p>Se non si riesce ad ottenere alcun suono tramite SDL, ma ALSA non può essere selezionato nella configurazione dell'applicazione, provare ad impostare la variabile d'ambiente SDL_AUDIODRIVER su "alsa"
</p>
<pre>export SDL_AUDIODRIVER=alsa</pre>
<h3><span class="mw-headline" id="Workaround_in_caso_di_volume_basso">Workaround in caso di volume basso</span></h3>
<p>Se ci si dovesse ritrovare con un audio molto basso nonostante la massimizzazione del volume delle casse/cuffie, si può fare un tentativo col plugin softvol. Aggiungere il seguente codice al file <code>/etc/asound.conf</code>.
</p>
<pre>pcm.!default {
      type plug
      slave.pcm "softvol"
  }

pcm.softvol {
    type softvol
    slave {
        pcm "dmix"
    }
    control {
        name "Pre-Amp"
        card 0
    }
    min_dB -5.0
    max_dB 20.0
    resolution 6
}
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Potrebbe essere necessario riavviare l'intero sistema, in quanto il semplice riavvio del demone alsa potrebbe non caricare la nuova configurazione. Se ciò non dovesse avvenire anche dopo un riavvio del sistema, provare a modificare <code>plug</code> in <code>hw</code> nel codice precedente.</div>
<p>Una volta che le modifiche saranno state caricate, si noterà una nuova sezione <code>Pre-Amp</code> in alsamixer. È possibile regolare i volumi da lì.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  L'impostazione di valori eccessivamente alti in <code>Pre-Amp</code> potrebbe causare una distorsione del suono, accertarsi quindi di regolarli con cura.</div>
<h3>
<span id=".22Schiocco.22_al_resume_dopo_una_sospensione"></span><span class="mw-headline" id='"Schiocco"_al_resume_dopo_una_sospensione'>"Schiocco" al resume dopo una sospensione</span>
</h3>
<p>Potrebbe capitare di udire un suono simile ad uno schiocco quando si effettua il resume di un sistema dalla sospensione. Questò può essere evitato modificando il file <code>/etc/pm/sleep.d/90alsa</code> e rimuovendo la riga <code>aplay -d 1 /dev/zero</code>
</p>
<h2>
<span id="Configurazioni_d.27esempio"></span><span class="mw-headline" id="Configurazioni_d'esempio">Configurazioni d'esempio</span>
</h2>
<p>Consultare <a href="/title/Advanced_Linux_Sound_Architecture/Example_Configurations_(Italiano)" class="mw-redirect" title="Advanced Linux Sound Architecture/Example Configurations (Italiano)">Advanced Linux Sound Architecture/Example Configurations (Italiano)</a>
</p>
<h2><span class="mw-headline" id="Link_esterni">Link esterni</span></h2>
<p>Altre informazioni possono essere trovate ai seguenti link:
</p>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.mjmwired.net/kernel/Documentation/sound/alsa/ALSA-Configuration.txt">Advanced ALSA module configuration</a></li>
<li><a rel="nofollow" class="external text" href="https://alsa.opensrc.org/Main_Page">Unofficial ALSA Wiki</a></li>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=36815">HOWTO: Compile driver from svn</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="/title/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/title/Category:Multimedia_(Italiano)" title="Category:Multimedia (Italiano)">Multimedia (Italiano)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="/title/Category:Pages_or_sections_flagged_with_Template:Out_of_date" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Advanced_Linux_Sound_Architecture_(Italiano)&amp;oldid=668280">https://wiki.archlinux.org/index.php?title=Advanced_Linux_Sound_Architecture_(Italiano)&amp;oldid=668280</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 7 May 2021, at 19:59.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="/title/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/title/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="/title/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
