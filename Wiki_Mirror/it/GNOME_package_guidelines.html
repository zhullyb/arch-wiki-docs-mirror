<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>GNOME package guidelines (Italiano) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-GNOME_package_guidelines_Italiano rootpage-GNOME_package_guidelines_Italiano skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">GNOME package guidelines (Italiano)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="toc" style="display:block; text-align: center; margin-bottom: 1em;">
<b><a href="../it/Creating_packages.html" class="mw-redirect" title="Creating Packages (Italiano)">Linee guida per la creazione di pacchetti</a></b>
<hr>
<p><a href="../it/Eclipse_plugin_package_guidelines.html" class="mw-redirect" title="Eclipse Plugin Package Guidelines (Italiano)">Eclipse</a> – <a href="../it/GNOME_package_guidelines.html" class="mw-redirect" title="Gnome Package Guidelines (Italiano)">GNOME</a> – <a href="../en/Haskell_package_guidelines.html" class="mw-redirect" title="Haskell Package Guidelines (Italiano)">Haskell</a> – <a href="../it/Java_package_guidelines.html" class="mw-redirect" title="Java Package Guidelines (Italiano)">Java</a> – <a href="../it/Kernel_module_package_guidelines.html" class="mw-redirect" title="Kernel Module Package Guidelines (Italiano)">Kernel</a> – <a href="../it/Lisp_package_guidelines.html" class="mw-redirect" title="Lisp Package Guidelines (Italiano)">Lisp</a> – <a href="/index.php?title=MinGW_PKGBUILD_Guidelines_(Italiano)&amp;action=edit&amp;redlink=1" class="new" title="MinGW PKGBUILD Guidelines (Italiano) (page does not exist)">MinGW</a> – <a href="../it/OCaml_package_guidelines.html" class="mw-redirect" title="OCaml Package Guidelines (Italiano)">OCaml</a> – <a href="../it/Perl_package_guidelines.html" class="mw-redirect" title="Perl Package Guidelines (Italiano)">Perl</a> – <a href="../it/Python_package_guidelines.html" class="mw-redirect" title="Python Package Guidelines (Italiano)">Python</a> – <a href="../it/Ruby_Gem_package_guidelines.html" class="mw-redirect" title="Ruby Gem Package Guidelines (Italiano)">Ruby</a> – <a href="../it/VCS_package_guidelines.html" class="mw-redirect" title="VCS PKGBUILD Guidelines (Italiano)">VCS</a> – <a href="../it/Wine_package_guidelines.html" class="mw-redirect" title="Wine PKGBUILD Guidelines (Italiano)">Wine</a> – <a href="/index.php?title=Nonfree_Applications_Package_Guidelines_(Italiano)&amp;action=edit&amp;redlink=1" class="new" title="Nonfree Applications Package Guidelines (Italiano) (page does not exist)">Other</a>
</p>
</div>
<p>I pacchetti GNOME di Archlinux seguono un determinato schema.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Profilo_di_inizializzazione_di_GNOME"><span class="tocnumber">1</span> <span class="toctext">Profilo di inizializzazione di GNOME</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Schemi_GConf"><span class="tocnumber">2</span> <span class="toctext">Schemi GConf</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Schemi_GSettings"><span class="tocnumber">3</span> <span class="toctext">Schemi GSettings</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Scrollkeeper_e_la_documentazione"><span class="tocnumber">4</span> <span class="toctext">Scrollkeeper e la documentazione</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#File_.desktop"><span class="tocnumber">5</span> <span class="toctext">File .desktop</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Cache_delle_icone_GTK"><span class="tocnumber">6</span> <span class="toctext">Cache delle icone GTK</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#File_.install"><span class="tocnumber">7</span> <span class="toctext">File .install</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Esempio"><span class="tocnumber">8</span> <span class="toctext">Esempio</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Profilo_di_inizializzazione_di_GNOME">Profilo di inizializzazione di GNOME</span></h2>
<p>Non c'è più alcun profilo di inizializzazione. La vecchia riga dovrebbe essere eliminata da ogni PKGBUILD:
</p>
<pre>[ -z "$GNOMEDIR" ] &amp;&amp; . /etc/profile.d/gnome.sh
</pre>
<h2><span class="mw-headline" id="Schemi_GConf">Schemi GConf</span></h2>
<p>Molti pacchetti GNOME installano schemi Gconf. Questi schemi vengono installati nel database del sistema GConf, che andrebbe evitato.
Alcuni pacchetti mettono a disposizione l'opzione <code>--disable-schemas-install</code> per il <code>./configure</code>, che spesso non funziona. Per questo motivo gconftool-2, possiede una variabile chiamata <code>GCONF_DISABLE_MAKEFILE_SCHEMA_INSTALL</code>, se questa viene impostata, gconftool-2 non aggiornerà alcun database.
Nel creare pacchetti che installano file schema, utilizzare 
</p>
<pre>make GCONF_DISABLE_MAKEFILE_SCHEMA_INSTALL=1 DESTDIR=${pkgdir} install
</pre>
<p>nello stage di installazione del pacchetto.
</p>
<p>È necessario installare e rimuovere gli schemi GConf nel file .install, utilizzando pre_remove(), pre_upgrade(), post_upgrade() e post_install(). Utilizzare gconf-merge-schemas per unire diversi schemi in unico file specifico per uno pacchetto, installarli o disinstallarli tramite <code>usr/sbin/gconfpkg --(un)install $pkgname</code>.
L'utilizzo di gconfpkg richieda la dipendenza gconf&gt;=2.18.0.1-4 (or gconfmm&gt;=2.20.0).
</p>
<h2><span class="mw-headline" id="Schemi_GSettings">Schemi GSettings</span></h2>
<p>Gli schemi Gconf verranno rimpiazzati dagli schemi Gsettings in un futuro molto prossimo, anche se alcune applicazioni li usano già (ad es. Empathy). Il sistema GSettings utilizza dconf come backend, perciò ogni pacchetto che contiene schemi GSettings deve avere dconf come dipendenza. Quando viene installato un nuovo schema GSettings sul sistema, il database GSettings deve essere rigenerato, ciò non deve accadere invece durante la fase di pacchettizzazione. Per evitare che avvenga la rigenerazione del database GSettings durante la pacchettizzazione, utilizzare lo switch <code>--disable-schemas-compile</code> sul ./configure. Per ricompilarlo al momento dell'installazione, aggiungere le righe seguenti al file <code>.install</code> nel blocco post_install, post_upgrade e post_remove:
<code>glib-compile-schemas usr/share/glib-2.0/schemas</code>
</p>
<h2><span class="mw-headline" id="Scrollkeeper_e_la_documentazione">Scrollkeeper e la documentazione</span></h2>
<p>A partire da GNOME 2.20 non vi è più la necessità di utilizzare Scrollkeeper, in quanto Rarian legge direttamente i file OMF. Scrollkeeper-update è quindi un'abitudine superata, ormai.
L'unico requisito è la soddisfazione della dipendenza di compilazione gnome-doc-utils&gt;=0.11.2.
</p>
<h2><span class="mw-headline" id="File_.desktop">File .desktop</span></h2>
<p>Molti pacchetti installano file .dektop compatibili con le specifiche di Freedesktop.org, e registrano chiavi MimeType al loro interno. L'esecuzione di <code>update-desktop-database -q</code> all'interno del post_install() e del post_remove() è raccomandata (il pacchetto dovrebbe dipendere da desktop-file-utils in questo caso)
</p>
<h2><span class="mw-headline" id="Cache_delle_icone_GTK">Cache delle icone GTK</span></h2>
<p>Alcuni pacchetti installano le proprie icone all'interno del tema hicolor. Questi pacchetti dovrebbero dipendere da hicolor-icon-theme e dovrebbero eseguire <code>gtk-update-icon-cache -q -t -f usr/share/icons/hicolor</code> nelle funzioni post_install(), post_upgrade() e post_remove().
</p>
<h2><span class="mw-headline" id="File_.install">File .install</span></h2>
<p>Per molti pacchetti GNOME, i file .install sono esattamente identici. Il pacchetto gedit contiene un file .install molto generico.
<a rel="nofollow" class="external free" href="https://projects.archlinux.org/svntogit/packages.git/tree/gedit/repos/extra-i686/gedit.install">https://projects.archlinux.org/svntogit/packages.git/tree/gedit/repos/extra-i686/gedit.install</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-07-28]</sup>
</p>
<p>Fondamentalmente, l'unica cosa che deve essere modificata è la variabile pkgname in cima al file .install. Visto che pacman non fornisce il nome del pacchetto come variabile, dovremo fornirlo noi nel file .install.
Nel caso il pacchetto non contenesse schemi GConf, icone per il tema hicolor, o file .desktop, si possono tranquillamente rimuovere le parti che gestiscono questi ultimi.
</p>
<h2><span class="mw-headline" id="Esempio">Esempio</span></h2>
<p>Per un esempio delle regole citate, consultare il PKGBUILD del pacchetto gedit con relativo file .install fornito al seguente indirizzo:
<a rel="nofollow" class="external free" href="https://projects.archlinux.org/svntogit/packages.git/tree/gedit/repos/extra-i686/">https://projects.archlinux.org/svntogit/packages.git/tree/gedit/repos/extra-i686/</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-07-28]</sup>
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../it/Category:Package_development.html" title="Category:Package development (Italiano)">Package development (Italiano)</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=GNOME_package_guidelines_(Italiano)&amp;oldid=628551">https://wiki.archlinux.org/index.php?title=GNOME_package_guidelines_(Italiano)&amp;oldid=628551</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 2 August 2020, at 20:51.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
