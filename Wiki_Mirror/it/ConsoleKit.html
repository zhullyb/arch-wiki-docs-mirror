<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>ConsoleKit (Italiano) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-ConsoleKit_Italiano rootpage-ConsoleKit_Italiano skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">ConsoleKit (Italiano)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attenzione:</strong>  Dal <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/ConsoleKit">sito internet</a> di Consolekit:
<dl><dd><i>ConsoleKit non è più sviluppato attivamente. L'attenzione si è spostata sulla funzione integrata seat/user/session del software/systemd chiamato systemd-loginctl.</i></dd></dl>
</div>
<p>ConsoleKit è un framework per gestire i permessi e le sessioni degli utenti. I compiti che più comunemente vengono affidati a ConsoleKit sono: abilitare gli utenti non-root a montare dispositivi usb e permettere loro sospensione e spegnimento del pc (ad esempio <a href="../it/Thunar.html" title="Thunar (Italiano)">Thunar</a>, Nautilus e il menu di spegnimento di <a href="../it/GNOME.html" title="GNOME (Italiano)">GNOME</a> fanno uso di ConsoleKit).
</p>
<p>Considerando che Consolekit non è più sviluppato, potrebbe essere una buona idea prendere in considerazione le varie alternative: <a href="../it/Udev.html" title="Udev (Italiano)">udev</a>, <a href="../en/Udisks.html" class="mw-redirect" title="Udiskie">udiskie</a> e <a href="../en/Polkit.html" title="Polkit">polkit</a>. Altrimenti si prenda in considerazione di switchare completamente su <a href="../it/Systemd.html" title="Systemd (Italiano)">Systemd</a>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installazione"><span class="tocnumber">1</span> <span class="toctext">Installazione</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Rimpiazzare_ConsoleKit_con_systemd-logind"><span class="tocnumber">2</span> <span class="toctext">Rimpiazzare ConsoleKit con systemd-logind</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#ConsoleKit_e_i_Display_Manager"><span class="tocnumber">3</span> <span class="toctext">ConsoleKit e i Display Manager</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#ck-launch-session"><span class="tocnumber">3.1</span> <span class="toctext">ck-launch-session</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Lanciare_applicazioni_direttamente_da_~/.xinitrc"><span class="tocnumber">3.2</span> <span class="toctext">Lanciare applicazioni direttamente da ~/.xinitrc</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#No_display_manager"><span class="tocnumber">3.3</span> <span class="toctext">No display manager</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Usare_dbus_per_operazioni_di_sospensione/spegnimento/riavvio_ecc"><span class="tocnumber">4</span> <span class="toctext">Usare dbus per operazioni di sospensione/spegnimento/riavvio ecc</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Ulteriori_risorse"><span class="tocnumber">5</span> <span class="toctext">Ulteriori risorse</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installazione">Installazione</span></h2>
<p>Consolekit non è più nei repository di Arch in quanto non più attivamente sviluppato. Usare consolekit è quindi <b>fortemenente sconsigliato</b>.
</p>
<h2><span class="mw-headline" id="Rimpiazzare_ConsoleKit_con_systemd-logind">Rimpiazzare ConsoleKit con systemd-logind</span></h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> A partire da <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=polkit">polkit</a></span> 0.107-4, <b>Consolekit</b> è completamente rimpiazzato da <code>systemd-logind</code>, quindi perchè il proprio sistema funzioni correttamente è consigliato usare <a href="../it/Systemd.html" title="Systemd (Italiano)">systemd</a>.</div>
<p>Un buon metodo per rimuovere <b>Consolekit</b> è effettuare un <a href="../en/Getty.html#Automatic_login_to_virtual_console" class="mw-redirect" title="Login Automatico in una console virtuale">Login Automatico in una console virtuale</a> e <a href="../en/Xinit.html" class="mw-redirect" title="Start X at Boot (Italiano)">avviare X da qui</a>. È molto importante che il server grafico sia avviato sulla stessa console nella quale viene effettuato l'accesso, in caso contrario infatti, logind non sarà in grado di tenere traccia della sessione utente. Rimuovere quindi <code>ck-launch-session</code> da <code>~/.xinitrc</code> (vedere <a href="../it/Xinit.html" class="mw-redirect" title="Xinitrc (Italiano)">Xinitrc</a> per ulteriori informazioni).
</p>
<p>Per verificare lo stato della propria sessione è possibile usare il comando <code>loginctl</code>. Tale comando mostrerà se la sessione di <code>logind</code> è attiva, mostrando in questo caso un <code>Active=yes</code>. Tutte le operazioni di <a href="../en/Polkit.html" class="mw-redirect" title="Policykit">Policykit</a> (spegnimento/ibernazione ecc) e di <a href="../en/Udisks.html" title="Udisks">Udisks</a> (mount dei dispositivi) ora dovrebbero funzionare in automatico
</p>
<pre>$ loginctl show-session $XDG_SESSION_ID
</pre>
<h2><span class="mw-headline" id="ConsoleKit_e_i_Display_Manager">ConsoleKit e i <a href="../it/Display_manager.html" title="Display manager (Italiano)">Display Manager</a></span></h2>
<h3><span class="mw-headline" id="ck-launch-session">ck-launch-session</span></h3>
<p>Per lanciare la sessione di <a href="../it/Xorg.html" title="Xorg (Italiano)">Xorg</a> con consolekit aggiungere alla riga <code>exec</code> di <code>~/.xinitrc</code> ad esempio:
</p>
<pre>exec ck-launch-session openbox-session
</pre>
<p>Questo lancerà una sessione di <a href="../it/Openbox.html" title="Openbox (Italiano)">Openbox</a> con le variabili d'ambiente appropriate in modo tale da abilitare ConsoleKit a tutti i processi conseguenti. 
</p>
<p><a href="../it/Display_manager.html" title="Display manager (Italiano)">Display managers</a> come <a href="../en/ArchWiki:Archive.html" class="mw-redirect" title="KDM (Italiano)">KDM</a>, <a href="../en/GDM.html" title="GDM">GDM</a>, <a href="../it/SLiM.html" title="SLiM (Italiano)">SLiM</a> e <a href="../en/LXDM.html" title="LXDM">LXDM</a> lanciano ConsoleKit automaticamente con ogni sessione di X.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> 
<ul>
<li>Se il proprio DM fornisce già una sessione di consolekit non provare ad avviarne un'altra, il risultato sarebbe un crash dello stesso consolekit.</li>
<li>In particolare, è fondamentale, NON inserire <code>ck-launch-session</code> nel file <code>~/.xinitrc</code> se si usa <a href="../it/SLiM.html" title="SLiM (Italiano)">SLiM</a>.</li>
</ul>
</div>
<h3>
<span id="Lanciare_applicazioni_direttamente_da_.7E.2F.xinitrc"></span><span class="mw-headline" id="Lanciare_applicazioni_direttamente_da_~/.xinitrc">Lanciare applicazioni direttamente da ~/.xinitrc</span>
</h3>
<p>Se si usa il file <a href="../it/Xinit.html" class="mw-redirect" title="Xinitrc (Italiano)">Xinitrc</a> per lanciare delle applicazioni nella propria sessione di X, non è detto che tutte queste vengano eseguite con le variabili d'ambiente appropriate per abilitare correttamente la sessione di ConsoleKit. Nel seguente esempio solo i processi "figli" di Compiz saranno correttamente abilitati all'uso di  ConsoleKit, mentre i figli di Xterm non lo saranno.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.xinitrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">xterm &amp;
exec ck-launch-session compiz ccp</pre>
<p>Tipicamente, questo problema riguarda Compiz standalone e alcune altre applicazioni cone i launchers, (gnome-do, kupfer, gmrun, xbindkeys, ecc.) che non saranno quindi abilitati all'uso di ConsoleKit. Il metodo per aggirare questo problema è avviare tutta la sessione in un secondo script, ad esempio <code>~/.xstart</code>. Non dimenticare <code>dbus-launch</code> se necessario. Esempio:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.xinitrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">exec ck-launch-session dbus-launch $HOME/.xstart
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.xstart</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">compiz ccp &amp;
Thunar &amp;
Terminal
</pre>
<p>È importante non dimenticare di rendere <code>~/.xstart</code> eseguibile, dando da root:
</p>
<pre>$ chmod +x ~/.xstart
</pre>
<p>Per vedere se la sessione è partita correttamente usare il seguente comando:
</p>
<pre>$ ck-list-sessions
</pre>
<p>L'output dovrebbe essere qualcosa tipo:
</p>
<pre>Session18:
       unix-user = '1000'
       realname = 'Your Name'
       seat = 'Seat1'
       session-type = <i></i>
       active = TRUE
       x11-display = ':0'
       x11-display-device = '/dev/tty2'
       display-device = '/dev/tty1'
       remote-host-name = <i></i>
       is-local = TRUE
       on-since = '2011-11-16T12:01:50.104764Z'
       login-session-id = '7'
</pre>
<h3><span class="mw-headline" id="No_display_manager">No display manager</span></h3>
<p>Se non si usa un <a href="../it/Display_manager.html" title="Display manager (Italiano)">Display Manager</a>, ma si avvia X con <code>startx</code>, o da <code>/etc/inittab</code> e si nota che consolekit non è avviato (il comando <code>ck-list-sessions</code> mostrerà <code>active = FALSE</code>), sarà necessario usare il metodo: "<a href="../en/Xinit.html#bash_profile" class="mw-redirect" title="Start X at Boot (Italiano)">Bash_profile</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>".
</p>
<p>Vedere <a href="../it/Xinit.html" class="mw-redirect" title="Xinitrc (Italiano)">xinitrc</a> per ulteriori informazioni.
</p>
<h2>
<span id="Usare_dbus_per_operazioni_di_sospensione.2Fspegnimento.2Friavvio_ecc"></span><span class="mw-headline" id="Usare_dbus_per_operazioni_di_sospensione/spegnimento/riavvio_ecc">Usare dbus per operazioni di sospensione/spegnimento/riavvio ecc</span>
</h2>
<ul><li>spegnimento:</li></ul>
<pre>dbus-send --system --print-reply --dest="org.freedesktop.ConsoleKit" /org/freedesktop/ConsoleKit/Manager org.freedesktop.ConsoleKit.Manager.Stop</pre>
<ul><li>riavvio:</li></ul>
<pre>dbus-send --system --print-reply --dest="org.freedesktop.ConsoleKit" /org/freedesktop/ConsoleKit/Manager org.freedesktop.ConsoleKit.Manager.Restart</pre>
<ul><li>sospensione:</li></ul>
<pre>dbus-send --system --print-reply --dest="org.freedesktop.UPower" /org/freedesktop/UPower org.freedesktop.UPower.Suspend</pre>
<ul><li>ibernazione (sospensione su disco):</li></ul>
<pre>dbus-send --system --print-reply --dest="org.freedesktop.UPower" /org/freedesktop/UPower org.freedesktop.UPower.Hibernate</pre>
<p>Questo metodo da per scontato che l'utente abbia i permessi di policy kit. Il gruppo di default per questa funzionalità è "wheel". Per cambiare ciò, editare <code> /etc/polkit-1/localauthority.conf.d/50-localauthority.conf</code>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> L'utilizzo di dbus per sospensione e ibernazione richiede <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=upower">upower</a></span>.</div>
<h2><span class="mw-headline" id="Ulteriori_risorse">Ulteriori risorse</span></h2>
<ul><li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=116853">ck-launch-session, Compiz, e mounting con Thunar/udisks</a></li></ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../it/Category:Security.html" title="Category:Security (Italiano)">Security (Italiano)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=ConsoleKit_(Italiano)&amp;oldid=629045">https://wiki.archlinux.org/index.php?title=ConsoleKit_(Italiano)&amp;oldid=629045</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 4 August 2020, at 07:55.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
