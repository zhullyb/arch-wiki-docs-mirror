<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>fstab (Italiano) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Fstab_Italiano rootpage-Fstab_Italiano skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">fstab (Italiano)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><span></span>
</p>
<div class="archwiki-template-meta-related-articles-start">
<p>Articoli correlati</p>
<ul>
<li><a href="/title/Persistent_block_device_naming_(Italiano)" title="Persistent block device naming (Italiano)">Persistent block device naming (Italiano)</a></li>
<li><a href="/title/NTFS_Write_Support_(Italiano)" class="mw-redirect" title="NTFS Write Support (Italiano)">NTFS Write Support (Italiano)</a></li>
<li><a href="/title/Firefox_Ramdisk" class="mw-redirect" title="Firefox Ramdisk">Firefox Ramdisk</a></li>
<li><a href="/title/Boot_Debugging" class="mw-redirect" title="Boot Debugging">Boot Debugging</a></li>
<li><a href="/title/Udev_(Italiano)" title="Udev (Italiano)">udev (Italiano)</a></li>
</ul>
</div>
<p>Il file <a href="https://en.wikipedia.org/wiki/it:Fstab" class="extiw" title="wikipedia:it:Fstab">/etc/fstab</a> contiene le informazioni sul filesystem. In esso viene definito come le partizioni e le periferiche di archiviazione saranno montate all'interno del sistema. Questo file verrà letto dal comando <code>mount</code> per determinare quali opzioni utilizzare per montare una specifica periferica o una partizione.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Esempio"><span class="tocnumber">1</span> <span class="toctext">Esempio</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Definizione_dei_campi"><span class="tocnumber">2</span> <span class="toctext">Definizione dei campi</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#Identificare_i_filesystem"><span class="tocnumber">3</span> <span class="toctext">Identificare i filesystem</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Descrittori_del_Kernel"><span class="tocnumber">3.1</span> <span class="toctext">Descrittori del Kernel</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Etichette"><span class="tocnumber">3.2</span> <span class="toctext">Etichette</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#UUID"><span class="tocnumber">3.3</span> <span class="toctext">UUID</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7">
<a href="#Trucchi_e_consigli"><span class="tocnumber">4</span> <span class="toctext">Trucchi e consigli</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#UUID_per_la_swap"><span class="tocnumber">4.1</span> <span class="toctext">UUID per la swap</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Utilizzare_percorsi_contenenti_spazi"><span class="tocnumber">4.2</span> <span class="toctext">Utilizzare percorsi contenenti spazi</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Dischi_esterni"><span class="tocnumber">4.3</span> <span class="toctext">Dischi esterni</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#opzione_atime"><span class="tocnumber">4.4</span> <span class="toctext">opzione atime</span></a></li>
<li class="toclevel-2 tocsection-12">
<a href="#tmpfs"><span class="tocnumber">4.5</span> <span class="toctext">tmpfs</span></a>
<ul>
<li class="toclevel-3 tocsection-13">
<a href="#Utilizzo"><span class="tocnumber">4.5.1</span> <span class="toctext">Utilizzo</span></a>
<ul>
<li class="toclevel-4 tocsection-14"><a href="#Migliorare_i_tempi_di_compilazione"><span class="tocnumber">4.5.1.1</span> <span class="toctext">Migliorare i tempi di compilazione</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-15"><a href="#Scrivere_su_FAT32_da_utente_normale"><span class="tocnumber">4.6</span> <span class="toctext">Scrivere su FAT32 da utente normale</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Effettuare_il_remount_della_partizione_di_root"><span class="tocnumber">4.7</span> <span class="toctext">Effettuare il remount della partizione di root</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#Risorse"><span class="tocnumber">5</span> <span class="toctext">Risorse</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Esempio">Esempio</span></h2>
<p>Questo è un esempio del file <code>/etc/fstab</code> usando i descrittori del kernel:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/fstab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># &lt;file system&gt;        &lt;dir&gt;         &lt;type&gt;    &lt;options&gt;             &lt;dump&gt; &lt;pass&gt;
/dev/sda1              /             ext4      defaults,noatime      0      1
/dev/sda2              none          swap      defaults              0      0
/dev/sda3              /home         ext4      defaults,noatime      0      2</pre>
<h2><span class="mw-headline" id="Definizione_dei_campi">Definizione dei campi</span></h2>
<p>In <code>/etc/fstab</code> sono contenuti i seguenti campi separati da spazi o tabulazioni:
</p>
<pre>&lt;file system&gt;	&lt;dir&gt;	&lt;type&gt;	&lt;options&gt;	&lt;dump&gt;	&lt;pass&gt;
</pre>
<ul>
<li>
<b>&lt;file systems&gt;</b> - definisce la periferica di archiviazione o la partizione.</li>
<li>
<b>&lt;dir&gt;</b> - indica al comando mount la cartella dove sarà  montata la partizione(&lt;file system&gt;).</li>
<li>
<b>&lt;type&gt;</b> - indica il tipo di file system della partizione o del dispositivo. Sono supportati diversi file system. Alcuni esempi sono: <code>ext2</code>, <code>ext3</code>, <code>reiserfs</code>, <code>xfs</code>, <code>jfs</code>, <code>smbfs</code>, <code>iso9660</code>, <code>vfat</code>, <code>ntfs</code>, <code>swap</code>, ed <code>auto</code>. L'opzione <code>auto</code> lascia riconoscere al comando mount il tipo di file system da utilizzare, questa opzione e utile in caso di supporti ottici (CD/DVD).</li>
<li>
<b>&lt;options&gt;</b> - indica le opzioni utilizzate dal comando mount sul file system. Alcune opzioni di mount fanno riferimento a specifici file system, altre invece sono generiche (<span class="plainlinks archwiki-template-man" title="$ man 8 mount"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/mount.8">mount(8)</a></span>):</li>
</ul>
<dl><dd><ul>
<li>
<code>auto</code> - Il file system sarà  montato automaticamente durante l'avvio del sistema, oppure quando viene lanciato il comando <code>mount -a</code>.</li>
<li>
<code>noauto</code> - Il file system non sarà montato automaticamente ma solo manualmente.</li>
<li>
<code>exec</code> - Abilita l'esecuzione dei file eseguibili residenti sulla partizione(abilitata di default).</li>
<li>
<code>noexec</code> - Inibisce la possibilità  di eseguire programmi dal file system.</li>
<li>
<code>ro</code> - Il mount del file system avviene in sola lettura.</li>
<li>
<code>rw</code> - Il mount del file system avviene in lettura e scrittura.</li>
<li>
<code>user</code> - Permette a tutti gli utenti di montare il filesystem. Questa opzione include <code>noexec</code>, <code>nosuid</code>, <code>nodev</code>, se non vengono utilizzate le opzioni opposte.</li>
<li>
<code>users</code> - Permette agli utenti appartenenti al gruppo users di montare il filesystem.</li>
<li>
<code>nousers</code> - Permette il mount solo all'utente root.</li>
<li>
<code>owner</code> - Permette il mount al solo proprietario del punto di mount.</li>
<li>
<code>sync</code> - l'I/O sul file system deve essere sincrono.</li>
<li>
<code>async</code> - tutto l'I/O sul file system deve essere asincrono.</li>
<li>
<code>dev</code> - Interpreta le periferiche a blocchi o periferiche speciali all'interno del filesystem.</li>
<li>
<code>nodev</code> - Impedisce l'interpretazione di periferiche a blocchi o periferiche speciali all'interno del filesystem.</li>
<li>
<code>suid</code> - Consente l'uso di operazioni di suid e sgid. Sono comunemente usate per permettere agli utenti di un sistema di eseguire programmi elevando temporaneamente i privilegi <a rel="nofollow" class="external autonumber" href="https://it.wikipedia.org/wiki/Suid">[1]</a>.</li>
<li>
<code>nosuid</code> - Impedisce le operazioni di suid e sgid.</li>
<li>
<code>noatime</code> - Non aggiorna l'inode con i tempi di accesso al file system. Può aumentare le prestazioni (vedi <a href="#opzione_atime">l'opzione <code>atime</code></a>).</li>
<li>
<code>nodiratime</code> - Non aggiorna l'inode delle directory sui tempi di accesso al file system. Può aumentare le prestazioni (vedi <a href="#opzione_atime">l'opzione <code>atime</code></a>).</li>
<li>
<code>relatime</code> - Aggiorna nell'inode solo i tempi relativi a modifiche o cambiamenti dei file. I tempi di accesso vengono aggiornati solo se l'ultimo accesso è precedente rispetto a quello dell'ultima modifica.(Simile a <code>noatime</code> ma non interferisce con programmi come <code>mutt</code> che devono sapere se un file è stato letto dopo la sua ultima modifica.) Può aumentare le performance (vedi <a href="#opzione_atime">l'opzione <code>atime</code></a>).</li>
<li>
<code>flush</code> - Questa è una opzione per il file system FAT, serve a scrivere più spesso i dati sul disco in modo da evitare che le finestre di trasferimento vengano chiuse mentre i dati non sono ancora stati scritti.</li>
<li>
<code>defaults</code> - Assegna le impostazioni di default del filesystem per il comando mount. Le opzioni di default per <code>ext4</code> sono <code>rw</code>,<code>suid</code>,<code>dev</code>,<code>exec</code>,<code>auto</code>,<code>nouser</code>,<code>async</code>.</li>
</ul></dd></dl>
<ul>
<li>
<b>&lt;dump&gt;</b> - Viene utilizzato dal programma dump per decidere quando fare un backup. Quando si installa il sistema(ma non nel caso di una installazione standard di Arch Linux), dump controlla il valore ed usa il numero per decidere se fare un backup del file system. I valori da poter inserire sono 0 ed 1. Se il valore è impostato a 0 dump ignorerà il file system, mentre se viene impostato ad 1 dump si occuperà di effettuare il backup del file system. La maggior parte degli utenti non avranno dump installato, è quindi consigliato lasciare il valore di &lt;dump&gt; a 0.</li>
<li>
<b>&lt;pass&gt;</b> - <a href="/title/Fsck" title="Fsck">fsck</a> legge il valore di &lt;pass&gt; e determina l'ordine in cui i file system saranno controllati. I possibili valori sono 0, 1 e 2. Il file system root(/) deve avere la massima priorità, 1, gli altri file system che dovranno essere controllati avranno come valore 2. Nel caso in cui il valore di &lt;pass&gt; sia impostato a 0 il file system non sarà controllato da fsck.</li>
</ul>
<h2><span class="mw-headline" id="Identificare_i_filesystem">Identificare i filesystem</span></h2>
<p>I filesystem nel file <code>/etc/fstab</code> possono essere identificati in tre modi: utilizzando i descrittori del kernel, tramite gli UUID, oppure utilizzando le etichette. Il vantaggio dell'uso degli UUID o delle etichette è che questi non dipendono dall'ordine in cui i dischi sono(fisicamente) collegati alla scheda madre. Risultano utili quindi se si modifica l'ordinamento dei dischi nel BIOS, se vengono cambiati i cablaggi di connessione (esempio dalla porta SATA1 sulla scheda madre alla SATA2 ecc.), oppure nel caso in cui il BIOS non mantenga correttamente l'ordinamento dei dischi. Per maggiori informazioni leggere l'articolo: <a href="/title/Persistent_block_device_naming_(Italiano)" title="Persistent block device naming (Italiano)">persistent block device naming</a>.
</p>
<p>Per elencare le alcune informazioni riguardo alle partizioni, eseguire:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ lsblk -f</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">NAME   FSTYPE LABEL      UUID                                 MOUNTPOINT
sda                                                           
├─sda1 ext4   Arch_Linux 978e3e81-8048-4ae1-8a06-aa727458e8ff /
├─sda2 ntfs   Windows    6C1093E61093B594                     
└─sda3 ext4   Storage    f838b24e-3a66-4d02-86f4-a2e73e454336 /media/Storage
sdb                                                           
├─sdb1 ntfs   Games      9E68F00568EFD9D3                     
└─sdb2 ext4   Backup     14d50a6c-e083-42f2-b9c4-bc8bae38d274 /media/Backup
sdc                                                           
└─sdc1 vfat   Camera     47FA-4071                            /media/Camera</pre>
<h3><span class="mw-headline" id="Descrittori_del_Kernel">Descrittori del Kernel</span></h3>
<p>Eseguire <code>lsblk -f</code> per elencare le partizioni, ed aggiungere il percorso <code>/dev</code> ai nomi visualizzati.
</p>
<p>Vedere il <a href="#Esempio">file d'esempio</a>.
</p>
<h3><span class="mw-headline" id="Etichette">Etichette</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Ogni etichetta dovrebbe essere unica, per prevenire ogni possibile conflitto.</div>
<p>Per informazioni dettagliate riguardo l'assegnazione di una etichetta ad una periferica o partizione consultare <a href="/title/Persistent_block_device_naming_(Italiano)#By-label" title="Persistent block device naming (Italiano)">questo</a> articolo. Per assegnare una etichetta alla partizione di root sarà necessario agire da una distribuzione Linux "live" in quanto la partizione dovrebbe essere smontata prima.
</p>
<p>Per elencare le partizioni, utilizzare il comando <code>lsblk -f</code> quindi inserire prima del nome dell'etichetta <code>LABEL=</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/fstab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># &lt;file system&gt;        &lt;dir&gt;         &lt;type&gt;    &lt;options&gt;             &lt;dump&gt; &lt;pass&gt;
LABEL=Arch_Linux       /             ext4      defaults,noatime      0      1
LABEL=Arch_Swap        none          swap      defaults              0      0</pre>
<h3><span class="mw-headline" id="UUID">UUID</span></h3>
<p>Tutte le partizioni e periferiche hanno un UUID unico. Gli UUID vengono generati dal programma di generazione del filesystem (ad esempio <code>mkfs.*</code>) quando la partizione viene creata o formattata.
</p>
<p>Per elencare le partizioni, utilizzare il comando <code>lsblk -f</code> quindi inserire prima <code>UUID=</code>:
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Se si desidera ottenere il valore UUID di una specifica partizione:
<pre>$ lsblk -no UUID /dev/sda2
</pre>
</div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/fstab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># &lt;file system&gt;                            &lt;dir&gt;     &lt;type&gt;    &lt;options&gt;             &lt;dump&gt; &lt;pass&gt;
UUID=24f28fc6-717e-4bcd-a5f7-32b959024e26  /         ext4      defaults,noatime      0      1
UUID=03ec5dd3-45c0-4f95-a363-61ff321a09ff  /home     ext4      defaults,noatime      0      2
UUID=4209c845-f495-4c43-8a03-5363dd433153  none      swap      defaults              0      0</pre>
<h2><span class="mw-headline" id="Trucchi_e_consigli">Trucchi e consigli</span></h2>
<h3><span class="mw-headline" id="UUID_per_la_swap">UUID per la swap</span></h3>
<p>Nel caso chel la partizione di swap non abbia un UUID, sarà possibile aggiungerlo manualmente. Questo accade quando l'UUID della partizione di swap non appare con il comando <code>lsblk -f</code>. Di seguito verranno mostrati i passaggi per assegnare un UUID alla partizione di swap:
</p>
<p>Individuare la swap usando il comando:
</p>
<pre># swapon -s
</pre>
<p>Disabilitare la swap:
</p>
<pre># swapoff /dev/sda7
</pre>
<p>Ricreare la partizione di swap con un nuovo UUID assegnato ad essa:
</p>
<pre># mkswap -U random /dev/sda7
</pre>
<p>Attivare nuovamente la swap:
</p>
<pre># swapon /dev/sda7
</pre>
<h3><span class="mw-headline" id="Utilizzare_percorsi_contenenti_spazi">Utilizzare percorsi contenenti spazi</span></h3>
<p>Se un punto di mount contiene degli spazi nel nome, può essere usato il carattere di escape <code>\</code> seguito dal codice ottale di tre cifre corrispondente allo spazio <code>\040</code> per emularlo:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/fstab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">UUID=47FA-4071     /home/username/Camera<font color="grey">\040</font>Pictures   vfat  defaults,noatime       0  0
/dev/sda7          /media/100<font color="grey">\040</font>GB<font color="grey">\040</font>(Storage)       ext4  defaults,noatime,user  0  2</pre>
<h3><span class="mw-headline" id="Dischi_esterni">Dischi esterni</span></h3>
<p>I dischi esterni che dovranno essere montati quando presenti, ma ignorati se assenti, avranno bisogno dell'uso dell'opzione <code>nofail</code>. Questa opzione inibisce la visualizzazione del messaggio di errore durante l'avvio.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/fstab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/dev/sdg1        /media/backup    jfs    defaults,nofail    0  2</pre>
<h3><span class="mw-headline" id="opzione_atime">opzione atime</span></h3>
<p>L'uso di <code>noatime</code>, <code>nodiratime</code> o <code>relatime</code> può aumentare le prestazioni del disco, per i file system ext2, ext3 o ext4. Linux di default tiene traccia(scrivendolo sul disco) di ogni lettura effettuata <code>atime</code>. Questa funzione è più indicata su di un pc server piuttosto che su un pc desktop. L'aspetto peggiore dell'opzione <code>atime</code> sta nel fatto che, anche leggendo un file dalla memoria cache(quindi non dal disco direttamente) verrà effettuata una scrittura sul disco! Usando l'opzione <code>noatime</code> viene disabilitato l'aggiornamento de tempi di accesso ai file ogni volta che viene letto un file. Questo  non interferisce con la maggioranza delle applicazioni, ma <a href="/title/Mutt_(Italiano)" title="Mutt (Italiano)">Mutt</a> necessita di queste informazioni.Se si usa mutt sarà quindi necessario utilizzare l'opzione <code>relatime</code>. L'uso dell'opzione <code>relatime</code> abilita l'aggiornamento dei tempi di accesso ai file solo se il file viene modificato (al contrario dell'opzione <code>noatime</code> dove i tempi di accesso in lettura al file non verranno aggiornati, e saranno precedenti rispetto ai tempi di modifica del file). L'opzione <code>nodiratime</code> disabilitata la scrittura dei tempi di accesso ai file, solo per le cartelle, mentre per i normali file in tempi di accesso verranno aggiornati. Il miglior compromesso potrebbe essere l'uso dell'opzione <code>relatime</code> che non influenzerebbe il funzionamento di programmi come <a href="/title/Mutt_(Italiano)" title="Mutt (Italiano)">Mutt</a>, ma si otterrebbe anche un aumento delle performance, dato che i tempi di accesso ai file verranno aggiornati solo se i file vengono modificati.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> l'opzione <code>noatime</code> include anche l'opzione <code>nodiratime</code>. Non sarà quindi necessario dichiarare entrambe le opzioni. <a rel="nofollow" class="external autonumber" href="https://lwn.net/Articles/244941/">[2]</a>
</div>
<h3><span class="mw-headline" id="tmpfs">tmpfs</span></h3>
<p><a href="https://en.wikipedia.org/wiki/Tmpfs" class="extiw" title="wikipedia:Tmpfs">tmpfs</a> è un filesystem temporaneo che risiede nella memoria, e/o nella/e area/e di swap, a seconda di quanto esso viene riempito. Montare cartelle in tmpfs può essere un buon modo per velocizzare gli accessi in lettura nei file che vi risiedono, o per assicurarsi che il contenuto venga cancellato automaticamente ad ogni riavvio.
</p>
<p>Alcune directory dove è comunemente usato tmpfs senza problemi sono <a rel="nofollow" class="external text" href="https://www.pathname.com/fhs/2.2/fhs-3.15.html">/tmp</a>, <a rel="nofollow" class="external text" href="https://www.pathname.com/fhs/2.2/fhs-5.9.html">/var/lock</a> ed <a rel="nofollow" class="external text" href="https://www.pathname.com/fhs/2.2/fhs-5.13.html">/var/run</a>. NON usare tmpfs per <a rel="nofollow" class="external text" href="https://www.pathname.com/fhs/2.2/fhs-5.15.html">/var/tmp</a>, perché questa cartella contiene dei file che devono essere conservati dopo il riavvio. Arch utilizza la cartella <code>/run</code> come tmpfs, essa comprende anche <code>/var/run</code> e <code>/var/lock</code> creati come link simbolici per compatibilità. tmpfs è utilizzata anche per <code>/tmp</code> nella configurazione di default del file <code>/etc/fstab</code>. 
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Utilizzando <a href="/title/Systemd_(Italiano)" title="Systemd (Italiano)">systemd</a>, i file e le cartelle temporanee in tmpfs possono essere ricreati all'avvio utilizzando <a href="/title/Systemd_(Italiano)#File_temporanei" title="Systemd (Italiano)">tmpfiles.d</a>.</div>
<p>Per default, la partizione tmpfs è impostata della dimensione di metà della RAM totale, ma può essere modificata. Notare che l'effettivo uso di memoria/swap dipende da quanto vengono riempite, la partizione tmpfs non richiede memoria fino a che non viene usata.
</p>
<p>Per usare tmpfs per <code>/tmp</code>, semplicemente aggiungere questa linea ad <code>/etc/fstab</code> (e riavviate il sistema):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/fstab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">tmpfs   /tmp         tmpfs   nodev,nosuid                  0  0</pre>
<p>Sarà possibile o meno impostare la dimensione, ma sarà necessario lasciare l'opzione <code>mode</code> inalterata in questi casi, per essere certi che le cartelle abbiano i giusti permessi(1777). Nell'esempio sopra, <code>/tmp</code> sarà impostata per metà della RAM totale. Per impostare esplicitamente la dimensione massima, usare l'opzione <code>size</code> del comando <code>mount</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/fstab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">tmpfs   /tmp         tmpfs   nodev,nosuid,size=2G          0  0</pre>
<p>Qui viene mostrato un esempio più avanzato per aggiungere punti di mount tmpfs per gli utenti. Questo è utile per siti web, file tmp di mysql, <code>~/.vim/</code>, ed altro. È importante provare a configurare le opzioni ideali per ciò che si vuole fare. L'obiettivo è avere un settaggio il più sicuro possibile per prevenire abusi. Limitare le dimensioni e specificare i modi uid e gid + è una pratica molto sicura. Per maggiori informazioni su questo argomento seguire i link elencati nella sezione <a href="#Risorse">Risorse</a>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/fstab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">tmpfs   /www/cache    tmpfs  rw,size=1G,nr_inodes=5k,noexec,nodev,nosuid,uid=648,gid=648,mode=1700   0  0</pre>
<p>Consultare la pagina di manuale relativa al comando <code>mount</code> per maggiori informazioni. Cercare di comprendere come minimo l'opzione <code>default</code>, molto utile ed utilizzata.
</p>
<p>Riavviare per fare in modo che i cambiamenti abbiano effetto. Notare che anche se si è tentati e possa sembrare utile, <b>NON</b> usare il comando <code>mount -a</code>, perché così facendo ogni file contenuto in precedenza nelle suddette cartelle diventerebbe quindi inaccessibile(ad esempio i file di lock delle applicazioni). Comunque, se queste cartelle sono vuote, sarà possibile eseguire il comando <code>mount -a</code> invece di riavviare(oppure effettuare il mount manuale delle cartelle).
</p>
<p>Dopo aver effettuato le modifiche, si potrà verificare il funzionamento controllando <code>/proc/mounts</code> con il comando <code>findmnt</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ findmnt --target /tmp</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">TARGET SOURCE FSTYPE OPTIONS
/tmp   tmpfs  tmpfs  rw,nosuid,nodev,relatime</pre>
<h4><span class="mw-headline" id="Utilizzo">Utilizzo</span></h4>
<p>Generalmente, i processi ed i programmi con intensive richieste di I/O eseguono frequentemente operazioni di lettura/scrittura possono ottenere benefici utilizzando una cartella come tmpfs. Alcune applicazioni posso ricevere un sostanziale guadagno caricando alcuni (o tutti) i propri dati sulla memoria condivisa. Ad esempio, <a href="/title/Firefox_Ramdisk" class="mw-redirect" title="Firefox Ramdisk">spostando il profilo di Firefox sulla RAM</a> mostra un significativo guadagno nelle performance.
</p>
<h5><span class="mw-headline" id="Migliorare_i_tempi_di_compilazione">Migliorare i tempi di compilazione</span></h5>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> La cartella tmpfs (<code>/tmp</code>, in questo caso) defe essere montata senza l'opzione <code>noexec</code>, altrimenti impedirà agli script di compilazione o ad altri strumenti di essere eseguiti. Come detto <a href="#tmpfs">in precedenza</a>, la dimensione di default equivale alla metà della RAM disponibile è quindi possibile rimanere senza spazio.</div>
<p>E' possibile eseguire <a href="/title/Makepkg_(Italiano)" title="Makepkg (Italiano)">makepkg</a> con una cartella tmpfs come cartella per la compilazione (che può essere configurata in <code>/etc/makepkg.conf</code>):
</p>
<pre>$ BUILDDIR=/tmp/makepkg makepkg
</pre>
<h3><span class="mw-headline" id="Scrivere_su_FAT32_da_utente_normale">Scrivere su FAT32 da utente normale</span></h3>
<p>Per poter scrivere su una partizione FAT32 è necessario fare alcuni cambiamenti al proprio file <code>/etc/fstab</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/fstab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/dev/sdxY    /mnt/some_folder  vfat   user,rw,umask=000              0  0</pre>
<p>Il flag <code>user</code> significa che ogni utente (oltre a root) può montare e smontare la partizione <code>/dev/sdX</code>. <code>rw</code> dà l'accesso in lettura/scrittura. 
</p>
<p>L'opzione <code>umask</code> rimuove i permessi selezionati - ad esempio <code>umask=111</code> rimuove i permessi di esecuzione. Il problema è che questa linea rimuove i permessi di esecuzione anche alle cartelle, per cui è necessario correggerla in <code>dmask=000</code>. Vedere anche <a href="/title/Umask" title="Umask">Umask</a>.
</p>
<p>Senza queste opzioni tutti i file sarebbero eseguibili. Anziché utilizzare umask e dmask è possibile utilizzare l'opzione <code>showexec</code>, la quale mostra tutti gli eseguibili di Windows (com, exe, bat) con i colori degli eseguibili.
</p>
<p>Ad esempio se la propria partizione FAT32 è <code>/dev/sda9</code> e si desidera montarla su <code>/mnt/fat32</code> bisogna utilizzare:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/fstab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/dev/sda9    /mnt/fat32        vfat   user,rw,umask=111,dmask=000    0  0</pre>
<h3><span class="mw-headline" id="Effettuare_il_remount_della_partizione_di_root">Effettuare il remount della partizione di root</span></h3>
<p>Se per qualche motivo la partizione di root venisse impropriamente montata in sola lettura, effettuare il remount della partizione di root con accesso di lettura-scrittura con il seguente comando:
</p>
<pre># mount -o remount,rw /
</pre>
<h2><span class="mw-headline" id="Risorse">Risorse</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.kernel.org/pub/linux/docs/lanana/device-list/devices-2.6.txt">Full device listing including block device</a></li>
<li><a rel="nofollow" class="external text" href="https://www.pathname.com/fhs/2.2/index.html">Filesystem Hierarchy Standard</a></li>
<li>
<a rel="nofollow" class="external text" href="http://www.askapache.com/web-hosting/super-speed-secrets.html">30x Faster Web-Site Speed</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-08-02]</sup> (Detailed tmpfs)</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="/title/Special:Categories" title="Special:Categories">Categories</a>: <ul>
<li><a href="/title/Category:File_systems_(Italiano)" title="Category:File systems (Italiano)">File systems (Italiano)</a></li>
<li><a href="/title/Category:Boot_process_(Italiano)" title="Category:Boot process (Italiano)">Boot process (Italiano)</a></li>
</ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Fstab_(Italiano)&amp;oldid=668791">https://wiki.archlinux.org/index.php?title=Fstab_(Italiano)&amp;oldid=668791</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 8 May 2021, at 10:45.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="/title/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/title/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="/title/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
