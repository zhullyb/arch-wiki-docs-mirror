<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>GRUB Legacy (Italiano) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-GRUB_Legacy_Italiano rootpage-GRUB_Legacy_Italiano skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">GRUB Legacy (Italiano)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="/title/File:Tango-preferences-desktop-locale-modified.png" class="image"><img alt="Tango-preferences-desktop-locale-modified.png" src="../File:Tango-preferences-desktop-locale-modified.png" decoding="async" width="48" height="48"></a><b>The <a href="/title/ArchWiki:Contributing#Translating" title="ArchWiki:Contributing">translation</a> of this article or section does not reflect the original text.</b><a href="/title/File:Tango-preferences-desktop-locale-modified.png" class="image"><img alt="Tango-preferences-desktop-locale-modified.png" src="../File:Tango-preferences-desktop-locale-modified.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Last updated 2013 (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:GRUB_Legacy_(Italiano)">Talk:GRUB Legacy (Italiano)#</a>)</div>
</div>
<div class="archwiki-template-meta-related-articles-start">
<p>Articoli correlati</p>
<ul>
<li><a href="/title/Boot_debugging" class="mw-redirect" title="Boot debugging">Boot debugging</a></li>
<li><a href="/title/GRUB2_(Italiano)" class="mw-redirect" title="GRUB2 (Italiano)">GRUB2 (Italiano)</a></li>
<li><a href="/title/Grub-gfx_(Italiano)" class="mw-redirect" title="Grub-gfx (Italiano)">grub-gfx (Italiano)</a></li>
<li><a href="/title/Kernel_parameters" title="Kernel parameters">Kernel parameters</a></li>
<li><a href="/title/LILO" title="LILO">LILO</a></li>
<li><a href="/title/MBR" class="mw-redirect" title="MBR">MBR</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://www.gnu.org/software/grub/grub-legacy.html">GNU GRUB (Legacy)</a> è un bootloader <a rel="nofollow" class="external text" href="https://www.gnu.org/software/grub/manual/multiboot/">multiboot</a> mantenuto dal <a href="/title/GNU_Project" class="mw-redirect" title="GNU Project">GNU Project</a>. Deriva da GRUB, il GRand Unified Bootloader, che è stato originariamente progettato e realizzato da Erich Stefan Boleyn.
</p>
<p>Brevemente, il <i>bootloader</i> è il primo programma che si avvia quando si accende il computer. È il responsabile del controllo di caricamento e di trasferimento al kernel Linux. Il kernel, a sua volta, inizializza il resto del sistema operativo.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> GRUB Legacy è completamente deprecato e rimpiazzato da <a href="/title/GRUB2_(Italiano)" class="mw-redirect" title="GRUB2 (Italiano)">GRUB 2.x</a>. Si consiglia di prendere visione di <a rel="nofollow" class="external text" href="http://www.archlinux.it/forum/viewtopic.php?f=15&amp;t=15043">questa</a> news. Si raccomanda l'utilizzo di <a href="/title/GRUB2_(Italiano)" class="mw-redirect" title="GRUB2 (Italiano)">GRUB2</a> o <a href="/title/Syslinux" title="Syslinux">Syslinux</a>.</div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installazione"><span class="tocnumber">1</span> <span class="toctext">Installazione</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Aggiornamento_a_GRUB(2)"><span class="tocnumber">2</span> <span class="toctext">Aggiornamento a GRUB(2)</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#%C3%88_necessario_aggiornare?"><span class="tocnumber">2.1</span> <span class="toctext">È necessario aggiornare?</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Come_effettuare_l'aggiornamento"><span class="tocnumber">2.2</span> <span class="toctext">Come effettuare l'aggiornamento</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5">
<a href="#Configurazione"><span class="tocnumber">3</span> <span class="toctext">Configurazione</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Trovare_la_root_di_GRUB"><span class="tocnumber">3.1</span> <span class="toctext">Trovare la root di GRUB</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Dual_booting_con_Windows"><span class="tocnumber">3.2</span> <span class="toctext">Dual booting con Windows</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Dual_booting_con_GNU/Linux"><span class="tocnumber">3.3</span> <span class="toctext">Dual booting con GNU/Linux</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#chainloader_e_configfile"><span class="tocnumber">3.4</span> <span class="toctext">chainloader e configfile</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Dual_boot_con_GNU/Linux_(Grub2)"><span class="tocnumber">3.5</span> <span class="toctext">Dual boot con GNU/Linux (Grub2)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11">
<a href="#Installazione_del_bootloader"><span class="tocnumber">4</span> <span class="toctext">Installazione del bootloader</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#Recupero_manuale_di_GRUB_libs"><span class="tocnumber">4.1</span> <span class="toctext">Recupero manuale di GRUB libs</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Note_generali_di_installazione_del_bootloader"><span class="tocnumber">4.2</span> <span class="toctext">Note generali di installazione del bootloader</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Installazione_nel_MBR"><span class="tocnumber">4.3</span> <span class="toctext">Installazione nel MBR</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Installazione_su_una_partizione"><span class="tocnumber">4.4</span> <span class="toctext">Installazione su una partizione</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Metodo_alternativo_(installazione_di_grub)"><span class="tocnumber">4.5</span> <span class="toctext">Metodo alternativo (installazione di grub)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17">
<a href="#Suggerimenti"><span class="tocnumber">5</span> <span class="toctext">Suggerimenti</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="#Avvio_grafico"><span class="tocnumber">5.1</span> <span class="toctext">Avvio grafico</span></a></li>
<li class="toclevel-2 tocsection-19">
<a href="#Risoluzione_framebuffer"><span class="tocnumber">5.2</span> <span class="toctext">Risoluzione framebuffer</span></a>
<ul>
<li class="toclevel-3 tocsection-20"><a href="#Valore_riconosciuto_del_GRUB"><span class="tocnumber">5.2.1</span> <span class="toctext">Valore riconosciuto del GRUB</span></a></li>
<li class="toclevel-3 tocsection-21"><a href="#hwinfo"><span class="tocnumber">5.2.2</span> <span class="toctext">hwinfo</span></a></li>
<li class="toclevel-3 tocsection-22"><a href="#vbetest"><span class="tocnumber">5.2.3</span> <span class="toctext">vbetest</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-23">
<a href="#Nominare_le_partizioni"><span class="tocnumber">5.3</span> <span class="toctext">Nominare le partizioni</span></a>
<ul>
<li class="toclevel-3 tocsection-24"><a href="#Per_etichetta"><span class="tocnumber">5.3.1</span> <span class="toctext">Per etichetta</span></a></li>
<li class="toclevel-3 tocsection-25"><a href="#Per_UUID"><span class="tocnumber">5.3.2</span> <span class="toctext">Per UUID</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-26"><a href="#Eseguire_il_boot_come_root_(single-user_mode)"><span class="tocnumber">5.4</span> <span class="toctext">Eseguire il boot come root (single-user mode)</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#Protezione_con_password"><span class="tocnumber">5.5</span> <span class="toctext">Protezione con password</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Riavviare_con_la_scelta_nominale_di_boot"><span class="tocnumber">5.6</span> <span class="toctext">Riavviare con la scelta nominale di boot</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#Interazione_LILO_e_GRUB"><span class="tocnumber">5.7</span> <span class="toctext">Interazione LILO e GRUB</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#GRUB_boot_disk"><span class="tocnumber">5.8</span> <span class="toctext">GRUB boot disk</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Nascondere_il_menu_di_GRUB"><span class="tocnumber">5.9</span> <span class="toctext">Nascondere il menu di GRUB</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-32"><a href="#Modalit%C3%A0_debug_avanzata"><span class="tocnumber">6</span> <span class="toctext">Modalità debug avanzata</span></a></li>
<li class="toclevel-1 tocsection-33">
<a href="#Risoluzione_dei_problemi"><span class="tocnumber">7</span> <span class="toctext">Risoluzione dei problemi</span></a>
<ul>
<li class="toclevel-2 tocsection-34"><a href="#GRUB_Errore_17"><span class="tocnumber">7.1</span> <span class="toctext">GRUB Errore 17</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#/boot/grub/stage1_not_read_correctly"><span class="tocnumber">7.2</span> <span class="toctext">/boot/grub/stage1 not read correctly</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#Installazione_accidentale_in_una_partizione_Windows"><span class="tocnumber">7.3</span> <span class="toctext">Installazione accidentale in una partizione Windows</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#Modificare_le_voci_GRUB_nel_menu_di_avvio"><span class="tocnumber">7.4</span> <span class="toctext">Modificare le voci GRUB nel menu di avvio</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#Errore_device.map"><span class="tocnumber">7.5</span> <span class="toctext">Errore device.map</span></a></li>
<li class="toclevel-2 tocsection-39"><a href="#Errore_sotto-menu_di_KDE_al_riavvio"><span class="tocnumber">7.6</span> <span class="toctext">Errore sotto-menu di KDE al riavvio</span></a></li>
<li class="toclevel-2 tocsection-40"><a href="#GRUB_non_riesce_a_trovare_o_installare_qualsiasi_virtio_/dev/vd*_o_altri_dispositivi_non-BIOS"><span class="tocnumber">7.7</span> <span class="toctext">GRUB non riesce a trovare o installare qualsiasi virtio /dev/vd* o altri dispositivi non-BIOS</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-41"><a href="#Risorse_esterne"><span class="tocnumber">8</span> <span class="toctext">Risorse esterne</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installazione">Installazione</span></h2>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/grub-legacy/">grub-legacy</a></span><sup><small>AUR</small></sup> era installato di base quando si installava Arch Linux. Ora il suo supporto è terminato ed è stato spostato su <a href="/title/AUR_(Italiano)" class="mw-redirect" title="AUR (Italiano)">aur</a>. 
</p>
<p>GRUB deve essere installato nel settore di boot di un'unità o di una partizione per funzionare come bootloader. Ciò è spiegato nella sezione <a href="#Installazione_del_bootloader">#Installazione del bootloader</a>.
</p>
<h2>
<span id="Aggiornamento_a_GRUB.282.29"></span><span class="mw-headline" id="Aggiornamento_a_GRUB(2)">Aggiornamento a <a href="/title/GRUB" title="GRUB">GRUB</a>(2)</span>
</h2>
<h3>
<span id=".C3.88_necessario_aggiornare.3F"></span><span class="mw-headline" id="È_necessario_aggiornare?">È necessario aggiornare?</span>
</h3>
<p>La risposta breve è no. GRUB legacy non sarà rimosso dal sistema e continuerà a funzionare.
</p>
<p>D'altra parte però, come ogni pacchetto non più supportato dall'upstream, eventuali bug non verranno risolti. Per questo motivo è necessario prendere in considerazione l'idea di aggiornare GRUB alla versione 2.x, o un altro <a href="/title/Boot_loader" class="mw-redirect" title="Boot loader">Boot loader</a> supportato.
</p>
<p>GRUB Legacy non supporta partizioni <a href="/title/GPT" class="mw-redirect" title="GPT">GPT</a>, il filesystem <a href="/title/Btrfs" title="Btrfs">Btrfs</a> e il firmware <a href="/index.php?title=UEFI_(Italiano)&amp;action=edit&amp;redlink=1" class="new" title="UEFI (Italiano) (page does not exist)">UEFI</a>.
</p>
<h3>
<span id="Come_effettuare_l.27aggiornamento"></span><span class="mw-headline" id="Come_effettuare_l'aggiornamento">Come effettuare l'aggiornamento</span>
</h3>
<p>Aggiornare da GRUB Legacy a <a href="/title/GRUB_(Italiano)" title="GRUB (Italiano)">GRUB 2.x</a>) è la stessa cosa che installare GRUB 2.x da un sistema Arch avviato. Tutti i dettagli sono sulla relativa pagina <a href="/title/GRUB_(Italiano)#Installazione" title="GRUB (Italiano)">GRUB (Italiano)#Installazione</a>.
</p>
<h2><span class="mw-headline" id="Configurazione">Configurazione</span></h2>
<p>Il file di configurazione si trova in <code>/boot/grub/menu.lst</code>. Modificare questo file in base alle proprie esigenze.
</p>
<ul>
<li>
<code>timeout #</code> -- tempo d'attesa (in secondi) prima che il sistema operativo di <code>default</code> venga automaticamente caricato.</li>
<li>
<code>default #</code> -- la voce d'avvio di default che viene scelta quando il <code>timeout</code> termina.</li>
</ul>
<p>Una configurazione d'esempio (con <code>/boot</code> su una partizione separata):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/grub/menu.lst
</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Config file for GRUB - The GNU GRand Unified Bootloader
# /boot/grub/menu.lst

# DEVICE NAME CONVERSIONS
#
#  Linux           GRUB
# -------------------------
#  /dev/fd0        (fd0)
#  /dev/sda        (hd0)
#  /dev/sdb2       (hd1,1)
#  /dev/sda3       (hd0,2) (hd0,0
#

#  FRAMEBUFFER RESOLUTION SETTINGS
#     +-------------------------------------------------+
#          | 640x480    800x600    1024x768   1280x1024
#      ----+--------------------------------------------
#      256 | 0x301=769  0x303=771  0x305=773   0x307=775
#      32K | 0x310=784  0x313=787  0x316=790   0x319=793
#      64K | 0x311=785  0x314=788  0x317=791   0x31A=794
#      16M | 0x312=786  0x315=789  0x318=792   0x31B=795
#     +-------------------------------------------------+
#  for more details and different resolutions see
#  https://wiki.archlinux.org/index.php/GRUB#Framebuffer_Resolution

# general configuration:
timeout   5
default   0
color light-blue/black light-cyan/blue

# boot sections follow
# each is implicitly numbered from 0 in the order of appearance below
#
# TIP: If you want a 1024x768 framebuffer, add "vga=773" to your kernel line.
#
#-*

# (0) Arch Linux
title  Arch Linux
root   (hd0,0)
kernel /vmlinuz-linux root=/dev/sda3 ro
initrd /initramfs-linux.img

# (1) Windows
#title Windows
#rootnoverify (hd0,0)
#makeactive
#chainloader +1
</pre>
<h3><span class="mw-headline" id="Trovare_la_root_di_GRUB">Trovare la root di GRUB</span></h3>
<p>GRUB deve conoscere dove si trovano i suoi file nel sistema, dal momento che potrebbero esistere più istanze (ad esempio, in ambienti multi-boot). I file di GRUB risiedono sempre sotto <code>/boot</code>, che potrebbe trovarsi su una partizione dedicata.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> GRUB definisce i dispositivi d'archiviazione in maniera diversa da come lo fa il kernel.
<ul>
<li>Gli Hard disk sono definiti come <b>(hdX)</b>, questo si riferisce anche a qualsiasi dispositivo d'archiviazione USB.</li>
<li>La numerazione dei dispositivi e delle partizioni comincia da zero. Ad esempio, il primo hard disk riconosciuto dal BIOS sarà definito come <b>(hd0)</b>. Il secondo dispositivo sarà chiamato <b>(hd1)</b>. Ciò viene applicato anche alle partizioni. Quindi, la seconda partizione nel primo hard disk sarà definita come <b>(hd0,1)</b>.</li>
</ul>
</div>
<p>Se non si è sicuri della posizione di <code>/boot</code>, si usi il comando della shell di GRUB <code>find</code> per individuare i file di GRUB.  Si entri nella shell di GRUB da root con:
</p>
<pre># grub</pre>
<p>L'esempio seguente è per sistemi "senza" una partizione separata di <code>/boot</code>, dove <code>/boot</code> è semplicemente una cartella sotto <code>/</code>:
</p>
<pre>grub&gt; find /boot/grub/stage1</pre>
<p>L'esempio seguente è per sistemi "con" una partizione di <code>/boot</code> separata:
</p>
<pre>grub&gt; find /grub/stage1</pre>
<p>GRUB troverà i file, ed indicherà la corretta posizione del file <code>stage1</code>. Ad esempio:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">grub&gt; find /grub/stage1</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"> (hd0,0)</pre>
<p>Questo valore deve essere inserito nella linea <code>root</code> nel proprio file di configurazione. Si digiti <code>quit</code> per uscire dalla shell.
</p>
<h3><span class="mw-headline" id="Dual_booting_con_Windows">Dual booting con Windows</span></h3>
<p>Si aggiunga ciò che segue alla fine del file <code>/boot/grub/menu.lst</code> (presupponendo che la partizione di Windows si trovi sulla prima partizione del primo dispositivo d'archiviazione):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/grub/menu.lst</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"> title Windows
 rootnoverify (hd0,0)
 makeactive chainloader +1
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Se sul proprio computer si ha in dual-boot ArchLinux e Windows 7, si dovrà commentare la linea <code>makeactive</code>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Windows 2000 e le versioni successive NON hanno bisogno di trovarsi nella prima partizione per essere avviate (contrariamente alla credenza popolare). Se la partizione di Windows dovesse cambiare (ad esempio se si aggiunge una partizione prima di quella di Windows), sarà necessario editare il file di Windows <code>boot.ini</code> per indicarne il cambiamento (si veda <a rel="nofollow" class="external text" href="https://vlaurie.com/computers2/Articles/bootini.htm">questo articolo</a> per i dettagli su come farlo).</div>
<p>Nel caso in cui Windows si trovi su un'altro hard disk, occorre usare il comando <code>map</code>. Ciò farà si che l'installatore di Windows pensi di trovarsi sul primo dispositivo. Supponendo che la partizione di Windows si trovi sulla prima partizione del secondo dispositivo d'archiviazione:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/grub/menu.lst</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"> title Windows
 map (hd0) (hd1)
 map (hd1) (hd0)
 rootnoverify (hd1,0)
 makeactive
 chainloader +1
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Se sul proprio computer si ha in dual-boot ArchLinux e Windows 7, si dovrà commentare la linea <code>makeactive</code>
</div>
<h3>
<span id="Dual_booting_con_GNU.2FLinux"></span><span class="mw-headline" id="Dual_booting_con_GNU/Linux">Dual booting con GNU/Linux</span>
</h3>
<p>Ciò può essere fatto nella stessa maniera in cui viene definita un'installazione di Arch Linux. Ad esempio:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/grub/menu.lst</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"> title Other Linux
 root (hd0,2)
 kernel /path/to/kernel root=/dev/sda3 ro
 initrd /path/to/initrd
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  Comunque, potrebbero esserci altre opzioni necessarie, e potrebbe non essere usato un iniziale RAM disk. Si analizzi il <code>/boot/grub/menu.lst</code> delle altre distribuzioni  per aggiungerne le opzioni d'avvio, o si veda <a href="#chainloader_e_configfile">#chainloader e configfile</a> (raccomandato).</div>
<h3><span class="mw-headline" id="chainloader_e_configfile"><code>chainloader</code> e <code>configfile</code></span></h3>
<p>Per facilitare la manutenzione del sistema, il comando <code>chainloader</code> o <code>configfile</code> dovrebbe essere usato per avviare un'altra distribuzione Linux che fornisce un meccanismo di configurazione GRUB "automatico" (ad esempio Debian, Ubuntu, openSUSE). Ciò permette alla distribuzione di mantenere il proprio <code>menu.lst</code> e le opzioni di boot.
</p>
<ul><li>Il comando <code>chainloader</code> avvierà un altro bootloader (piuttosto che un'immagine kernel); utile se un'altro bootloader è installato in un settore di boot di una partizione (GRUB, ad esempio). Ciò permette di installare un'istanza "principale" di GRUB nel <a href="/title/MBR" class="mw-redirect" title="MBR">MBR</a> e istanze di GRUB specifiche delle distribuzioni in ogni settore boot di partizione (PBR).</li></ul>
<ul><li>Il comando <code>configfile</code> avvisa l'istanza corrente di GRUB di caricare il file di configurazione specificato. Ciò può essere usato per avviare il <code>menu.lst</code> di un'altra distribuzione senza un'installazione separata di GRUB. Il problema di quest'approccio è che l'altro <code>menu.lst</code> potrebbe non essere compatibile con la versione installata di GRUB; alcune distribuzioni creano infatti pesanti patch alla propria versione di GRUB.</li></ul>
<p>Ad esempio, GRUB deve essere installato nel <a href="/title/MBR" class="mw-redirect" title="MBR">MBR</a> e qualche altro bootloader (sia esso GRUB o <a href="/title/LILO" title="LILO">LILO</a>) è già installato nel settore boot di <code>(hd0,2)</code>.
</p>
<pre>---------------------------------------------
|   |           |           |   %           |
| M |           |           | B %           |
| B |  (hd0,0)  |  (hd0,1)  | L %  (hd0,2)  |
| R |           |           |   %           |
|   |           |           |   %           |
---------------------------------------------
  |                           ^
  |       chainloading        |
  -----------------------------
</pre>
<p>Si può semplicemente includere in <code>menu.lst</code>:
</p>
<pre>title Altro Linux
root (hd0,2)
chainloader +1
</pre>
<p>O, se il bootloader in <code>(hd0,2)</code> è GRUB:
</p>
<pre>title Altro Linux
root (hd0,2)
configfile /boot/grub/menu.lst
</pre>
<p>Il comando <code>chainloader</code> può anche essere usato per caricare l'MBR di un secondo dispositivo:
</p>
<pre>title Altro Disposisitivo
rootnoverify (hd1)
chainloader +1
</pre>
<h3>
<span id="Dual_boot_con_GNU.2FLinux_.28Grub2.29"></span><span class="mw-headline" id="Dual_boot_con_GNU/Linux_(Grub2)">Dual boot con GNU/Linux (Grub2)</span>
</h3>
<p>Se l'altra distribuzione Linux utilizza Grub2 (es. Ubuntu 9.10+), e si ha installato il relativo boot loader per la relativa partizione di root, è possibile aggiungere una voce come questa nel <code>/boot/grub/menu.lst</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/grub/menu.lst</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"> # Altra distribuzione Linux che usa Grub2
 title Ubuntu
 root (hd0,2)
 kernel /boot/grub/core.img
</pre>
<p>Selezionando questa voce dal menu di avvio verrà caricato il menu di Grub2 dell'altra distribuzione, assumendo che questa sia installata su <code>/dev/sda3</code>.
</p>
<h2><span class="mw-headline" id="Installazione_del_bootloader">Installazione del bootloader</span></h2>
<h3><span class="mw-headline" id="Recupero_manuale_di_GRUB_libs">Recupero manuale di GRUB libs</span></h3>
<p>Normalmente i file interessati (<code>*stage*</code>) dovrebbero essere in <code>/boot/grub</code>, salvo nei casi in cui il bootloader non sia stato installato durante l'installazione del sistema o la partizione/filesystem sia danneggiato, o accidentalmente cancellato.  
</p>
<p>Copiare manualmente le librerie grub così:
</p>
<pre># cp -a /usr/lib/grub/i386-pc/* /boot/grub</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Non dimenticare di installare la partizione di boot del sistema se il programma di installazione utilizza una partizione separata! Quanto sopra presuppone che o la partizione di boot risiede sul filesystem di root o è montata in /boot nel file system di root!</div>
<h3><span class="mw-headline" id="Note_generali_di_installazione_del_bootloader">Note generali di installazione del bootloader</span></h3>
<p>GRUB può essere installato da un supporto separato (ad esempio un live CD), o direttamente da un'installazione di arch in esecuzione.  È <i>raramente</i> necessario che il bootloader GRUB debba essere reinstallato, e l'installazione <i>non</i> è necessaria quando:
</p>
<ul>
<li>Il file di configurazione viene aggiornato.</li>
<li>Il pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=grub">grub</a></span> è aggiornato.</li>
</ul>
<p>L'installazione è <i>necessaria</i> quando:
</p>
<ul>
<li>Un bootloader non è già installato.</li>
<li>Un altro sistema operativo sovrascrive il bootloader di Linux.</li>
<li>Il bootloader fallisce per qualche motivo sconosciuto.</li>
</ul>
<p>Prima di continuare, alcune osservazioni:
</p>
<ul>
<li>Assicurarsi che la configurazione di GRUB sia corretta (<code>/boot/grub/menu.lst</code>) prima di procedere. Fare riferimento a <a href="#Trovare_la_root_di_GRUB">#Trovare la root di GRUB</a> per verificare che i dispositivi siano definiti in modo corretto.</li>
<li>GRUB deve essere installato nel MBR <a href="/title/MBR" class="mw-redirect" title="MBR">MBR</a> (primo settore del disco rigido), o la prima partizione della periferica di archiviazione per poter essere riconosciuto dalla maggior parte dei BIOS.  Per consentire alle distribuzioni la capacità di gestire i propri menu di GRUB, possono essere utilizzate più istanze di GRUB. Si veda <a href="#chainloader_e_configfile">#chainloader e configfile</a>.</li>
<li>Per installare il bootloader GRUB, può essere necessario intervenire dall'interno di un ambiente <code>chroot</code> (cioè da un ambiente installato tramite un supporto separato) per casi come configurazioni RAID o se si è dimenticata o danneggiata l'installazione di GRUB.  Sarà necessario eseguire l'operazione di <a href="/title/Change_root" class="mw-redirect" title="Change root">Change root</a> da un LiveCD o da un'altra installazione di Linux per poterlo fare.</li>
</ul>
<p>In primo luogo, inserire la shell di GRUB:
</p>
<pre># grub</pre>
<p>Utilizzare il comando <code>root</code> con l'output del comando <code>find</code> (consultare <a href="#Trovare_la_root_di_GRUB">#Trovare la root di GRUB</a>) per istruire GRUB su quale partizione contiene lo stage1 (e quindi, <code>/boot</code>):
</p>
<pre>grub&gt; root (hd1,0)</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> La shell di GRUB supporta anche la scheda di completamento.  Se si digita "root hd" e si preme due volte <b>Tab</b> si potranno vedere le periferiche di archiviazione disponibili, e lo stesso può essere fatto anche per le partizioni.  La tab-completion funziona anche dal menu di avvio di GRUB.  Se c'è un errore nel file di configurazione è possibile modificarlo nel menù di avvio, e aiutandosi con la scheda di completamento, trovare i dispositivi e le partizioni.  Consultare <a href="#Modificare_le_voci_GRUB_nel_menu_di_avvio">#Modificare le voci GRUB nel menu di avvio</a>.</div>
<h3><span class="mw-headline" id="Installazione_nel_MBR">Installazione nel MBR</span></h3>
<p>L'esempio seguente installa GRUB nel <a href="/title/MBR" class="mw-redirect" title="MBR">MBR</a> del primo disco:
</p>
<pre>grub&gt; setup (hd0)</pre>
<h3><span class="mw-headline" id="Installazione_su_una_partizione">Installazione su una partizione</span></h3>
<p>L'esempio seguente installa GRUB sulla prima partizione del primo disco:
</p>
<pre>grub&gt; setup (hd0,0)</pre>
<p>Dopo aver eseguito il programma di installazione <code>setup</code>, digitare <code>quit</code> per uscire dalla shell. Se si è in ambiente chroot, <a href="/title/Change_root" class="mw-redirect" title="Change root">uscire da chroot e smontare le partizioni</a>. Adesso riavviare per fare un test.
</p>
<h3>
<span id="Metodo_alternativo_.28installazione_di_grub.29"></span><span class="mw-headline" id="Metodo_alternativo_(installazione_di_grub)">Metodo alternativo (installazione di grub)</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Questa procedura è nota per essere meno affidabile, il metodo consigliato è quello di utilizzare la shell di GRUB.</div>
<p>Utilizzare il comando <code>grub-install</code> seguito dal percorso su cui installare il bootloader.  Ad esempio, per installare il bootloader GRUB nel MBR del primo disco:
</p>
<pre># grub-install /dev/sda</pre>
<p>GRUB viene indicato se installato correttamente. Se così non fosse, si dovrà utilizzare il metodo shell di GRUB.
</p>
<h2><span class="mw-headline" id="Suggerimenti">Suggerimenti</span></h2>
<p>Note di configurazione aggiuntive.
</p>
<h3><span class="mw-headline" id="Avvio_grafico">Avvio grafico</span></h3>
<p>Per coloro che desiderano un aspetto grafico esteticamente più rifinito, consultare <a href="/title/Grub-gfx_(Italiano)" class="mw-redirect" title="Grub-gfx (Italiano)">grub-gfx</a>. <a href="/title/GRUB2_(Italiano)" class="mw-redirect" title="GRUB2 (Italiano)">GRUB2</a> offre funzionalità grafiche avanzate, come immagini di sfondo e caratteri bitmap.
</p>
<h3><span class="mw-headline" id="Risoluzione_framebuffer">Risoluzione framebuffer</span></h3>
<p>Si può utilizzare la risoluzione fornite nel <code>menu.lst</code>, ma si può eventualmente utilizzare il proprio LCD wide-screen a la sua risoluzione nativa. Ecco cosa si può fare per ottenere questo risultato:
</p>
<p>Su <a href="https://en.wikipedia.org/wiki/VESA_BIOS_Extensions#Linux_video_mode_numbers" class="extiw" title="wikipedia:VESA BIOS Extensions">Wikipedia</a> c'è una lista di risoluzioni framebuffer esteso (cioè oltre quelle standard VBE). Ma, per esempio, quella che si vuole usare per 1440x900 (<code>vga=867</code>) non funziona. Questo perché il produttori di schede grafiche sono liberi di scegliere qualsiasi numero desiderano, in quanto questo non fa parte dello standard VBE 3. Questo è il motivo per cui questi codici possono variare da una scheda all'altra (eventualmente anche per il produttore stesso).
</p>
<p>Così, invece di usare quella tabella, è possibile utilizzare uno degli strumenti indicati in seguito per ottenere il codice corretto:
</p>
<h4><span class="mw-headline" id="Valore_riconosciuto_del_GRUB">Valore riconosciuto del GRUB</span></h4>
<p>Questo è un modo semplice per trovare il codice di risoluzione usando solo GRUB.
</p>
<p>Sulla riga del kernel, specificare che il kernel richieda quale modalità utilizzare.
</p>
<pre>kernel /vmlinuz-linux root=/dev/sda1 ro <b>vga=ask</b>
</pre>
<p>Adesso riavviare. GRUB presenterà ora un elenco di codici adatti per l'uso, oltre l'opzione per cercarne altri.
</p>
<p>Scegliere il codice che si desidera utilizzare (non dimenticarlo, in quanto necessario per il passaggio successivo) e avviare utilizzandolo.
</p>
<p>Ora sostituire <code>ask</code> nella riga del kernel con quello che si è scelto.
</p>
<p>Per esempio la riga del kernel per <code>[369] 1680x1050x32</code> sarebbe:
</p>
<pre>kernel /vmlinuz-linux root=/dev/sda1 ro <b>vga=0x369</b>
</pre>
<h4><span class="mw-headline" id="hwinfo">hwinfo</span></h4>
<ol>
<li>Installare <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=hwinfo">hwinfo</a></span> da <b>[community]</b>.</li>
<li>Eseguire <code>hwinfo --framebuffer</code> da root.</li>
<li>Utilizzare il codice corrispondente alla risoluzione desiderata.</li>
<li>Utilizzare il codice a 6 cifre con prefisso 0x nell'opzione del kernel <code>vga=</code> in <code>menu.lst</code>. O convertirlo in decimale per evitare l'uso del prefisso 0x.</li>
</ol>
<p>Esempio dell'output di <b>hwinfo</b>:
</p>
<pre>Mode 0x0364: 1440x900 (+1440), 8 bits
Mode 0x0365: 1440x900 (+5760), 24 bits
</pre>
<p>E la riga del kernel:
</p>
<pre>kernel /vmlinuz-linux root=/dev/sda1 ro <b>vga=0x0365</b>
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <i>vbetest</i> dà la modalità VESA a cui si deve aggiungere 512 per ottenere il valore corretto da utilizzare nella riga del kernel, mentre <i>hwinfo</i> dà direttamente il valore corretto necessario al kernel.</div>
<h4><span class="mw-headline" id="vbetest">vbetest</span></h4>
<ol>
<li>Installare il pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lrmi/">lrmi</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/Help:Procedures#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup> da <a href="/title/Arch_User_Repository_(Italiano)" title="Arch User Repository (Italiano)">AUR</a> contenente il tool <b>vbetest</b> (gli utenti x86_64 dovranno utilizzare <a href="#hwinfo">#hwinfo</a> sotto).</li>
<li>Avviare <code>vbetest</code> da root</li>
<li>Prendere nota del numero in [ ] corrispondente alla risoluzione desiderata.</li>
<li>Premere 'q' per uscire dal prompt interattivo di <b>vbetest</b>.
<ol><li>Come opzione, in una console come root, è possibile testare la modalità che appena scelta eseguendo <code>vbetest -m &lt;yourcode&gt;</code> e vedere un modello come <a rel="nofollow" class="external text" href="https://www.phoronix.net/image.php?id=803&amp;image=x_vbespy_5">questo</a>
</li></ol>
</li>
<li>Aggiungere <b>512</b> al valore preso in precedenza ed usare il valore complessivo per definire il parametro <code>vga=</code> nelle opzioni del kernel di <code>menu.lst</code>.</li>
<li>Riavviare per godersi il risultato</li>
</ol>
<p>Esempio di <b>vbetest</b> su un computer:
</p>
<pre>[356] 1440x900 (256 color palette)
[357] 1440x900 (8:8:8)
</pre>
<p>Quindi, il valore che si desidera è 357. Poi, 357 + 512 = 869, quindi sarà necessario utilizzare <b>vga=869</b>. Aggiungere il valore alla fine della riga del kernel in <code>menu.lst</code> come indicato di seguito:
</p>
<pre>kernel /vmlinuz-linux root=/dev/sda1 ro vga=869
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>(8:8:8) is for 24-bit color (24bit is 32bit)</li>
<li>(5:6:5) is for 16-bit color</li>
<li>(5:5:5) is for 15-bit color</li>
</ul>
</div>
<h3><span class="mw-headline" id="Nominare_le_partizioni">Nominare le partizioni</span></h3>
<h4><span class="mw-headline" id="Per_etichetta">Per etichetta</span></h4>
<p>Se si altera (o si prevede di modificare) le dimensioni delle partizioni di tanto in tanto, potrebbe essere utile la definizione dei dispositivi e partizioni per mezzo delle etichette. È possibile assegnare delle etichette alle partizioni ext2, ext3, ext4 con:
</p>
<pre>e2label &lt;/dev/drive|partition&gt; label
</pre>
<p>Il nome dell'etichetta può essere lungo fino a 16 caratteri, ma non deve avere spazi, altrimenti GRUB potrebbe non riconoscerlo. Infine, definirlo in <code>menu.lst</code>:
</p>
<pre>kernel /boot/vmlinuz-linux root=/dev/disk/by-label/Arch_Linux ro
</pre>
<h4><span class="mw-headline" id="Per_UUID">Per UUID</span></h4>
<p>Gli <a href="/title/UUID" class="mw-redirect" title="UUID">UUID</a> (Universally Unique IDentifier) di una partizione possono essere scoperti con il comando <code>blkid</code> o <code>ls -l /dev/disk/by-uuid</code>. Possono essere definiti in <code>menu.lst</code> così:
</p>
<pre>kernel /boot/vmlinuz-linux root=/dev/disk/by-uuid/&lt;uuid number&gt;
</pre>
<p>o
</p>
<pre>kernel /boot/vmlinuz-linux root=UUID=&lt;uuid number&gt;
</pre>
<h3>
<span id="Eseguire_il_boot_come_root_.28single-user_mode.29"></span><span class="mw-headline" id="Eseguire_il_boot_come_root_(single-user_mode)">Eseguire il boot come root (single-user mode)</span>
</h3>
<p>Quando appare il menù di GRUB, selezionare la voce che si desidera e premere il tasto <code>e</code>, aggiungere alle opzioni del kernel:
</p>
<pre>[...] single init=/bin/bash
</pre>
<p>ed eseguire il boot.
Questo farà partire (solo per questa sessione) il kernel in <i>sigle-user mode</i> (init 1). Alla fine del processo di boot ci si troverà in un prompt di root senza che venga richiesta alcuna password.
</p>
<p>Questo procedimento può essere utile ad esempio per cambiare la password di root.
Tuttavia è una notevole "falla nella sicurezza" se non si ha impostato una <a href="#Protezione_con_password">password a GRUB</a>.
</p>
<h3><span class="mw-headline" id="Protezione_con_password">Protezione con password</span></h3>
<p>È possibile abilitare la protezione con password nel file di configurazione di GRUB per i sistemi operativi che si desidera avere protetti. La protezione tramite password al bootloader può essere richiesta se il BIOS non ha tale funzionalità e si ha bisogno di maggiore sicurezza.
</p>
<p>In primo luogo, scegliere una password facile da ricordare e poi cifrarla:
</p>
<pre># grub-md5-crypt
Password:
Retype password:
$1$ZOGor$GABXUQ/hnzns/d5JYqqjw
</pre>
<p>Poi aggiungere la password all'inizio del file di configurazione di GRUB (la password deve essere all'inizio del file di configurazione di GRUB per poter essere riconosciuta):
</p>
<pre># general configuration
timeout   5
default   0
color light-blue/black light-cyan/blue

password --md5 $1$ZOGor$GABXUQ/hnzns/d5JYqqjw
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong>  Ricordare che grub usa come layout predefinito della tastiera lo standard qwerty.</div>
<p>Poi, per ogni sistema operativo che si desidera proteggere, aggiungere il comando <code>lock</code>:
</p>
<pre># (0) Arch Linux
title  Arch Linux
lock
root   (hd0,1)
kernel /boot/vmlinuz-linux root=/dev/disk/by-label/Arch_Linux ro
initrd /boot/initramfs-linux.img</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attenzione:</strong> Se si disattiva l'avvio da altri dispositivi di avvio (come un disco CD) nelle impostazioni del BIOS, e poi si attivano con password tutte le voci dei sistemi operativi, potrebbe essere difficile riabilitare di nuovo i boot di tali sistemi se le password vengono dimenticate.</div>
<p>È comunque sempre possibile resettare il BIOS del proprio pc. Per farlo si dovrà seguire la documentazione della propria scheda madre (che è specifica del modello usato).
</p>
<h3><span class="mw-headline" id="Riavviare_con_la_scelta_nominale_di_boot">Riavviare con la scelta nominale di boot</span></h3>
<p>Spesso la necessità di passare ad un altro sistema operativo non-predefinito (ad esempio Windows), dover riavviare e attendere che il menu di GRUB appaia è noioso. GRUB offre un modo per registrare la scelta del sistema operativo al riavvio invece di aspettare il menu, designando un nuovo default temporaneo, che verrà ripristinato non appena usato.
</p>
<p>Supponendo una semplice configurazione <code>menu.lst</code> come questa:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/grub/menu.lst
</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># general configuration:
timeout 10
default 0
color light-blue/black light-cyan/blue

# (0) Arch
title  Arch Linux
root (hd0,1)
kernel /boot/vmlinuz-linux root=/dev/disk/by-label/ARCH ro
initrd /boot/initramfs-linux.img

# (1) Windows
title Windows XP
rootnoverify (hd0,0)
makeactive
chainloader +1
</pre>
<p>Arch è l'impostazione predefinita (0). Si vuole riavviare Windows. Cambiare <code>default 0</code> a <code>default saved</code>. Questo registra il default corrente in un file di <code>default</code> nella directory di GRUB quando è usato il comando <b>savedefault</b>. A questo punto aggiungere la riga <code>savedefault 0</code> al fondo della voce di Windows. Ogni volta che Windows viene avviato, sarà reimpostato il valore predefinito di Arch, rendendo quindi provvisorio, il default di Windows. 
</p>
<p>Ora tutto quello che serve è un modo per cambiare facilmente il default manualmente. Ciò può essere eseguito utilizzando il comando <code>grub-set-default</code>. Quindi, per riavviare Windows, eseguire il seguente comando:
</p>
<pre>$ sudo grub-set-default 1 &amp;&amp; sudo shutdown -r now</pre>
<p>Per facilità d'uso, potrebbe essere comodo abilitare "<a href="/title/Allow_users_to_shutdown_(Italiano)" title="Allow users to shutdown (Italiano)">Allow user to shutdown</a> fix" (includendo <code>/sbin/grub-set-default</code> tra i comandi sono consentite all'utente le operazioni di spegnimento senza dover fornire la password).
</p>
<h3><span class="mw-headline" id="Interazione_LILO_e_GRUB">Interazione LILO e GRUB</span></h3>
<p>Se il pacchetto <a href="/title/LILO" title="LILO">LILO</a> è installato sul sistema, rimuoverlo con
</p>
<pre># pacman -R lilo</pre>
<p>Alcuni tipi di attività (ad esempio, la compilazione del kernel usando <code>make all</code>), effettuano una richiamata a LILO, che potrebbe pertanto essere sovrascritto su GRUB. LILO può essere stato incluso nel sistema di base, a seconda della versione dell'installer o se è stato selezionato/deselezionato durante la fase di selezione dei pacchetti.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <code>pacman-R lilo</code> potrebbe non rimuovere LILO dal MBR se vi è stato installato, ma si limiterà a rimuovere il pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lilo/">lilo</a></span><sup><small>AUR</small></sup>. LILO verrà sovrascritto definitivamente quando sarà reinstallato GRUB (o un altro bootloader).</div>
<h3><span class="mw-headline" id="GRUB_boot_disk">GRUB boot disk</span></h3>
<p>In primo luogo, formattare un disco floppy:
</p>
<pre> fdformat /dev/fd0
 mke2fs /dev/fd0
</pre>
<p>Ora montare il disco:
</p>
<pre> mount -t ext2 /dev/fd0 /mnt/fl
</pre>
<p>Installare GRUB sul disco:
</p>
<pre> grub-install --root-directory=/mnt/fl '(fd0)'
</pre>
<p>Copiare il file <code>menu.lst</code> sul disco:
</p>
<pre> cp /boot/grub/menu.lst /mnt/fl/boot/grub/menu.lst
</pre>
<p>Infine, smontare il floppy:
</p>
<pre> umount /mnt/fl
</pre>
<p>Ora si dovrebbe essere in grado di riavviare il computer con il disco nel lettore e si dovrebbe avviare GRUB. Assicurarsi ovviamente, che il floppy sia impostato per avere la priorità d'avvio rispetto gli altri dispositivi nel BIOS.
</p>
<p>Consultare inoltre: <a rel="nofollow" class="external text" href="https://www.supergrubdisk.org/">Super GRUB Disk</a>
</p>
<h3><span class="mw-headline" id="Nascondere_il_menu_di_GRUB">Nascondere il menu di GRUB</span></h3>
<p>L'opzione <code>hiddenmenu</code> può essere usata per nascondere il menu di default. Nascondendo il menu viene automaticamente selezionata la voce di default appena trascorso il tempo impostato. 
Per mostrare il menu sarà sufficiente premere <code>Esc</code>. Per usare questa caratteristica è sufficiente aggiungere la seguente riga a <code>/boot/grub/menu.lst</code>:
</p>
<pre>hiddenmenu
</pre>
<h2>
<span id="Modalit.C3.A0_debug_avanzata"></span><span class="mw-headline" id="Modalità_debug_avanzata">Modalità debug avanzata</span>
</h2>
<p>L'intera sezione è in <a href="/title/Boot_debugging_(Italiano)" title="Boot debugging (Italiano)">Boot debugging (Italiano)</a>
</p>
<h2><span class="mw-headline" id="Risoluzione_dei_problemi">Risoluzione dei problemi</span></h2>
<h3><span class="mw-headline" id="GRUB_Errore_17">GRUB Errore 17</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  La soluzione qui illustrata funziona anche per il "GRUB Error 15"</div>
<p><b>Il primo controllo da fare è scollegare qualsiasi unità esterna. Sembra ovvio, ma a volte capita!)</b>
</p>
<p>Se la tabella delle partizioni non è ben configurata, uno spiacevole messaggio "GRUB error 17" potrebbe essere l'unica cosa che vi apparirà al seguente riavvio.  Ci sono un certo numero di motivi per cui la tabella delle partizioni potrebbe risultare disordinata.  Comunemente, gli utenti che manipolano le partizioni con <a href="/title/GParted" class="mw-redirect" title="GParted">GParted</a> (le unità logiche in particolare) possono invertire l'ordine delle partizioni.  Ad esempio, eliminando <code>/dev/sda6</code> e ridimensionando <code>/dev/sda7</code>, per poi ricreare quello che era <code>/dev/sda6</code>, ed ottenendolo tuttavia in fondo alla lista, come <code>/dev/sda9</code>.  Anche se l'ordine fisico delle partizioni/unità logiche, non è cambiata, lo è l'ordine in cui vengono riconosciute.
</p>
<p>La correzione della tabella delle partizioni è un'operazione facile. Basta avviare il sistema dal cd di Arch, eseguire il login come root e modificare adeguatamente la tabella delle partizioni:
</p>
<pre># fdisk /dev/sda
</pre>
<p>Una volta selezionata la partizione, immettere [<b>x</b>] per la modalità extra/expert, [<b>f</b>] per correggere l'ordine delle partizioni, ed infine [<b>w</b>] per sovrascrivere la tabella delle partizioni e uscire.
</p>
<p>È possibile verificare che la tabella delle partizioni è stata correttamente modificata con <code>fdisk -l</code>.  Ora c'è solo bisogno di verificare GRUB.  Consultare la sezione<a href="#Installazione_del_bootloader">#Installazione del bootloader</a> sopra.
</p>
<p>Fondamentalmente si deve istruire GRUB sul percorso corretto del file <code>/boot</code> e poi riscrivere GRUB nel <a href="/title/MBR" class="mw-redirect" title="MBR">MBR</a> del disco.
</p>
<p>Per esempio:
</p>
<pre># grub
</pre>
<pre>grub&gt; root (hd0,6)
grub&gt; setup (hd0)
grub&gt; quit
</pre>
<p>Consultare <a rel="nofollow" class="external text" href="https://stringofthoughts.wordpress.com/2009/05/24/grub-error-17-debianubuntu">questa pagina</a> per una sintesi più approfondita di questa sezione.
</p>
<h3>
<span id=".2Fboot.2Fgrub.2Fstage1_not_read_correctly"></span><span class="mw-headline" id="/boot/grub/stage1_not_read_correctly">/boot/grub/stage1 not read correctly</span>
</h3>
<p>Se appare messaggio di errore durante il tentativo di setup del grub e non si utilizza una tabella delle partizioni aggiornata, vale la pena eseguire un controllo.
</p>
<pre># fdisk -l /dev/sda
</pre>
<p>Questo mostrerà la tabella delle partizioni per /dev/sda. Quindi controllare qui, anche se i valori "Id" delle partizioni dovessero essere corretti.
La colonna "System" mostrerà la descrizione dei valori "Id".
</p>
<p>Se la partizione di avvio è segnata come "HPFS/NTFS", per esempio, allora si deve cambiare con "Linux". Per fare questo, dare il comando fdisk
</p>
<pre># fdisk /dev/sda
</pre>
<p>cambiare l'Id del sistema di una partizione con [t], selezionare il numero e tipo di partizione nel nuovo id di sistema (Linux = 83). 
È anche possibile vedere tutti gli ID di sistema disponibili digitando "L" invece di system id.
</p>
<p>Se si cambia l'Id di sistema di qualche partizione, bisognerebbe [v]erificare la tabella delle partizioni prima di confermare [w]rite.
</p>
<p>Ora si può provare a installare grub di nuovo.
</p>
<p><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=799930">Qui</a> c'è un post nel forum che riporta il problema.
</p>
<h3><span class="mw-headline" id="Installazione_accidentale_in_una_partizione_Windows">Installazione accidentale in una partizione Windows</span></h3>
<p>Se accidentalmente si installa GRUB sulla partizione Windows, GRUB scriverà alcune informazioni al settore di avvio della partizione, cancellando il riferimento al bootloader di Windows. (Questo è vero per NTLDR, il bootloader di Windows XP e precedenti, non troppo sicuro per le versioni successive).
</p>
<p>Per risolvere questo problema è necessario utilizzare la console di ripristino di Windows per la propria versione. Poiché molti produttori di computer non includono questa funzionalità nel loro prodotto (molti scelgono di utilizzare una partizione di ripristino), Microsoft ne ha reso disponibile il download. Se si utilizza XP, consultare <a rel="nofollow" class="external text" href="http://tips.vlaurie.com/2006/05/recovery-console-for-those-without-an-xp-disk/">questa pagina</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-08-02]</sup> per essere in grado di avviare i dischi floppy come un CD di ripristino. Avviare il CD di ripristino (o attivare la modalità di ripristino di Windows) ed eseguire fixboot per riparare il settore di avvio della partizione.  Per ultimo, sarà necessario installare nuovamente GRUB (questa volta nel MBR, e non nella partizione di Windows) per avviare Linux.
</p>
<p>Consultare <a href="/title/MBR#Restoring_a_Windows_boot_record" class="mw-redirect" title="MBR">ulteriori discussioni qui</a><sup>[<a href="/title/Help:Procedures#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>.
</p>
<h3><span class="mw-headline" id="Modificare_le_voci_GRUB_nel_menu_di_avvio">Modificare le voci GRUB nel menu di avvio</span></h3>
<p>Dopo aver selezionato una voce dal menu di avvio, è possibile modificarla premendo il tasto <code>e</code>.  Usare la tab-completion (scheda di completamento) se si ha bisogno di rilevare altri dispositivi, quindi <code>Esc</code> per uscire.  Allora si può provare ad avviare premendo <code>b</code>.  
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Queste impostazioni <b>non verranno salvate</b>.</div>
<h3><span class="mw-headline" id="Errore_device.map">Errore device.map</span></h3>
<p>Se viene generato un errore che riporta <code>/boot/grub/device.map</code> durante l'installazione o l'avvio, eseguire:
</p>
<pre># grub-install --recheck /dev/sda
</pre>
<p>per forzare GRUB a ricontrollare la mappa dei dispositivi, anche se esiste già. Questo può essere necessario dopo il ridimensionamento delle partizioni o l'aggiunta/rimozione di dischi.
</p>
<h3><span class="mw-headline" id="Errore_sotto-menu_di_KDE_al_riavvio">Errore sotto-menu di KDE al riavvio</span></h3>
<p>Se dopo l'apertura di un sotto-menu con l'elenco di tutti i sistemi operativi configurati in GRUB, e la conseguente selezione, al riavvio è nuovamente attivo il sistema operativo predefinito, allora si dovrebbe controllare di avere la riga:
</p>
<pre>default saved
</pre>
<p>in <code>/boot/grub/menu.lst</code>.
</p>
<h3>
<span id="GRUB_non_riesce_a_trovare_o_installare_qualsiasi_virtio_.2Fdev.2Fvd.2A_o_altri_dispositivi_non-BIOS"></span><span class="mw-headline" id="GRUB_non_riesce_a_trovare_o_installare_qualsiasi_virtio_/dev/vd*_o_altri_dispositivi_non-BIOS">GRUB non riesce a trovare o installare qualsiasi virtio /dev/vd* o altri dispositivi non-BIOS</span>
</h3>
<p>Esempio di problemi all'installazione di GRUB, quando si installa Arch Linux in una macchina KVM virtuale utilizzando un dispositivo virtio per hard disk. Per installare GRUB, procedere come segue:
Inserire una console virtuale digitando <code>Ctrl</code> + <code>Alt</code> + <code>F2</code> o qualsiasi altro tasto F per una console virtuale libera.
Supponendo che il file system root sia montato nella cartella <code>/mnt</code> e il file di avvio del sistema sia montato o memorizzato nella cartella <code>/mnt/boot</code>.
</p>
<p>1. Verificare che tutti i file di GRUB necessari siano presenti nella directory di avvio (supponendo siano montati nella cartella <code>/mnt/boot</code>) con il comando:
</p>
<pre># ls /mnt/boot/grub
</pre>
<p>2. Se la cartella <code>/mnt/boot/grub</code> contiene già tutti i file necessari, saltare al passo 3. In caso contrario, effettuare i seguenti comandi (sostituendo <code>/mnt</code>, il <code>kernel</code> e l'<code>initrd</code> con i percorsi reali e nomi dei file). Si dovrebbe anche avere il file <code>menu.lst</code> scritto nella cartella:
</p>
<pre># mkdir -p /mnt/boot/grub                # if the folder is not yet present
# cp -r /boot/grub/stage1 /boot/grub/stage2 /mnt/boot/grub
# cp -r your_kernel your_initrd /mnt/boot
</pre>
<p>3. Avviare la shell di GRUB con il seguente comando:
</p>
<pre># grub --device-map=/dev/null

</pre>
<p>4. Immettere i seguenti comandi, sostituendo <code>/dev/vda</code>, e <code>(hd0,0)</code> con il dispositivo corretto e la partizione corrispondente alla propria installazione.
</p>
<pre>device (hd0) /dev/vda
root (hd0,0)
setup (hd0)
quit
</pre>
<p>5. Se GRUB non riporta nessun messaggio di errore, probabilmente l'operazione è andata a buon fine. Potrebbe inoltre essere necessario aggiungere gli opportuni moduli a ramdisk. Per ulteriori informazioni, si prega di consultare la guida KVM su <a href="/title/KVM#Preparing_an_.28Arch.29_Linux_guest" title="KVM">Preparing Arch Linux guest</a><sup>[<a href="/title/Help:Procedures#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>
</p>
<h2><span class="mw-headline" id="Risorse_esterne">Risorse esterne</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.gnu.org/software/grub/">GNU GRUB</a></li>
<li><a rel="nofollow" class="external text" href="http://www.troubleshooters.com/linux/grub/index.htm">GRUB Grotto</a></li>
<li>
<a rel="nofollow" class="external text" href="http://linuxmx.it/guide-linux/14-generiche/222-analizziamo-gli-errori-di-grub.html">Guida agli errori di GRUB</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-12-26]</sup>
</li>
<li>
<a href="/title/Boot_debugging_(Italiano)" title="Boot debugging (Italiano)">Boot Debug</a> - Debug con GRUB.</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="/title/Special:Categories" title="Special:Categories">Categories</a>: <ul>
<li><a href="/title/Category:Boot_loaders_(Italiano)" title="Category:Boot loaders (Italiano)">Boot loaders (Italiano)</a></li>
<li><a href="/title/Category:System_recovery_(Italiano)" title="Category:System recovery (Italiano)">System recovery (Italiano)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="/title/Category:Pages_or_sections_flagged_with_Template:Bad_translation" title="Category:Pages or sections flagged with Template:Bad translation">Pages or sections flagged with Template:Bad translation</a></li>
<li><a href="/title/Category:Pages_with_broken_package_links" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="/title/Category:Pages_with_broken_section_links" title="Category:Pages with broken section links">Pages with broken section links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=GRUB_Legacy_(Italiano)&amp;oldid=668808">https://wiki.archlinux.org/index.php?title=GRUB_Legacy_(Italiano)&amp;oldid=668808</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 8 May 2021, at 10:47.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="/title/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/title/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="/title/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
