<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Arch Build System (Italiano) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Arch_Build_System_Italiano rootpage-Arch_Build_System_Italiano skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Arch Build System (Italiano)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="/title/File:Tango-preferences-desktop-locale-modified.png" class="image"><img alt="Tango-preferences-desktop-locale-modified.png" src="../File:Tango-preferences-desktop-locale-modified.png" decoding="async" width="48" height="48"></a><b>The <a href="/title/ArchWiki:Contributing#Translating" title="ArchWiki:Contributing">translation</a> of this article or section does not reflect the original text.</b><a href="/title/File:Tango-preferences-desktop-locale-modified.png" class="image"><img alt="Tango-preferences-desktop-locale-modified.png" src="../File:Tango-preferences-desktop-locale-modified.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Last updated in 2013 (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:Arch_Build_System_(Italiano)">Talk:Arch Build System (Italiano)#</a>)</div>
</div>
<p>Quest'articolo fornisce una panoramica dell' Arch Build System insieme ad una guida passo passo per principianti. Non è una guida di riferimento completa! Se si necessita di ulteriori informazioni, si è pregati di consultare il manuale.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> ABS viene sincronizzato una volta al giorno, per questo motivo è fisiologico un ritardo nell'aggiornamento rispetto ai pacchetti presenti effettivamente nei repository.</div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Cosa_%C3%A8_ABS?"><span class="tocnumber">1</span> <span class="toctext">Cosa è ABS?</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Cos'%C3%A8_un_sistema_ports-like?"><span class="tocnumber">1.1</span> <span class="toctext">Cos'è un sistema ports-like?</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#ABS_%C3%A8_un_concetto_simile"><span class="tocnumber">1.2</span> <span class="toctext"><b>ABS</b> è un concetto simile</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Descrizione_generale_di_ABS"><span class="tocnumber">1.3</span> <span class="toctext">Descrizione generale di ABS</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Perch%C3%A8_dovrei_usare_ABS?"><span class="tocnumber">2</span> <span class="toctext">Perchè dovrei usare ABS?</span></a></li>
<li class="toclevel-1 tocsection-6">
<a href="#Come_usare_ABS?"><span class="tocnumber">3</span> <span class="toctext">Come usare ABS?</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Strumenti_d'installazione"><span class="tocnumber">3.1</span> <span class="toctext">Strumenti d'installazione</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#/etc/abs.conf"><span class="tocnumber">3.2</span> <span class="toctext">/etc/abs.conf</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#L'albero_ABS"><span class="tocnumber">3.3</span> <span class="toctext">L'albero ABS</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Scaricare_l'albero_ABS"><span class="tocnumber">3.4</span> <span class="toctext">Scaricare l'albero ABS</span></a></li>
<li class="toclevel-2 tocsection-11">
<a href="#/etc/makepkg.conf"><span class="tocnumber">3.5</span> <span class="toctext">/etc/makepkg.conf</span></a>
<ul>
<li class="toclevel-3 tocsection-12">
<a href="#Impostare_la_variabile_PACKAGER_all'interno_di_/etc/makepkg.conf"><span class="tocnumber">3.5.1</span> <span class="toctext">Impostare la variabile PACKAGER all'interno di /etc/makepkg.conf</span></a>
<ul>
<li class="toclevel-4 tocsection-13"><a href="#Mostrare_tutti_i_pacchetti_(inclusi_quelli_presi_da_AUR)"><span class="tocnumber">3.5.1.1</span> <span class="toctext">Mostrare tutti i pacchetti (inclusi quelli presi da AUR)</span></a></li>
<li class="toclevel-4 tocsection-14"><a href="#Mostrare_solo_i_pacchetti_contenuti_nei_repository"><span class="tocnumber">3.5.1.2</span> <span class="toctext">Mostrare solo i pacchetti contenuti nei repository</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-15"><a href="#Creare_una_directory_di_compilazione"><span class="tocnumber">3.6</span> <span class="toctext">Creare una directory di compilazione</span></a></li>
<li class="toclevel-2 tocsection-16">
<a href="#Compilazione_del_pacchetto"><span class="tocnumber">3.7</span> <span class="toctext">Compilazione del pacchetto</span></a>
<ul>
<li class="toclevel-3 tocsection-17"><a href="#fakeroot"><span class="tocnumber">3.7.1</span> <span class="toctext">fakeroot</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h2>
<span id="Cosa_.C3.A8_ABS.3F"></span><span class="mw-headline" id="Cosa_è_ABS?">Cosa è ABS?</span>
</h2>
<p>ABS è l'acronimo di "<b>A</b>rch <b>B</b>uild <b>S</b>ystem", cioè <i>Sistema di costruzione (dei pacchetti) di Arch</i>. E' un sistema per fare pacchetti del codice sorgente. Mentre <a href="/title/Pacman" title="Pacman">pacman</a> è il tool di Arch specializzato nella gestione dei pacchetti binari (inclusi i pacchetti fatti con ABS), ABS è il tool specializzato nella compilazione dei sorgenti in un pacchetto <code>.pkg.tar.xz</code> installabile.
</p>
<h3>
<span id="Cos.27.C3.A8_un_sistema_ports-like.3F"></span><span class="mw-headline" id="Cos'è_un_sistema_ports-like?">Cos'è un sistema ports-like?</span>
</h3>
<p><i>Ports</i> è il sistema usato da FreeBSD per l'automazione della generazione di pacchetti a partire dal codice sorgente. Il sistema usa un <i>port</i> per scaricare, scompattare, patchare, compilare e installare il software desiderato. Un <i>port</i> è solo una piccola directory nel computer dell'utente, chiamata come il corrispondente software che vi verrà installato, che contiene un po' di file con le istruzioni per scaricare ed installare il pacchetto dai sorgenti. Questo rende possibile la la generazione del pacchetto con un semplice <code>make</code> o <code>make install clean</code> all'interno della directory port.
</p>
<h3>
<span id="ABS_.C3.A8_un_concetto_simile"></span><span class="mw-headline" id="ABS_è_un_concetto_simile"><b>ABS</b> è un concetto simile</span>
</h3>
<p>"ABS" è costituito da un albero di directory ("ABS Tree"), situato in <code>/var/abs</code>, che contiene molte sottodirectory, ognuna dentro una categoria, e ognuna chiamata con il rispettivo pacchetto installabile contenuto al suo interno. Quest'albero rappresenta (ma non contiene) tutto il <i>software ufficialmente disponibile in Arch</i>, reperibile tramite sistema SVN. Si può considerare ogni sottodirectory chiamata come un pacchetto un <i>ABS</i>, più o meno allo stesso modo con cui ci si potrebbe riferire ad un <i>Port</i>. Questi <i>ABS</i>, o sottodirectory, non contengono il pacchetto nè il codice sorgente del software, bensì un file <a href="/title/PKGBUILD_(Italiano)" title="PKGBUILD (Italiano)">PKGBUILD</a> (e a volte altri file). Un PKGBUILD è un semplice script, un file di testo contenente le istruzioni per la compilazione e la pacchettizzazione, ma anche l'url dell'apposito <b>tarball di sorgenti</b> da scaricare. (I componenti più importanti di ABS sono proprio i PKGBUILD). Utilizzando il comando di ABS <a href="/title/Makepkg_(Italiano)" title="Makepkg (Italiano)">makepkg</a>, il software viene prima compilato e poi <i>pacchettizzato</i> all'interno della directory di compilazione, prima di poter essere installato. Da questo momento si potrà usare <a href="/title/Pacman_(Italiano)" title="Pacman (Italiano)">pacman</a>, il gestore pacchetti di Arch Linux per installare, aggiornare, e rimuovere il nuovo pacchetto.
</p>
<h3><span class="mw-headline" id="Descrizione_generale_di_ABS">Descrizione generale di ABS</span></h3>
<p>"ABS" potrebbe essere usato come un termine "ad ombrello", in quanto include, ed è formato, da molti altri componenti. Pertanto, parlando in termini non proprio tecnici, "ABS" fa riferimento alla seguente struttura come un toolkit completo:
</p>
<dl>
<dt>L'albero ABS</dt>
<dd>La struttura di directory di ABS; una gerarchia SVN sotto <code>/var/abs/</code> sul proprio sistema locale. Contiene molte sottodirectory, chiamate con il nome di ogni software disponibile per arch nei repository specificati in <code>/etc/abs.conf</code>, ma non i pacchetti stessi. L'albero è creato dopo aver installato il pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=abs">abs</a></span><sup>[<a href="/title/Help:Procedures#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup> tramite pacman e dopo aver eseguito lo script <code>abs</code>
</dd>
<dt><a href="/title/PKGBUILD_(Italiano)" title="PKGBUILD (Italiano)">PKGBUILD</a></dt>
<dd>Script in BASH contenente le istruzioni per costruire i pacchetti e l'URL dei sorgenti.</dd>
</dl>
<dl>
<dt><a href="/title/Makepkg_(Italiano)" title="Makepkg (Italiano)">Makepkg</a></dt>
<dd>Il comando da shell di ABS che legge il PKGBUILD, scarica e compila il sorgente e crea il <code>.pkg.tar.gz or .pkg.tar.xz</code>, in accordo con l'array <code>PKGEXT</code> all'interno di <code>makepkg.conf</code>. È anche possibile utilizzare makepkg per compilare i propri pacchetti da <a href="/title/AUR_(Italiano)" class="mw-redirect" title="AUR (Italiano)">AUR</a> o da fonti esterne. (Consultare l'articolo <a href="/title/Creating_packages_(Italiano)" title="Creating packages (Italiano)">Creating packages (Italiano)</a>)</dd>
</dl>
<p><b>Strumenti correlati</b>
</p>
<dl>
<dt><a href="/title/Pacman_(Italiano)" title="Pacman (Italiano)">Pacman</a></dt>
<dd>Pacman è completamente separato, ma è necessario invocarlo o dal makepkg o manualmente, per installare e rimuovere i pacchetti costruiti, e per risolvere le dipendenze.</dd>
</dl>
<dl>
<dt><a href="/title/AUR_(Italiano)" class="mw-redirect" title="AUR (Italiano)">AUR</a></dt>
<dd>Il repository degli utenti della comunità di Arch è separato da ABS, ma i PKGBUILD non supportati di <a href="/title/AUR" class="mw-redirect" title="AUR">AUR</a> (unsupported) possono essere usati con il tool <b>makepkg</b> di ABS, per compilare e impacchettare il software. A differenza dell'albero ABS presente in locale, AUR esiste come interfaccia web. Contiene migliaia di PKGBUILD degli utenti per pacchettizzare software non presente come pacchetto ufficiale di Arch. Avendo bisogno di compilare un pacchetto al di fuori delle strutture ufficiali di Arch, è molto probabile poterlo trovare su AUR.</dd>
</dl>
<h2>
<span id="Perch.C3.A8_dovrei_usare_ABS.3F"></span><span class="mw-headline" id="Perchè_dovrei_usare_ABS?">Perchè dovrei usare ABS?</span>
</h2>
<p>L'Arch Build System (abbreviato con ABS) è usato per:
</p>
<ul>
<li>Compilare o ri-compilare un pacchetto per qualsiasi motivo</li>
<li>Creare nuovi pacchetti da codice sorgente, di software per i quali non sono ancora disponibili pacchetti (Vedi anche <a href="/title/Creating_packages_(Italiano)" title="Creating packages (Italiano)">Creating Packages</a>)</li>
<li>Modificare pacchetti esistenti per adattarli ai propri bisogni (abilitando o disabilitando opzioni, applicando patch)</li>
<li>Ricompilare il tuo intero sistema utilizzando flag di compilazione "a la FreeBSD" (ad esempio con <a href="/title/Pacbuilder" class="mw-redirect" title="Pacbuilder">pacbuilder</a>)</li>
<li>Pacchettizzare e installare in modo pulito il proprio kernel personalizzato. (Consultare <a href="/title/Kernel_Compilation" class="mw-redirect" title="Kernel Compilation">Kernel Compilation</a> così come <a href="/title/Custom_Kernel_Compilation_with_ABS" class="mw-redirect" title="Custom Kernel Compilation with ABS">Custom Kernel Compilation with ABS</a>)</li>
<li>Utilizzare moduli del kernel che funzionino col proprio kernel personalizzato</li>
<li>Compilare ed installare facilmente un pacchetto per Arch più recente, più vecchio, in beta testing, o in sviluppo modificando il numero di versione nel PKGBUILD.</li>
</ul>
<p>ABS non è necessario per usare Arch Linux, ma è utile per un processo sicuro di compilazione dei sorgenti.
</p>
<h2>
<span id="Come_usare_ABS.3F"></span><span class="mw-headline" id="Come_usare_ABS?">Come usare ABS?</span>
</h2>
<p>La compilazione di pacchetti tramite ABS consta dei seguenti passaggi:
</p>
<ol>
<li>Installare il pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=abs">abs</a></span><sup>[<a href="/title/Help:Procedures#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup> tramite <a href="/title/Pacman_(Italiano)" title="Pacman (Italiano)">pacman</a>
</li>
<li>Eseguire <code>abs</code> da utente root in modo da creare l'albero ABS sincronizzato con i server di Arch Linux</li>
<li>Copiare i file di compilazione (che solitamente si trovano sotto <code>/var/abs/&lt;repo&gt;/&lt;pkgname&gt;</code>) in una directory di compilazione a scelta</li>
<li>Portarsi nella suddetta directory, modificare il PKGBUILD secondo le proprie esigenze (se necessario), ed eseguire <b>makepkg</b>
</li>
<li>makepkg, basandosi sulle istruzioni presenti nel PKGBUILD, scaricherà i sorgenti appropriati, li decomprimerà, applicherà eventuali patch, compilerà secondo le <code>CFLAGS</code> specificate nel file <code>makepkg.conf</code> ed infine comprimerà i file compilati all'interno di un pacchetto con estensione <code>.pkg.tar.gz</code> o <code>.pkg.tar.xz</code> in base a come specificato all'interno di <code>makepkg.conf</code>
</li>
<li>L'installazione del pacchetto creato è semplice quanto eseguire <code>pacman -U &lt;.pkg.tar.xz file&gt;</code>. La rimozione del pacchetto è gestita in maniera classica da pacman.</li>
</ol>
<h3>
<span id="Strumenti_d.27installazione"></span><span class="mw-headline" id="Strumenti_d'installazione">Strumenti d'installazione</span>
</h3>
<p>Per utilizzare ABS, bisogna innanzitutto <a href="/title/Pacman_(Italiano)" title="Pacman (Italiano)">installare</a> il pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=abs">abs</a></span><sup>[<a href="/title/Help:Procedures#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup> dai <a href="/title/Official_repositories_(Italiano)" title="Official repositories (Italiano)">repository ufficiali</a>
</p>
<p>Ciò installerà gli script di sincronizzazione di ABS, vari script di compilazione, ed <a href="/title/Rsync" title="Rsync">rsync</a> (come dipendenza, nel caso non fosse già installato).
</p>
<p>Prima di poter effettivamente compilare qualcosa, comunque, è necessario <a href="/title/Pacman_(Italiano)#Installare_gruppi_di_pacchetti" title="Pacman (Italiano)">installare</a> anche i programmi di compilazione di base. Questi ultimi sono raccolti all'interno del gruppo <b>base-devel</b>.
</p>
<h3>
<span id=".2Fetc.2Fabs.conf"></span><span class="mw-headline" id="/etc/abs.conf">/etc/abs.conf</span>
</h3>
<p>Con privilegi di root modifica <code>/etc/abs.conf</code> per includere i repository che desideri aggiungere:
</p>
<p>Rimuovere il <code>!</code> davanti ai repository che vuoi abilitare (esempio):
<code>REPOS=(core extra community !testing)</code>
</p>
<h3>
<span id="L.27albero_ABS"></span><span class="mw-headline" id="L'albero_ABS">L'albero ABS</span>
</h3>
<p>L'albero ABS è una gerarchia di directory SVN situata in <code>/var/abs</code> con una struttura simile a questa
</p>
<pre>| -- core/
|     || -- acl/
|     ||     || -- PKGBUILD
|     || -- attr/
|     ||     || -- PKGBUILD
|     || -- abs/
|     ||     || -- PKGBUILD
|     || -- autoconf/
|     ||     || -- PKGBUILD
|     || -- ...
| -- extra/
|     || -- acpid/
|     ||     || -- PKGBUILD
|     || -- apache/
|     ||     || -- PKGBUILD
|     || -- ...
| -- community/
|     || -- ...
</pre>
<p>In pratica l'albero ABS ha la stessa struttura del database dei pacchetti:
</p>
<ul>
<li>Primo livello: nome del Repository</li>
<li>Secondo livello: directory dei nomi dei pacchetti</li>
<li>Terzo livello: PKGBUILD (contiene le informazioni necessarie alla compilazione dei pacchetti) ed altri file correlati (patch ed altri file necessari alla compilazione)</li>
</ul>
<p>Il codice sorgente non e' presente nelle directory ABS. È invece il file <b>PKGBUILD</b> che contiene un URL dal quale verrà scaricato il codice sorgente al momento della compilazione. Per questo motivo la dimensione dell'albero ABS è relativamente contenuta.
</p>
<h3>
<span id="Scaricare_l.27albero_ABS"></span><span class="mw-headline" id="Scaricare_l'albero_ABS">Scaricare l'albero ABS</span>
</h3>
<p>Da root, digitare:
</p>
<pre># abs</pre>
<p>L'albero ABS verrà creato in <code>/var/abs</code>. Da notare come ogni ramo di questo albero corrisponda ai repository abilitati in <code>/etc/abs.conf</code>. 
</p>
<p>Il comando abs dovrebbe essere usato periodicamente per sincronizzare l'albero ABS locale con i repository ufficiali. Singoli pacchetti ABS possono essere scaricati con
</p>
<pre># abs &lt;repository&gt;/&lt;package&gt;</pre>
<p>In questo modo non è necessario controllare l'intero albero ABS per compilare un solo pacchetto.
</p>
<h3>
<span id=".2Fetc.2Fmakepkg.conf"></span><span class="mw-headline" id="/etc/makepkg.conf"><code>/etc/makepkg.conf</code></span>
</h3>
<p><code>/etc/makepkg.conf</code> e' un file che specifica le variabili d'ambiente e i flag del compilatore che magari si vuole modificare se si utilizza un sistema SMP, o per specificare altre ottimizzazioni. Le impostazioni di default sono ottimizzate per le architetture i686 e x86_64, e andranno generalmente bene per i sistemi con una sola cpu. (vanno bene anche per le macchina SMP, ma useranno soltanto una cpu- consultare <a href="/title/Makepkg_(Italiano)" title="Makepkg (Italiano)">makepkg</a>.)
</p>
<h4>
<span id="Impostare_la_variabile_PACKAGER_all.27interno_di_.2Fetc.2Fmakepkg.conf"></span><span class="mw-headline" id="Impostare_la_variabile_PACKAGER_all'interno_di_/etc/makepkg.conf">Impostare la variabile PACKAGER all'interno di /etc/makepkg.conf</span>
</h4>
<p>L'impostazione della variabile PACKAGER all'interno di <code>/etc/makepkg.conf</code> è un'operazione opzionale ma caldamente consigliata. Abilita una "flag" che consente  la rapida identificazione di tutti i pacchetti compilati ed installati in locale dall'utente stesso, anzichè dal maintainer ufficiale. Ciò è ottenibile in maniera molto semplice utilizzando <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=expac">expac</a></span> presente nel repo community.
</p>
<h5>
<span id="Mostrare_tutti_i_pacchetti_.28inclusi_quelli_presi_da_AUR.29"></span><span class="mw-headline" id="Mostrare_tutti_i_pacchetti_(inclusi_quelli_presi_da_AUR)">Mostrare tutti i pacchetti (inclusi quelli presi da AUR)</span>
</h5>
<pre>$ grep myname /etc/makepkg.conf
PACKAGER="myname &lt;myemail@myserver.com&gt;
</pre>
<pre>$ expac "%n %p" | grep "myname" | column -t
archey3 myname
binutils myname
gcc myname
gcc-libs myname
glibc myname
tar myname
</pre>
<h5><span class="mw-headline" id="Mostrare_solo_i_pacchetti_contenuti_nei_repository">Mostrare solo i pacchetti contenuti nei repository</span></h5>
<p>Questo esempio nostra solo i pacchetti presenti nei repository specificati in <code>/etc/pacman.conf</code>:
</p>
<pre>$ . /etc/makepkg.conf; grep -xvFf &lt;(pacman -Qqm) &lt;(expac "%n\t%p" | grep "$PACKAGER$" | cut -f1)
binutils
gcc
gcc-libs
glibc
tar
</pre>
<h3><span class="mw-headline" id="Creare_una_directory_di_compilazione">Creare una directory di compilazione</span></h3>
<p>Si raccomanda di creare una directory dove avra' luogo la compilazione; non bisognerebbe mai modificare l'albero di ABS compilando i pacchetti al suo interno, poiché questi dati verranno sovrascritti al primo aggiornamento dell'albero ABS. E' buona norma usare la propria directory home, mentre alcuni utenti preferiscono creare una directory 'local' sotto <code>/var/abs/</code> , impostando l'utente semplice come proprietario. 
</p>
<p>Come detto, creare la directory di compilazione, ad es.:
</p>
<pre>$ mkdir -p $HOME/abs</pre>
<p>Copiare l'albero ABS (<code>/var/abs/&lt;repository&gt;/&lt;pkgname&gt;</code>) nella directory di compilazione.
</p>
<h3><span class="mw-headline" id="Compilazione_del_pacchetto">Compilazione del pacchetto</span></h3>
<p>In questo esempio verrà mostrato come compilare il pacchetto del display manager "slim".
</p>
<p>Copiare l'ABS di slim nella directory di compilazione.
</p>
<pre>$ cp -r /var/abs/extra/slim/ ~/abs</pre>
<p>Accedere alla directory.
</p>
<pre>$ cd ~/abs/slim</pre>
<p>Modificare il PKGBUILD per aggiungere o rimuovere il supporto a determinati componenti, per applicare patch, per cambiare la versione del pacchetto, etc. (opzionale)
</p>
<pre>$ nano PKGBUILD</pre>
<p>Eseguire makepkg da utente normale (con lo switch <code>-s</code> per installare con la risoluzione automatica delle dipendenze (richiede la presenza del pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sudo">sudo</a></span>.)
</p>
<pre>$ makepkg -s</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attenzione:</strong>  Prima di lamentarsi riguardo la mancanza delle dipendenze di compilazione. ricordarsi che il gruppo <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span> si suppone già installato su qualsiasi sistema Arch Linux. Il gruppo <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/base-devel/">base-devel</a></span> si suppone già installato quando si compila con makepkg. Consultare <a href="#Strumenti_d'installazione">#Strumenti d'installazione</a>
</div>
<p>Installare da root:
</p>
<pre># pacman -U slim-1.3.0-2-i686.pkg.tar.xz</pre>
<p>Fatto. Si è appena compilato slim da sorgenti e lo si è installato nel sistema attraverso pacman, anche la rimozione è gestita da pacman -- 
</p>
<p>(<code>pacman -R slim</code>).
</p>
<p>Il metodo ABS aggiunge un livello di convenienza ed automazione, mantenendo però sempre la completa trasparenza e controllo delle funzioni di compilazione includendole nel PKGBUILD.
</p>
<h4><span class="mw-headline" id="fakeroot">fakeroot</span></h4>
<p>Essenzialmente, si sono eseguiti gli stessi passaggi della compilazione tradizionale (che generalmente includono <code>./configure, make, make install</code> ) ma il software è stato installato in un ambiente <code>fake root</code>. ( Un ambiente di <i>fake root</i> non è altro che una sottodirectory della directory di compilazione che funziona e si comporta come se fosse la directory root del sistema. In cooperazione con il programma <i><b>fakeroot</b></i>, makepkg crea una falsa directory root, e vi installa i binari compilati e i file correlati, con <b>root</b> come proprietario.) Il <i>fake root</i>, o l'abero di sottodirectory contenente il software compilato, viene quindi compresso in un archivio con estensione <code>.pkg.tar.xz</code>, o <i>pacchetto</i>. Quando richiamato, pacman estrae il pacchetto (lo installa) nella directory root reale del sistema (<code>/</code>).
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="/title/Special:Categories" title="Special:Categories">Categories</a>: <ul>
<li><a href="/title/Category:About_Arch_(Italiano)" title="Category:About Arch (Italiano)">About Arch (Italiano)</a></li>
<li><a href="/title/Category:Package_development_(Italiano)" title="Category:Package development (Italiano)">Package development (Italiano)</a></li>
<li><a href="/title/Category:Package_management_(Italiano)" title="Category:Package management (Italiano)">Package management (Italiano)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="/title/Category:Pages_or_sections_flagged_with_Template:Bad_translation" title="Category:Pages or sections flagged with Template:Bad translation">Pages or sections flagged with Template:Bad translation</a></li>
<li><a href="/title/Category:Pages_with_broken_package_links" title="Category:Pages with broken package links">Pages with broken package links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Arch_Build_System_(Italiano)&amp;oldid=669829">https://wiki.archlinux.org/index.php?title=Arch_Build_System_(Italiano)&amp;oldid=669829</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 8 May 2021, at 23:50.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="/title/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/title/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="/title/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
