<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Bootchart (Italiano) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Bootchart_Italiano rootpage-Bootchart_Italiano skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Bootchart (Italiano)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduzione"><span class="tocnumber">1</span> <span class="toctext">Introduzione</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Installare_bootchart"><span class="tocnumber">2</span> <span class="toctext">Installare bootchart</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#Eseguire_Bootchart"><span class="tocnumber">3</span> <span class="toctext">Eseguire Bootchart</span></a>
<ul>
<li class="toclevel-2 tocsection-4">
<a href="#Impostazione_Gestore_di_Avvio"><span class="tocnumber">3.1</span> <span class="toctext">Impostazione Gestore di Avvio</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#Grub"><span class="tocnumber">3.1.1</span> <span class="toctext">Grub</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Grub_2"><span class="tocnumber">3.1.2</span> <span class="toctext">Grub 2</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#Lilo"><span class="tocnumber">3.1.3</span> <span class="toctext">Lilo</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8">
<a href="#impostazione_rc.sysinit"><span class="tocnumber">3.2</span> <span class="toctext">impostazione rc.sysinit</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#Modificare_/etc/rc.sysinit"><span class="tocnumber">3.2.1</span> <span class="toctext">Modificare /etc/rc.sysinit</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#Fermare_bootchartd_dopo_l'accesso"><span class="tocnumber">3.2.2</span> <span class="toctext">Fermare bootchartd dopo l'accesso</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-11">
<a href="#Generare_un_grafico"><span class="tocnumber">4</span> <span class="toctext">Generare un grafico</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#Risoluzione_problemi"><span class="tocnumber">4.1</span> <span class="toctext">Risoluzione problemi</span></a></li>
<li class="toclevel-2 tocsection-13">
<a href="#Esempi_di_bootchart"><span class="tocnumber">4.2</span> <span class="toctext">Esempi di bootchart</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#Avvio_in_5_secondi"><span class="tocnumber">4.2.1</span> <span class="toctext">Avvio in 5 secondi</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#Collegamenti_esterni"><span class="tocnumber">5</span> <span class="toctext">Collegamenti esterni</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Introduzione">Introduzione</span></h1>
<p>Bootchart è un programma utilizzato per l'analisi dei processi d'avvio (ad esempio può essere utile per ottimizzare e velocizzare il boot).
È composto dal demone bootchartd e da bootchart-render; una volta usato genererà una tabella per ogni avvio che fornisce indicazioni su come, quanto e quali processi sono in esecuzione, utilizzo di cpu, memoria e tempi di accesso al disco.
</p>
<h1><span class="mw-headline" id="Installare_bootchart">Installare bootchart</span></h1>
<p><a href="../en/Pacman.html" title="Pacman">Installare</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/bootchart/">bootchart</a></span><sup><small>AUR</small></sup>, pacchetto disponibile nel <a href="../it/Official_repositories.html" title="Official repositories (Italiano)">repository ufficiale</a>.
</p>
<h1><span class="mw-headline" id="Eseguire_Bootchart">Eseguire Bootchart</span></h1>
<p>Per usare bootchart, va impostato come processo init nel gestore di avvio (ad esempio aggiungendo alla riga di avvio di GRUB 'init=/usr/bin/bootchartd')  od avviarlo manualmente da uno degli script di init (preferibilmente <code>rc.sysinit</code>). Nota che se avvii bootchartd manualmente, devi anche fermarlo manualmente. In generale, bisogna essere molto attenti con quest'ultimo metodo.
</p>
<h2><span class="mw-headline" id="Impostazione_Gestore_di_Avvio">Impostazione Gestore di Avvio</span></h2>
<p>In generale si deve fare una copia delle opzioni di avvio che si vogliono usare (in questo modo si avrà sia la voce normale che con bootchart) ed aggiungervi <code>init=/usr/bin/bootchartd</code>. Quando avviato dal gestore di avvio, bootchart si fermerà una volta arrivati al gestore di accesso.
</p>
<h3><span class="mw-headline" id="Grub">Grub</span></h3>
<p>Aprire <code>/boot/grub/menu.lst</code>, e fare copia/incolla della voce di cui si vuole che bootchart generi un log. Aggiungere <code>init=/usr/bin/bootchartd</code> alla riga del kernel. Esempio:
</p>
<pre># (1) Arch Linux Bootchart
title  Arch Linux
root   (hd0,0)
kernel /vmlinuz-linux root=/dev/disk/by-uuid/d531ff5b-de65-499a-9942-d18682375163 ro quiet <b>init=/usr/bin/bootchartd</b>
initrd /initramfs-linux.img
</pre>
<h3><span class="mw-headline" id="Grub_2">Grub 2</span></h3>
<p>Aprire <code>/boot/grub/grub.cfg</code>, fare copia/incolla dell'opzione di avvio che si vuole usare e modificarla perché appaia così:
</p>
<pre># (0) Arch Linux
menuentry "Arch Linux" {
set root=(hd0,1)
linux /boot/vmlinuz-linux root=/dev/sda1 ro quiet
initrd /boot/initramfs-linux.img
}
# (1) Arch Linux with Bootchart
menuentry "Arch Linux with Bootchart" {
set root=(hd0,1)
linux /boot/vmlinuz-linux root=/dev/sda1 ro quiet init=/usr/bin/bootchartd
initrd /boot/initramfs-linux.img
}
</pre>
<p>Ora si può riavviare e scegliere la nuova opzione con bootchart.
</p>
<h3><span class="mw-headline" id="Lilo">Lilo</span></h3>
<p>Da fare
</p>
<h2><span class="mw-headline" id="impostazione_rc.sysinit">impostazione rc.sysinit</span></h2>
<p>Questo è pericoloso (si può rendere arch inavviabile) - usarlo solo se l'altro metodo non funziona. Quando si usa questo metodo non solo si deve fermare bootchartd manualmente dopo l'avvio (o riempirà completamente il disco) ma partirà ogni volta che avvierai il computer. Inoltre ogni cambiamento a <code>/etc/rc.sysinit</code> sarà annullato la prossima volta che verrà aggiornato il pacchetto initscripts.
Una nota positiva è che così bootchart mostra cosa succede dopo l'accesso, ovvero darà un quadro completo del vero avvio di un sistema operativo, includendo il caricamento dell'ambiente di lavoro.
</p>
<h3>
<span id="Modificare_.2Fetc.2Frc.sysinit"></span><span class="mw-headline" id="Modificare_/etc/rc.sysinit">Modificare /etc/rc.sysinit</span>
</h3>
<p>Bisogna modificare <code>/etc/rc.sysinit</code> aggiungendo questa riga:
</p>
<pre>/usr/bin/bootchartd start
</pre>
<p>Non può essere messa molto in alto (ovvero all'inizio), perché pootrebbe rendere il sistema inavviabile, ma allo stesso tempo metterla molto in basso (ovvero alla fine) nello script nasconderà ogni cosa che succede prima dell'avviod di bootchart.
Dovrebbe essere sicuro metterla appena prima della sezione che avvia l'orologio di sistema.
Per farlo cercare questa riga:
</p>
<pre>stat_busy "Configuring System Clock"
</pre>
<p>E mettere
</p>
<pre>/usr/bin/bootchartd start
</pre>
<p>prima di essa.
</p>
<h3>
<span id="Fermare_bootchartd_dopo_l.27accesso"></span><span class="mw-headline" id="Fermare_bootchartd_dopo_l'accesso">Fermare bootchartd dopo l'accesso</span>
</h3>
<p>Come scritto in precedenza, occorre fermare manualmente bootchartd (il demone di bootchart).
Per farlo eseguire da root:
</p>
<pre>/usr/bin/bootchartd stop
</pre>
<p>Oppure da sudo se è stato impostato:
</p>
<pre>sudo /usr/bin/bootchartd stop
</pre>
<h1><span class="mw-headline" id="Generare_un_grafico">Generare un grafico</span></h1>
<p>Per generare un grafico, eseguire:
</p>
<pre>bootchart-render
</pre>
<p>in una cartella per cui si abbiano permessi di scrittura. Questo genererà un'immagine <code>bootchart.png</code> col grafico.
Occorre avere Java runtime installato ed appropiatamente impostato per poter fare il grafico.
</p>
<h2><span class="mw-headline" id="Risoluzione_problemi">Risoluzione problemi</span></h2>
<p>bootchart-render non può generare un'immagine 'bootchart.png' e mostra il seguente messaggio d'errore:
</p>
<pre>/var/log/bootchart.tgz not found
</pre>
<p>Probabilmente significa che bootchartd non è stato in grado di determinare quando il processo d'avvio è finito. Questo può succedere se si stanno usando gestori di accesso diversi da <a href="../en/GDM.html" title="GDM">GDM</a> o <a href="../en/ArchWiki:Archive.html" class="mw-redirect" title="KDM">KDM</a>, come <a href="../en/SLiM.html" title="SLiM">SLiM</a> od altri. Occorre aprire lo script <code>/usr/bin/bootchartd</code> ed aggiungere quelle applicazioni alla variabile <code>exit_proc</code>, ad esempio:
</p>
<pre># The processes we have to wait for
local exit_proc="gdmgreeter gdm-binary kdm_greet kdm slim"
</pre>
<p>Se non si sta usando nessun gestore di accesso, modificare la variabile <code>exit_proc</code> in questo modo:
</p>
<pre># The processes we have to wait for
local exit_proc="login"
</pre>
<h2><span class="mw-headline" id="Esempi_di_bootchart">Esempi di bootchart</span></h2>
<h3><span class="mw-headline" id="Avvio_in_5_secondi">Avvio in 5 secondi</span></h3>
<p><a rel="nofollow" class="external text" href="http://lwn.net/Articles/299483/">Articolo di LWN sull'avvio veloce di netbooks</a>
</p>
<p>Questo articolo è davvero interessante ed insieme ad un mucchio di grafici fornisce qualche consiglio su come avviare più velocemente. Alcuni di quelle migliorie sono aldilà della portata dell'utente comune (mettere patch a X.org, al kernel, ecc...).
</p>
<h1><span class="mw-headline" id="Collegamenti_esterni">Collegamenti esterni</span></h1>
<ul><li><a rel="nofollow" class="external text" href="http://www.bootchart.org/">Bootchart home page</a></li></ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../it/Category:Boot_process.html" title="Category:Boot process (Italiano)">Boot process (Italiano)</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Bootchart_(Italiano)&amp;oldid=570545">https://wiki.archlinux.org/index.php?title=Bootchart_(Italiano)&amp;oldid=570545</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 6 April 2019, at 07:20.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
