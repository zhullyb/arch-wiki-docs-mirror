<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>PKGBUILD (Italiano) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-PKGBUILD_Italiano rootpage-PKGBUILD_Italiano skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">PKGBUILD (Italiano)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/Arch_package_guidelines.html" class="mw-redirect" title="Arch packaging standards">Arch packaging standards</a></li>
<li><a href="../en/Arch_Build_System.html" title="Arch Build System">Arch Build System</a></li>
<li><a href="../en/Creating_packages.html" title="Creating packages">Creating packages</a></li>
<li><a href="../en/Category:Package_development.html" title="Category:Package development">Category:Package development</a></li>
<li><a href="../en/Pacman/Tips_and_tricks.html" class="mw-redirect" title="Pacman tips">Pacman tips</a></li>
<li><a href="../en/Arch_User_Repository.html" title="Arch User Repository">Arch User Repository</a></li>
<li><a href="../en/Makepkg.html" title="Makepkg">makepkg</a></li>
<li><a href="../en/Pacman.html" title="Pacman">pacman</a></li>
</ul>
</div>
<p>Un <code>PKGBUILD</code> è un file di descrizione della costruzione di pacchetti di Arch Linux (è in effetti uno script da shell), usato durante la <a href="../it/Creating_packages.html" title="Creating packages (Italiano)">creazione dei pacchetti</a>. Questo articolo descrive le possibili variabili del <code>PKGBUILD</code>.
</p>
<p>I pacchetti in Arch Linux sono costruiti utilizzando il comando <a href="../en/Makepkg.html" title="Makepkg">makepkg</a> e le informazioni sono memorizzate in un file <code>PKGBUILD</code>. Quando <code>makepkg</code> viene eseguito, cerca un <code>PKGBUILD</code> nella directory corrente e segue le istruzioni ivi contenute sia per compilare che per acquisire i file necessari al confezionamento di un pacchetto (<code>pkgname.pkg.tar.xz</code>). Il pacchetto risultante contiene i file binari e le istruzioni di installazione e può essere facilmente installato tramite <a href="../en/Pacman.html" title="Pacman">pacman</a>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Variabili"><span class="tocnumber">1</span> <span class="toctext">Variabili</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#pkgname"><span class="tocnumber">1.1</span> <span class="toctext">pkgname</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#pkgver"><span class="tocnumber">1.2</span> <span class="toctext">pkgver</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#pkgrel"><span class="tocnumber">1.3</span> <span class="toctext">pkgrel</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#pkgdir"><span class="tocnumber">1.4</span> <span class="toctext">pkgdir</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#epoch"><span class="tocnumber">1.5</span> <span class="toctext">epoch</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#pkgbase"><span class="tocnumber">1.6</span> <span class="toctext">pkgbase</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#pkgdesc"><span class="tocnumber">1.7</span> <span class="toctext">pkgdesc</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#arch"><span class="tocnumber">1.8</span> <span class="toctext">arch</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#url"><span class="tocnumber">1.9</span> <span class="toctext">url</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#license"><span class="tocnumber">1.10</span> <span class="toctext">license</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#groups"><span class="tocnumber">1.11</span> <span class="toctext">groups</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#depends"><span class="tocnumber">1.12</span> <span class="toctext">depends</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#optdepends"><span class="tocnumber">1.13</span> <span class="toctext">optdepends</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#makedepends"><span class="tocnumber">1.14</span> <span class="toctext">makedepends</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#checkdepends"><span class="tocnumber">1.15</span> <span class="toctext">checkdepends</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#provides"><span class="tocnumber">1.16</span> <span class="toctext">provides</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#conflicts"><span class="tocnumber">1.17</span> <span class="toctext">conflicts</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#replaces"><span class="tocnumber">1.18</span> <span class="toctext">replaces</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#backup"><span class="tocnumber">1.19</span> <span class="toctext">backup</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#options"><span class="tocnumber">1.20</span> <span class="toctext">options</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#install"><span class="tocnumber">1.21</span> <span class="toctext">install</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#changelog"><span class="tocnumber">1.22</span> <span class="toctext">changelog</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#source"><span class="tocnumber">1.23</span> <span class="toctext">source</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#noextract"><span class="tocnumber">1.24</span> <span class="toctext">noextract</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#md5sums"><span class="tocnumber">1.25</span> <span class="toctext">md5sums</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#sha1sums"><span class="tocnumber">1.26</span> <span class="toctext">sha1sums</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#sha256sums,_sha384sums,_sha512sums"><span class="tocnumber">1.27</span> <span class="toctext">sha256sums, sha384sums, sha512sums</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-29"><a href="#Consultare_anche"><span class="tocnumber">2</span> <span class="toctext">Consultare anche</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Variabili">Variabili</span></h2>
<p>Le seguenti variabili possono essere utilizzate nel file <code>PKGBUILD</code>:
</p>
<p>È pratica comune inserire nel <code>PKGBUILD</code> le variabili nello stesso ordine nel quale sono indicate in questa pagina, anche se ciò non è obbligatorio finchè viene rispettata la sintassi di Bash.
</p>
<h3><span class="mw-headline" id="pkgname">pkgname</span></h3>
<p>Il nome del pacchetto. Dovrebbe consistere nei soli <b>caratteri alfanumerici e seguenti simboli  @ . _ + -  (chiocciola, punto, trattino basso, segno più, trattino)</b>. Tutte le lettere dovrebbero essere in <b>minuscolo</b> e non è consentito che i nomi inizino con un trattino. Per motivi di coerenza, il <code>pkgname</code> dovrebbe corrispondere al nome dell'archivio dei sorgenti del software che si sta impacchettando. Per esempio, se il software è in <code>foobar-2.5.tar.gz</code>, il valore di <code>pkgname</code> dovrebbe essere <i>foobar</i>. Anche la directory di lavoro in cui risiede il file <code>PKGBUILD</code> dovrebbe corrispondere al  <code>pkgname</code>.
</p>
<h3><span class="mw-headline" id="pkgver">pkgver</span></h3>
<p>La versione del pacchetto. Il valore dovrebbe essere lo stesso della versione rilasciata dell'autore del pacchetto. Può contenere lettere, numeri, punti e trattini bassi, ma <b>NON</b> può contenere trattini. Se l'autore del pacchetto usa i trattini nello schema di numerazione della versione, si deve sostituirli con degli underscore. Per esempio, se la versione è <i>0.99-10</i>, dovrebbe essere cambiata in <i>0.99_10</i>. Se la variabile pkgver viene usata successivamente nel PKGBUILD, allora l'underscore può essere facilmente sostituito con un trattino, per esempio:
</p>
<pre> source=($pkgname-${pkgver/_/-}.tar.gz)
</pre>
<h3><span class="mw-headline" id="pkgrel">pkgrel</span></h3>
<p>Il numero della versione di rilascio del pacchetto specifico di Arch Linux. Questo valore permette agli utenti di distinguere tra build consecutive della stessa versione del pacchetto. Quando una nuova versione del pacchetto viene rilasciata, il <b>numero di rilascio parte da 1</b>. Nel caso in cui si apportino aggiustamenti e ottimizzazioni al file <code>PKGBUILD</code>, allora il pacchetto verrà <b>ri-rilasciato</b> e il <b>numero di rilascio</b> verrà incrementato di 1. Nel caso in cui esca una nuova versione del pacchetto, il numero di rilascio verrà resettato a 1.
</p>
<h3><span class="mw-headline" id="pkgdir">pkgdir</span></h3>
<p>Questa variabile rappresenta la directory di root di ciò che verrà inserito nel pacchetto. È normalmente usata in <code>make DESTDIR="$pkgdir" install</code>.
</p>
<h3><span class="mw-headline" id="epoch">epoch</span></h3>
<p>Un valore intero, specifico di Archlinux, che rappresenta "l'età" tramite la quale effettuare un confronto tra numeri di versione. Questo valore consente di ignorare le normali regole di confronto di versione per pacchetti che hanno una numerazione di versione inconsistente, che richiedono un downgrade, che devono cambiare lo schema di numerazione, etc. Per impostazione predefinita, si assume che i pacchetti abbiano un valore di epoch pari a <i>0</i>. Non utilizzare questa variabile a meno che non si sia assolutamente sicuri di ciò che si sta facendo.
</p>
<h3><span class="mw-headline" id="pkgbase">pkgbase</span></h3>
<p>Una variabile opzionale è disponibile durante la creazione di pacchetti multipli, pkgbase è utilizzata come riferimento al gruppo di pacchetti nell'output di makepkg e nella nomenclatura dei tarball di soli sorgenti. Se non viene specificata, verrà usato al suo posto il primo elemento dell'array pkgname. Tutte le opzioni e le direttive dei pacchetti multipli assumono di default i valori definiti globalmente nel PKGBUILD. Nonostante questo, le seguenti variabili possono essere ridefinite all'interno della funzione di pacchettizzazione di ogni singolo pacchetto creato: pkgver, pkgrel, epoch, pkgdesc, arch, url, license, groups, depends, optdepends, provides, conflicts, replaces, backup, options, install e changelog. Il nome della variabile non può iniziare con un trattino.
</p>
<h3><span class="mw-headline" id="pkgdesc">pkgdesc</span></h3>
<p>La descrizione del pacchetto. La descrizione dovrebbe essere di circa 80 caratteri o meno e non dovrebbe includere il nome del pacchetto stesso.  Per esempio, "Nedit è un editor di testo per X11" si dovrebbe scrivere come "un editor di testo per X11."
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong>  Non seguire questa regola pedissequamente quando si inviano pacchetti ad <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>. Se per qualche motivo il nome del pacchetto differisce dal nome del programma, l'inclusione del nome completo all'interno della descrizione può essere l'unica maniera per renderlo reperibile tramite la ricerca.</div>
<h3><span class="mw-headline" id="arch">arch</span></h3>
<p>Una array di architetture contro le quali il file  <code>PKGBUILD</code> deve essere compilato ed utilizzato. Attualmente, può contenere <code>i686</code> e/o <code>x86_64</code>, <code>arch=('i686' 'x86_64')</code>. E' possibile utilizzare anche il valore <code>any</code> per i pacchetti indipendenti dall'architettura. 
</p>
<p>È possibile accedere a questo valore durante la compilazione e durante la definizione di variabili, con la variabile <code>$CARCH</code>. Consultare <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/16352">FS#16352</a>.
Esempio:
</p>
<pre>depends=(foobar)
if test "$CARCH" == x86_64; then
  depends+=(lib32-glibc)
fi
</pre>
<h3><span class="mw-headline" id="url">url</span></h3>
<p>L'URL del sito ufficiale del software che si sta pacchettizzando.
</p>
<h3><span class="mw-headline" id="license">license</span></h3>
<p>La licenza con la quale il software è distribuito. Il pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=licenses">licenses</a></span> presente in <code>[core]</code> fornisce le licenze più comuni in <code>/usr/share/licenses/common</code>, per esempio <code>/usr/share/licenses/common/GPL</code>. Se un pacchetto è munito di una di queste licenze, il valore dovrebbe essere impostato al nome della directory, per esempio <code>license=('GPL')</code>. Se la licenza appropriata non è inclusa del pacchetto ufficiale <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=licenses">licenses</a></span>, si devono fare alcune cose:
</p>
<ol>
<li>Il file della licenza dovrebbe essere incluso in: <code>/usr/share/licenses/<b>pkgname</b>/</code>, per esempio <code>/usr/share/licenses/foobar/LICENSE</code>.</li>
<li>Se l'archivio dei sorgenti <b>NON</b> contiene i dettagli della licenza ed essa è visualizzata altrove, ad esempio su un sito web, allora si doverbbe copiare la licenza su un file da includere.</li>
<li>Aggiungere <code>custom</code> all'array delle <code>license</code>. Facoltativamente, si può rimpiazzare <code>custom</code> con <code>custom:nome della licenza</code>. Una volta che la licenza è utilizzata in due o più pacchetti dei repository ufficiali (incluso <code>[community]</code>), entrerà a far parte del pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=licenses">licenses</a></span>.</li>
</ol>
<ul>
<li>Le licenze <a href="https://en.wikipedia.org/wiki/BSD_License" class="extiw" title="wikipedia:BSD License">BSD</a>, <a href="https://en.wikipedia.org/wiki/MIT_License" class="extiw" title="wikipedia:MIT License">MIT</a>, <a href="https://en.wikipedia.org/wiki/ZLIB_license" class="extiw" title="wikipedia:ZLIB license">zlib/png</a> e <a href="https://en.wikipedia.org/wiki/Python_License" class="extiw" title="wikipedia:Python License">Python</a> sono casi speciali e potrebbero non essere inclusi nel pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=licenses">licenses</a></span>. Per quanto riguarda l'array <code>license</code>, queste vengono trattate come licenze comuni (<code>license=('BSD')</code>, <code>license=('MIT')</code>, <code>license=('ZLIB')</code> e <code>license=('Python')</code>) ma tecnicamente ognuna è una licenza custom poiché ha il proprio copyright. Ogni pacchetto munito di una di queste quattro licenze dovrebbe avere la propria salvata in <code>/usr/share/licenses/<b>pkgname</b></code>. Alcuni pacchetti potrebbero non essere coperti da una sola licenza. In questi casi, sono possibili più voci nell'array license, ad esempio <code>license=('GPL' 'custom:nome della licenza')</code>.</li>
<li>Inoltre, le (L)GPL hanno diverse versioni e permutazioni di queste versioni. Per il software (L)GPL, la convenzione è:
<ul>
<li>(L)GPL - (L)GPLv2 o qualsiasi versione successiva</li>
<li>(L)GPL2 - (L)GPL2 solamente</li>
<li>(L)GPL3 - (L)GPL3 o qualsiasi versione successiva</li>
</ul>
</li>
<li>Se non si riesce a determinare la licenza del software che si sta pacchettizzando, <code>PKGBUILD.proto</code> consiglia di utilizzare il valore <code>unknown</code>. Bisonga comunque contattare il creatore del software per sapere a quali condizioni il prodotto è disponibile (ed a quali non lo è)</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong>  Alcuni autori non forniscono un file separato per la licenza e descrivono le regole per la distribuzione all'interno del file ReadMe. Queste informazioni possono essere estratte in un file separato durante la fase di <code>build</code> con un comando simile a questo:
<pre>sed -n '/<b>This software</b>/,/<b>  thereof.</b>/p' ReadMe.txt &gt; LICENSE</pre>
</div>
<h3><span class="mw-headline" id="groups">groups</span></h3>
<p>Il gruppo al quale appartiene il pacchetto. Per esempio, quando si installa il pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/kdebase/">kdebase</a></span><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>, si installano tutti i pacchetti che appartengono al gruppo <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/kde/">kde</a></span><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>.
</p>
<h3><span class="mw-headline" id="depends">depends</span></h3>
<p>Un array di nomi dei pacchetti che devono essere installati per poter poi lanciare questo software. Se il software richiede una versione minima di una dipendenza, si dovrebbe usare l'operatore <code>&gt;=</code> per sottolinearlo, ad esempio: <code>depends=('foobar&gt;=1.8.0')</code>. Non è necessario elencare i pacchetti che il software richiede come dipendenza se questi sono già richiesti come tale dagli altri pacchetti elencati nell'array. Per esempio, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gtk2">gtk2</a></span> dipende da <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glib2">glib2</a></span> e <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glibc">glibc</a></span>. Tuttavia, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glibc">glibc</a></span> non necessita di essere elencato come dipendenza per <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gtk2">gtk2</a></span> visto che è dipendenza per <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glib2">glib2</a></span>.
</p>
<h3><span class="mw-headline" id="optdepends">optdepends</span></h3>
<p>Un array di nomi dei pacchetti che non sono necessari al software per funzionare ma che forniscono funzionalità aggiuntive. Si dovrebbe aggiungere una piccola descrizione delle funzionalità che ogni pacchetto fornisce. Un'array <code>optdepends</code> deve assomigliare a questo:
</p>
<pre>optdepends=('cups: supporto per la stampa'
'sane: supporto per gli scanner'
'libgphoto2: supporto per le fotocamere digitali'
'alsa-lib: supporto per l'audio'
'giflib: supporto per le immagini GIF'
'libjpeg: supporto per le immagini JPEG'
'libpng: supporto per le immagini PNG')
</pre>
<h3><span class="mw-headline" id="makedepends">makedepends</span></h3>
<p>Un array di nomi dei pacchetti che devono essere installati per poter compilare il software ma inutili per poter usare il software dopo l'installazione. E' possibile specificare la versione minima di dipendenza del pacchetto nello stesso formato dell'array <code>depends</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong>  Non è necessario specificare pacchetti già presenti nell'array <code>depends</code>
</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attenzione:</strong>  Quando si compila con makepkg, si assume che si abbia già installato nel proprio sistema il gruppo "base-devel" . I membri di "base-devel" <b>non</b> devono essere inclusi nell'array <code>makedepends</code>.</div>
<h3><span class="mw-headline" id="checkdepends">checkdepends</span></h3>
<p>Un array di pacchetti dai quali il pacchetto in oggetto dipende solo per l'esecuzione della sua suite di prova, e non per il suo corretto funzionamento. I pacchetti in questa lista seguono le stesse regole di quelli nell'array depends. Queste dipendenze sono prese in considerazione solo quando è presente la funzione <code>check()</code> che deve essere eseguita da makepkg.
</p>
<h3><span class="mw-headline" id="provides">provides</span></h3>
<p>Un array di nomi dei pacchetti dei quali questo software fornisce le funzionalità (oppure un pacchetto virtuale come <i>cron</i> o <i>sh</i>). Se si usa questa variabile, si dovrebbe aggiungere la versione (<code>pkgver</code> e magari la <code>pkgrel</code>) che questo pacchetto fornisce se le dipendenze possono esserne influenzate. Per esempio, se si vuole fornire una versione modificata di <i>qt</i> chiamata <i>qt-foobar</i> versione 3.3.8 che fornisce <i>qt</i> allora l'array <code>provides</code> dovrebbe essere: <code>provides=('qt=3.3.8')</code>. Mettere <code>provides=('qt')</code> causerà il fallimento di quelle dipendenze che richiedono una specifica versione di <i>qt</i>.  Non aggiungere <code>pkgname</code> all'array provide,  viene fatto in automatico.
</p>
<h3><span class="mw-headline" id="conflicts">conflicts</span></h3>
<p>Un array di nomi dei pacchetti che possono causare problemi con questo pacchetto installato. I pacchetti con questo nome, e tutti quelli che includono questo nome nel loro array <code>provides</code> saranno rimossi. Si possono anche specificare le proprietà delle versioni dei pacchetti che vanno in conflitto nello stesso formato dell'array <code>depends</code>.
</p>
<h3><span class="mw-headline" id="replaces">replaces</span></h3>
<p>Un array di nomi dei pacchetti obsoleti che sono rimpiazzati da questo pacchetto, per esempio: <code>replaces=('wireshark')</code> per il pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wireshark-gtk">wireshark-gtk</a></span><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: replaced by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wireshark-qt">wireshark-qt</a></span>]</sup>. Dopo aver aggiornato il database con <code>pacman -Sy</code>, rimpiazzerà immediatamente un pacchetto installato con un altro pacchetto dei repository, accoppiato relativamente a  <code>replaces</code>. Se si sta fornendo una versione sostitutiva di un pacchetto esistente, si dovrà usare la variabile <code>conflicts</code> la quale è valutata soltanto nel momento in cui si installerà il pacchetto in conflitto.
</p>
<h3><span class="mw-headline" id="backup">backup</span></h3>
<p>Un array di file che potrebbero contenere personalizzazioni effettuate dall'utente e che dovrebbero essere cpnservati anche in caso di aggiornamento o rimozione di un pacchetto, pensato principalmente per il file di configurazione sotto <code>/etc</code>. 
Quando si aggiorna, nuove versioni dei suddetti file potrebbero venire salvate sul disco con l'estensione <code>file.pacnew</code> per evitare di sovrascrivere un file che già esiste ed è stato precedentemente modificato dall'utente. In maniera simile, quando il pacchetto viene rimosso, i file modificati dall'utente saranno mantenuti come <code>file.pacsave</code>, a meno che il pacchetto non sia stato rimosso passando a pacman lo switch <code>-n</code>.
I percorsi dei file nell'array dovrebbero essere percorsi relativi (ad es. <code>etc/pacman.conf</code>)e non assoluti (<code>/etc/pacman.conf</code>). Consultare anche <a href="../it/Pacman_(Italiano)/Pacnew_and_Pacsave.html" class="mw-redirect" title="Pacnew and Pacsave Files (Italiano)">Pacnew and Pacsave Files (Italiano)</a>.
</p>
<h3><span class="mw-headline" id="options">options</span></h3>
<p>Questo array permette di sovrascrivere alcuni dei comportamenti di default di <code>makepkg</code>. Per impostare un'opzione, si deve includere il nome dell'opzione nell'array. Per invertire il comportamento di default, si deve mettere un <code>!</code> davanti l'opzione. Questo è un elenco delle opzioni che si possono mettere nell'array:
</p>
<ul>
<li>
<i><b>strip</b></i> - Toglie i simboli dai binari e dalle librerie. Se si utilizzano spesso debugger su programmi e librerie, è più conveniente disabilitare questa opzione.</li>
<li>
<i><b>docs</b></i> - Salva le directory <code>/doc</code>.</li>
<li>
<i><b>libtool</b></i> - Lascia i file di <i>libtool</i> (<code>.la</code>) nel pacchetto.</li>
<li>
<i><b>staticlibs</b></i> - Lascia i file di librerie statiche (.a) nei pacchetti.</li>
<li>
<i><b>emptydirs</b></i> - Lascia le directory vuote nel pacchetto.</li>
<li>
<i><b>zipman</b></i> - Comprime le pagine di <i>man</i> e <i>info</i> con <i>gzip</i>.</li>
<li>
<i><b>purge</b></i> - Rimuove dai pacchetti i file specificati nella variabile <code>PURGE_TARGETS</code>
</li>
<li>
<i><b>upx</b></i> - Comprime i file eseguibili binari utilizzando UPX. Opzioni addizionali possono essere passate ad UPX tramite la variabile <code>UPXFLAGS</code>
</li>
<li>
<i><b>ccache</b></i> - Permette l'uso di <code>ccache</code> durante la compilazione. Utile principalmente nella sua forma negata <code>!ccache</code> con i pacchetti che hanno problemi nella compilazione con <code>ccache</code>.</li>
<li>
<i><b>distcc</b></i> - Permette l'uso di <code>distcc</code> durante la compilazione. Utile principalmente nella sua forma negata <code>!distcc</code> con i pacchetti che hanno problemi nella compilazione con <code>distcc</code>.</li>
<li>
<i><b>buildflags</b></i> - Consente l'utilizzo di <code>buildflags</code> specifiche per l'utente (CFLAGS, CXXFLAGS, LDFLAGS) durante la compilazione. Utile principalmente nella sua forma negata <code>!buildflags</code> con i pacchetti che hanno problemi nella compilazione con <code>buildflags</code>.</li>
<li>
<i><b>makeflags</b></i> - Permette l'uso di <code>makeflags</code> specifiche per l'utente durante la compilazione. Utile principalmente nella sua forma negata <code>!makeflags</code> con i pacchetti che hanno problemi nella compilazione con <code>makeflags</code> personalizzate.</li>
</ul>
<h3><span class="mw-headline" id="install">install</span></h3>
<p>Il nome dello script di <code>.install</code> che deve essere incluso nel pacchetto. <i>Pacman</i> ha l'abilità di memorizzare ed eseguire uno script specifico per pacchetto quando installa, rimuove o aggiorna un pacchetto. Lo script contiene le seguenti istruzioni che vengono eseguite in tempi diversi:
</p>
<ul>
<li>
<i><b>pre_install</b></i> - Lo script è lanciato appena prima dell'estrazione dei file. La nuova versione del pacchetto viene passata come argomento alla funzione.</li>
<li>
<i><b>post_install</b></i> - Lo script è lanciato appena dopo l'estrazione dei file. La nuova versione del pacchetto viene passata come argomento alla funzione.</li>
<li>
<i><b>pre_upgrade</b></i> - Lo script è lanciato appena prima dell'estrazione dei file. La nuova e la vecchia versione del pacchetto vengono passate come argomento alla funzione.</li>
<li>
<i><b>post_upgrade</b></i> - Lo script è lanciato appena dopo dell'estrazione dei file. La nuova e la vecchia versione del pacchetto vengono passate come argomento alla funzione.</li>
<li>
<i><b>pre_remove</b></i> - Lo script è lanciato appena che i file vengano rimossi. La vecchia versione del pacchetto viene passata come argomento alla funzione.</li>
<li>
<i><b>post_remove</b></i> - Lo script è lanciato dopo che i file vengano rimossi. La vecchia versione del pacchetto viene passata come argomento alla funzione.</li>
</ul>
<p>Ogni funzione è eseguita in ambiente chroot all'interno della directory di installazione di pacman. Consultare <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=913891">questo thread</a>.
</p>
<p><br>
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Un prototipo <code>.install</code> è disponibile al <code>/usr/share/pacman/proto.install</code>.</div>
<h3><span class="mw-headline" id="changelog">changelog</span></h3>
<p>Il nome del changelog del pacchetto. Per vedere i changelog dei pacchetti installati (che lo forniscono):
</p>
<pre>pacman -Qc <i>pkgname</i></pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong>  Un prototipo di file changelog è installato in <code>/usr/share/pacman/ChangeLog.proto</code>.</div>
<h3><span class="mw-headline" id="source">source</span></h3>
<p>un array di file che sono necessari per compilare il pacchetto. Deve contenere la locazione dei sorgenti del software, che in quasi tutte le occasioni è un completo URL HTTP o FTP. Le variabili precendentemente impostatate <code>pkgname</code> e <code>pkgver</code> possono essere usate efficacemente qui (per esempio <code>source=(http://example.com/$pkgname-$pkgver.tar.gz)</code>)
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Se si ha il bisogno di fornire file che non sono scaricabili al volo, per esempio patch fatte in proprio, è possibile mettere questi file nella stessa directory del proprio <code>PKGBUILD</code> e aggiungere il nome del file a questo array. Qualsiasi percorso viene aggiunto qui è risolto relativamente alla directory in cui giace il <code>PKGBUILD</code>. Prima che il processo di compilazione parta, tutti i file che sono riferiti in questo array, verranno scaricati o controllati in sussistenza, e <code>makepkg</code> non procederà oltre se qualcuno manca.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> È possibile specificare un nome diverso per il file scaricato, nel caso tale file abbia per qualche motivo un nome diverso, come il parametro GET assegnato all'url, con la seguente sintassi: <code><i>filename</i>::<i>fileuri</i></code>, ad esempio <code>$pkgname-$pkgver.zip::http://199.91.152.193/7pd0l2tpkidg/jg2e1cynwii/Warez_collection_16.4.exe</code>
</div>
<h3><span class="mw-headline" id="noextract">noextract</span></h3>
<p>Un array di file elencati nell'array <code>source</code> che non dovrebbero essere estratti dal loro archivio da <code>makepkg</code>. Per lo più si applica a certi archivi che non possono essere gestiti da <code>/usr/bin/bsdtar</code> visto che <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libarchive">libarchive</a></span> processa tutti i file come flussi piuttosto che ad accesso casuale come fa <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=unzip">unzip</a></span>. In queste situazioni si dovrebbero aggiungere gli strumenti di decompressione alternativi (ad esempio <code>unzip</code>, <code>p7zip</code>, etc.) all'array <code>makedepends</code> e le prime linee della funzione  <a href="../it/Creating_packages.html#La_funzione_prepare()" title="Creating packages (Italiano)">prepare()</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>  dovrebbero estrarre l'archivio di sorgenti manualmente; ad esempio:
</p>
 <pre>unzip [source].zip
</pre>
<p>Bisogna tenere presente che mentre l'array <code>source</code> accetta degli URL, <code>noextract</code> richiede <b>solo</b> la porzione col nome del file. Se per esempio si vuole fare qualcosa del genere (semplificazione del <a rel="nofollow" class="external text" href="https://github.com/archlinux/svntogit-packages/blob/packages/grub/trunk/PKGBUILD">grub2's PKGBUILD</a>):PKGBUILD di grub2]):
</p>
<pre>source=("http://ftp.archlinux.org/other/grub2/grub2_extras_lua_r20.tar.xz")
noextract=("grub2_extras_lua_r20.tar.xz")
</pre>
<p>Per <i>non estrarre nulla</i>, si può utilizzare un espediente come questo ( preso dal <a rel="nofollow" class="external text" href="https://github.com/archlinux/svntogit-packages/blob/packages/firefox-i18n/trunk/PKGBUILD#L123">PKGBUILD di firefox-i18n</a>):
</p>
<pre>noextract=(${source[@]%%::*})
</pre>
<p>Da notare che una sostituzione di variabile più conservativa della sintassi Bash avrebbe incluso anche delle virgolette, o addirittura un ciclo che richiamasse <code>basename</code>.
</p>
<h3><span class="mw-headline" id="md5sums">md5sums</span></h3>
<p>Un array di checksum MD5 dei file elencati nell'array <code>source</code>. Una volta che tutti i file presenti nell'array <code>source</code> saranno disponibili, per ogni file verrà generato automaticamente un hash MD5 e confrontato con il valore di questo array nello stesso ordine in cui appare nell'array <code>source</code>. Mentre l'ordine dell'array source non è rilevante, è importante che questo combaci con l'ordine di questo array dato che <code>makepkg</code> non può indovinare a quale file sorgente appartenga la checksum. E' possibile generare questo array rapidamente e facilmente usando il comando <code>updpkgsums</code> o <code>makepkg -g</code> nella directory che contiene il file <code>PKGBUILD</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong>  L'algoritmo MD5 è noto per avere falle, quindi si dovrebbero considerare alternative più sicure.</div>
<h3><span class="mw-headline" id="sha1sums">sha1sums</span></h3>
<p>Un array di checksum SHA-1 a 160-bit. Questa è un'alternativa alle md5sums descritte in precedenza, ma anch'esse sono note per avere delle debolezze, quindi si dovrebbero considerare alternative più sicure. Per abilitare l'uso e la generazione di queste checksums, assicurarsi di impostare l'opzione <code>INTEGRITY_CHECK</code> in <code>makepkg.conf</code>. Consultare man <code>makepkg.conf</code>.
</p>
<h3>
<span id="sha256sums.2C_sha384sums.2C_sha512sums"></span><span class="mw-headline" id="sha256sums,_sha384sums,_sha512sums">sha256sums, sha384sums, sha512sums</span>
</h3>
<p>Un array di checksum SHA-2 con dimensione del digest di 256, 384 e 512 bit rispettivamente. Queste sono delle alternative alle md5sums descritte in precedenza e sono generalmente considerate più sicure. Per abilitare l'uso e la generazione di queste checksums, assicurarsi di impostare l'opzione INTEGRITY_CHECK in makepkg.conf. Vedere man makepkg.conf.
</p>
<h2><span class="mw-headline" id="Consultare_anche">Consultare anche</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="http://ix.io/66p">Example PKGBUILD file</a></li>
<li><a rel="nofollow" class="external text" href="http://ix.io/66o">Example .install file</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../it/Category:Package_development.html" title="Category:Package development (Italiano)">Package development (Italiano)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=PKGBUILD_(Italiano)&amp;oldid=626518">https://wiki.archlinux.org/index.php?title=PKGBUILD_(Italiano)&amp;oldid=626518</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 23 July 2020, at 21:23.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
