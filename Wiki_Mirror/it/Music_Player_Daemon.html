<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Music Player Daemon (Italiano) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Music_Player_Daemon_Italiano rootpage-Music_Player_Daemon_Italiano skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Music Player Daemon (Italiano)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="/title/File:Tango-preferences-desktop-locale-modified.png" class="image"><img alt="Tango-preferences-desktop-locale-modified.png" src="../File:Tango-preferences-desktop-locale-modified.png" decoding="async" width="48" height="48"></a><b>The <a href="/title/ArchWiki:Contributing#Translating" title="ArchWiki:Contributing">translation</a> of this article or section does not reflect the original text.</b><a href="/title/File:Tango-preferences-desktop-locale-modified.png" class="image"><img alt="Tango-preferences-desktop-locale-modified.png" src="../File:Tango-preferences-desktop-locale-modified.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Not updated since 2014 (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:Music_Player_Daemon_(Italiano)">Talk:Music Player Daemon (Italiano)#</a>)</div>
</div>
<p><b>MPD</b> (music player daemon) è un player audio con struttura client-server. MPD lavora in background come demone, gestisce le playlist e il database della musica e utilizza pochissime risorse. Per interfacciarsi con il demone è necessario un client. Maggiori informazioni possono essere reperite <a rel="nofollow" class="external text" href="https://www.musicpd.org/">sul sito di MPD</a>.
</p>
<p><i>Attenzione</i> leggere anche la pagina ufficiale per l'installazione e la risoluzione dei problemi, lo sviluppatore principale ha indicato la nostra pagina wiki al suo stato attuale come piena di problemi (<i>"full of symptom killers"</i>), per cui la pagina ufficiale dovrebbe contenere informazioni più complete.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installare_il_demone"><span class="tocnumber">1</span> <span class="toctext">Installare il demone</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Configurazione"><span class="tocnumber">2</span> <span class="toctext">Configurazione</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Comportamento_di_MPD_in_una_configurazione_tipica"><span class="tocnumber">2.1</span> <span class="toctext">Comportamento di MPD in una configurazione tipica</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#File_di_configurazione_minimo"><span class="tocnumber">2.2</span> <span class="toctext">File di configurazione minimo</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Configurare_correttamente_il_suono"><span class="tocnumber">2.3</span> <span class="toctext">Configurare correttamente il suono</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Mixing_software"><span class="tocnumber">2.4</span> <span class="toctext">Mixing software</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Modifica_di_mpd.conf"><span class="tocnumber">2.5</span> <span class="toctext">Modifica di mpd.conf</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8">
<a href="#Configurazione_alternativa"><span class="tocnumber">3</span> <span class="toctext">Configurazione alternativa</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Configurazione_veloce"><span class="tocnumber">3.1</span> <span class="toctext">Configurazione veloce</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Configurazione_multi-demone"><span class="tocnumber">3.2</span> <span class="toctext">Configurazione multi-demone</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11"><a href="#Installazione_del_client"><span class="tocnumber">4</span> <span class="toctext">Installazione del client</span></a></li>
<li class="toclevel-1 tocsection-12">
<a href="#Funzionalit%C3%A0_Extra"><span class="tocnumber">5</span> <span class="toctext">Funzionalità Extra</span></a>
<ul>
<li class="toclevel-2 tocsection-13">
<a href="#Scrobbling_su_Last.fm"><span class="tocnumber">5.1</span> <span class="toctext">Scrobbling su Last.fm</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#mpdscribble"><span class="tocnumber">5.1.1</span> <span class="toctext">mpdscribble</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#Sonata_&amp;_Ario"><span class="tocnumber">5.1.2</span> <span class="toctext">Sonata &amp; Ario</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#lastfmsubmitd"><span class="tocnumber">5.1.3</span> <span class="toctext">lastfmsubmitd</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-17"><a href="#Riproduzione_da_Last.fm_con_lastfmproxy"><span class="tocnumber">5.2</span> <span class="toctext">Riproduzione da Last.fm con lastfmproxy</span></a></li>
<li class="toclevel-2 tocsection-18">
<a href="#Non_riprodurre_all'avvio"><span class="tocnumber">5.3</span> <span class="toctext">Non riprodurre all'avvio</span></a>
<ul>
<li class="toclevel-3 tocsection-19"><a href="#Metodo_1"><span class="tocnumber">5.3.1</span> <span class="toctext">Metodo 1</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="#Metodo_2"><span class="tocnumber">5.3.2</span> <span class="toctext">Metodo 2</span></a></li>
<li class="toclevel-3 tocsection-21"><a href="#Metodo_3"><span class="tocnumber">5.3.3</span> <span class="toctext">Metodo 3</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-22">
<a href="#MPD_&amp;_ALSA"><span class="tocnumber">5.4</span> <span class="toctext">MPD &amp; ALSA</span></a>
<ul>
<li class="toclevel-3 tocsection-23"><a href="#Elevato_utilizzo_della_CPU_con_ALSA"><span class="tocnumber">5.4.1</span> <span class="toctext">Elevato utilizzo della CPU con ALSA</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-24"><a href="#Controllare_MPD_con_lirc"><span class="tocnumber">5.5</span> <span class="toctext">Controllare MPD con lirc</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Controllare_MPD_tramite_cellulare_bluetooth"><span class="tocnumber">5.6</span> <span class="toctext">Controllare MPD tramite cellulare bluetooth</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#MPD_&amp;_PulseAudio"><span class="tocnumber">5.7</span> <span class="toctext">MPD &amp; PulseAudio</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-27">
<a href="#Risoluzione_dei_problemi"><span class="tocnumber">6</span> <span class="toctext">Risoluzione dei problemi</span></a>
<ul>
<li class="toclevel-2 tocsection-28"><a href="#Autorilevamento_fallito"><span class="tocnumber">6.1</span> <span class="toctext">Autorilevamento fallito</span></a></li>
<li class="toclevel-2 tocsection-29">
<a href="#Permessi_di_esecuzione"><span class="tocnumber">6.2</span> <span class="toctext">Permessi di esecuzione</span></a>
<ul>
<li class="toclevel-3 tocsection-30"><a href="#Soluzione_alternativa"><span class="tocnumber">6.2.1</span> <span class="toctext">Soluzione alternativa</span></a></li>
<li class="toclevel-3 tocsection-31"><a href="#Altra_soluzione_alternativa"><span class="tocnumber">6.2.2</span> <span class="toctext">Altra soluzione alternativa</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-32"><a href="#Evitare_i_timeout"><span class="tocnumber">6.3</span> <span class="toctext">Evitare i timeout</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#Impostare_le_codifiche"><span class="tocnumber">6.4</span> <span class="toctext">Impostare le codifiche</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#Controllare_MPD_in_rete"><span class="tocnumber">6.5</span> <span class="toctext">Controllare MPD in rete</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#Streaming"><span class="tocnumber">6.6</span> <span class="toctext">Streaming</span></a></li>
<li class="toclevel-2 tocsection-36">
<a href="#mpd_--create-db_si_blocca"><span class="tocnumber">6.7</span> <span class="toctext">mpd --create-db si blocca</span></a>
<ul>
<li class="toclevel-3 tocsection-37"><a href="#Easy_Tag"><span class="tocnumber">6.7.1</span> <span class="toctext">Easy Tag</span></a></li>
<li class="toclevel-3 tocsection-38"><a href="#KID3"><span class="tocnumber">6.7.2</span> <span class="toctext">KID3</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-39"><a href="#Cannot_connect_to_mpd:_host_%22localhost%22_not_found:_Temporary_failure_in_name_resolution"><span class="tocnumber">6.8</span> <span class="toctext">Cannot connect to mpd: host "localhost" not found: Temporary failure in name resolution</span></a></li>
<li class="toclevel-2 tocsection-40"><a href="#Port_6600_already_in_use"><span class="tocnumber">6.9</span> <span class="toctext">Port 6600 already in use</span></a></li>
<li class="toclevel-2 tocsection-41"><a href="#Crepitii_con_alcuni_file_audio"><span class="tocnumber">6.10</span> <span class="toctext">Crepitii con alcuni file audio</span></a></li>
<li class="toclevel-2 tocsection-42"><a href="#daemon:_cannot_setgid_for_user_%22mpd%22:_Operation_not_permitted"><span class="tocnumber">6.11</span> <span class="toctext">daemon: cannot setgid for user "mpd": Operation not permitted</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-43"><a href="#Riferimenti_esterni"><span class="tocnumber">7</span> <span class="toctext">Riferimenti esterni</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installare_il_demone">Installare il demone</span></h2>
<p>Il demone è disponibile nel repository "extra", è quindi possibile installarlo con <a href="/title/Pacman_(Italiano)" title="Pacman (Italiano)">pacman</a>:
</p>
<pre># pacman -S mpd
</pre>
<h2><span class="mw-headline" id="Configurazione">Configurazione</span></h2>
<p>Per maggiori informazioni sulla configurazione di MPD visitare <a rel="nofollow" class="external free" href="https://mpd.wikia.com/wiki/Configuration">https://mpd.wikia.com/wiki/Configuration</a>.
</p>
<h3><span class="mw-headline" id="Comportamento_di_MPD_in_una_configurazione_tipica">Comportamento di MPD in una configurazione tipica</span></h3>
<ol>
<li>MPD viene avviato al boot da <code>/etc/rc.conf</code>, includendolo nell'array <code>DAEMONS</code>. (In alternativa può essere avviato manualmente lanciando  <code>/etc/rc.d/mpd start</code> con privilegi di root).</li>
<li>Essendo stato lanciato come root, MPD per prima cosa legge il file <code>/etc/mpd.conf</code>.</li>
<li>MPD individua l'utente di esecuzione dal file <code>/etc/mpd.conf</code>, e cambia la proprietà del processo da root a questo utente.</li>
<li>Una volta cambiata la proprietà, MPD analizza i contenuti di <code>/etc/mpd.conf</code> si configura di conseguenza.</li>
</ol>
<p>Si noti che MPD cambia l'utente attivo da root a quello menzionato in <code>/etc/mpd.conf</code>. In questo modo, l'uso di <code>~</code> nel file di configurazione punta correttamente alla directory home dell'utente, e non a quella di root. Potrebbe valer la pena di sostituire tutte le occorrenze di <code>~</code> con <code>/home/username</code> per evitare ogni confusione con questo particolare comportamento di MPD.
</p>
<h3><span class="mw-headline" id="File_di_configurazione_minimo">File di configurazione minimo</span></h3>
<ul><li>Come root, verificare se il file <code>/etc/mpd.conf</code> esiste e, nel caso, eliminarlo. Questo è sicuro e consigliato.</li></ul>
<p>MPD crea un file di configurazione di esempio, situato in <code>/usr/share/doc/mpd/mpd.conf.example</code>. Questo file contiene moltissime informazioni sulla configurazione di MPD, oltre ad alcuni valori del mixer di default che possono semplicemente essere commentati.
</p>
<ul><li>Come root, copiare questo file di esempio in <code>/etc/mpd.conf</code>.</li></ul>
<pre># cp /usr/share/mpd/mpd.conf.example /etc/mpd.conf
</pre>
<p>(<code>/usr/share/doc/mpd/mpd.conf.example</code> è un ottimo punto di partenza per una orientata al singolo utente)
</p>
<p>Mai mettere questo file nella home dell'utente come suggerito in altri tutorial. Questo complicherrebe le cose e molte volte è anche inutile (notare come si stia leggendo una guida per l'installazione veloce). Se è stato precedentemente creato un file <code>.mpdconf</code> nella propria home, cancellarlo adesso. Questo è importante per evitare conflitti di configurazione. Copiandolo in <code>/etc</code>, come fatto in questa guida, MPD sarà in grado di operare come demone all'avvio. Altrimenti sarebbe necessario uno script per lanciare MPD <i>dopo</i> il login dell'utente (ad esempio in kdm o <code>~/.fluxbox/startup</code>) oppure un avviamento manuale. Per una singola collezione musicale, il metodo qui descritto è semplicemente migliore, anche se la collezione è condivisa con più utenti. Inoltre, non bisogna preoccuparsi dei privilegi di root: anche quando MPD opera come demone, non opererà mai completamente come root in quanto automaticamente scarica i suoi privilegi di root dopo l'esecuzione.
</p>
<h3><span class="mw-headline" id="Configurare_correttamente_il_suono">Configurare correttamente il suono</span></h3>
<p>Per far funzionare l'audio assicurarsi di aver correttamente configurato la scheda audio e il mixer. Visitare <a href="/title/ALSA_(Italiano)" class="mw-redirect" title="ALSA (Italiano)">ALSA (Italiano)</a>. Non dimenticarsi di rimuovere il muto dai canali necessari in alsamixer, alzare il volume e salvare i cambiamenti con alsactl store. Visitare <code>~/.mpd/error</code> se ancora l'audio non funziona.
</p>
<p>Assicurarsi che la propria scheda audio possa effettuare il mixing hardware (molte di esse possono, incluse quelle integrate). In caso contrario questo potrebbe causare problemi con le riproduzioni multiple. Per esempio, impedirebbe ad Mplayer di riprodurre il suono mentre il demone MPD è attivo, restituendo un messaggio di errore audio comunicante che il dispositivo è occupato.
</p>
<h3><span class="mw-headline" id="Mixing_software">Mixing software</span></h3>
<p>Per cambiare il volume dell'audio di MPD indipendentemente da altri programmi, decommentare o aggiungere in mpd.conf:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/mpd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">mixer_type			"software"
</pre>
<h3><span class="mw-headline" id="Modifica_di_mpd.conf">Modifica di <code>mpd.conf</code></span></h3>
<p><b>Si mantiene la configurazione in /var e si utilizza "mpd" come utente predefinito invece di ingombrare ~/. Il pacchetto Arch è configurato in questo modo.</b>
</p>
<p>Modificare <code>/etc/mpd.conf</code> nel seguente modo.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/mpd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">music_directory       "/home/user/music"         # La directory della collezione musicale.
playlist_directory    "/var/lib/mpd/playlists"
db_file               "/var/lib/mpd/mpd.db"
log_file              "/var/log/mpd/mpd.log"
pid_file              "/var/run/mpd/mpd.pid"
state_file            "/var/lib/mpd/mpdstate"
user                  "mpd"
# bind_to_address e port causavano problemi in MPD-0.14.2
# meglio lasciare commentato
# bind_to_address       "127.0.0.1"
# port                  "6600"
</pre>
<p>Leggere i passaggi seguenti con attenzione, i permessi devono essere impostati correttamente.
</p>
<ul>
<li>Come utente creare i file specificati in <code>/etc/mpd.conf</code>, se le directory non esistono, crearle. Ciò non è richiesto se si usa la configurazione predefinita del pacchetto Arch.</li>
<li>Se la collezione musicale è contenuta in diverse directory, è possibile creare dei link simbolici in <code>/var/lib/mpd</code> e impostare 'music_dir' in <code>mpd.conf</code> alla directory contenente i link. Ricordare di impostare i permessi in accordo sulle directory linkate.</li>
<li>La creazione del database musicale si ottiene con la funzione "update" del client, ad esempio se si utilizza ncmpcpp è sufficiente premere 'u'.
<ul><li>La funzione di creazione del database MPD da root (# mpd --create-db), è deprecata.</li></ul>
</li>
</ul>
<h2><span class="mw-headline" id="Configurazione_alternativa">Configurazione alternativa</span></h2>
<p>MPD non ha bisogno di avviarsi con i permessi di root. L'unica ragione per cui MPD ha bisogno di essere avviato da root (venendo chiamato da <code>/etc/rc.conf</code>) è perché i file e le cartelle contenute nella configurazione di default puntano a directory di proprietà dell'utente root (la directory <code>/var</code>).Un approccio meno comune, ma forse più raffinato, è far lavorare MPD con file e directory di proprietà dell'utente normale. Avviare MPD come utente normale ha diversi vantaggi:
</p>
<ol>
<li>Si può facilmente avere una singola directory <code>~/.mpd</code> (o una qualsiasi altra directory sotto <code>/home/username</code>) per tutti i file di configurazione di MPD</li>
<li>Nessun errore causato da permessi di lettura/scrittura</li>
<li>Chiamate ad MPD più flessibili usando <code>~/.xinitrc</code> invece di includere 'mpd' nell'array DAEMONS di <code>/etc/rc.conf</code>.</li>
</ol>
<p>I seguenti passaggi illustrano come avviare MPD come utente normale. <b>Attenzione</b>: questo metodo non funzionerà se si desidera che più utenti possano accedere ad MPD.
</p>
<ul>
<li>Copiare i contenuti della configurazione di default di MPD da <code>/etc/mpd.conf.example</code> alla propria home. Una buona posizione potrebbe essere <code>"/home/user/.mpd/mpd.conf"</code>.</li>
<li>Seguire le istruzioni di configurazione più sopra, ignorando la prima parte riguardante la copia della configurazione in <code>/etc/mpd.conf</code>.</li>
<li>Creare tutti i file necessari in <code>"/home/user/.mpd/"</code>:</li>
</ul>
<pre>"~/.mpd/playlists"
"~/.mpd/db"
"~/.mpd/mpd.log"
"~/.mpd/mpd.error"
"~/.mpd/mpd.pid"
"~/.mpd/mpdstate"
</pre>
<ul><li>Avviare MPD al boot chiamandolo dal proprio <code>~/.xinitrc</code> come segue:</li></ul>
<pre># questo avvia MPD come utente normale
mpd /home/username/.mpd/mpd.conf
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong>  non c'è la necessita di inserire un "&amp;" alla fine della riga precedente, in quanto MPD automaticamente si avvia come demone.</div>
<p>Infine, cancellare la voce 'mpd' dall'array DAEMONS in <code>/etc/rc.conf</code>, visto che non viene più avviato come root.
</p>
<h3><span class="mw-headline" id="Configurazione_veloce">Configurazione veloce</span></h3>
<p>Il metodo più rapido per creare la struttura necessaria è eseguire il seguente comando:
</p>
<pre>$ mkdir -p ~/.mpd/playlists &amp;&amp; touch ~/.mpd/database &amp;&amp; cp /usr/share/doc/mpd/mpdconf.example ~/.mpd/mpd.conf
</pre>
<p>E successivamente modificare <code>mpd.conf</code> con i propri collegamenti. Attenzione che è necessario decommentare la voce db_file se è stato modificato <code>mpd.conf</code>.
</p>
<p>Infine, avviare MPD:
</p>
<pre>$ mpd ~/.mpd/mpd.conf
</pre>
<h3><span class="mw-headline" id="Configurazione_multi-demone">Configurazione multi-demone</span></h3>
<p><b>Utile se si desidera avviare, ad esempio, un server icecast.</b>
Se si vuole un secondo demone MPD (ad esempio, con un output icecast per condividere la musica nella rete) che utilizzi la stessa musica e la stessa playlist di quello configurato come sopra, semplicemente copiare il file di configurazione qui sopra creato in un nuovo file (ad esempio, <code>/home/username/.mpd/config-icecast</code>), e modificare solo le voci log_file, error_file, pid_file, e state_file (ad esempio, <code>mpd-icecast.log</code>, <code>mpd-icecast.error</code>, e via di seguito); usare le stesse directory per la musica e le playlist assicura che questo secondo demone MPD utilizzerà la stessa collezione musicale del primo demone (quindi, creare e modificare una playlist dal primo demone influenzerà anche il secondo demone, così non sarà necessario creare la stessa playlist anche per il secondo demone). A questo punto, chiamare il secondo demone allo stesso modo del primo dal proprio <code>~/.xinitrc</code>. (Solo assicurarsi di utilizzare una porta differente, in modo da non causare conflitti con il primo demone).
</p>
<h2><span class="mw-headline" id="Installazione_del_client">Installazione del client</span></h2>
<p>Installare un programma client per MPD. Alcuni client comuni sono:
</p>
<ul><li>
<b>mpc</b> – Client da linea di comando (la sua installazione è consigliata in ogni caso)</li></ul>
<pre># pacman -S mpc
</pre>
<ul><li>
<b>ncmpc</b> – Client NCurses Client (estremamente utile da console) <a rel="nofollow" class="external text" href="http://hem.bredband.net/kaw/ncmpc/">Sito ufficiale di ncmpc</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-08-04]</sup>
</li></ul>
<pre># pacman -S ncmpc
</pre>
<ul><li>
<b>ncmpcpp</b> – Clone di ncmpc con funzioni aggiuntive scritto in C++ <a rel="nofollow" class="external text" href="http://unkart.ovh.org/ncmpcpp/">Sito ufficiale di ncmpcpp</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-08-04]</sup>
</li></ul>
<pre># pacman -S ncmpcpp
</pre>
<ul><li>
<b>pms</b> – Client NCurses altamente configurabile e di facile utilizzo <a rel="nofollow" class="external text" href="http://pms.sourceforge.net/">Sito ufficiale di pms</a>
</li></ul>
<pre>Installare <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pmus/">pmus</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/Help:Procedures#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup> da <a href="/title/AUR_(Italiano)" class="mw-redirect" title="AUR (Italiano)">AUR</a>.
</pre>
<ul><li>
<b>ario</b> – Client GTK+ con browser della libreria simile a Rhythmbox <a rel="nofollow" class="external text" href="http://ario-player.sourceforge.net">Sito ufficiale di Ario</a>
</li></ul>
<pre># pacman -S ario
</pre>
<ul><li>
<b>sonata</b> – Client GTK+ scritto in Python <a rel="nofollow" class="external text" href="http://sonata.berlios.de/">Sito ufficiale di Sonata</a>
</li></ul>
<pre># pacman -S sonata
</pre>
<ul><li>
<b>gmpc</b> – Client GNOME <a rel="nofollow" class="external text" href="http://gmpcwiki.sarine.nl/index.php?title=GMPC">Sito ufficiale di gmpc</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-08-04]</sup>
</li></ul>
<pre># pacman -S gmpc
</pre>
<ul><li>
<b>QMPDClient</b> – Client scritto in Qt 4.x. <a rel="nofollow" class="external text" href="http://bitcheese.net/wiki/QMPDClient">Sito ufficiale di QMPDClient</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-08-04]</sup>
</li></ul>
<pre># pacman -S qmpdclient
</pre>
<h2>
<span id="Funzionalit.C3.A0_Extra"></span><span class="mw-headline" id="Funzionalità_Extra">Funzionalità Extra</span>
</h2>
<h3><span class="mw-headline" id="Scrobbling_su_Last.fm">Scrobbling su Last.fm</span></h3>
<p>Per eseguire lo scrobbling delle tracce su <a rel="nofollow" class="external text" href="https://www.last.fm">Last.fm</a> utilizzando MPD ci sono svariate alternative.
</p>
<h4><span class="mw-headline" id="mpdscribble">mpdscribble</span></h4>
<p>mpdscribble è un'altro demone, ma è solo disponibile in <a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?ID=22274">AUR</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-08-04]</sup>. Questa è probabilmente la migliore delle alternative, in quanto è lo scrobbler semi-ufficiale di MPD e utilizza la nuova funzione "idle" di MPD per uno scrobbling più accurato. Inoltre, non c'è bisogno dell'accesso root per configurarlo, perché non richiede nessuna modifica a <code>/etc</code>. Visitare <a rel="nofollow" class="external text" href="http://mpd.wikia.com/wiki/Client:Mpdscribble">il sito ufficiale</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-08-04]</sup> per maggiori informazioni.
</p>
<p>Per ottenere mpdscribble, è sufficente installarlo dall'AUR ed eseguire i seguenti passaggi (non come root):
</p>
<ul>
<li><code>$ mkdir ~/.mpdscribble</code></li>
<li>Creare il file <code>~/.mpdscribble/mpdscribble.conf</code> e configurarlo come segue:</li>
</ul>
<pre> [mpdscribble] 
 host = &lt;host di mpd&gt;
 port = &lt;porta di mpd&gt;
 log = ~/.mpdscribble/mpdscribble.log
 journal = ~/.mpdscribble/mpdscribble.cache
 verbose = 2
 sleep = 1
 musicdir = &lt;directory della collezione&gt;
 proxy = &lt;il proxy&gt; # opzionale, ad esempio http://uo.proxy:8080, di default vuoto

 [last.fm]
 # sezione last.fm, commentare se non si usa last.fm
 url = http://post.audioscrobbler.com # opzionale
 username = &lt;username last&gt;
 password = &lt;password last.fm&gt; # md5sum in alternativa: echo -n PASSWORD | md5sum | cut -f 1 -d " "

 [libre.fm]
 # sezione libre.fm, commentare se non si usa libre.fm
 url = http://turtle.libre.fm/
 username = &lt;username libre.fm&gt;
 password = &lt;password libre.fm&gt;
</pre>
<ul><li>Aggiungere <code>mpdscribble</code> al proprio <code>~/.xinitrc</code>:</li></ul>
<pre>pidof mpdscribble &gt;&amp; /dev/null
if [ $? -ne 0 ]; then
  mpdscribble &amp;
fi
</pre>
<p>Per chi non esegue il login direttamente da X, è possibile aggiungere mpdscribble all'array DAEMONS di <code>/etc/rc.conf</code>. Tuttavia in alcuni casi ciò non è sufficiente a garantire che mpdscribble venga eseguito all'avvio di sistema. Si può ovviare a questo inconveniente aggiungendo 
</p>
<pre>mpdscribble &amp;
</pre>
<p>a <code>/etc/rc.local</code>.
</p>
<h4>
<span id="Sonata_.26_Ario"></span><span class="mw-headline" id="Sonata_&amp;_Ario">Sonata &amp; Ario</span>
</h4>
<p>La via più facile, se non è importante avere una finestra aperta tutto il tempo, è usare Sonata o Ario che sono frontend grafici a MPD. Hanno un supporto integrato per lo scrobbling su Last.fm nelle loro preferenze. Una nota negativa è che Sonata non salva una cache delle tracce se per qualche ragione non è disponibile una connessione internet durante la riproduzione.
</p>
<h4><span class="mw-headline" id="lastfmsubmitd">lastfmsubmitd</span></h4>
<p>lastfmsubmitd è un demone disponibile nel repository "community". Dopo averlo installato, per prima cosa modificare <code>/etc/lastfmsubmitd.conf</code> e aggiungere sia <code>lastfmsubmitd</code> che <code>lastmp</code> all'array <code>DAEMONS</code> in <code>/etc/rc.conf</code>.
</p>
<h3><span class="mw-headline" id="Riproduzione_da_Last.fm_con_lastfmproxy">Riproduzione da Last.fm con lastfmproxy</span></h3>
<p>lastfmproxy è uno script python  che riproduce uno stream last.fm su un altro media player. Per configurarlo, installare <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lastfmproxy/">lastfmproxy</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/Help:Procedures#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup> dall'<a href="/title/AUR_(Italiano)" class="mw-redirect" title="AUR (Italiano)">AUR</a> e modificare <code>/usr/share/lastfmproxy/config.py</code>. Se si vuole riprodurre sono da MPD sullo stesso host, è sufficiente modificare le informazioni di login.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong>  Visto che viene installato in una directory di sola lettura ma richiede permessi di lettura/scrittura per funzioni quali la memorizzazione delle stazioni precedentemente ascoltate, sarebbe saggio copiare <code>/usr/share/lastfmproxy</code> nella propria home.</div>
<p>Avviare lastfmproxy con <code>lastfmproxy</code> e visitare <a rel="nofollow" class="external free" href="http://localhost:1881/">http://localhost:1881/</a> nel proprio browser.  Per aggiungere una stazione last.fm station navigare in <a rel="nofollow" class="external free" href="http://localhost:1881/">http://localhost:1881/</a> seguito da lastfm:// url.  Esempio: <a rel="nofollow" class="external free" href="http://localhost:1881/lastfm://globaltags/punk">http://localhost:1881/lastfm://globaltags/punk</a> .  Tornare in <a rel="nofollow" class="external free" href="http://localhost:1881/">http://localhost:1881/</a> e scaricare il file m3u selezionando il link <i>Start Listening</i>. Semplicemente aggiungere questo file alle playlist.
</p>
<h3>
<span id="Non_riprodurre_all.27avvio"></span><span class="mw-headline" id="Non_riprodurre_all'avvio">Non riprodurre all'avvio</span>
</h3>
<h4><span class="mw-headline" id="Metodo_1">Metodo 1</span></h4>
<p>Se non si desidera che MPD riproduca la playlist all'avvio del demone, ma si desidera preservare le altre informazioni di stato, aggiungere le righe seguenti al file <code>/etc/rc.d/mpd</code>:
</p>
<pre><i>   ...</i>
<i>   stat_busy "Avvio di Music Player Daemon"</i>
</pre>
<pre>   # avviare sempre in pausa
   awk '/^state_file[ \t]+"[^"]+"$/ {
       match($0, "\".+\"")
       sfile = substr($0, RSTART + 1, RLENGTH - 2)
   } /^user[ \t]+"[^"]+"$/ {
       match($0, "\".+\"")
       user = substr($0, RSTART + 1, RLENGTH - 2)
   } END {
       if (sfile == "")
               exit;
       if (user != "")
               sub(/^~/, "/home/" user, sfile)
       system("sed -i \x27s|^\\(state:[ \\t]\\{1,\\}\\)play$|\\1pause|\x27 \x27" sfile "\x27")
   }' /etc/mpd.conf
</pre>
<pre><i>   /usr/bin/mpd /etc/mpd.conf &amp;&gt; /dev/null</i>
<i>   ...</i>
</pre>
<p>Questo imposterà il lettore in "pausa", se è stato fermato durante la riproduzione. Successivamente, se si vuole che questo file sia preservato, in modo che gli aggiornamenti di MPD non eliminino questa modifica, aggiungere o modificare la seguente linea in <code>/etc/pacman.conf</code>:
</p>
<pre>NoUpgrade = etc/rc.d/mpd
</pre>
<h4><span class="mw-headline" id="Metodo_2">Metodo 2</span></h4>
<p>Un metodo più semplice consiste nell'aggiungere mpd all'array DAEMONS di <code><a href="/title/Rc.conf" class="mw-redirect" title="Rc.conf">rc.conf</a></code> e aggiungere <code>mpc stop</code> oppure <code>mpc pause</code> a <code>/etc/rc.local.shutdown</code> e a <code>/etc/rc.local</code>. (Ricordarsi che è necessario avere mpc installato per sfruttare questo metodo).
</p>
<p>Aggiungere il comando al solo <code>/etc/rc.local</code> non assicura che mpd non riproduca assolutamente nulla, in quanto potrebbe esserci un ritardo prima che il comando di stop sia eseguito. 
D'altro canto, se si aggiunge il comando unicamente a <code>/etc/rc.local.shutdown</code>, ci si assicura che mpd non riproduca nulla, fintantoché si spenga il sistema in modo corretto.
Anche se sono ridondanti, aggiungerli a <code>/etc/rc.local</code> potrebbe servire per quelle, presumibilmente, rare occasioni in cui il sistema non si spenga in modo appropriato.
</p>
<h4><span class="mw-headline" id="Metodo_3">Metodo 3</span></h4>
<p>L'idea di base di questo metodo è chiedere ad mpd di mettere in pausa la musica quando l'utente esegue il logout, così al prossimo avvio mpd si bloccherà nello stato di pausa. È possibile inviare questo comando usando <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mpc">mpc</a></span>, l'interfaccia a linea di comando di mpd:
</p>
<pre>pacman -S mpc
</pre>
<p>Gli utenti di GDM possono aggiungere la riga seguente a <code>/etc/gdm/PostSession/Default</code> (assicurarsi di aggiungerla prima di "exit 0"):
</p>
<pre>/usr/bin/mpc pause
</pre>
<p>Gli altri utenti possono similmente utilizzare il loro login manager per lanciare il comando al logout.
</p>
<h3>
<span id="MPD_.26_ALSA"></span><span class="mw-headline" id="MPD_&amp;_ALSA">MPD &amp; ALSA</span>
</h3>
<p>A volte, quando si usano altri output audio, ad esempio alcune pagine web contenenti applet Flash, MPD non può riprodurre nulla fino al riavvio. L'errore, se si guarda <code>/var/log/mpd/mpd.error</code>, assomiglierà a:
</p>
<pre>Error opening alsa device "hw:0,0": Device or resource busy
</pre>
<p>E qui c'è la soluzione (dmix salva nuovamente la vita). Applicare le righe seguenti al proprio <code>/etc/mpd.conf</code>:
</p>
<pre>audio_output {
        type                    "alsa"
        name                    "Sound Card"
        options                 "dev=dmixer"
        device                  "plug:dmix"
}</pre>
<p>E riavviare con <code>/etc/rc.d/mpd restart</code>.
</p>
<p>Nel wiki di Gentoo si trovano alcune spiegazioni di tale inconveniente:
</p>
<ul>
<li>La scheda audio non supporta il mixing hardware (utilizza il plugin <b>dmix</b>)</li>
<li>Un'applicazione non è compatibile con ALSA nelle sue configurazioni di default</li>
</ul>
<p>Per una descrizione dettagliata, si raccomanda di dare un'occhiata a <a rel="nofollow" class="external text" href="https://mpd.wikia.com/wiki/Alsa">questo</a> link. Qui è possibile trovare un esempio di <code>asound.conf</code> su cui basarsi per una corretta configurazione di ALSA.
</p>
<h4><span class="mw-headline" id="Elevato_utilizzo_della_CPU_con_ALSA">Elevato utilizzo della CPU con ALSA</span></h4>
<p>Quando si utilizza MPD con ALSA, è possibile che MPD impieghi molta CPU (circa il 20-30%). Questo è causato dal fatto che molte schede audio supportano i 48kHz mentre la maggior parte della musica è a 44kHz, costringendo quindi MPD a ricodificare la traccia. Questa operazione impiega molti cicli di CPU e un elevato utilizzo della stessa.
</p>
<p>Per molti utenti il problema dovrebbe risolversi istruendo MPD a non ricodificare, aggiungendo <code>auto_resample "no"</code> alla sezione audio_output di <code>/etc/mpd.conf</code>. Tuttavia, ciò peggiorerà leggermente la qualità di alcune tracce.
</p>
<p>Esempio da <code>mpd.conf</code>:
</p>
<pre>audio_output {
   type			"alsa"
   name			"My ALSA Device"
   auto_resample		"no"
}
</pre>
<p>Anche se non in modo drastico, abilitare mmap può accelerare le cose:
</p>
<pre>audio_output {
   type			"alsa"
   name			"My ALSA Device"
   use_mmap		"yes"
}
</pre>
<p>Alcuni utenti potrebbero anche voler comunicare a dmix di utilizzare i 44kHz. Maggiori informazioni su come migliorare le performance di MPD si possono trovare nel <a rel="nofollow" class="external text" href="https://mpd.wikia.com/wiki/Tuning">wiki di MPD</a>
</p>
<h3><span class="mw-headline" id="Controllare_MPD_con_lirc">Controllare MPD con lirc</span></h3>
<p>Esistono già alcuni client realizzati per interfacciare lircd e MPD, tuttavia, all'utilizzo pratico non sono molto utili in quanto le loro funzionalità sono estremamente limitate.
</p>
<p>Si raccomanda di usare mpc con irexec. mpc è un player da linea di comando che invia un'istruzione a MPD ed esce immediatamente, il che è perfetto per irexec, il parser di comandi incluso in lirc. Ciò che irexec fa è lanciare uno specifico comando una volta ricevuto un controllo dal telecomando.
</p>
<p>Prima di tutto, configurare il telecomando come indicato nell'articolo <b><a href="/title/LIRC" title="LIRC">LIRC</a></b>.
</p>
<p>Modificare il file di configurazione di lirc, usualmente situato in <code>~/.lircrc</code>, seguendo questa struttura base:
</p>
<pre>begin
     prog = irexec
     button = &lt;button_name&gt;
     config = &lt;command_to_run&gt;
     repeat = &lt;0 or 1&gt;
end
</pre>
<p>Un utile esempio:
</p>
<pre>## irexec
begin
     prog = irexec
     button = play_pause
     config = mpc toggle
     repeat = 0
end

begin
     prog = irexec
     button = stop
     config = mpc stop
     repeat = 0
end
begin
     prog = irexec
     button = previous
     config = mpc prev
     repeat = 0
end
begin
     prog = irexec
     button = next
     config = mpc next
     repeat = 0
end
begin
     prog = irexec
     button = volup
     config = mpc volume +2
     repeat = 1
end
begin
     prog = irexec
     button = voldown
     config = mpc volume -2
     repeat = 1
end
begin
     prog = irexec
     button = pbc
     config = mpc random
     repeat = 0
end
begin
     prog = irexec
     button = pdvd
     config = mpc update
     repeat = 0
end
begin
     prog = irexec
     button = right
     config = mpc seek +00:00:05
     repeat = 0
end
begin
     prog = irexec
     button = left
     config = mpc seek -00:00:05
     repeat = 0
end
begin
     prog = irexec
     button = up
     config = mpc seek +1%
     repeat = 0
end
begin
     prog = irexec
     button = down
     config = mpc seek -1%
     repeat = 0
end
</pre>
<p>mpc dispone di molte altre funzioni. <span class="plainlinks archwiki-template-man" title="$ man 1 mpc"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/mpc.1">mpc(1)</a></span> per maggiori informazioni.
</p>
<h3><span class="mw-headline" id="Controllare_MPD_tramite_cellulare_bluetooth">Controllare MPD tramite cellulare bluetooth</span></h3>
<p>È anche possibile controllare MPD (fino ad un certo punto) utilizzando un cellulare con bluetooth. È necessario eseguire le seguenti operazioni:
</p>
<ul>
<li>installare <a rel="nofollow" class="external text" href="http://remuco.sourceforge.net/index.php/Remuco">remuco</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-08-04]</sup> -- un controller wireless per molti media player Linux (<a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?ID=25072">aur</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-08-04]</sup>)</li>
<li>trasferire il client remuco (file jar/jad) da <code>/usr/share/remuco/client/</code> al proprio telefono e installarlo</li>
<li>avviare <code>remuco-mpd</code> (come utente)</li>
<li>avviare remuco sul proprio cellulare, definire una nuova connessione bluetooth per remuco (connettere il cellulare se non è stato fatto prima) ed esplorare le sue capacità</li>
</ul>
<p>Maggiori informazioni su remuco inclusa la risoluzione dei problemi si trovano nella sua <a rel="nofollow" class="external text" href="http://remuco.sourceforge.net/index.php/Remuco">homepage</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-08-04]</sup>
</p>
<h3>
<span id="MPD_.26_PulseAudio"></span><span class="mw-headline" id="MPD_&amp;_PulseAudio">MPD &amp; PulseAudio</span>
</h3>
<p>Modificare <code>/etc/mpd.conf</code>, e decommentare la sezione audio_output per la tipologia "pulse". Il server e le relative righe dovrebbero essere commentate a meno che non si sappia quello che si sta facendo.
</p>
<p>Successivamente, aggiungere l'utente mpd (e il proprio se non è già stato fatto) ai gruppi pulse richiesti. Il gruppo pulse-access dovrebbe essere sufficiente, ma se si desidera aggiungere anche pulse-rt. Il gruppo "pulse" non sembra essere necessario.
</p>
<pre># gpasswd -a mpd pulse-access
# gpasswd -a mpd pulse-rt
</pre>
<p>Infine, potrebbe essere necessario copiare <code>~/.pulse-cookie</code> dalla propria directory di lavoro di pulse alla propria directory di mpd. È probabile che sia <code>/var/lib/mpd</code> se si è seguita la prima parte di questo wiki. Questo probabilmente consentirà solo all'utente attuale di ascoltare MPD su pulse. Si dovrebbe considerare di lanciare pulse per tutti gli utenti se ciò non dovesse rivelarsi sufficiente.
</p>
<h2><span class="mw-headline" id="Risoluzione_dei_problemi">Risoluzione dei problemi</span></h2>
<h3><span class="mw-headline" id="Autorilevamento_fallito">Autorilevamento fallito</span></h3>
<p>All'avvio, MPD cerca di rilevare il sistema e di configurare l'outout e il volume in accordo. Anche se nella maggior parte dei casi questo avviene senza problemi, in alcuni sistemi non succede. Potrebbe aiutare comunicare ad MPD cosa utilizzare come output e come mixer. Se è stato copiato <code>/etc/mpd.conf</code> da <code>/etc/mpd.conf.example</code> come precedentemente menzionato, basta semplicemente decommentare
</p>
<p>per output su ALSA:
</p>
<pre>audio_output {
	type			"alsa"
	name			"My ALSA Device"
	device			"hw:0,0"	# optional
	format			"44100:16:2"	# optional
}
</pre>
<p>per mixer alsa:
</p>
<pre>mixer_type			"alsa"
mixer_device			"default"
mixer_control			"PCM"
</pre>
<p><b>Nota:</b> in caso di problemi di permessi utilizzando ESD con MPD, lanciare questo come root:
</p>
<pre># chsh -s /bin/true mpd
</pre>
<h3><span class="mw-headline" id="Permessi_di_esecuzione">Permessi di esecuzione</span></h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attenzione:</strong> Questa azione non è sicura e potrebbe non essere necessaria.</div>
<p>MPD ha bisogno dei permessi di esecuzione su <b>TUTTE</b> le directory della collezione musicale (ad esempio se essa si trova al di fuori della home di mpd <code>/var/lib/mpd</code>). Di default <code>useradd</code> imposta i permessi della home come <code>1700 drwx------</code>. Potrebbe quindi esserci necessità di cambiare i permessi di <code>/home/user</code>. Ad esempio, se la collezione si trova in <code>/home/user/music</code>: 
</p>
<pre># chmod a+x /home/$USER
# chmod -R a+X /home/$USER/music
</pre>
<h4><span class="mw-headline" id="Soluzione_alternativa">Soluzione alternativa</span></h4>
<p>Una soluzione alternativa potrebbe essere quella di usare il gruppo dell'utente per condividere alcuni file, tra cui la collezione musicale. Per prima cosa rimuovere tutti i permessi per il gruppo e successivamente aggiungere al gruppo i permessi di lettura ed esecuzione di <code>home</code> e di <code>music</code>:
</p>
<pre># chmod -R g-rwx /home/$USER
# chmod g+rx /home/$USER
# chmod -R g+rX /home/$USER/music
</pre>
<h4><span class="mw-headline" id="Altra_soluzione_alternativa">Altra soluzione alternativa</span></h4>
<p>Un'altra alternativa è montare la collezione all'interno di una directory accessibile a MPD. È meno rischioso per la sicurezza minore di modificare i permessi della home di un utente:
</p>
<pre># mkdir /var/lib/mpd/music
# echo "/home/$USER/music /var/lib/mpd/music none bind" &gt;&gt; /etc/fstab
# mount -a
</pre>
<p>Infine riavviate il demone. Vedere anche <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=86449">questo thread</a> del forum inglese.
</p>
<h3><span class="mw-headline" id="Evitare_i_timeout">Evitare i timeout</span></h3>
<p>Per sbarazzarsi dei timeout (ad esempio, quando si mette in pausa per lungo tempo) in gpmc e altri client, decommentare ed incrementare l'opzione <code>connection_timeout</code> in <code>mpd.conf</code>.
</p>
<h3><span class="mw-headline" id="Impostare_le_codifiche">Impostare le codifiche</span></h3>
<p>Se i file o i titoli sono mostrati con una codifica non corretta, decommentare e modificare le opzioni <code>filesystem_charset</code> e <code>id3v1_encoding</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong>  Non è possibile impostare la codifica per i tag ID3 v2. Per risolvere questo inconveniente è possibile utilizzare <a rel="nofollow" class="external text" href="http://mpd.wikia.com/wiki/GenericDecoder#Generic_Tagreader">lettori di tag esterni</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-08-04]</sup>.</div>
<h3><span class="mw-headline" id="Controllare_MPD_in_rete">Controllare MPD in rete</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="/title/File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a><b>This article or section is out of date.</b><a href="/title/File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> <span style="color:red;">please use the first argument of the template to provide a brief explanation.</span> (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:Music_Player_Daemon_(Italiano)">Talk:Music Player Daemon (Italiano)#</a>)</div>
</div>
<p>Se si desidera controllare MPD tramite un altro computer in rete, l'opzione <code>bind_to_address</code> in <code>mpd.conf</code> dovrà essere impostata all'indirizzo IP desiderato, oppure ad <code>any</code> se l'IP cambia in continuamente. Ricordarsi di aggiungere mpd al file <code>/etc/hosts.allow</code> per permettere l'accesso esterno.
</p>
<h3><span class="mw-headline" id="Streaming">Streaming</span></h3>
<p>Dalla versione 0.15 di MPD è disponibile lo streaming http.
</p>
<p>Per attivare questa funzionalità, è necessario aggiungere un nuovo output di tipo httpd in <code>mpd.conf</code>:
</p>
<pre>audio_output {
          type   "httpd"
          name   "What you want"
          encoder "lame"     # supportati vorbis o lame
          port    "8000"
          bitrate  "128"
          format   "44100:16:2"  # impostare a 2 per MONO
  }
     
</pre>
<p>Riavviare il demone MPD e, da un altro computer, semplicemente caricare lo stream come qualsiasi altro URL:
</p>
<pre>$ mplayer http://&lt;IP DEL SERVER&gt;:8000
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong>  Bisogna aprire la porta sul router/firewall perché ci si possa connettere allo stream da un altro computer.</div>
<p>Molti lettori, come vlc o xmms2, dovrebbero essere in grado di aprire lo stream da un opzione del menu come "add url...".
</p>
<p>Questo è un metodo semplice e pulito per rimpiazzare un setup di icecast con qualcosa di nativamente supportato da MPD.
</p>
<h3><span class="mw-headline" id="mpd_--create-db_si_blocca">mpd --create-db si blocca</span></h3>
<p>Questo è un errore comune causato da tag mp3 corrotti.
Di seguito un metodo sperimentale per risolvere questo problema.
Necessari:
</p>
<ul>
<li>kid3</li>
<li>easytag</li>
</ul>
<p>Questo metodo è estremamente tedioso, specialmente con un grande database. Giusto come riferimento, sono necessario 2 ore e mezza per sistemare un database da 16Gb.
</p>
<h4><span class="mw-headline" id="Easy_Tag">Easy Tag</span></h4>
<p>Lo funzione di easytag è individuare l'errore nel tag, ma come MPD si blocca e termina. Il trucco è che easytag indica il file che causa il problema nella barra di stato.
Prima di avviare easytag ci si assicuri di avere un terminale a portata di mano per killare easytag in modo da evitare che si blocchi. Una volta pronti, nella vista ad albero selezionare le directory contenenti la libreria. Easytag comincerà a nelle sottodirectory i file mp3. Appena si nota che easytag si ferma, prendere nota del file e killare il processo.
</p>
<h4><span class="mw-headline" id="KID3">KID3</span></h4>
<p>Con kid3 spostarsi al file in questione e riscrivere uno dei tag, poi salvare il file. Questo costringe kid3 a riscrivere tutto il tag risolvendo il problema del blocco con MPD e easytag.
</p>
<p>Ripetere la procedura fino alla riparazione di tutti i file corrotti.
</p>
<h3>
<span id="Cannot_connect_to_mpd:_host_.22localhost.22_not_found:_Temporary_failure_in_name_resolution"></span><span class="mw-headline" id='Cannot_connect_to_mpd:_host_"localhost"_not_found:_Temporary_failure_in_name_resolution'>Cannot connect to mpd: host "localhost" not found: Temporary failure in name resolution</span>
</h3>
<p>Impossibile connettersi a MPD (con ncmpcpp), se non si è connessi alla rete. La soluzione è <a href="/title/IPv6_-_Disabling_the_Module" class="mw-redirect" title="IPv6 - Disabling the Module">disabilitare il modulo IPv6</a> oppure aggiungere la seguente linea a <code>/etc/hosts</code>:
</p>
<pre>::1 localhost.localdomain localhost
</pre>
<h3><span class="mw-headline" id="Port_6600_already_in_use">Port 6600 already in use</span></h3>
<p>MPD ha bisogno di collegarsi alla porta 6600 e non può avviarsi se questa è già in uso. La ragione più comune per questo errore è che l'utente ha già avviato MPD e successivamente ha lanciato <code>mpd --create-db</code>. Il nuovo comportamento di mpd è che l'opzione <code>--create-db</code> tenta anche di avviare il demone; se questo è già stato avviato, l'operazione fallisce. Se questo è il caso, provare:
</p>
<pre>$ mpd --kill
$ mpd --create-db
</pre>
<p>Un approccio più brutale:
</p>
<pre>$ killall mpd
$ mpd --create-db
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong>  Se tipicamente si lancia MPD come root, i comandi precedenti sono da eseguire come root..</div>
<p>Nella versione git di MPD, <code>mpd --create-db</code> è completamente deprecata. Il database verrà creato automagicamente al primo avvio e successivamente si aggiornerà tramite il client (ad esempio <code>mpc update</code>). Inoltre, il supporto a inotify fornisce un aggiornamento completamente automatico quando si aggiunge qualcosa alla propria collezione.
</p>
<p>Se la porta 6600 è bloccata per qualche ragione, si può usare il seguente comando per identificare il processo bloccante:
</p>
<pre># ss -tulpan | grep 6600
</pre>
<p>Questo mostrerà IP:Porta e nome del processo detenente la connessione (servono i privilegi di root per vedere tutti i processi).
</p>
<h3><span class="mw-headline" id="Crepitii_con_alcuni_file_audio">Crepitii con alcuni file audio</span></h3>
<p>Questo è solitamente un problema di velocità di riproduzione e si può risolvere decommentando e modificando la riga audio_output_format in:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/mpd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">audio_output_format "44100:16:2"</pre>
<p>Solitamente questi sono valori adatti per la maggior parte dei file mp3.
</p>
<h3>
<span id="daemon:_cannot_setgid_for_user_.22mpd.22:_Operation_not_permitted"></span><span class="mw-headline" id='daemon:_cannot_setgid_for_user_"mpd":_Operation_not_permitted'>daemon: cannot setgid for user "mpd": Operation not permitted</span>
</h3>
<p>Questo errore afferma che l'utente che avvia il processo non ha il permesso di diventare l'altro utente (mpd) che la configurazione ha indicato come proprietario del processo.
Per risolvere, semplicemente avviare mpd come root.
</p>
<h2><span class="mw-headline" id="Riferimenti_esterni">Riferimenti esterni</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.musicpd.org/">Sito ufficale</a></li>
<li><a rel="nofollow" class="external text" href="https://mpd.wikia.com/wiki/Main_Page">Wiki ufficiale</a></li>
<li><a rel="nofollow" class="external text" href="https://mpd.wikia.com/wiki/Clients">Lista ordinata di client MPD</a></li>
<li><a rel="nofollow" class="external text" href="https://www.musicpd.org/forum/">Forum MPD</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="/title/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/title/Category:Music_(Italiano)" title="Category:Music (Italiano)">Music (Italiano)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="/title/Category:Pages_or_sections_flagged_with_Template:Bad_translation" title="Category:Pages or sections flagged with Template:Bad translation">Pages or sections flagged with Template:Bad translation</a></li>
<li><a href="/title/Category:Pages_with_broken_package_links" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="/title/Category:Pages_or_sections_flagged_with_Template:Out_of_date" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Music_Player_Daemon_(Italiano)&amp;oldid=669115">https://wiki.archlinux.org/index.php?title=Music_Player_Daemon_(Italiano)&amp;oldid=669115</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 8 May 2021, at 11:18.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="/title/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/title/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="/title/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
