<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Netcfg (Italiano) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Netcfg_Italiano rootpage-Netcfg_Italiano skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Netcfg (Italiano)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a><b>This article or section is out of date.</b><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> <span style="color:red;">please use the first argument of the template to provide a brief explanation.</span> (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Netcfg_(Italiano)">Talk:Netcfg (Italiano)#</a>)</div>
</div>
<p>Dalla pagina <a rel="nofollow" class="external text" href="https://projects.archlinux.org/netcfg.git/tree/man/netcfg.8">netcfg man</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-08-04]</sup>:
</p>
<dl><dd><i><b>netcfg</b> viene utilizzato per configurare e gestire le connessioni di rete tramite profili. Ha il supporto plugin per vari tipi di connessione, come il wireless, Ethernet, e ppp. È anche in grado di avviare/arrestare molte connessioni in una, cioè può gestire connessioni multiple all'interno dello stesso profilo, opzionalmente anche con il "bonding".</i></dd></dl>
<p>netcfg è utile a quegli utenti che cercano un mezzo semplice e robusto per gestire configurazioni di rete multiple (ad esempio gli utenti laptop). Per i sistemi che solitamente si connettono ad una rete unica, il demone <a href="../en/Network_configuration.html" class="mw-redirect" title="Network">network</a> potrebbe essere più adatto.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong>  Con la versione netcfg-2.8.9 si è interrotta la compatibilità con il file rc.conf. Gli utenti di netcfg dovranno configurare tutte le interfacce nel file <code>/etc/conf.d/netcfg</code> invece che in <code>/etc/rc.conf</code>.</div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Preparazione"><span class="tocnumber">1</span> <span class="toctext">Preparazione</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Installazione"><span class="tocnumber">2</span> <span class="toctext">Installazione</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Configurazione"><span class="tocnumber">3</span> <span class="toctext">Configurazione</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Uso"><span class="tocnumber">4</span> <span class="toctext">Uso</span></a></li>
<li class="toclevel-1 tocsection-5">
<a href="#Connessione_automatica"><span class="tocnumber">5</span> <span class="toctext">Connessione automatica</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#net-profiles"><span class="tocnumber">5.1</span> <span class="toctext">net-profiles</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#net-auto-wireless"><span class="tocnumber">5.2</span> <span class="toctext">net-auto-wireless</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#net-auto-wired"><span class="tocnumber">5.3</span> <span class="toctext">net-auto-wired</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Supporto_a_systemd"><span class="tocnumber">5.4</span> <span class="toctext">Supporto a systemd</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10">
<a href="#Suggerimenti_utili"><span class="tocnumber">6</span> <span class="toctext">Suggerimenti utili</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Passare_argomenti_a_iwconfig_prima_di_connettersi"><span class="tocnumber">6.1</span> <span class="toctext">Passare argomenti a iwconfig prima di connettersi</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#rfkill_(abilita/disabilita_il_wireless)"><span class="tocnumber">6.2</span> <span class="toctext">rfkill (abilita/disabilita il wireless)</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Eseguire_comandi_prima_o_dopo_che_l'interfaccia_sia_accesa_o_spenta"><span class="tocnumber">6.3</span> <span class="toctext">Eseguire comandi prima o dopo che l'interfaccia sia accesa o spenta</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Errore_di_connessione_intermittente"><span class="tocnumber">6.4</span> <span class="toctext">Errore di connessione intermittente</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Configurazione_tramite_interfaccia"><span class="tocnumber">6.5</span> <span class="toctext">Configurazione tramite interfaccia</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Output_hooks"><span class="tocnumber">6.6</span> <span class="toctext">Output hooks</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#ArchAssitant_(GUI)"><span class="tocnumber">6.7</span> <span class="toctext">ArchAssitant (GUI)</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Netcfg_Easy_Wireless_LAN_(newlan)"><span class="tocnumber">6.8</span> <span class="toctext">Netcfg Easy Wireless LAN (newlan)</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#wifi-select"><span class="tocnumber">6.9</span> <span class="toctext">wifi-select</span></a></li>
<li class="toclevel-2 tocsection-20">
<a href="#Passaggio_di_argomenti_a_dhcpcd"><span class="tocnumber">6.10</span> <span class="toctext">Passaggio di argomenti a dhcpcd</span></a>
<ul>
<li class="toclevel-3 tocsection-21"><a href="#Accelerare_il_DHCP_mediante_dhcpcd"><span class="tocnumber">6.10.1</span> <span class="toctext">Accelerare il DHCP mediante dhcpcd</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-22"><a href="#Uso_di_dhclient_al_posto_di_dhcpcd"><span class="tocnumber">6.11</span> <span class="toctext">Uso di  dhclient al posto di dhcpcd</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Configurare_un_bridge_da_usare_con_macchine_virtuali_(VMs)"><span class="tocnumber">6.12</span> <span class="toctext">Configurare un bridge da usare con macchine virtuali (VMs)</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Aggiungere_pi%C3%B9_indirizzi_IP_ad_un'interfaccia"><span class="tocnumber">6.13</span> <span class="toctext">Aggiungere più indirizzi IP ad un'interfaccia</span></a></li>
<li class="toclevel-2 tocsection-25">
<a href="#Aggiungere_indirizzamenti_statici"><span class="tocnumber">6.14</span> <span class="toctext">Aggiungere indirizzamenti statici</span></a>
<ul>
<li class="toclevel-3 tocsection-26"><a href="#Tethering_Bluetooth_via_pand"><span class="tocnumber">6.14.1</span> <span class="toctext">Tethering Bluetooth via <i>pand</i></span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-27">
<a href="#Risoluzione_dei_problemi"><span class="tocnumber">7</span> <span class="toctext">Risoluzione dei problemi</span></a>
<ul>
<li class="toclevel-2 tocsection-28"><a href="#Debugging"><span class="tocnumber">7.1</span> <span class="toctext">Debugging</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#Rete_non_disponibile"><span class="tocnumber">7.2</span> <span class="toctext">Rete non disponibile</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#Associazione_wireless_non_riuscita"><span class="tocnumber">7.3</span> <span class="toctext">Associazione wireless non riuscita</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Impossibile_ottenere_l'indirizzo_IP_con_DHCP"><span class="tocnumber">7.4</span> <span class="toctext">Impossibile ottenere l'indirizzo IP con DHCP</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#Connessione_non_valida,_controllo_ortografico_o_guardare_gli_esempi"><span class="tocnumber">7.5</span> <span class="toctext">Connessione non valida, controllo ortografico o guardare gli esempi</span></a></li>
<li class="toclevel-2 tocsection-33">
<a href="#Nessuna_connessione"><span class="tocnumber">7.6</span> <span class="toctext">Nessuna connessione</span></a>
<ul>
<li class="toclevel-3 tocsection-34"><a href="#Carrier_Timeout"><span class="tocnumber">7.6.1</span> <span class="toctext">Carrier Timeout</span></a></li>
<li class="toclevel-3 tocsection-35"><a href="#Skip_no_carrier"><span class="tocnumber">7.6.2</span> <span class="toctext">Skip no carrier</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-36"><a href="#Driver_quirks"><span class="tocnumber">7.7</span> <span class="toctext">Driver quirks</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#Ralink_legacy_driver_rt2500,_rt2400_usando_iwpriv"><span class="tocnumber">7.8</span> <span class="toctext">Ralink legacy driver rt2500, rt2400 usando iwpriv</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#Nel_caso_di:_%22/var/run/network//suspend/%22:_No_such_file_or_directory"><span class="tocnumber">7.9</span> <span class="toctext">Nel caso di: "/var/run/network//suspend/":  No such file or directory</span></a></li>
<li class="toclevel-2 tocsection-39"><a href="#Ancora_non_funziona,_che_cosa_devo_fare?"><span class="tocnumber">7.10</span> <span class="toctext">Ancora non funziona, che cosa devo fare?</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-40">
<a href="#Domande_frequenti"><span class="tocnumber">8</span> <span class="toctext">Domande frequenti</span></a>
<ul>
<li class="toclevel-2 tocsection-41"><a href="#Perch%C3%A8_netcfg_non_fa_(alcune_cose)?"><span class="tocnumber">8.1</span> <span class="toctext">Perchè netcfg non fa <i>(alcune cose)</i>?</span></a></li>
<li class="toclevel-2 tocsection-42"><a href="#Perch%C3%A8_netcfg_non_si_comporta_in_questo_modo?"><span class="tocnumber">8.2</span> <span class="toctext">Perchè netcfg non si comporta in <i>questo</i> modo?</span></a></li>
<li class="toclevel-2 tocsection-43"><a href="#Ho_ancora_bisogno_di_(qualche_cosa)_se_sto_utilizzando_netcfg?"><span class="tocnumber">8.3</span> <span class="toctext">Ho ancora bisogno di <i>(qualche cosa)</i> se sto utilizzando netcfg?</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-44"><a href="#Resources"><span class="tocnumber">9</span> <span class="toctext">Resources</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Preparazione">Preparazione</span></h2>
<p>Nei casi più semplici, gli utenti devono conoscere solamente il nome della/e loro interfaccia/e di rete (es. <b>eth0</b>, <b>wlan0</b>). Per la configurazione di indirizzi IP statici, bisogna conoscere anche i gateway e i nomi degli indirizzi dei server.
</p>
<p>Per la connessione ad una rete wireless, tenere a portata di mano alcune informazioni di base, ossia quale tipo di protezione viene utilizzato, il nome della rete (ESSID), e le eventuali password o chiavi di crittografia. Assicurarsi inoltre che il driver e il firmware corretti siano installati sul proprio dispositivo wireless, come descritto nella sezione <a href="../en/Network_configuration/Wireless.html" class="mw-redirect" title="Wireless network configuration">Wireless network configuration</a>.
</p>
<h2><span class="mw-headline" id="Installazione">Installazione</span></h2>
<p>Assicurarsi di avere l'ultima versione di netcfg installato. Le versioni più datate sono più soggette a bug e potrebbero non funzionare bene con i driver più recenti.
Il pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/netcfg/">netcfg</a></span><sup><small>AUR</small></sup> è disponibile nei <a href="../it/Official_repositories.html" title="Official repositories (Italiano)">repository ufficiali</a>:
</p>
<pre># pacman -S netcfg
</pre>
<p>Dalla versione 2.5.x, le dipendenze opzionali includono <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wpa_actiond/">wpa_actiond</a></span><sup><small>AUR</small></sup>, richiesto per il roaming automatico delle connessioni wireless, e <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ifplugd">ifplugd</a></span>, richiesto per la configurazione automatica Ethernet. (<a rel="nofollow" class="external text" href="https://archlinux.org/news/487/">Ulteriori informazioni</a>)
</p>
<pre># pacman -S wpa_actiond ifplugd
</pre>
<p>Se sia necessario avere un perfezionamento del supporto <a href="../en/Bash.html" title="Bash">Bash</a> di netcfg, installare il pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bash-completion">bash-completion</a></span> dai repository ufficiali.
</p>
<h2><span class="mw-headline" id="Configurazione">Configurazione</span></h2>
<p>I profili di rete sono memorizzati nella cartella <code>/etc/network.d</code>. Per ridurre al minimo il rischio di errori, copiare una configurazione d'esempio da <code>/etc/network.d/examples/</code> a <code>/etc/network.d/mynetwork</code>. Il nome del file è il nome del profilo di rete ("mynetwork" è usato come esempio in questo articolo). Il nome non è una configurazione di rete e non deve necessariamente corrispondere al nome della rete wireless (SSID).
</p>
<p>A seconda del tipo di connessione e livello di sicurezza, utilizzare uno dei seguenti esempi da <code>/etc/network.d/examples</code> come base. Diffidate dagli esempi trovati su Internet in quanto contengono spesso opzioni deprecate che possono causare problemi.
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Connessione tipo/sicurezza</th>
<th>Esempio di profile
</th>
</tr>
<tr>
<td>Wireless; WEP hex key</td>
<td>
<code>wireless-wep</code>
</td>
</tr>
<tr>
<td>Wireless; WEP string key</td>
<td>
<code>wireless-wep-string-key</code>
</td>
</tr>
<tr>
<td>Wireless; WPA-Personal (passphrase/pre-shared key)</td>
<td>
<code>wireless-wpa</code>
</td>
</tr>
<tr>
<td>Wireless; WPA-Enterprise</td>
<td>
<code>wireless-wpa-config</code> (wpa_supplicant configurazione esterna) <br> <code>wireless-wpa-configsection</code> (wpa_supplicant configurazione salvata su stringa)
</td>
</tr>
<tr>
<td>Cavo; DHCP</td>
<td>
<code>ethernet-dhcp</code>
</td>
</tr>
<tr>
<td>Cavo; IP statico</td>
<td>
<code>ethernet-static</code>
</td>
</tr>
<tr>
<td>Cavo; Configurazione iproute</td>
<td>
<code>ethernet-iproute</code>
</td>
</tr>
</tbody>
</table>
<p>Successivamente, modificare il nuovo file di configurazione, <code>/etc/network.d/mynetwork</code>:
</p>
<ul>
<li>Impostare <code>INTERFACE</code> per l'interfaccia corretta, wireless o Ethernet. Questo può essere controllato con <code>ifconfig</code> e <code>iwconfig</code>.</li>
<li>Assicurarsi che <code>ESSID</code> e <code>KEY</code> (passphrase) siano impostate correttamente per le connessioni wireless. I caratteri errati in questi campi sono gli errori più comuni.
<ul><li>Notare che le WEP keys <i>string</i> (non <i>hex</i>) devono essere specificate con all'inizio una <code>s:</code> (es. <code>KEY="s:somepasskey"</code>).</li></ul>
</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  Le configurazioni di Netcfg sono degli script Bash validi. Qualsiasi configurazione che coinvolge caratteri speciali come <code>$</code> o <code>\</code> deve essere quotata correttamente altrimenti verrà interpretata da Bash. Per evitare che questo si verifichi, usare le virgolette singole o i caratteri di escape backslash, in caso. </div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  Le informazioni di connessione (es. wireless passkey) verranno memorizzate in formato testo normale, quindi gli utenti potrebbero preferire cambiare i permessi sul profilo appena creato (es. <code>chmod 0600 /etc/network.d/mynetwork</code> per renderlo leggibile solo da root).</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  Per WPA-Personali, è anche possibile usare la chiave di cifratura WPA codificata in una stringa esadecimale, invece che una chiave in testo normale.
<p>Seguire la procedura del <a href="../en/Wpa_supplicant.html#Classic_method:_.2Fetc.2Fwpa_supplicant.conf" title="Wpa supplicant">primo esempio alla pagina di WPA supplicant</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> per generare una stringa esadecimale a partire dalla tua chiave WPA.<br>
Salvare la nuova stringa esadecimale nel proprio profilo WPA nel file <code>/etc/network.d/mynetwork</code> come valore della variabile <code>KEY</code> (assicurarsi che questa sia la sola variabile <code>KEY</code> abilitata), per assomigliare a questa (sostituite la stringa con la vostra):
</p>
<pre>KEY='7b271c9a7c8a6ac07d12403a1f0792d7d92b5957ff8dfd56481ced43ec6a6515'
</pre>
<p>Che dovrebbe farlo, senza la necessità di rivelare la chiave di accesso.<br>
</p>
</div>
<h2><span class="mw-headline" id="Uso">Uso</span></h2>
<p>Per connettere un profilo:
</p>
<pre># netcfg mynetwork
</pre>
<p>Per disconnettere un profilo:
</p>
<pre># netcfg down &lt;profile-name&gt;
</pre>
<p>Se stabilita la connessione con successo, gli utenti possono configurare netcfg per la connessione automatica o durante l'avvio. Se la connessione non riesce, consultare <a href="#Risoluzione_dei_problemi">#Risoluzione dei problemi</a> per possibili soluzioni o su come ottenere aiuto.
</p>
<p>Per altre funzioni, vedere:
</p>
<pre>$ netcfg help
</pre>
<h2><span class="mw-headline" id="Connessione_automatica">Connessione automatica</span></h2>
<p>Sono disponibili diversi metodi per coloro che desiderano connettere automaticamente i profili di rete (ad esempio durante l'avvio o in roaming). Si noti che un profilo di rete deve essere <i>prima</i> configurato correttamente nella cartella <code>/etc/network.d</code> (consultare <a href="#Configurazione">#Configurazione</a>).
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Se si abilita uno dei seguenti demoni e non sono state eseguite configurazioni nella stringa <code>INTERFACES</code> in <code>/etc/rc.conf</code>, si può rimuovere il demone <code>network</code> dalla stringa <code>DAEMONS</code>. Se si montano condivisioni <a href="../it/NFS.html" title="NFS (Italiano)">NFS</a> durante l'avvio, assicurarsi che il demone <code>netfs</code> sia comunque specificato (altrimenti la rete verrà abbandonata prima dello smontaggio delle condivisioni durante l'arresto).</div>
<h3><span class="mw-headline" id="net-profiles">net-profiles</span></h3>
<p><b>I <code>net-profiles</code> permettono di collegare i profili durante l'avvio.</b>
</p>
<p>Per attivare questa funzione bisogna aggiungere <code>net-profiles</code> alla stringa <code>DAEMONS</code> in <code>/etc/<a href="../en/SysVinit.html" class="mw-redirect" title="Rc.conf">rc.conf</a></code> e specificare i profili da connettere nella stringa <code>NETWORKS</code> in <code>/etc/conf.d/netcfg</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/rc.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">DAEMONS=(... net-profiles ...)
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/conf.d/netcfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">NETWORKS=(mynetwork yournetwork)
</pre>
<p>Un profilo network può anche essere avviato in background aggiungendone il prefisso <code>@</code> nella stringa<code>NETWORKS</code>. Notare che questo si dovrebbe fare solamente se i profili in background configurino interfacce distinte, altrimenti si potrebbero verificare delle incongruenze.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/conf.d/netcfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">NETWORKS=(@mynetwork @yournetwork)
</pre>
<p>Alternativamente, i <code>net-profiles</code> possono essere configurati in modo da ripristinare i profili attivi all'ultimo spegnimento della macchina impostando la stringa <code>NETWORKS</code> a <code>last</code>, come descritto in seguito.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/conf.d/netcfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">NETWORKS=(last)
</pre>
<p>Infine, i <code>net-profiles</code> si possono configurare per mostrare un menu – permettendo agli utenti di scegliere il profilo desiderato – impostando il contenuto della stringa <code>NETWORKS</code> a <code>menu</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/conf.d/netcfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">NETWORKS=(menu)
</pre>
<p>È richiesto inoltre il pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dialog">dialog</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Accedere al menu in qualsiasi momento eseguendo <code>netcfg-menu</code> in un terminale.</div>
<h3><span class="mw-headline" id="net-auto-wireless">net-auto-wireless</span></h3>
<p><b><code>net-auto-wireless</code> consente agli utenti di connettersi automaticamente alle reti wireless con un'adeguato supporto al roaming.</b>
</p>
<p>Per attivare questa funzione, si deve aggiungere <code>net-auto-wireless</code> alla stringa <code>DAEMONS</code> in <code>/etc/<a href="../en/SysVinit.html" class="mw-redirect" title="Rc.conf">rc.conf</a></code>: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/rc.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">DAEMONS=(... net-auto-wireless ...)
</pre>
<p>e specificare l'interfaccia wireless desiderata nella variabile <code>WIRELESS_INTERFACE</code> in <code>/etc/conf.d/netcfg</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/conf.d/netcfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">WIRELESS_INTERFACE="wlan0"
</pre>
<p>È inoltre possibile definire una lista delle reti wireless che dovrebbe automaticamente connettersi con la variabile <code>AUTO_PROFILES</code> in  <code>/etc/conf.d/netcfg</code>. Se <code>AUTO_PROFILES</code> non è settato, verrà tentata la connessione ad ogni rete wireless.
</p>
<p>È richiesto inoltre il pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wpa_actiond/">wpa_actiond</a></span><sup><small>AUR</small></sup>. Si noti che i profili wpa-config non funzionano con net-auto-wireless. Convertirli perciò in WPA-configsection.
</p>
<h3><span class="mw-headline" id="net-auto-wired">net-auto-wired</span></h3>
<p><b><code>net-auto-wired</code> consente agli utenti di connettersi automaticamente alle reti cablate.</b>
</p>
<p>Per attivare questa funzione, bisogna prima <a href="../it/Pacman.html" title="Pacman (Italiano)">installare</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ifplugd">ifplugd</a></span>, poi aggiungere <code>net-auto-wired</code> alla stringa <code>DAEMONS</code> in <code>/etc/<a href="../en/SysVinit.html" class="mw-redirect" title="Rc.conf">rc.conf</a></code> e specificare l'interfaccia cablata desiderata nella variabile in <code>/etc/conf.d/netcfg</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/rc.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">DAEMONS=(... net-auto-wired ...)
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/conf.d/netcfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">WIRED_INTERFACE="eth0"
</pre>
<p>Il demone avvia un processo ifplugd che esegue <code>/etc/ifplugd/netcfg.action</code> quando lo stato dell'interfaccia cablata cambia (per esempio quando un cavo è collegato o scollegato). Collegando un cavo, vengono tentati gli avvii di qualsiasi profilo, come <code>CONNECTION = "ethernet"</code> o <code>"ethernet-iproute"</code> e <code>INTERFACE = WIRED_INTERFACE</code>, finchè uno di questi viene eseguito con successo.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> I profili DHCP vengono provati prima di quelli statici, il che potrebbe portare, in alcuni casi, a risultati indesiderati.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Il demone net-auto-wired non può avviare processi multipli ifplugd per interfacce multiple (come invece ifplugd <code>/etc/rc.d/ifplugd</code>).</div>
<h3><span class="mw-headline" id="Supporto_a_systemd">Supporto a systemd</span></h3>
<p>Dalla versione 2.8.2 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/netcfg/">netcfg</a></span><sup><small>AUR</small></sup> fornisce i file <i>unit</i> di systemd. I file <i>service</i> <code>net-auto-wireless.service</code> e <code>net-auto-wired.service</code> corrispondono ai demoni <code>/etc/rc.d/net-auto-wireless</code> e <code>/etc/rc.d/net-auto-wired</code> di <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=initscripts">initscripts</a></span><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup> . Per connettere più profili al boot si può usare <code>netcfg.service</code> che è equivalente a <code>/etc/rc.d/net-profiles</code> e avviare tutti i profili specificati nella stringa <code>NETWORKS</code> in <code>/etc/conf.d/netcfg</code>. Questi file <i>service</i> possono essere abilitati ed avviati con <code>systemctl</code> come di consueto.
</p>
<p>In alternatica si può usare il file <i>template service</i> <code>netcfg@.service</code> che permette di connettersi ai profili al boot senza doverlo specificare in <code>/etc/conf.d/netcfg</code>. Per definire il profilo desiderato, abilitare il <i>template service</i> e usare il nome del profilo di rete da invocare:
</p>
<pre># systemctl enable netcfg@&lt;profile-name&gt;.service
</pre>
<h2><span class="mw-headline" id="Suggerimenti_utili">Suggerimenti utili</span></h2>
<h3><span class="mw-headline" id="Passare_argomenti_a_iwconfig_prima_di_connettersi">Passare argomenti a iwconfig prima di connettersi</span></h3>
<p>È sufficiente aggiungere ad un profilo le seguenti:
</p>
<pre>IWCONFIG="&lt;arguments&gt;"
</pre>
<p>Dove <code>&lt;arguments&gt;</code> può essere qualsiasi argomento <code>iwconfig</code> valido. Lo script poi eseguirà <code>iwconfig $INTERFACE $IWCONFIG</code>.
</p>
<p>Ad esempio, forzare la scheda a registrare uno specifico punto di accesso dato dall'indirizzo MAC:
</p>
<pre>IWCONFIG="ap 12:34:56:78:90:12"
</pre>
<p>Questo sostituisce le opzioni <code>IWOPTS</code> e <code>WEP_OPTS</code> che non erano implementate completamente.
</p>
<h3>
<span id="rfkill_.28abilita.2Fdisabilita_il_wireless.29"></span><span class="mw-headline" id="rfkill_(abilita/disabilita_il_wireless)">rfkill (abilita/disabilita il wireless)</span>
</h3>
<p>Netcfg può abilitare/disabilitare l'emissione radio delle schede wireless dotate di software di controllo di tale funzionalità. Per le schede wireless con controlli hardware, netcfg può rilevarne l'eventuale stato di spegnimento o disabilitazione, che talvolta può dare luogo ad errori.
</p>
<p>Per abilitare il supporto rfkill, è necessario specificare qual'è il tipo di controllo switch dell'interfaccia wireless, cioè se hardware o software. Questo può essere impostato all'interno di un profilo o a livello di interfaccia (<code>/etc/network.d/interfaces/$INTERFACE</code>; consultare <a href="#Configurazione_tramite_interfaccia">#Configurazione tramite interfaccia</a>). 
</p>
<pre>RFKILL=soft # può essere sia 'hard' che 'soft'
</pre>
<p>Per alcuni "kill switch" la voce rfkill in <code>/sys</code> non è puntata sull'interfaccia e la variabile <code>RFKILL_NAME</code> deve essere impostata con il contenuto del corrispondente <code>/sys/class/rfkill/rfkill#/name</code>.
</p>
<p>Per esempio, su un Eee PC:
</p>
<pre>RFKILL=soft
RFKILL_NAME='eeepc-wlan'
</pre>
<p>On a mid-2011 Thinkpad:
</p>
<pre>RFKILL=hard
RFKILL_NAME='phy0'
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Il demone <code>net-auto-wireless</code> richiede un'interfaccia di configurazione a livello di rfkill altrimenti non verrà eseguito.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Attenzione:</strong> Alcuni dispositivi (almeno alcune schede SiS) possono creare voci a <code>/sys/class/rfkill/rfkill#</code> con nomi differenti per ogni switch. Qualcosa come ciò che segue potrà funzionare in tali casi (soluzione solo per il Wifi!):
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/network.d/interfaces/wlan0</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">RFKILL=hard
RFKILL_NAME=`cat /sys/class/rfkill/rfkill*/name 2&gt; /dev/null || echo ""`</pre>
</div>
<h3>
<span id="Eseguire_comandi_prima_o_dopo_che_l.27interfaccia_sia_accesa_o_spenta"></span><span class="mw-headline" id="Eseguire_comandi_prima_o_dopo_che_l'interfaccia_sia_accesa_o_spenta">Eseguire comandi prima o dopo che l'interfaccia sia accesa o spenta</span>
</h3>
<p>Se l'interfaccia richiede azioni speciali prima o dopo l'accesso o abbandono di una connessione, è possibile utilizzare le variabili <code>PRE_UP</code>, <code>POST_UP</code>, <code>PRE_DOWN</code>, and <code>POST_DOWN</code>.
</p>
<p>Ad esempio, se si desidera configurare la scheda wireless per funzionare in modalità ad-hoc, ma si può cambiare la modalità solo quando l'interfaccia è spenta, si potrebbe usare qualcosa di simile:
</p>
<pre>PRE_UP="ifconfig wlan0 down; iwconfig wlan0 mode ad-hoc"
</pre>
<p>Oppure, per il montaggio delle condivisioni di rete a connessione avvenuta, è possibile utilizzare:
</p>
<pre>POST_UP="sleep 5; mount /mnt/shares/nexus/utorrent 2&gt;/dev/null"
</pre>
<p>A volte potrebbe essere utile poter eseguire qualcosa da netcfg con un altro utente:
</p>
<pre>POST_UP="su -c '/you/own/command' username"
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Se i comandi specificati restituiscono qualcosa diverso da 0 (successo), netcfg interrompe l'operazione corrente. Quindi, se si vuole montare una condivisione di rete che potrebbe non essere disponibile al momento della connessione (restituendo un errore), è possibile creare uno script <a href="../en/Bash.html" title="Bash">Bash</a> separato con i comandi per il montaggio e un <code>exit 0</code> alla fine. In alternativa si può aggiungere <code>|| true</code> alla fine del comando che potrebbe restituire l'errore.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Il contenuto di queste variabili viene valutato con una dichiarazione <code>eval</code>. Le variabili profili ed interfaccia come <code>ESSID</code> sono disponibili all'uso, ma deve essere evitato in modo che la loro valutazione sia rinviata all'eval. Il modo più semplice per far questo è di usare apici singoli. Per esempio: <code>PRE_UP='echo $ESSID &gt;/tmp/essid'</code> valuterà correttamente, indipendentemente da dove sia il comando <code>PRE_UP</code>.</div>
<h3><span class="mw-headline" id="Errore_di_connessione_intermittente">Errore di connessione intermittente</span></h3>
<p>Alcune combinazioni driver+hardware possono talvolta interrompere la sincronizzazione. Usare i comandi pre e post
per aggiungere/rimuovere il driver e utilizzare uno script come il seguente
per aggiustare la connessione corrente:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/local/bin/netcfgd</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/bash
log() { logger -t "$( basename $0 )" "$*" ; }

main() {
        local host
        while sleep 1; do
                [[ "$( netcfg current )" = "" ]] &amp;&amp; continue

                host=$( route -n | awk '/^0.0.0.0/ { print $2 }' )
                ping -c 1 $host &amp;&amp; continue

                log "trying to reassociate"
                wpa_cli reassociate
                ping -c 1 $host &amp;&amp; continue

                log "reassociate failed, reconfiguring network"
                netcfg -r $( netcfg current )
        done
}

exec 1&gt;/dev/null
[[ $EUID != 0 ]] &amp;&amp; { log "must be root"; exit 1; }

for cmd in wpa_cli ping netcfg; do
        ! which $cmd &amp;&amp; {
                log "can't find command ${cmd}, exiting..."
                exit 1
        }
done

log 'starting...'
main 

</pre>
<h3><span class="mw-headline" id="Configurazione_tramite_interfaccia">Configurazione tramite interfaccia</span></h3>
<p>Le opzioni di configurazione che si applicano a tutti i profili utilizzando un'interfaccia possono essere impostate con <code>/etc/network.d/interfaces/$INTERFACE</code>. Per esempio:
</p>
<pre>/etc/network.d/interfaces/wlan0
</pre>
<p>Può risultare utile per le opzioni <code>wpa_supplicant</code>, il supporto switch rfkill, gli script pre/post up/down e <code>net-auto-wireless</code>. Queste opzioni vengono caricate <i>prima</i> dei profili in modo che tutte le opzioni basate sui profili abbiano la priorità.
</p>
<p><code>/etc/network.d/interfaces/$INTERFACE</code> può contenere qualsiasi opzione di profilo valida, anche se è più probabile l'uso di <code>PRE_UP</code>/<code>DOWN</code> e <code>POST_UP</code>/<code>DOWN</code> (descritto nella sezione precedente) o una delle opzioni elencate di seguito. Ricordarsi che queste opzioni sono impostate per <i>tutti</i> i profili che usano l'interfaccia; ad esempio, se non si desidera effettuare la connessione VPN del proprio ufficio, tenerlo presente, perchè cercherà comunque di connettersi ad <i>ogni</i> connessione wireless!
</p>
<pre>WPA_GROUP   - Imposta il gruppo dell'interfaccia wpa_ctrl
WPA_COUNTRY - Impone limiti di regolazione locale e permette l'uso di più canali
WPA_DRIVER  - Di default è wext, può essere utile nl80211 per dispositivi mac80211 
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <code>POST_UP</code>/<code>POST_DOWN</code> richiede il pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wpa_actiond/">wpa_actiond</a></span><sup><small>AUR</small></sup>.</div>
<h3><span class="mw-headline" id="Output_hooks">Output hooks</span></h3>
<p>netcfg ha un supporto limitato per caricare gli hooks che si occupano dell'output. Di default viene caricato l'hook <code>arch</code> che fornisce l'output che si visualizza normalmente. Viene fornito inoltre un syslog logging hook. Possono essere trovati in <code>/usr/lib/network/hooks</code>.
</p>
<h3>
<span id="ArchAssitant_.28GUI.29"></span><span class="mw-headline" id="ArchAssitant_(GUI)">ArchAssitant (GUI)</span>
</h3>
<p>Esiste un'utilità grafica per netfg basata sulle Qt chiamata ArchAssistant. Il proposito è quello di gestire e collegare/scollegare i vari profili da un'icona nel vassoio di sistema. È inoltre disponibileIl il rilevamento automatico delle reti wireless. Questo strumento è particolarmente utile per gli utilizzatori di computer portatili.
</p>
<p>Collegamenti:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/archassistant/">archassistant</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup> in the <a href="../it/Arch_User_Repository.html" title="Arch User Repository (Italiano)">AUR</a>
</li>
<li>
<a rel="nofollow" class="external text" href="http://www.kde-apps.org/content/show.php/ArchAssistant?content=76760">archassistant on kde-apps.org</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-08-04]</sup>
</li>
</ul>
<p>C'è anche un'interfaccia grafica relativamente nuova per netcfg2 su qt-apps.org che si occupa solo della configurazione di rete. È reperibile <a rel="nofollow" class="external text" href="http://www.qt-apps.org/content/show.php/netcfgGUI?content=99523">qui</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">link interrotto</a> 2020-08-04]</sup>.
</p>
<h3>
<span id="Netcfg_Easy_Wireless_LAN_.28newlan.29"></span><span class="mw-headline" id="Netcfg_Easy_Wireless_LAN_(newlan)">Netcfg Easy Wireless LAN (newlan)</span>
</h3>
<p>newlan è una applicazione mono tramite console che avvia una finestra di configurazione user-friendly per creare i profili <a href="../en/Netctl.html" class="mw-redirect" title="Netcfg">netcfg</a>; supporta inoltre le connesioni cablate.
</p>
<p>Installare il pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/newlan/">newlan</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup> da <a href="../en/Arch_User_Repository.html" title="Arch User Repository">AUR</a>.
</p>
<p><code>newlan</code> deve essere avviato con i permessi di root:
</p>
<pre># newlan -n mynewprofile
</pre>
<h3><span class="mw-headline" id="wifi-select">wifi-select</span></h3>
<p>Vi è uno strumento da console per la selezione delle reti wireless in "tempo reale" (in modalità <a href="../en/NetworkManager.html" title="NetworkManager">NetworkManager</a>) chiamato <code>wifi-select</code>. Lo strumento è utile per l'uso negli Internet café o in altri luoghi che si sta visitando per la prima (e forse l'ultima) volta. Con questo strumento, non è necessario creare un profilo per una nuova rete, basta digitare <code># wifi-select wlan0</code> e selezionare la rete che si vuole. 
</p>
<p><a href="../it/Pacman.html" title="Pacman (Italiano)">Installare</a> il pacchetto <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wifi-select/">wifi-select</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup>, attualmente disponibile nei <a href="../it/Official_repositories.html" title="Official repositories (Italiano)">repository ufficiali</a>.
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wifi-select/">wifi-select</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup> esegue quanto segue:
</p>
<ul>
<li>analizza i risultati di <code>iwlist scan</code> e presenta un elenco delle reti con le relative impostazioni di sicurezza (WPA/WEP/none) usando <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dialog">dialog</a></span>
</li>
<li>Se l'utente seleziona una rete con profilo esistente, basta usare questo profilo per connettersi con <code>netcfg</code>
</li>
<li>Se l'utente seleziona una nuova rete (per esempio, un hotspot Wi-Fi), <code>wifi-select</code> genera automaticamente un nuovo profilo con le <code>$SECURITY</code> corrispondenti e richiede una password (se necessaria). Utilizza DHCP come <code>$IP</code> in maniera predefinita</li>
<li>poi, se la connessione riesce, il profilo viene salvato per un utilizzo successivo</li>
<li>se la connessione non riesce, all'utente viene comunque richiesto se desidera mantenere il profilo generato per un ulteriore uso (ad esempio per cambiare l'<code>$IP</code> a statico o regolare alcune opzioni aggiuntive)</li>
</ul>
<p>Collegamenti: 
</p>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=63973">Forum thread</a> legati allo sviluppo di <code>wifi-select</code>
</li>
<li><a rel="nofollow" class="external text" href="https://github.com/sphynx/wifi-select">wifi-select on GitHub</a></li>
</ul>
<h3><span class="mw-headline" id="Passaggio_di_argomenti_a_dhcpcd">Passaggio di argomenti a dhcpcd</span></h3>
<p>Per esempio, aggungere
</p>
<pre>DHCP_OPTIONS='-C resolv.conf -G'
</pre>
<p>al profilo desiderato. L'esempio precedente impedisce a  <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhcpcd">dhcpcd</a></span> di scrivere in  <code>/etc/resolv.conf</code> ed impostare gli instradamenti di default.
</p>
<h4><span class="mw-headline" id="Accelerare_il_DHCP_mediante_dhcpcd">Accelerare il DHCP mediante dhcpcd</span></h4>
<p>Di default, <code>dhcpcd</code> conferma che l'IP assegnato non è ancora stato preso via ARP. Se si è sicuri che non lo sarà, e.g. nella tua rete domestica, è possibile accelerare il processo di connessione di circa 5 secondi aggiungendo <code>--noarp</code> a <code>DHCP_OPTIONS</code>:
</p>
<pre>DHCP_OPTIONS="--noarp"
</pre>
<p>Se non si vuole mai che <code>dhcpcd</code> effettui tale controllo ad ogni connessione, è possibile configurare globalmente ciò aggiungendo la linea seguente al file <code>/etc/dhcpcd.conf</code>:
</p>
<pre>noarp
</pre>
<h3><span class="mw-headline" id="Uso_di_dhclient_al_posto_di_dhcpcd">Uso di  dhclient al posto di dhcpcd</span></h3>
<p>Aggiungere semplicemente
</p>
<pre>DHCLIENT=yes
</pre>
<p>nel profilo desiderato.
</p>
<h3>
<span id="Configurare_un_bridge_da_usare_con_macchine_virtuali_.28VMs.29"></span><span class="mw-headline" id="Configurare_un_bridge_da_usare_con_macchine_virtuali_(VMs)">Configurare un bridge da usare con macchine virtuali (VMs)</span>
</h3>
<p>Per configurare un bridge chiamato br0 con IP statico:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/network.d/br0</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">INTERFACE="br0"
CONNECTION="bridge"
DESCRIPTION="bridge br0 static"
BRIDGE_INTERFACES="eth0"
IP='static'
ADDR='10.0.0.10'
GATEWAY='10.0.0.1'
DNS='10.0.0.1'
</pre>
<p>Per configurare un bridge chiamato br0 con dhcp IP:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/network.d/br0</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">INTERFACE="br0"
CONNECTION="bridge"
DESCRIPTION="bridge br0 dhcp"
BRIDGE_INTERFACES="eth0"
IP='dhcp'
</pre>
<p>Aggiungere poi il corrispondente nome del bridge al proprio campo <code>NETWORKS=(...)</code> in <code>/etc/conf.d/netcfg</code>.
</p>
<p>Può essere attivato chiamandolo direttamente, o riavviando net-profiles.
</p>
<pre>netcfg br0
</pre>
<pre>rc.d restart net-profiles
</pre>
<h3>
<span id="Aggiungere_pi.C3.B9_indirizzi_IP_ad_un.27interfaccia"></span><span class="mw-headline" id="Aggiungere_più_indirizzi_IP_ad_un'interfaccia">Aggiungere più indirizzi IP ad un'interfaccia</span>
</h3>
<p>Se si vuole assegnare più di un indirizzo IP ad una specifica interfaccia, questo può essere fatto emettendo il relativo comando <code>ip</code> in una dichiarazione <code>POST_UP</code> (che come suggerisce il nome verrà eseguito dopo che l'interfaccia è stata attivata). Dichiarazioni multiple possono essere separate con un <code>;</code>. Così se ad esempio si voglia assegnare entrambi gli indirizzi 10.0.0.1 e 10.0.0.2 all'interfaccia eth0; la configurazione dovrebbe essere qualcosa come le seguenti righe:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/network.d/multiple_ip</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">INTERFACE="eth0"
CONNECTION="ethernet"
IP='static'
ADDR='10.0.0.1'
POST_UP='ip addr add 10.0.0.2/24 dev eth0'
</pre>
<h3><span class="mw-headline" id="Aggiungere_indirizzamenti_statici">Aggiungere indirizzamenti statici</span></h3>
<p>Quando di desideri configurare indirizzamenti statici, ciò può essere fatto emettendo il relativo comando <code>ip</code> in una dichiarazione <code>POSTUP</code> (che come suggerisce il nome verrà eseguito dopo che l'interfaccia è stata attivata). Facoltativamente, si può aggiungere una dichiarazione  <code>PRE_DOWN</code> per rimuovere gli indirizzamenti detti quando l'interfaccia viene disattivata. Dichiarazioni multiple possono essere separate da un <code>;</code>. Nell'esempio seguente assegneremo 10.0.1.0/24 all'interfaccia eth1 ed in seguito rimuoveremo l'indirizzamento alla disattivazione dell'interfaccia.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/network.d/static_routes</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">INTERFACE="eth1"
CONNECTION="ethernet"
IP='static'
POST_UP='ip route add 10.0.1.0/24 dev eth1'
PRE_DOWN='ip route del 10.0.1.0/24 dev eth1'
</pre>
<h4><span class="mw-headline" id="Tethering_Bluetooth_via_pand">Tethering Bluetooth via <i>pand</i></span></h4>
<p>È possibile creare un profilo <a href="../en/Netctl.html" class="mw-redirect" title="Netcfg">netcfg</a>, per usufruire semplicemente del tethering tramite il Bluetooth del proprio dispositivo, usando la comune connessione "ethernet" e gestendo la connessione <i>pand</i> negli agganci PRE_UP e POST_DOWN. Supponendo che il dispositivo sia già accoppiato con indirizzo '00:00:DE:AD:BE:EF', creare semplicemente un profilo in /etc/network.d nominato - per esempio - 'tether':
</p>
<pre> CONNECTION="ethernet"
 DESCRIPTION="Ethernet via pand tethering to Bluetooth device"
 INTERFACE="bnep0"
 BTADDR="00:00:DE:AD:BE:EF"
 PRE_UP="pand -E -S -c ${BTADDR} -e ${INTERFACE} -n 2&gt;/dev/null"
 POST_DOWN="pand -k ${BTADDR}"
 IP="dhcp"
</pre>
<p>Quindi,  sia con i permessi di root o usando sudo,  eseguire:
</p>
<pre># netcfg tether
</pre>
<p>Per disattivare l'interfaccia e disabilitare il tethering:
</p>
<pre># netcfg down tether
</pre>
<h2><span class="mw-headline" id="Risoluzione_dei_problemi">Risoluzione dei problemi</span></h2>
<h3><span class="mw-headline" id="Debugging">Debugging</span></h3>
<p>Per eseguire netcfg con l'output di debug, impostare la variabile <code>NETCFG_DEBUG</code> su <code>"yes"</code>, per esempio:
</p>
<pre># NETCFG_DEBUG="yes" netcfg &lt;arguments&gt;
</pre>
<p>Le informazioni di debug per wpa_supplicant possono essere elencate su log usando <code>WPA_OPTS</code> all'interno di un profilo, ad esempio:
</p>
<pre>WPA_OPTS="-f/path/to/log"
</pre>
<p>Tutto ciò che è inserito sarà aggiunto al comando quando viene richiamato wpa_supplicant.
</p>
<h3><span class="mw-headline" id="Rete_non_disponibile">Rete non disponibile</span></h3>
<p>Questo errore è in genere causato da:
</p>
<ul>
<li>Fuori campo; oppure</li>
<li>Problemi con i driver.</li>
</ul>
<h3><span class="mw-headline" id="Associazione_wireless_non_riuscita">Associazione wireless non riuscita</span></h3>
<p>Questo errore è in genere causato da:
</p>
<ul>
<li>Fuori campo/ricezione;</li>
<li>Configurazione errata;</li>
<li>Password errata;</li>
<li>Problemi con i driver; oppure</li>
<li>Tentativo di connessione a una rete nascosta.</li>
</ul>
<p>Se il problema di connessione è dovuto ad una cattiva ricezione, aumentare la variabile <code>TIMEOUT</code> in <code>/etc/network.d/mynetwork</code>, come segue:
</p>
<pre>TIMEOUT=60
</pre>
<p>Se viene usato un AP con SSID nascosto, provare:
</p>
<pre>PRE_UP='iwconfig $INTERFACE essid $ESSID'
</pre>
<h3>
<span id="Impossibile_ottenere_l.27indirizzo_IP_con_DHCP"></span><span class="mw-headline" id="Impossibile_ottenere_l'indirizzo_IP_con_DHCP">Impossibile ottenere l'indirizzo IP con DHCP</span>
</h3>
<p>Questo errore è in genere causato da:
</p>
<ul><li>Fuori campo/ricezione</li></ul>
<p>Provare ad incrementare la variabile <code>DHCP_TIMEOUT</code> nella propria rete <code>/etc/network.d/profile</code>.
</p>
<h3>
<span id="Connessione_non_valida.2C_controllo_ortografico_o_guardare_gli_esempi"></span><span class="mw-headline" id="Connessione_non_valida,_controllo_ortografico_o_guardare_gli_esempi">Connessione non valida, controllo ortografico o guardare gli esempi</span>
</h3>
<p>È necessario impostare <code>CONNECTION</code> a uno dei tipi di connessione elencati nella cartella <code>/usr/lib/network/connections</code>. In alternativa, utilizzare una delle configurazioni d'esempio fornite in <code>/etc/network.d/examples</code>.
</p>
<h3><span class="mw-headline" id="Nessuna_connessione">Nessuna connessione</span></h3>
<h4><span class="mw-headline" id="Carrier_Timeout">Carrier Timeout</span></h4>
<p>Se si ottengono vari messaggi di debug simili ai seguenti (ricordando che il nome del profilo e dell'interfaccia può essere differente), può essere che il processo di attivazione dell'interfaccia stia impiegando troppo tempo.
</p>
<pre> DEBUG: Loading profile eth0-dhcp
 DEBUG: Configuring interface eth0
 :: eth0-dhcp up
 DEBUG: status reported to profile_up as:
 DEBUG: Loading profile eth0-dhcp
 DEBUG: Configuring interface eth0
 DEBUG: ethernet_iproute_up ifup
   &gt; No connection
 DEBUG: profile_up connect failed
  [FAIL]
</pre>
<p>Di default sono 2 secondi.
Per allungare il timeout, impostare la variabile CARRIER_TIMEOUT prima di richiamare netcfg.
</p>
<p>Questo thread illustra un esempio di questo problema:
<a rel="nofollow" class="external free" href="https://bbs.archlinux.org/viewtopic.php?id=138615">https://bbs.archlinux.org/viewtopic.php?id=138615</a>
</p>
<h4><span class="mw-headline" id="Skip_no_carrier">Skip no carrier</span></h4>
<p>Quando si attiva manualmente un'interfaccia  ma il log dice „Nessuna Connessione" durante il boot, può essere che la connessione fisica non possa essere rilevata abbastanza velocemente. Provare ad aggiungere:
</p>
<pre> SKIPNOCARRIER='yes'
</pre>
<p>al proprio profilo. Netcfg assegnerà l'indirizzo IP indipendentemente dal fatto che vi sia una connessione cablata attiva.
</p>
<h3><span class="mw-headline" id="Driver_quirks">Driver quirks</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Quasi sicuramente <b>non</b> si avrà bisogno dei quirks (arguzie); per prima cosa assicurarsi che la configurazione sia corretta prima di farne uso. I quirks sono destinati ad una ridotta gamma di driver con problemi insoliti, molti dei quali sono obsoleti. Questi sono rimedi alternativi, non soluzioni.</div>
<p>Alcuni driver si comportano stranamente e hanno bisogno di soluzioni alternative per funzionare. I quirks devono essere abilitati manualmente. Le migliori soluzioni sono determinate dalla lettura nei forum, traendo spunto da quello che altri hanno sperimentato, e, se non funziona , riprovare ancora. I quirks possono essere anche vari.
</p>
<dl>
<dt><code>prescan</code></dt>
<dd>Eseguire <code>iwlist $INTERFACE scan</code> prima di tentare la connessione (broadcom)</dd>
<dt><code>preessid</code></dt>
<dd>Eseguire <code>iwconfig $INTERFACE essid $ESSID</code> prima di tentare la connessione (ipw3945, broadcom e Intel PRO/Wireless 4965AGN)</dd>
<dt><code>wpaessid</code></dt>
<dd>Come sopra, eseguire prima dell'avvio <code>wpa_supplicant</code>. Non più supportato   - usare invece <pre>IWCONFIG="essid $ESSID"</pre> (ath9k).</dd>
<dt><code>predown</code></dt>
<dd>Neutralizzare l'interfaccia (down) prima dell'associazione e ripristinarla solo in seguito (madwifi)</dd>
<dt><code>postsleep</code></dt>
<dd>Aspettare un momento prima di verificare se l'associazione è riuscita</dd>
<dt><code>postscan</code></dt>
<dd>Eseguire <code>iwlist scan</code> dopo l'associazione</dd>
</dl>
<p>Aggiungere i quirks richiesti al file di configurazione di netcfg <code>/etc/network.d/mynetwork</code>, per esempio:
</p>
<pre>QUIRKS=(prescan preessid)
</pre>
<p>Se si ottengono gli errori "Wireless network not found", "Association failed" avendo provato le soluzioni descritte sopra, o se è usato un AP con un SSID nascosto, consultare la sezione precedente <a href="#Associazione_wireless_non_riuscita">#Associazione wireless non riuscita</a>.
</p>
<h3>
<span id="Ralink_legacy_driver_rt2500.2C_rt2400_usando_iwpriv"></span><span class="mw-headline" id="Ralink_legacy_driver_rt2500,_rt2400_usando_iwpriv">Ralink legacy driver rt2500, rt2400 usando iwpriv</span>
</h3>
<p>Non ci sono soluzioni per aggiungere il supporto WPA per questi driver. rt2x00 è comunque supportato, e andrà a sostituire questi.
</p>
<p>Se è necessario utilizzarli, creare uno script che esegue i comandi necessari <code>iwpriv</code> e mettere il suo percorso in <code>PRE_UP</code>.
</p>
<h3>
<span id="Nel_caso_di:_.22.2Fvar.2Frun.2Fnetwork.2F.2Fsuspend.2F.22:_No_such_file_or_directory"></span><span class="mw-headline" id='Nel_caso_di:_"/var/run/network//suspend/":_No_such_file_or_directory'>Nel caso di: "/var/run/network//suspend/":  No such file or directory</span>
</h3>
<p>Se si riceve questo messaggio di errore non preoccuparsi, perché è un bug noto. Creare la directory a mano.
</p>
<h3>
<span id="Ancora_non_funziona.2C_che_cosa_devo_fare.3F"></span><span class="mw-headline" id="Ancora_non_funziona,_che_cosa_devo_fare?">Ancora non funziona, che cosa devo fare?</span>
</h3>
<p>Se questo articolo non ha aiutato a risolvere il problema, il miglior posto per chiedere aiuto è il forum o la mailing list. 
</p>
<p>Per essere in grado di determinare il problema, abbiamo bisogno di informazioni. Quando richiesto, fornire il seguente output:
</p>
<ul>
<li><b>ALL OUTPUT FROM netcfg</b></li>
<li><b>ALL OUTPUT FROM netcfg</b></li>
<li>
<b>ALL OUTPUT FROM netcfg</b>
<ul><li>Questo è assolutamente fondamentale per poter determinare cosa sia andato storto. Il messaggio potrebbe essere breve o inesistente, ma può significare molto.</li></ul>
</li>
<li>
<b><code>/etc/network.d</code> network profiles</b>
<ul><li>Questo è anche importante, in quanto molti problemi sono semplici errori di configurazione.</li></ul>
</li>
<li><b>netcfg version</b></li>
<li><code>lsmod</code></li>
<li><code>iwconfig</code></li>
</ul>
<h2><span class="mw-headline" id="Domande_frequenti">Domande frequenti</span></h2>
<h3>
<span id="Perch.C3.A8_netcfg_non_fa_.28alcune_cose.29.3F"></span><span class="mw-headline" id="Perchè_netcfg_non_fa_(alcune_cose)?">Perchè netcfg non fa <i>(alcune cose)</i>?</span>
</h3>
<p>netcfg non ne ha bisogno, si limita a connettersi alle reti, è modularare e riutilizzabile; consultare <code>/usr/lib/network</code> per funzioni di riusabilità con scripts personalizzati.
</p>
<h3>
<span id="Perch.C3.A8_netcfg_non_si_comporta_in_questo_modo.3F"></span><span class="mw-headline" id="Perchè_netcfg_non_si_comporta_in_questo_modo?">Perchè netcfg non si comporta in <i>questo</i> modo?</span>
</h3>
<p>netcfg non impone alcuna regola; Si limita a collegarsi alle reti. Non impone alcun concetto euristico, come "disconnettersi dal wireless se ethernet è collegato". Se si desidera una funzionalità del genere, no dovrebbe essere complicato scrivere uno strumento separato, al di fuori di netcfg. Vedere la domanda di cui sopra.
</p>
<h3>
<span id="Ho_ancora_bisogno_di_.28qualche_cosa.29_se_sto_utilizzando_netcfg.3F"></span><span class="mw-headline" id="Ho_ancora_bisogno_di_(qualche_cosa)_se_sto_utilizzando_netcfg?">Ho ancora bisogno di <i>(qualche cosa)</i> se sto utilizzando netcfg?</span>
</h3>
<p>Questa domanda di solito si riferisce a <code>/etc/hosts</code> e la variabile <code>HOSTNAME</code> in <code>/etc/rc.conf</code>, che sono ancora entrambi necessari. Si può comunque rimuovere <code>network</code> dalla stringa <code>DAEMONS</code> se tutte le reti sono state configurate con netcfg.
</p>
<h2><span class="mw-headline" id="Resources">Resources</span></h2>
<ul><li><a rel="nofollow" class="external text" href="https://projects.archlinux.org/netcfg.git/">netcfg network scripts repository</a></li></ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../it/Category:Networking.html" title="Category:Networking (Italiano)">Networking (Italiano)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Netcfg_(Italiano)&amp;oldid=646945">https://wiki.archlinux.org/index.php?title=Netcfg_(Italiano)&amp;oldid=646945</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 26 December 2020, at 12:17.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
