<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Dual boot with Windows (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Dual_boot_with_Windows_Русский rootpage-Dual_boot_with_Windows_Русский skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Dual boot with Windows (Русский)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><br>
Эта статья описывает способы установки и особенности совместного использования Arch Linux и Windows на одном компьютере.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%D0%92%D0%B0%D0%B6%D0%BD%D0%B0%D1%8F_%D0%B8%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D1%8F"><span class="tocnumber">1</span> <span class="toctext">Важная информация</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#%D0%9E%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B8_Windows_%D0%BD%D0%B0_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0%D1%85_%D1%81_UEFI_%D0%B8_BIOS"><span class="tocnumber">1.1</span> <span class="toctext">Особенности загрузки Windows на системах с UEFI и BIOS</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BD%D0%B0_%D0%BF%D0%BB%D0%B0%D0%BD%D1%88%D0%B5%D1%82%D1%8B_%D1%81_%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D0%BE%D1%80%D0%B0%D0%BC%D0%B8_Intel_Atom"><span class="tocnumber">1.2</span> <span class="toctext">Установка на планшеты с процессорами Intel Atom</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#%D0%9F%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%BA%D0%B0_%D1%80%D0%B5%D0%B6%D0%B8%D0%BC%D0%BE%D0%B2_UEFI_%D0%B8_BIOS_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D1%87%D0%B8%D0%BA%D0%B0%D0%BC%D0%B8"><span class="tocnumber">1.3</span> <span class="toctext">Поддержка режимов UEFI и BIOS загрузчиками</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#UEFI_Secure_Boot"><span class="tocnumber">1.4</span> <span class="toctext">UEFI Secure Boot</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#%D0%91%D1%8B%D1%81%D1%82%D1%80%D1%8B%D0%B9_%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA"><span class="tocnumber">1.5</span> <span class="toctext">Быстрый запуск</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#%D0%9E%D0%B3%D1%80%D0%B0%D0%BD%D0%B8%D1%87%D0%B5%D0%BD%D0%B8%D1%8F_%D0%B8%D0%BC%D1%91%D0%BD_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2_%D0%B2_Windows"><span class="tocnumber">1.6</span> <span class="toctext">Ограничения имён файлов в Windows</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8">
<a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0"><span class="tocnumber">2</span> <span class="toctext">Установка</span></a>
<ul>
<li class="toclevel-2 tocsection-9">
<a href="#%D0%A1%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B_%D1%81_BIOS"><span class="tocnumber">2.1</span> <span class="toctext">Системы с BIOS</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D1%8F_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D1%87%D0%B8%D0%BA_Linux"><span class="tocnumber">2.1.1</span> <span class="toctext">Используя загрузчик Linux</span></a></li>
<li class="toclevel-3 tocsection-11">
<a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D1%8F_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D1%87%D0%B8%D0%BA_Windows"><span class="tocnumber">2.1.2</span> <span class="toctext">Используя загрузчик Windows</span></a>
<ul>
<li class="toclevel-4 tocsection-12"><a href="#%D0%97%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D1%87%D0%B8%D0%BA_Windows_Vista/7/8/8.1"><span class="tocnumber">2.1.2.1</span> <span class="toctext">Загрузчик Windows Vista/7/8/8.1</span></a></li>
<li class="toclevel-4 tocsection-13"><a href="#%D0%97%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D1%87%D0%B8%D0%BA_Windows_2000/XP"><span class="tocnumber">2.1.2.2</span> <span class="toctext">Загрузчик Windows 2000/XP</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-14"><a href="#%D0%A1%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B_%D1%81_UEFI"><span class="tocnumber">2.2</span> <span class="toctext">Системы с UEFI</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82_%D1%85%D1%80%D0%B0%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE_%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%B8"><span class="tocnumber">3</span> <span class="toctext">Формат хранения системного времени</span></a></li>
<li class="toclevel-1 tocsection-16"><a href="#%D0%A1%D0%BC%D0%BE%D1%82%D1%80%D0%B8%D1%82%D0%B5_%D1%82%D0%B0%D0%BA%D0%B6%D0%B5"><span class="tocnumber">4</span> <span class="toctext">Смотрите также</span></a></li>
</ul>
</div>

<h2>
<span id=".D0.92.D0.B0.D0.B6.D0.BD.D0.B0.D1.8F_.D0.B8.D0.BD.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.86.D0.B8.D1.8F"></span><span class="mw-headline" id="Важная_информация">Важная информация</span>
</h2>
<h3>
<span id=".D0.9E.D1.81.D0.BE.D0.B1.D0.B5.D0.BD.D0.BD.D0.BE.D1.81.D1.82.D0.B8_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B8_Windows_.D0.BD.D0.B0_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0.D1.85_.D1.81_UEFI_.D0.B8_BIOS"></span><span class="mw-headline" id="Особенности_загрузки_Windows_на_системах_с_UEFI_и_BIOS">Особенности загрузки Windows на системах с UEFI и BIOS</span>
</h3>
<p>В зависимости от версии используемой операционной системы Windows на режим загрузки и разбивку дисков на разделы налагаются определённые ограничения:
</p>
<ul><li>
<b>Windows XP</b> (<b>x86</b> и <b>x86_64</b> (также называемая x64) — RTM и все сервис-паки) не поддерживает загрузку в UEFI-режиме ни с MBR, ни с GPT. Кроме того, не поддерживается загрузка в режиме BIOS с диска GPT. Единственный поддерживаемый режим — BIOS с диска MBR.</li></ul>
<ul><li>
<b>Windows Vista</b> и <b>7</b> (<b>x86</b> — RTM и все сервис-паки) поддерживают загрузку только в режиме BIOS и только с дисков MBR.</li></ul>
<ul><li>
<b>Windows Vista RTM x86_64</b> (только RTM, без сервис-паков) поддерживает загрузку в режиме BIOS только с дисков MBR.</li></ul>
<ul><li>
<b>Windows Vista</b> (SP1 и старше, кроме RTM), а также <b>Windows 7</b> <b>x86_64</b> поддерживают загрузку в режиме UEFI x86_64 только с дисков GPT, или в режиме BIOS только с дисков MBR. Режимы UEFI IA32 + GPT/MBR, UEFI x86_64 + MBR, BIOS + GPT не поддерживаются.</li></ul>
<ul><li>
<b>Windows 8/8.1 x86</b> поддерживают загрузку в режиме UEFI IA32 только с дисков GPT, либо в режиме BIOS только с дисков MBR. С (U)EFI IA32 поставляется незначительное количество систем, например, старые Mac с процессорами Intel (модели, выпущенные ранее 2010 года), и планшеты с Windows 8/8.1 на процессорах Intel Atom (архитектура Clover Trail и Bay Trail, загружаются только в режиме UEFI IA32 и только с дисков GPT).</li></ul>
<ul><li>
<b>Windows 8/8.1</b> <b>x86_64</b> поддерживает загрузку в режиме UEFI x86_64 только с дисков, использующих GPT, или в режиме BIOS с дисков MBR. Поддержка режима UEFI IA32, загрузки в режиме UEFI x86_64 с диска MBR, а также загрузки в режиме BIOS с диска GPT отсутствует.</li></ul>
<p>В случае, если на компьютер была предустановлена Windows:
</p>
<ul>
<li>Все компьютеры с предустановленной Windows XP, Vista или 7 (32 бит), независимо от версии сервис-пака, архитектуры (кроме Windows 7), редакции (SKU) и поддержки UEFI оборудованием, по умоланию загружаются в режиме BIOS-MBR.</li>
<li>Большинство компьютеров с предустановленной 64-битной Windows 7, независимо от версии сервис-пака и редакции, по умолчанию загружаются в режиме BIOS-MBR. Некоторое количество, как правило, наиболее современных компьютеров, загружаются в режиме UEFI-GPT.</li>
<li>Все компьютеры с предустановленной Windows 8/8.1 загружаются в режиме UEFI-GPT. Разрядность UEFI соответствует разрядности операционной системы, т. е. 64-битная Windows 8/8.1 загружается 64-битным UEFI, а 32-битная Windows — 32-битным UEFI в режиме IA32.</li>
</ul>
<p>Чтобы проверить, в каком режиме была загружена система, воспользуйтесь следующей <a rel="nofollow" class="external text" href="http://www.eightforums.com/tutorials/29504-bios-mode-see-if-windows-boot-uefi-legacy-mode.html">инструкцией</a>:
</p>
<ul>
<li>Загрузите Windows;</li>
<li>Нажмите комбинацию клавиш Win+R, чтобы открыть диалог запуска программы;</li>
<li>В появившемся окне введите "msinfo32" и нажмите Enter;</li>
<li>В левой части окна <b>System Information</b> нажмите <b>System Summary</b> и обратите внимание на поле <b>BIOS mode</b> в правой части окна;</li>
<li>Если значение этого поля равно <b>UEFI</b>, система была загружена в режиме UEFI-GPT. Если значение поля равно <b>Legacy</b>, система загружена в режиме BIOS-MBR.</li>
</ul>
<p>Как правило, тип используемой таблицы разделов зависит от того, в каком режиме загружается Windows. Например, если её загрузка происходит в режиме UEFI, то она может быть установлена только на диск с GPT. Если Windows загружается в режиме BIOS, её можно установить только на диск с MBR (также называемой "таблицей разделов в стиле <b>msdos</b>"). Это ограничение — особенность работы установщика Windows, и на данный момент (декабрь 2014 года) не существует официально поддерживаемого Microsoft способа обойти его. Таким образом, в зависимости от способа загрузки для системного диска Windows поддерживает только либо MBR, либо GPT.
</p>
<p>Ядро Linux не имеет таких ограничений, тем не менее, возможность загрузки с того или иного раздела зависит также от используемого загрузчика и параметров его конфигурации. Если вы планируете устанавливать и загружать Arch Linux и Windows с одного диска, необходимо учесть ограничения, налагаемые Windows, поскольку от способа загрузки и типа используемой таблицы разделов зависит процедура установки и настройки загрузчика. Для получения дополнительной информации пройдите по ссылке <a rel="nofollow" class="external free" href="https://support.microsoft.com/kb/2581408">https://support.microsoft.com/kb/2581408</a>
</p>
<h3>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.BD.D0.B0_.D0.BF.D0.BB.D0.B0.D0.BD.D1.88.D0.B5.D1.82.D1.8B_.D1.81_.D0.BF.D1.80.D0.BE.D1.86.D0.B5.D1.81.D1.81.D0.BE.D1.80.D0.B0.D0.BC.D0.B8_Intel_Atom"></span><span class="mw-headline" id="Установка_на_планшеты_с_процессорами_Intel_Atom">Установка на планшеты с процессорами Intel Atom</span>
</h3>
<p>Планшеты с процессором Intel Atom (архитектура Clover Trail и Bay Trail) имеют поддержку только режима IA32 UEFI, поддержка Legacy BIOS (CSM) в них отсутствует (в отличие от большей части систем с UEFI x86_64). Это связано с тем, что производители аппаратного обеспечения для планшетов следуют рекомендациям Microsoft для оптимизации их работы в режиме Connected Standby, появившемся в Windows 8. Из-за отсутствия поддержки режима Legacy BIOS и отсутствия 32-битного UEFI-загрузчика в официальном установочном образе Arch Linux, этот образ нельзя использовать для установки Arch Linux на вышеупомянутые планшеты.
</p>
<h3>
<span id=".D0.9F.D0.BE.D0.B4.D0.B4.D0.B5.D1.80.D0.B6.D0.BA.D0.B0_.D1.80.D0.B5.D0.B6.D0.B8.D0.BC.D0.BE.D0.B2_UEFI_.D0.B8_BIOS_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D1.87.D0.B8.D0.BA.D0.B0.D0.BC.D0.B8"></span><span class="mw-headline" id="Поддержка_режимов_UEFI_и_BIOS_загрузчиками">Поддержка режимов UEFI и BIOS загрузчиками</span>
</h3>
<p>Большинство загрузчиков Linux, установленные для одного типа , не могут передавать управление загрузчикам других типов. Например, если Arch Linux установлен на первый диск в режиме UEFI-GPT или UEFI-MBR, и на втором диске имеется Windows, установленная в режиме BIOS-MBR, загрузчик Arch не сможет передать управление загрузчику Windows. Аналогично, если Arch установлен в режиме BIOS-MBR или BIOS-GPT на первый диск, и Windows установлена в режиме UEFI-GPT на второй, загрузчик Arch не сможет передать управление загрузчику Windows.
</p>
<p>У этого правила есть два исключения:
1) Grub (2) на компьютерах Apple Mac, установленный в режиме EFI, может передавать управление BIOS-загрузчику другой операционной системы с помощью команды <b>appleloader</b>.
2) rEFInd, который поддерживает передачу управления BIOS-загрузчикам на системах с UEFI, но, <a rel="nofollow" class="external text" href="https://rodsbooks.com/refind/using.html#legacy">как утверждает его автор</a>, этот метод не всегда работает на системах, отличных от Apple Mac.
</p>
<p>Тем не менее, если Arch установлен в режиме BIOS-GPT на один диск, а Windows установлена в режиме BIOS-MBR на другой диск, то BIOS-загрузчик Arch Linux может загружать Windows со второго диска, если поддержка такого функционала присутствует в используемом вами загрузчике.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Если Arch и Windows должны загружаться с одного диска, при установке Arch вы обязаны использовать тот же режим загрузки (BIOS или UEFI) и тот же тип таблицы разделов (GPT или MBR), которые используются установленной Windows.</div>
<h3><span class="mw-headline" id="UEFI_Secure_Boot">UEFI Secure Boot</span></h3>
<p>Все компьютеры с предустановленной Windows 8/8.1 по умолчанию загружаются в режиме UEFI-GPT с включённой технологией UEFI Secure Boot (которая может отключаться по желанию пользователя) и выключенным Legacy BIOS Support (CSM) (который при необходимости можно включить, если он поддерживается вашим UEFI). Это — следствие выполнения требований Microsoft к аппаратному обеспечению для систем, поставляемых с предустановленной Windows.
</p>
<p>Установочный образ Arch Linux поддерживает Secure Boot, однако, если он включен, при установке системы потребуется выполнить несколько дополнительных шагов, описанных в <a href="../en/Unified_Extensible_Firmware_Interface.html#Secure_Boot" class="mw-redirect" title="UEFI">setup the HashTool while booting</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">ссылка недействительна</a>: раздел не найден]</sup>. Рекомендуется отключить Secure Boot через настройки UEFI перед установкой Arch Linux. Отключение этой опции не должно вызвать никаких проблем с загрузкой Windows 8/8.1.
</p>
<p>Единственная проблема с отключением Secure Boot — для выполнения этого действия требуется физический доступ к компьютеру, поскольку Microsoft выступила категорически против добавления возможности удалённого (и даже локального программного) управления этой функцией.
</p>
<h3>
<span id=".D0.91.D1.8B.D1.81.D1.82.D1.80.D1.8B.D0.B9_.D0.B7.D0.B0.D0.BF.D1.83.D1.81.D0.BA"></span><span class="mw-headline" id="Быстрый_запуск">Быстрый запуск</span>
</h3>
<p>Быстрый запуск — новая функция, появившаяся в Windows 8, позволяющая ускорить запуск системы. Ускорение достигается за счёт частичной гибернации системы, т. е. часть оперативной памяти сжимается и складывается на жёсткий диск. Это вызывает следующую проблему — при использовании другой операционной системы изменение файлов на диске может привести к потере данных в Windows. Даже если не использовать системный раздел с Windows из другой ОС, проблемы могут возникнуть из-за изменения файлов на системном разделе EFI. Следовательно, для обеспечения большей стабильности работы Windows рекомендуется отключить функцию быстрого запуска ещё до начала установки Linux, воспользовавшись этой <a href="../ru/NTFS-3G.html#Metadata_kept_in_Windows_cache.2C_refused_to_mount" title="NTFS-3G (Русский)">инструкцией</a>.
</p>
<p>Драйвер <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ntfs-3g">ntfs-3g</a></span> <a rel="nofollow" class="external text" href="https://sourceforge.net/p/ntfs-3g/ntfs-3g/ci/559270a8f67c77a7ce51246c23d2b2837bcff0c9/">автоматически обнаруживает</a> случаи использования функции быстрого запуска и отказывается монтировать разделы в режиме чтения-записи, пока Windows не будет корректно перезагружена.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Драйвер NTFS, входящий в состав ядра Linux, не имеет такой защиты.</div>
<h3>
<span id=".D0.9E.D0.B3.D1.80.D0.B0.D0.BD.D0.B8.D1.87.D0.B5.D0.BD.D0.B8.D1.8F_.D0.B8.D0.BC.D1.91.D0.BD_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2_.D0.B2_Windows"></span><span class="mw-headline" id="Ограничения_имён_файлов_в_Windows">Ограничения имён файлов в Windows</span>
</h3>
<p>В Windows полное имя файла (включая путь) не может содержать больше <a rel="nofollow" class="external text" href="http://blogs.msdn.com/b/bclteam/archive/2007/02/13/long-paths-in-net-part-1-of-3-kim-hamilton.aspx">260 символов</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-12-24]</sup>.
</p>
<p>Кроме того, Windows <a rel="nofollow" class="external text" href="https://msdn.microsoft.com/en-us/library/aa365247(VS.85).aspx#naming_conventions">налагает ограничения</a> на символы, которые можно использовать в именах файлов, для обеспечения совместимости со старыми программами. Следующие символы нельзя использовать в именах файлов и директорий:
</p>
<ul>
<li>&lt; (знак «меньше»)</li>
<li>&gt; (знак «больше»)</li>
<li>: (двоеточие)</li>
<li>" (двойные кавычки)</li>
<li>/ (прямой слэш)</li>
<li>\ (обратный слэш)</li>
<li>| (вертикальная черта)</li>
<li>? (вопросительный знак)</li>
<li>* (звёздочка)</li>
</ul>
<p>Эти ограничения налагаются Windows, но не NTFS: любая другая операционная система может использовать символы из этого списка на разделе NTFS без каких-либо проблем. Однако, при попытке получить доступ к таким файлам из Windows она не сможет их обнаружить, запустит проверку диска программой <code>chkdsk</code>, которая может решить проблему, просто удалив файлы, что приведёт к потере данных.
</p>
<p>Для новых файлов драйвер <b>NTFS-3G</b> позволяет применять ограничения Windows, если использовать опцию <a rel="nofollow" class="external text" href="http://www.tuxera.com/community/ntfs-3g-manual/#4">windows_filenames</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-12-24]</sup> (см. <a href="../ru/Fstab.html" title="Fstab (Русский)">fstab (Русский)</a>).
</p>
<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0"></span><span class="mw-headline" id="Установка">Установка</span>
</h2>
<p>Рекомендуемый способ установки двух систем — сначала установить Windows, используя для её разделов только часть диска и оставив немного свободного места. После заврешения установки Windows, загрузитесь в установочную среду Linux, создайте необходимые разделы и выполните установку в них, оставив разделы Windows нетронутыми. Если вы используете режим UEFI, установщик Windows создаст системный раздел EFI, который можно использовать для установки загрузчика Linux.
</p>
<h3>
<span id=".D0.A1.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B_.D1.81_BIOS"></span><span class="mw-headline" id="Системы_с_BIOS">Системы с BIOS</span>
</h3>
<h4>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D1.83.D1.8F_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D1.87.D0.B8.D0.BA_Linux"></span><span class="mw-headline" id="Используя_загрузчик_Linux">Используя загрузчик Linux</span>
</h4>
<p>Вы можете использовать один из следующих загрузчиков: <a href="../ru/GRUB.html#Windows" title="GRUB (Русский)">GRUB</a> либо <a href="../ru/Syslinux.html#.D0.9F.D0.B5.D1.80.D0.B5.D0.B4.D0.B0.D1.87.D0.B0_.D1.83.D0.BF.D1.80.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D1.8F_.D0.B4.D1.80.D1.83.D0.B3.D0.BE.D0.BC.D1.83_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D1.87.D0.B8.D0.BA.D1.83_.28chainloading.29" title="Syslinux (Русский)">Syslinux</a>.
</p>
<h4>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D1.83.D1.8F_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D1.87.D0.B8.D0.BA_Windows"></span><span class="mw-headline" id="Используя_загрузчик_Windows">Используя загрузчик Windows</span>
</h4>
<p>При использовании этого метода загрузчик Windows запускает GRUB, который, в свою очередь, загружает Arch Linux.
</p>
<h5>
<span id=".D0.97.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D1.87.D0.B8.D0.BA_Windows_Vista.2F7.2F8.2F8.1"></span><span class="mw-headline" id="Загрузчик_Windows_Vista/7/8/8.1">Загрузчик Windows Vista/7/8/8.1</span>
</h5>
<p>Чтобы загрузчик Windows смог "увидеть" раздел Linux, один из разделов необходимо отформатировать в FAT32 (в примере далее будет использоваться раздел <code>/dev/sda3</code>). Некоторые источники утверждают, что раздел, с которым работает загрузчик Windows, обязательно должен быть первичным (primary), но есть сообщения об удачном использовании расширенного (extended) раздела.
</p>
<ul><li>Когда дойдёте до этапа установки GRUB, выполните установку не в MBR, а в раздел, соответствующий директории /<code>/boot</code>.</li></ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Например, пусть директории <code>/boot</code> соответствует раздел <code>/dev/sda5</code>. При установке GRUB в качестве пути для установки вместо имени устройства <code>/dev/sda</code> необходимо передать ему имя раздела <code>/dev/sda5</code>.</div>
<ul><li>Из операционной системы Linux сделайте копию загрузочного сектора, вводя следующие команды от имени суперпользователя в командный интерпретатор:</li></ul>
<pre>my_windows_part=/dev/sda3
my_boot_part=/dev/sda5
mkdir /media/win
mount $my_windows_part /media/win
dd if=$my_boot_part of=/media/win/linux.bin bs=512 count=1
</pre>
<ul><li>Загрузите Windows и откройте содержимое созданного ранее раздела с FAT32. Скопируйте файл linux.bin, созданный на предыдущем этапе, на раздел <code>C:\</code>. Запустите командный интерпретатор (<b>cmd</b>) от имени администратора и выполните команду:</li></ul>
<pre>bcdedit /create /d “Linux” /application BOOTSECTOR
</pre>
<ul><li>BCDEdit выведет на экран буквенно-цифровой идентификатор, который далее будет обозначаться как {ID}. Пример такого идентификатора — {d7294d4e-9837-11de-99ac-f3f3a79e3e93} (у вас он будет отличаться). Введите в окно терминала следующие команды, заменяя {ID} на ваше значение идентификатора:</li></ul>
<pre>bcdedit /set {ID} device partition=c:
bcdedit /set {ID} path \linux.bin
bcdedit /displayorder {ID} /addlast
bcdedit /timeout 30
</pre>
<p>Осталось перезапустить систему и проверить результат.
</p>
<h5>
<span id=".D0.97.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D1.87.D0.B8.D0.BA_Windows_2000.2FXP"></span><span class="mw-headline" id="Загрузчик_Windows_2000/XP">Загрузчик Windows 2000/XP</span>
</h5>
<p>Подробную информацию об использовании такого метода загрузки можно найти <a rel="nofollow" class="external text" href="http://www.geocities.com/epark/linux/grub-w2k-HOWTO.html">здесь</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-08-02]</sup>. Обратите внимание, что у этого метода нет каких-либо значимых преимуществ перед использованием загрузчика Linux, при этом он всё равно требует наличия раздела <code>/boot</code> и гораздо сложнее в настройке.
</p>
<h3>
<span id=".D0.A1.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B_.D1.81_UEFI"></span><span class="mw-headline" id="Системы_с_UEFI">Системы с UEFI</span>
</h3>
<p>Загрузчики <a href="../ru/Systemd-boot.html" title="Systemd-boot (Русский)">systemd-boot (Русский)</a> и <a href="../en/REFInd.html" class="mw-redirect" title="REFInd (Русский)">rEFInd (Русский)</a> автоматически обнаруживают загрузчик Windows (<code>\EFI\Microsoft\Boot\bootmgfw.efi</code>) и добавляют его в свои меню, поэтому для них не требуется какой-либо дополнительной настройки.
</p>
<p>Если вы используете <a href="../ru/GRUB.html" title="GRUB (Русский)">GRUB (2)</a>, следуйте этому <a href="../ru/GRUB.html#Windows_.D0.B2_.D1.80.D0.B5.D0.B6.D0.B8.D0.BC.D0.B5_UEFI" title="GRUB (Русский)">руководству</a>.
</p>
<p>Syslinux (как минимум, версии по 6.03-pre9 включительно) и ELILO не поддерживают передачу процесса загрузки другим приложениям EFI, поэтому они не могут использоваться для загрузки Windows в этом режиме.
</p>
<h2>
<span id=".D0.A4.D0.BE.D1.80.D0.BC.D0.B0.D1.82_.D1.85.D1.80.D0.B0.D0.BD.D0.B5.D0.BD.D0.B8.D1.8F_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.BD.D0.BE.D0.B3.D0.BE_.D0.B2.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.B8"></span><span class="mw-headline" id="Формат_хранения_системного_времени">Формат хранения системного времени</span>
</h2>
<ul><li>Предпочтительный метод: установите использование времени по UTC как в Arch Linux, так и в Windows, следуя инструкции из <a href="../en/System_time.html#UTC_in_Windows" title="System time">System time#UTC in Windows</a>. Кроме того, не забудьте отключить синхронизацию времени по сети в Windows, в противном случае при каждом обновлении аппаратное время будет сбрасываться с UTC на локальное.</li></ul>
<ul><li>Альтернативный метод (не рекомендуется): настройте Arch Linux на использование и хранение местного времени и отключите все службы, относящиеся к управлению системным временем, например, <a href="../ru/Network_Time_Protocol_daemon.html" title="Network Time Protocol daemon (Русский)">NTPd</a>. При таком подходе коррекцией системного времени будет заниматься Windows. При использовании этого метода ответственность за точный ход часов лежит только на вас, пожалуйста, не надо спрашивать на форумах, почему время ушло на час вперёд или назад, если долго не загружаться в Windows.</li></ul>
<h2>
<span id=".D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5"></span><span class="mw-headline" id="Смотрите_также">Смотрите также</span>
</h2>
<ul><li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=140049">Загрузка Windows через ярлык на рабочем столе</a></li></ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../ru/Category:Boot_process.html" title="Category:Boot process (Русский)">Boot process (Русский)</a></li>
<li><a href="../ru/Category:Installation_process.html" title="Category:Installation process (Русский)">Installation process (Русский)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Dual_boot_with_Windows_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=660941">https://wiki.archlinux.org/index.php?title=Dual_boot_with_Windows_(Русский)&amp;oldid=660941</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 16 April 2021, at 21:22.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
