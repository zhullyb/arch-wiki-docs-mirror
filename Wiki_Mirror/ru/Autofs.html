<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Autofs (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Autofs_Русский rootpage-Autofs_Русский skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Autofs (Русский)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a><b>Эта статья или раздел нуждается в <a href="../ru/ArchWiki:Contributing.html#%D0%9F%D0%B5%D1%80%D0%B5%D0%B2%D0%BE%D0%B4" title="ArchWiki:Contributing (Русский)">переводе</a></b><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Примечания:</b> Перевод устарел. (обсуждение: <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Autofs_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)">Talk:Autofs (Русский)#</a>)</div>
</div>
<p>Описывает процесс установки и конфигурирования AutoFS, пакета для автоматического монтирования съёмных носителей и сетевых ресурсов.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%D0%92%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5"><span class="tocnumber">1</span> <span class="toctext">Введение</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0"><span class="tocnumber">2</span> <span class="toctext">Установка</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#%D0%9A%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5"><span class="tocnumber">3</span> <span class="toctext">Конфигурирование</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#%D0%A1%D1%8A%D1%91%D0%BC%D0%BD%D1%8B%D0%B5_%D0%BD%D0%BE%D1%81%D0%B8%D1%82%D0%B5%D0%BB%D0%B8"><span class="tocnumber">3.1</span> <span class="toctext">Съёмные носители</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#%D0%9C%D0%BE%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_NFS"><span class="tocnumber">3.2</span> <span class="toctext">Монтирование NFS</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Samba"><span class="tocnumber">3.3</span> <span class="toctext">Samba</span></a></li>
<li class="toclevel-2 tocsection-7">
<a href="#FTP_%D0%B8_SSH_(%D1%87%D0%B5%D1%80%D0%B5%D0%B7_Fuse)"><span class="tocnumber">3.4</span> <span class="toctext">FTP и SSH (через Fuse)</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#%D0%A3%D0%B4%D0%B0%D0%BB%D1%91%D0%BD%D0%BD%D1%8B%D0%B5_FTP"><span class="tocnumber">3.4.1</span> <span class="toctext">Удалённые FTP</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#%D0%A3%D0%B4%D0%B0%D0%BB%D1%91%D0%BD%D0%BD%D1%8B%D0%B5_SSH"><span class="tocnumber">3.4.2</span> <span class="toctext">Удалённые SSH</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#%D0%97%D0%B0%D0%BF%D1%83%D1%81%D0%BA_AutoFS"><span class="tocnumber">4</span> <span class="toctext">Запуск AutoFS</span></a></li>
<li class="toclevel-1 tocsection-11">
<a href="#%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC_%D0%B8_%D1%81%D0%BE%D0%B2%D0%B5%D1%82%D1%8B"><span class="tocnumber">5</span> <span class="toctext">Решение проблем и советы</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#%D0%9E%D0%BF%D1%86%D0%B8%D0%BE%D0%BD%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5_%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D1%8B"><span class="tocnumber">5.1</span> <span class="toctext">Опциональные параметры</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#%D0%A0%D0%B0%D1%81%D0%BF%D0%BE%D0%B7%D0%BD%D0%B0%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%BD%D0%B5%D1%81%D0%BA%D0%BE%D0%BB%D1%8C%D0%BA%D0%B8%D1%85_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2"><span class="tocnumber">5.2</span> <span class="toctext">Распознавание нескольких устройств</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#%D0%9F%D1%80%D0%B0%D0%B2%D0%B0_%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0_AutoFS"><span class="tocnumber">5.3</span> <span class="toctext">Права доступа AutoFS</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#%D0%A1%D1%81%D1%8B%D0%BB%D0%BA%D0%B8_%D0%BD%D0%B0_%D0%B2%D0%BD%D0%B5%D1%88%D0%BD%D0%B8%D0%B5_%D0%B8%D1%81%D1%82%D0%BE%D1%87%D0%BD%D0%B8%D0%BA%D0%B8"><span class="tocnumber">6</span> <span class="toctext">Ссылки на внешние источники</span></a></li>
<li class="toclevel-1 tocsection-16"><a href="#%D0%90%D0%BB%D1%8C%D1%82%D0%B5%D1%80%D0%BD%D0%B0%D1%82%D0%B8%D0%B2%D1%8B_%D0%B4%D0%BB%D1%8F_AutoFS"><span class="tocnumber">7</span> <span class="toctext">Альтернативы для AutoFS</span></a></li>
</ul>
</div>

<h2>
<span id=".D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Введение">Введение</span>
</h2>
<p>Этот документ описывают процедуру установки AutoFS, пакета который даёт возможность автоматического монтирования съёмных носителей и сетевых ресурсов при вставке или получении доступа к ним.
</p>
<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0"></span><span class="mw-headline" id="Установка">Установка</span>
</h2>
<ul><li>Установите пакет AutoFS:</li></ul>
<pre># pacman -S autofs
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Вам больше не нужно загружать модуль <code>autofs4</code>.</div>
<h2>
<span id=".D0.9A.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Конфигурирование">Конфигурирование</span>
</h2>
<p>AutoFS использует для конфигурирования шаблоны, расположенные в <code>/etc/autofs</code>. Основной шаблон называется <code>auto.master</code>, он может указывать на один или несколько других шаблонов для конкретных типов носителей.
</p>
<ul><li>Откройте <code>/etc/autofs/auto.master</code> своим любимым редактором. Вы увидите что-то подобное:</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/autofs/auto.master</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#/media /etc/autofs/auto.media</pre>
<p>Первое значение в каждой строке определяет базовый каталог, в который носители будут монтироваться, второе значение - шаблон который будет использован. По умолчанию базовая директория /var/autofs, но вы можете изменить путь на любое другое значение по вашему желанию. Например:
</p>
<pre>/media/misc     /etc/autofs/auto.misc     --timeout=5
/media/net      /etc/autofs/auto.net      --timeout=60
</pre>
<p>Дополнительный параметр <code>timeout</code> устанавливает количество секунд после которых устройство будет размонтировано. Параметр <code>ghost</code> означает что сконфигурированные ресурсы будут отображаться всегда, а не только тогда, когда они вставлены и доступны. Это полезно тогда, когда вы не хотите запоминать или угадывать имена съёмных носителей и сетевых ресурсов.
</p>
<p>Конечные каталоги должны существовать в системе и быть пусты, поскольку их содержимое будет заменено с динамически загружаемого носителя. Однако это не критично, если вы случайно монтировали носитель в непустую директорию, просто измените путь в auto.master и перезапустите AutoFS чтобы вернуть исходное содержимое.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Убедитесь в наличии пустой строки в конце файла шаблона (нажмите ENTER после последнего слова). Если нет корректной EOF-строки, демон AutoFS не будет загружен правильно.</div>
<ul><li>Откройте файл <code>/etc/nsswitch.conf</code> и добавьте запись для автоматического монтирования:</li></ul>
<pre>automount: files
</pre>
<h3>
<span id=".D0.A1.D1.8A.D1.91.D0.BC.D0.BD.D1.8B.D0.B5_.D0.BD.D0.BE.D1.81.D0.B8.D1.82.D0.B5.D0.BB.D0.B8"></span><span class="mw-headline" id="Съёмные_носители">Съёмные носители</span>
</h3>
<ul><li>Откройте <code>/etc/autofs/auto.misc</code> и добавьте, удалите или измените всевозможные устройства. Например:</li></ul>
<pre>#kernel   -ro                                        ftp.kernel.org:/pub/linux
#boot     -fstype=ext2                               :/dev/hda1
usbstick  -fstype=auto,async,nodev,nosuid,umask=000  :/dev/sdb1
cdrom     -fstype=iso9660,ro                         :/dev/cdrom
#floppy   -fstype=auto                               :/dev/fd0
</pre>
<p>Если у вас комбинированный CD/DVD-привод вы можете изменить тип в строке cdrom на "-fstype=auto" для авто-определения типа носителя.
</p>
<h3>
<span id=".D0.9C.D0.BE.D0.BD.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_NFS"></span><span class="mw-headline" id="Монтирование_NFS">Монтирование NFS</span>
</h3>
<p>AutoFS предоставляет новый способ автоматического обнаружения и монтирования NFS-ресурсов на удалённых серверах (шаблон конфигурирования сетевых ресурсов <code>/etc/autofs/auto.net</code> был удалён в autofs5). Чтобы включить автоматическое обнаружение и монтирование сетевых ресурсов со всех доступных серверов без необходимости дополнительного конфигурирования, вам необходимо добавить следующее в файл <code>/etc/autofs/auto.master</code>:
</p>
<pre>/net -hosts --timeout=60
</pre>
<p>Каждое имя хоста должно быть разрешено, например, любой IP-адрес в <code>/etc/hosts</code> или заданный через DNS. 
</p>
<p>К примеру, есть удалённый сервер <i>fileserver</i> с ресурсом NFS, который называется <i>/home/share</i>, вы можете получить доступ к ресурсу просто набрав:
</p>
<pre># cd /net/fileserver/home/share
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> <i>ghosting</i>, i.e. automatically creating directory placeholders before mounting shares is enabled by default, although AutoFS installation notes claim to remove that option from <code>/etc/conf.d/autofs</code> in order to start the AutoFS daemon.</div>
<p>The <code>-hosts</code> option uses a similar mechanism as the <i>showmount</i> command to detect remote shares. You can see the exported shares by typing:
</p>
<pre># showmount &lt;servername&gt; -e 
</pre>
<p>Замените <i>&lt;servername&gt;</i> на имя ващего собственного сервера.
</p>
<h3><span class="mw-headline" id="Samba">Samba</span></h3>
<p>Сборка пакета в Arch не содержит каких-либо samba или cifs шаблонов/скриптов (23.07.2009), но следующее должно работать для отдельных ресурсов:
</p>
<p>добавьте следующее в <code>/etc/autofs/auto.master</code>
</p>
<pre>/media/[my_server] /etc/autofs/auto.[my_server]
</pre>
<p>а затем создайте файл <code>/etc/autofs/auto.[my_server]</code>
</p>
<pre>[my_share] -fstype=cifs,[other_options] ://[my_server_ip]/[my_share]
</pre>
<h3>
<span id="FTP_.D0.B8_SSH_.28.D1.87.D0.B5.D1.80.D0.B5.D0.B7_Fuse.29"></span><span class="mw-headline" id="FTP_и_SSH_(через_Fuse)">FTP и SSH (через Fuse)</span>
</h3>
<p>Доступ к удалённым FTP- и SSH-серверам может быть легко получен с AutoFS, используя Fuse, часть виртуальной файловой системы. 
</p>
<h4>
<span id=".D0.A3.D0.B4.D0.B0.D0.BB.D1.91.D0.BD.D0.BD.D1.8B.D0.B5_FTP"></span><span class="mw-headline" id="Удалённые_FTP">Удалённые FTP</span>
</h4>
<p>Во-первых, установите пакет curlftpfs из репозитория Community:
</p>
<pre># pacman -S curlftpfs
</pre>
<p>Загрузите модуль Fuse:
</p>
<pre># modprobe fuse
</pre>
<p>Добавьте fuse массив <i>modules</i> в <code>/etc/rc.conf</code> для загрузки его при каждом запуске компьютера.
</p>
<p>Далее, добавьте новую запись для FTP-серверов в <code>/etc/autofs/auto.master</code>:
</p>
<pre>/media/ftp        /etc/autofs/auto.ftp    --timeout=60,ghost
</pre>
<p>Создайте файл <code>/etc/autofs/auto.ftp</code> и добавьте сервер в формате <code><a rel="nofollow" class="external free" href="ftp://myuser:mypassword@host:port/path">ftp://myuser:mypassword@host:port/path</a></code>:
</p>
<pre>servername -fstype=curl,allow_other    :ftp\://myuser\:mypassword\@remoteserver
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Ваши пароли может видеть каждый, кто запустит <i>df</i> (только для примонтированных серверов) или откроет файл <code>/etc/autofs/auto.ftp</code>.</div>
<p>Если Вы хотите немного больше безопасности, можете создать файл <code>~root/.netrc</code> и указать пароли там.
Пароли по-прежнему написаны в текстовом формате, но Вы можете задать права 600, и команда <i>df</i> их не покажет (неважно, примонтирован сервер, или нет).
Этот способ также менее чувствителен к специальным символам (которых иначе необходимо избегать) в паролях. Придерживайтесь такого формата:
</p>
<pre>machine remoteserver  
login myuser
password mypassword
</pre>
<p>Строчка в <code>/etc/autofs/auto.ftp</code> выглядит как эта, без имени пользователя и пароля:
</p>
<pre>servername -fstype=curl,allow_other    :ftp\://remoteserver
</pre>
<p>Создайте файл <code>/sbin/mount.curl</code> с кодом:
</p>
<pre>#! /bin/sh
curlftpfs $1 $2 -o $4,disable_eprt
</pre>
<p>Создайте файл <code>/sbin/umount.curl</code> с кодом:
</p>
<pre>#! /bin/sh
fusermount -u $1
</pre>
<p>Установите права для обоих файлов:
</p>
<pre># chmod 755 /sbin/mount.curl
# chmod 755 /sbin/umount.curl
</pre>
<p>После перезапуска Ваш новый FTP-сервер должен быть доступен через <code>/media/ftp/servername</code>
</p>
<h4>
<span id=".D0.A3.D0.B4.D0.B0.D0.BB.D1.91.D0.BD.D0.BD.D1.8B.D0.B5_SSH"></span><span class="mw-headline" id="Удалённые_SSH">Удалённые SSH</span>
</h4>
<p>Здесь основные инструкции по доступу к удалённой файловой системе через SSH с помощью AutoFS. 
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Приведённый пример не использует ssh-passphrase для упрощения установки, просим учесть, что это может оказаться угрозой безопасности в случае использования его в Вашей системе.</div>
<p>Установите пакет sshfs из репозитория Extra
</p>
<pre># pacman -S sshfs
</pre>
<p>Загрузите модуль Fuse:
</p>
<pre># modprobe fuse
</pre>
<p>Добавьте fuse в секцию <i>modules</i> в <code>/etc/rc.conf</code>, чтобы загружать его при каждом запуске системы.
</p>
<p>Установите OpenSSH:
</p>
<pre># pacman -S openssh
</pre>
<p>Сгенерируйте ключ SSH:
</p>
<pre># ssh-keygen -t dsa
</pre>
<p>Когда генератор запросит фразу-пароль, просто нажмите enter. Использование ключей SSH без фразы-пароля, однако запуск AutoFS без фразы-пароля приводит к некоторым дополнительным трудностям, которые (пока) не были освещены в этой статье. 
</p>
<p>Далее, скопируйте общественный ключ на удалённый SSH сервер:
</p>
<pre># ssh-copy-id -i ~/.ssh/id_dsa.pub username@remotehost
</pre>
<p>Скопируйте личный ключ в домашнюю директорию пользователя root, чтобы AutoFS могла его найти:
</p>
<pre># sudo cp ~/.ssh/id_dsa /root/.ssh/id_dsa
</pre>
<p>Вышеприведённое работает, если AutoFS запускается с правами root и по умолчанию не имеет доступа в домашнюю директорию пользователя, содержащую личный ключ. 
</p>
<p>Войти на удалённый сервер без ввода пароля можно так:
</p>
<pre># ssh username@remotehost
</pre>
<p>Создайте новый вход для сервера SSH в <code>/etc/autofs/auto.master</code>:
</p>
<pre>/media/ssh		/etc/autofs/auto.ssh	--timeout=60,ghost
</pre>
<p>Создайте файл <code>/etc/autofs/auto.ssh</code> и добавьте SSH:
</p>
<pre>servername     -fstype=fuse,rw,nodev,nonempty,allow_other,max_read=65536 :sshfs\#username@host\:/
</pre>
<p>После перезапуска Ваш сервер SSH должен быть доступен через <code>/media/ssh/servername</code>
</p>
<h2>
<span id=".D0.97.D0.B0.D0.BF.D1.83.D1.81.D0.BA_AutoFS"></span><span class="mw-headline" id="Запуск_AutoFS">Запуск AutoFS</span>
</h2>
<ul><li>Когда настройка закончена, запустите демон AutoFS с правами суперпользователя:</li></ul>
<pre># /etc/rc.d/autofs start
</pre>
<p>Чтобы запускать демон при запуске системы, Вы можете добавить <code>autofs</code> в секцию DAEMONS в /etc/rc.conf, и <code>autofs4</code> в секцию modules в том же файле.
</p>
<p>Если Вы изменяете шаблон auto.master при работающей AutoFS, Вам придётся перезапустить демон, чтобы получить эффект от изменений:
</p>
<pre># /etc/rc.d/autofs restart
</pre>
<p>Теперь утройства будут автоматически монтироваться при каждом доступе, они будут оставаться подключенными в течении всего времени доступа.
</p>
<h2>
<span id=".D0.A0.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC_.D0.B8_.D1.81.D0.BE.D0.B2.D0.B5.D1.82.D1.8B"></span><span class="mw-headline" id="Решение_проблем_и_советы">Решение проблем и советы</span>
</h2>
<p>Эта секция содержит несколько решений самых распространённых проблем с  AutoFS.
</p>
<h3>
<span id=".D0.9E.D0.BF.D1.86.D0.B8.D0.BE.D0.BD.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.B5_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D1.8B"></span><span class="mw-headline" id="Опциональные_параметры">Опциональные параметры</span>
</h3>
<p>Вы можете установить параметры, такие как <code>timeout</code>, на общесистемном уровне для всех медиаустройств AutoFS в <code>/etc/conf.d/autofs</code>:
</p>
<ul><li>Откройте файл <code>/etc/conf.d/autofs</code> и отредактируйте строку daemonoptions:</li></ul>
<pre>daemonoptions='--timeout=5'
</pre>
<ul><li>Чтобы сделать возможным ведение логов (по умолчанию его нет), добавьте <code>--verbose</code> в строку daemonoptions в <code>/etc/conf.d/autofs</code>, например:</li></ul>
<pre>daemonoptions='--verbose --timeout=5'
</pre>
<p>После перезапуска autofs, подробный вывод виден в /var/log/daemon.log
</p>
<h3>
<span id=".D0.A0.D0.B0.D1.81.D0.BF.D0.BE.D0.B7.D0.BD.D0.B0.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BD.D0.B5.D1.81.D0.BA.D0.BE.D0.BB.D1.8C.D0.BA.D0.B8.D1.85_.D1.83.D1.81.D1.82.D1.80.D0.BE.D0.B9.D1.81.D1.82.D0.B2"></span><span class="mw-headline" id="Распознавание_нескольких_устройств">Распознавание нескольких устройств</span>
</h3>
<p>Если Вы используете несколько устройств USB и хотите легко отсоединять их, Вы можете использовать AutoFS чтобы определять точки монтирования и udev чтобы давать имена Вашим устройствам USB. Посмотрите <a href="../ru/Udev.html#%D0%9E_%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D0%BB%D0%B0%D1%85_udev" title="Udev (Русский)">udev#О правилах udev</a> для инструкций по настройке правил udev.
</p>
<h3>
<span id=".D0.9F.D1.80.D0.B0.D0.B2.D0.B0_.D0.B4.D0.BE.D1.81.D1.82.D1.83.D0.BF.D0.B0_AutoFS"></span><span class="mw-headline" id="Права_доступа_AutoFS">Права доступа AutoFS</span>
</h3>
<p>Если AutoFS не работает правильно, убедитесь в том, что права доступа для файлов шаблонов установлены правильно, иначе AutoFS не будет запускаться. Это может случиться, если Вы сделали резервную копию способом, который не сохраняет права. Вот как должны быть установлены права доступа для файлов конфигурации:
</p>
<ul>
<li>0644 - /etc/autofs/auto.master</li>
<li>0644 - /etc/autofs/auto.media</li>
<li>0644 - /etc/autofs/auto.misc</li>
<li>0644 - /etc/conf.d/autofs</li>
</ul>
<p>В общем, скрипты (такие как previous auto.net) должны иметь установленный бит исполнения (chown a+x filename), а списки монтируемых устройств не должны.
</p>
<p>Если Вы получаете ошибки в <code>/var/log/daemon.log</code>, подобные этим, значит у Вас проблемы с правами доступа:
</p>
<pre>May  7 19:44:16 peterix automount[15218]: lookup(program): lookup for petr failed
May  7 19:44:16 peterix automount[15218]: failed to mount /media/cifs/petr
</pre>
<h2>
<span id=".D0.A1.D1.81.D1.8B.D0.BB.D0.BA.D0.B8_.D0.BD.D0.B0_.D0.B2.D0.BD.D0.B5.D1.88.D0.BD.D0.B8.D0.B5_.D0.B8.D1.81.D1.82.D0.BE.D1.87.D0.BD.D0.B8.D0.BA.D0.B8"></span><span class="mw-headline" id="Ссылки_на_внешние_источники">Ссылки на внешние источники</span>
</h2>
<ul>
<li>Оригинальная информация на этой странице основана на теме: <a rel="nofollow" class="external free" href="https://bbs.archlinux.org/viewtopic.php?t=7630">https://bbs.archlinux.org/viewtopic.php?t=7630</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-08-02]</sup>, с дополнительной информацией, найденной здесь: <a rel="nofollow" class="external free" href="http://libranet.com/support/2.8/0381">http://libranet.com/support/2.8/0381</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-08-02]</sup>
</li>
<li>Информация об использовании FTP и SFTP с AutoFS основана на этой статье из Gentoo Wiki: <a rel="nofollow" class="external free" href="https://web.archive.org/web/20130414074212/http://en.gentoo-wiki.com/wiki/Mounting_SFTP_and_FTP_shares">https://web.archive.org/web/20130414074212/http://en.gentoo-wiki.com/wiki/Mounting_SFTP_and_FTP_shares</a>
</li>
<li>Больше информации о SSH можно найти на страницах <a href="../ru/OpenSSH.html" class="mw-redirect" title="Secure Shell (Русский)">SSH</a> и <a href="../ru/SSH_keys.html" title="SSH keys (Русский)">SSH Keys</a> этого wiki.</li>
</ul>
<h2>
<span id=".D0.90.D0.BB.D1.8C.D1.82.D0.B5.D1.80.D0.BD.D0.B0.D1.82.D0.B8.D0.B2.D1.8B_.D0.B4.D0.BB.D1.8F_AutoFS"></span><span class="mw-headline" id="Альтернативы_для_AutoFS">Альтернативы для AutoFS</span>
</h2>
<ul>
<li>
<a href="../en/Thunar.html#Thunar_Volume_Manager" class="mw-redirect" title="Thunar Volume Manager">Thunar Volume Manager</a> - система автомонтирования для пользователей Thunar file manager.</li>
<li>Pcmanfm-fuse - лёгкий менеджер файлов со встроенной поддержкой для поддержки удалённых расшар: <a rel="nofollow" class="external free" href="https://aur.archlinux.org/packages.php?ID=22992">https://aur.archlinux.org/packages.php?ID=22992</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-08-02]</sup>
</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../ru/Category:File_systems.html" title="Category:File systems (Русский)">File systems (Русский)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../ru/Category:Pages_or_sections_flagged_with_Template:Translateme.html" title="Category:Pages or sections flagged with Template:Translateme (Русский)">Pages or sections flagged with Template:Translateme (Русский)</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Autofs_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=628326">https://wiki.archlinux.org/index.php?title=Autofs_(Русский)&amp;oldid=628326</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 2 August 2020, at 10:07.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
