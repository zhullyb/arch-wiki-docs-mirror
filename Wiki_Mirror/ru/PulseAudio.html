<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>PulseAudio (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-PulseAudio_Русский rootpage-PulseAudio_Русский skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">PulseAudio (Русский)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Ссылки по теме</p>
<ul>
<li><a href="/title/PulseAudio/%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B" class="mw-redirect" title="PulseAudio/Примеры">PulseAudio/Примеры</a></li>
<li><a href="/title/PulseAudio/%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC" class="mw-redirect" title="PulseAudio/Решение проблем">PulseAudio/Решение проблем</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="/title/PulseAudio" title="PulseAudio">PulseAudio</a>. Дата последней синхронизации: 6 декабря 2017. Вы можете <a href="/title/ArchWiki:Translation_Team_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=PulseAudio&amp;diff=0&amp;oldid=500843">изменения</a>.</div>
<p><a href="https://en.wikipedia.org/wiki/ru:PulseAudio" class="extiw" title="wikipedia:ru:PulseAudio">PulseAudio</a> - это многофункциональный звуковой сервер, предназначенный для работы в качестве прослойки между вашими приложениями и аппаратными устройствами, либо <a href="/title/ALSA" class="mw-redirect" title="ALSA">ALSA</a> или <a href="/title/OSS" class="mw-redirect" title="OSS">OSS</a>. Он также с легкостью может передавать аудио по сети между локальными устройствами используя <a href="/title/Avahi" title="Avahi">Avahi</a>, если тот доступен. Несмотря на то, что основная цель заключена в простоте настройки звука, его модульная архитектура позволяет более опытным пользователям конфигурировать демон в соответствии со своими нуждами.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0"><span class="tocnumber">1</span> <span class="toctext">Установка</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#%D0%98%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D1%8B"><span class="tocnumber">1.1</span> <span class="toctext">Интерфейсы</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3">
<a href="#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0"><span class="tocnumber">2</span> <span class="toctext">Настройка</span></a>
<ul>
<li class="toclevel-2 tocsection-4">
<a href="#%D0%A4%D0%B0%D0%B9%D0%BB%D1%8B_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BA"><span class="tocnumber">2.1</span> <span class="toctext">Файлы настроек</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#daemon.conf"><span class="tocnumber">2.1.1</span> <span class="toctext">daemon.conf</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#default.pa"><span class="tocnumber">2.1.2</span> <span class="toctext">default.pa</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#client.conf"><span class="tocnumber">2.1.3</span> <span class="toctext">client.conf</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href="#%D0%9A%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D0%B0_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BA"><span class="tocnumber">2.2</span> <span class="toctext">Команда настроек</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#%D0%92%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5"><span class="tocnumber">3</span> <span class="toctext">Выполнение</span></a></li>
<li class="toclevel-1 tocsection-10">
<a href="#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D0%B1%D0%B0%D0%BA%D1%8D%D0%BD%D0%B4%D0%BE%D0%B2"><span class="tocnumber">4</span> <span class="toctext">Настройка бакэндов</span></a>
<ul>
<li class="toclevel-2 tocsection-11">
<a href="#ALSA"><span class="tocnumber">4.1</span> <span class="toctext">ALSA</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#%D0%A0%D0%B0%D1%81%D0%BA%D1%80%D1%8B%D1%82%D0%B8%D0%B5_%D0%B8%D1%81%D1%82%D0%BE%D1%87%D0%BD%D0%B8%D0%BA%D0%BE%D0%B2,_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2_%D0%B2%D1%8B%D0%B2%D0%BE%D0%B4%D0%B0_%D0%B8_%D0%BC%D0%B8%D0%BA%D1%88%D0%B5%D1%80%D0%BE%D0%B2_PulseAudio_%D0%B4%D0%BB%D1%8F_ALSA"><span class="tocnumber">4.1.1</span> <span class="toctext">Раскрытие источников, устройств вывода и микшеров PulseAudio для ALSA</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#ALSA/dmix_%D0%B1%D0%B5%D0%B7_%D0%B7%D0%B0%D1%85%D0%B2%D0%B0%D1%82%D0%B0_%D0%B0%D0%BF%D0%BF%D0%B0%D1%80%D0%B0%D1%82%D0%BD%D0%BE%D0%B3%D0%BE_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0"><span class="tocnumber">4.1.2</span> <span class="toctext">ALSA/dmix без захвата аппаратного устройства</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-14">
<a href="#OSS"><span class="tocnumber">4.2</span> <span class="toctext">OSS</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="#ossp"><span class="tocnumber">4.2.1</span> <span class="toctext">ossp</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#%D0%9E%D0%B1%D0%BE%D0%BB%D0%BE%D1%87%D0%BA%D0%B0_padsp"><span class="tocnumber">4.2.2</span> <span class="toctext">Оболочка padsp</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-17"><a href="#GStreamer"><span class="tocnumber">4.3</span> <span class="toctext">GStreamer</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#OpenAL"><span class="tocnumber">4.4</span> <span class="toctext">OpenAL</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#libao"><span class="tocnumber">4.5</span> <span class="toctext">libao</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-20">
<a href="#%D0%AD%D0%BA%D0%B2%D0%B0%D0%BB%D0%B0%D0%B9%D0%B7%D0%B5%D1%80"><span class="tocnumber">5</span> <span class="toctext">Эквалайзер</span></a>
<ul>
<li class="toclevel-2 tocsection-21"><a href="#%D0%97%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0_%D0%B2%D1%8B%D0%B2%D0%BE%D0%B4%D0%B0_%D1%8D%D0%BA%D0%B2%D0%B0%D0%BB%D0%B0%D0%B9%D0%B7%D0%B5%D1%80%D0%B0_%D0%B8_%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8F_dbus-protocol"><span class="tocnumber">5.1</span> <span class="toctext">Загрузка устройства вывода эквалайзера и модуля dbus-protocol</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#%D0%93%D1%80%D0%B0%D1%84%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81"><span class="tocnumber">5.2</span> <span class="toctext">Графический интерфейс</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#%D0%97%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0_%D1%8D%D0%BA%D0%B2%D0%B0%D0%BB%D0%B0%D0%B9%D0%B7%D0%B5%D1%80%D0%B0_%D0%B8_%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8F_DBus_%D0%BF%D1%80%D0%B8_%D0%BA%D0%B0%D0%B6%D0%B4%D0%BE%D0%B9_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B5_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B"><span class="tocnumber">5.3</span> <span class="toctext">Загрузка эквалайзера и модуля DBus при каждой загрузке системы</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#%D0%90%D0%BB%D1%8C%D1%82%D0%B5%D1%80%D0%BD%D0%B0%D1%82%D0%B8%D0%B2%D0%BD%D1%8B%D0%B5_%D1%8D%D0%BA%D0%B2%D0%B0%D0%BB%D0%B0%D0%B9%D0%B7%D0%B5%D1%80%D1%8B"><span class="tocnumber">5.4</span> <span class="toctext">Альтернативные эквалайзеры</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-25">
<a href="#%D0%9F%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F"><span class="tocnumber">6</span> <span class="toctext">Приложения</span></a>
<ul>
<li class="toclevel-2 tocsection-26"><a href="#QEMU"><span class="tocnumber">6.1</span> <span class="toctext">QEMU</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#AlsaMixer.app"><span class="tocnumber">6.2</span> <span class="toctext">AlsaMixer.app</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#XMMS2"><span class="tocnumber">6.3</span> <span class="toctext">XMMS2</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#%D0%A0%D0%B0%D0%B1%D0%BE%D1%87%D0%B0%D1%8F_%D0%BE%D0%B1%D0%BB%D0%B0%D1%81%D1%82%D1%8C_KDE_Plasma_%D0%B8_Qt4"><span class="tocnumber">6.4</span> <span class="toctext">Рабочая область KDE Plasma и Qt4</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#Audacious"><span class="tocnumber">6.5</span> <span class="toctext">Audacious</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Music_Player_Daemon_(MPD)"><span class="tocnumber">6.6</span> <span class="toctext">Music Player Daemon (MPD)</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#MPlayer"><span class="tocnumber">6.7</span> <span class="toctext">MPlayer</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#guvcview"><span class="tocnumber">6.8</span> <span class="toctext">guvcview</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-34">
<a href="#%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B9_%D0%B7%D0%B2%D1%83%D0%BA"><span class="tocnumber">7</span> <span class="toctext">Сетевой звук</span></a>
<ul>
<li class="toclevel-2 tocsection-35">
<a href="#%D0%91%D0%B0%D0%B7%D0%BE%D0%B2%D0%B0%D1%8F_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D1%81_%D0%BF%D1%80%D1%8F%D0%BC%D1%8B%D0%BC_%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5%D0%BC"><span class="tocnumber">7.1</span> <span class="toctext">Базовая настройка с прямым подключением</span></a>
<ul>
<li class="toclevel-3 tocsection-36"><a href="#%D0%9D%D0%B0_%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B5"><span class="tocnumber">7.1.1</span> <span class="toctext">На сервере</span></a></li>
<li class="toclevel-3 tocsection-37"><a href="#%D0%9D%D0%B0_%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D1%81%D0%BA%D0%BE%D0%B9_%D0%BC%D0%B0%D1%88%D0%B8%D0%BD%D0%B5"><span class="tocnumber">7.1.2</span> <span class="toctext">На клиентской машине</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-38">
<a href="#%D0%A1%D0%BE%D0%B2%D0%B5%D1%82%D1%8B_%D0%B8_%D1%85%D0%B8%D1%82%D1%80%D0%BE%D1%81%D1%82%D0%B8"><span class="tocnumber">8</span> <span class="toctext">Советы и хитрости</span></a>
<ul>
<li class="toclevel-2 tocsection-39"><a href="#%D0%A0%D0%B5%D0%B3%D1%83%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B0_%D0%B7%D0%B2%D1%83%D0%BA%D0%B0_%D0%BA%D0%BB%D0%B0%D0%B2%D0%B8%D0%B0%D1%82%D1%83%D1%80%D0%BE%D0%B9"><span class="tocnumber">8.1</span> <span class="toctext">Регулировка звука клавиатурой</span></a></li>
<li class="toclevel-2 tocsection-40"><a href="#%D0%9F%D1%80%D0%BE%D0%B8%D0%B3%D1%80%D1%8B%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B7%D0%B2%D1%83%D0%BA%D0%B0_%D1%87%D0%B5%D1%80%D0%B5%D0%B7_%D0%BD%D0%B5%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D0%B2%D0%BD%D1%83%D1%8E_%D0%BE%D0%B1%D0%BE%D0%BB%D0%BE%D1%87%D0%BA%D1%83_(%D1%81%D0%BB%D1%83%D0%B6%D0%B1%D0%B0_systemd,_cron)"><span class="tocnumber">8.2</span> <span class="toctext">Проигрывание звука через неинтерактивную оболочку (служба systemd, cron)</span></a></li>
<li class="toclevel-2 tocsection-41"><a href="#%D0%A1%D0%B8%D0%B3%D0%BD%D0%B0%D0%BB%D1%8B_%D1%81%D0%BE%D0%B1%D1%8B%D1%82%D0%B8%D0%B9_X11"><span class="tocnumber">8.3</span> <span class="toctext">Сигналы событий X11</span></a></li>
<li class="toclevel-2 tocsection-42"><a href="#%D0%9F%D0%B5%D1%80%D0%B5%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%B8_%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B8"><span class="tocnumber">8.4</span> <span class="toctext">Переключение при подключении</span></a></li>
<li class="toclevel-2 tocsection-43"><a href="#%D0%A1%D0%BA%D1%80%D0%B8%D0%BF%D1%82_%D0%B4%D0%BB%D1%8F_%D0%BF%D0%B5%D1%80%D0%B5%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D1%8F_%D0%B0%D0%BD%D0%B0%D0%BB%D0%BE%D0%B3%D0%BE%D0%B2%D1%8B%D1%85_%D0%B2%D1%8B%D1%85%D0%BE%D0%B4%D0%BE%D0%B2"><span class="tocnumber">8.5</span> <span class="toctext">Скрипт для переключения аналоговых выходов</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-44"><a href="#%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC"><span class="tocnumber">9</span> <span class="toctext">Решение проблем</span></a></li>
<li class="toclevel-1 tocsection-45"><a href="#%D0%A1%D0%BC%D0%BE%D1%82%D1%80%D0%B8%D1%82%D0%B5_%D1%82%D0%B0%D0%BA%D0%B6%D0%B5"><span class="tocnumber">10</span> <span class="toctext">Смотрите также</span></a></li>
</ul>
</div>

<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0"></span><span class="mw-headline" id="Установка">Установка</span>
</h2>
<p>Установите пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio">pulseaudio</a></span>.
</p>
<p>Некоторые модули PulseAudio были <a rel="nofollow" class="external text" href="https://archlinux.org/news/pulseaudio-split/">отделены</a> от основного пакета и должны быть установлены самостоятельно, если требуются:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-bluetooth">pulseaudio-bluetooth</a></span>: поддержка Bluetooth (Bluez)</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-equalizer">pulseaudio-equalizer</a></span>: эквалайзер устройств вывода (qpaeq)</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-gconf">pulseaudio-gconf</a></span><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>: поддержка GConf (paprefs)</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-jack">pulseaudio-jack</a></span>: определение устройств вывода, источников <a href="/title/JACK" class="mw-redirect" title="JACK">JACK</a> и jackdbus</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-lirc">pulseaudio-lirc</a></span>: инфракрасный контроль громкости (LIRC)</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-zeroconf">pulseaudio-zeroconf</a></span>: поддержка Zeroconf (Avahi/DNS-SD)</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> При взаимодействии <a href="/title/ALSA" class="mw-redirect" title="ALSA">ALSA</a> и PulseAudio могут быть некоторые проблемы. ALSA включает компоненты ядра Linux с драйверами звуковой карты, также как и компоненты окружения пользователя, <code>libalsa</code>.<a rel="nofollow" class="external autonumber" href="https://www.alsa-project.org/main/index.php/Download">[1]</a> PulseAudio строится только на компонентах ядра, но предлагает совместимость с <code>libalsa</code> через <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-alsa">pulseaudio-alsa</a></span>.<a rel="nofollow" class="external autonumber" href="https://www.freedesktop.org/wiki/Software/PulseAudio/FAQ/#index14h3">[2]</a>
</div>
<h3>
<span id=".D0.98.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D1.8B"></span><span class="mw-headline" id="Интерфейсы">Интерфейсы</span>
</h3>
<p>Существует множество интерфейсов для управления демоном PulseAudio:
</p>
<ul>
<li>Настройка/управление громкостью (графический): <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pavucontrol">pavucontrol</a></span>
</li>
<li>Базовая настройка демона (графический): <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=paprefs">paprefs</a></span>
</li>
<li>Управление громкостью через установленные сочетания клавиш клавиатуры: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pulseaudio-ctl/">pulseaudio-ctl</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pavolume-git/">pavolume-git</a></span><sup><small>AUR</small></sup>
</li>
<li>Консольные (CLI) микшеры: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ponymix">ponymix</a></span> и <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pamixer">pamixer</a></span>
</li>
<li>Консольные (curses) микшеры: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulsemixer">pulsemixer</a></span>
</li>
<li>Контроль громкости по сети: <a rel="nofollow" class="external text" href="https://github.com/Siot/PaWebControl">PaWebControl</a>
</li>
<li>Иконки панели задач: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pasystray">pasystray</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pasystray-git/">pasystray-git</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pasystray-gtk2-standalone/">pasystray-gtk2-standalone</a></span><sup><small>AUR</small></sup>, и <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pasystray-gtk3-standalone/">pasystray-gtk3-standalone</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>
</li>
</ul>
<dl><dd><div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Неавтономная (non-standalone) версия <code>pasystray</code> может быть установлена сразу и с GTK2, и с GTK3. Выбор производится при установке. Версия в виде отдельной программы (standalone) устанавливает только одну.</div></dd></dl>
<ul>
<li>Plasma-апплет KF5: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kmix">kmix</a></span> и <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=plasma-pa">plasma-pa</a></span>
</li>
<li>Плагин Xfce4: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xfce4-pulseaudio-plugin">xfce4-pulseaudio-plugin</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pa-applet-git/">pa-applet-git</a></span><sup><small>AUR</small></sup>
</li>
<li>Если вы хотите использовать Bluetooth гарнитуру или другие Bluetooth аудио устройства с PulseAudio, смотрите раздел статьи <a href="/index.php?title=Bluetooth_%D0%B3%D0%B0%D1%80%D0%BD%D0%B8%D1%82%D1%83%D1%80%D0%B0&amp;action=edit&amp;redlink=1" class="new" title="Bluetooth гарнитура (page does not exist)">Bluetooth гарнитура</a>.</li>
</ul>
<h2>
<span id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0"></span><span class="mw-headline" id="Настройка">Настройка</span>
</h2>
<h3>
<span id=".D0.A4.D0.B0.D0.B9.D0.BB.D1.8B_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B5.D0.BA"></span><span class="mw-headline" id="Файлы_настроек">Файлы настроек</span>
</h3>
<p>По умолчанию PulseAudio настроен на управление и автоматическое обнаружение всех звуковых карт. Он берёт под свой контроль все обнаруженные устройства ALSA, и перенаправляет все аудиопотоки на себя, делая демон PulseAudio центральной точкой настроек. Демон, в основном, должен работать "из коробки", требуя только нескольких незначительных изменений настроек. 
</p>
<p>PulseAudio будет сначала смотреть файлы настроек в домашнем каталоге <code>~/.config/pulse</code>, а затем в общесистемном <code>/etc/pulse</code>.
</p>
<p>PulseAudio работает как демон сервера, который может работать или общесистемно или для каждого пользователя, с помощью архитектуры клиент/сервер. Без своих <b>модулей</b> демон сам по себе ничего не делает, кроме обеспечения API и размещения динамически загружаемых модулей. Вся маршрутизация аудио и обработка задач обрабатывается различными модулями. Вы можете найти подробный список всех доступных модулей в <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/User/Modules/">Загружаемые Модули Pulseaudio (Англ.)</a>. Чтобы включить их, Вы можете добавить строку <code>load-module &lt;имя модуля из списка&gt;</code> в <code>~/.config/pulse/default.pa</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> 
<ul>
<li>Настоятельно советуем не редактировать общесистемные файлы настроек, вместо них редактируйте пользовательские. Создайте каталог <code>~/.config/pulse</code>, затем скопируйте (<code>cp /etc/pulse/ ~/.config/pulse</code>) файлы настроек системы в него, и редактируйте согласно Вашим требованиям.</li>
<li>Убедитесь, что Вы держите пользовательские настройки в синхронизации с изменениями в пакетных файлах <code>/etc/pulse/</code>. Иначе, PulseAudio может отказаться запускаться из-за ошибки в настройках.</li>
<li>Нет необходимости добавлять Вашего пользователя к группе audio, поскольку он использует <a href="/title/Udev_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Udev (Русский)">udev</a> и <i>logind</i> для динамичного предоставления доступа к "в настоящее время активному" пользователю. Исключение составляют клиентские (headless) машины, в которых нет понятия текущий "активный" пользователь.</li>
</ul>
</div>
<h4><span class="mw-headline" id="daemon.conf">daemon.conf</span></h4>
<p>Определяет основные настройки, такие как: частоты дискретизации по умолчанию, используемые модулями, методы повторной выборки, планирование в реальном времени, и другие различные настройки, связанные с серверным процессом. Они не могут быть изменены во время выполнения, без перезапуска демона PulseAudio. Значения по умолчанию подходят для большинства пользователей.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> PulseAudio не поддерживает использование тильды (~) в описании путей в этом файле. Используйте абсолютные пути для любых файлов.</div>
<table class="wikitable">
<caption>Известные параметры настроек
</caption>
<tbody><tr>
<th>Опция</th>
<th>Описание
</th>
</tr></tbody>
<caption>
</caption>
<tbody><tr>
<td>system-instance (системный экземпляр)</td>
<td>Запустит демон как <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/User/SystemWide/">общесистемный</a> экземпляр. <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/User/WhatIsWrongWithSystemWide/">Крайне нежелательно</a>, поскольку это может привести к проблемам безопасности. Полезно в <a href="/title/Xorg_multiseat" title="Xorg multiseat">системах с несколькими пользователями</a> и (headless) системах, не имеющих никаких настоящих локальных пользователей. Значение по умолчанию <code>no</code>.
</td>
</tr></tbody>
<caption>
</caption>
<tbody><tr>
<td>avoid-resampling (избегать методы дискретизации)</td>
<td>Со значением <code>avoid-resampling = yes</code>, PulseAudio автоматически настроит частоту дискретизации аппаратного обеспечения в соответствии с той, которую использует приложение, при условии, что аппаратное обеспечение ее поддерживает (необходим <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/PulseAudio/Notes/11.0/">PA 11</a> или новее)
</td>
</tr></tbody>
<caption>
</caption>
<tbody><tr>
<td>resample-method (метод частоты дискретизации)</td>
<td>Какой метод частоты дискретизации (resampler) использовать, когда звук с несовместимыми частотами дискретизации должен быть передан между модулями (например, воспроизведение звука на 96 кГц на аппаратном обеспечении, поддерживающим только 48 кГц). Доступные resampler'ы могут быть перечислены с помощью <code>$ pulseaudio --dump-resample-methods</code>. Выберите и используйте лучший компромисс между загрузкой процессора и качеством звука.
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong>  В некоторых случаях PulseAudio будет генерировать высокую нагрузку на процессор. Это может произойти, когда несколько потоков передискретизируются (индивидуально). Если это используется в выбранном общем рабочем процессе, его следует продумать, чтобы создать дополнительное устройство вывода (sink) с соответствующей частотой дискретизации, которое может передавать в основное устройство вывода (main sink), передискретизируя только один раз.</div>
</td>
</tr></tbody>
<caption>
</caption>
<tbody><tr>
<td>flat-volumes</td>
<td>
<code>flat-volumes</code> масштабирует громкость устройства с громкостью "самого громкого" приложения. Например, повышение громкости вызова VoIP повысит аппаратную громкость и скорректирует звук аудиоплеера, таким образом, что понижать громкость аудиоплеера вручную нет необходимости. Значение по умолчанию <code>yes</code>, но в сборке для Arch - <code>no</code>. <div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Поведение значения по умолчанию, иногда, может сбивать с толку, и некоторые приложения не зная об этой функции, могут регулировать свою громкость к 100% при запуске, потенциально создавая неожиданно громкий звук. Для восстановления классического поведения (ALSA), установите это значение в <code>no</code>.</div>
</td>
</tr></tbody>
<caption>
</caption>
<tbody><tr>
<td>default-fragments (фрагменты по умолчанию)</td>
<td>Аудиосэмплы разделяются на многократные фрагменты <code>default-fragment-size-msec</code>. Чем больше буфер, тем менее вероятен пропуск звука, когда система будет перегружена. С другой стороны это увеличит общую величину задержки. Увеличьте это значение, если у Вас есть проблемы.
</td>
</tr></tbody>
</table>
<h4><span class="mw-headline" id="default.pa">default.pa</span></h4>
<p>Этот файл является сценарием запуска и используется для настройки модулей. Он анализируется и читается после завершения инициализации демона. Дополнительные команды могут быть отправлены во время выполнения с помощью <code>$ pactl</code> или <code>$ pacmd</code>. Сценарий запуска также может быть указан в командной строке, путем запуска PulseAudio в терминале, с помощью <code>$ pulseaudio -nC</code>. Это заставит демона загрузить модуль CLI и принимать настройки непосредственно из командной строки, выдавать получающуюся информацию или сообщения об ошибках на том же терминале. Это может быть полезно при отладке демона или тестирования различных модулей, перед постоянной установкой их на диск. Обратитесь к странице руководства
<span class="plainlinks archwiki-template-man" title="$ man 5 pulse-cli-syntax"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pulse-cli-syntax.5">pulse-cli-syntax(5)</a></span>, для пояснений элементов синтаксиса
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> 
<ul>
<li>Вместо создания полной копии, файл <code>~/.config/pulse/default.pa</code> может начинаться со строки <code>.include /etc/pulse/default.pa</code> и далее блок с переназначением параметров по умолчанию.</li>
<li>Для перечисления доступных устройств вывода, выполните <code>$ pacmd list-sinks|egrep -i 'index:|name:'</code>. Задействованное в настоящее время устройство вывода по умолчанию, отмечено звёздочкой (*).</li>
<li>Редактируйте <code>~/.config/pulse/default.pa</code> для вставки/изменения команды установленного_по_умолчанию_устройства_вывода, использующей имя устройства вывода, поскольку повторная нумерация не может быть гарантирована.</li>
</ul>
</div>
<h4><span class="mw-headline" id="client.conf">client.conf</span></h4>
<p>Это файл настроек, читающийся каждым клиентским приложением PulseAudio. Он используется для настройки опций во время выполнения для отдельных клиентов. Может использоваться чтобы устанавливать и настраивать устройство вывода по умолчанию и для статического запуска, а также позволять (или запрещать) клиентам автоматический запуск сервера, если он в настоящее время не работает.
</p>
<h3>
<span id=".D0.9A.D0.BE.D0.BC.D0.B0.D0.BD.D0.B4.D0.B0_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B5.D0.BA"></span><span class="mw-headline" id="Команда_настроек">Команда настроек</span>
</h3>
<p>Основная команда для настройки сервера во время выполнения является <code>$ pacmd</code>. Для списка опций выполните <code>$ pacmd --help</code>, или для входа в интерактивный режим оболочки выполните <code> $ pacmd</code> и <code>Ctrl+d</code> для выхода. Все модификации будут сразу применены.
</p>
<p>После того, как новые настройки были проверены и удовлетворили Ваши потребности, соответственно отредактируйте <code>default.pa</code>, чтобы изменения стали постоянными. Для некоторых основных настроек, смотрите <a href="/title/PulseAudio/Examples_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" class="mw-redirect" title="PulseAudio/Examples (Русский)">PulseAudio/Examples (Русский)</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong>  Оставьте нетронутой строку <code>load-module module-default-device-restore</code> в файле <code>default.pa</code>. Это позволит вам перезапустить сервер в состояние по умолчанию, таким образом избегая любых неправильных установок.</div>
<p>Важно понять, что "sources" (источники) (процессы, устройства захвата) и доступные "sinks" (устройства вывода/приемники) (звуковые карты, серверы, другие процессы) можно выбрать через PulseAudio, это зависит от текущих аппаратных средств выбранного "Profile" (профиля). Эти "Профили" являются теми ALSA "pcms" перечисленные командой <code>aplay -L</code>, и более конкретно командой <code>pacmd list-cards</code>, которая будет включать строку "index:" (индекс), список начинающийся с "profiles:" (профилей) и строку "active profile: &lt;...&gt;" (активный профиль) на выводе, среди других вещей.
</p>
<p>"active profile" (Активный профиль) может быть установлен командой <code>pacmd set-card-profile INDEX PROFILE</code> без запятой (<code> , </code>) разделяющей INDEX и PROFILE, где INDEX является просто числом на строке "index:" и имя PROFILE является всем показанным с начала любой строки под "профилем":  <i>до</i> двоеточия и первого пробела, как показано командой <code>pacmd list-cards</code>. Например, <code>pacmd set-card-profile 0 output:analog-stereo+input:analog-stereo</code>.
</p>
<p>"Профиль" проще выбрать с графическим инструментом, таким как <code>pavucontrol</code>, под вкладкой "Configuration" (Настройка) или Параметрами настройки системы KDE, "Мультимедийные/Аудио и Параметры видео", под вкладкой "Audio Hardware Setup". Каждая аудио "Карта", которая является устройством, перечисленным командой <code>aplay -l</code>, или  командой <code>pacmd list-cards</code>, будет иметь свой собственный выбор "Профиля". Когда "Профиль" был выбран, то доступные "источники" и "приемники" можно увидеть при помощи команд <code>pacmd list-sources</code> и <code>pacmd list-sinks</code>. Обратите внимание на то, что "индекс" доступных источников и приемников изменятся каждый раз, когда изменяется профиль карты.
</p>
<p>Выбранный "Профиль" может вызывать проблемы у некоторых приложений, особенно Adobe Flash Player, обычно <code>/usr/lib/mozilla/plugins/libflashplayer.so</code> и <code>/usr/lib/PepperFlash/libpepflashplayer.so</code>. Часто, эти флэш-плееры будут  работать только тогда, когда выбран один из профилей Стерео, иначе видео будет проигрываться без звука или просто "откажется" воспроизводиться. Когда все остальное перестало работать, Вы можете попробовать выбрать другой профиль.
</p>
<p>Конечно, при настройке некоторых вариаций Surround Sound (Объёмного Звука) в PulseAudio, должен быть выбран соответствующий профиль Surround. Прежде чем объёмный звук будет работать, сделайте такие вещи, как переназначение каналов динамиков (speaker channels).
</p>
<h2>
<span id=".D0.92.D1.8B.D0.BF.D0.BE.D0.BB.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Выполнение">Выполнение</span>
</h2>
<p>PulseAudio на Arch имеет <code>pulseaudio.socket</code>, который включен по умолчанию для экземпляра <a href="/title/Systemd/%D0%9F%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C" class="mw-redirect" title="Systemd/Пользователь">systemd/Пользователь</a>. Это значит, что по необходимости PulseAudio запустится автоматически.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong>  
<ul>
<li>Для отключения <code>pulseaudio.socket</code> удостоверьтесь, что <code>$XDG_CONFIG_HOME/systemd/user</code> существует, и выполните <code>systemctl --user mask pulseaudio.socket</code>
</li>
<li>Многие <a href="/title/Desktop_environment_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Desktop environment (Русский)">окружения рабочих столов</a> автоматически запускают программы на основе <a href="/title/Desktop_entries_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#%D0%90%D0%B2%D1%82%D0%BE%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA" title="Desktop entries (Русский)">файлов desktop</a> из каталога <code>/etc/xdg/autostart/</code>. В этом случае PulseAudio будет запущен автоматически независимо от состояния активации сокета</li>
</ul>
</div>
<p>Для получения дополнительной информации посмотрите <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/User/Running/">PulseAudio: Выполнение</a>.
</p>
<h2>
<span id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.B1.D0.B0.D0.BA.D1.8D.D0.BD.D0.B4.D0.BE.D0.B2"></span><span class="mw-headline" id="Настройка_бакэндов">Настройка бакэндов</span>
</h2>
<h3><span class="mw-headline" id="ALSA">ALSA</span></h3>
<p>Если у вас есть приложения, которые совсем не поддерживают PulseAudio, но используют ALSA, они будут пытаться получить доступ напрямую к звуковой карте через ALSA, минуя PulseAudio. Таким образом, звуковая карта перестанет быть доступной для PulseAudio. Вследствие чего, все приложения, использующие PulseAudio, перестанут работать, как описано <a href="/title/PulseAudio/Troubleshooting_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#%D0%95%D0%B4%D0%B8%D0%BD%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D0%BE%D0%B5_%D1%83%D0%BA%D0%B0%D0%B7%D0%B0%D0%BD%D0%BD%D0%BE%D0%B5_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%BE_%D1%8F%D0%B2%D0%BB%D1%8F%D0%B5%D1%82%D1%81%D1%8F_%22%D1%84%D0%B8%D0%BA%D1%82%D0%B8%D0%B2%D0%BD%D1%8B%D0%BC_%D0%B2%D1%8B%D1%85%D0%BE%D0%B4%D0%BE%D0%BC%22_%D0%B8%D0%BB%D0%B8_%D0%B2%D0%BD%D0%BE%D0%B2%D1%8C_%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D0%BA%D0%B0%D1%80%D1%82%D1%8B_%D0%BD%D0%B5_%D0%BE%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D1%8F%D1%8E%D1%82%D1%81%D1%8F" class="mw-redirect" title="PulseAudio/Troubleshooting (Русский)">здесь</a>. Чтобы этого избежать, вам необходимо установить пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-alsa">pulseaudio-alsa</a></span>. Он содержит файл <code>/etc/asound.conf</code> необходимый для настройки возможности ALSA использовать PulseAudio. Также убедитесь, что файл <code>~/.asoundrc</code> отсутствует, так как при его наличии, он будет переопределять настройки из файла <code>/etc/asound.conf</code>.
</p>
<p>Пожалуйста, также установите <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-libpulse">lib32-libpulse</a></span> и <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-alsa-plugins">lib32-alsa-plugins</a></span>, если вы используете систему x86_64 и хотите, чтобы в 32-битных <a href="/title/Multilib" class="mw-redirect" title="Multilib">multilib</a> программах, например <a href="/title/Wine_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Wine (Русский)">Wine</a> и <a href="/title/Steam" title="Steam">Steam</a>, был звук. 
</p>
<p>Чтобы запретить приложениям ALSA использовать эмуляцию OSS в обход PulseAudio (тем самым не давая другим приложениям воспроизводить звук), убедитесь, что модуль <code>snd_pcm_oss</code> не загружается при загрузке системы. Если он в настоящее время загружен (<code>lsmod | grep oss</code>), отключите его, выполнив:
</p>
<pre># rmmod snd_pcm_oss
</pre>
<h4>
<span id=".D0.A0.D0.B0.D1.81.D0.BA.D1.80.D1.8B.D1.82.D0.B8.D0.B5_.D0.B8.D1.81.D1.82.D0.BE.D1.87.D0.BD.D0.B8.D0.BA.D0.BE.D0.B2.2C_.D1.83.D1.81.D1.82.D1.80.D0.BE.D0.B9.D1.81.D1.82.D0.B2_.D0.B2.D1.8B.D0.B2.D0.BE.D0.B4.D0.B0_.D0.B8_.D0.BC.D0.B8.D0.BA.D1.88.D0.B5.D1.80.D0.BE.D0.B2_PulseAudio_.D0.B4.D0.BB.D1.8F_ALSA"></span><span class="mw-headline" id="Раскрытие_источников,_устройств_вывода_и_микшеров_PulseAudio_для_ALSA">Раскрытие источников, устройств вывода и микшеров PulseAudio для ALSA</span>
</h4>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-alsa">pulseaudio-alsa</a></span> также содержит необходимые конфигурационные файлы для разрешения приложениям ALSA использовать устройство PulseAudio по умолчанию. Плагин ALSA <code>pulse</code> более гибкий чем этот:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.asoundrc (or /etc/asound.conf)</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Create an alsa input/output using specific PulseAudio sources/sinks
 pcm.pulse-example1 {
     type pulse
     device "my-combined-sink" # name of a source or sink
     fallback "pulse-example2" # if combined not available
 }
 
 pcm.pulse-example2 {
     type pulse
     device "other-sound-card" # name of a source or sink
     # example: device "alsa_output.pci-0000_00_1b.0.analog-stereo"
 }
 
 # Create an alsa mixer using specific PulseAudio sources/sinks
 # these can be tested with "alsamixer -D pulse-example3"
 ctl.pulse-example3 {
     type pulse
     device "my-output" # name of source or sink to control
 
     # example: always control the laptop speakers:
     # device "alsa_output.pci-0000_00_1b.0.analog-stereo"
     fallback "pulse-example4" # supports fallback too
 }
 
 # Mixers also can control a specific source and sink, separately:
 ctl.pulse-example4 {
     type pulse
     sink "my-usb-headphones"
     source "my-internal-mic"
     
     # example: output to HDMI, record using internal
     sink "alsa_output.pci-0000_01_00.1.hdmi-stereo-extra1"
     source "alsa_input.pci-0000_00_1b.0.analog-stereo"
 }
 
 # These can override the default mixer (example: for pnmixer integration)
 ctl.!default {
     type pulse
     sink "alsa_output.pci-0000_01_00.1.hdmi-stereo-extra1"
     source "alsa_input.pci-0000_00_1b.0.analog-stereo"
 }</pre>
<p>Для знакомства со всеми доступными настройками доступен <a rel="nofollow" class="external text" href="https://git.alsa-project.org/?p=alsa-plugins.git;a=tree;f=pulse;hb=HEAD">исходный код</a>.
</p>
<h4>
<span id="ALSA.2Fdmix_.D0.B1.D0.B5.D0.B7_.D0.B7.D0.B0.D1.85.D0.B2.D0.B0.D1.82.D0.B0_.D0.B0.D0.BF.D0.BF.D0.B0.D1.80.D0.B0.D1.82.D0.BD.D0.BE.D0.B3.D0.BE_.D1.83.D1.81.D1.82.D1.80.D0.BE.D0.B9.D1.81.D1.82.D0.B2.D0.B0"></span><span class="mw-headline" id="ALSA/dmix_без_захвата_аппаратного_устройства">ALSA/dmix без захвата аппаратного устройства</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Этот раздел описывает альтернативную настройку, которая, как правило, <b>не</b> рекомендуется.</div>
<p>Вы, возможно, захотите использовать ALSA непосредственно в большинстве Ваших приложений, при этом, если есть необходимость, иметь возможность использовать приложения требующие PulseAudio. Следующие шаги позволяют Вам заставлять PulseAudio использовать dmix вместо того, чтобы "захватывать" устройство ALSA.
</p>
<ul><li>Удалите пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-alsa">pulseaudio-alsa</a></span>, обеспечивающий уровень совместимости между приложениями ALSA и PulseAudio. После этого Ваши приложения ALSA будут использовать ALSA напрямую, без "зацепки" Pulse.</li></ul>
<ul><li>Отредактируйте <code>/etc/pulse/default.pa</code>.</li></ul>
<dl><dd>Найдите и расскоментируйте строки, загружающие драйверы бэкэнда. Добавьте параметры <b>device</b> (устройства) следующим образом. Затем найдите и закомментируйте строки, загружающие модули автоматического обнаружения.</dd></dl>
<pre>load-module module-alsa-sink <b>device=dmix</b>
load-module module-alsa-source <b>device=dsnoop</b>
# load-module module-udev-detect
# load-module module-detect
</pre>
<ul><li>
<i>Дополнительно</i>: если Вы используете <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kmix">kmix</a></span>, Вы можете управлять громкостью ALSA, вместо громкости PulseAudio:</li></ul>
<pre>$ echo export KMIX_PULSEAUDIO_DISABLE=1 &gt; ~/.kde4/env/kmix_disable_pulse.sh
$ chmod +x ~/.kde4/env/kmix_disable_pulse.sh
</pre>
<ul><li>Теперь, перезагрузите свой компьютер и попытайтесь запустить одновременно приложения ALSA и PulseAudio. Они оба должны воспроизводить звук одновременно.</li></ul>
<dl><dd>При необходимости используйте <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pavucontrol">pavucontrol</a></span> для управления звука PulseAudio.</dd></dl>
<h3><span class="mw-headline" id="OSS">OSS</span></h3>
<p>Есть несколько способов заставить работать OSS-программы через PulseAudio:
</p>
<h4><span class="mw-headline" id="ossp">ossp</span></h4>
<p><a href="/title/%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D0%B5" class="mw-redirect" title="Установите">Установите</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ossp">ossp</a></span> и <a href="/title/%D0%97%D0%B0%D0%BF%D1%83%D1%81%D1%82%D0%B8%D1%82%D0%B5" class="mw-redirect" title="Запустите">запустите</a> службу <code>osspd.service</code>.
</p>
<h4>
<span id=".D0.9E.D0.B1.D0.BE.D0.BB.D0.BE.D1.87.D0.BA.D0.B0_padsp"></span><span class="mw-headline" id="Оболочка_padsp">Оболочка padsp</span>
</h4>
<p>Программы использующие OSS могут работать с PulseAudio путем его загрузки с padsp (включенный с PulseAudio):
</p>
<pre>$ padsp OSSпрограмма
</pre>
<p>Несколько примеров:
</p>
<pre>$ padsp aumix
$ padsp sox foo.wav -t ossdsp /dev/dsp
</pre>
<p>Вы можете также добавить пользовательский сценарий оболочки:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/local/bin/OSSProgram</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
exec padsp /usr/bin/OSSprogram "$@"
</pre>
<p>Убедитесь, что  <code>/usr/local/bin</code>, идёт до <code>/usr/bin</code> в Вашем <b>PATH</b>.
</p>
<h3><span class="mw-headline" id="GStreamer">GStreamer</span></h3>
<p>Установите <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gst-plugins-good">gst-plugins-good</a></span>, или <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gstreamer0.10-good-plugins/">gstreamer0.10-good-plugins</a></span><sup><small>AUR</small></sup>, если Ваша программа имеет наследие реализации <a href="/title/GStreamer" title="GStreamer">GStreamer</a>.
</p>
<h3><span class="mw-headline" id="OpenAL">OpenAL</span></h3>
<p>
Приложение OpenAL должно использовать PulseAudio по умолчанию, но может быть настроено так, чтобы использовать именно его: </p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/openal/alsoft.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">drivers=pulse,alsa</pre>
<h3><span class="mw-headline" id="libao">libao</span></h3>
<p>Отредактируйте файл настроек libao:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/libao.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">default_driver=pulse</pre>
<p>Обязательно удалите опцию alsa драйвера <code>dev=default</code> или настройте его для определения конкретного имени устройства вывода Pulse (sink) или его числа. 
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Вы можете держать libao стандартно на вывод драйвера <i>alsa</i> и его устройств по умолчанию, если Вы устанавливаете <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-alsa">pulseaudio-alsa</a></span>, так как устройством вывода по умолчанию ALSA <b>является</b> PulseAudio.</div>
<h2>
<span id=".D0.AD.D0.BA.D0.B2.D0.B0.D0.BB.D0.B0.D0.B9.D0.B7.D0.B5.D1.80"></span><span class="mw-headline" id="Эквалайзер">Эквалайзер</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Модуль эквалайзера считается нестабильным и может быть удалён из PulseAudio. Больше информации об этом можно найти здесь <a rel="nofollow" class="external text" href="https://lists.freedesktop.org/archives/pulseaudio-discuss/2014-March/020174.html">список рассылки (англ.)</a>.</div>
<p>PulseAudio имеет интегрированную систему эквалайзера с 10 полосами. Для использования эквалайзера, сделайте следующее:
</p>
<p>Установите <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-equalizer">pulseaudio-equalizer</a></span>:
</p>
<h3>
<span id=".D0.97.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B0_.D1.83.D1.81.D1.82.D1.80.D0.BE.D0.B9.D1.81.D1.82.D0.B2.D0.B0_.D0.B2.D1.8B.D0.B2.D0.BE.D0.B4.D0.B0_.D1.8D.D0.BA.D0.B2.D0.B0.D0.BB.D0.B0.D0.B9.D0.B7.D0.B5.D1.80.D0.B0_.D0.B8_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D1.8F_dbus-protocol"></span><span class="mw-headline" id="Загрузка_устройства_вывода_эквалайзера_и_модуля_dbus-protocol">Загрузка устройства вывода эквалайзера и модуля dbus-protocol</span>
</h3>
<pre>$ pactl load-module module-equalizer-sink
$ pactl load-module module-dbus-protocol
</pre>
<h3>
<span id=".D0.93.D1.80.D0.B0.D1.84.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.B9_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81"></span><span class="mw-headline" id="Графический_интерфейс">Графический интерфейс</span>
</h3>
<p>выполните:
</p>
<pre>$ qpaeq
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Если qpaeq не произвёл никакого эффекта, установите <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pavucontrol">pavucontrol</a></span> и измените "ALSA Playback on" на "FFT based equalizer on ...", во время работы медиапроигрывателя.</div>
<h3>
<span id=".D0.97.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B0_.D1.8D.D0.BA.D0.B2.D0.B0.D0.BB.D0.B0.D0.B9.D0.B7.D0.B5.D1.80.D0.B0_.D0.B8_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D1.8F_DBus_.D0.BF.D1.80.D0.B8_.D0.BA.D0.B0.D0.B6.D0.B4.D0.BE.D0.B9_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B5_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B"></span><span class="mw-headline" id="Загрузка_эквалайзера_и_модуля_DBus_при_каждой_загрузке_системы">Загрузка эквалайзера и модуля DBus при каждой загрузке системы</span>
</h3>
<p>Отредактируйте файл <code>/etc/pulse/default.pa</code> или <code>~/.config/pulse/default.pa</code> вашим редактором, и добавьте следующие строки:
</p>
<pre>### Load the integrated PulseAudio equalizer and D-Bus module
load-module module-equalizer-sink
load-module module-dbus-protocol
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Устройство вывода эквалайзера должно быть загружено после того, как основное устройство вывода уже доступно.</div>
<h3>
<span id=".D0.90.D0.BB.D1.8C.D1.82.D0.B5.D1.80.D0.BD.D0.B0.D1.82.D0.B8.D0.B2.D0.BD.D1.8B.D0.B5_.D1.8D.D0.BA.D0.B2.D0.B0.D0.BB.D0.B0.D0.B9.D0.B7.D0.B5.D1.80.D1.8B"></span><span class="mw-headline" id="Альтернативные_эквалайзеры">Альтернативные эквалайзеры</span>
</h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-equalizer-ladspa">pulseaudio-equalizer-ladspa</a></span> (основан на <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=swh-plugins">swh-plugins</a></span>) может использоваться как альтернатива <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-equalizer">pulseaudio-equalizer</a></span>.
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseeffects">pulseeffects</a></span> применяет ограничение пиковой громкости, компрессию, реверберацию, авто уровень гроскости и 15-полосный эквалайзер к выводу приложений Pulseaudio.
</p>
<h2>
<span id=".D0.9F.D1.80.D0.B8.D0.BB.D0.BE.D0.B6.D0.B5.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Приложения">Приложения</span>
</h2>
<h3><span class="mw-headline" id="QEMU">QEMU</span></h3>
<p>Обратитесь к <a href="/title/QEMU_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#Host" class="mw-redirect" title="QEMU (Русский)">QEMU (Русский)#Host</a> для детального описания настройки pulseaudio в <a href="/title/QEMU_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" class="mw-redirect" title="QEMU (Русский)">QEMU (Русский)</a>.
</p>
<h3><span class="mw-headline" id="AlsaMixer.app">AlsaMixer.app</span></h3>
<p>Сделайте <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/alsamixer.app/">alsamixer.app</a></span><sup><small>AUR</small></sup> dockapp для использования pulseaudio <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/windowmaker/">windowmaker</a></span><sup><small>AUR</small></sup>, например:
</p>
<pre>$ AlsaMixer.app --device pulse
</pre>
<p>Вот два примера, где первый - для ALSA, и другой - для pulseaudio. Вы можете запустить несколько его экземпляров. Используйте опцию выбора <code>-w</code>, кнопок управления для привязки к колесику мышки.
</p>
<pre># AlsaMixer.app -3 Mic -1 Master -2 PCM --card 0 -w 1
# AlsaMixer.app --device pulse -1 Capture -2 Master -w 2
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Он может использовать только те устройства вывода, которые устанавлены по умолчанию..</div>
<h3><span class="mw-headline" id="XMMS2">XMMS2</span></h3>
<p>Сделайте переключение на вывод pulseaudio
</p>
<pre>$ nyxmms2 server config output.plugin pulse
</pre>
<p>и на alsa
</p>
<pre>$ nyxmms2 server config output.plugin alsa
</pre>
<p>Для того, чтобы xmms2 использовал другое устройство вывода, например: 
</p>
<pre> $ nyxmms2 server config pulse.sink alsa_output.pci-0000_04_01.0.analog-stereo.monitor
</pre>
<p>Смотрите также официальное руководство <a rel="nofollow" class="external autonumber" href="https://xmms2.org/wiki/Using_the_application">[3]</a>.
</p>
<h3>
<span id=".D0.A0.D0.B0.D0.B1.D0.BE.D1.87.D0.B0.D1.8F_.D0.BE.D0.B1.D0.BB.D0.B0.D1.81.D1.82.D1.8C_KDE_Plasma_.D0.B8_Qt4"></span><span class="mw-headline" id="Рабочая_область_KDE_Plasma_и_Qt4">Рабочая область KDE Plasma и Qt4</span>
</h3>
<p>PulseAudio будет автоматически использоваться приложениями KDE/Qt4. Это поддерживается по умолчанию в микшере звука KDE. Для получения дополнительной информации посмотрите <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/PulseAudio/Desktops/KDE/">страницу KDE, в wiki PulseAudio</a>.
</p>
<p>Один полезный совет с этой страницы заключён в том, что следует загружать <code>load-module module-device-manager</code>. Обычно это происходит автоматически при входе в систему с помощью скрипта <code>/usr/bin/start-pulseaudio-x11</code>, но если этого не произошло, вы можете добавить его вручную в файл <code>/etc/pulse/default.pa</code>. О возможных конфликтах с <code>module-switch-on-connect</code> смотрите <a href="#%D0%9F%D0%B5%D1%80%D0%B5%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%B8_%D0%BF%D0%BE%D0%B4%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B8">#Переключение при подключении</a>.
</p>
<p>Если бэкэнд phonon-gstreamer используется для Phonon, GStreamer должен также быть настроен, как описано в <a href="#GStreamer">#GStreamer</a>.
</p>
<h3><span class="mw-headline" id="Audacious">Audacious</span></h3>
<p><a href="/title/Audacious_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Audacious (Русский)">Audacious</a> изначально поддерживает PulseAudio. Для его использования установите Audacious Настройки -&gt; Audio -&gt; Current output plugin как 'PulseAudio Output Plugin'.
</p>
<h3>
<span id="Music_Player_Daemon_.28MPD.29"></span><span class="mw-headline" id="Music_Player_Daemon_(MPD)">Music Player Daemon (MPD)</span>
</h3>
<p><a rel="nofollow" class="external text" href="https://mpd.wikia.com/wiki/PulseAudio">Настройте</a> <a href="/title/Music_Player_Daemon_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" class="mw-redirect" title="Music Player Daemon (Русский)">MPD</a> на использование PulseAudio. Смотрите также раздел <a href="/title/Music_Player_Daemon/Tips_and_tricks#PulseAudio" title="Music Player Daemon/Tips and tricks">Music Player Daemon/Tips and tricks#PulseAudio</a>.
</p>
<h3><span class="mw-headline" id="MPlayer">MPlayer</span></h3>
<p><a href="/title/MPlayer" title="MPlayer">MPlayer</a> изначально поддерживает вывод PulseAudio с опцией <code>-ao pulse</code>. Он также может быть настроен для использования вывода PulseAudio по умолчанию, в <code>~/.mplayer/config</code> для конкретного пользователя, или для всей системы <code>/etc/mplayer/mplayer.conf</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/mplayer/mplayer.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ao=pulse</pre>
<h3><span class="mw-headline" id="guvcview">guvcview</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=guvcview">guvcview</a></span> при использовании входа PulseAudio от <a href="/title/Webcam_setup_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" class="mw-redirect" title="Webcam setup (Русский)">Веб-камеры</a>, может перевести аудиовход в "приостановленный" режим, в результате чего звук не будет записываться. Вы можете проверить это путем выполнения:
</p>
<pre>$ pactl list sources
</pre>
<p>Если источник аудиосигналов "suspended" (приостановлен), измените следующую строку в <code>/etc/pulse/default.pa</code>, изменение:
</p>
<pre>load-module module-suspend-on-idle
</pre>
<p>на
</p>
<pre>#load-module module-suspend-on-idle
</pre>
<p>И затем перезапустите PulseAudio или Ваш компьютер только займет аудиовход вместо того, чтобы находиться в "приостановленном" режиме. Теперь guvcview будет писать звук правильно.
</p>
<h2>
<span id=".D0.A1.D0.B5.D1.82.D0.B5.D0.B2.D0.BE.D0.B9_.D0.B7.D0.B2.D1.83.D0.BA"></span><span class="mw-headline" id="Сетевой_звук">Сетевой звук</span>
</h2>
<p>Проигрывание звука через аудиовыходы других компьютеров сети
</p>
<h3>
<span id=".D0.91.D0.B0.D0.B7.D0.BE.D0.B2.D0.B0.D1.8F_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D1.81_.D0.BF.D1.80.D1.8F.D0.BC.D1.8B.D0.BC_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5.D0.BC"></span><span class="mw-headline" id="Базовая_настройка_с_прямым_подключением">Базовая настройка с прямым подключением</span>
</h3>
<h4>
<span id=".D0.9D.D0.B0_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.B5"></span><span class="mw-headline" id="На_сервере">На сервере</span>
</h4>
<p>Отредактируйте <code>~/.config/pulse/default.pa</code> или <code>/etc/pulse/default.pa</code> (или <code>/etc/pulse/system.pa</code>, если PulseAudio запускается в системном режиме) и добавьте следующую строку:
</p>
<pre> load-module module-native-protocol-tcp auth-ip-acl=127.0.0.1;172.16.0.0/16
</pre>
<p>Теперь только клиент с конкретным IP или диапазоном IP, определённым здесь, может получать звук.
</p>
<p>Для разрешения общего доступа:
</p>
<pre> load-module module-native-protocol-tcp auth-anonymous=true
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong>  Если ни <code>auth-ip-acl</code>, ни <code>auth-anonymous</code> не установлены, аутентификация осуществляется посредством <code>~/.pulse-cookie</code>, который должен быть одинаковым и на клиенте и на сервере.</div>
<p>По умолчанию для входящих соединений PulseAudio слушает порт <code>tcp/4713</code>, поэтому вам может потребоваться открыть этот порт в <a href="/title/Firewall" class="mw-redirect" title="Firewall">брандмауэре</a>.
</p>
<h4>
<span id=".D0.9D.D0.B0_.D0.BA.D0.BB.D0.B8.D0.B5.D0.BD.D1.82.D1.81.D0.BA.D0.BE.D0.B9_.D0.BC.D0.B0.D1.88.D0.B8.D0.BD.D0.B5"></span><span class="mw-headline" id="На_клиентской_машине">На клиентской машине</span>
</h4>
<p>Отредактируйте <code>~/.config/pulse/client.conf</code> или <code>/etc/pulse/client.conf</code> для установки этих настроек для одного пользователя или для всех и добавьте:
</p>
<pre> default-server = <i>server-address</i>
</pre>
<p><i>server-address</i> может быть простым именем домена или IPv4, больше информации можно найти в <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/User/ServerStrings/">документации</a>
</p>
<p>Также можно установить адрес сервера в переменной окружения <code>$PULSE_SERVER</code>.
</p>
<h2>
<span id=".D0.A1.D0.BE.D0.B2.D0.B5.D1.82.D1.8B_.D0.B8_.D1.85.D0.B8.D1.82.D1.80.D0.BE.D1.81.D1.82.D0.B8"></span><span class="mw-headline" id="Советы_и_хитрости">Советы и хитрости</span>
</h2>
<h3>
<span id=".D0.A0.D0.B5.D0.B3.D1.83.D0.BB.D0.B8.D1.80.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B7.D0.B2.D1.83.D0.BA.D0.B0_.D0.BA.D0.BB.D0.B0.D0.B2.D0.B8.D0.B0.D1.82.D1.83.D1.80.D0.BE.D0.B9"></span><span class="mw-headline" id="Регулировка_звука_клавиатурой">Регулировка звука клавиатурой</span>
</h3>
<p>Привяжите следующие команды к своим кнопках регулировки громкости: <code>XF86AudioRaiseVolume</code>, <code>XF86AudioLowerVolume</code>, <code>XF86AudioMute</code>. Подробнее это рассмотрено здесь <a href="/title/Extra_keyboard_keys_in_Xorg_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" class="mw-redirect" title="Extra keyboard keys in Xorg (Русский)">Extra keyboard keys in Xorg (Русский)</a>.
</p>
<p>Во-первых, найдите устройство вывода, которое является источником звука, которым вы хотите управлять. Для отображения списка доступных источников вывода используйте команду:
</p>
<pre>pactl list sinks short
</pre>
<p>Предположим, что используется источник 0, тогда для увеличения громкости:
</p>
<pre>sh -c "pactl set-sink-mute 0 false ; pactl set-sink-volume 0 +5%"
</pre>
<p>Для понижения громкости:
</p>
<pre>sh -c "pactl set-sink-mute 0 false ; pactl -- set-sink-volume 0 -5%"
</pre>
<p>Отключить/включить звук:
</p>
<pre>pactl set-sink-mute 0 toggle
</pre>
<p>Отключить/включить микрофон:
</p>
<pre>pactl set-source-mute 1 toggle
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Чтобы клавиатурные сокращения всегда работали с устройством вывода по умолчанию, установите <code>@DEFAULT_SINK@</code> как номер устройства вывода, например, <code>pactl set-sink-mute @DEFAULT_SINK@ toggle</code>.</div>
<h3>
<span id=".D0.9F.D1.80.D0.BE.D0.B8.D0.B3.D1.80.D1.8B.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B7.D0.B2.D1.83.D0.BA.D0.B0_.D1.87.D0.B5.D1.80.D0.B5.D0.B7_.D0.BD.D0.B5.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D0.B0.D0.BA.D1.82.D0.B8.D0.B2.D0.BD.D1.83.D1.8E_.D0.BE.D0.B1.D0.BE.D0.BB.D0.BE.D1.87.D0.BA.D1.83_.28.D1.81.D0.BB.D1.83.D0.B6.D0.B1.D0.B0_systemd.2C_cron.29"></span><span class="mw-headline" id="Проигрывание_звука_через_неинтерактивную_оболочку_(служба_systemd,_cron)">Проигрывание звука через неинтерактивную оболочку (служба systemd, cron)</span>
</h3>
<p>Установите <code>XDG_RUNTIME_DIR</code> перед командой (замените <code><i>user_id</i></code> на ID пользователя, запускающего PulseAudio):
</p>
<pre>XDG_RUNTIME_DIR=/run/user/<i>user_id</i> paplay /usr/share/sounds/freedesktop/stereo/complete.oga
</pre>
<p>Или используйте <code>machinectl</code>:
</p>
<pre># machinectl shell .host --uid=<i>user_id</i> /usr/bin/paplay /usr/share/sounds/freedesktop/stereo/complete.oga
</pre>
<h3>
<span id=".D0.A1.D0.B8.D0.B3.D0.BD.D0.B0.D0.BB.D1.8B_.D1.81.D0.BE.D0.B1.D1.8B.D1.82.D0.B8.D0.B9_X11"></span><span class="mw-headline" id="Сигналы_событий_X11">Сигналы событий X11</span>
</h3>
<p>Для передачи pulseaudio управления сигналами событий X11, выполните следующие команды после запуска сеанса X11:
</p>
<pre>pactl upload-sample /usr/share/sounds/freedesktop/stereo/bell.oga x11-bell
pactl load-module module-x11-bell sample=x11-bell display=$DISPLAY
</pre>
<p>Для настройки уровня громкости сигналов X11, запустите команду:
</p>
<pre>xset b 100
</pre>
<p>100 - это уровень в процентах. Для корректной работы потребуется пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xset">xorg-xset</a></span>. Чтобы узнать как запускать данные команды автоматически при загрузке сессии X11, ознакомьтесь с разделом <a href="/title/Autostarting_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Autostarting (Русский)">Autostarting (Русский)</a>.
</p>
<h3>
<span id=".D0.9F.D0.B5.D1.80.D0.B5.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.B8_.D0.BF.D0.BE.D0.B4.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B8"></span><span class="mw-headline" id="Переключение_при_подключении">Переключение при подключении</span>
</h3>
<p>Это модуль, используемый для переключения выходного звукового сигнала на вновь подключенное устройство. Например, если вы подключите USB гарнитуру, то звук будет переведён на неё. Если вы её отключите, то звук вернётся на последнее используемое устройство. Данная функция могла казаться немного неотлаженной, но ей уделили много внимания в PulseAudio 8.0 и на текущий момент она должна работать стабильно.
</p>
<p>Если вы хотите только протестировать работу модуля, то вы можете загрузить его во время выполнения, вызвав:
</p>
<pre>$ pactl load-module module-switch-on-connect
</pre>
<p>Если вы хотите сохранить данные настройки, то вам нужно добавить их в ваши локальные настройки pulseaudio или в файл /etc/pulse/default.pa (изменения будут применены во всей системе). В обоих случаях добавьте строку:
</p>
<pre>load-module module-switch-on-connect
</pre>
<p>В KDE/Plasma5, кроме того, вам следует отключить module-device-manager. Как только запускается Plasma5, она загружает (через start-pulseaudio-x11) модуль module-device-manager для pulseaudio для управления устройствами. Но этот модуль, очевидно, конфликтует с module-switch-on-connect. Таким образом, вам следует отключить этот модуль, отредактировав файл /bin/start-pulseaudio-x11 и закомментировав строки, относящиеся к KDE.
Затем выполните выход и вход в систему для перезапуска сессии pulseaudio. Теперь переключение по подключению должно работать.
</p>
<h3>
<span id=".D0.A1.D0.BA.D1.80.D0.B8.D0.BF.D1.82_.D0.B4.D0.BB.D1.8F_.D0.BF.D0.B5.D1.80.D0.B5.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D1.8F_.D0.B0.D0.BD.D0.B0.D0.BB.D0.BE.D0.B3.D0.BE.D0.B2.D1.8B.D1.85_.D0.B2.D1.8B.D1.85.D0.BE.D0.B4.D0.BE.D0.B2"></span><span class="mw-headline" id="Скрипт_для_переключения_аналоговых_выходов">Скрипт для переключения аналоговых выходов</span>
</h3>
<p>Некоторые звуковые карты обладают несколькими аналоговыми выходами, которые можно переключать через профили Pulseaudio. Но переключение вручную может быть неудобным, и вы можете использовать для этого следующую команду:
</p>
<pre>$ pactl set-sink-port 'number of the card' 'port'
</pre>
<p>Таким образом, выбранный вами порт станет выходом по умолчанию.
Пример:
</p>
<pre>$ pactl set-sink-port 0 "analog-output;output-speaker" 
</pre>
<p>Список портов можно получить, используя:
</p>
<pre>$ pactl list
</pre>
<p>Текущий выход можно отобразить командой:
</p>
<pre>$ pactl list sinks | grep "active profile"| cut -d ' ' -f 3-
</pre>
<p>Эти операции можно автоматизировать простым скриптом. Затем пользователь может назначить его на ярлык:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/pa.sh (или любое другое название)</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/bash
# Этот скрипт использует уведомления kdialog для предупреждения пользователя о том, что текущий профиль изменён. Пользователь может доработать его для своих нужд или совсем изменить.

CURRENT_PROFILE=$(pactl list sinks | grep "active profile"| cut -d ' ' -f 3-)

if [ "$CURRENT_PROFILE" = "analog-output;output-speaker" ] ; then
        pactl set-sink-port 0 "analog-output;output-headphones-1"
        kdialog --title "Pulseaudio" --passivepopup "Headphone" 2 &amp; 
else 
        pactl set-sink-port 0 "analog-output;output-speaker"      
        kdialog --title "Pulseaudio" --passivepopup  "Speaker" 2 &amp;
fi
</pre>
<p>Этот скрипт предназначен для переключения между двумя профилями. Сначала он проверяет текущий профиль, а затем заменяет его. Пользователям необходимо изменить поле 'active profile' в соответствии с языком, который предоставил pactl. Пользователям, возможно, понадобится изменить номер карты и выхода для настройки под свою конкретную систему.
</p>
<h2>
<span id=".D0.A0.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC"></span><span class="mw-headline" id="Решение_проблем">Решение проблем</span>
</h2>
<p>Смотрите <a href="/title/PulseAudio/Troubleshooting_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" class="mw-redirect" title="PulseAudio/Troubleshooting (Русский)">PulseAudio/Troubleshooting (Русский)</a>.
</p>
<h2>
<span id=".D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5"></span><span class="mw-headline" id="Смотрите_также">Смотрите также</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.alsa-project.org/main/index.php/Asoundrc">.asoundrc on ALSA wiki</a></li>
<li><a rel="nofollow" class="external text" href="http://www.pulseaudio.org/">PulseAudio official site</a></li>
<li><a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/PulseAudio/FAQ/">PulseAudio FAQ</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="/title/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/title/Category:Sound_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Category:Sound (Русский)">Sound (Русский)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="/title/Category:Pages_with_broken_package_links" title="Category:Pages with broken package links">Pages with broken package links</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=PulseAudio_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=669275">https://wiki.archlinux.org/index.php?title=PulseAudio_(Русский)&amp;oldid=669275</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 8 May 2021, at 11:31.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="/title/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/title/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="/title/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
