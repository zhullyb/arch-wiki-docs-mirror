<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>ATI (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-ATI_Русский rootpage-ATI_Русский skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">ATI (Русский)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><br>
Владельцы видеокарт ATI/AMD имеют выбор между <a href="../ru/AMD_Catalyst.html" title="AMD Catalyst (Русский)">проприетарным</a> (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst/">catalyst</a></span><sup><small>AUR</small></sup>) и открытым (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-ati">xf86-video-ati</a></span>) видеодрайвером.
</p>
<p>На данный момент открытый драйвер находится <i>не на одном уровне</i> с проприетарным драйвером в плане 3D-ускорения, а также стабильной поддержки TV-out. Однако, открытый драйвер имеет лучшую поддержку вывода графики на два монитора, прекрасное ускорение 2D-графики, а так же неплохое 3D-ускорение, достаточное для работы оконных менеджеров с поддержкой OpenGL, таких как <a href="../en/Compiz.html" title="Compiz">Compiz</a> или Kwin.
</p>
<p>Если вы не знаете, какой драйвер выбрать, попробуйте для начала открытый. Он лучше поддерживается разработчиками, и с ним, как правило, меньше проблем. Для получение информации о поддержке видеокарт и технологий, смотрите страницу  <a rel="nofollow" class="external text" href="http://www.x.org/wiki/RadeonFeature">матрица свойств</a>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%D0%9D%D0%B0%D0%B8%D0%BC%D0%B5%D0%BD%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE%D0%BA%D0%B0%D1%80%D1%82_%D0%B8_%D1%87%D0%B8%D0%BF%D0%BE%D0%B2_ATI/AMD"><span class="tocnumber">1</span> <span class="toctext">Наименование видеокарт и чипов ATI/AMD</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#%D0%9E%D0%B1%D1%89%D0%B8%D0%B9_%D0%BE%D0%B1%D0%B7%D0%BE%D1%80"><span class="tocnumber">2</span> <span class="toctext">Общий обзор</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#%D0%94%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80%D0%B0_ATI_%D1%81_%D0%9E%D1%82%D0%BA%D1%80%D1%8B%D1%82%D1%8B%D0%BC_%D0%98%D1%81%D1%85%D0%BE%D0%B4%D0%BD%D1%8B%D0%BC_%D0%9A%D0%BE%D0%B4%D0%BE%D0%BC"><span class="tocnumber">3</span> <span class="toctext">Драйвера ATI с Открытым Исходным Кодом</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0"><span class="tocnumber">3.1</span> <span class="toctext">Установка</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0"><span class="tocnumber">3.2</span> <span class="toctext">Настройка</span></a></li>
<li class="toclevel-2 tocsection-6">
<a href="#Kernel_mode-setting_(KMS)"><span class="tocnumber">3.3</span> <span class="toctext">Kernel mode-setting (KMS)</span></a>
<ul>
<li class="toclevel-3 tocsection-7">
<a href="#%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_KMS"><span class="tocnumber">3.3.1</span> <span class="toctext">Включение KMS</span></a>
<ul>
<li class="toclevel-4 tocsection-8"><a href="#%D0%A0%D0%B0%D0%BD%D0%BD%D0%B8%D0%B9_%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA"><span class="tocnumber">3.3.1.1</span> <span class="toctext">Ранний запуск</span></a></li>
<li class="toclevel-4 tocsection-9"><a href="#%D0%9F%D0%BE%D0%B7%D0%B4%D0%BD%D0%B8%D0%B9_%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA"><span class="tocnumber">3.3.1.2</span> <span class="toctext">Поздний запуск</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-10">
<a href="#%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC_%D1%81_KMS"><span class="tocnumber">3.3.2</span> <span class="toctext">Решение проблем с KMS</span></a>
<ul>
<li class="toclevel-4 tocsection-11"><a href="#%D0%9E%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_KMS"><span class="tocnumber">3.3.2.1</span> <span class="toctext">Отключение KMS</span></a></li>
<li class="toclevel-4 tocsection-12"><a href="#%D0%9F%D0%B5%D1%80%D0%B5%D0%B8%D0%BC%D0%B5%D0%BD%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_xorg.conf"><span class="tocnumber">3.3.2.2</span> <span class="toctext">Переименование xorg.conf</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-13">
<a href="#%D0%9F%D0%BE%D0%B2%D1%8B%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%9F%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%BE%D0%B4%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B8"><span class="tocnumber">3.3.3</span> <span class="toctext">Повышение Производительности</span></a>
<ul>
<li class="toclevel-4 tocsection-14"><a href="#%D0%9E%D0%B1%D1%89%D0%B8%D0%B5_%D1%80%D0%B5%D0%BA%D0%BE%D0%BC%D0%B5%D0%BD%D0%B4%D0%B0%D1%86%D0%B8%D0%B8"><span class="tocnumber">3.3.3.1</span> <span class="toctext">Общие рекомендации</span></a></li>
<li class="toclevel-4 tocsection-15"><a href="#%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_PCI-E_2.0"><span class="tocnumber">3.3.3.2</span> <span class="toctext">Включение PCI-E 2.0</span></a></li>
<li class="toclevel-4 tocsection-16"><a href="#Glamor"><span class="tocnumber">3.3.3.3</span> <span class="toctext">Glamor</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-17"><a href="#TV_%D0%B2%D1%8B%D1%85%D0%BE%D0%B4"><span class="tocnumber">3.3.4</span> <span class="toctext">TV выход</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#HDMI_%D1%81%D0%BE_%D0%B7%D0%B2%D1%83%D0%BA%D0%BE%D0%BC"><span class="tocnumber">3.3.5</span> <span class="toctext">HDMI со звуком</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-19">
<a href="#%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%9F%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC_(xf86-video-ati_%D0%B8_xf86-video-radeonhd)"><span class="tocnumber">3.4</span> <span class="toctext">Решение Проблем (xf86-video-ati и xf86-video-radeonhd)</span></a>
<ul>
<li class="toclevel-3 tocsection-20"><a href="#%D0%AF_%D0%B2%D0%B8%D0%B6%D1%83_%D0%B0%D1%80%D1%82%D0%B5%D1%84%D0%B0%D0%BA%D1%82%D1%8B,_%D0%BA%D0%BE%D0%B3%D0%B4%D0%B0_%D0%BF%D1%8B%D1%82%D0%B0%D1%8E%D1%81%D1%8C_%D0%B7%D0%B0%D0%B9%D1%82%D0%B8_%D0%B2_DE_%D0%B8%D0%BB%D0%B8_WM"><span class="tocnumber">3.4.1</span> <span class="toctext">Я вижу артефакты, когда пытаюсь зайти в DE или WM</span></a></li>
<li class="toclevel-3 tocsection-21"><a href="#%D0%AF_%D0%BF%D0%B5%D1%80%D0%B5%D1%88%D1%91%D0%BB_%D1%81_catalyst_%D0%BD%D0%B0_radeonhd_%D0%B8%D0%BB%D0%B8_radeon_%D0%B8_%D1%83_%D0%BC%D0%B5%D0%BD%D1%8F_%D1%87%D1%82%D0%BE-%D1%82%D0%BE_%D0%BD%D0%B5_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B5%D1%82"><span class="tocnumber">3.4.2</span> <span class="toctext">Я перешёл с catalyst на radeonhd или radeon и у меня что-то не работает</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-22">
<a href="#%D0%9F%D1%80%D0%BE%D0%BF%D1%80%D0%B8%D0%B5%D1%82%D0%B0%D1%80%D0%BD%D1%8B%D0%B5_%D0%B4%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80%D0%B0_ATI_Catalyst"><span class="tocnumber">4</span> <span class="toctext">Проприетарные драйвера ATI Catalyst</span></a>
<ul>
<li class="toclevel-2 tocsection-23"><a href="#%D0%9F%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%B8%D0%B2%D0%B0%D0%B5%D0%BC%D1%8B%D0%B5_%D0%A3%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0"><span class="tocnumber">4.1</span> <span class="toctext">Поддерживаемые Устройства</span></a></li>
<li class="toclevel-2 tocsection-24">
<a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_2"><span class="tocnumber">4.2</span> <span class="toctext">Установка</span></a>
<ul>
<li class="toclevel-3 tocsection-25">
<a href="#%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D0%BE%D0%B5_%D0%AF%D0%B4%D1%80%D0%BE"><span class="tocnumber">4.2.1</span> <span class="toctext">Основное Ядро</span></a>
<ul>
<li class="toclevel-4 tocsection-26"><a href="#kernel26"><span class="tocnumber">4.2.1.1</span> <span class="toctext">kernel26</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-27">
<a href="#%D0%A1%D0%BE%D0%B1%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D0%BE%D0%B5_%D0%AF%D0%B4%D1%80%D0%BE"><span class="tocnumber">4.2.2</span> <span class="toctext">Собственное Ядро</span></a>
<ul>
<li class="toclevel-4 tocsection-28"><a href="#%D0%9F%D0%BE%D0%BB%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_PKGBUILD"><span class="tocnumber">4.2.2.1</span> <span class="toctext">Получение PKGBUILD</span></a></li>
<li class="toclevel-4 tocsection-29"><a href="#%D0%A0%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_PKGBUILD_%D0%B8_%D1%81%D0%B1%D0%BE%D1%80%D0%BA%D0%B0"><span class="tocnumber">4.2.2.2</span> <span class="toctext">Редактирование PKGBUILD и сборка</span></a></li>
<li class="toclevel-4 tocsection-30"><a href="#%D0%97%D0%B0%D0%BC%D0%B5%D1%82%D0%BA%D0%B8"><span class="tocnumber">4.2.2.3</span> <span class="toctext">Заметки</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-31"><a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D1%89%D0%B8%D0%BA_ATI/AMD"><span class="tocnumber">4.2.3</span> <span class="toctext">Установщик ATI/AMD</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-32"><a href="#%D0%9A%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D1%8F"><span class="tocnumber">4.3</span> <span class="toctext">Конфигурация</span></a></li>
<li class="toclevel-2 tocsection-33">
<a href="#%D0%92%D0%BE%D0%B7%D0%BC%D0%BE%D0%B6%D0%BD%D1%8B%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B"><span class="tocnumber">4.4</span> <span class="toctext">Возможные проблемы</span></a>
<ul>
<li class="toclevel-3 tocsection-34"><a href="#%D0%A4%D0%BB%D0%B0%D0%B6%D0%BE%D0%BA/Checkbox_%D0%BD%D0%B5_%D0%BF%D1%80%D0%BE%D1%80%D0%B8%D1%81%D0%BE%D0%B2%D1%8B%D0%B2%D0%B0%D0%B5%D1%82%D1%81%D1%8F_%D0%B2_OpenGL_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0%D1%85"><span class="tocnumber">4.4.1</span> <span class="toctext">Флажок/Checkbox не прорисовывается в OpenGL программах</span></a></li>
<li class="toclevel-3 tocsection-35">
<a href="#%D0%A7%D0%B5%D1%80%D0%BD%D1%8B%D0%B9_%D1%8D%D0%BA%D1%80%D0%B0%D0%BD,_%D1%81_%D0%BF%D0%BE%D0%BB%D0%BD%D1%8B%D0%BC_%D0%B7%D0%B0%D0%B2%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5%D0%BC_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B_%D0%BF%D0%BE%D1%81%D0%BB%D0%B5_%D0%BF%D0%B5%D1%80%D0%B5%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B8_%D0%B8%D0%BB%D0%B8_%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA%D0%B0_startx"><span class="tocnumber">4.4.2</span> <span class="toctext">Черный экран, с полным зависанием системы после перезагрузки или запуска startx</span></a>
<ul>
<li class="toclevel-4 tocsection-36"><a href="#%D0%9F%D0%BE%D0%B2%D1%80%D0%B5%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B1%D0%B0%D0%B7%D1%8B_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85_amdpcsdb"><span class="tocnumber">4.4.2.1</span> <span class="toctext">Повреждение базы данных amdpcsdb</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-37"><a href="#KDM_%D0%BD%D0%B5_%D0%BF%D0%BE%D1%8F%D0%B2%D0%BB%D1%8F%D0%B5%D1%82%D1%81%D1%8F_%D0%BF%D0%BE%D1%81%D0%BB%D0%B5_%D0%B2%D1%8B%D1%85%D0%BE%D0%B4%D0%B0_%D0%B8%D0%B7_%D1%81%D0%B5%D1%81%D1%81%D0%B8%D0%B8"><span class="tocnumber">4.4.3</span> <span class="toctext">KDM не появляется после выхода из сессии</span></a></li>
<li class="toclevel-3 tocsection-38"><a href="#%D0%9D%D0%B5%D0%B2%D0%B5%D1%80%D0%BD%D0%BE%D0%B5_%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0_%D0%BF%D1%80%D0%B8_%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA%D0%B5_%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80%D0%B0_%D0%B2%D1%85%D0%BE%D0%B4%D0%B0"><span class="tocnumber">4.4.4</span> <span class="toctext">Неверное разрешение экрана при запуске менеджера входа</span></a></li>
<li class="toclevel-3 tocsection-39"><a href="#%D0%A3%D1%81%D0%BA%D0%BE%D1%80%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BD%D0%B5_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B5%D1%82"><span class="tocnumber">4.4.5</span> <span class="toctext">Ускорение не работает</span></a></li>
<li class="toclevel-3 tocsection-40">
<a href="#%D0%9F%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B_%D1%80%D0%B5%D0%B6%D0%B8%D0%BC%D0%BE%D0%B2_Hibernate/Sleep"><span class="tocnumber">4.4.6</span> <span class="toctext">Проблемы режимов Hibernate/Sleep</span></a>
<ul>
<li class="toclevel-4 tocsection-41"><a href="#%D0%9F%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B_%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE_%D0%BF%D1%80%D0%B8_%D0%B2%D1%85%D0%BE%D0%B4%D0%B5_%D0%B2_suspend/hibernate"><span class="tocnumber">4.4.6.1</span> <span class="toctext">Проблемы видео при входе в suspend/hibernate</span></a></li>
<li class="toclevel-4 tocsection-42"><a href="#%D0%9F%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B_%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE_%D0%BF%D1%80%D0%B8_%D0%B2%D0%BE%D0%B7%D0%B2%D1%80%D0%B0%D1%82%D0%B5_%D0%B8%D0%B7_suspend2ram"><span class="tocnumber">4.4.6.2</span> <span class="toctext">Проблемы видео при возврате из suspend2ram</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-43"><a href="#%D0%97%D0%B0%D0%B2%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B"><span class="tocnumber">4.4.7</span> <span class="toctext">Зависание системы</span></a></li>
<li class="toclevel-3 tocsection-44"><a href="#%D0%9A%D0%BE%D0%BD%D1%84%D0%BB%D0%B8%D0%BA%D1%82%D1%8B_%D0%96%D0%B5%D0%BB%D0%B5%D0%B7%D0%B0"><span class="tocnumber">4.4.8</span> <span class="toctext">Конфликты Железа</span></a></li>
<li class="toclevel-3 tocsection-45"><a href="#%D0%9D%D0%BE%D1%83%D1%82%D0%B1%D1%83%D0%BA%D0%B8_Compaq_Presario"><span class="tocnumber">4.4.9</span> <span class="toctext">Ноутбуки Compaq Presario</span></a></li>
<li class="toclevel-3 tocsection-46"><a href="#%D0%97%D0%B0%D0%B2%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D1%8F_%D0%BF%D1%80%D0%B8_%D0%B2%D0%BE%D1%81%D0%BF%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B8_%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE"><span class="tocnumber">4.4.10</span> <span class="toctext">Зависания при воспроизведении видео</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-47"><a href="#%D0%92%D0%BD%D0%B5%D1%88%D0%BD%D0%B8%D0%B5_%D0%A0%D0%B5%D1%81%D1%83%D1%80%D1%81%D1%8B"><span class="tocnumber">5</span> <span class="toctext">Внешние Ресурсы</span></a></li>
</ul>
</div>

<h2>
<span id=".D0.9D.D0.B0.D0.B8.D0.BC.D0.B5.D0.BD.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B2.D0.B8.D0.B4.D0.B5.D0.BE.D0.BA.D0.B0.D1.80.D1.82_.D0.B8_.D1.87.D0.B8.D0.BF.D0.BE.D0.B2_ATI.2FAMD"></span><span class="mw-headline" id="Наименование_видеокарт_и_чипов_ATI/AMD">Наименование видеокарт и чипов ATI/AMD</span>
</h2>
<p>В этой статье читатель может увидеть два способа наименования: название продукта (например HD 4850, X1900) и кодовое имя видеочипа (например RV770, R580). Традиционно, линейка продуктов соответствует линейке видеочипов (т.е. линейка видеокарт "X1000" включает в себя карты X1300, X1600, X1800 и X1900, которые используют линейку чипов "R500", включающую чипы RV515, RV530, R520 и R580).
Чтобы найти свою карту, посетите страницу википедии:
<a href="https://en.wikipedia.org/wiki/Comparison_of_ATI_Graphics_Processing_Units" class="extiw" title="wikipedia:Comparison of ATI Graphics Processing Units">wikipedia:Comparison_of_ATI_Graphics_Processing_Units</a>
</p>
<h2>
<span id=".D0.9E.D0.B1.D1.89.D0.B8.D0.B9_.D0.BE.D0.B1.D0.B7.D0.BE.D1.80"></span><span class="mw-headline" id="Общий_обзор">Общий обзор</span>
</h2>
<p>Драйвер <code>xf86-video-ati</code> (radeon):
</p>
<ul>
<li>Работает с чипсетами Radeon вплоть до серий HD 6xxx и 7xxxM (последние чипы Northern Islands).
<ul>
<li>Radeon'ы линейки HD 77xx (Southern Islands) поддерживаются лишь частично. См.  <a rel="nofollow" class="external text" href="http://www.x.org/wiki/RadeonFeature">матрицу свойств</a> для нахождения неработающих технологий.</li>
<li>Radeon'ы вплоть до серии X1xxx полностью поддерживаются, работают стабильно, и имеют полное 2D и 3D ускорение.</li>
<li>Radeon'ы с серии HD 2xxx до HD 6xxx имеют полное 2D ускорение и почти полное 3D ускорение, но поддерживают не весь функционал, предоставляемый проприетарным драйвером.</li>
</ul>
</li>
<li>Поддерживает DRI1, RandR 1.2/1.3, EXA ускорение и <a href="../en/Kernel_mode_setting.html" class="mw-redirect" title="KMS">KMS</a>/DRI2 (с последними версиями ядра Linux, libdrm и Mesa).</li>
</ul>
<p>В итоге, <b>xf86-video-ati</b> должен быть вашим первым выбором, вне зависимости от того, какую видеокарту ATI/AMD вы имеете. В случае, если вы хотите драйвер для новейших видеокарт ATI/AMD, выбирайте проприетарный драйвер <b>catalyst</b>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> <b>xf86-video-ati</b> указан как <i><b>radeon</b></i> для ядра Linux и в <code>xorg.conf</code>. </div>
<h1>
<span id=".D0.94.D1.80.D0.B0.D0.B9.D0.B2.D0.B5.D1.80.D0.B0_ATI_.D1.81_.D0.9E.D1.82.D0.BA.D1.80.D1.8B.D1.82.D1.8B.D0.BC_.D0.98.D1.81.D1.85.D0.BE.D0.B4.D0.BD.D1.8B.D0.BC_.D0.9A.D0.BE.D0.B4.D0.BE.D0.BC"></span><span class="mw-headline" id="Драйвера_ATI_с_Открытым_Исходным_Кодом">Драйвера ATI с Открытым Исходным Кодом</span>
</h1>
<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0"></span><span class="mw-headline" id="Установка">Установка</span>
</h2>
<p>Если проприетарный  драйвер <code>catalyst</code> был установлен ранее, удалите его по <a href="../en/AMD_Catalyst.html#Uninstallation" class="mw-redirect" title="ATI Catalyst">этой инструкции (англ.)</a>
</p>
<p><a href="../ru/Pacman.html" title="Pacman (Русский)">Установите</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-ati">xf86-video-ati</a></span>, доступный в <a href="../ru/Official_repositories.html" title="Official repositories (Русский)">официальном репозитории</a>.
</p>
<p>-git версия драйвера и других необходимых пакетов (linux-git, и т.д.) можно найти в  <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=79509&amp;p=1">репозитории radeon</a> или в <a href="../ru/Arch_User_Repository.html" title="Arch User Repository (Русский)">AUR</a>.
</p>
<h2>
<span id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0"></span><span class="mw-headline" id="Настройка">Настройка</span>
</h2>
<p>Xorg автоматически загружает драйвер и использует EDID вашего монитора, чтобы выставить родное разрешение. Настройка необходима только для повышения производительности драйвера.
</p>
<p>Если вы хотите настроить драйвер вручную, создайте файл <code>/etc/X11/xorg.conf.d/20-radeon.conf</code> и добавьте туда следующие строки:
</p>
<pre>Section "Device"
    Identifier "Radeon"
    Driver "radeon"
EndSection
</pre>
<p>Используя эту секцию, вы можете включать различные функции и технологии драйвера.
</p>
<h2>
<span id="Kernel_mode-setting_.28KMS.29"></span><span class="mw-headline" id="Kernel_mode-setting_(KMS)">Kernel mode-setting (KMS)</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Если у вас имеются проблемы с разрешением, посмотрите <a href="../en/Kernel_mode_setting.html#Forcing_modes_and_EDID" title="Kernel mode setting">эту страницу (англ.)</a>.</div>
<p><b>Установщик видеорежимов ядра (kernel mode-setting)</b> — это технология смены видеорежимов в пространстве ядра, на стадии загрузки модулей (до загрузки X). Он написан практически с нуля и позволяет переключать терминалы (Ctrl+Alt+F1 и др.) практически мгновенно. Как следствие, вы будете иметь полноэкранный фрэймбуфер, который удобен в консольном режиме для дисплеев с высоким разрешением.
</p>
<h3>
<span id=".D0.92.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_KMS"></span><span class="mw-headline" id="Включение_KMS">Включение KMS</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Начиная с версии ядра  2.6.33, KMS <b>изначально включен</b> для автоматически найденных видеокарт ATI/AMD. Этот раздел для тех, кто использует собственную конфигурацию.</div>
<h4>
<span id=".D0.A0.D0.B0.D0.BD.D0.BD.D0.B8.D0.B9_.D0.B7.D0.B0.D0.BF.D1.83.D1.81.D0.BA"></span><span class="mw-headline" id="Ранний_запуск">Ранний запуск</span>
</h4>
<p>Этот метод позволяет запускать KMS раньше, насколько это возможно в процессе загрузки, когда загружен initramfs.
</p>
<ul><li>Удалите все <b>"vga="</b> и <b>"video="</b> опции из строки вашего ядра в /boot/grub/menu.lst.  Использование других драйверов фрэймбуфера (таких как uvesafb/radeonfb) приведет к конфликту с KMS. Удалите любые установленные модули фрэймбуфера из /etc/mkinitcpio.conf.</li></ul>
<ul><li>Добавьте <b>"radeon"</b> (строка MODULES) в <b>/etc/mkinitcpio.conf</b>. Для поддержки AGP необходимо также добавить "intel_agp" <b>перед</b> модулем radeon.</li></ul>
<ul><li>Пересоздайте ваш initramfs:</li></ul>
<pre>mkinitcpio -p linux
</pre>
<ul><li>Перезагрузите систему.</li></ul>
<h4>
<span id=".D0.9F.D0.BE.D0.B7.D0.B4.D0.BD.D0.B8.D0.B9_.D0.B7.D0.B0.D0.BF.D1.83.D1.81.D0.BA"></span><span class="mw-headline" id="Поздний_запуск">Поздний запуск</span>
</h4>
<p><i>При таком выборе KMS будет включен, когда в процессе загрузки появится сообщение "Loading modules."</i>
</p>
<p>Если вы используете специальное ядр (например, linux-zen), редактируйте конфигурационный файл mkinitcpio, принадлежащий вашему ядру, например, <code>/etc/mkinitcpio-zen.conf</code>. Эта инструкция написана для стандартного ядра (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span>).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Для поддержки AGP необходимо добавить <code>intel_agp</code>, <code>ali_agp</code>, <code>ati_agp</code>, <code>amd_agp</code>, или <code>amd64_agp</code>) в соответствующие .conf файлы в <code>/etc/modules-load.d</code>.</div>
<ul><li>Удалите все <b>"vga="</b> и <b>"video="</b> опции из строки вашего ядра в <b>/boot/grub/menu.lst</b>. Использование других драйверов фрэймбуфера (таких как uvesafb/radeonfb) приведёт к конфликту с KMS. Удалите любые установленные модули фрэймбуфера из <b>/etc/mkinitcpio.conf</b>.</li></ul>
<ul><li>Добавьте <code>options radeon modeset=1</code> в <code>/etc/modprobe.d/modprobe.conf</code>.</li></ul>
<ul><li>Перезагрузите систему.</li></ul>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Если поздний запуск у вас <b>не работает</b>, попробуйте <a href="#.D0.A0.D0.B0.D0.BD.D0.BD.D0.B8.D0.B9_.D0.B7.D0.B0.D0.BF.D1.83.D1.81.D0.BA">ранний запуск Kernel Mode Setting</a>.</div>
<h3>
<span id=".D0.A0.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC_.D1.81_KMS"></span><span class="mw-headline" id="Решение_проблем_с_KMS">Решение проблем с KMS</span>
</h3>
<h4>
<span id=".D0.9E.D1.82.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_KMS"></span><span class="mw-headline" id="Отключение_KMS">Отключение KMS</span>
</h4>
<p>Пользователь должен рассмотреть вариант отключение KMS, если он столкнулся при его использовании с <i>kernel panic</i>, искажением фрэймбуфера при загрузке, отстутствии сигнала от видеокарты, отказе загрузки <a href="../en/Xorg.html" title="Xorg">Xorg</a>, невозможности Xorg вернуться к программной растеризации Mesa (без 3D ускорения), или проблемой выключения компьютера.
</p>
<ul><li>Добавьте <code>radeon.modeset=0</code> (или <code>nomodeset</code>, если не сработало) в строку kernel конфигурационного файла вашего загрузчика <a href="../en/Arch_boot_process.html#Configuration_files" class="mw-redirect" title="Boot loader">configuration file</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">ссылка недействительна</a>: раздел не найден]</sup>. Это должно сработать.</li></ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Добавление <b>nomodeset</b>  в строку kernel может помешать GNOME'у 3 или KDE's запускать графические эффекты при загрузке.</div>
<p>Если вы хотите убрать поддержку KMS из initramfs, проделайте два следующих шага.
</p>
<ul>
<li>Если <code>radeon</code> был добавлен в строку <code>MODULES</code> в <code>mkinitcpio.conf</code> для включения <i>раннего запуска</i>, удалите его оттуда.</li>
<li>Пересоберите <a href="../en/Arch_boot_process.html#initramfs" class="mw-redirect" title="Initramfs">initramfs</a> с помощью <pre># mkinitcpio -p linux</pre>
</li>
</ul>
<p>В ином случае, модуль может быть указан в файле внутри директории <code>/etc/modprobe.d</code>. Если вы используете модуль <b>radeon</b> (<code>lsmod | grep radeon</code>), отключите KMS, создав файл со следующим содержимым:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/radeon.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">options radeon modeset=0</pre>
<h4>
<span id=".D0.9F.D0.B5.D1.80.D0.B5.D0.B8.D0.BC.D0.B5.D0.BD.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_xorg.conf"></span><span class="mw-headline" id="Переименование_xorg.conf">Переименование <code>xorg.conf</code></span>
</h4>
<p>Переименование <code>/etc/X11/xorg.conf</code>, который может содержать конфликтующие с KMS опции, позволит Xorg добиться автообнаружение оборудования с приемлимыми настройками. После переименования <b>перезапустите</b> Xorg.
</p>
<h3>
<span id=".D0.9F.D0.BE.D0.B2.D1.8B.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.9F.D1.80.D0.BE.D0.B8.D0.B7.D0.B2.D0.BE.D0.B4.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE.D1.81.D1.82.D0.B8"></span><span class="mw-headline" id="Повышение_Производительности">Повышение Производительности</span>
</h3>
<h4>
<span id=".D0.9E.D0.B1.D1.89.D0.B8.D0.B5_.D1.80.D0.B5.D0.BA.D0.BE.D0.BC.D0.B5.D0.BD.D0.B4.D0.B0.D1.86.D0.B8.D0.B8"></span><span class="mw-headline" id="Общие_рекомендации">Общие рекомендации</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Нижеследующие опции включаются в файле <code>/etc/X11/xorg.conf.d/<b>20-radeon.conf</b></code>.</div>
<p>Изначально xf86-video-ati работает со скоростью AGP 4x. Эту скорость можно изменить, и притом это довольно безопасно. Если вы заметите зависания, попробуйте изменить значение или удалить его полностью (вы можете использовать значения 1, 2, 4, 8). Если KMS включен, эта опция не используется и заменяется опцией <code>radeon.agpmode</code> в строке kernel у конф. файла вашего загрузчика.
</p>
<pre>Option "AGPMode" "8"
</pre>
<p><b>ColorTiling</b> абсолютно безопасен для включения и предположительно используется изначально. Многие пользователи отмечают повышение производительности, эта опция пока ещё не работает с картами на чипе R200 и более ранними. Может быть включена на ранних картах, однако работа будет переводиться на CPU.
</p>
<pre>Option "ColorTiling" "on"
</pre>
<p><b>Архитектура ускорения</b>; это будет работать только на <b>новых</b> видеокартах. Если вы включили эту опцию и не можете запустить X, то удалите её. 
</p>
<pre>Option "AccelMethod" "EXA"
</pre>
<p><b>Page Flip</b> в целом безопасен для включения. Эта опция предназначена больше для старых карт, поскольку её включение отключает EXA. C последними драйверами может быть использована вместе с EXA.
</p>
<pre>Option "EnablePageFlip" "on"
</pre>
<p><b>AGPFastWrite</b> включит быструю запись для AGP карт. Эта опция может привести к нестабильности, поэтому будьте готовы удалить её, если не сможете зайти в X. Эта опция не используется, если включен KMS.
</p>
<pre>Option "AGPFastWrite" "yes"
</pre>
<p><b>EXAVSync </b> включает вертикальную синхронизацию при включённом EXA.  Эта функция вызывает падение производительности, а также может вызвать нестабильность в работе некоторых видеокарт. Очень полезная функция при использовании Xv наложения на рабочих станциях с 3D ускорением. Функция не нужна, если используется KMS.
</p>
<pre>Option "EXAVSync" "yes"
</pre>
<p>Ниже представлен пример содержимого файла <code>/etc/X11/xorg.conf.d/<b>20-radeon.conf</b></code>:
</p>
<pre>Section "Device"
       Identifier  "My Graphics Card"
        Option	"AGPMode"               "8"   #not used when KMS is on
	Option	"AGPFastWrite"          "off" #could cause instabilities enable it at your own risk
	Option	"SWcursor"              "off" #software cursor might be necessary on some rare occasions, hence set off by default
	Option	"EnablePageFlip"        "on"  #supported on all R/RV/RS4xx and older hardware and set off by default
	Option	"AccelMethod"           "EXA" #valid options are XAA, EXA and Glamor. EXA is the default.
	Option	"RenderAccel"           "on"  #enabled by default on all radeon hardware
	Option	"ColorTiling"           "on"  #enabled by default on RV300 and later radeon cards.
	Option	"EXAVSync"              "off" #default is off, otherwise on. Only works <b>if EXA activated</b>
	Option	"EXAPixmaps"            "on"  #when on icreases 2D performance, but may also cause artifacts on some old cards. Only works <b>if EXA activated</b>
	Option	"AccelDFS"              "on"  #default is off, read the radeon manpage for more information
EndSection
</pre>
<p>Определение значения <b>gartsize</b>, если этого не произошло автоматически, можно произвести с помощью опции<code>radeon.gartsize=32</code> в строке <a href="../en/Kernel_parameters.html" title="Kernel parameters">параметров ядра (англ.)</a> вашего загрузчика. Размер указывается в мегабайтах. Приведённое значение в 32 мегабайта подходит для чипов RV280.
</p>
<p>Альтернативный вариант - добавить следующую опцию в файл<code>/etc/modprobe.d/radeon.conf</code>:
</p>
<pre>options radeon gartsize=32
</pre>
<p><b>Для получения дополнительной информации и опций, читайте man-руководство по radeon и страницу информации модуля</b>:
</p>
<pre>man radeon
</pre>
<pre>modinfo radeon
</pre>
<p>Можно использовать очень хорошую утилиту <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/driconf/">driconf</a></span><sup><small>AUR</small></sup>. Она позволит вам изменять некоторые настройки, такие как вертикальная синхронизация, анизотропная фильтрация, компрессия текстур и др. Используя эту утилиту также можно "запретить откат Низкоуровневых Коллизий" необходимый некоторым программам (например Google Earth).
</p>
<h4>
<span id=".D0.92.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_PCI-E_2.0"></span><span class="mw-headline" id="Включение_PCI-E_2.0">Включение PCI-E 2.0</span>
</h4>
<p>Может быть нестабильно с некоторыми материнскими платами, а также не принести никакого выигрыша в производительности.Опробовать можно, добавив "radeon.pcie_gen2=1" в строку kernel вашего загрузчика.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Начиная с ядра 3.6, PCI-E v2.0 в <b>radeon</b> включено изначально.</div>
<p>Больше информации <a rel="nofollow" class="external text" href="http://www.phoronix.com/scan.php?page=article&amp;item=amd_pcie_gen2&amp;num=1">в этой статье на Phoronix</a>
</p>
<h4><span class="mw-headline" id="Glamor">Glamor</span></h4>
<p>С новыми версиями открытых драйверов ATI вы можете использовать новый метод ускорения под названием "glamor": это метод ускорения 2D реализуется через OpenGL и будет работать только с видеокартами на чипсете R300 и новее.
</p>
<pre> Option	"AccelMethod"           "glamor"
</pre>
<p>Однако, вам необходимо добавить следующую секцию до этого:
</p>
<pre>Section "Module"
	Load "dri2"
	Load "glamoregl" 
EndSection
</pre>
<p><br>
</p>
<h3>
<span id="TV_.D0.B2.D1.8B.D1.85.D0.BE.D0.B4"></span><span class="mw-headline" id="TV_выход">TV выход</span>
</h3>
<p>Начиная с августа 2007, TV-выход поддерживают все карты Radeon с интегрированным TV-out.
</p>
<p>Они имеют некоторые ограничения, в частности, некоторые из них, не всегда определяются правильно и работают только в NTSC режиме.
</p>
<p>Сначала, проверьте есть ли у вас выход S-video: <code>xrandr</code> должен показать что-то вроде такого
</p>
<pre>Screen 0: minimum 320x200, current 1024x768, maximum 1280x1200
...
S-video disconnected (normal left inverted right x axis y axis)
</pre>
<p>Теперь, мы должны сказать Xorg'у, что выход подключён (это верно?)
</p>
<pre>xrandr --output S-video --set load_detection 1
</pre>
<p>Настройка ТВ стандарта:
</p>
<pre>xrandr --output S-video --set tv_standard ntsc
</pre>
<p>Добавление видеорежима (сейчас поддерживается только 800x600):
</p>
<pre>xrandr --addmode S-video 800x600
</pre>
<p>Переход в режим клонирования:
</p>
<pre>xrandr --output S-video --same-as VGA-0
</pre>
<p>Пока всё хорошо. Теперь давайте посмотрим, что мы имеем:
</p>
<pre>xrandr --output S-video --mode 800x600
</pre>
<p>В этот момент, вы должны увидеть версию вашего рабочего стола на экране ТВ в режиме 800x600.
</p>
<p>Запретить использовать выход
</p>
<pre>xrandr --output S-video --off
</pre>
<p>Также, вы можете заметить, что видео проигрывается только на мониторе, на ТВ его нет. Управление Xv наложением, передается атрибутом XV_CRTC.
</p>
<p>Перенаправить вывод на ТВ
</p>
<pre>xvattr -a XV_CRTC -v 1
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> вам необходимо установить <b>xvattr</b> из <a href="../ru/Arch_User_Repository.html" title="Arch User Repository (Русский)">AUR</a> для выполнения этой команды.</div>
<p>Для переключения обратно на монитор, измените в <code>0</code>. <code>-1</code> используется для автоматического переключения в двух-выходной установке.
</p>
<p><br>
Дополнительно смотрите <a rel="nofollow" class="external text" href="http://www.x.org/wiki/radeonTV">Включение Статического TV-Out (англ.)</a>, для того чтобы узнать как включить TV-out в вашем конфигурационном файле xorg.
</p>
<h3>
<span id="HDMI_.D1.81.D0.BE_.D0.B7.D0.B2.D1.83.D0.BA.D0.BE.D0.BC"></span><span class="mw-headline" id="HDMI_со_звуком">HDMI со звуком</span>
</h3>
<p>Если ваше оборудование поддерживает это и вы имеете установленный <b>xf86-video-radeonhd</b> или <b>xf86-video-ati</b>, вы можете вставить следующие опции в ваш xorg.conf для включения HDMI со звуком:
</p>
<pre>Section "Device"
  # ...
  Option "Audio" "on"
  Option "HDMI" "all"
EndSection
</pre>
<p>Когда вы внесете изменения, перегрузите X-сервер и проверьте, передается ли звук на ТВ через кабель HDMI.
</p>
<p>В ядрах &gt;= 3.0 модуль звука выключен по умолчанию. Для включения этого модуля добавьте <code>radeon.audio=1</code> к значению переменной GRUB_CMDLINE_LINUX_DEFAULT в файле /etc/default/grub и перегенерируйте конфигурацию командой <code>grub-mkconfig -o /boot/grub/grub.cfg</code>. Если у вас Grub 1.x то просто добавьте этот параметр в конец строки "kernel" в файле /boot/grub/menu.lst.
Подробности можно узнать в <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=124130">этом треде</a>.
Видеокарты линейки Evergreen получат поддержку начиная с ядра &gt;= 3.3
</p>
<ol>
<li>Подключите ваш ПК к ТВ через кабель HDMI (duh).</li>
<li>Используйте xrandr для получения картинки на ТВ. Пример: <code>xrandr --output DVI-D_1 --mode 1280x768 --right-of PANEL</code>. Просто наберите <code>xrandr</code>, он выдаст вам список правильных выводов.</li>
<li>Запустите <code>aplay -l</code> для получения списка ваших звуковых устройств. Найдите HDMI  и запомните номер карты и номер передающего устройства. Пример того, что вы увидите: <code>card 1: HDMI [HDA ATI HDMI], device 3: ATI HDMI [ATI HDMI]</code>
</li>
<li>Попробуйте отправить звук на это устройство: <code>aplay -D plughw:1,3 /usr/share/sounds/alsa/Front_Center.wav</code>. Убедитесь, что ваш изменённый  plughw:z,y совпадает с номером вашей карты, найденном в последней команде. Вы услышите тестовый звук на вашем ТВ.</li>
<li>Если всё заработало, можно сделать hdmi устройством вывода звука по умолчанию для alsa. Для этого приведите /etc/asound.conf или ~/.asoundrc к следующему виду:</li>
</ol>
<pre>pcm.!default {
    type hw
    card 1
    device 3
}

ctl.!default {
    type hw
    card 1
    device 3
}
</pre>
<h2>
<span id=".D0.A0.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.9F.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC_.28xf86-video-ati_.D0.B8_xf86-video-radeonhd.29"></span><span class="mw-headline" id="Решение_Проблем_(xf86-video-ati_и_xf86-video-radeonhd)">Решение Проблем (xf86-video-ati и xf86-video-radeonhd)</span>
</h2>
<h3>
<span id=".D0.AF_.D0.B2.D0.B8.D0.B6.D1.83_.D0.B0.D1.80.D1.82.D0.B5.D1.84.D0.B0.D0.BA.D1.82.D1.8B.2C_.D0.BA.D0.BE.D0.B3.D0.B4.D0.B0_.D0.BF.D1.8B.D1.82.D0.B0.D1.8E.D1.81.D1.8C_.D0.B7.D0.B0.D0.B9.D1.82.D0.B8_.D0.B2_DE_.D0.B8.D0.BB.D0.B8_WM"></span><span class="mw-headline" id="Я_вижу_артефакты,_когда_пытаюсь_зайти_в_DE_или_WM">Я вижу артефакты, когда пытаюсь зайти в DE или WM</span>
</h3>
<p>Если вы видите артефакты, сначала попробуйте зайти в ваш любимый DE или WM без xorg.conf в /etc/X11/. Многие люди пытаются сделать изменения в xorg.conf для своей системы, но в некоторых случаях, это приводит к проблемам.
</p>
<p>Если вы это сделаете, не забудьте установить и запустить <b>HAL</b>, а также установить <b>xorg-input-drivers</b>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Также, возможно, проблема может быть связана с KMS. Если это так, <a href="#.D0.9E.D1.82.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_KMS">отключите KMS.</a>
</div>
<h3>
<span id=".D0.AF_.D0.BF.D0.B5.D1.80.D0.B5.D1.88.D1.91.D0.BB_.D1.81_catalyst_.D0.BD.D0.B0_radeonhd_.D0.B8.D0.BB.D0.B8_radeon_.D0.B8_.D1.83_.D0.BC.D0.B5.D0.BD.D1.8F_.D1.87.D1.82.D0.BE-.D1.82.D0.BE_.D0.BD.D0.B5_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D0.B0.D0.B5.D1.82"></span><span class="mw-headline" id="Я_перешёл_с_catalyst_на_radeonhd_или_radeon_и_у_меня_что-то_не_работает">Я перешёл с catalyst на radeonhd или radeon и у меня что-то не работает</span>
</h3>
<p>Прежде всего, не паникуйте. Удалите catalyst и catalyst-utils, установите xf86-video-radeonhd или xf86-video-ati и теперь <i><b>перегрузитесь</b></i>.
</p>
<p>Убедитесь в том, что вы не используете xorg.conf, сгенерированный для catalyst. Ваш оригинальный файл должен быть сохранен и вы можете его вернуть:
</p>
<pre>cp /etc/X11/xorg.conf.original-0 /etc/X11/xorg.conf
</pre>
<p>В противном случае, остановите графический сервер, если он запущен и в терминале tty наберите как root:
</p>
<pre>Xorg -configure
mv xorg.conf.new /etc/X11/xorg.conf
</pre>
<p>и убедитесь в наличии нужных опций.
</p>
<p>Если, все эти шаги не решили ваших проблем, известно, что catalyst имеет плохую привычку заменять файлы Xorg символическими ссылками, указывающих на свои файлы. Самое простое решение - удаление всех пакетов catalyst и полная переустановка xorg, libgl, ati-dri и xf86-video-radeonhd или xf86-video-ati.
</p>
<p>Если это также не помогло, тогда посмотрите темы на форуме, возможно ваша проблема уже решена.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Когда вы переходите на <b>xf86-video-ati</b> или <b>xf86-video-radeonhd</b>, помните, что вы можете зайти без xorg.conf (без особых проблем), сначала Xorg должен автоматически определить ваши настройки. <b>xorg.conf</b> для этого не обязателен.</div>
<h1>
<span id=".D0.9F.D1.80.D0.BE.D0.BF.D1.80.D0.B8.D0.B5.D1.82.D0.B0.D1.80.D0.BD.D1.8B.D0.B5_.D0.B4.D1.80.D0.B0.D0.B9.D0.B2.D0.B5.D1.80.D0.B0_ATI_Catalyst"></span><span class="mw-headline" id="Проприетарные_драйвера_ATI_Catalyst">Проприетарные драйвера ATI Catalyst</span>
</h1>
<p>Известный раньше как 'fglrx', ATI ребрендила свой проприетарный Linux драйвер, который теперь известен как 'Catalyst'. Изменения, коснулись только имени пакета, имя модуля ядра 'fglrx' осталось таким же, поэтому любые упоминания fglrx ниже относятся именно к модулю ядра, <i>а не к имени пакета</i>.
</p>
<h2>
<span id=".D0.9F.D0.BE.D0.B4.D0.B4.D0.B5.D1.80.D0.B6.D0.B8.D0.B2.D0.B0.D0.B5.D0.BC.D1.8B.D0.B5_.D0.A3.D1.81.D1.82.D1.80.D0.BE.D0.B9.D1.81.D1.82.D0.B2.D0.B0"></span><span class="mw-headline" id="Поддерживаемые_Устройства">Поддерживаемые Устройства</span>
</h2>
<p>Для просмотра списка поддерживаемых устройств текущей версией драйвера, обратитесь к <a rel="nofollow" class="external text" href="http://www2.ati.com/drivers/linux/catalyst_88_linux.html">Заметкам к релизу ATI Catalyst 8.8 (англ.)</a>.
</p>
<p>ПРИМЕЧАНИЕ: <i>Начиная с версии <b>9.4</b>, закрытый драйвер ATI <b>поддерживает только R600 и более новые устройства</b> (HD2xxx и выше). Владельцы старых карт, в частности пользователи ноутбуков, должны знать, что драйвер ATI Catalyst 8-8 поддерживает только  Xorg &lt;= 7.3. Xorg 7.4 не имеет поддержки вплоть до драйвера ниже версии 8-10. Это означает, что если вы хотите использовать Xorg 7.4 со старыми картами, ваш единственный вариант открытые драйвера, например, <b>xf86-video-ati</b>. Хотя Xorg 7.4 поддерживается в Catalyst с 8-10 вплоть до релиза 9-3, эти драйвера не представлены в виде пакетов в Archlinux, так как многие старые карты, имеют проблемы с этими версиями драйвера.</i>
</p>
<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_2"></span><span class="mw-headline" id="Установка_2">Установка</span>
</h2>
<p>Catalyst был раньше уже собранным пакетом в Arch, находившийся в репозитории <code>extra</code>, но в марте 2009, оффициальная поддержка была прекращена, в связи с неудовлетворительным качеством и скоростью разработки закрытого драйвера. Теперь, <a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?ID=22899">драйвер catalyst</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-08-02]</sup> и <a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?ID=22510">catalyst-utils</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-08-02]</sup> доступны в AUR.
</p>
<h3>
<span id=".D0.9E.D1.81.D0.BD.D0.BE.D0.B2.D0.BD.D0.BE.D0.B5_.D0.AF.D0.B4.D1.80.D0.BE"></span><span class="mw-headline" id="Основное_Ядро">Основное Ядро</span>
</h3>
<h4><span class="mw-headline" id="kernel26">kernel26</span></h4>
<p>Чтобы установить драйвер ATI для пакета <code>kernel26</code>, вам необходимо установить пакет <code>catalyst</code>, который можно найти в <a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?ID=22899">AUR</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-08-02]</sup>. Вы можете собрать его с помощью <a href="../ru/Makepkg.html" title="Makepkg (Русский)">makepkg</a>.
</p>
<p>Этот пакет содержит <b>только</b> модуль ядра, вместе с ним, устанавливается пакет <code>catalyst-utils</code> как зависимость. Пакет <code>catalyst-utils</code> не зависит от версии ядра и предоставляет библиотеки и утилиты для Xorg, а также включает <code>libGL.so</code> от ATI.
</p>
<p>Для основного ядра это всё. Сконфигурируйте ваш <a href="../en/Xorg.html" title="Xorg">xorg.conf</a> как обычно, если это необходимо.
</p>
<h3>
<span id=".D0.A1.D0.BE.D0.B1.D1.81.D1.82.D0.B2.D0.B5.D0.BD.D0.BD.D0.BE.D0.B5_.D0.AF.D0.B4.D1.80.D0.BE"></span><span class="mw-headline" id="Собственное_Ядро">Собственное Ядро</span>
</h3>
<p>Для установки catalyst для собственного ядра, вам необходимо собрать свой пакет <code>catalyst-$kernel</code>, содержащий модуль ядра, непосредственно для вашего ядра.
</p>
<p>Если вы не знаете, как создается пакет, после первого прочтения страницы <a href="../ru/Arch_Build_System.html" title="Arch Build System (Русский)">ABS</a> в вики, всё должно быть проще.
</p>
<h4>
<span id=".D0.9F.D0.BE.D0.BB.D1.83.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_PKGBUILD"></span><span class="mw-headline" id="Получение_PKGBUILD">Получение PKGBUILD</span>
</h4>
<p>Получить файлы <code>PKGBUILD</code> и <code>catalyst.install</code> можно из <a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?ID=22899">AUR</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-08-02]</sup>.
</p>
<h4>
<span id=".D0.A0.D0.B5.D0.B4.D0.B0.D0.BA.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_PKGBUILD_.D0.B8_.D1.81.D0.B1.D0.BE.D1.80.D0.BA.D0.B0"></span><span class="mw-headline" id="Редактирование_PKGBUILD_и_сборка">Редактирование PKGBUILD и сборка</span>
</h4>
<p>Здесь необходимо сделать три вещи: 
</p>
<p><b>Первое</b>, измените
</p>
<pre>   pkgname=catalyst
</pre>
<p>в
</p>
<pre>   pkgname=catalyst-KERNEL_NAME
</pre>
<p>где KERNEL_NAME такое, которое вам нужно (например custom, mm)
</p>
<p><b>Второе</b>, удалите <code>kernel26</code> из списка зависимостей.
</p>
<p>Третье, соберите и установите пакет.  (<code>makepkg -i</code> или <code>makepkg</code> и потом <code>pacman -U pkgname.pkg.tar.gz</code>)
</p>
<h4>
<span id=".D0.97.D0.B0.D0.BC.D0.B5.D1.82.D0.BA.D0.B8"></span><span class="mw-headline" id="Заметки">Заметки</span>
</h4>
<ul><li>Если вы используете несколько ядер, тогда установите пакет catalyst для всех них. Они не должны конфликтовать между собой.</li></ul>
<ul><li>Никаких изменений в пакет <code>catalyst-utils</code> вносить не нужно, так как он полностью независит от версий ядра. <b>Главное</b> скомпилировать модуль ядра.</li></ul>
<h3>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D1.89.D0.B8.D0.BA_ATI.2FAMD"></span><span class="mw-headline" id="Установщик_ATI/AMD">Установщик ATI/AMD</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Использование установщика с ati.com/amd.com очень НЕ рекомендуется!</div>
<p>Использование его может привести к конфликтам файлов с различным пакетами и возможно вызовет ошибки в X. Вместо него должны использоваться пакеты, доступные через pacman и сконфигурированные специально для Arch Linux.
</p>
<p>Если вы пытаетесь вручную установить оффициальный установщик и обнаружили, что ничего не работает, удалите его, скрипт удаления расположен в /usr/share/ati - запустите его, после установите пакеты, собранные для pacman.
</p>
<p>Если вы <i>упорно</i> по каким-то причинам, хотите использовать установщик ATI/AMD (хоть это и неправильный путь установки драйвера), следование этим шагам <b>может быть</b> поможет вам:
</p>
<ul>
<li>Скачайте установщик драйвер с оффициального сайта AMD/ATI.</li>
<li>Сделайте его исполняющимся.</li>
<li>Откройте эмулятор терминала (например Konsole) как root.</li>
<li>Установите пакет mesa</li>
</ul>
<pre>   pacman -S mesa
</pre>
<ul>
<li>Установите Xorg (если вы не установили его раньше).</li>
<li>Проверьте остальные зависимости для установщика ATI/AMD перечисленные на оффициальном сайте</li>
</ul>
<pre>   #pacman -Q | grep ИмяПакета
</pre>
<ul>
<li>Используйте aticonfig, как описано ниже, для обновления xorg.conf</li>
<li>Добавьте в ModulesPath, путь к модулю fglrx.so, в xorg.conf, если это необходимо.</li>
</ul>
<h2>
<span id=".D0.9A.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F"></span><span class="mw-headline" id="Конфигурация">Конфигурация</span>
</h2>
<p>ATI предлагает утилиту <code>aticonfig</code>, для изменения существующего файла <code>xorg.conf</code> и полной конфигурации карты. Для получения списка опций  запустите <code>aticonfig</code>:
</p>
<pre>$ aticonfig --help
</pre>
<p>Если у вас нет файла xorg.conf, запустите следующую команду, для его создания:
</p>
<pre># Xorg -configure
</pre>
<p>Простой путь использования <code>aticonfig</code> для адаптации вашего файла <code>xorg.conf</code> показан в примерах в конце вывода, если запустить <code>aticonfig</code> без передачи ему параметров:
</p>
<pre>   Examples:
     1. Setting up fglrx for the first time.
          Single head :    aticonfig --initial --input=/etc/X11/xorg.conf
          Dual head   :    aticonfig --initial=dual-head --screen-layout=above
                           This command will generate a dual head configuration
                           file with the second screen located above the first
                           screen.
</pre>
<p>Просто измените одну из двух строк, для ваших настроек.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Обязательно посмотрите сгенерированный xorg.conf до того, как вы его скопируете в /etc/X11/xorg.conf и запустите startx или перезагрузитесь. Иначе, вы вероятно получите пустой экран и не сможете работать со своей системой.</div>
<p>Конфигурационный файл созданный в предыдущих шагах не всегда генерируется правильно. Если вы хотите, вы можете сравнить сгенерированный файл с одним из [Xorg_(Русский)#.D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.80.D1.8B_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2_xorg.conf| Примеров файлов Xorg.conf]]  показанных на странице вики Xorg.
</p>
<p>Проверьте, чтобы в секции "Screen" у вас было "DefaultDepth  24", а также в секции "DRI" опция "Mode 666". Драйверу fglrx необходимы эти строки для нормальной работы, но сгенерированный автоматически предыдущей программой файл не добавляет их. Без этих линий вы можете получить нерабочий пустой экран после перзагрузки. Кроме этого, сейчас многие параметры автоматически определяются в последних Xorg, поэтому нет необходимости описывать все параметры в xorg.conf, как это делалось раньше в старых версиях Xorg.
Даже некоторые созданные сеекции/значения в сгенерированном xorg.conf излишни.
</p>
<p>Вот минимальный рабочий вариант для примера:
</p>
<pre>Section "ServerLayout"
	Identifier     "X.org Configured"
	Screen      0  "Screen0" 0 0
	InputDevice    "Mouse0" "CorePointer"
	InputDevice    "Keyboard0" "CoreKeyboard"
EndSection
 
Section "Files"
	RgbPath      "/usr/share/X11/rgb"
	ModulePath   "/usr/lib/xorg/modules"
	FontPath     "/usr/share/fonts/misc"
	FontPath     "/usr/share/fonts/100dpi:unscaled"
	FontPath     "/usr/share/fonts/75dpi:unscaled"
	FontPath     "/usr/share/fonts/TTF"
	FontPath     "/usr/share/fonts/Type1"
EndSection
 
Section "Module"
	Load  "extmod"
	Load  "dbe"
	Load  "xtrap"
	Load  "record"
	Load  "dri"
	Load  "glx"
	Load  "GLcore"
	Load  "freetype"
EndSection
 
Section "InputDevice"
	Identifier  "Keyboard0"
	Driver      "kbd"
EndSection
 
Section "InputDevice"
	Identifier  "Mouse0"
	Driver      "mouse"
	Option	    "Protocol" "auto"
	Option	    "Device" "/dev/input/mice"
	Option	    "ZAxisMapping" "4 5 6 7"
EndSection
 
Section "Monitor"
	Identifier   "Monitor0"
	VendorName   "Monitor Vendor"
	ModelName    "Monitor Model"
EndSection
 
Section "Device"
	Identifier  "Card0"
	Driver      "fglrx"
	VendorName  "ATI Technologies Inc"
	BoardName   "Radeon Mobility X1400"
	BusID       "PCI:1:0:0"
EndSection
 
Section "Screen"
	Identifier "Screen0"
	Device     "Card0"
	Monitor    "Monitor0"
	DefaultDepth	24
	SubSection "Display"
		Viewport   0 0
		Depth     24
	EndSubSection
EndSection
 
Section "DRI"
	Mode 0666
EndSection
</pre>
<p>Теперь, убедитесь, что модуль fglrx и  все необходимые модули (такие как agp) загружены. 
</p>
<pre># modprobe fglrx 
</pre>
<p>Добавьте его в строку <b>MODULES</b> файла /etc/rc.conf, чтобы он загружался при каждом запуске. 
</p>
<p>В конце, запустите Xorg с помощью <code>startx</code> или используя GDM/KDM/SLiM и проверьте наличие ускорения следующей коммандой в терминале:
</p>
<pre>$ glxinfo | grep direct
</pre>
<p>Если есть фраза "direct rendering: yes" тогда все хорошо! Если команда glxinfo не найдена, установите пакет mesa и попробуйте еще раз.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> В предыдущих версиях Xorg,  пути к библиотекам были другими. В некторых случаях,  <b>libGL.so</b> не может корректно загрузится, если они указаны не верно. Не забудьте проверить их, если GL не работает. А также прочитайте секцию "Возможные Проблемы".</div>
<h2>
<span id=".D0.92.D0.BE.D0.B7.D0.BC.D0.BE.D0.B6.D0.BD.D1.8B.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D1.8B"></span><span class="mw-headline" id="Возможные_проблемы">Возможные проблемы</span>
</h2>
<h3>
<span id=".D0.A4.D0.BB.D0.B0.D0.B6.D0.BE.D0.BA.2FCheckbox_.D0.BD.D0.B5_.D0.BF.D1.80.D0.BE.D1.80.D0.B8.D1.81.D0.BE.D0.B2.D1.8B.D0.B2.D0.B0.D0.B5.D1.82.D1.81.D1.8F_.D0.B2_OpenGL_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D0.B0.D1.85"></span><span class="mw-headline" id="Флажок/Checkbox_не_прорисовывается_в_OpenGL_программах">Флажок/Checkbox не прорисовывается в OpenGL программах</span>
</h3>
<p><i>Это было исправлено в catalyst <b> 8.9.</b> Однако, может происходить и в более поздних версиях.</i>
</p>
<p>OpenGL программы, такие как blender, в оконном режиме, неверно отрисовывают флажок/checkbox.
Это можно решить используя настройки Виртуального режима, добавив к настоящему разрешению 64, например, 1664 вместо 1600 для ширины:
</p>
<pre> Section "Screen"
   Identifier "Screen0"
   Device     "Card0"
   Monitor    "Monitor0"
   SubSection "Display"
     Depth     24
     Virtual 1664 1200
   EndSubSection
 EndSection
</pre>
<h3>
<span id=".D0.A7.D0.B5.D1.80.D0.BD.D1.8B.D0.B9_.D1.8D.D0.BA.D1.80.D0.B0.D0.BD.2C_.D1.81_.D0.BF.D0.BE.D0.BB.D0.BD.D1.8B.D0.BC_.D0.B7.D0.B0.D0.B2.D0.B8.D1.81.D0.B0.D0.BD.D0.B8.D0.B5.D0.BC_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B_.D0.BF.D0.BE.D1.81.D0.BB.D0.B5_.D0.BF.D0.B5.D1.80.D0.B5.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B8_.D0.B8.D0.BB.D0.B8_.D0.B7.D0.B0.D0.BF.D1.83.D1.81.D0.BA.D0.B0_startx"></span><span class="mw-headline" id="Черный_экран,_с_полным_зависанием_системы_после_перезагрузки_или_запуска_startx">Черный экран, с полным зависанием системы после перезагрузки или запуска startx</span>
</h3>
<h4>
<span id=".D0.9F.D0.BE.D0.B2.D1.80.D0.B5.D0.B6.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B1.D0.B0.D0.B7.D1.8B_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85_amdpcsdb"></span><span class="mw-headline" id="Повреждение_базы_данных_amdpcsdb">Повреждение базы данных amdpcsdb</span>
</h4>
<p>Fglrx и его Catalyst Control Center сохраняют информацию в базе данных, которая называется <b>amdpcsdb</b>, расположенная в <b>/etc/ati</b>. Она не читабельна, только Catalyst Control Center может её использовать. Это может произойти после обновления, настройки не совместимые с новой версией fglrx, приводят к чёрному экрану при запуске X. 
</p>
<p>Можно попробовать одну вещь.
</p>
<p>Загрузитесь в режим init3 (добавьте число 3 в строке опций ядра в menu.lst)
</p>
<p>(как root)
</p>
<pre># rm /etc/ati/amdpcsdb
</pre>
<p>и перегрузите Xorg (или просто перегрузитесь).
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Если вы имели сохраненные настройки Catalyst Control Center, после создания нового файла, настройки будут утеряны. Вы должны отредактировать xorg.conf снова, используя  <b>aticonfig</b>.</div>
<h3>
<span id="KDM_.D0.BD.D0.B5_.D0.BF.D0.BE.D1.8F.D0.B2.D0.BB.D1.8F.D0.B5.D1.82.D1.81.D1.8F_.D0.BF.D0.BE.D1.81.D0.BB.D0.B5_.D0.B2.D1.8B.D1.85.D0.BE.D0.B4.D0.B0_.D0.B8.D0.B7_.D1.81.D0.B5.D1.81.D1.81.D0.B8.D0.B8"></span><span class="mw-headline" id="KDM_не_появляется_после_выхода_из_сессии">KDM не появляется после выхода из сессии</span>
</h3>
<p>Если при запущенном драйвере <b>catalyst</b> и вы увидели консоль (tty1) вместо приветствия KDM, когда вышли из сессии, то вы должны сказать KDM, чтобы он перезапускал X-сервер после каждого выхода из сессии:
</p>
<pre>$ sudoedit /usr/share/config/kdm/kdmrc
</pre>
<p>Раскомментируйте следующую строку в секции [X-:*-Core]:
</p>
<pre>TerminateServer=True
</pre>
<p>Теперь, KDM должен отображаться, когда вы выходите с сессии KDE.
</p>
<h3>
<span id=".D0.9D.D0.B5.D0.B2.D0.B5.D1.80.D0.BD.D0.BE.D0.B5_.D1.80.D0.B0.D0.B7.D1.80.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D1.8D.D0.BA.D1.80.D0.B0.D0.BD.D0.B0_.D0.BF.D1.80.D0.B8_.D0.B7.D0.B0.D0.BF.D1.83.D1.81.D0.BA.D0.B5_.D0.BC.D0.B5.D0.BD.D0.B5.D0.B4.D0.B6.D0.B5.D1.80.D0.B0_.D0.B2.D1.85.D0.BE.D0.B4.D0.B0"></span><span class="mw-headline" id="Неверное_разрешение_экрана_при_запуске_менеджера_входа">Неверное разрешение экрана при запуске менеджера входа</span>
</h3>
<p>Если разрешение вашего менеджера входа к примеру 1600x1200, а вы хотите 1280x1024, вы можете это исправить, используя xorg.conf (новые версии X-сервера, совместно с открытыми драйверами, не нуждаются в xorg.conf, если вы не имеете xorg.conf, то вам необходимо его создать). В секции "Screen" добавьте следующее:
</p>
<pre> Section "Screen"
   Identifier "aticonfig-Screen[0]-0"
   Device     "aticonfig-Device[0]-0"
   Monitor    "aticonfig-Monitor[0]-0"
   DefaultDepth     24
   SubSection "Display"
     Viewport   0 0
     Depth     24
     Modes    "1280x1024" "2048x1536"#&lt;-добавьте эту строку для изменения разрешения экрана по умолчанию для менеджера входа
   EndSubSection
   EndSection
</pre>
<p>Первый аргумент в режимах разрешения, будет использоваться по умолчанию. Второй аргумент, максимальное разрешение, поддерживаемое вашим монтиором. Это необходимо указать, чтобы можно было выбрать высокое разрешение, например в системных настройках KDE.
</p>
<h3>
<span id=".D0.A3.D1.81.D0.BA.D0.BE.D1.80.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BD.D0.B5_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D0.B0.D0.B5.D1.82"></span><span class="mw-headline" id="Ускорение_не_работает">Ускорение не работает</span>
</h3>
<p>Это проблема происходит при использовании закрытого драйвера <b>catalyst</b>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Убедитесь что у вас как минимум <b>R6xx</b> (<b>HD2xxx</b>) или более новая карта, иначе, драйвер <b>не будет</b> работать. Вы столкнетесь с ошибками при запуске, когда будете использовать catalyst и карту младше R6xx.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Эта ошибка должна также если вы не <b>перезагрузили</b> вашу систему после установки или обновления catalyst и catalyst-utils. Системе необходимо загрузить модуль fglrx.ko для запуска драйвера.</div>
<p>Если вы имеете проблемы с ускорением, выполните:
</p>
<pre>   $ LIBGL_DEBUG=verbose glxinfo &gt; /dev/null
</pre>
<p>в коммандной строке.  В самом начале вывода, обычно выводится сообщение об ошибке, сообщающая, почему ускорение не работает.
</p>
<p>Стандартные ошибки и их решения:
</p>
<pre>   <b>libGL error: XF86DRIQueryDirectRenderingCapable returned false</b>
</pre>
<ul><li>Проверьте, правильный ли для вашего AGP чипсета загружен модуль agp, до того как вы загружаете модуль ядра fglrx. Для определения нужного модуля agp, вам необходимо выполнить <code>hwdetect --show-agp</code> и сравнить что все модули, указанные в этой команде, есть в строке <code>MODULES=</code>, вашего rc.conf и стоят <b>до</b> fglrx.</li></ul>
<pre>   <b>libGL error: failed to open DRM: Operation not permitted</b>
   <b>libGL error: reverting to (slow) indirect rendering</b>
</pre>
<ul><li>Для этого, убедитесь, что вы имеете следующую секцию <code>xorg.conf</code>:</li></ul>
<pre>   Section "DRI"
       Mode 0666
   EndSection
</pre>
<pre>   <b>libGL: OpenDriver: trying /usr/lib/xorg/modules/dri//fglrx_dri.so</b>
   <b>libGL error: dlopen /usr/lib/xorg/modules/dri//fglrx_dri.so failed (/usr/lib/xorg/modules/dri//fglrx_dri.so: cannot open shared object file: No such file or directory)</b>
   <b>libGL error: unable to find driver: fglrx_dri.so</b>
</pre>
<ul><li>Что-то неверно установилось. Если путь в сообщении об ошибке такой - <code>/usr/X11R6/lib/modules/dri/fglrx_dri.so</code>, выйдите полностью из вашей системы и зайдите снова. Если вы используете графический менеджер входа (gdm, kdm, xdm), убедитесь, что /etc/profile открывается при каждом входе. Это обычно происходит добавлением <code>source /etc/profile</code> в <code>~/.xsession</code> или в <code>~/.xinitrc</code>, но может различаться между менеджерами входа.</li></ul>
<ul><li>Если же путь в сообщении об ошибке такой - <code>/usr/lib/xorg/modules/dri/fglrx_dri.so</code>, тогда точно что-то не так. Попробуйте переустановить пакет <code>catalyst-utils</code>.</li></ul>
<p><br>
</p>
<pre>   <b>fglrx: libGL version undetermined - OpenGL module is using glapi fallback</b>
</pre>
<ul><li>Это происходит при наличии нескольких версий библиотек <code>libGL.so</code> в вашей системе. Выполните:</li></ul>
<pre>   $ sudo updatedb
   $ locate libGL.so
</pre>
<p>Должно вам вернуть что-то вроде:
</p>
<pre>   $ locate libGL.so
   /usr/lib/libGL.so
   /usr/lib/libGL.so.1
   /usr/lib/libGL.so.1.2
   $
</pre>
<p>Здесь должно быть только три файла libGL.so для вашей системы.  Если вы видите больше (например, <code>/usr/X11R6/lib/libGL.so.1.2</code>), удалите остальные. Это должно помочь вам. 
</p>
<p>Вы можете вообще не получить сообщений об ошибках, для определения вашей проблемы. Если вы используете X11R7, проверьте, что вы <b>не</b> имеете следующих файлов в вашей системе:
</p>
<pre>   /usr/X11R6/lib/libGL.so.1.2
   /usr/X11R6/lib/libGL.so.1
</pre>
<h3>
<span id=".D0.9F.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D1.8B_.D1.80.D0.B5.D0.B6.D0.B8.D0.BC.D0.BE.D0.B2_Hibernate.2FSleep"></span><span class="mw-headline" id="Проблемы_режимов_Hibernate/Sleep">Проблемы режимов Hibernate/Sleep</span>
</h3>
<h4>
<span id=".D0.9F.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D1.8B_.D0.B2.D0.B8.D0.B4.D0.B5.D0.BE_.D0.BF.D1.80.D0.B8_.D0.B2.D1.85.D0.BE.D0.B4.D0.B5_.D0.B2_suspend.2Fhibernate"></span><span class="mw-headline" id="Проблемы_видео_при_входе_в_suspend/hibernate">Проблемы видео при входе в suspend/hibernate</span>
</h4>
<p>Если <code>fglrx</code> возвращает ошибку  при попытке приостановки через скрипты hibernate, решением может быть добавление следующей строки в секцию "Device" вашего <code>/etc/X11/xorg.conf</code>, которая разрешит модулю <tt>fglrx</tt> заходит в режим suspend.
</p>
<pre>Option      "UseInternalAGPGart" "no"
</pre>
<h4>
<span id=".D0.9F.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D1.8B_.D0.B2.D0.B8.D0.B4.D0.B5.D0.BE_.D0.BF.D1.80.D0.B8_.D0.B2.D0.BE.D0.B7.D0.B2.D1.80.D0.B0.D1.82.D0.B5_.D0.B8.D0.B7_suspend2ram"></span><span class="mw-headline" id="Проблемы_видео_при_возврате_из_suspend2ram">Проблемы видео при возврате из suspend2ram</span>
</h4>
<p>Закрытый драйвер ATI - <tt>catalyst</tt> не может вернуться из suspend, если включен фрэймбуфер.  Запретите фрэймбуффер, добавьте <b>vga=0</b> в опции вашего ядра, в <code>/boot/grub/menu.lst</code>, например:
</p>
<pre># (0) Arch Linux
title  Arch Linux
root   (hd0,0)
kernel /vmlinuz-linux root=/dev/sda3 resume=/dev/sda2 ro <i><b>vga=0</b></i>
initrd /initramfs-linux.img
</pre>
<h3>
<span id=".D0.97.D0.B0.D0.B2.D0.B8.D1.81.D0.B0.D0.BD.D0.B8.D0.B5_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B"></span><span class="mw-headline" id="Зависание_системы">Зависание системы</span>
</h3>
<ul><li>Для предотвращения зависаний системы, попробуйте добавить следующие строки в секцию "Device" вашего <code>xorg.conf</code>
</li></ul>
<pre>   Option "UseInternalAGPGART"         "no"
   Option "KernelModuleParm"           "agplock=0" # AGP блокирует страницы пользователя: выключено
</pre>
<p>Примечание: Эти опции не нужны начиная с версии 8.24.18, потому что ATI удалила поддержку встроенного AGP GART из драйвера.
</p>
<ul><li>Кроме того, известно что, драйвер фрэймбуфера <code>radeonfb</code>, в прошлом вызывал проблемы такого рода. Если ваше ядро собрано с поддержкой radeonfb, попробуйте использовать другое ядро, это должно вам помочь.</li></ul>
<h3>
<span id=".D0.9A.D0.BE.D0.BD.D1.84.D0.BB.D0.B8.D0.BA.D1.82.D1.8B_.D0.96.D0.B5.D0.BB.D0.B5.D0.B7.D0.B0"></span><span class="mw-headline" id="Конфликты_Железа">Конфликты Железа</span>
</h3>
<p>Видеокарты Radeon, используемые совместно с некоторыми версиями чипсета nForce3 (например nForce 3 250Gb), не имеют 3D ускорения. Вообще такого рода проблемы неизвестны, но некоторые источники указывают что такое может произойти, для проверки работоспособности ускорения, попробуйте загрузится в Windows с установленными драйверами от nVIDIA и перегрузите систему. Также можно проверить проблему с терминала root следующей командой:
</p>
<pre>    dmesg | grep agp
</pre>
<p>Если вы получите что-то вроде этого (при системе на основе nForce3)
</p>
<pre>    agpgart: Detected AGP bridge 0
    agpgart: Setting up Nforce3 AGP.
    agpgart: aperture base &gt; 4G
</pre>
<p>и также если запуск этой команды...
</p>
<pre>     tail -n 100 /var/log/Xorg.0.log | grep agp
</pre>
<p>...выдасть что-то вроде:
</p>
<pre>     (EE) fglrx(0): [agp] unable to acquire AGP, error "xf86_ENODEV"
</pre>
<p>Тогда вы имеете именно этот баг.
</p>
<p>Некоторые источники утвержадают, что в этих ситуациях, возврат к старой версии BIOS материнской платы может помочь, но это никто не проверял. Также, неудачный откат BIOS может сделать ваше железо бесполезным, остерегайтесь.
</p>
<p>Смотрите баг <a rel="nofollow" class="external free" href="https://bugzilla.kernel.org/show_bug.cgi?id=6350">https://bugzilla.kernel.org/show_bug.cgi?id=6350</a> для получения более подробной информации и путях решения.
</p>
<h3>
<span id=".D0.9D.D0.BE.D1.83.D1.82.D0.B1.D1.83.D0.BA.D0.B8_Compaq_Presario"></span><span class="mw-headline" id="Ноутбуки_Compaq_Presario">Ноутбуки Compaq Presario</span>
</h3>
<p>После установки драйвера и редактирования конфигурации как требуется, некоторые ноутбуки (например Presario R4000 with Xpress 200M) стартуют с пустым экраном.
</p>
<p>Проблема заключается в неправильном определении размера памяти ядром (если вы имеете 128М видеопамяти, lspci - v всегда показывает 256М). Измените настройки BIOS чтобы он использовал опцию "SidePort+UMA" и 128М видеопамяти плюс 128М от системы будут замечательно работать.
</p>
<p>Это должно быть баг BIOS или кода PCI в Linux.
</p>
<h3>
<span id=".D0.97.D0.B0.D0.B2.D0.B8.D1.81.D0.B0.D0.BD.D0.B8.D1.8F_.D0.BF.D1.80.D0.B8_.D0.B2.D0.BE.D1.81.D0.BF.D1.80.D0.BE.D0.B8.D0.B7.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B8_.D0.B2.D0.B8.D0.B4.D0.B5.D0.BE"></span><span class="mw-headline" id="Зависания_при_воспроизведении_видео">Зависания при воспроизведении видео</span>
</h3>
<p>Эта проблема происходит когда используется закрытый драйвер <b>catalyst</b>.
</p>
<p>Если у вас возникают зависания от нескольких секунд до нескольких минут, происходящих случайным образом при воспроизведении видео через mplayer, проверьте /var/log/messages.log на предмет таких вот ошибок:
</p>
<pre>Nov 28 18:31:56 pandemonium [&lt;c01c64a6&gt;] ? proc_get_sb+0xc6/0x160
Nov 28 18:31:56 pandemonium [&lt;c01c64a6&gt;] ? proc_get_sb+0xc6/0x160
Nov 28 18:31:56 pandemonium [&lt;f8bc628c&gt;] ? ip_firegl_ioctl+0x1c/0x30 [fglrx]
Nov 28 18:31:56 pandemonium [&lt;c01c64a6&gt;] ? proc_get_sb+0xc6/0x160
Nov 28 18:31:56 pandemonium [&lt;c0197038&gt;] ? vfs_ioctl+0x78/0x90
Nov 28 18:31:56 pandemonium [&lt;c01970b7&gt;] ? do_vfs_ioctl+0x67/0x2f0
Nov 28 18:31:56 pandemonium [&lt;c01973a6&gt;] ? sys_ioctl+0x66/0x70
Nov 28 18:31:56 pandemonium [&lt;c0103ef3&gt;] ? sysenter_do_call+0x12/0x33
Nov 28 18:31:56 pandemonium [&lt;c01c64a6&gt;] ? proc_get_sb+0xc6/0x160
Nov 28 18:31:56 pandemonium =======================
</pre>
<p>Добавление опции ядра <i>nopat</i> в /boot/grub/menu.lst и перезагрузка должны решить это проблему.
</p>
<h1>
<span id=".D0.92.D0.BD.D0.B5.D1.88.D0.BD.D0.B8.D0.B5_.D0.A0.D0.B5.D1.81.D1.83.D1.80.D1.81.D1.8B"></span><span class="mw-headline" id="Внешние_Ресурсы">Внешние Ресурсы</span>
</h1>
<p>Более подробная информация может быть найдена здесь
</p>
<ul>
<li><a rel="nofollow" class="external text" href="http://wiki.cchtml.com/index.php/Main_Page">Unofficial ATI Wiki (англ.)</a></li>
<li><a rel="nofollow" class="external text" href="http://ati.cchtml.com/buglist.cgi?query_format=specific&amp;order=relevance+desc&amp;bug_status=__open__&amp;product=&amp;content=">Unofficial ATI Linux Bugtracker (англ.)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.rage3d.com/board/forumdisplay.php?f=88">Rage3D ATI Linux Forums (англ.)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.thinkwiki.org/wiki/Problems_with_fglrx">ThinkWiki fglrx Problems page (англ.)</a></li>
<li>
<a rel="nofollow" class="external text" href="http://www.phoronix.com/scan.php?page=article&amp;item=560">ATI R300: Open v. Closed Drivers (англ.)</a> (<i>устарело</i> в начале April 2009)</li>
<li>
<a rel="nofollow" class="external text" href="http://www.thinkwiki.org/wiki/Additional_options_for_the_radeon_driver">Additional options for the radeon driver (англ.)</a> (частично устарело, но есть ссылки)</li>
<li><a rel="nofollow" class="external text" href="http://www.phoronix.com/scan.php?page=article&amp;item=936&amp;num=1">Hidden ATI Feature For Textured XRendering (англ.)</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../ru/Category:Graphics.html" title="Category:Graphics (Русский)">Graphics (Русский)</a></li>
<li><a href="../ru/Category:X_server.html" title="Category:X server (Русский)">X server (Русский)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=ATI_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=644951">https://wiki.archlinux.org/index.php?title=ATI_(Русский)&amp;oldid=644951</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 13 December 2020, at 09:47.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
