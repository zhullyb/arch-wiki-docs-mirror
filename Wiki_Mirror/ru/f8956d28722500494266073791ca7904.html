<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>CUPS (Русский)/Troubleshooting (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-CUPS_Русский_Troubleshooting_Русский rootpage-CUPS_Русский skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">CUPS (Русский)/Troubleshooting (Русский)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"><span class="subpages">&lt; <a href="../ru/CUPS.html" title="CUPS (Русский)">CUPS (Русский)</a></span></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../en/CUPS/Troubleshooting.html" title="CUPS/Troubleshooting">CUPS/Troubleshooting</a>. Дата последней синхронизации: 8 января 2019. Вы можете <a href="../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=CUPS/Troubleshooting&amp;diff=0&amp;oldid=562433">изменения</a>.</div>
<div class="archwiki-template-meta-related-articles-start">
<p>Ссылки по теме</p>
<ul>
<li><a href="../ru/CUPS.html" title="CUPS (Русский)">CUPS (Русский)</a></li>
<li><a href="../ru/bed5c04f8d01aa06c5d36912fb5b4335.html" class="mw-redirect" title="CUPS/Принтероспецифичные проблемы">CUPS/Принтероспецифичные проблемы</a></li>
</ul>
</div>
<p>В этой статье рассматриваются все неспецифические (то есть не связанные с каким-либо одним принтером) проблемы CUPS и драйверов принтеров (но не проблемы, связанные с совместным использованием принтеров), включая методы определения точной природы проблемы и решения выявленной проблемы.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%D0%92%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5"><span class="tocnumber">1</span> <span class="toctext">Введение</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#%D0%9F%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B,_%D0%B2%D0%BE%D0%B7%D0%BD%D0%B8%D0%BA%D0%B0%D1%8E%D1%89%D0%B8%D0%B5_%D0%B2_%D1%80%D0%B5%D0%B7%D1%83%D0%BB%D1%8C%D1%82%D0%B0%D1%82%D0%B5_%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B9"><span class="tocnumber">2</span> <span class="toctext">Проблемы, возникающие в результате обновлений</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#CUPS_%D0%BE%D1%81%D1%82%D0%B0%D0%BD%D0%B0%D0%B2%D0%BB%D0%B8%D0%B2%D0%B0%D0%B5%D1%82%D1%81%D1%8F"><span class="tocnumber">2.1</span> <span class="toctext">CUPS останавливается</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#%D0%94%D0%BB%D1%8F_%D0%B2%D1%81%D0%B5%D1%85_%D0%B7%D0%B0%D0%B4%D0%B0%D0%BD%D0%B8%D0%B9_-_%22%D0%BE%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%BE%22"><span class="tocnumber">2.2</span> <span class="toctext">Для всех заданий - "остановлено"</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#%D0%94%D0%BB%D1%8F_%D0%B2%D1%81%D0%B5%D1%85_%D0%B7%D0%B0%D0%B4%D0%B0%D0%BD%D0%B8%D0%B9_-_%22%D0%9F%D1%80%D0%B8%D0%BD%D1%82%D0%B5%D1%80_%D0%BD%D0%B5_%D0%BE%D1%82%D0%B2%D0%B5%D1%87%D0%B0%D0%B5%D1%82%22"><span class="tocnumber">2.3</span> <span class="toctext">Для всех заданий - "Принтер не отвечает"</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#%D0%92%D0%B5%D1%80%D1%81%D0%B8%D1%8F_PPD_%D0%BD%D0%B5_%D1%81%D0%BE%D0%B2%D0%BC%D0%B5%D1%81%D1%82%D0%B8%D0%BC%D0%B0_%D1%81_gutenprint"><span class="tocnumber">2.4</span> <span class="toctext">Версия PPD не совместима с gutenprint</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7">
<a href="#%D0%9F%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B_%D1%81_%D1%81%D0%B5%D1%82%D1%8C%D1%8E"><span class="tocnumber">3</span> <span class="toctext">Проблемы с сетью</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#%D0%9D%D0%B5_%D1%83%D0%B4%D0%B0%D0%B5%D1%82%D1%81%D1%8F_%D0%BD%D0%B0%D0%B9%D1%82%D0%B8_%D0%BF%D1%80%D0%B8%D0%BD%D1%82%D0%B5%D1%80"><span class="tocnumber">3.1</span> <span class="toctext">Не удается найти принтер</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#%D0%A1%D1%82%D0%B0%D1%80%D1%8B%D0%B9_%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80_CUPS"><span class="tocnumber">3.2</span> <span class="toctext">Старый сервер CUPS</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#%D0%9E%D0%B1%D1%89%D0%B8%D0%B9_%D0%BF%D1%80%D0%B8%D0%BD%D1%82%D0%B5%D1%80_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B5%D1%82_%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE,_%D0%BD%D0%BE_%D1%83%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9_%D0%BA%D0%BE%D0%BC%D0%BF%D1%8C%D1%8E%D1%82%D0%B5%D1%80_%D0%BD%D0%B5_%D0%BF%D0%B5%D1%87%D0%B0%D1%82%D0%B0%D0%B5%D1%82"><span class="tocnumber">3.3</span> <span class="toctext">Общий принтер работает локально, но удаленный компьютер не печатает</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#%D0%9D%D0%B5_%D1%83%D0%B4%D0%B0%D0%B5%D1%82%D1%81%D1%8F_%D0%BD%D0%B0%D0%B9%D1%82%D0%B8_%D1%84%D0%B0%D0%B9%D0%BB_PPD"><span class="tocnumber">3.4</span> <span class="toctext">Не удается найти файл PPD</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12">
<a href="#USB-%D0%BF%D1%80%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%8B"><span class="tocnumber">4</span> <span class="toctext">USB-принтеры</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#%D0%9A%D0%BE%D0%BD%D1%84%D0%BB%D0%B8%D0%BA%D1%82_%D1%81_SANE"><span class="tocnumber">4.1</span> <span class="toctext">Конфликт с SANE</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#%D0%9A%D0%BE%D0%BD%D1%84%D0%BB%D0%B8%D0%BA%D1%82_%D1%81_usblp"><span class="tocnumber">4.2</span> <span class="toctext">Конфликт с usblp</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#USB_autosuspend"><span class="tocnumber">4.3</span> <span class="toctext">USB autosuspend</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#%D0%9F%D0%BB%D0%BE%D1%85%D0%B8%D0%B5_%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D1%8F"><span class="tocnumber">4.4</span> <span class="toctext">Плохие разрешения</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17">
<a href="#%D0%9F%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B_%D1%81_HP"><span class="tocnumber">5</span> <span class="toctext">Проблемы с HP</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="#CUPS:_%22/usr/lib/cups/backend/hp_failed%22"><span class="tocnumber">5.1</span> <span class="toctext">CUPS: "/usr/lib/cups/backend/hp failed"</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#CUPS:_%22%D0%9F%D0%B5%D1%87%D0%B0%D1%82%D1%8C_%D0%B7%D0%B0%D0%B2%D0%B5%D1%80%D1%88%D0%B5%D0%BD%D0%B0%22,_%D0%BD%D0%BE_%D0%BF%D1%80%D0%B8%D0%BD%D1%82%D0%B5%D1%80_%D0%BD%D0%B5_%D0%BF%D0%B5%D1%87%D0%B0%D1%82%D0%B0%D0%B5%D1%82."><span class="tocnumber">5.2</span> <span class="toctext">CUPS: "Печать завершена", но принтер не печатает.</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#CUPS:_'%22foomatic-rip%22_not_available/stopped_with_status_3'"><span class="tocnumber">5.3</span> <span class="toctext">CUPS: '"foomatic-rip" not available/stopped with status 3'</span></a></li>
<li class="toclevel-2 tocsection-21">
<a href="#CUPS:_%22Filter_failed%22"><span class="tocnumber">5.4</span> <span class="toctext">CUPS: "Filter failed"</span></a>
<ul>
<li class="toclevel-3 tocsection-22"><a href="#%D0%9E%D1%82%D1%81%D1%83%D1%82%D1%81%D1%82%D0%B2%D1%83%D0%B5%D1%82_ghostscript"><span class="tocnumber">5.4.1</span> <span class="toctext">Отсутствует ghostscript</span></a></li>
<li class="toclevel-3 tocsection-23"><a href="#%D0%9E%D1%82%D1%81%D1%83%D1%82%D1%81%D1%82%D0%B2%D1%83%D0%B5%D1%82_foomatic-db"><span class="tocnumber">5.4.2</span> <span class="toctext">Отсутствует foomatic-db</span></a></li>
<li class="toclevel-3 tocsection-24"><a href="#Avahi_%D0%BD%D0%B5_%D0%B2%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD"><span class="tocnumber">5.4.3</span> <span class="toctext">Avahi не включен</span></a></li>
<li class="toclevel-3 tocsection-25"><a href="#%D0%A3%D1%81%D1%82%D0%B0%D1%80%D0%B5%D0%B2%D1%88%D0%B8%D0%B9_%D0%BF%D0%BB%D0%B0%D0%B3%D0%B8%D0%BD"><span class="tocnumber">5.4.4</span> <span class="toctext">Устаревший плагин</span></a></li>
<li class="toclevel-3 tocsection-26"><a href="#%D0%A3%D1%81%D1%82%D0%B0%D1%80%D0%B5%D0%B2%D1%88%D0%B0%D1%8F_%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D1%8F_%D0%BF%D1%80%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B0"><span class="tocnumber">5.4.5</span> <span class="toctext">Устаревшая конфигурация принтера</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-27"><a href="#CUPS:_%D0%BF%D0%B5%D1%87%D0%B0%D1%82%D0%B0%D0%B5%D1%82_%D1%82%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE_%D0%BF%D1%83%D1%81%D1%82%D1%83%D1%8E_%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D1%83_%D0%B8_%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D1%83_%D1%81_%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D0%B5%D0%BC_%D0%BE%D0%B1_%D0%BE%D1%88%D0%B8%D0%B1%D0%BA%D0%B5_%D0%BD%D0%B0_HP_LaserJet"><span class="tocnumber">5.5</span> <span class="toctext">CUPS: печатает только пустую страницу и страницу с сообщением об ошибке на HP LaserJet</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#HPLIP_3.13:_%D0%9F%D0%BB%D0%B0%D0%B3%D0%B8%D0%BD_%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD,_%D0%BD%D0%BE_HP_Device_Manager_%D0%B6%D0%B0%D0%BB%D1%83%D0%B5%D1%82%D1%81%D1%8F_%D0%BD%D0%B0_%D0%B5%D0%B3%D0%BE_%D0%BE%D1%82%D1%81%D1%83%D1%82%D1%81%D1%82%D0%B2%D0%B8%D0%B5"><span class="tocnumber">5.6</span> <span class="toctext">HPLIP 3.13: Плагин установлен, но HP Device Manager жалуется на его отсутствие</span></a></li>
<li class="toclevel-2 tocsection-29">
<a href="#hp-toolbox:_%22Unable_to_communicate_with_device%22"><span class="tocnumber">5.7</span> <span class="toctext">hp-toolbox: "Unable to communicate with device"</span></a>
<ul>
<li class="toclevel-3 tocsection-30"><a href="#%D0%A0%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B"><span class="tocnumber">5.7.1</span> <span class="toctext">Разрешение проблемы</span></a></li>
<li class="toclevel-3 tocsection-31"><a href="#%D0%92%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_CDROM_%D1%83_%D0%BF%D1%80%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%BE%D0%B2"><span class="tocnumber">5.7.2</span> <span class="toctext">Виртуальный CDROM у принтеров</span></a></li>
<li class="toclevel-3 tocsection-32"><a href="#%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D0%B5_%D0%BF%D1%80%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%8B"><span class="tocnumber">5.7.3</span> <span class="toctext">Сетевые принтеры</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-33"><a href="#hp-setup_%D0%BF%D1%80%D0%BE%D1%81%D0%B8%D1%82_%D1%83%D0%BA%D0%B0%D0%B7%D0%B0%D1%82%D1%8C_PPD-%D1%84%D0%B0%D0%B9%D0%BB_%D0%B4%D0%BB%D1%8F_%D0%BE%D0%B1%D0%BD%D0%B0%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE_%D0%BF%D1%80%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B0"><span class="tocnumber">5.8</span> <span class="toctext">hp-setup просит указать PPD-файл для обнаруженного принтера</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#hp-setup:_%22Qt/PyQt_4_initialization_failed%22"><span class="tocnumber">5.9</span> <span class="toctext">hp-setup: "Qt/PyQt 4 initialization failed"</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#hp-setup:_%D0%BD%D0%B0%D1%85%D0%BE%D0%B4%D0%B8%D1%82_%D0%BF%D1%80%D0%B8%D0%BD%D1%82%D0%B5%D1%80_%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8,_%D0%BD%D0%BE_%D1%81%D1%80%D0%B0%D0%B7%D1%83_%D0%BF%D0%BE%D1%81%D0%BB%D0%B5_%D1%8D%D1%82%D0%BE%D0%B3%D0%BE_%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B0%D0%B5%D1%82_%22Unable_to_communicate_with_device%22_%D0%BF%D1%80%D0%B8_%D0%BF%D0%B5%D1%87%D0%B0%D1%82%D0%B8_%D1%82%D0%B5%D1%81%D1%82%D0%BE%D0%B2%D0%BE%D0%B9_%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D1%8B"><span class="tocnumber">5.10</span> <span class="toctext">hp-setup: находит принтер автоматически, но сразу после этого сообщает "Unable to communicate with device" при печати тестовой страницы</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#hp-setup:_%22KeyError:_'family-class'%22"><span class="tocnumber">5.11</span> <span class="toctext">hp-setup: "KeyError: 'family-class'"</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-37">
<a href="#%D0%94%D1%80%D1%83%D0%B3%D0%B8%D0%B5"><span class="tocnumber">6</span> <span class="toctext">Другие</span></a>
<ul>
<li class="toclevel-2 tocsection-38">
<a href="#%D0%9F%D1%80%D0%B8%D0%BD%D1%82%D0%B5%D1%80_%22%D0%BF%D1%80%D0%B8%D0%BE%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD_-_%22Paused%22%22_%D0%B8%D0%BB%D0%B8_%22%D0%9E%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%22_c%D0%BE_%D1%81%D1%82%D0%B0%D1%82%D1%83%D1%81%D0%BE%D0%BC_%22%D0%A0%D0%B5%D0%BD%D0%B4%D0%B5%D1%80%D0%B8%D0%BD%D0%B3_%D0%B7%D0%B0%D0%B2%D0%B5%D1%80%D1%88%D0%B5%D0%BD%22"><span class="tocnumber">6.1</span> <span class="toctext">Принтер "приостановлен - "Paused"" или "Остановлен" cо статусом "Рендеринг завершен"</span></a>
<ul>
<li class="toclevel-3 tocsection-39"><a href="#%D0%9D%D0%B8%D0%B7%D0%BA%D0%B8%D0%B9_%D1%83%D1%80%D0%BE%D0%B2%D0%B5%D0%BD%D1%8C_%D1%87%D0%B5%D1%80%D0%BD%D0%B8%D0%BB"><span class="tocnumber">6.1.1</span> <span class="toctext">Низкий уровень чернил</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-40"><a href="#%D0%97%D0%B0%D0%B2%D0%B5%D1%80%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D0%B5%D1%87%D0%B0%D1%82%D0%B8_%D0%B8%D0%B7-%D0%B7%D0%B0_%D0%BE%D1%88%D0%B8%D0%B1%D0%BE%D0%BA_%D0%B0%D0%B2%D1%82%D0%BE%D1%80%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8"><span class="tocnumber">6.2</span> <span class="toctext">Завершение печати из-за ошибок авторизации</span></a></li>
<li class="toclevel-2 tocsection-41"><a href="#Unknown_supported_format:_application/postscript"><span class="tocnumber">6.3</span> <span class="toctext">Unknown supported format: application/postscript</span></a></li>
<li class="toclevel-2 tocsection-42"><a href="#%D0%9E%D1%88%D0%B8%D0%B1%D0%BA%D0%B0_%D0%B7%D0%B0%D0%B4%D0%B0%D0%BD%D0%B8%D1%8F_%D0%B4%D0%BB%D1%8F_%D0%BF%D0%B5%D1%87%D0%B0%D1%82%D0%B8_(Print-Job)_client-error-document-format-not-supported"><span class="tocnumber">6.4</span> <span class="toctext">Ошибка задания для печати (Print-Job) client-error-document-format-not-supported</span></a></li>
<li class="toclevel-2 tocsection-43"><a href="#%D0%9D%D0%B5_%D1%83%D0%B4%D0%B0%D0%B5%D1%82%D1%81%D1%8F_%D0%BF%D0%BE%D0%BB%D1%83%D1%87%D0%B8%D1%82%D1%8C_%D1%81%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D0%B4%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80%D0%BE%D0%B2_%D0%BF%D1%80%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B0"><span class="tocnumber">6.5</span> <span class="toctext">Не удается получить список драйверов принтера</span></a></li>
<li class="toclevel-2 tocsection-44"><a href="#lp:_Error_-_Scheduler_Not_Responding"><span class="tocnumber">6.6</span> <span class="toctext">lp: Error - Scheduler Not Responding</span></a></li>
<li class="toclevel-2 tocsection-45"><a href="#%D0%A1%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BE%D0%B1_%D0%BE%D1%88%D0%B8%D0%B1%D0%BA%D0%B5:_%22Using_invalid_Host%22"><span class="tocnumber">6.7</span> <span class="toctext">Сообщение об ошибке: "Using invalid Host"</span></a></li>
<li class="toclevel-2 tocsection-46"><a href="#%D0%9D%D0%B5_%D1%83%D0%B4%D0%B0%D0%B5%D1%82%D1%81%D1%8F_%D0%BE%D1%82%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D1%82%D1%8C_%D0%BD%D0%B0_%D0%BF%D0%B5%D1%87%D0%B0%D1%82%D1%8C_%D0%B8%D0%B7_LibreOffice"><span class="tocnumber">6.8</span> <span class="toctext">Не удается отправить на печать из LibreOffice</span></a></li>
<li class="toclevel-2 tocsection-47"><a href="#%D0%92%D1%8B%D0%B2%D0%BE%D0%B4_%D0%BF%D1%80%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B0_%D1%81%D0%B4%D0%B2%D0%B8%D0%BD%D1%83%D1%82"><span class="tocnumber">6.9</span> <span class="toctext">Вывод принтера сдвинут</span></a></li>
<li class="toclevel-2 tocsection-48"><a href="#%D0%9F%D1%80%D0%B8%D0%BD%D1%82%D0%B5%D1%80_%D0%BD%D0%B5_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B5%D1%82_(%D0%BF%D1%80%D0%B8%D0%BE%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD_-_%22Paused%22)_%D0%BF%D0%BE%D1%81%D0%BB%D0%B5_%D0%BE%D1%88%D0%B8%D0%B1%D0%BA%D0%B8"><span class="tocnumber">6.10</span> <span class="toctext">Принтер не работает (приостановлен - "Paused") после ошибки</span></a></li>
<li class="toclevel-2 tocsection-49"><a href="#Samsung:_URF_ERROR_-_Incomplete_Session_by_time_out"><span class="tocnumber">6.11</span> <span class="toctext">Samsung: URF ERROR - Incomplete Session by time out</span></a></li>
<li class="toclevel-2 tocsection-50"><a href="#Brother:_%D0%9F%D1%80%D0%B8%D0%BD%D1%82%D0%B5%D1%80_%D0%BF%D0%B5%D1%87%D0%B0%D1%82%D0%B0%D0%B5%D1%82_%D0%BD%D0%B5%D1%81%D0%BA%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE_%D0%BA%D0%BE%D0%BF%D0%B8%D0%B9"><span class="tocnumber">6.12</span> <span class="toctext">Brother: Принтер печатает несколько копий</span></a></li>
<li class="toclevel-2 tocsection-51"><a href="#%D0%9E%D0%B1%D1%8B%D1%87%D0%BD%D1%8B%D0%B9_%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C_%D0%BD%D0%B5_%D0%BC%D0%BE%D0%B6%D0%B5%D1%82_%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D1%8F%D1%82%D1%8C_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8_%D0%BF%D1%80%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B0_%D0%B8%D0%BB%D0%B8_%D1%83%D0%B4%D0%B0%D0%BB%D1%8F%D1%82%D1%8C_%D0%BE%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D0%B7%D0%B0%D0%B4%D0%B0%D0%BD%D0%B8%D1%8F"><span class="tocnumber">6.13</span> <span class="toctext">Обычный пользователь не может изменять настройки принтера или удалять определенные задания</span></a></li>
</ul>
</li>
</ul>
</div>

<h2>
<span id=".D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Введение">Введение</span>
</h2>
<p>Наилучший способ борьбы с неисправностями - это выставить 'LogLevel' в файле <code>/etc/cups/cupsd.conf</code> на:
</p>
<pre>LogLevel debug
</pre>
<p>А потом посмотреть вывод из файла <code>/var/log/cups/error_log</code> например так:
</p>
<pre># tail -n 100 -f /var/log/cups/error_log
</pre>
<p>Символы слева от вывода означают следующее:
</p>
<ul>
<li>D=Debug(отладка)</li>
<li>E=Error(ошибка)</li>
<li>I=Information(информация)</li>
<li>И так далее</li>
</ul>
<p>Следующие файлы также могут быть полезны:
</p>
<ul>
<li>
<code>/var/log/cups/page_log</code> -  каждый раз при успешной печати, пишет новую запись</li>
<li>
<code>/var/log/cups/access_log</code> - записывает всю активность на cupsd http1.1 сервере</li>
</ul>
<p>Также, если вы хотите решить свои проблемы, важно понимать, как вообще работает CUPS. Вот краткая информация об этом:
</p>
<ol>
<li>Когда вы жмёте 'печать' приложение отправляет .ps-файл (PostScript, язык-скрипт, который описывает, как выглядит страница) в систему CUPS (так происходит в большинстве программ).</li>
<li>CUPS смотрит на PPD-файл (файл описания принтера) и находит, фильтры которые ему нужно использовать для преобразования .ps-файла в файл, который понимает ваш принтер (например, PJL,PCL). Обычно для этого ему требуется ghostscript.</li>
<li>GhostScript принимает ввод и решает, какие фильтры ему использовать, потом применяет их и преобразовывает .ps-файл в формат, который понимает принтер.</li>
<li>Затем файл передается бэкенду. Например, если у вас принтер подключен к usb порту, то используется usb бэкенд</li>
</ol>
<p>Распечатайте документ и посмотрите <code>error_log</code>, чтобы получить более подробное и правильное представление об процессе печати.
</p>
<h2>
<span id=".D0.9F.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D1.8B.2C_.D0.B2.D0.BE.D0.B7.D0.BD.D0.B8.D0.BA.D0.B0.D1.8E.D1.89.D0.B8.D0.B5_.D0.B2_.D1.80.D0.B5.D0.B7.D1.83.D0.BB.D1.8C.D1.82.D0.B0.D1.82.D0.B5_.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B9"></span><span class="mw-headline" id="Проблемы,_возникающие_в_результате_обновлений">Проблемы, возникающие в результате обновлений</span>
</h2>
<p><i>Проблемы возникшие после обновления CUPS и сопутствующего ему набора программ</i>
</p>
<h3>
<span id="CUPS_.D0.BE.D1.81.D1.82.D0.B0.D0.BD.D0.B0.D0.B2.D0.BB.D0.B8.D0.B2.D0.B0.D0.B5.D1.82.D1.81.D1.8F"></span><span class="mw-headline" id="CUPS_останавливается">CUPS останавливается</span>
</h3>
<p>Существует вероятность, что для правильной работы в обновленной версии понадобится новый файл конфигурации. Например, получение сообщения "404 - page not found" при попытке входа в панель управления CUPS через localhost:631.
</p>
<p>Для того, чтобы воспользоваться новым конфигом, скопируйте <code>/etc/cups/cupsd.conf.default</code> в <code>/etc/cups/cupsd.conf</code> (при необходимости сделайте резервную копию старого конфига) и, чтобы новые настройки вступили в силу, перезапустите CUPS.
</p>
<h3>
<span id=".D0.94.D0.BB.D1.8F_.D0.B2.D1.81.D0.B5.D1.85_.D0.B7.D0.B0.D0.B4.D0.B0.D0.BD.D0.B8.D0.B9_-_.22.D0.BE.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.BE.22"></span><span class="mw-headline" id='Для_всех_заданий_-_"остановлено"'>Для всех заданий - "остановлено"</span>
</h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Это кажется довольно грубым способом исправления этой проблемы; возможно, принтер просто отключен? (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:CUPS_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)/Troubleshooting_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)">Talk:CUPS (Русский)/Troubleshooting (Русский)#</a>)</div>
</div>
<p>Если для всех отправленных на печать заданий установился статус "остановлено" ("stopped"), - удалите принтер и установите его заново. Для этого войдите в <a rel="nofollow" class="external text" href="http://localhost:631">веб-интерфейс CUPS</a>, перейдите Принтеры &gt; Удалить Принтер.
</p>
<p>Для проверки настроек принтера перейдите во вкладку <i>Принтеры</i>, затем скопируйте отображаемую информацию. Далее нажмите на <i>Администрирование</i>. В выпадающем списке кликните <i>Изменить принтер</i>, перейдите к следующей странице(ам), и так далее.
</p>
<h3>
<span id=".D0.94.D0.BB.D1.8F_.D0.B2.D1.81.D0.B5.D1.85_.D0.B7.D0.B0.D0.B4.D0.B0.D0.BD.D0.B8.D0.B9_-_.22.D0.9F.D1.80.D0.B8.D0.BD.D1.82.D0.B5.D1.80_.D0.BD.D0.B5_.D0.BE.D1.82.D0.B2.D0.B5.D1.87.D0.B0.D0.B5.D1.82.22"></span><span class="mw-headline" id='Для_всех_заданий_-_"Принтер_не_отвечает"'>Для всех заданий - "Принтер не отвечает"</span>
</h3>
<p>Для сетевых принтеров, поскольку CUPS подключается через URI, необходимо убедиться, что в DNS настроен доступ к принтерам по IP. Например, если принтер подключен следующим образом:
</p>
<pre>lpd://BRN_020554/BINARY_P1
</pre>
<p>то имя хоста 'BRN_020554' должно соответствовать IP принтера, управляемого сервером CUPS. Если используется <a href="../en/Avahi.html" title="Avahi">Avahi</a>, убедитесь, что <a href="../en/Avahi.html#Hostname_resolution" title="Avahi">разрешение имени хоста Avahi</a> работает.
</p>
<p>Альтернативно, замените имя хоста, используемое в URI, IP-адресом принтера.
</p>
<h3>
<span id=".D0.92.D0.B5.D1.80.D1.81.D0.B8.D1.8F_PPD_.D0.BD.D0.B5_.D1.81.D0.BE.D0.B2.D0.BC.D0.B5.D1.81.D1.82.D0.B8.D0.BC.D0.B0_.D1.81_gutenprint"></span><span class="mw-headline" id="Версия_PPD_не_совместима_с_gutenprint">Версия PPD не совместима с gutenprint</span>
</h3>
<p>Запустите:
</p>
<pre># /usr/bin/cups-genppdupdate
</pre>
<p>И перезагрузите CUPS (будет выведено соответствующее сообщение после установки gutenprint).
</p>
<h2>
<span id=".D0.9F.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D1.8B_.D1.81_.D1.81.D0.B5.D1.82.D1.8C.D1.8E"></span><span class="mw-headline" id="Проблемы_с_сетью">Проблемы с сетью</span>
</h2>
<h3>
<span id=".D0.9D.D0.B5_.D1.83.D0.B4.D0.B0.D0.B5.D1.82.D1.81.D1.8F_.D0.BD.D0.B0.D0.B9.D1.82.D0.B8_.D0.BF.D1.80.D0.B8.D0.BD.D1.82.D0.B5.D1.80"></span><span class="mw-headline" id="Не_удается_найти_принтер">Не удается найти принтер</span>
</h3>
<p>Даже если CUPS обнаруживает сетевые принтеры, вы все равно можете получить ошибку "Не удается найти принтер" ("Unable to locate printer") при попытке распечатать что-либо. Чтобы решить эту проблему, включите <a href="../en/Avahi.html#Hostname_resolution" title="Avahi">.разрешение локального имени хоста</a> Avahi. Для получения дополнительной информации смотрите <a href="../ru/CUPS.html#C.D0.B5.D1.82.D1.8C" title="CUPS (Русский)">CUPS (Русский)#Сеть</a>.
</p>
<p>Эта проблема может возникать и при использовании файрвола (межсетевой экран, брандмауэр). Возможно, вам придется отключить его или установить корректные правила. Если вы используете system-config-printer для обнаружения сетевых принтеров, тогда он сделает все это автоматически.
</p>
<h3>
<span id=".D0.A1.D1.82.D0.B0.D1.80.D1.8B.D0.B9_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80_CUPS"></span><span class="mw-headline" id="Старый_сервер_CUPS">Старый сервер CUPS</span>
</h3>
<p>Начиная с версии CUPS 1.6, клиент по умолчанию использует IPP 2.0. Если сервер использует CUPS &lt;= 1.5 / IPP &lt;= 1.1, клиент не будет автоматически понижать версию протокола и, следовательно, не может связаться с сервером. Обходным путем является добавление опции <code>version=1.1</code>, описанной в <a rel="nofollow" class="external text" href="https://www.cups.org/doc/network.html#TABLE2">Таблице 2. Опции URI IPP</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-08-02]</sup>.
</p>
<h3>
<span id=".D0.9E.D0.B1.D1.89.D0.B8.D0.B9_.D0.BF.D1.80.D0.B8.D0.BD.D1.82.D0.B5.D1.80_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D0.B0.D0.B5.D1.82_.D0.BB.D0.BE.D0.BA.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE.2C_.D0.BD.D0.BE_.D1.83.D0.B4.D0.B0.D0.BB.D0.B5.D0.BD.D0.BD.D1.8B.D0.B9_.D0.BA.D0.BE.D0.BC.D0.BF.D1.8C.D1.8E.D1.82.D0.B5.D1.80_.D0.BD.D0.B5_.D0.BF.D0.B5.D1.87.D0.B0.D1.82.D0.B0.D0.B5.D1.82"></span><span class="mw-headline" id="Общий_принтер_работает_локально,_но_удаленный_компьютер_не_печатает">Общий принтер работает локально, но удаленный компьютер не печатает</span>
</h3>
<p>Это вызвано тем, что задание на печать отправляется через фильтр дважды, один раз на локальном компьютере и один раз на удаленном. Смотрите также предупреждение на главной странице <a href="../ru/CUPS.html#.D0.A1.D0.B5.D1.82.D1.8C" title="CUPS (Русский)">CUPS</a>.
</p>
<h3>
<span id=".D0.9D.D0.B5_.D1.83.D0.B4.D0.B0.D0.B5.D1.82.D1.81.D1.8F_.D0.BD.D0.B0.D0.B9.D1.82.D0.B8_.D1.84.D0.B0.D0.B9.D0.BB_PPD"></span><span class="mw-headline" id="Не_удается_найти_файл_PPD">Не удается найти файл PPD</span>
</h3>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/var/log/cups/error_log</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Cannot connect to remote printer ipp://HP079676.local
copy_model: empty PPD file</pre>
<p>Убедитесь, что <a href="../en/Avahi.html" title="Avahi">Avahi</a> настроен правильно. В частности, проверьте, что <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nss-mdns">nss-mdns</a></span> установлен и настроен в <code>/etc/nsswitch.conf</code>.
</p>
<h2>
<span id="USB-.D0.BF.D1.80.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.8B"></span><span class="mw-headline" id="USB-принтеры">USB-принтеры</span>
</h2>
<h3>
<span id=".D0.9A.D0.BE.D0.BD.D1.84.D0.BB.D0.B8.D0.BA.D1.82_.D1.81_SANE"></span><span class="mw-headline" id="Конфликт_с_SANE">Конфликт с SANE</span>
</h3>
<p>Если у вас также запущен <a href="../en/SANE.html" title="SANE">SANE</a>, возможно, что он конфликтует с CUPS. Чтобы исправить это, создайте правило <a href="../ru/Udev.html" title="Udev (Русский)">Udev</a>, обозначающее устройство как совпадающее с libsane:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/99-printer.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ATTRS{idVendor}=="<i>vendor id(код производителя)</i>", ATTRS{idProduct}=="<i>product id(код продукта)</i>", MODE="0664", GROUP="lp", ENV{libsane_matched}="yes"</pre>
<h3>
<span id=".D0.9A.D0.BE.D0.BD.D1.84.D0.BB.D0.B8.D0.BA.D1.82_.D1.81_usblp"></span><span class="mw-headline" id="Конфликт_с_usblp">Конфликт с usblp</span>
</h3>
<p>Доступ к USB-принтерам можно получить двумя способами: модулем ядра usblp и libusb. Первый - это классический способ. Это просто: данные отправляются на принтер, записывая их в файл устройства в виде простого последовательного потока данных. Чтение одного и того же файла устройства позволяет использовать двунаправленный доступ, по крайней мере, для таких вещей, как считывание уровней чернил, статуса или информации о возможностях принтера (PJL). Он работает очень хорошо для простых принтеров, но для многофункциональных устройств (принтер/сканер) он не подходит, и производители, такие как HP, поставляют свои собственные бэкенды. Источник: <a rel="nofollow" class="external text" href="https://lists.linuxfoundation.org/pipermail/printing-architecture/2012/002412.html">здесь</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Начиная с <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cups">cups</a></span> версии 1.6.0, больше не нужно заносить в запрет загрузки модуль ядра <code>usblp</code>.
Если вы узнаете, что это единственный способ исправить оставшуюся проблему, сообщите об этом в баг-трекер CUPS, а также можно связаться с Till Kamppeter (сопровождающий CUPS в Debian). Для получения дополнительной информации смотрите в <a rel="nofollow" class="external text" href="https://github.com/apple/cups/issues/4128">upstream bug</a>.</div>
<p>Если у вас возникли проблемы с работой USB-принтера, вы можете попробовать <a href="../ru/Kernel_module.html#%D0%97%D0%B0%D0%BF%D1%80%D0%B5%D1%82_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B8" class="mw-redirect" title="Запрет загрузки">запрет загрузки</a> для <a href="../ru/Kernel_module.html" class="mw-redirect" title="Модуль ядра">модуля ядра</a> <code>usblp</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/blacklistusblp.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">blacklist usblp
</pre>
<p>Пользователям кастомного ядра может потребоваться вручную загрузить <a href="../ru/Kernel_module.html" class="mw-redirect" title="Модуль ядра">модуль ядра</a> <code>usbcore</code>, прежде чем продолжить.
</p>
<p>После установки модулей подключите принтер и проверьте, обнаружило ли его ядро, выполнив следующие действия:
</p>
<pre># journalctl -e
</pre>
<p>или
</p>
<pre># dmesg
</pre>
<p>Если вы используете <code>usblp</code>, вывод должен указывать на то, что принтер был обнаружен следующим образом:
</p>
<pre>Feb 19 20:17:11 kernel: printer.c: usblp0: USB Bidirectional
printer dev 2 if 0 alt 0 proto 2 vid 0x04E8 pid 0x300E
Feb 19 20:17:11 kernel: usb.c: usblp driver claimed interface cfef3920
Feb 19 20:17:11 kernel: printer.c: v0.13: USB Printer Device Class driver
</pre>
<p>Если вы запретили загрузку <code>usblp</code>, вы увидите что-то вроде:
</p>
<pre>usb 3-2: new full speed USB device using uhci_hcd and address 3
usb 3-2: configuration #1 chosen from 1 choice
</pre>
<h3><span class="mw-headline" id="USB_autosuspend">USB autosuspend</span></h3>
<p>Ядро Linux автоматически приостанавливает USB-устройства, когда есть поддержка драйверов и устройства не используются. Это может сэкономить электроэнергию, но некоторые USB-принтеры считают, что они не подключены, когда ядро приостанавливает USB-порт, предотвращая печать. Это можно устранить, отключив autosuspend для конкретного устройства, для получения дополнительной информации смотрите <a href="../en/Power_management.html#USB_autosuspend" title="Power management">Power management#USB autosuspend</a>.
</p>
<h3>
<span id=".D0.9F.D0.BB.D0.BE.D1.85.D0.B8.D0.B5_.D1.80.D0.B0.D0.B7.D1.80.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Плохие_разрешения">Плохие разрешения</span>
</h3>
<p>Проверьте разрешения USB-порта принтера. Получите номер шины (BUSID) и устройства (DEVID) от <code>lsusb</code>:
</p>
 <pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"> lsusb </pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"> Bus &lt;BUSID&gt; Device &lt;DEVID&gt;: ID &lt;PRINTERID&gt;:&lt;VENDOR&gt; Hewlett-Packard DeskJet D1360</pre>
<p>Проверьте владельца, просмотрев devfs:
</p>
<pre> # ls -l /dev/bus/usb/&lt;BUSID&gt;/&lt;DEVID&gt;
</pre>
<p>Демон cups запускается от пользователя "cups" и относится к группе "lp", поэтому либо этому пользователю, либо группе требуется доступ на чтение и запись в USB-устройство. Если вы считаете, что разрешения выглядят неправильно, вы можете временно изменить группу и разрешение:
</p>
<pre># chgrp lp /dev/bus/usb/&lt;BUSID&gt;/&lt;DEVID&gt;
# chmod 664 /dev/bus/usb/&lt;BUSID&gt;/&lt;DEVID&gt;
</pre>
<p>Затем проверьте, может ли cups теперь видеть устройство USB правильно.
</p>
<p>Чтобы сделать постоянное изменение разрешения, которое будет запускаться автоматически при каждом запуске компьютера, добавьте следующую строку.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-local.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="usb", ATTRS{idVendor}=="&lt;VENDOR&gt;", ATTRS{idProduct}=="&lt;PRINTERID&gt;", GROUP:="lp", MODE:="0664"</pre>
<p>После редактирования перезагрузите правила udev этой командой:
</p>
<pre># udevadm control --reload-rules
</pre>
<p>Каждая система может отличаться, поэтому обратитесь к вики-странице <a href="../ru/Udev.html#%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D0%B0%D1%82%D1%80%D0%B8%D0%B1%D1%83%D1%82%D0%BE%D0%B2_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0" title="Udev (Русский)">udev (Русский)#Список атрибутов устройства</a>.
</p>
<h2>
<span id=".D0.9F.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D1.8B_.D1.81_HP"></span><span class="mw-headline" id="Проблемы_с_HP">Проблемы с HP</span>
</h2>
<p>Смотрите также <a href="../ru/bed5c04f8d01aa06c5d36912fb5b4335.html#HP" class="mw-redirect" title="CUPS/Принтероспецифичные проблемы">CUPS/Принтероспецифичные проблемы#HP</a>.
</p>
<h3>
<span id="CUPS:_.22.2Fusr.2Flib.2Fcups.2Fbackend.2Fhp_failed.22"></span><span class="mw-headline" id='CUPS:_"/usr/lib/cups/backend/hp_failed"'>CUPS: "/usr/lib/cups/backend/hp failed"</span>
</h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Ошибки бэкенда могут быть вызваны многими причинами, и <a href="../en/Avahi.html" title="Avahi">Avahi</a> не требуется (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:CUPS_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)/Troubleshooting_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)">Talk:CUPS (Русский)/Troubleshooting (Русский)#</a>)</div>
</div>
<p>Убедитесь, что dbus установлен и запущен. Если ошибка повторяется, попробуйте запустить avahi-daemon.
</p>
<p>Попробуйте добавить принтер в качестве сетевого принтера, используя протокол http:// .
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Там, возможно, потребуется установить права доступа.</div>
<h3>
<span id="CUPS:_.22.D0.9F.D0.B5.D1.87.D0.B0.D1.82.D1.8C_.D0.B7.D0.B0.D0.B2.D0.B5.D1.80.D1.88.D0.B5.D0.BD.D0.B0.22.2C_.D0.BD.D0.BE_.D0.BF.D1.80.D0.B8.D0.BD.D1.82.D0.B5.D1.80_.D0.BD.D0.B5_.D0.BF.D0.B5.D1.87.D0.B0.D1.82.D0.B0.D0.B5.D1.82."></span><span class="mw-headline" id='CUPS:_"Печать_завершена",_но_принтер_не_печатает.'>CUPS: "Печать завершена", но принтер не печатает.</span>
</h3>
<p>Это происходит на принтерах HP, когда вы выбираете (старый) драйвер hpijs (например, для Deskjet D1600 series). Вместо этого используйте драйвер hpcups.
</p>
<p>Некоторые принтеры HP требуют, чтобы их прошивка загружалась с компьютера при каждом включении принтера. Вы можете столкнуться с этой проблемой, если есть проблема с udev (или аналогом), и правило загрузки прошивки никогда не запускается.
В качестве обходного пути вы можете вручную загрузить прошивку на принтер. Убедитесь, что принтер подключен и включен, затем выполните
</p>
<pre>hp-firmware -n
</pre>
<h3>
<span id="CUPS:_.27.22foomatic-rip.22_not_available.2Fstopped_with_status_3.27"></span><span class="mw-headline" id="CUPS:_'&quot;foomatic-rip&quot;_not_available/stopped_with_status_3'">CUPS: '"foomatic-rip" not available/stopped with status 3'</span>
</h3>
<p>Если, во время использования принтера HP, задания появляются в очереди, но все завершаются со статусом 'остановлен' ('stopped'), а в <code>/var/log/cups/error_log</code> возникает одно из следующих сообщений об ошибках:
</p>
<pre>Filter "foomatic-rip" for printer <i>printer_name</i> not available: No such file or director
</pre>
<p>или:
</p>
<pre>PID <i>pid</i> (/usr/lib/cups/filter/foomatic-rip) stopped with status 3!
</pre>
<p>убедитесь, что <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=hplip">hplip</a></span> <a href="../ru/Pacman.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установлен">установлен</a>.
</p>
<h3>
<span id="CUPS:_.22Filter_failed.22"></span><span class="mw-headline" id='CUPS:_"Filter_failed"'>CUPS: "Filter failed"</span>
</h3>
<p>Ошибка "filter failed" может быть вызвана некоторым количеством причин. Журнал ошибок CUPS (по умолчанию  <code>/var/log/cups/error_log</code>) должен записывать, какой фильтр не удалось загрузить и почему.
</p>
<h4>
<span id=".D0.9E.D1.82.D1.81.D1.83.D1.82.D1.81.D1.82.D0.B2.D1.83.D0.B5.D1.82_ghostscript"></span><span class="mw-headline" id="Отсутствует_ghostscript">Отсутствует ghostscript</span>
</h4>
<p>Установите <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ghostscript">ghostscript</a></span> (<code>/usr/lib/cups/filter/gstoraster</code> нуждается в его запуске).
</p>
<h4>
<span id=".D0.9E.D1.82.D1.81.D1.83.D1.82.D1.81.D1.82.D0.B2.D1.83.D0.B5.D1.82_foomatic-db"></span><span class="mw-headline" id="Отсутствует_foomatic-db">Отсутствует foomatic-db</span>
</h4>
<p>Установите <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=foomatic-db">foomatic-db</a></span> и <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=foomatic-db-ppds">foomatic-db-ppds</a></span>. Это помогает в некоторых случаях.
</p>
<h4>
<span id="Avahi_.D0.BD.D0.B5_.D0.B2.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD"></span><span class="mw-headline" id="Avahi_не_включен">Avahi не включен</span>
</h4>
<p><a href="../ru/Systemd.html#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Запустите">Запустите</a> и <a href="../ru/Systemd.html#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Включите">включите</a> службу <code>avahi-daemon</code>.
</p>
<h4>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D1.80.D0.B5.D0.B2.D1.88.D0.B8.D0.B9_.D0.BF.D0.BB.D0.B0.D0.B3.D0.B8.D0.BD"></span><span class="mw-headline" id="Устаревший_плагин">Устаревший плагин</span>
</h4>
<p>Эта ошибка может указывать на то, что плагин устарел (версия несовместима) и может произойти после обновления системы, возможно, появится сообщение <code>Plugin error</code> в журнале (логе).
Если вы установили <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/hplip-plugin/">hplip-plugin</a></span><sup><small>AUR</small></sup>, вам нужно обновить пакет, иначе перезапустите <code>hp-setup -i</code>, чтобы установить последнюю версию плагина.
</p>
<h4>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D1.80.D0.B5.D0.B2.D1.88.D0.B0.D1.8F_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F_.D0.BF.D1.80.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D0.B0"></span><span class="mw-headline" id="Устаревшая_конфигурация_принтера">Устаревшая конфигурация принтера</span>
</h4>
<p>Начиная с <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/hplip-plugin/">hplip-plugin</a></span><sup><small>AUR</small></sup> версии 3.17.11 hpijs больше не доступен. Если у вас есть принтеры, использующие hpijs, они не будут печатать. Необходимо перенастроить их и выбрать вместо этого новый драйвер hpcups.
</p>
<p>Вы можете проверить, если это ваш случай, посмотрев в error_log cups`а:
</p>
 <pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"> $ grep hpijs /var/log/cups/error_log </pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"> ...
 D [09/Jan/2018:14:32:58 +0000] [Job 97] <b>sh: hpijs: command not found</b>
 ...</pre>
<h3>
<span id="CUPS:_.D0.BF.D0.B5.D1.87.D0.B0.D1.82.D0.B0.D0.B5.D1.82_.D1.82.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE_.D0.BF.D1.83.D1.81.D1.82.D1.83.D1.8E_.D1.81.D1.82.D1.80.D0.B0.D0.BD.D0.B8.D1.86.D1.83_.D0.B8_.D1.81.D1.82.D1.80.D0.B0.D0.BD.D0.B8.D1.86.D1.83_.D1.81_.D1.81.D0.BE.D0.BE.D0.B1.D1.89.D0.B5.D0.BD.D0.B8.D0.B5.D0.BC_.D0.BE.D0.B1_.D0.BE.D1.88.D0.B8.D0.B1.D0.BA.D0.B5_.D0.BD.D0.B0_HP_LaserJet"></span><span class="mw-headline" id="CUPS:_печатает_только_пустую_страницу_и_страницу_с_сообщением_об_ошибке_на_HP_LaserJet">CUPS: печатает только пустую страницу и страницу с сообщением об ошибке на HP LaserJet</span>
</h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a><b>This article or section is out of date.</b><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Ошибка была зарегистрирована в 2012 году; это все еще проблема? (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:CUPS_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)/Troubleshooting_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)">Talk:CUPS (Русский)/Troubleshooting (Русский)#</a>)</div>
</div>
<p>Существует ошибка, которая приводит к сбою CUPS при печати изображений на HP LaserJet (в моем случае 3380). Ошибки были зафиксированы и исправлены в <a rel="nofollow" class="external text" href="https://bugs.launchpad.net/ubuntu/+source/cups-filters/+bug/998087">Ubuntu</a>.
Первая страница пуста, вторая страница содержит следующее сообщение об ошибке:
</p>
<pre> ERROR:
 invalidaccess
 OFFENDING COMMAND:
 filter
 STACK:
 /SubFileDecode
 endstream
 ...
</pre>
<p>Чтобы устранить проблему, выполните следующую команду как суперпользователь (root):
</p>
<pre># lpadmin -p <i>printer</i> -o pdftops-renderer-default=pdftops
</pre>
<h3>
<span id="HPLIP_3.13:_.D0.9F.D0.BB.D0.B0.D0.B3.D0.B8.D0.BD_.D1.83.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.2C_.D0.BD.D0.BE_HP_Device_Manager_.D0.B6.D0.B0.D0.BB.D1.83.D0.B5.D1.82.D1.81.D1.8F_.D0.BD.D0.B0_.D0.B5.D0.B3.D0.BE_.D0.BE.D1.82.D1.81.D1.83.D1.82.D1.81.D1.82.D0.B2.D0.B8.D0.B5"></span><span class="mw-headline" id="HPLIP_3.13:_Плагин_установлен,_но_HP_Device_Manager_жалуется_на_его_отсутствие">HPLIP 3.13: Плагин установлен, но HP Device Manager жалуется на его отсутствие</span>
</h3>
<p>Возможно, проблема связана с изменением прав доступа файла, которое было внесено в <code>/var/lib/hp/hplip.state</code>. Чтобы исправить проблему, достаточно простых команд <code>chmod 644 /var/lib/hp/hplip.state</code> и <code>chmod 755 /var/lib/hp</code>. Для получения дополнительной информации, пожалуйста, прочитайте <a rel="nofollow" class="external text" href="https://bugs.launchpad.net/hplip/+bug/1131596">эту ссылку</a>.
</p>
<h3>
<span id="hp-toolbox:_.22Unable_to_communicate_with_device.22"></span><span class="mw-headline" id='hp-toolbox:_"Unable_to_communicate_with_device"'>hp-toolbox: "Unable to communicate with device"</span>
</h3>
<pre># hp-toolbox
# error: Unable to communicate with device (code=12): hp:/usb/<i>printer id</i>
</pre>
<h4>
<span id=".D0.A0.D0.B0.D0.B7.D1.80.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D1.8B"></span><span class="mw-headline" id="Разрешение_проблемы">Разрешение проблемы</span>
</h4>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Предположительно, hp-toolbox пытается получить доступ к /dev/usb/* или /dev/lp, поэтому он должен находиться в группе <code>lp</code>. Но почему <code>sys</code>? И я не могу воспроизвести это... (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:CUPS_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)/Troubleshooting_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)">Talk:CUPS (Русский)/Troubleshooting (Русский)#</a>)</div>
</div>
<p>Может потребоваться добавить пользователя в <a href="../ru/Users_and_groups.html#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B3%D1%80%D1%83%D0%BF%D0%BF%D0%B0%D0%BC%D0%B8" class="mw-redirect" title="Группы">группы</a> <code>lp</code> и <code>sys</code>.
</p>
<h4>
<span id=".D0.92.D0.B8.D1.80.D1.82.D1.83.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.B9_CDROM_.D1.83_.D0.BF.D1.80.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D0.BE.D0.B2"></span><span class="mw-headline" id="Виртуальный_CDROM_у_принтеров">Виртуальный CDROM у принтеров</span>
</h4>
<p>Это также может быть вызвано принтерами, такими как P1102, которые предоставляют виртуальный привод CD-ROM для драйверов MS Windows. Появляется lp dev, а затем исчезает. В этом случае попробуйте пакеты <b>usb-modeswitch</b> и <b>usb-modeswitch-data</b>, что позволяет отключить "Smart Drive" (правила udev, включенные в указанные пакеты).
</p>
<h4>
<span id=".D0.A1.D0.B5.D1.82.D0.B5.D0.B2.D1.8B.D0.B5_.D0.BF.D1.80.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.8B"></span><span class="mw-headline" id="Сетевые_принтеры">Сетевые принтеры</span>
</h4>
<p>Это также может происходить с сетевыми принтерами, использующими динамические имена хостов, если <a href="../en/Avahi.html" title="Avahi">avahi-daemon</a> не запущен. Другая причина заключается в том, что <i>hp-setup</i> не удалось найти принтер, потому что IP-адрес принтера изменился из-за DHCP. Если это так, подумайте о добавлении резервирования DHCP для принтера в конфигурации сервера DHCP.
</p>
<h3>
<span id="hp-setup_.D0.BF.D1.80.D0.BE.D1.81.D0.B8.D1.82_.D1.83.D0.BA.D0.B0.D0.B7.D0.B0.D1.82.D1.8C_PPD-.D1.84.D0.B0.D0.B9.D0.BB_.D0.B4.D0.BB.D1.8F_.D0.BE.D0.B1.D0.BD.D0.B0.D1.80.D1.83.D0.B6.D0.B5.D0.BD.D0.BD.D0.BE.D0.B3.D0.BE_.D0.BF.D1.80.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D0.B0"></span><span class="mw-headline" id="hp-setup_просит_указать_PPD-файл_для_обнаруженного_принтера">hp-setup просит указать PPD-файл для обнаруженного принтера</span>
</h3>
<p>Кроме того, при выборе файла PPD в графическом режиме hp-setup поле не обновляется и сообщение об ошибке не отображается.
</p>
<p>Или, если вы используете интерактивный (консольный) режим, можно столкнуться с чем-то похожим на это даже при введении правильного пути к файлу ppd:
</p>
<pre> Please enter the full filesystem path to the PPD file to use (q=quit) :/usr/share/ppd/HP/hp-deskjet_2050_j510_series.ppd.gz
 Traceback (most recent call last):
   File "/usr/bin/hp-setup", line 536, in &lt;module&gt;
     desc = nickname_pat.search(nickname).group(1)
 TypeError: cannot use a string pattern on a bytes-like object
</pre>
<p>Решение заключается в установке и запуске <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cups">cups</a></span> перед запуском <code>hp-setup</code>.
</p>
<h3>
<span id="hp-setup:_.22Qt.2FPyQt_4_initialization_failed.22"></span><span class="mw-headline" id='hp-setup:_"Qt/PyQt_4_initialization_failed"'>hp-setup: "Qt/PyQt 4 initialization failed"</span>
</h3>
<p><a href="../ru/Help:Reading.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установите">Установите</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/python-pyqt4/">python-pyqt4</a></span><sup><small>AUR</small></sup>, который дополнительно требуется (optdepend) для <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=hplip">hplip</a></span>. Альтернативно вы можете запустить hp-setup с интерфейсом командной строки с помощью флага <code>-i</code>.
</p>
<h3>
<span id="hp-setup:_.D0.BD.D0.B0.D1.85.D0.BE.D0.B4.D0.B8.D1.82_.D0.BF.D1.80.D0.B8.D0.BD.D1.82.D0.B5.D1.80_.D0.B0.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.2C_.D0.BD.D0.BE_.D1.81.D1.80.D0.B0.D0.B7.D1.83_.D0.BF.D0.BE.D1.81.D0.BB.D0.B5_.D1.8D.D1.82.D0.BE.D0.B3.D0.BE_.D1.81.D0.BE.D0.BE.D0.B1.D1.89.D0.B0.D0.B5.D1.82_.22Unable_to_communicate_with_device.22_.D0.BF.D1.80.D0.B8_.D0.BF.D0.B5.D1.87.D0.B0.D1.82.D0.B8_.D1.82.D0.B5.D1.81.D1.82.D0.BE.D0.B2.D0.BE.D0.B9_.D1.81.D1.82.D1.80.D0.B0.D0.BD.D0.B8.D1.86.D1.8B"></span><span class="mw-headline" id='hp-setup:_находит_принтер_автоматически,_но_сразу_после_этого_сообщает_"Unable_to_communicate_with_device"_при_печати_тестовой_страницы'>hp-setup: находит принтер автоматически, но сразу после этого сообщает "Unable to communicate with device" при печати тестовой страницы</span>
</h3>
<p>Это, по крайней мере, происходит с hplip 3.13.5-2 у принтера HP Officejet 6500A через локальное сетевое соединение. Чтобы решить проблему, укажите IP-адрес принтера HP для hp-setup, чтобы обнаружить принтер.
</p>
<h3>
<span id="hp-setup:_.22KeyError:_.27family-class.27.22"></span><span class="mw-headline" id="hp-setup:_&quot;KeyError:_'family-class'&quot;">hp-setup: "KeyError: 'family-class'"</span>
</h3>
<p>Если при добавлении принтера в пользовательском интерфейсе он не работает, или вы получили <code>KeyError: 'family-class'</code> от <code>hp-setup</code>, возможно потребуется обновить вручную <code>/usr/share/hplip/data/models/models.dat</code>.
</p>
<p>Проверьте определен ли раздел <code>family-class=Undefined</code> для вашего принтера. Если нет, добавьте это:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/share/hplip/data/models/models.dat</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[hp_laserjet_pro_mfp_m225dw]	
...
family-class=Undefined</pre>
<h2>
<span id=".D0.94.D1.80.D1.83.D0.B3.D0.B8.D0.B5"></span><span class="mw-headline" id="Другие">Другие</span>
</h2>
<h3>
<span id=".D0.9F.D1.80.D0.B8.D0.BD.D1.82.D0.B5.D1.80_.22.D0.BF.D1.80.D0.B8.D0.BE.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD_-_.22Paused.22.22_.D0.B8.D0.BB.D0.B8_.22.D0.9E.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.22_c.D0.BE_.D1.81.D1.82.D0.B0.D1.82.D1.83.D1.81.D0.BE.D0.BC_.22.D0.A0.D0.B5.D0.BD.D0.B4.D0.B5.D1.80.D0.B8.D0.BD.D0.B3_.D0.B7.D0.B0.D0.B2.D0.B5.D1.80.D1.88.D0.B5.D0.BD.22"></span><span class="mw-headline" id='Принтер_"приостановлен_-_"Paused""_или_"Остановлен"_cо_статусом_"Рендеринг_завершен"'>Принтер "приостановлен - "Paused"" или "Остановлен" cо статусом "Рендеринг завершен"</span>
</h3>
<h4>
<span id=".D0.9D.D0.B8.D0.B7.D0.BA.D0.B8.D0.B9_.D1.83.D1.80.D0.BE.D0.B2.D0.B5.D0.BD.D1.8C_.D1.87.D0.B5.D1.80.D0.BD.D0.B8.D0.BB"></span><span class="mw-headline" id="Низкий_уровень_чернил">Низкий уровень чернил</span>
</h4>
<p>При низком уровне чернил некоторые принтеры зависают со статусом  "Рендеринг завершен" ("Rendering completed"), и, если это сетевой принтер, принтер может даже стать недоступным для CUPS, несмотря на то, что он правильно подключен к сети. Замена картриджа (картриджей) с низким уровнем чернил в этом случае вернет принтер в статус "Готов" ("Ready") и, если он - сетевой принтер, то он станет снова доступным для CUPS.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Если вы используете сторонние чернильные картриджи, то принтер может сообщать неточную информацию о уровне чернил. Если вы используете сторонние картриджи, и ваш принтер работал нормально, но теперь завис со статусом "Рендеринг завершен" ("Rendering completed"), замените чернильные картриджи, независимо от уровня отображаемых чернил, перед тем, как пробовать другие решения проблемы.</div>
<h3>
<span id=".D0.97.D0.B0.D0.B2.D0.B5.D1.80.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D0.B5.D1.87.D0.B0.D1.82.D0.B8_.D0.B8.D0.B7-.D0.B7.D0.B0_.D0.BE.D1.88.D0.B8.D0.B1.D0.BE.D0.BA_.D0.B0.D0.B2.D1.82.D0.BE.D1.80.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D0.B8"></span><span class="mw-headline" id="Завершение_печати_из-за_ошибок_авторизации">Завершение печати из-за ошибок авторизации</span>
</h3>
<p>Если удаленный принтер запрашивает аутентификацию, CUPS автоматически добавит директиву <code>AuthInfoRequired</code> для принтера в  <code>/etc/cups/printers.conf</code>. Однако некоторые графические приложения (например, некоторые версии <a href="../ru/LibreOffice.html" title="LibreOffice (Русский)">LibreOffice</a> <a rel="nofollow" class="external autonumber" href="https://bugs.documentfoundation.org/show_bug.cgi?id=53029">[1]</a>) не имеют возможности запрашивать учетные данные, поэтому печать завершилась с ошибкой.
Чтобы исправить это, укажите требуемое имя пользователя и пароль в URI.
Для получения дополнительной информации смотрите <a rel="nofollow" class="external autonumber" href="https://bugs.launchpad.net/ubuntu/+source/cups/+bug/283811">[2]</a>, <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=61826">[3]</a>.
</p>
<h3>
<span id="Unknown_supported_format:_application.2Fpostscript"></span><span class="mw-headline" id="Unknown_supported_format:_application/postscript">Unknown supported format: application/postscript</span>
</h3>
<p>(<i><b>Не найдена поддержка формата: application/postscript</b></i>)
</p>
<p>Закомментируйте строки:
</p>
<pre>application/octet-stream        application/vnd.cups-raw        0      -
</pre>
<p>в <code>/etc/cups/mime.convs</code> и:
</p>
<pre>application/octet-stream
</pre>
<p>в <code>/etc/cups/mime.types</code>.
</p>
<h3>
<span id=".D0.9E.D1.88.D0.B8.D0.B1.D0.BA.D0.B0_.D0.B7.D0.B0.D0.B4.D0.B0.D0.BD.D0.B8.D1.8F_.D0.B4.D0.BB.D1.8F_.D0.BF.D0.B5.D1.87.D0.B0.D1.82.D0.B8_.28Print-Job.29_client-error-document-format-not-supported"></span><span class="mw-headline" id="Ошибка_задания_для_печати_(Print-Job)_client-error-document-format-not-supported">Ошибка задания для печати (Print-Job) client-error-document-format-not-supported</span>
</h3>
<p>Попробуйте установить пакет foomatic и используйте драйвер foomatic.
</p>
<h3>
<span id=".D0.9D.D0.B5_.D1.83.D0.B4.D0.B0.D0.B5.D1.82.D1.81.D1.8F_.D0.BF.D0.BE.D0.BB.D1.83.D1.87.D0.B8.D1.82.D1.8C_.D1.81.D0.BF.D0.B8.D1.81.D0.BE.D0.BA_.D0.B4.D1.80.D0.B0.D0.B9.D0.B2.D0.B5.D1.80.D0.BE.D0.B2_.D0.BF.D1.80.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D0.B0"></span><span class="mw-headline" id="Не_удается_получить_список_драйверов_принтера">Не удается получить список драйверов принтера</span>
</h3>
<p>(Также применимо к ошибке "-1 не поддерживается!")
</p>
<p>Попробуйте удалить драйверы Foomatic или обратитесь к <a href="../ru/bed5c04f8d01aa06c5d36912fb5b4335.html#HPLIP" class="mw-redirect" title="CUPS/Принтероспецифичные проблемы">CUPS/Принтероспецифичные проблемы#HPLIP</a> для обходного пути.
</p>
<h3><span class="mw-headline" id="lp:_Error_-_Scheduler_Not_Responding">lp: Error - Scheduler Not Responding</span></h3>
<p>Если вы получите эту ошибку, убедитесь, что <a href="../ru/CUPS.html" title="CUPS (Русский)">CUPS</a> запущен, переменная окружения <code>CUPS_SERVER</code> не установлена и <code>/etc/cups/client.conf</code> корректный.
</p>
<h3>
<span id=".D0.A1.D0.BE.D0.BE.D0.B1.D1.89.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BE.D0.B1_.D0.BE.D1.88.D0.B8.D0.B1.D0.BA.D0.B5:_.22Using_invalid_Host.22"></span><span class="mw-headline" id='Сообщение_об_ошибке:_"Using_invalid_Host"'>Сообщение об ошибке: "Using invalid Host"</span>
</h3>
<p>Попробуйте добавить <code>ServerAlias *</code> в <code>/etc/cups/cupsd.conf</code>.
</p>
<h3>
<span id=".D0.9D.D0.B5_.D1.83.D0.B4.D0.B0.D0.B5.D1.82.D1.81.D1.8F_.D0.BE.D1.82.D0.BF.D1.80.D0.B0.D0.B2.D0.B8.D1.82.D1.8C_.D0.BD.D0.B0_.D0.BF.D0.B5.D1.87.D0.B0.D1.82.D1.8C_.D0.B8.D0.B7_LibreOffice"></span><span class="mw-headline" id="Не_удается_отправить_на_печать_из_LibreOffice">Не удается отправить на печать из LibreOffice</span>
</h3>
<p>Если вы можете распечатать тестовую страницу с веб-интерфейса <a href="../ru/CUPS.html" title="CUPS (Русский)">CUPS</a>, но не из <a href="../ru/LibreOffice.html" title="LibreOffice (Русский)">LibreOffice</a>, попробуйте <a href="../ru/Pacman.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установить">установить</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=a2ps">a2ps</a></span>.
</p>
<h3>
<span id=".D0.92.D1.8B.D0.B2.D0.BE.D0.B4_.D0.BF.D1.80.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D0.B0_.D1.81.D0.B4.D0.B2.D0.B8.D0.BD.D1.83.D1.82"></span><span class="mw-headline" id="Вывод_принтера_сдвинут">Вывод принтера сдвинут</span>
</h3>
<p>По-видимому, это связано с неправильным размером страницы, установленным в <a href="../ru/CUPS.html" title="CUPS (Русский)">CUPS</a>.
</p>
<h3>
<span id=".D0.9F.D1.80.D0.B8.D0.BD.D1.82.D0.B5.D1.80_.D0.BD.D0.B5_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D0.B0.D0.B5.D1.82_.28.D0.BF.D1.80.D0.B8.D0.BE.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD_-_.22Paused.22.29_.D0.BF.D0.BE.D1.81.D0.BB.D0.B5_.D0.BE.D1.88.D0.B8.D0.B1.D0.BA.D0.B8"></span><span class="mw-headline" id='Принтер_не_работает_(приостановлен_-_"Paused")_после_ошибки'>Принтер не работает (приостановлен - "Paused") после ошибки</span>
</h3>
<p>Когда во время печати возникает ошибка, принтер в CUPS может перестать отвечать на запросы. <code>lpq</code> сообщает, что принтер <code>is not ready</code> (не готов), его можно активировать с помощью <code>cupsenable</code>. В веб-интерфейсе CUPS принтер отображается как <i>приостановлен - "Paused"</i>, его можно возобновить с помощью <i>Восстановить печать</i>.
</p>
<p>Чтобы CUPS автоматически активировал принтер, измените <a rel="nofollow" class="external text" href="https://www.cups.org/doc/man-cupsd.conf.html?TOPIC=Man+Pages#ErrorPolicy">политику ошибок</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-08-02]</sup> с стандартной настройки <code>Останавливать принтер</code> (stop-printer) на <code>Повторить задание</code> (retry-this-job).
</p>
<h3><span class="mw-headline" id="Samsung:_URF_ERROR_-_Incomplete_Session_by_time_out">Samsung: URF ERROR - Incomplete Session by time out</span></h3>
<p>Эта ошибка обычно возникает при печати файлов по сети через IPP на принтерах Samsung и решается с помощью пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/samsung-unified-driver/">samsung-unified-driver</a></span><sup><small>AUR</small></sup>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Соответствующий код ошибки 11-1112 соответствует внутренней проблеме с принтером, поэтому обращение к технической поддержке Samsung бесполезно.</div>
<h3>
<span id="Brother:_.D0.9F.D1.80.D0.B8.D0.BD.D1.82.D0.B5.D1.80_.D0.BF.D0.B5.D1.87.D0.B0.D1.82.D0.B0.D0.B5.D1.82_.D0.BD.D0.B5.D1.81.D0.BA.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE_.D0.BA.D0.BE.D0.BF.D0.B8.D0.B9"></span><span class="mw-headline" id="Brother:_Принтер_печатает_несколько_копий">Brother: Принтер печатает несколько копий</span>
</h3>
<p>Иногда принтер печатает несколько копий документа (например, MFC-9330CDW напечатал 10 копий). Решение заключается в <a href="../ru/bed5c04f8d01aa06c5d36912fb5b4335.html#%D0%9E%D0%B1%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D1%88%D0%B8%D0%B2%D0%BA%D0%B8" class="mw-redirect" title="CUPS/Принтероспецифичные проблемы">обновлении прошивки принтера</a>.
</p>
<h3>
<span id=".D0.9E.D0.B1.D1.8B.D1.87.D0.BD.D1.8B.D0.B9_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8C_.D0.BD.D0.B5_.D0.BC.D0.BE.D0.B6.D0.B5.D1.82_.D0.B8.D0.B7.D0.BC.D0.B5.D0.BD.D1.8F.D1.82.D1.8C_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B8_.D0.BF.D1.80.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D0.B0_.D0.B8.D0.BB.D0.B8_.D1.83.D0.B4.D0.B0.D0.BB.D1.8F.D1.82.D1.8C_.D0.BE.D0.BF.D1.80.D0.B5.D0.B4.D0.B5.D0.BB.D0.B5.D0.BD.D0.BD.D1.8B.D0.B5_.D0.B7.D0.B0.D0.B4.D0.B0.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Обычный_пользователь_не_может_изменять_настройки_принтера_или_удалять_определенные_задания">Обычный пользователь не может изменять настройки принтера или удалять определенные задания</span>
</h3>
<p>Если обычный пользователь должен иметь возможность изменять настройки принтеров или управлять очередью принтера, пользователь может быть добавлен в группу <code>sys</code>.
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../ru/Category:Printers.html" title="Category:Printers (Русский)">Printers (Русский)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=CUPS_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)/Troubleshooting_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=660596">https://wiki.archlinux.org/index.php?title=CUPS_(Русский)/Troubleshooting_(Русский)&amp;oldid=660596</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 16 April 2021, at 07:36.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
