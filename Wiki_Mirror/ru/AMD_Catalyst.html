<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>AMD Catalyst (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-AMD_Catalyst_Русский rootpage-AMD_Catalyst_Русский skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">AMD Catalyst (Русский)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="/title/ATI_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" class="mw-redirect" title="ATI (Русский)">ATI (Русский)</a></li>
<li><a href="/title/Xorg_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Xorg (Русский)">Xorg (Русский)</a></li>
</ul>
</div>
<p>Владельцы видеокарт ATI/AMD имеют выбор между проприетарным (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst/">catalyst</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>) и <a href="/title/ATI_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" class="mw-redirect" title="ATI (Русский)">открытым драйвером</a> (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-ati">xf86-video-ati</a></span>). Эта статья описывает проприетарный драйвер.
</p>
<p>Пакет с драйвером AMD для Linux, <i>catalyst</i>, раньше назывался <i>fglrx</i> (<b>F</b>ire<b>GL</b> и <b>R</b>adeon <b>X</b>). Было изменено только имя пакета, в то время как модуль ядра сохраняет исходное имя <i>fglrx.ko</i>. Таким образом, любое упоминание о fglrx ниже, является отсылкой к <i>модулю ядра</i>, а <b>не к пакету</b>.
</p>
<p><b>Пакет Catalyst больше не размещается в официальных репозиториях.</b> В прошлом, поддержка Catalyst была <a rel="nofollow" class="external text" href="https://archlinux.org/news/ati-catalyst-support-dropped/">прекращена</a>, в связи с неудовлетвореностью качеством и скоростью разработки. После короткого возвращения, поддержка снова была прекращена в апреле 2013 и ее не вернули до сих пор.
</p>
<p>В сравнении с открытым драйвером, Catalyst лучше выполняет визуализацию 2D и 3D, а также имеет лучшее управление энергопотреблением, но он неэфективен в поддержке нескольких экранов. Поддерживаемые устройства <a href="https://en.wikipedia.org/wiki/ru:Radeon" class="extiw" title="wikipedia:ru:Radeon">ATI/AMD Radeon</a> - это видео карты с чипсетом R600 и новее (Radeon HD 2xxx и новее). Смотрите <a rel="nofollow" class="external text" href="https://www.x.org/wiki/RadeonFeature/#index5h2">кольцо декодирования Xorg</a> или <a href="https://en.wikipedia.org/wiki/Comparison_of_AMD_graphics_processing_units" class="extiw" title="wikipedia:Comparison of AMD graphics processing units">эту таблицу</a>, переводите имя <i>модели</i> (X1900, HD4850) в/из имя <i>чипа</i> (R580, RV770 соответственно).
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0"><span class="tocnumber">1</span> <span class="toctext">Установка</span></a>
<ul>
<li class="toclevel-2 tocsection-2">
<a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%B4%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80%D0%B0"><span class="tocnumber">1.1</span> <span class="toctext">Установка драйвера</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%B8%D0%B7_%D0%BD%D0%B5%D0%BE%D1%84%D0%B8%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B3%D0%BE_%D1%80%D0%B5%D0%BF%D0%BE%D0%B7%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D1%8F"><span class="tocnumber">1.1.1</span> <span class="toctext">Установка из неофициального репозитория</span></a></li>
<li class="toclevel-3 tocsection-4"><a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%B8%D0%B7_AUR"><span class="tocnumber">1.1.2</span> <span class="toctext">Установка из AUR</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-5">
<a href="#%D0%9A%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D1%8F_%D0%B4%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80%D0%B0"><span class="tocnumber">1.2</span> <span class="toctext">Конфигурация драйвера</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#%D0%9A%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D1%8F_X"><span class="tocnumber">1.2.1</span> <span class="toctext">Конфигурация X</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#%D0%97%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0_%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8F_%D0%BF%D1%80%D0%B8_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%B5"><span class="tocnumber">1.2.2</span> <span class="toctext">Загрузка модуля при загрузе</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#%D0%9E%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_kernel_mode_setting"><span class="tocnumber">1.2.3</span> <span class="toctext">Отключение kernel mode setting</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BE%D1%81%D0%BF%D0%BE%D1%81%D0%BE%D0%B1%D0%BD%D0%BE%D1%81%D1%82%D0%B8"><span class="tocnumber">1.2.4</span> <span class="toctext">Проверка работоспособности</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-10"><a href="#%D0%9F%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B8%D0%B5_%D1%8F%D0%B4%D1%80%D0%B0"><span class="tocnumber">1.3</span> <span class="toctext">Пользовательские ядра</span></a></li>
<li class="toclevel-2 tocsection-11">
<a href="#%D0%9F%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%BA%D0%B0_PowerXpress"><span class="tocnumber">1.4</span> <span class="toctext">Поддержка PowerXpress</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#%D0%97%D0%B0%D0%BF%D1%83%D1%81%D0%BA_%D0%B4%D0%B2%D1%83%D1%85_X_%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%BE%D0%B2_(%D0%BE%D0%B4%D0%B8%D0%BD_%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D1%8E%D1%89%D0%B8%D0%B9_%D0%B4%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80_Intel,_%D0%B4%D1%80%D1%83%D0%B3%D0%BE%D0%B9_fglrx)_%D0%BE%D0%B4%D0%BD%D0%BE%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE"><span class="tocnumber">1.4.1</span> <span class="toctext">Запуск двух X серверов (один использующий драйвер Intel, другой fglrx) одновременно</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#%D0%9F%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B_%D1%81_PowerXpress_%D0%BD%D0%B0_%D0%BD%D0%BE%D1%83%D1%82%D0%B1%D1%83%D0%BA%D0%B5_%D0%B7%D0%B0%D0%BF%D1%83%D1%89%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9_%D0%B2_%D1%80%D0%B5%D0%B6%D0%B8%D0%BC%D0%B5_AMD_(pxp_switch_catalyst_amd)_%D1%81_%D0%B2%D0%BD%D0%B5%D1%88%D0%BD%D0%B8%D0%BC_/_%D0%B2%D1%82%D0%BE%D1%80%D1%8B%D0%BC_%D0%BC%D0%BE%D0%BD%D0%B8%D1%82%D0%BE%D1%80%D0%BE%D0%BC"><span class="tocnumber">1.4.2</span> <span class="toctext">Проблемы с PowerXpress на ноутбуке запущенный в режиме AMD (pxp_switch_catalyst amd) с внешним / вторым монитором</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-14">
<a href="#%D0%A0%D0%B5%D0%BF%D0%BE%D0%B7%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%B8_Xorg"><span class="tocnumber">2</span> <span class="toctext">Репозитории Xorg</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="#xorg118"><span class="tocnumber">2.1</span> <span class="toctext">xorg118</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#xorg117"><span class="tocnumber">2.2</span> <span class="toctext">xorg117</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#xorg116"><span class="tocnumber">2.3</span> <span class="toctext">xorg116</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#xorg115"><span class="tocnumber">2.4</span> <span class="toctext">xorg115</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#xorg114"><span class="tocnumber">2.5</span> <span class="toctext">xorg114</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#xorg113"><span class="tocnumber">2.6</span> <span class="toctext">xorg113</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#xorg112"><span class="tocnumber">2.7</span> <span class="toctext">xorg112</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-22">
<a href="#%D0%98%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B"><span class="tocnumber">3</span> <span class="toctext">Инструменты</span></a>
<ul>
<li class="toclevel-2 tocsection-23"><a href="#Catalyst-hook"><span class="tocnumber">3.1</span> <span class="toctext">Catalyst-hook</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Catalyst-generator"><span class="tocnumber">3.2</span> <span class="toctext">Catalyst-generator</span></a></li>
<li class="toclevel-2 tocsection-25">
<a href="#%D0%A0%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0_OpenCL_%D0%B8_OpenGL"><span class="tocnumber">3.3</span> <span class="toctext">Разработка OpenCL и OpenGL</span></a>
<ul>
<li class="toclevel-3 tocsection-26"><a href="#amdapp-aparapi"><span class="tocnumber">3.3.1</span> <span class="toctext">amdapp-aparapi</span></a></li>
<li class="toclevel-3 tocsection-27"><a href="#amdapp-sdk_(%D1%80%D0%B0%D0%BD%D0%B5%D0%B5_%D0%B8%D0%B7%D0%B2%D0%B5%D1%81%D1%82%D0%BD%D1%8B%D0%B9_%D0%BA%D0%B0%D0%BA_amdstream)"><span class="tocnumber">3.3.2</span> <span class="toctext">amdapp-sdk (ранее известный как amdstream)</span></a></li>
<li class="toclevel-3 tocsection-28"><a href="#amdapp-codexl"><span class="tocnumber">3.3.3</span> <span class="toctext">amdapp-codexl</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-29">
<a href="#%D0%9F%D1%80%D0%B5%D0%B8%D0%BC%D1%83%D1%89%D0%B5%D1%81%D1%82%D0%B2%D0%B0"><span class="tocnumber">4</span> <span class="toctext">Преимущества</span></a>
<ul>
<li class="toclevel-2 tocsection-30"><a href="#Tear_Free_Rendering"><span class="tocnumber">4.1</span> <span class="toctext">Tear Free Rendering</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#%D0%90%D0%BF%D0%BF%D0%B0%D1%80%D0%B0%D1%82%D0%BD%D0%BE%D0%B5_%D1%83%D1%81%D0%BA%D0%BE%D1%80%D0%B5%D0%BD%D0%B8%D0%B5"><span class="tocnumber">4.2</span> <span class="toctext">Аппаратное ускорение</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#%D0%A7%D0%B0%D1%81%D1%82%D0%BE%D1%82%D0%B0,_%D1%82%D0%B5%D0%BC%D0%BF%D0%B5%D1%80%D0%B0%D1%82%D1%83%D1%80%D0%B0,_%D1%81%D0%BA%D0%BE%D1%80%D0%BE%D1%81%D1%82%D1%8C_%D0%B2%D0%B5%D0%BD%D1%82%D0%B8%D0%BB%D1%8F%D1%82%D0%BE%D1%80%D0%B0,_%D1%83%D1%82%D0%B8%D0%BB%D0%B8%D1%82%D1%8B_%D0%B4%D0%BB%D1%8F_%D1%80%D0%B0%D0%B7%D0%B3%D0%BE%D0%BD%D0%B0_GPU/%D0%9F%D0%B0%D0%BC%D1%8F%D1%82%D0%B8"><span class="tocnumber">4.3</span> <span class="toctext">Частота, температура, скорость вентилятора, утилиты для разгона GPU/Памяти</span></a></li>
<li class="toclevel-2 tocsection-33">
<a href="#%D0%94%D0%B2%D0%B0_%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0_(Dual_Head_/_Dual_Screen_/_Xinerama)"><span class="tocnumber">4.4</span> <span class="toctext">Два экрана (Dual Head / Dual Screen / Xinerama)</span></a>
<ul>
<li class="toclevel-3 tocsection-34"><a href="#%D0%92%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5"><span class="tocnumber">4.4.1</span> <span class="toctext">Введение</span></a></li>
<li class="toclevel-3 tocsection-35"><a href="#ATI_Catalyst_Control_Center"><span class="tocnumber">4.4.2</span> <span class="toctext">ATI Catalyst Control Center</span></a></li>
<li class="toclevel-3 tocsection-36"><a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_2"><span class="tocnumber">4.4.3</span> <span class="toctext">Установка</span></a></li>
<li class="toclevel-3 tocsection-37"><a href="#%D0%9A%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D1%8F"><span class="tocnumber">4.4.4</span> <span class="toctext">Конфигурация</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-38"><a href="#%D0%A3%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5"><span class="tocnumber">5</span> <span class="toctext">Удаление</span></a></li>
<li class="toclevel-1 tocsection-39">
<a href="#%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC"><span class="tocnumber">6</span> <span class="toctext">Решение проблем</span></a>
<ul>
<li class="toclevel-2 tocsection-40"><a href="#%D0%9D%D0%B5_%D1%83%D0%B4%D0%B0%D0%BB%D0%BE%D1%81%D1%8C_%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D1%82%D0%B8%D1%82%D1%8C_atieventsd.service"><span class="tocnumber">6.1</span> <span class="toctext">Не удалось запустить atieventsd.service</span></a></li>
<li class="toclevel-2 tocsection-41"><a href="#%D0%9D%D0%B5_%D1%83%D0%B4%D0%B0%D0%BB%D0%BE%D1%81%D1%8C_%D0%BE%D1%82%D0%BA%D1%80%D1%8B%D1%82%D1%8C_fglrx_dri.so"><span class="tocnumber">6.2</span> <span class="toctext">Не удалось открыть fglrx_dri.so</span></a></li>
<li class="toclevel-2 tocsection-42"><a href="#%D0%9D%D0%B5_%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA%D0%B0%D0%B5%D1%82%D1%81%D1%8F_GDM"><span class="tocnumber">6.3</span> <span class="toctext">Не запускается GDM</span></a></li>
<li class="toclevel-2 tocsection-43"><a href="#%D0%9F%D1%80%D0%B8%D1%82%D0%BE%D1%80%D0%BC%D0%B0%D0%B6%D0%B8%D0%B2%D0%B0%D1%8E%D1%82_3D_%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F_%D0%B2_Wine"><span class="tocnumber">6.4</span> <span class="toctext">Притормаживают 3D приложения в Wine</span></a></li>
<li class="toclevel-2 tocsection-44"><a href="#%D0%9F%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D0%B0_%D1%81_%D1%86%D0%B2%D0%B5%D1%82%D0%B0%D0%BC%D0%B8_%D0%B2_%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE"><span class="tocnumber">6.5</span> <span class="toctext">Проблема с цветами в видео</span></a></li>
<li class="toclevel-2 tocsection-45"><a href="#KWin_%D0%B8_%D0%BA%D0%BE%D0%BC%D0%BF%D0%BE%D0%B7%D0%B8%D1%82"><span class="tocnumber">6.6</span> <span class="toctext">KWin и композит</span></a></li>
<li class="toclevel-2 tocsection-46">
<a href="#%D0%A7%D0%B5%D1%80%D0%BD%D1%8B%D0%B9_%D1%8D%D0%BA%D1%80%D0%B0%D0%BD_%D1%81_%D0%BF%D0%BE%D0%BB%D0%BD%D1%8B%D0%BC_%D0%B7%D0%B0%D0%B2%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5%D0%BC_%D0%B8/%D0%B8%D0%BB%D0%B8_%D0%BF%D1%80%D0%B8%D1%82%D0%BE%D1%80%D0%BC%D0%B0%D0%B6%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F_%D0%BF%D0%BE%D1%81%D0%BB%D0%B5_%D0%BF%D0%B5%D1%80%D0%B5%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B8_%D0%B8%D0%BB%D0%B8_startx"><span class="tocnumber">6.7</span> <span class="toctext">Черный экран с полным зависанием и/или притормаживания после перезагрузки или startx</span></a>
<ul>
<li class="toclevel-3 tocsection-47"><a href="#%D0%9D%D0%B5%D0%B8%D1%81%D0%BF%D1%80%D0%B0%D0%B2%D0%BD%D1%8B%D0%B5_%D0%B2%D1%8B%D0%B7%D0%BE%D0%B2%D1%8B_ACPI"><span class="tocnumber">6.7.1</span> <span class="toctext">Неисправные вызовы ACPI</span></a></li>
<li class="toclevel-3 tocsection-48"><a href="#%D0%9D%D0%B5%D0%BF%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%B8%D0%B2%D0%B0%D0%B5%D0%BC%D1%8B%D0%B5_%D0%B2%D0%B5%D1%80%D1%81%D0%B8%D0%B8_%D1%8F%D0%B4%D1%80%D0%B0_Linux"><span class="tocnumber">6.7.2</span> <span class="toctext">Неподдерживаемые версии ядра Linux</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-49"><a href="#KDM_%D0%B8%D1%81%D1%87%D0%B5%D0%B7%D0%B0%D0%B5%D1%82_%D0%BF%D0%BE%D1%81%D0%BB%D0%B5_%D0%B2%D1%8B%D1%85%D0%BE%D0%B4%D0%B0_%D0%B8%D0%B7_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B"><span class="tocnumber">6.8</span> <span class="toctext">KDM исчезает после выхода из системы</span></a></li>
<li class="toclevel-2 tocsection-50"><a href="#%D0%9D%D0%B5_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B5%D1%82_Direct_Rendering"><span class="tocnumber">6.9</span> <span class="toctext">Не работает Direct Rendering</span></a></li>
<li class="toclevel-2 tocsection-51">
<a href="#%D0%9F%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B_%D1%81_%D0%B3%D0%B8%D0%B1%D0%B5%D1%80%D0%BD%D0%B0%D1%86%D0%B8%D0%B5%D0%B9/%D1%81%D0%BD%D0%BE%D0%BC"><span class="tocnumber">6.10</span> <span class="toctext">Проблемы с гибернацией/сном</span></a>
<ul>
<li class="toclevel-3 tocsection-52"><a href="#%D0%92%D0%B8%D0%B4%D0%B5%D0%BE_%D0%BD%D0%B5_%D0%B2%D0%BE%D0%B7%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%BB%D1%8F%D0%B5%D1%82%D1%81%D1%8F_%D0%B8%D0%B7_suspend2ram"><span class="tocnumber">6.10.1</span> <span class="toctext">Видео не возобновляется из suspend2ram</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-53"><a href="#%D0%A1%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0_%D0%9F%D1%80%D0%B8%D1%82%D0%BE%D1%80%D0%BC%D0%B0%D0%B6%D0%B8%D0%B2%D0%B0%D0%B5%D1%82/%D0%A1%D0%B8%D0%BB%D1%8C%D0%BD%D0%BE_%D0%B7%D0%B0%D0%B2%D0%B8%D1%81%D0%B0%D0%B5%D1%82"><span class="tocnumber">6.11</span> <span class="toctext">Система Притормаживает/Сильно зависает</span></a></li>
<li class="toclevel-2 tocsection-54"><a href="#%D0%9A%D0%BE%D0%BD%D1%84%D0%BB%D0%B8%D0%BA%D1%82%D1%8B_%D0%BE%D0%B1%D0%BE%D1%80%D1%83%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F"><span class="tocnumber">6.12</span> <span class="toctext">Конфликты оборудования</span></a></li>
<li class="toclevel-2 tocsection-55"><a href="#%D0%92%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D0%B7%D0%B0%D0%B2%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D1%8F_%D0%BF%D1%80%D0%B8_%D0%B2%D0%BE%D1%81%D0%BF%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B8_%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE"><span class="tocnumber">6.13</span> <span class="toctext">Временные зависания при воспроизведении видео</span></a></li>
<li class="toclevel-2 tocsection-56"><a href="#%22aticonfig:_No_supported_adapters_detected%22"><span class="tocnumber">6.14</span> <span class="toctext">"aticonfig: No supported adapters detected"</span></a></li>
<li class="toclevel-2 tocsection-57"><a href="#%D0%9F%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%BA%D0%B0_WebGL_%D0%B2_chromium"><span class="tocnumber">6.15</span> <span class="toctext">Поддержка WebGL в chromium</span></a></li>
<li class="toclevel-2 tocsection-58"><a href="#%D0%97%D0%B0%D0%B4%D0%B5%D1%80%D0%B6%D0%BA%D0%B8/%D0%BF%D0%BE%D0%B4%D1%82%D0%BE%D1%80%D0%BC%D0%B0%D0%B6%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F_%D0%BF%D1%80%D0%BE%D1%81%D0%BC%D0%B0%D1%82%D1%80%D0%B8%D0%B2%D0%B0%D1%8F_flash_%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE_%D1%87%D0%B5%D1%80%D0%B5%D0%B7_Adobe's_flashplugin"><span class="tocnumber">6.16</span> <span class="toctext">Задержки/подтормаживания просматривая flash видео через Adobe's flashplugin</span></a></li>
<li class="toclevel-2 tocsection-59"><a href="#%D0%97%D0%B0%D0%B4%D0%B5%D1%80%D0%B6%D0%BA%D0%B8/%D0%BC%D0%B5%D0%B4%D0%BB%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D1%89%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BE%D0%BA%D0%BE%D0%BD_%D0%B2_GNOME3"><span class="tocnumber">6.17</span> <span class="toctext">Задержки/медленные перемещения окон в GNOME3</span></a></li>
<li class="toclevel-2 tocsection-60"><a href="#Not_using_full_screen_resolution_at_1920x1080_(underscanning,_black_borders_around_the_screen)"><span class="tocnumber">6.18</span> <span class="toctext">Not using full screen resolution at 1920x1080 (underscanning, black borders around the screen)</span></a></li>
<li class="toclevel-2 tocsection-61"><a href="#Dual_Screen_Setup:_general_problems_with_acceleration,_OpenGL,_compositing,_performance"><span class="tocnumber">6.19</span> <span class="toctext">Dual Screen Setup: general problems with acceleration, OpenGL, compositing, performance</span></a></li>
<li class="toclevel-2 tocsection-62"><a href="#Disabling_VariBright_feature"><span class="tocnumber">6.20</span> <span class="toctext">Disabling VariBright feature</span></a></li>
<li class="toclevel-2 tocsection-63"><a href="#Hybrid/PowerXpress:_turning_off_discrete_GPU"><span class="tocnumber">6.21</span> <span class="toctext">Hybrid/PowerXpress: turning off discrete GPU</span></a></li>
<li class="toclevel-2 tocsection-64"><a href="#Switching_from_X_session_to_TTYs_gives_a_blank_screen/low_resolution_TTY"><span class="tocnumber">6.22</span> <span class="toctext">Switching from X session to TTYs gives a blank screen/low resolution TTY</span></a></li>
<li class="toclevel-2 tocsection-65"><a href="#Switching_from_X_session_to_TTYs_gives_a_black_screen_with_the_monitor_backlight_on"><span class="tocnumber">6.23</span> <span class="toctext">Switching from X session to TTYs gives a black screen with the monitor backlight on</span></a></li>
<li class="toclevel-2 tocsection-66"><a href="#Switching_to_TTYs_then_back_to_X_session_gives_a_black_screen_with_a_mouse_cursor"><span class="tocnumber">6.24</span> <span class="toctext">Switching to TTYs then back to X session gives a black screen with a mouse cursor</span></a></li>
<li class="toclevel-2 tocsection-67"><a href="#30_FPS_/_Tear-Free_/_V-Sync_bug"><span class="tocnumber">6.25</span> <span class="toctext">30 FPS / Tear-Free / V-Sync bug</span></a></li>
<li class="toclevel-2 tocsection-68"><a href="#Backlight_adjustment_does_not_work"><span class="tocnumber">6.26</span> <span class="toctext">Backlight adjustment does not work</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-69"><a href="#See_also"><span class="tocnumber">7</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0"></span><span class="mw-headline" id="Установка">Установка</span>
</h2>
<p>Существует три способа установки Catalyst. Первый - использование репозитория <a rel="nofollow" class="external text" href="https://aur.archlinux.org/account/Vi0l0/">Vi0L0</a> (неофицального мейнтейнера Catalyst в Arch). Этот репозиторий содержит все необходимые пакеты. Второй - использование AUR; PKGBUILD'ы, которые сделал Vi0L0 идентичны тем, которые используются в его репозитории. Третий - скачивание драйвера с сайта AMD.
</p>
<p>Прежде чем выбрать понравившийся способ, нужно узнать какой драйвер вам нужен. Начиная с Catalyst 12.4, AMD отделила разработку драйвера для видеокарт Radeon HD 2xxx, 3xxx и 4xxx версий в отдельный драйвер, который называется Catalyst <b>legacy</b>. Для видеокарт Radeon HD 5xxx и новее, подойдет обычный драйвер Catalyst. В независимости от выбранного драйвера, вам нужно установить утилиты Catalyst.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> После установки драйвера выбранным способом, вы найдете общие указания, которые должен выполнить <b>каждый</b>, в независимости от выбранного способа.</div>
<h3>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B4.D1.80.D0.B0.D0.B9.D0.B2.D0.B5.D1.80.D0.B0"></span><span class="mw-headline" id="Установка_драйвера">Установка драйвера</span>
</h3>
<h4>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B8.D0.B7_.D0.BD.D0.B5.D0.BE.D1.84.D0.B8.D1.86.D0.B8.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE.D0.B3.D0.BE_.D1.80.D0.B5.D0.BF.D0.BE.D0.B7.D0.B8.D1.82.D0.BE.D1.80.D0.B8.D1.8F"></span><span class="mw-headline" id="Установка_из_неофициального_репозитория">Установка из неофициального репозитория</span>
</h4>
<p>Если вам не по душе собирать пакеты из <a href="/title/Arch_User_Repository_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Arch User Repository (Русский)">AUR</a>, то этот способ для вас. Репозиторий сопровождается неофициальным мейнтейнером Catalyst, <a href="/title/User:Vi0L0" title="User:Vi0L0">Vi0l0</a>. Все пакеты подписаны и считаются безопасными для использования. Как вы позже увидите в этой статье, Vi0L0 ответственен за многие другие пакеты, которые помогают вашей системе работать с видеокартой ATI. 
</p>
<p>У Vi0L0 есть три репозитория Catalyst, каждый из которых содержит уникальный драйвер:
</p>
<ul>
<li>
<a href="/title/Unofficial_user_repositories#catalyst" title="Unofficial user repositories">catalyst</a> - репозиторий с последними (стабильными и бета) выпусками Catalyst для видеокарт Radeon HD 5xxx и выше.</li>
<li>
<i>catalyst-stable</i> - репозиторий со стабильными выпусками Catalyst для видеокарт Radeon HD 5xxx и выше.</li>
<li>
<a href="/title/Unofficial_user_repositories#catalyst-hd234k" title="Unofficial user repositories">catalyst-hd234k</a> - репозиторий с драйвером Catalyst legacy для видеокарт Radeon HD 2xxx, 3xxx и 4xxx.</li>
</ul>
<p>Чтобы добавить один из репозиториев следуйте инструкциям в этой <a href="/title/Unofficial_user_repositories" title="Unofficial user repositories">статье</a>. Добавьте выбранный репозиторий <b>выше всех других репозиториев</b> в <code>pacman.conf</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Репозитории <i>catalyst</i> и <i>catalyst-stable</i> предоставляют один и тот же URL. Чтобы включить <i>catalyst-stable</i>, следуйте тем же инструкциям, что и для <i>catalyst</i>, но замените <code>[catalyst]</code> на <code>[catalyst-stable]</code> в <code>pacman.conf</code>. Если вам нужно придерживаться старой версии, есть несколько репозиториев, которые используют один и тот же URL (например, <i>catalyst-stable-13.4</i>).</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> 
<ul><li>Драйвер Catalyst legacy не поддерживает Xorg 1.17. Если вы хотите использовать этот драйвер, смотрите <a href="#%D0%A0%D0%B5%D0%BF%D0%BE%D0%B7%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%B8_Xorg">#Репозитории Xorg</a> для получения инструкций о том, как сделать откат Xorg на версию 1.16.</li></ul>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Так как catalyst.wirephire.com будет выключаться при превышении определенного предела пропускной способности (это случалось в прошлом) или может быть слишком медленным для вашего местоположения, зеркало для этого репозитория сделал rtsinformatique и оно находится по ссылке <a rel="nofollow" class="external autonumber" href="http://mirror.rts-informatique.fr/archlinux-catalyst/">[1]</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-08-02]</sup> (Франция), так же другое зеркало <a rel="nofollow" class="external autonumber" href="http://mirror.hactar.bz/Vi0L0/">[2]</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-08-02]</sup> (Германия). Эти зеркала предоставляются без гарантий. Раскомментируйте строку с зеркалом, которое ближе всего к вам. Хорошая идея - держать альтернативу в случае отказа одного зеркала.
<p>Использование зеркала для репозитория можно легко добиться с помощью <code>rsync://mirror.rts-informatique.fr::archlinux-catalyst</code>.
</p>
</div>
<p>После добавления репозитория Catalyst, обновите базу данных pacman и <a href="/title/Pacman_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Pacman (Русский)">установите</a> эти пакеты (смотрите <a href="#%D0%98%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B">#Инструменты</a> для большей информации):
</p>
<ul>
<li><i>catalyst-hook</i></li>
<li><i>catalyst-utils</i></li>
<li><i>catalyst-libgl</i></li>
<li>
<i>opencl-catalyst</i> - необязательный, нужен для поддержки OpenCL</li>
<li>
<i>lib32-catalyst-utils</i> - необязательный, нужен для поддержки 32-битного OpenGL на 64-битных системах</li>
<li>
<i>lib32-catalyst-libgl</i> - необязательный, нужен для поддержки 32-битного OpenGL на 64-битных системах</li>
<li>
<i>lib32-opencl-catalyst</i> - необязательный, нужен для поддержки 32-битного OpenCL на 64-битных системах</li>
</ul>
<p>Если вы используете ноутбук с гибридной графикой Intel/AMD, набор пакетов будет немного отличаться:
</p>
<ul>
<li><i>catalyst-hook</i></li>
<li><i>catalyst-utils-pxp</i></li>
<li>
<i>lib32-catalyst-utils-pxp</i> - необязательный, нужен для поддержки 32-битного OpenGL на 64-битных системах</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Если pacman спросит вас про удаление <b>libgl</b>, вы можете смело соглашаться.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Пакет catalyst был удален из репозитория Vi0L0, его место занял catalyst-hook.</div>
<h4>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B8.D0.B7_AUR"></span><span class="mw-headline" id="Установка_из_AUR">Установка из AUR</span>
</h4>
<p>Второй способ заключается в установке Catalyst из <a href="/title/AUR" class="mw-redirect" title="AUR">AUR</a>. Если вы хотите собрать пакеты конкретно для вашего компьютера, то этот способ для вас. Обратите внимание, что это также и самый утомительный способ установки Catalyst; он требует больше всего работы, а также требует обновления вручную при каждом обновлении ядра.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Если вы установили пакет Catalyst из AUR, вам нужно будет пересобирать Catalyst после каждого обновления ядра. Иначе, X сервер <b>не</b> запустится.</div>
<p>Все пакеты, которые сопровождает Vi0L0 в неофициальном репозитории доступны в <a href="/title/Arch_User_Repository_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Arch User Repository (Русский)">AUR</a>:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst/">catalyst</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst-generator/">catalyst-generator</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst-hook/">catalyst-hook</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst-utils/">catalyst-utils</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lib32-catalyst-utils/">lib32-catalyst-utils</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>
</li>
</ul>
<p>Также, AUR содержит пакеты, которых <b>нет</b> в других репозиториях. Эти пакеты содержат так называемые <i>Catalyst-total</i> пакеты и бета версии:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst-total/">catalyst-total</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst-total-pxp/">catalyst-total-pxp</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst-total-hd234k/">catalyst-total-hd234k</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst-test/">catalyst-test</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>
</li>
</ul>
<p>Пакеты <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst-total/">catalyst-total</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup> создаются чтобы облегчить жизнь пользователям AUR. Они обеспечивают построение драйвера, утилит и 32-битных утилит. Также они собирают пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst-hook/">catalyst-hook</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>, который описан в разделе <a href="#%D0%98%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B">#Инструменты</a>.
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst-total-pxp/">catalyst-total-pxp</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup> собирает Catalyst с экспериментальной поддержкой powerXpress.
</p>
<h3>
<span id=".D0.9A.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F_.D0.B4.D1.80.D0.B0.D0.B9.D0.B2.D0.B5.D1.80.D0.B0"></span><span class="mw-headline" id="Конфигурация_драйвера">Конфигурация драйвера</span>
</h3>
<p>После того, как вы установили драйвер выбранным способом, вам нужно настроить X для работы с Catalyst. Также, вам придется убедиться, что модуль загружается при запуске. И еще, вы должны выключить <a href="/title/Kernel_mode_setting" title="Kernel mode setting">kernel mode setting</a>.
</p>
<h4>
<span id=".D0.9A.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F_X"></span><span class="mw-headline" id="Конфигурация_X">Конфигурация X</span>
</h4>
<p>Чтобы настроить X, вам нужно создать файл <code>xorg.conf</code>. Catalyst предоставляет свой собственный инструмент <code>aticonfig</code> для создания и/или изменения этого файла.
</p>
<p>Он также может настроить практически каждый аспект видеокарты, он также получает доступ к файлу <code>/etc/ati/amdpcsdb</code>. Для получения полного списка параметров <code>aticonfig</code>, запустите:
</p>
<pre># aticonfig --help | less
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Используйте параметр <code>--output</code> прежде чем совершать изменения в <code>/etc/X11/</code>, также как и в файле <code>xorg.conf</code>, инструмент перезапишет все в <code>/etc/X11/xorg.conf.d/</code>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Чтобы использовать новое местоположение файла конфигурации используйте <code># aticonfig [...] --output</code>, чтобы адаптировать раздел <code>Device</code> в <code>/etc/X11/xorg.conf.d/20-radeon.conf</code>. Недостатком является то, что многие опции <code>aticonfig</code> зависят от <code>xorg.conf</code> и будут недоступны.</div>
<p>Теперь, настроим Catalyst. Если у вас только один монитор, запустите:
</p>
<pre># aticonfig --initial
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong>  Если у вас проблемы с PowerXpress, вам, вероятно, нужно установить <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst-total-pxp/">catalyst-total-pxp</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>.</div>
<p>Если у вас два монитора и вы хотите использовать их оба, вы можете запустить команду ниже. Обратите внимание на то, что инструмент сгенерирует файл конфигурации, где второй экран выше первого экрана.
</p>
<pre># aticonfig --initial=dual-head --screen-layout=above
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Смотрите <a href="#%D0%94%D0%B2%D0%B0_%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0_(Dual_Head_/_Dual_Screen_/_Xinerama)">#Два экрана (Dual Head / Dual Screen / Xinerama)</a> для получения дополнительной информации по настройке двух экранов.</div>
<p>Вы можете сравнить сгенерированный файл с <a href="/title/Xorg_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2_xorg.conf" title="Xorg (Русский)">примером xorg.conf</a><sup>[<a href="/title/Help:Procedures#Fix_broken_section_links" title="Help:Procedures">ссылка недействительна</a>: раздел не найден]</sup>.
</p>
<p>Хотя текущие версии Xorg автоматически обнаруживают большинство параметров при запуске, вы можете указать некоторые параметры по умолчанию в случае изменения между версиями.
</p>
<p>Вот пример (с заметками) <i> 'для справки' </i>. Записи с <code>#</code> должны присутствовать в файле, записи с <code>##</code> добавляйте по необходимости:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "ServerLayout"
        Identifier     "Arch"
        Screen      0  "Screen0" 0 0          # 0 обязателен.
EndSection
Section "Module"
        Load [...]
        [...]
EndSection
Section "Monitor"
        Identifier   "Monitor0"
        [...]
EndSection
Section "Device"
        Identifier  "Card0"
        Driver      "fglrx"                         # Необходимо.
        BusID       "PCI:1:0:0"                     # Рекомендуется, если не получается автоопределить.
        Option      "OpenGLOverlay" "0"             ##
        Option      "XAANoOffscreenPixmaps" "false" ##
EndSection
Section "Screen"
        Identifier "Screen0"
        Device     "Card0"
        Monitor    "Monitor0"
        DefaultDepth    24
        SubSection "Display"
                Viewport   0 0
                Depth     24                        # Не должно быть отличным от '24'
                Modes "1280x1024" "2048x1536"       ## Первое значение=разрешение по умолчанию, второе=максимальное.
                Virtual 1664 1200                   ## (x+64, y) для обхода прямоугольников OGL. артефакты/
        EndSubSection                               ## исправлено в Catalyst 9.8
EndSection
Section "DRI"
        Mode 0666                                   # Может помочь включить direct rendering.
EndSection</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> C <b>каждым</b> обновлением Catalyst этим способом вы должны удалять файл <code>amdpcsdb</code>: убейте X, удалите <code>/etc/ati/amdpcsdb</code>, запустите X и запустите<code>amdcccle</code> - иначе, версия Catalyst может не правильно отображаться в<code>amdcccle</code>.</div>
<p><i>Если вам нужна дополнительная информация о Catalyst, посетите <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=57084">эту тему</a>.</i>
</p>
<h4>
<span id=".D0.97.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B0_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D1.8F_.D0.BF.D1.80.D0.B8_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.B5"></span><span class="mw-headline" id="Загрузка_модуля_при_загрузе">Загрузка модуля при загрузе</span>
</h4>
<p>Мы должны запретить загрузку модуля <code>radeon</code>. Для этого, добавьте <i>radeon</i> в <code>/etc/modprobe.d/modprobe.conf</code>. Также, убедитесь, что он не загружается каким - либо файлом в <code>/etc/modules-load.d/</code>. Для большей информации, смотрите <a href="/title/Kernel_modules_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#%D0%97%D0%B0%D0%BF%D1%80%D0%B5%D1%82_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B8" class="mw-redirect" title="Kernel modules (Русский)">kernel modules#Запрет загрузки</a>. 
</p>
<p>Далее, мы должны убедиться, что модуль <code>fglrx</code> автоматически загружается. Также добавьте <code>fglrx</code> в существующий файл модуля в <code>/etc/modules-load.d/</code> или создайте новый файл и добавьте туда <code>fglrx</code>.
</p>
<h4>
<span id=".D0.9E.D1.82.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_kernel_mode_setting"></span><span class="mw-headline" id="Отключение_kernel_mode_setting">Отключение kernel mode setting</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Не отключайте kernel mode setting если вы используете <code>catalyst-utils-pxp</code> или <code>catalyst-total-pxp</code>, так как драйвер intel использует это.</div>
<p>Важно отключить kernel mode setting, так как драйвер не использует преимущества <a href="/title/KMS" class="mw-redirect" title="KMS">KMS</a>. Если вы не отключите KMS, ваша система может зависнуть при попытке переключиться в TTY или даже при выключении через среду рабочего стола.
</p>
<p>Чтобы выключить kernel mode setting, добавьте <code>nomodeset</code> в <a href="/title/%D0%9F%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D1%8B_%D1%8F%D0%B4%D1%80%D0%B0" class="mw-redirect" title="Параметры ядра">параметры ядра</a>.
</p>
<h4>
<span id=".D0.9F.D1.80.D0.BE.D0.B2.D0.B5.D1.80.D0.BA.D0.B0_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D0.BE.D1.81.D0.BF.D0.BE.D1.81.D0.BE.D0.B1.D0.BD.D0.BE.D1.81.D1.82.D0.B8"></span><span class="mw-headline" id="Проверка_работоспособности">Проверка работоспособности</span>
</h4>
<p>Предполагая, что перезагрузка и вход в систему прошли успешно, вы можете проверить, что fglrx работает правильно:
</p>
<pre>$ lsmod | grep fglrx
$ fglrxinfo
</pre>
<p>Если вы получаете сообщения, он работает. Наконец, запустим X при помощи <code>startx</code> или используя GDM/KDM и проверим, что direct rendering включен:
</p>
<pre>$ glxinfo | grep "direct rendering"
</pre>
<p>Если ответ <code>"direct rendering: yes"</code>, то это хорошо! Если команда <code>$ glxinfo</code> не найдена, установите пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mesa-demos">mesa-demos</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Вы также можете использовать:
<pre>$ fgl_glxgears
</pre>
<p>как альтернативу <code>glxgears</code>.
</p>
</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> В последних версиях Xorg, пути к библиотекам поменялись. Поэтому, иногда <code>libGL.so</code> не может быть правильно загружена, даже если она установлена. Проверьте это, если GL не работает. Читайте подробности в разделе <a href="#%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC">#Решение проблем</a>.</div>
<h3>
<span id=".D0.9F.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8C.D1.81.D0.BA.D0.B8.D0.B5_.D1.8F.D0.B4.D1.80.D0.B0"></span><span class="mw-headline" id="Пользовательские_ядра">Пользовательские ядра</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Если вам неудобно или вы не умеете собирать пакеты, прочитайте статью <a href="/title/Arch_Build_System_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Arch Build System (Русский)">ABS</a>.</div>
<p>Чтобы установить catalyst с пользовательским ядром, вам нужно собрать свой собственный пакет <code>catalyst-$kernel</code>:
</p>
<ol>
<li>Возьмите файлы <code>PKGBUILD</code> и <code>catalyst.install</code> из <a href="/title/AUR" class="mw-redirect" title="AUR">Catalyst</a>.</li>
<li>Отредактируйте PKGBUILD. Нужно сделать два изменения:
<ol>
<li>Измените <code>pkgname=catalyst</code> на <code>pkgname=catalyst-$название_ядра</code>, где <code>$название_ядра</code> это то, что вы хотите (например, пользовательское, мм, самоекрутоеядро).</li>
<li>Измените зависимости <code>linux</code> на <code>$название_ядра</code>.</li>
</ol>
</li>
<li>Соберите и установите этот пакет; запустите <code>makepkg -i</code> или <code>makepkg</code>, затем <code># pacman -U имяпакета.pkg.tar.gz</code>
</li>
</ol>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> 
<ul>
<li>Если вы запускаете несколько ядер, вам нужно установить пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst-utils/">catalyst-utils</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup> для всех ядер. Они не конфликтуют друг с другом.</li>
<li>Утилита <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst-generator/">catalyst-generator</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup> в состоянии собрать пакеты <code>catalyst-{версия_ядра}</code> для вас и вам ненужно проделывать все самостоятельно. Для большей информации, смотрите <a href="#%D0%98%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B">раздел инструменты</a>.</li>
</ul>
</div>
<h3>
<span id=".D0.9F.D0.BE.D0.B4.D0.B4.D0.B5.D1.80.D0.B6.D0.BA.D0.B0_PowerXpress"></span><span class="mw-headline" id="Поддержка_PowerXpress">Поддержка PowerXpress</span>
</h3>
<p>Технология PowerXpress позволяет ноутбуку с двумя видеокартами переключаться из интегрированной графики (ИГП) на дискретную и обратно, для того чтобы достигнуть долгой автономной работы или более лучшей 3D визуализации.
</p>
<p>Чтобы использовать эту технологию в Arch, вам придется:
</p>
<ul>
<li>Скачать и собрать пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst-total/">catalyst-total</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup> / <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst-test/">catalyst-test</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup> из <a href="/title/Arch_User_Repository_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Arch User Repository (Русский)">AUR</a> или</li>
<li>Установить пакеты <b>catalyst-libgl</b> и <b>catalyst-utils</b> из репозитория [catalyst] (если требуется, установите lib32-catalyst-utils-pxp).</li>
</ul>
<p>Чтобы переключиться на ИГП Intel, вам нужно установить пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mesa">mesa</a></span> и драйвер Intel: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-intel">xf86-video-intel</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Иногда у catalyst появляются проблемы с новейшими драйверами intel. Если это происходит, понизьте версию пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-intel">xf86-video-intel</a></span> на предыдущую версию найденную в <a href="/title/Arch_Linux_Archive" title="Arch Linux Archive">архиве Arch Linux</a> или даже в архиве <a href="#%D0%A0%D0%B5%D0%BF%D0%BE%D0%B7%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%B8_Xorg">репозиториев Xorg</a> вместе с пакетом (пакетами) xorg-server.</div>
<p>Вы можете переключаться между встроенным графическим процессором и дискретным, используя следующие команды:
</p>
<pre># aticonfig --px-igpu    #для встроенного графического процессора
# aticonfig --px-dgpu    #для дискретного графического процессора</pre>
<p>Просто запомните, что fglrx требует сконфигурированный <code>/etc/X11/xorg.conf</code> для видеокарты AMD c fglrx.
</p>
<p>Вы можете использовать скрипт <code>pxp_switch_catalyst</code>, который позволит выполнять некоторые полезные операции:
</p>
<ul>
<li>Переключение - переименовывает <code>xorg.conf</code> в <code>xorg.conf.cat</code> (если fglrx внутри) или <code>xorg.conf.oth</code> (если intel внутри) и тогда создает символическую ссылку на <code>xorg.conf</code>, в зависимости от вашего выбора.</li>
<li>Запуск <code>aticonfig --px-Xgpu</code>.</li>
<li>Запуск <code>switchlibGL</code>.</li>
<li>Добавление/удаление <code>fglrx</code> в/из <code>/etc/modules-load.d/catalyst.conf</code>.</li>
</ul>
<p>Использование:
</p>
<pre># pxp_switch_catalyst amd
# pxp_switch_catalyst intel</pre>
<p>Если у вас проблемы при запуске X на драйвере Intel, вы можете попробовать принудительно использовать ускорение "UXA". Просто убедитесь, что у вас есть строка <code>Option "AccelMethod" "uxa"</code> в <code>xorg.conf</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "Device"
        Identifier  "Intel Graphics"
        Driver      "intel"
        #Option      "AccelMethod"  "sna"
        <b>Option      "AccelMethod"  "uxa"</b>
        #Option      "AccelMethod"  "xaa"
EndSection</pre>
<h4>
<span id=".D0.97.D0.B0.D0.BF.D1.83.D1.81.D0.BA_.D0.B4.D0.B2.D1.83.D1.85_X_.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80.D0.BE.D0.B2_.28.D0.BE.D0.B4.D0.B8.D0.BD_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D1.83.D1.8E.D1.89.D0.B8.D0.B9_.D0.B4.D1.80.D0.B0.D0.B9.D0.B2.D0.B5.D1.80_Intel.2C_.D0.B4.D1.80.D1.83.D0.B3.D0.BE.D0.B9_fglrx.29_.D0.BE.D0.B4.D0.BD.D0.BE.D0.B2.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.BD.D0.BE"></span><span class="mw-headline" id="Запуск_двух_X_серверов_(один_использующий_драйвер_Intel,_другой_fglrx)_одновременно">Запуск двух X серверов (один использующий драйвер Intel, другой fglrx) одновременно</span>
</h4>
<p>Так как fglrx склонен к падениям (относительно PowerXpress), это может быть хорошей идеей, использовать драйвер Intel на основном сервере X, а fglrx на дополнительном, когда понадобится 3D-ускорение. Однако, простое переключение на дискретный графический процессор с встроенного графического процессора используя <code>aticonfig</code> или <code>amdcccle</code> вызовет ошибки разного рода при запуске второго X.
</p>
<p>Чтобы запустить два X сервера в одно время (каждый с разным драйвером), вы должны настроить полностью рабочий X с Catalyst и затем переместить {[ic|xorg.conf}} во временное место (например, <code>/etc/X11/xorg.conf.fglrx</code>). В следующий раз, когда X запустится, он будет по умолчанию использовать драйвер Intel вместо fglrx.
</p>
<p>Чтобы запустить второй X сервер использующий fglrx, просто переместите <code>xorg.conf</code> назад в правильное место (<code>/etc/X11/xorg.conf</code>) перед запуском X. Этот метод позволяет вам переключаться между запущенными сессиями X. Когда вы закончили использовать fglrx, снова переместите <code>xorg.conf</code> в другое место.
</p>
<p>Единственный недостаток этого метода в том, что у вас не будет 3D-ускорения используя драйвер Intel. 2D-ускорение полностью функционирует. Кроме того, это обеспечит нас полностью стабильным рабочим столом.
</p>
<h4>
<span id=".D0.9F.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D1.8B_.D1.81_PowerXpress_.D0.BD.D0.B0_.D0.BD.D0.BE.D1.83.D1.82.D0.B1.D1.83.D0.BA.D0.B5_.D0.B7.D0.B0.D0.BF.D1.83.D1.89.D0.B5.D0.BD.D0.BD.D1.8B.D0.B9_.D0.B2_.D1.80.D0.B5.D0.B6.D0.B8.D0.BC.D0.B5_AMD_.28pxp_switch_catalyst_amd.29_.D1.81_.D0.B2.D0.BD.D0.B5.D1.88.D0.BD.D0.B8.D0.BC_.2F_.D0.B2.D1.82.D0.BE.D1.80.D1.8B.D0.BC_.D0.BC.D0.BE.D0.BD.D0.B8.D1.82.D0.BE.D1.80.D0.BE.D0.BC"></span><span class="mw-headline" id="Проблемы_с_PowerXpress_на_ноутбуке_запущенный_в_режиме_AMD_(pxp_switch_catalyst_amd)_с_внешним_/_вторым_монитором">Проблемы с PowerXpress на ноутбуке запущенный в режиме AMD (pxp_switch_catalyst amd) с внешним / вторым монитором</span>
</h4>
<p>Используя PowerXpress на ноутбуке в режиме AMD-только (т.е., дискретная видеокарта все визуализирует), иногда, вы можете столкнуться с артефактами/дублированием между дисплеями. Это известная проблема, и, кажется, она характера для видеокарт 7xxxM серии.
</p>
<p>Артефакты исчезнут когда вы преобразуете один из мониторов при помощи поворота или масштабирования. Вы можете использовать xrand:
</p>
<pre>xrandr --output HDMI1 --left-of LVDS1 --primary --scale 1x1 --output LVDS1 --scale 1.0001x1.0001</pre>
<h2>
<span id=".D0.A0.D0.B5.D0.BF.D0.BE.D0.B7.D0.B8.D1.82.D0.BE.D1.80.D0.B8.D0.B8_Xorg"></span><span class="mw-headline" id="Репозитории_Xorg">Репозитории Xorg</span>
</h2>
<p>Catalyst славится своим медленным обновлением. Поэтому новые версии Xorg несовместимы с Catalyst. Это значит, что вам нужно собрать свои пакеты Xorg или использовать репозиторий. Vi0L0 занялся этой задачей и сделал несколько репозиториев.
</p>
<p>Чтобы включить один из репозиториев, следуйте инструкциям в <a href="/title/Unofficial_user_repositories" title="Unofficial user repositories">Unofficial user repositories</a> (используйте тот же PGP ключ для репозитория <a href="/title/Unofficial_user_repositories#catalyst" title="Unofficial user repositories">catalyst</a>). Не забудьте добавит выбранный репозиторий <b>выше других репозиториев</b> в <code>pacman.conf</code>, даже выше репозитория <i>catalyst</i>.
</p>
<h3><span class="mw-headline" id="xorg118">xorg118</span></h3>
<p><a href="/title/AMDGPU_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" class="mw-redirect" title="AMDGPU (Русский)">amdgpu-pro</a> (драйвер, которым AMD в настоящий момент заменяет catalyst для своих новых видеокарт) не работает с xorg 1.19
</p>
<pre>[xorg118]
Server = http://mirror.hactar.xyz/Vi0L0/xorg118/$arch
</pre>
<h3><span class="mw-headline" id="xorg117">xorg117</span></h3>
<p>Catalyst не поддерживает xorg-server 1.18
</p>
<pre>[xorg117]
Server = http://catalyst.wirephire.com/repo/xorg117/$arch
## Зеркала, если основной сервер не работает или работает, но слишком медленно:
#Server = http://mirror.rts-informatique.fr/archlinux-catalyst/repo/xorg117/$arch
#Server = http://mirror.hactar.bz/Vi0L0/xorg117/$arch
</pre>
<h3><span class="mw-headline" id="xorg116">xorg116</span></h3>
<p>Catalyst &lt; 15.7 не поддерживает xorg-server 1.17
</p>
<pre>[xorg116]
Server = http://catalyst.wirephire.com/repo/xorg116/$arch
## Зеркала, если основной сервер не работает или работает, но слишком медленно:
#Server = http://mirror.rts-informatique.fr/archlinux-catalyst/repo/xorg116/$arch
#Server = http://mirror.hactar.bz/Vi0L0/xorg116/$arch
</pre>
<h3><span class="mw-headline" id="xorg115">xorg115</span></h3>
<p>Catalyst &lt; 14.9 не поддерживает xorg-server 1.16
</p>
<pre>[xorg115]
Server = http://catalyst.wirephire.com/repo/xorg115/$arch
## Зеркала, если основной сервер не работает или работает, но слишком медленно:
#Server = http://mirror.rts-informatique.fr/archlinux-catalyst/repo/xorg115/$arch
#Server = http://mirror.hactar.bz/Vi0L0/xorg115/$arch
</pre>
<h3><span class="mw-headline" id="xorg114">xorg114</span></h3>
<p>Catalyst &lt; 14.1 does not support xorg-server 1.15.
</p>
<pre>[xorg114]
Server = http://catalyst.wirephire.com/repo/xorg114/$arch
## Mirrors, if the primary server does not work or is too slow:
#Server = http://mirror.rts-informatique.fr/archlinux-catalyst/repo/xorg114/$arch
#Server = http://mirror.hactar.bz/Vi0L0/xorg114/$arch
</pre>
<h3><span class="mw-headline" id="xorg113">xorg113</span></h3>
<p>Catalyst &lt; 13.6 не поддерживает xorg-server 1.14.
</p>
<pre>[xorg113]
Server = http://catalyst.wirephire.com/repo/xorg113/$arch
## Зеркала, если основной сервер не работает или работает, но слишком медленно:
#Server = http://mirror.rts-informatique.fr/archlinux-catalyst/repo/xorg113/$arch
#Server = http://mirror.hactar.bz/Vi0L0/xorg113/$arch
</pre>
<h3><span class="mw-headline" id="xorg112">xorg112</span></h3>
<p>Catalyst &lt; 12.10 и Catalyst Legacy не поддерживают xorg-server 1.13.
</p>
<pre>[xorg112]
Server = http://catalyst.wirephire.com/repo/xorg112/$arch
## Зеркала, если основной сервер не работает или работает, но слишком медленно:
#Server = http://mirror.rts-informatique.fr/archlinux-catalyst/repo/xorg112/$arch
#Server = http://mirror.hactar.bz/Vi0L0/xorg112/$arch
</pre>
<h2>
<span id=".D0.98.D0.BD.D1.81.D1.82.D1.80.D1.83.D0.BC.D0.B5.D0.BD.D1.82.D1.8B"></span><span class="mw-headline" id="Инструменты">Инструменты</span>
</h2>
<h3><span class="mw-headline" id="Catalyst-hook">Catalyst-hook</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/Catalyst-hook/">Catalyst-hook</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup> - это сервис <a href="/title/Systemd_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Systemd (Русский)">systemd</a>, который автоматически собирает модуль <code>fglrx</code> пока система выключается или перезагружается, но только когда это нужно (например, после обновления).
</p>
<p>Перед использованием убедитесь, что группа <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/base-devel/">base-devel</a></span> и пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-headers">linux-headers</a></span> установлены.
</p>
<p>Чтобы включить автоматическое обновление, включите <code>catalyst-hook.service</code>:
</p>
<pre># systemctl enable catalyst-hook
# systemctl start catalyst-hook
</pre>
<p>Также, вы можете использовать этот пакет чтобы собственноручно собирать модуль <code>fglrx</code>. Просто запустите скрипт <code>catalyst_build_module</code> после обновления ядра:
</p>
<pre># catalyst_build_module all
</pre>
<p><b>Несколько технических деталей:</b>
</p>
<p><code>catalyst-hook.service</code> останавливает "поток" systemd и заставляет systemd ждать пока catalyst-hook завершит свою работу.
</p>
<p><code>catalyst-hook.service</code> вызывает функцию <code>catalyst_build_module check</code>, которая проверяет, что пересборка fglrx действительно нужна.
</p>
<p>Функция <code>check</code> проверяет, что модуль <code>fglrx</code> существует, если он:
</p>
<ul><li>не существует, то он будет собран;</li></ul>
<ul><li>существует, он будет сравнен с двумя значениями, чтобы удостовериться, что пересборка модуля действительно нужна.</li></ul>
<p>Этими значениями являются md5sum файла <code>/usr/lib/modules/&lt;kernel_version&gt;/build/Module.symvers</code> (потому что я, Vi0L0, заметил, что этот файл уникален и отличается для каждой версии ядра). Первое значение - это md5sum существующего файла <code>Module.symvers</code>. Второе значение - это md5sum файла <code>Module.symvers</code>, который существует на момент сборки модуля <code>fglrx</code>. Это значение было встроено при компиляции в модуль <code>fglrx</code> скриптом <code>catalyst_build_module</code>.
</p>
<p>Если значения отличаются, то будет скомпилирован новый модуль <code>fglrx</code>.
</p>
<p>Функция проверки проверяет всю директорию <code>/usr/lib/modules</code> и собирает модули для всех установленных ядер если это нужно. Если сборка или пересборка не нужна, то процесс длится всего несколько миллисекунд перед тем как он будет завершен systemd.
</p>
<h3><span class="mw-headline" id="Catalyst-generator">Catalyst-generator</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst-generator/">catalyst-generator</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup> - это пакет, который в состоянии собрать и установить модуль <code>fglrx</code> запакованный в совместимый с pacman пакет <code>catalyst-${kernver}</code>. Основное отличие от <a href="#Catalyst-hook">#Catalyst-hook</a>, это то, что вам не нужно запускать скрипты собственноручно, Catalyst-hook будет делать это все автоматически при загрузке когда новое ядро установлено.
</p>
<p>Он создает пакет <code>catalyst-${kernver}</code> используя <a href="/title/Makepkg_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Makepkg (Русский)">makepkg</a> и устанавливает их с помощью <a href="/title/Pacman_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Pacman (Русский)">pacman</a>. <code>${kernver}</code> - это версия ядра для которой собирается пакет (например, пакет catalyst-2.6.35-ARCH который будет собран для ядра 2.6.35-ARCH).
</p>
<p>Чтобы собрать и установить пакет <code>catalyst-${kernver}</code> для текущего ядра как пользователь без привилегий (пользователь не являющийся root; безопаснейший путь), используйте <code>catalyst_build_module</code>. Вас спросят пароль root для продолжения установки пакета.
</p>
<p>Небольшой обзор об использовании этого пакета:
</p>
<ol>
<li>Как root: <code>catalyst_build_module remove</code>. Эта команда удалит неиспользуемые пакеты <code>catalyst-{kernver}</code>.</li>
<li>Как пользователь без привилегий: <code>catalyst_build_module ${kernver}</code>, где <code>${kernver}</code> это версия ядра, которую только что обновили. Например: <code>catalyst_build_module 2.6.36-ARCH</code>. Вы также можете собрать <code>catalyst-{kernver}</code> для всех установленных ядер используя <code>catalyst_build_module all</code>.</li>
<li>Если вы хотите удалить <code>catalyst-generator</code>, лучше всего запустить эту команду как root перед удалением catalyst-generator: <code>catalyst_build_module remove_all</code>. <b>Эта команда удалит все пакеты <code>catalyst-{kernver}</code> из системы.</b>
</li>
</ol>
<p><code>Catalyst-generator</code> не в состоянии удалить все пакеты <code>catalyst-{kernver}</code> автоматически, потому что pacman может быть запущен только в одном экземпляре. Если вы забыли запустить <code># catalyst_build_module remove_all</code> перед использованием <code># pacman -R catalyst-generator</code>, catalyst-generator сообщит вам о том, какие пакеты <code>catalyst-{kernver}</code> вы должны удалить вручную после удаления его самого.
</p>
<p>Catalyst-generator - это самое безопасное и просто решение потому что:
</p>
<ol>
<li>вы можете использовать пользователя без привилегий чтобы собрать этот пакет;</li>
<li>он собирает модули в среде fakeroot;</li>
<li>он не бросает файлы туда-сюда, <a href="/title/Pacman_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Pacman (Русский)">pacman</a> всегда знает где они есть;</li>
<li>все что вам нужно запомнить, это не забыть использовать catalyst-generator</li>
</ol>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Если вы видите эти предупреждения:
<pre><b>WARNING:</b> Package contains reference to $srcdir
</pre>
<pre><b>WARNING:</b> '.pkg' is not a valid archive extension.
</pre>
во время сборки пакета <code>catalyst-{kernver}</code>, не беспокойтесь, это нормально.</div>
<h3>
<span id=".D0.A0.D0.B0.D0.B7.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D0.BA.D0.B0_OpenCL_.D0.B8_OpenGL"></span><span class="mw-headline" id="Разработка_OpenCL_и_OpenGL">Разработка OpenCL и OpenGL</span>
</h3>
<p>Уже много лет AMD работает над инструментами для разработки на OpenCL и OpenGL.
</p>
<p>В настоящее время под заголовком <b>"Heterogeneous Computing"</b> AMD обеспечивает еще больше, к счастью, большинство из вычислительных инструментов доступны также и для Linux.
</p>
<p>В AUR и репозиториях [catalyst] вы найдете пакеты, которые представляют наиболее важную работу AMD, а именно: 
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/amdapp-aparapi/">amdapp-aparapi</a></span><sup><small>AUR</small></sup>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/amdapp-sdk/">amdapp-sdk</a></span><sup><small>AUR</small></sup>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/amdapp-codexl/">amdapp-codexl</a></span><sup><small>AUR</small></sup>
</li>
</ul>
<p>Ярлык APP выступает за Ускорение Параллельной Обработки.
</p>
<h4><span class="mw-headline" id="amdapp-aparapi">amdapp-aparapi</span></h4>
<p>AMD Aparapi - это API языка программирования Java для написания и выполнения OpenCL - ядер на графических акселераторах компании AMD. Если целевая платформа поддерживает OpenCL, то байткод будет проанализирован "на лету" и в случае отсутствия неконвертируемого в OpenCL кода, он транслируется в OpenCL, компилируется и запускается на GPU (если подходящий GPU присутствует). В противном случае, код будет запущен как обычный байткод на CPU. 
</p>
<p>Больше информации о Aparapi вы найдете <a rel="nofollow" class="external text" href="http://developer.amd.com/tools/heterogeneous-computing/aparapi/">здесь</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-08-02]</sup>
</p>
<h4>
<span id="amdapp-sdk_.28.D1.80.D0.B0.D0.BD.D0.B5.D0.B5_.D0.B8.D0.B7.D0.B2.D0.B5.D1.81.D1.82.D0.BD.D1.8B.D0.B9_.D0.BA.D0.B0.D0.BA_amdstream.29"></span><span class="mw-headline" id="amdapp-sdk_(ранее_известный_как_amdstream)">amdapp-sdk (ранее известный как amdstream)</span>
</h4>
<p>Коплект Средств Разработки (КСР) AMD APP - это полная платформа разработки от AMD, которая позволяет быстро и легко разрабатывать приложения, аппаратно ускоренные с помощью технологии AMD APP. КСР предоставляет примеры, документацию и другие материалы, которые помогают быстрее начать разрабатывать приложения использующие OpenCL, Bolt или C++ AMP в вашем приложении C/C++.
</p>
<p>Начиная с версии 2.8 amdapp-sdk предоставляет aparapiUtil, а также примеры aparapi. Пакет доступен в репозитории [catalyst]; он зависит от пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/amdapp-aparapi/">amdapp-aparapi</a></span><sup><small>AUR</small></sup>. Пакет из AUR позволяет вам решать, хотите ли вы дополнения к aparapi или нет.
</p>
<p>Версия 2.8 не предоставляет функциональность Профайлера, он был перемещен в CodeXL.
</p>
<p>Больше информации о AMD APP SDK <a rel="nofollow" class="external text" href="http://developer.amd.com/tools/heterogeneous-computing/amd-accelerated-parallel-processing-app-sdk/">здесь</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-08-02]</sup>.
</p>
<h4><span class="mw-headline" id="amdapp-codexl">amdapp-codexl</span></h4>
<p>CodeXL - это Отладчик и Профилировщик для OpenCL и OpenGL со статическим анализом ядра OpenCL. Это приложение с графическим интерфейсом написано поверх известного <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gdebugger/">gdebugger</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup> и доступно только для систем x86_64.
</p>
<p>Больше информации о CodeXL вы найдете <a rel="nofollow" class="external text" href="http://developer.amd.com/tools/heterogeneous-computing/codexl/">здесь</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-08-02]</sup>.
</p>
<h2>
<span id=".D0.9F.D1.80.D0.B5.D0.B8.D0.BC.D1.83.D1.89.D0.B5.D1.81.D1.82.D0.B2.D0.B0"></span><span class="mw-headline" id="Преимущества">Преимущества</span>
</h2>
<h3><span class="mw-headline" id="Tear_Free_Rendering">Tear Free Rendering</span></h3>
<p>Технология, представленная в <b>Catalyst 11.1</b>, называемая <i>Tear Free Desktop</i>, которая уменьшает разрывы между изображениями на экране, в 2D, 3D и видео приложениях. Скорее всего, она добавляет тройную буферизацию и вертикальную синхронизацию. Обратите внимание, включение данной технологии создает дополнительную нагрузку на видеокарту.
</p>
<p>Чтобы включить 'Tear Free Desktop' запустите <code>amdcccle</code> и перейдите в: <code>Display Options</code> → <code>Tear Free</code>.
</p>
<p>Или выполните:
</p>
<pre># aticonfig --set-pcs-u32=DDX,EnableTearFreeDesktop,1
</pre>
<p>Чтобы выключить, используйте <code>amdcccle</code> или выполните:
</p>
<pre># aticonfig --del-pcs-key=DDX,EnableTearFreeDesktop
</pre>
<h3>
<span id=".D0.90.D0.BF.D0.BF.D0.B0.D1.80.D0.B0.D1.82.D0.BD.D0.BE.D0.B5_.D1.83.D1.81.D0.BA.D0.BE.D1.80.D0.B5.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Аппаратное_ускорение">Аппаратное ускорение</span>
</h3>
<p><b><a href="https://en.wikipedia.org/wiki/Video_Acceleration_API" class="extiw" title="wikipedia:Video Acceleration API">Video Acceleration API</a> (VA API)</b> - это библиотека с открытым исходным кодом (libVA) и API, который обеспечивает ускорение GPU для обработки видео в операционных системах Linux/UNIX. Процесс работает включая аппаратного ускорения обработки видео на разных входных точках (VLD, IDCT, Motion Compensation, deblocking) для распространенных стандартов кодирования (MPEG-2, MPEG-4 ASP/H.263, MPEG-4 AVC/H.264, and VC-1/WMV3).
</p>
<p>У VA-API есть проприетарный бекэнд (появился в ноябре 2009) называемый <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xvba-video/">xvba-video</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>, который позволяет приложениям VA-API использовать преимущества чипсетов AMD Radeons UVD2 через библиотеку <a href="https://en.wikipedia.org/wiki/XvBA" class="extiw" title="wikipedia:XvBA">XvBA (X-Video Bitstream Acceleration API designed by AMD)</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Нет необходимости устанавливать пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xvba-video/">xvba-video</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>, если вы используете <code>catalyst-test</code> или <code>catalyst-total</code>, потому что в этом случае работает символическая ссылка</div>
<p>Поддержка XvBA и xvba-video находится еще в стадии разработки, однако они <b>работают хорошо в большинстве случаев</b>. Соберите (или установите из репозитория Vi0L0) проприетарный пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xvba-video/">xvba-video</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>, если у вас имеются проблемы с этой версией установите <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/libva-xvba-driver/">libva-xvba-driver</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>, а также установите <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mplayer-vaapi/">mplayer-vaapi</a></span><sup><small>AUR</small></sup> и <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libva">libva</a></span>. Затем просто скажите вашему видео проигрывателю, чтобы он использовал vaapi:gl как видеовыход:
</p>
<pre>$ mplayer -vo vaapi:gl movie.avi
</pre>
<p>Эти параметры могут быть добавлены в конфигурационный файл mplayer, смотрите <a href="/title/MPlayer_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="MPlayer (Русский)">MPlayer</a>.
</p>
<p>Для <b>smplayer</b>:
</p>
<pre>Настройки → Настройки → Основные → Видео (вкладка) → Устройство вывода: Определено пользователем : vaapi:gl
Настройки → Настройки → Основные → Видео (вкладка) → Двойная буферизация <b>включить</b>
Настройки → Настройки → Основные → Основные → Снимки экрана → Включить снимки экрана <b>выключить</b>
Настройки → Настройки → Быстродействие → Потоков декодирование: <b>1</b> (чтобы выключить параметр -lavdopts)
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Если технология Tear Free Desktop включена, лучше использовать:
<pre>Настройки → Настройки → Основные → Видео (вкладка) → Устройство вывода: vaapi
</pre>
<p>Если Видео Выход <b>vaapi:gl</b> не работает - проверьте:
</p>
<pre><b>vaapi</b>, <b>vaapi:gl2</b> или просто <b>xv(0 - AMD Radeon <a href="https://en.wikipedia.org/wiki/Avivo" class="extiw" title="wikipedia:Avivo">AVIVO Video</a>)</b>.
</pre>
</div>
<p>Для <b>VLC</b>:
</p>
<pre>Инструменты → Настройки → Ввод &amp; кодеки → Декодирование с аппаратным ускорением
</pre>
<p>Может помочь включение вертикальной синхронизации в <b>amdcccle</b>:
</p>
<pre>3D → More Settings → Wait for vertical refresh = Always On
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Если вы используете <b>Compiz/KWin</b>, то единственный способ <b>избежать мерцания видео</b> - это смотреть видео в <b>полноэкранном режиме</b> и только когда <b>Unredirect Fullscreen выключен</b>.
В <b>compiz</b> вам нужно включить <b>Redirected Direct Rendering</b> в настройках ccsm. Если видео по прежнему мерцает, попробуйте выключить эту опцию в CCSM. Redirected Direct Rendering по умолчанию выключен в <b>KWin</b>, но если вы видите мерцания, попробуйте включить "Suspend desktop effects for fullscreen windows" или выключить в <code>System Settings</code> → <code>Desktop Effects</code> → <code>Advanced</code>.</div>
<h3>
<span id=".D0.A7.D0.B0.D1.81.D1.82.D0.BE.D1.82.D0.B0.2C_.D1.82.D0.B5.D0.BC.D0.BF.D0.B5.D1.80.D0.B0.D1.82.D1.83.D1.80.D0.B0.2C_.D1.81.D0.BA.D0.BE.D1.80.D0.BE.D1.81.D1.82.D1.8C_.D0.B2.D0.B5.D0.BD.D1.82.D0.B8.D0.BB.D1.8F.D1.82.D0.BE.D1.80.D0.B0.2C_.D1.83.D1.82.D0.B8.D0.BB.D0.B8.D1.82.D1.8B_.D0.B4.D0.BB.D1.8F_.D1.80.D0.B0.D0.B7.D0.B3.D0.BE.D0.BD.D0.B0_GPU.2F.D0.9F.D0.B0.D0.BC.D1.8F.D1.82.D0.B8"></span><span class="mw-headline" id="Частота,_температура,_скорость_вентилятора,_утилиты_для_разгона_GPU/Памяти">Частота, температура, скорость вентилятора, утилиты для разгона GPU/Памяти</span>
</h3>
<p>Чтобы узнать частоту GPU/Памяти: <code>$ aticonfig --od-getclocks</code>.
</p>
<p>Чтобы узнать скорость вентилятора: <code>$ aticonfig --pplib-cmd "get fanspeed 0"</code>
</p>
<p>Чтобы узнать температуру: <code>$ aticonfig --odgt</code>
</p>
<p>Чтобы установить скорость вращения вентилятора: <code>$ aticonfig --pplib-cmd "set fanspeed 0 50"</code>, где Query Index: 50, Скорость в процентах.
</p>
<p>Для разгона и/или уменьшение частоты оборудования проще использовать программу с графическим интерфейсом, например <b>ATi Overclocking Utility</b>, которая очень простая и требует qt для работы. Она может быть устаревшей, но вы можете скачать ее <a rel="nofollow" class="external text" href="https://kde-apps.org/content/show.php/ATI+Overclock?content=47796">здесь</a>.
</p>
<p>Другая, более сложная утилита для выполнения таких операций - <b>AMDOverdriveCtrl</b>. Ее домашняя страница <a rel="nofollow" class="external text" href="https://sourceforge.net/projects/amdovdrvctrl">здесь</a> или вы можете собрать <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/amdoverdrivectrl/">amdoverdrivectrl</a></span><sup><small>AUR</small></sup> из AUR или из неофициального репозитория Vi0L0.
</p>
<h3>
<span id=".D0.94.D0.B2.D0.B0_.D1.8D.D0.BA.D1.80.D0.B0.D0.BD.D0.B0_.28Dual_Head_.2F_Dual_Screen_.2F_Xinerama.29"></span><span class="mw-headline" id="Два_экрана_(Dual_Head_/_Dual_Screen_/_Xinerama)">Два экрана (Dual Head / Dual Screen / Xinerama)</span>
</h3>
<h4>
<span id=".D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Введение">Введение</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Вам следует запомнить, что тут нет единого решения, каждая установка и настройка нуждается в конфигурации. Поэтому вы должны адаптировать инструкции ниже под себя. Вполне возможно, что вам придется попробовать несколько раз. Поэтому вы должны сохранить ваш <code>/etc/X11/xorg.conf</code> <b>перед</b> началом изменений чтобы у вас была возможность восстановить рабочее состояние из командной строки.</div>
<ul><li>В этой главе мы опишем установку двух экранов разных размеров с использование одной видеокарты, которая использует разные порты для вывода (DVI + HDMI) используя конфигурацию "Большой рабочий стол"</li></ul>
<ul><li>Решение в котором используется Xinerama имеет некоторые неудобства, особенно потому что она не совместима с XrandR. Именно по этой причине вы не должны использовать ее, т.к. XrandR понадобится нам для последующей конфигурации.</li></ul>
<ul><li>Решение в котором используется Dual Head позволит вам иметь 2 различные сессии (по одной на каждый экран). Это может быть то, что вы хотите, но вы не сможете перемещать окна с одного экрана на другой. Если у вас только один экран, вам придется определять мышь в вашей сессии Xorg для каждой из двух сессий внутри раздела Server Layout.</li></ul>
<p><a rel="nofollow" class="external text" href="https://support.amd.com/us/kbarticles/Pages/1105-HowCanIConfigureMultip.aspx">Документация ATI</a>
</p>
<h4><span class="mw-headline" id="ATI_Catalyst_Control_Center">ATI Catalyst Control Center</span></h4>
<p>Инструмент с графическим интерфейсом предоставляемый ATI очень полезен и мы постараемся использовать все его возможности. Чтобы запустить его, откройте терминал и выполните следующую команду:
</p>
<pre>$ {kdesu/gksu} amdcccle
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Использовать sudo напрямую в графическом интерфейсе <b>не стоит</b>. Sudo дает административные привилегия вместе с информацией об учетной записи пользователя. Вместо него используйте <i>gksu</i> (GNOME) или <i>kdesu</i> (KDE).</div>
<h4>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_2"></span><span class="mw-headline" id="Установка_2">Установка</span>
</h4>
<p>Прежде чем мы начнем, убедитесь, что ваше оборудование правильно подключено и вы знаете ваши аппаратные характеристики (размеры экрана, диагональ, частота обновления и т.д.). Обычно оба экрана распознаются во время загрузки, но не обязательно правильно, особенно если вы не используете никакой конфигурационный файл Xorg (<code>/etc/X11/xorg.conf</code>), но надеетесь, что ваши устройства распознаются при запуске.
</p>
<p>Сначала нужно убедится, что ваши экраны распознаются вашим DE и X. Для этого, вам нужно с генерировать базовый конфигурационный файл Xorg для двух экранов:
</p>
<pre># aticonfig --initial --desktop-setup=horizontal --overlay-on=1
</pre>
<p>или
</p>
<pre># aticonfig --initial=dual-head --screen-layout=left
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Аргумент <code>overlay</code> важен, поскольку он позволяет вам иметь 1 пиксель (или больше) разделенный между 2 экранами.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Для других возможных и доступных опций, напечатайте <code>aticonfig --help</code> внутри терминала чтобы отобразить все доступные аргументы командой строки.</div>
<p>Теперь у вас должен быть базовый файл конфигурации Xorg, который вы можете отредактировать чтобы добавить свое разрешение экрана. Важно использовать точное разрешение экрана, особенно если у вас мониторы разных размеров. Разрешения экрана должны быть добавлены в секцию "Screen":
</p>
<pre>SubSection "Display"
    Depth     24
    Modes     "X-resolution screen 1xY-resolution screen 1" "Xresolution screen 2xY-resolution screen 2"
EndSubSection
</pre>
<p>Теперь, вместо редактирования файла <code>xorg.conf</code> вручную, можно использовать инструмент с графическим интерфейсом от ATI. Перезапустите X чтобы убедится, что ваши два экрана поддерживаются должным образом и ваше разрешение экрана правильно распознавалось (Экраны должны быть независимыми, не должно быть отражения).
</p>
<p>From now on, instead of editing the <code>xorg.conf</code> file manually, let us use the ATI GUI tool. Restart X to be sure that your two screens are properly supported and that the resolutions are properly recognized (Screens must be independent, not mirrored).
</p>
<h4>
<span id=".D0.9A.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F"></span><span class="mw-headline" id="Конфигурация">Конфигурация</span>
</h4>
<p>Теперь вас остается только запустить панель управления ATI с привилегиями root, перейдите в меню дисплей и выберите как вы бы хотели установить вашу конфигурацию (маленькая стрелка выпадающего меню). Перезапустите X и все должно быть готово!
</p>
<p>Перед перезагрузкой X перепроверьте ваш новый <code>xorg.conf</code>. Внутри подраздела "Display", который находится внутри "Screen" вы должны увидеть "виртуальную" командную строку, которая определяет какое разрешение экрана в сумме должно быть у обоих экранов. Раздел "Server Layout" описывает все остальное.
</p>
<h2>
<span id=".D0.A3.D0.B4.D0.B0.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Удаление">Удаление</span>
</h2>
<p>Если по какой-либо причине драйвер не работает или вы просто хотите попробовать открытый драйвер, удалите пакеты <code>catalyst</code> и <code>catalyst-utils</code>. Также вы должны удалить пакеты <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst-generator/">catalyst-generator</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst-hook/">catalyst-hook</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup> и <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lib32-catalyst-utils/">lib32-catalyst-utils</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup> если они установлены в вашей системе.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> 
<ul>
<li>Вам, возможно, придется использовать <code># pacman -Rdd</code> чтобы удалить <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst-utils/">catalyst-utils</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup> (и/или <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lib32-catalyst-utils/">lib32-catalyst-utils</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>), потому что этот пакет содержит связанные файлы <i>gl</i> и много ваших пакетов зависят от них. Эти зависимости снова удовлетворятся когда вы установите <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-ati">xf86-video-ati</a></span>.</li>
<li>Вам, возможно, придется удалить <code>/etc/profile.d/ati-flgrx.sh</code> и <code>/etc/profile.d/lib32-catalyst</code> (если они существуют в вашей системе), в противном случае <code>r600_dri.so</code> не сможет загрузится и у вас скорее всего не будет 3D поддержки.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Вам следует удалить неофициальный репозиторий из вашего <code>/etc/pacman.conf</code> и запустить <code># pacman -Syu</code>, потому что они содержат пакеты с устаревшими версиями Xorg, которые позволяют использовать <code>catalyst</code>, а пакету <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-ati">xf86-video-ati</a></span> нужна самая свежая версия пакета Xorg из <a href="/title/Official_repositories_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Official repositories (Русский)">Официальных репозиториев</a>.</div>
<p>Также выполните следующие действие:
</p>
<ul>
<li>Если у вас есть файл <code>/etc/modprobe.d/blacklist-radeon.conf</code>, удалите его или закомментируйте строку <code>blacklist radeon</code> в этом файле</li>
<li>Если у вас есть файл в <code>/etc/modules-load.d</code>, который загружает модуль <code>fglrx</code> при загрузке, удалите его или закомментируйте линию, которая содержит <code>fglrx</code>.</li>
<li>Убедитесь в том, что вы удалили или сделали резервную копию файла <code>/etc/X11/xorg.conf</code>.</li>
<li>Если у вас установлен пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst-hook/">catalyst-hook</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>, убедитесь в том, что вы <a href="/title/Systemd_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%BE%D0%B2" title="Systemd (Русский)">отключили</a> службу.</li>
<li>Если вы использовали параметр <code>nomodeset</code> в <a href="/title/Kernel_parameters_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" class="mw-redirect" title="Kernel parameters (Русский)">параметрах ядра</a> и планируете использовать KMS, удалите его.</li>
<li>
<b>Перезагрузитесь</b> перед установкой другого драйвера.</li>
</ul>
<h2>
<span id=".D0.A0.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC"></span><span class="mw-headline" id="Решение_проблем">Решение проблем</span>
</h2>
<p>Если вы все еще загружаетесь в командную строку, то проблема скорее всего заключается в <code>/etc/X11/xorg.conf</code>
</p>
<p>Вы можете проанализировать весь <code>/var/log/Xorg.0.log</code>:
</p>
<pre>$ grep '(EE)' /var/log/Xorg.0.log
$ grep '(WW)' /var/log/Xorg.0.log
</pre>
<p>Если вы до сих пор не понимаете в чем проблема, сначала попробуйте поискать на форумах. Затем опубликуйте сообщение в тему <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1166052#p1166052/">специфичную для ATI/AMD</a>. В сообщение вложите файл <code>xorg.conf</code> и вывод двух команд сверху.
</p>
<h3>
<span id=".D0.9D.D0.B5_.D1.83.D0.B4.D0.B0.D0.BB.D0.BE.D1.81.D1.8C_.D0.B7.D0.B0.D0.BF.D1.83.D1.81.D1.82.D0.B8.D1.82.D1.8C_atieventsd.service"></span><span class="mw-headline" id="Не_удалось_запустить_atieventsd.service">Не удалось запустить atieventsd.service</span>
</h3>
<p>Установите <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=acpid">acpid</a></span> из <a href="/title/Official_repositories_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Official repositories (Русский)">официальных репозиториев</a>. <a href="/title/%D0%97%D0%B0%D0%BF%D1%83%D1%81%D1%82%D0%B8%D1%82%D0%B5" class="mw-redirect" title="Запустите">Запустите</a> и включите <a href="/title/Daemon" class="mw-redirect" title="Daemon">службу</a> acpid.
</p>
<p>Если служба не смогла запуститься, отредактируйте файл <code>/usr/lib/systemd/system/atieventsd.service</code> и замените <code>acpid.socket</code> на <code>acpid.service</code>.
</p>
<h3>
<span id=".D0.9D.D0.B5_.D1.83.D0.B4.D0.B0.D0.BB.D0.BE.D1.81.D1.8C_.D0.BE.D1.82.D0.BA.D1.80.D1.8B.D1.82.D1.8C_fglrx_dri.so"></span><span class="mw-headline" id="Не_удалось_открыть_fglrx_dri.so">Не удалось открыть fglrx_dri.so</span>
</h3>
<p>Создайте символическую ссылку из файла <code>/usr/lib/xorg/modules/dri/fglrx_dri.so</code> на файл <code>/usr/X11R6/lib64/modules/dri/fglrx_dri.so</code> (или другой требуемый путь):
</p>
<pre># mkdir -p /usr/X11R6/lib64/modules/dri
# ln -s /usr/lib/xorg/modules/dri/fglrx_dri.so /usr/X11R6/lib64/modules/dri/fglrx_dri.so
</pre>
<h3>
<span id=".D0.9D.D0.B5_.D0.B7.D0.B0.D0.BF.D1.83.D1.81.D0.BA.D0.B0.D0.B5.D1.82.D1.81.D1.8F_GDM"></span><span class="mw-headline" id="Не_запускается_GDM">Не запускается GDM</span>
</h3>
<p>Понизьте версию пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-server">xorg-server</a></span> или попытайтесь использовать другой <a href="/title/%D0%AD%D0%BA%D1%80%D0%B0%D0%BD%D0%BD%D1%8B%D0%B9_%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80" class="mw-redirect" title="Экранный менеджер">экранный менеджер</a>, например, <a href="/title/LightDM" title="LightDM">LightDM</a>.
</p>
<h3>
<span id=".D0.9F.D1.80.D0.B8.D1.82.D0.BE.D1.80.D0.BC.D0.B0.D0.B6.D0.B8.D0.B2.D0.B0.D1.8E.D1.82_3D_.D0.BF.D1.80.D0.B8.D0.BB.D0.BE.D0.B6.D0.B5.D0.BD.D0.B8.D1.8F_.D0.B2_Wine"></span><span class="mw-headline" id="Притормаживают_3D_приложения_в_Wine">Притормаживают 3D приложения в Wine</span>
</h3>
<p>Если вы используете 3D приложения в Wine и они притормаживают, вам нужно выключить TLS. Чтобы это сделать, вы можете использовать <code>aticonfig</code> или отредактировать файл <code>/etc/X11/xorg.conf</code>. Используя <code>aticonfig</code>:
</p>
<pre># aticonfig --tls=off
</pre>
<p>Или, отредактировать файл <code>/etc/X11/xorg.conf</code>; сначала, откройте файл в редакторе с привилегиями root, а затем добавьте <code>Option "UseFastTLS" "off"</code> в раздел <i>Device</i> этого файла.
</p>
<p>После выполнения любого из решений, перезапустите X для того, чтобы изменения вступили в силу.
</p>
<h3>
<span id=".D0.9F.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D0.B0_.D1.81_.D1.86.D0.B2.D0.B5.D1.82.D0.B0.D0.BC.D0.B8_.D0.B2_.D0.B2.D0.B8.D0.B4.D0.B5.D0.BE"></span><span class="mw-headline" id="Проблема_с_цветами_в_видео">Проблема с цветами в видео</span>
</h3>
<p>Вы по-прежнему можете использовать <code>vaapi:gl</code> чтобы избежать мерцания в видео, но без графического ускорения:
</p>
<ul>
<li>Запустите <b>mplayer</b> без <code>-vo vaapi</code>.</li>
<li>Запустите <b>smplayer</b> и удалите <code>-vo vaapi</code> из Настройки → Настройки → Дополнительно → Параметры MPlayer → Настройки: -vo vaapi</li>
</ul>
<p>Теперь мы можете безопасно включить скриншоты в <b>smplayer</b>.
</p>
<h3>
<span id="KWin_.D0.B8_.D0.BA.D0.BE.D0.BC.D0.BF.D0.BE.D0.B7.D0.B8.D1.82"></span><span class="mw-headline" id="KWin_и_композит">KWin и композит</span>
</h3>
<p>Вы можете использовать XRender если визуализация при помощи OpenGL очень медленная. Однако, XRender может быть медленнее чем OpenGL в зависимости от вашей карты.
XRender также решает артефакты в некоторых случаях, например, при изменении размера Konsole.
</p>
<h3>
<span id=".D0.A7.D0.B5.D1.80.D0.BD.D1.8B.D0.B9_.D1.8D.D0.BA.D1.80.D0.B0.D0.BD_.D1.81_.D0.BF.D0.BE.D0.BB.D0.BD.D1.8B.D0.BC_.D0.B7.D0.B0.D0.B2.D0.B8.D1.81.D0.B0.D0.BD.D0.B8.D0.B5.D0.BC_.D0.B8.2F.D0.B8.D0.BB.D0.B8_.D0.BF.D1.80.D0.B8.D1.82.D0.BE.D1.80.D0.BC.D0.B0.D0.B6.D0.B8.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.BF.D0.BE.D1.81.D0.BB.D0.B5_.D0.BF.D0.B5.D1.80.D0.B5.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B8_.D0.B8.D0.BB.D0.B8_startx"></span><span class="mw-headline" id="Черный_экран_с_полным_зависанием_и/или_притормаживания_после_перезагрузки_или_startx">Черный экран с полным зависанием и/или притормаживания после перезагрузки или startx</span>
</h3>
<p>Убедитесь в том, что вы добавили параметр <code>nomodeset</code> в параметры ядра в вашем загрузчике (смотрите <a href="#%D0%9E%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_kernel_mode_setting">#Отключение kernel mode setting</a>).
</p>
<p>Если вы используете legacy драйвер (<code>catalyst-hd234k</code>) и получаете черный экран, попробуйте понизить версию xorg-server до 1.12 используя репозиторий <a href="#xorg112">#xorg112</a>.
</p>
<h4>
<span id=".D0.9D.D0.B5.D0.B8.D1.81.D0.BF.D1.80.D0.B0.D0.B2.D0.BD.D1.8B.D0.B5_.D0.B2.D1.8B.D0.B7.D0.BE.D0.B2.D1.8B_ACPI"></span><span class="mw-headline" id="Неисправные_вызовы_ACPI">Неисправные вызовы ACPI</span>
</h4>
<p>Вполне возможно, что fglrx может плохо кооперировать с системным ACPI при помощи аппаратных вызовов, поэтому он автоматически отключается и из-за этого нет вывода на экран.
</p>
<p>Если это так, попробуйте запустить:
</p>
<pre>$ aticonfig --acpi-services=off
</pre>
<h4>
<span id=".D0.9D.D0.B5.D0.BF.D0.BE.D0.B4.D0.B4.D0.B5.D1.80.D0.B6.D0.B8.D0.B2.D0.B0.D0.B5.D0.BC.D1.8B.D0.B5_.D0.B2.D0.B5.D1.80.D1.81.D0.B8.D0.B8_.D1.8F.D0.B4.D1.80.D0.B0_Linux"></span><span class="mw-headline" id="Неподдерживаемые_версии_ядра_Linux">Неподдерживаемые версии ядра Linux</span>
</h4>
<p>Catalyst не поддерживает ядро Linux 4.2 и выше.
</p>
<p>Пожалуйста, настройте загрузчик так, чтобы использовалось правильное ядро при загрузке, как linux-lts например.
</p>
<h3>
<span id="KDM_.D0.B8.D1.81.D1.87.D0.B5.D0.B7.D0.B0.D0.B5.D1.82_.D0.BF.D0.BE.D1.81.D0.BB.D0.B5_.D0.B2.D1.8B.D1.85.D0.BE.D0.B4.D0.B0_.D0.B8.D0.B7_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B"></span><span class="mw-headline" id="KDM_исчезает_после_выхода_из_системы">KDM исчезает после выхода из системы</span>
</h3>
<p>Если вы используете проприетарный драйвер Catalyst и вы получаете консоль (tty1) вместо ожидаемого приветсвия KDM после выхода, вы должны дать указания KDM чтобы он перезапускал сервер X после каждого выхода. Раскоментируйте линию в разделе <code>[X-:*-Core]</code>
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/share/config/kdm/kdmrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">TerminateServer=True</pre>
<p>Теперь KDM будет появляться после выхода из KDE.
</p>
<h3>
<span id=".D0.9D.D0.B5_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D0.B0.D0.B5.D1.82_Direct_Rendering"></span><span class="mw-headline" id="Не_работает_Direct_Rendering">Не работает Direct Rendering</span>
</h3>
<p>Проблема может возникнуть при использование проприетарного драйвера <b>Catalyst</b>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Эта ошибка также появляется, если вы не <b>перезапустили</b> систему после установки или обновления catalyst. Система должна правильно загрузить модуль fglrx.ko, чтобы драйвер работал.</div>
<p>Если у вас проблемы с direct rendering, запустите:
</p>
<pre>$ LIBGL_DEBUG=verbose glxinfo &gt; /dev/null
</pre>
<p>в командной строке. В самом начале вывода, как правило, показываются сообщения об ошибке, которые говорят вам о том, что у вас отсутствует direct rendering.
</p>
<p>Распространенные ошибки и способы их устранения:
</p>
<pre>libGL error: XF86DRIQueryDirectRenderingCapable returned false
</pre>
<ul><li>Убедитесь в том, что вы правильно загрузили модуль для вашего чипсета AGP перед модулем ядра <code>fglrx</code>. Чтобы узнать, какой именно модуль AGP требуется, запустите <code># hwdetect --show-agp</code>. Затем, откройте файл <code>/etc/modules-load.d/fglrx.conf</code> и добавьте модуль AGP <b>перед</b> линией, которая содержит <code>fglrx</code>.</li></ul>
<pre>libGL error: failed to open DRM: Operation not permitted
libGL error: reverting to (slow) indirect rendering
</pre>
<pre>libGL: OpenDriver: trying /usr/lib/xorg/modules/dri//fglrx_dri.so
libGL error: dlopen /usr/lib/xorg/modules/dri//fglrx_dri.so failed
(/usr/lib/xorg/modules/dri//fglrx_dri.so: cannot open shared object file: No such file or directory)
libGL error: unable to find driver: fglrx_dri.so
</pre>
<ul><li>Что-то не было правильно инициализировано. Если путь в ошибке - <code>/usr/X11R6/lib/modules/dri/fglrx_dri.so</code>, то, убедитесь в том, что вы полностью вышли из системы, затем, зайдите снова. Если вы используете графический экранный менеджер (gdm, kdm, xdm), убедитесь в том, что <code>/etc/profile</code> выполняется при каждом входе. Обычно это делается путем добавления <code>source /etc/profile</code> в <code>~/.xsession</code> или <code>~/.xinitrc</code>, но это может варьироваться в зависимости от используемого экранного менеджера.</li></ul>
<ul><li>Если путь в ошибке - <code>/usr/lib/xorg/modules/dri/fglrx_dri.so</code>, значит, что-то не было правильно установлено. Попробуйте переустановить пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst/">catalyst</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>.</li></ul>
<p>Такие ошибки как:
</p>
<pre>fglrx: libGL version undetermined - OpenGL module is using glapi fallback
</pre>
<p>вызваны тем, что у вас в системе несколько версий <code>libGL.so</code>. Команда ниже должна вернуть следующее:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ locate libGL.s</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/usr/lib/libGL.so
/usr/lib/libGL.so.1
/usr/lib/libGL.so.1.2</pre>
<p>В вашей системе должно быть только три файла libGL.so. Если у вас больше (например, <code>/usr/X11R6/lib/libGL.so.1.2</code>), удалите их. Это должно исправить ошибку.
</p>
<p>Вы можете не получать никакого сообщения об ошибке. Если вы используете X11R7, убедитесь в том, что у вас <b>нет</b> следующих файлов в системе:
</p>
<pre>/usr/X11R6/lib/libGL.so.1.2
/usr/X11R6/lib/libGL.so.1
</pre>
<h3>
<span id=".D0.9F.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D1.8B_.D1.81_.D0.B3.D0.B8.D0.B1.D0.B5.D1.80.D0.BD.D0.B0.D1.86.D0.B8.D0.B5.D0.B9.2F.D1.81.D0.BD.D0.BE.D0.BC"></span><span class="mw-headline" id="Проблемы_с_гибернацией/сном">Проблемы с гибернацией/сном</span>
</h3>
<h4>
<span id=".D0.92.D0.B8.D0.B4.D0.B5.D0.BE_.D0.BD.D0.B5_.D0.B2.D0.BE.D0.B7.D0.BE.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D1.8F.D0.B5.D1.82.D1.81.D1.8F_.D0.B8.D0.B7_suspend2ram"></span><span class="mw-headline" id="Видео_не_возобновляется_из_suspend2ram">Видео не возобновляется из suspend2ram</span>
</h4>
<p>Проприетарный драйвер Catalyst не сможет выйти из ждущего режима пока фреймбуфер включен. Чтобы отключить фреймбуфер, добавьте <code>vga=0</code> в <a href="/title/%D0%9F%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D1%8B_%D1%8F%D0%B4%D1%80%D0%B0" class="mw-redirect" title="Параметры ядра">параметры ядра</a>.
</p>
<p>Чтобы увидеть, где нужно добавить эти параметры для других загрузчиков, смотрите <a href="#%D0%9E%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_kernel_mode_setting">#Отключение kernel mode setting</a>
</p>
<h3>
<span id=".D0.A1.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.B0_.D0.9F.D1.80.D0.B8.D1.82.D0.BE.D1.80.D0.BC.D0.B0.D0.B6.D0.B8.D0.B2.D0.B0.D0.B5.D1.82.2F.D0.A1.D0.B8.D0.BB.D1.8C.D0.BD.D0.BE_.D0.B7.D0.B0.D0.B2.D0.B8.D1.81.D0.B0.D0.B5.D1.82"></span><span class="mw-headline" id="Система_Притормаживает/Сильно_зависает">Система Притормаживает/Сильно зависает</span>
</h3>
<ul><li>Драйвера фреймбуфера <code>radeonfb</code> в прошлом вызывали проблемы такого характера. Если ваше ядро скомпилировано с поддержкой radeonfb, вы можете попробовать другое ядро и посмотреть, помогает ли это.</li></ul>
<ul><li>Если у вас притормаживает система когда вы выходите из DE (выключение, режим ожидания, переключение на tty и т.д.), то вы скорее всего забыли выключить KMS. (смотрите <a href="#%D0%9E%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_kernel_mode_setting">#Отключение kernel mode setting</a>)</li></ul>
<h3>
<span id=".D0.9A.D0.BE.D0.BD.D1.84.D0.BB.D0.B8.D0.BA.D1.82.D1.8B_.D0.BE.D0.B1.D0.BE.D1.80.D1.83.D0.B4.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Конфликты_оборудования">Конфликты оборудования</span>
</h3>
<p>Видеокарты Radeon в сочетании с некоторыми версиями чипсетов nForce3 (например, nForce 3 250Gb) не будут иметь 3D-ускорения. В настоящее время причина этой проблемы неизвестна, но некоторые источники указывают, что можно включить 3D-ускорение с таким сочетанием оборудования. Нужно загрузиться в Windows с драйверами от Nvidia, а затем перезагрузить систему. Работоспособность можно проверить получив сообщения похожие на эти (с использованием системы, основанной на nForce3):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># dmesg | grep agp</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">agpgart: Detected AGP bridge 0
agpgart: Setting up Nforce3 AGP.
agpgart: aperture base &gt; 4G
</pre>
<p>а также, если вы получите следующий вывод:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ tail -n 100 /var/log/Xorg.0.log | grep agp</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">(EE) fglrx(0): [agp] unable to acquire AGP, error "xf86_ENODEV"</pre>
<p>у вас есть этот баг.
</p>
<p>Некоторые источники указывают, что в некоторых ситуациях может помочь откат на предыдущую версию BIOS, но это невозможно проверить во всех случаях. Кроме того, <b>неправильный откат BIOS может привести оборудование в негодное состояние, будьте осторожны.</b>
</p>
<p>Смотрите <a rel="nofollow" class="external text" href="https://bugzilla.kernel.org/show_bug.cgi?id=6350/">этот отчет об ошибке</a> для получения дополнительной информации и потенциальных решений.
</p>
<h3>
<span id=".D0.92.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.BD.D1.8B.D0.B5_.D0.B7.D0.B0.D0.B2.D0.B8.D1.81.D0.B0.D0.BD.D0.B8.D1.8F_.D0.BF.D1.80.D0.B8_.D0.B2.D0.BE.D1.81.D0.BF.D1.80.D0.BE.D0.B8.D0.B7.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B8_.D0.B2.D0.B8.D0.B4.D0.B5.D0.BE"></span><span class="mw-headline" id="Временные_зависания_при_воспроизведении_видео">Временные зависания при воспроизведении видео</span>
</h3>
<p>Эта проблема может возникнуть при использовании проприетарного Catalyst.
</p>
<p>Если у вас возникают временные зависания продолжительностью от нескольких секунд до нескольких минут, происходящее случайным образом во время воспроизведения в mplayer, проверьте системные логи и вывод должен быть примерно таким:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/var/log/messages.log</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Nov 28 18:31:56 pandemonium [&lt;c01c64a6&gt;] ? proc_get_sb+0xc6/0x160
Nov 28 18:31:56 pandemonium [&lt;c01c64a6&gt;] ? proc_get_sb+0xc6/0x160
Nov 28 18:31:56 pandemonium [&lt;f8bc628c&gt;] ? ip_firegl_ioctl+0x1c/0x30 [fglrx]
Nov 28 18:31:56 pandemonium [&lt;c01c64a6&gt;] ? proc_get_sb+0xc6/0x160
Nov 28 18:31:56 pandemonium [&lt;c0197038&gt;] ? vfs_ioctl+0x78/0x90
Nov 28 18:31:56 pandemonium [&lt;c01970b7&gt;] ? do_vfs_ioctl+0x67/0x2f0
Nov 28 18:31:56 pandemonium [&lt;c01973a6&gt;] ? sys_ioctl+0x66/0x70
Nov 28 18:31:56 pandemonium [&lt;c0103ef3&gt;] ? sysenter_do_call+0x12/0x33
Nov 28 18:31:56 pandemonium [&lt;c01c64a6&gt;] ? proc_get_sb+0xc6/0x160
Nov 28 18:31:56 pandemonium =======================</pre>
<p>Добавьте <code>nopat</code> и/или <code>nomodeset</code> в <a href="/title/Kernel_parameters_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" class="mw-redirect" title="Kernel parameters (Русский)">параметры ядра</a>, после этого все должно работать.
</p>
<h3>
<span id=".22aticonfig:_No_supported_adapters_detected.22"></span><span class="mw-headline" id='"aticonfig:_No_supported_adapters_detected"'>"aticonfig: No supported adapters detected"</span>
</h3>
<p>If you get the following:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># aticonfig --initial</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">aticonfig: No supported adapters detected
</pre>
<p>It may still be possible to get Catalyst working by manually setting the device in your your <code>etc/X11/xorg.conf</code> file or by copying an older working <code>/etc/ati/control</code> file (preferred - this also fixes the watermark issue).
</p>
<p>To get an older control file, download a previous version of fglrx from AMD and run it with <code>--extract driver</code> parameter. You will find the control file in <code>driver/common/etc/ati/control</code>. Copy the extracted file over the system file and restart Xorg. You can try different versions of the file.
</p>
<p>To set your model in <code>xorg.conf</code>, edit the device section of <code>/etc/X11/xorg.conf</code> to:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "Device"
        Identifier "ATI radeon <b>****</b>"
        Driver     "fglrx"
EndSection
</pre>
<p>Where <code>****</code> should be replaced with your device's marketing number (e.g. 6870 for the HD 6870 and 6310 for the E-350 APU).
</p>
<p>Xorg will start and it is possible to use <code>amdcccle</code> instead of <code>aticonfig</code>. There will be an "AMD Unsupported hardware" watermark.
</p>
<p>You can remove this watermark using the following script:
</p>
<pre>#!/bin/sh
DRIVER=/usr/lib/xorg/modules/drivers/fglrx_drv.so
for x in $(objdump -d $DRIVER|awk '/call/&amp;&amp;/EnableLogo/{print "\\x"$2"\\x"$3"\\x"$4"\\x"$5"\\x"$6}'); do
   sed -i "s/$x/\x90\x90\x90\x90\x90/g" $DRIVER
done
</pre>
<p>and then reboot your machine.
</p>
<h3>
<span id=".D0.9F.D0.BE.D0.B4.D0.B4.D0.B5.D1.80.D0.B6.D0.BA.D0.B0_WebGL_.D0.B2_chromium"></span><span class="mw-headline" id="Поддержка_WebGL_в_chromium">Поддержка WebGL в chromium</span>
</h3>
<p>Google has blacklisted Linux's Catalyst driver from supporting webGL in their Chromium/Chrome browsers. See <a href="/title/Chromium_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#WebGL" class="mw-redirect" title="Chromium (Русский)">Chromium#WebGL</a> for details.
</p>
<h3>
<span id=".D0.97.D0.B0.D0.B4.D0.B5.D1.80.D0.B6.D0.BA.D0.B8.2F.D0.BF.D0.BE.D0.B4.D1.82.D0.BE.D1.80.D0.BC.D0.B0.D0.B6.D0.B8.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F_.D0.BF.D1.80.D0.BE.D1.81.D0.BC.D0.B0.D1.82.D1.80.D0.B8.D0.B2.D0.B0.D1.8F_flash_.D0.B2.D0.B8.D0.B4.D0.B5.D0.BE_.D1.87.D0.B5.D1.80.D0.B5.D0.B7_Adobe.27s_flashplugin"></span><span class="mw-headline" id="Задержки/подтормаживания_просматривая_flash_видео_через_Adobe's_flashplugin">Задержки/подтормаживания просматривая flash видео через Adobe's flashplugin</span>
</h3>
<p>Edit:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/adobe/mms.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#EnableLinuxHWVideoDecode=1
OverrideGPUValidation=true</pre>
<p>If you are using KDE make sure that "Suspend desktop effects for fullscreen windows" is unchecked under <code>System Settings</code> → <code>Desktop Effects</code> → <code>Advanced</code>.
</p>
<h3>
<span id=".D0.97.D0.B0.D0.B4.D0.B5.D1.80.D0.B6.D0.BA.D0.B8.2F.D0.BC.D0.B5.D0.B4.D0.BB.D0.B5.D0.BD.D0.BD.D1.8B.D0.B5_.D0.BF.D0.B5.D1.80.D0.B5.D0.BC.D0.B5.D1.89.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BE.D0.BA.D0.BE.D0.BD_.D0.B2_GNOME3"></span><span class="mw-headline" id="Задержки/медленные_перемещения_окон_в_GNOME3">Задержки/медленные перемещения окон в GNOME3</span>
</h3>
<p>You can try this solution, it has been reported to work for many people.
</p>
<p>Add this line into <code>~/.profile</code> or into <code>/etc/profile</code>:
</p>
<pre>export CLUTTER_VBLANK=none
</pre>
<p>Restart X server or reboot your system.
</p>
<h3>
<span id="Not_using_full_screen_resolution_at_1920x1080_.28underscanning.2C_black_borders_around_the_screen.29"></span><span class="mw-headline" id="Not_using_full_screen_resolution_at_1920x1080_(underscanning,_black_borders_around_the_screen)">Not using full screen resolution at 1920x1080 (underscanning, black borders around the screen)</span>
</h3>
<p>This usually happens when you use a HDMI connection to connect your monitor/TV to your computer.
</p>
<p>Seemed to be a feature by AMD/ATI to work with all HDTVs that could be adjusted via the amdccle.
</p>
<p>Using the amdcccle GUI you can select the affected display, go to adjustments, and set underscan to 0% (aticonfig defaults to 15% underscan). It is possible as well that the underscan slider will not show under the display's adjustments, as sometimes in (at least) version 14.10.
</p>
<p>The problem is that the settings will not persist after restarting X server or rebooting or wake up or might even revert after changing TTYs.
</p>
<p>For the changes to become permanent, you will need to adjust the underscan settings manually using "aticonfig" via console (as root) or manually edit the file <code>/etc/ati/amdpcsdb</code> (as root)
</p>
<p><b>using aticonfig method:</b>
</p>
<pre># aticonfig --set-pcs-u32=MCIL,DigitalHDTVDefaultUnderscan,0
</pre>
<p>After changing the settings, reboot.
</p>
<p>For newer version (for example, 12.11), if Catalyst control center repeatedly fails to save the overscan setting you can also try:
</p>
<pre># aticonfig --set-pcs-u32=MCIL,TVEnableOverscan,0
</pre>
<p><b>Manually editing /etc/ati/amdpcsdb method:</b>
</p>
<p>Add the following line anywhere under the following header <code>[AMDPCSROOT/SYSTEM/MCIL]</code>
</p>
<pre># DigitalHDTVDefaultUnderscan=V0
</pre>
<p>For newer version (for example, 12.11), if Catalyst control center repeatedly fails to save the overscan setting you can also try:
locate under <code>[AMDPCSROOT/SYSTEM/MCIL]</code> the following line 
</p>
<pre># TVEnableOverscan=V1
</pre>
<p>and change it to
</p>
<pre># TVEnableOverscan=V0
</pre>
<p>After changing the settings, reboot.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> You might find that the file <code>/etc/ati/amdpcsdb</code> will be overwritten and revert no matter what you do as user or as root even with log in/log out/reboot, ergo the modification will not stick.
<p>For the amd database file not to be overwritten you have to modify it without the fgrlx driver running.
</p>
This can be made by rebooting in any "safe mode" that will not use the driver or directly booting into console mode</div>
<p><b>Workaround:</b>
For whatever reason you can find yourself not wanting to touch ATI's config files you can circumvent the problem by forcing the panel's position and resolution:
as user:
</p>
<pre># aticonfig --set-dispattrib=DISPLAYTYPE,positionX:0
# aticonfig --set-dispattrib=DISPLAYTYPE,positionY:0
# aticonfig --set-dispattrib=DISPLAYTYPE,sizeX:1920
# aticonfig --set-dispattrib=DISPLAYTYPE,sizeY:1080
</pre>
<p><code>DISPLAYTYPE</code> will be the name of the monitor you want to change it's attributes, for example "dfp9".
To get the name of your <code>DISPLAYTYPE</code> run the following command:
</p>
<pre># xrandr --current
</pre>
<p>Should RandR be not enabled use:
</p>
<pre># aticonfig --query-monitor
</pre>
<p>Using the display switch or DISPLAY variable set to the appropriate display/screen (:0.1 for example) might be necessary.
</p>
<p>That will show you which displays are connected and disconnected and it's properties
</p>
<p>This workaround will not persist but it is a quick fix that will show that the panel works just fine and that the above solutions are to be put into place.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <code>aticonfig --set-pcs-val=MCIL,DigitalHDTVDefaultUnderscan,0</code> should not be used on newer versions of the driver as it is deprecated and will be soon removed as stated by ATI.</div>
<p>Try <code>aticonfig --help | grep set-pcs-val</code> to read ATI's notice
</p>
<h3>
<span id="Dual_Screen_Setup:_general_problems_with_acceleration.2C_OpenGL.2C_compositing.2C_performance"></span><span class="mw-headline" id="Dual_Screen_Setup:_general_problems_with_acceleration,_OpenGL,_compositing,_performance">Dual Screen Setup: general problems with acceleration, OpenGL, compositing, performance</span>
</h3>
<p>Try to disable xinerama and xrandr12. Check out ie. this way:
</p>
<p>Type those commands:
</p>
<pre># aticonfig --initial
# aticonfig --set-pcs-str="DDX,EnableRandR12,FALSE"
</pre>
<p>Then reboot your system. In <code>/etc/X11/xorg.conf</code> check that xinerama is disabled, if it's not disable it and reboot your system.
</p>
<p>Next run <code>amdcccle</code> and pick up amdcccle → display manager → multi-display → multidisplay desktop with display(s) 2.
</p>
<p>Reboot again and set up your display layout whatever you desire.
</p>
<h3><span class="mw-headline" id="Disabling_VariBright_feature">Disabling VariBright feature</span></h3>
<p>Type the following command to disable VariBright:
</p>
<pre># aticonfig --set-pcs-u32=MCIL,PP_UserVariBrightEnable,0
</pre>
<h3>
<span id="Hybrid.2FPowerXpress:_turning_off_discrete_GPU"></span><span class="mw-headline" id="Hybrid/PowerXpress:_turning_off_discrete_GPU">Hybrid/PowerXpress: turning off discrete GPU</span>
</h3>
<p>When you are using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/catalyst-total-pxp/">catalyst-total-pxp</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup> or catalyst-utils-pxp and you are switching to integrated GPU you may notice that discrete GPU is still working, consuming power and making your system's temperature higher. 
</p>
<p>Sometimes ie. when your integrated GPU is intel's one you can use <code>vgaswitcheroo</code> to turn the discrete GPU off.
Sometimes unfortunatelly, it's not working.
</p>
<p>Then you may check out <a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/?O=0&amp;K=acpi_call">acpi_call</a>. MrDeepPurple has prepared the script which he's using to perform 'turn off' task, he's calling script via systemd service while booting and resuming his system.
Here is his script:
</p>
<pre>#!/bin/sh
libglx=$(/usr/lib/fglrx/switchlibglx query)
modprobe acpi_call
if [ "$libglx" = "intel" ]; then
    echo '\_SB.PCI0.PEG0.PEGP._OFF' &gt; /proc/acpi/call
fi
</pre>
<h3>
<span id="Switching_from_X_session_to_TTYs_gives_a_blank_screen.2Flow_resolution_TTY"></span><span class="mw-headline" id="Switching_from_X_session_to_TTYs_gives_a_blank_screen/low_resolution_TTY">Switching from X session to TTYs gives a blank screen/low resolution TTY</span>
</h3>
<p>Workaround for this "feature", which appeared in catalyst 13.2 betas, is to use <code>vga=</code> kernel option, like <code>vga=792</code>.
You can get the list of supported resolutions with the
</p>
<pre>$ hwinfo --framebuffer
</pre>
<p>command. Get the one that corresponds to your wanted resolution, and copy-paste it into kernel line of your bootloader, so it could look like ie. <code>vga=0x03d4</code>
</p>
<h3><span class="mw-headline" id="Switching_from_X_session_to_TTYs_gives_a_black_screen_with_the_monitor_backlight_on">Switching from X session to TTYs gives a black screen with the monitor backlight on</span></h3>
<p>Используйте <a href="/title/Uvesafb" title="Uvesafb">uvesafb</a> в качестве драйвера для фреймбуфера. Кроме того с помощью <code>uvesafb</code> вы можете установить любое разрешение в TTY.
</p>
<h3><span class="mw-headline" id="Switching_to_TTYs_then_back_to_X_session_gives_a_black_screen_with_a_mouse_cursor">Switching to TTYs then back to X session gives a black screen with a mouse cursor</span></h3>
<p>If you experience this bug, try adding
</p>
<pre>Option      "XAANoOffscreenPixmaps" "true"
</pre>
<p>to the 'Device' section of your xorg.conf file.
</p>
<p>Also, make sure you have a <a href="/title/Polkit#Authentication_agents" title="Polkit">polkit authentication agent</a> installed and running, as this behavior can happen when a program is asking for a password, but does not have an authentication agent installed to display the password dialog box.
</p>
<h3>
<span id="30_FPS_.2F_Tear-Free_.2F_V-Sync_bug"></span><span class="mw-headline" id="30_FPS_/_Tear-Free_/_V-Sync_bug">30 FPS / Tear-Free / V-Sync bug</span>
</h3>
<p>Bug introduced in Catalyst 13.6 beta, not fixed till now (13.9).
</p>
<p>After enabling "Tear-Free" functionality every freshly started OpenGL application is lagging, often generates only 30 FPS, it also touches composited desktop.
</p>
<p>Workaround is pretty simple and was found by M132. Here are the steps, do everything in "AMD Catalyst Control Center" (amdcccle) application:
</p>
<pre>1. Enable Tear-Free, it will set 3D V-Sync option to "Always on".
2. Set 3D V-Sync to "Always Off".
3. Make sure Tear-Free is still on.
4. Restart X / Re-login.
</pre>
<p>It is working well on KDE 4.11.x, but in case of problems M132 suggests: "Try disabling "Detect refresh rate" and specify monitor's refresh rate in the Composite plugin."
</p>
<h3><span class="mw-headline" id="Backlight_adjustment_does_not_work">Backlight adjustment does not work</span></h3>
<p>If you have a problem with backlight adjustment, you can try the following command: 
</p>
<pre># aticonfig --set-pcs-u32=MCIL,PP_PhmUseDummyBackEnd,1
</pre>
<p>Some users reported that this can decrease FPS. To restore defaults, run:
</p>
<pre># aticonfig --set-pcs-u32=MCIL,PP_PhmUseDummyBackEnd,0
</pre>
<p><a rel="nofollow" class="external text" href="https://ati.cchtml.com/show_bug.cgi?id=711">Read more about this bug</a>
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="http://wiki.cchtml.com/index.php/Main_Page">Unofficial Wiki for the ATI Linux Driver</a></li>
<li><a rel="nofollow" class="external text" href="https://ati.cchtml.com/query.cgi">Unofficial ATI Linux Driver Bugzilla</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="/title/Special:Categories" title="Special:Categories">Categories</a>: <ul>
<li><a href="/title/Category:Graphics_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Category:Graphics (Русский)">Graphics (Русский)</a></li>
<li><a href="/title/Category:X_server_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Category:X server (Русский)">X server (Русский)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="/title/Category:Pages_with_broken_package_links" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="/title/Category:Pages_with_broken_section_links" title="Category:Pages with broken section links">Pages with broken section links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=AMD_Catalyst_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=669858">https://wiki.archlinux.org/index.php?title=AMD_Catalyst_(Русский)&amp;oldid=669858</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 9 May 2021, at 07:50.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="/title/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/title/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="/title/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
