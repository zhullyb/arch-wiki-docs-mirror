<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Default applications (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Default_applications_Русский rootpage-Default_applications_Русский skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Default applications (Русский)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../en/Default_applications.html" title="Default applications">Default applications</a>. Дата последней синхронизации: 13 декабря 2017. Вы можете <a href="../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Default_applications&amp;diff=0&amp;oldid=502566">изменения</a>.</div>
<div class="archwiki-template-meta-related-articles-start">
<p>Ссылки по теме</p>
<ul>
<li><a href="../ru/Desktop_entries.html" class="mw-redirect" title="Ярлыки приложений">Ярлыки приложений</a></li>
<li><a href="../ru/Desktop_environment.html" class="mw-redirect" title="Окружение рабочего стола">Окружение рабочего стола</a></li>
<li><a href="../ru/Window_manager.html" class="mw-redirect" title="Оконный менеджер">Оконный менеджер</a></li>
</ul>
</div>
<p><b>Зачем нужны типы MIME</b>: Благодаря им программа "узнает", как поступить с некоторым файлом, например есть файл с расширением <i>.pdf</i> ОС должна "знать", чем открыть и как поступить с данным файлом. Как раз типы MIME сообщают ОС об этом.
</p>
<p>Существует множество приложений,способных обрабатывать данные одного определенного типа, поэтому пользователи и даже некоторые пакеты собирают списки приложений по умолчанию для каждого <a href="#%D0%A2%D0%B8%D0%BF%D1%8B_MIME">#типа MIME</a>. Хотя изначально Arch Linux не определяет приложения по умолчанию, <a href="../ru/Desktop_environment.html" class="mw-redirect" title="Окружение рабочего стола">окружение рабочего стола</a> может это сделать. Также некоторые окружения рабочего стола предоставляют графический интерфейс или файловый менеджер, которые могут интерактивно настраивать приложения по умолчанию. Если вы не используете окружение рабочего стола, вам может потребоваться установить дополнительное программное обеспечение для удобного управления приложениями по умолчанию.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%D0%A2%D0%B8%D0%BF%D1%8B_MIME"><span class="tocnumber">1</span> <span class="toctext">Типы MIME</span></a>
<ul>
<li class="toclevel-2 tocsection-2">
<a href="#%D0%91%D0%B0%D0%B7%D0%B0_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85_MIME"><span class="tocnumber">1.1</span> <span class="toctext">База данных MIME</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#%D0%9D%D0%BE%D0%B2%D1%8B%D0%B9_%D1%82%D0%B8%D0%BF_MIME"><span class="tocnumber">1.1.1</span> <span class="toctext">Новый тип MIME</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-4"><a href="#%D0%AF%D1%80%D0%BB%D1%8B%D0%BA%D0%B8_%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B9"><span class="tocnumber">1.2</span> <span class="toctext">Ярлыки приложений</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5">
<a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B9_%D0%BF%D0%BE_%D1%83%D0%BC%D0%BE%D0%BB%D1%87%D0%B0%D0%BD%D0%B8%D1%8E"><span class="tocnumber">2</span> <span class="toctext">Установка приложений по умолчанию</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#%D0%9F%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D0%BE%D0%BA%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F"><span class="tocnumber">2.1</span> <span class="toctext">Переменные окружения</span></a></li>
<li class="toclevel-2 tocsection-7">
<a href="#%D0%A1%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82_XDG"><span class="tocnumber">2.2</span> <span class="toctext">Стандарт XDG</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82"><span class="tocnumber">2.2.1</span> <span class="toctext">Формат</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="#mailcap"><span class="tocnumber">2.3</span> <span class="toctext">mailcap</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10">
<a href="#%D0%A3%D1%82%D0%B8%D0%BB%D0%B8%D1%82%D1%8B"><span class="tocnumber">3</span> <span class="toctext">Утилиты</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#xdg-utils"><span class="tocnumber">3.1</span> <span class="toctext">xdg-utils</span></a></li>
<li class="toclevel-2 tocsection-12">
<a href="#%D0%90%D0%BB%D1%8C%D1%82%D0%B5%D1%80%D0%BD%D0%B0%D1%82%D0%B8%D0%B2%D1%8B_xdg-open"><span class="tocnumber">3.2</span> <span class="toctext">Альтернативы xdg-open</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#perl-file-mimeinfo"><span class="tocnumber">3.2.1</span> <span class="toctext">perl-file-mimeinfo</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#mimeo"><span class="tocnumber">3.2.2</span> <span class="toctext">mimeo</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#whippet"><span class="tocnumber">3.2.3</span> <span class="toctext">whippet</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#%D0%A1%D0%BE%D0%B1%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D0%B7%D0%B0%D0%BC%D0%B5%D0%BD%D1%8B"><span class="tocnumber">3.2.4</span> <span class="toctext">Собственные замены</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-17"><a href="#lsdesktopf"><span class="tocnumber">3.3</span> <span class="toctext">lsdesktopf</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18">
<a href="#%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC"><span class="tocnumber">4</span> <span class="toctext">Решение проблем</span></a>
<ul>
<li class="toclevel-2 tocsection-19"><a href="#%D0%9E%D1%82%D1%81%D1%83%D1%82%D1%81%D1%82%D0%B2%D1%83%D0%B5%D1%82_%D1%84%D0%B0%D0%B9%D0%BB_.desktop"><span class="tocnumber">4.1</span> <span class="toctext">Отсутствует файл .desktop</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#%D0%9E%D1%82%D1%81%D1%83%D1%82%D1%81%D1%82%D0%B2%D1%83%D0%B5%D1%82_%D0%B0%D1%81%D1%81%D0%BE%D1%86%D0%B8%D0%B0%D1%86%D0%B8%D1%8F"><span class="tocnumber">4.2</span> <span class="toctext">Отсутствует ассоциация</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#%D0%9D%D0%B5%D1%82_%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BF%D0%BE_%D1%83%D0%BC%D0%BE%D0%BB%D1%87%D0%B0%D0%BD%D0%B8%D1%8E"><span class="tocnumber">4.3</span> <span class="toctext">Нет приложения по умолчанию</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#%D0%9D%D0%B5%D1%81%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82%D0%BD%D0%B0%D1%8F_%D0%B0%D1%81%D1%81%D0%BE%D1%86%D0%B8%D0%B0%D1%86%D0%B8%D1%8F"><span class="tocnumber">4.4</span> <span class="toctext">Нестандартная ассоциация</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#%D0%9F%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D0%B2_%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D1%85_.desktop,_%D0%BA%D0%BE%D1%82%D0%BE%D1%80%D1%8B%D0%B5_%D0%B2%D0%BB%D0%B8%D1%8F%D1%8E%D1%82_%D0%BD%D0%B0_%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA_%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F"><span class="tocnumber">4.5</span> <span class="toctext">Переменные в файлах .desktop, которые влияют на запуск приложения</span></a></li>
</ul>
</li>
</ul>
</div>

<h2>
<span id=".D0.A2.D0.B8.D0.BF.D1.8B_MIME"></span><span class="mw-headline" id="Типы_MIME">Типы MIME</span>
</h2>
<p>Перед установкой приложения по умолчанию для каждого типа файла, тип файла должен быть обнаружен. Существует два распространенных способа проверить это:
</p>
<ul>
<li>используя расширение имени файла, например .html или .jpeg</li>
<li>используя <a href="https://en.wikipedia.org/wiki/ru:%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D1%81%D0%B8%D0%B3%D0%BD%D0%B0%D1%82%D1%83%D1%80_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2" class="extiw" title="w:ru:Список сигнатур файлов">магическое число</a> в первых байтах файла</li>
</ul>
<p>Однако возможно, что один тип файла идентифицируется несколькими различными магическими числами и расширениями имен файлов, поэтому <a href="https://en.wikipedia.org/wiki/ru:MIME-%D1%82%D0%B8%D0%BF%D1%8B" class="extiw" title="w:ru:MIME-типы">типы MIME</a> используются для представления различных типов файлов. Типы MIME определяются двумя частями, разделенными косой чертой: <code><i>тип</i>/<i>подтип</i></code>. Тип описывает общую категорию содержимого, тогда как подтип идентифицирует конкретный тип данных. Например, <code>image/jpeg</code> является типом MIME для <a href="https://en.wikipedia.org/wiki/ru:JPEG" class="extiw" title="w:ru:JPEG">JPEG</a> изображений, тогда как <code>video/H264</code> является типом MIME для <a href="https://en.wikipedia.org/wiki/ru:H.264" class="extiw" title="w:ru:H.264">H.264</a> видео.
</p>
<p>Технически каждый тип MIME должен быть зарегистрирован в <a href="https://en.wikipedia.org/wiki/ru:IANA" class="extiw" title="w:ru:IANA">IANA</a><a rel="nofollow" class="external autonumber" href="https://www.iana.org/assignments/media-types/media-types.xhtml">[1]</a>, однако многие приложения используют неофициальные типы MIME; они часто имеют тип, начинающийся с <code>x-</code>, например <code>x-scheme-handler/https</code> для HTTPS URL. Для локального использования, <a href="#%D0%91%D0%B0%D0%B7%D0%B0_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85_MIME">#База данных MIME</a> может использоваться другими пакетами для регистрации новых типов MIME.
</p>
<h3>
<span id=".D0.91.D0.B0.D0.B7.D0.B0_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85_MIME"></span><span class="mw-headline" id="База_данных_MIME">База данных MIME</span>
</h3>
<p>Система поддерживает базу данных распознанных типов MIME: <a rel="nofollow" class="external text" href="https://specifications.freedesktop.org/shared-mime-info-spec/shared-mime-info-spec-0.11.html#idm139839923550176">Общая база данных MIME</a>. База данных построена из файлов XML, установленных пакетами в <code>/usr/share/mime/packages</code>, используя инструменты из <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=shared-mime-info">shared-mime-info</a></span>.
</p>
<p>Файлы в <code>/usr/share/mime/</code> не должны редактироваться напрямую, однако их можно сохранить в отдельную базу данных для каждого пользователя в <code>~/.local/share/mime/</code>.
</p>
<h4>
<span id=".D0.9D.D0.BE.D0.B2.D1.8B.D0.B9_.D1.82.D0.B8.D0.BF_MIME"></span><span class="mw-headline" id="Новый_тип_MIME">Новый тип MIME</span>
</h4>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Является ли процесс другим для назначения расширения существующего типа MIME? (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Default_applications_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)">Talk:Default applications (Русский)#</a>)</div>
</div>
<p>В этом примере определяется новый тип MIME <code>application/x-foobar</code> и присваивается любому файлу с расширением <i>.foo</i>. Просто создайте следующий файл:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.local/share/mime/packages/application-x-foobar.xml</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;mime-info xmlns="http://www.freedesktop.org/standards/shared-mime-info"&gt;
    <b>&lt;mime-type type="application/x-foobar"&gt;</b>
        &lt;comment&gt;foo file&lt;/comment&gt;
        &lt;icon name="application-x-foobar"/&gt;
        &lt;glob-deleteall/&gt;
        <b>&lt;glob pattern="*.foo"/&gt;</b>
    &lt;/mime-type&gt;
&lt;/mime-info&gt;</pre>
<p>А затем обновите базу данных MIME
</p>
<pre>$ update-mime-database ~/.local/share/mime
</pre>
<p>Конечно, это никак не повлияет, если ярлыки приложения не связаны с типом MIME. Вам может потребоваться создать новые <a href="#%D0%AF%D1%80%D0%BB%D1%8B%D0%BA%D0%B8_%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B9">#Ярлыки приложений</a> или отредактировать <a href="#%D0%A1%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82_XDG">#mimeapps.list</a>.
</p>
<h3>
<span id=".D0.AF.D1.80.D0.BB.D1.8B.D0.BA.D0.B8_.D0.BF.D1.80.D0.B8.D0.BB.D0.BE.D0.B6.D0.B5.D0.BD.D0.B8.D0.B9"></span><span class="mw-headline" id="Ярлыки_приложений">Ярлыки приложений</span>
</h3>
<p>Каждый пакет может использовать <a href="../ru/Desktop_entries.html" class="mw-redirect" title="Ярлыки приложений">ярлыки приложений</a> для предоставления информации о типах MIME, которые могут быть обработаны с помощью программного обеспечения.  Чтобы обеспечить быстрый поиск в обратном направлении, система использует инструменты из пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=desktop-file-utils">desktop-file-utils</a></span> для анализа файлов рабочего стола и создания обратного сопоставления, хранящегося в <code>/usr/share/applications/mimeinfo.cache</code>. Это единственный файл, который программы должны прочитать, чтобы найти все файлы рабочего стола, которые могут использоваться для обработки данного типа MIME. Использование базы данных проще и быстрее, чем непосредственно считывать сотни файлов <i>.desktop.</i>
</p>
<p>Файлы в <code>/usr/share/applications/</code> не должны редактироваться напрямую, можно поддерживать отдельную базу данных для каждого пользователя в <code>~/.local/share/applications/</code>. Для получения дополнительной информации смотрите статью <a href="../ru/Desktop_entries.html" class="mw-redirect" title="Ярлыки приложений">Ярлыки приложений</a>.
</p>
<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.BF.D1.80.D0.B8.D0.BB.D0.BE.D0.B6.D0.B5.D0.BD.D0.B8.D0.B9_.D0.BF.D0.BE_.D1.83.D0.BC.D0.BE.D0.BB.D1.87.D0.B0.D0.BD.D0.B8.D1.8E"></span><span class="mw-headline" id="Установка_приложений_по_умолчанию">Установка приложений по умолчанию</span>
</h2>
<p>Настройка приложений по умолчанию зависит от используемого лаунчера. К сожалению, существует несколько несовместимых стандартов, и многие программы даже имеют свои собственные форматы.
</p>
<p>Наиболее распространенные стандарты описаны ниже для ручного редактирования. Также существует несколько <a href="#%D0%A3%D1%82%D0%B8%D0%BB%D0%B8%D1%82%D1%8B">#Утилит</a>, которые могут сделать работу, которая может или не может реализовать следующие стандарты.
</p>
<h3>
<span id=".D0.9F.D0.B5.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.BD.D1.8B.D0.B5_.D0.BE.D0.BA.D1.80.D1.83.D0.B6.D0.B5.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Переменные_окружения">Переменные окружения</span>
</h3>
<p>Консольные программы, в частности, настраиваются путем установки соответствующей <a href="../ru/Environment_variables.html" title="Environment variables (Русский)">переменной окружения</a>, например, <code>BROWSER</code> или <code>EDITOR</code>. Смотрите раздел <a href="../ru/Environment_variables.html#%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B" class="mw-redirect" title="Переменные окружения">Переменные окружения#Примеры</a>.
</p>
<h3>
<span id=".D0.A1.D1.82.D0.B0.D0.BD.D0.B4.D0.B0.D1.80.D1.82_XDG"></span><span class="mw-headline" id="Стандарт_XDG">Стандарт XDG</span>
</h3>
<p><a rel="nofollow" class="external text" href="https://specifications.freedesktop.org/mime-apps-spec/mime-apps-spec-1.0.html">Стандарт XDG</a> является наиболее распространенным при настройке окружения рабочего стола. Приложения по умолчанию для каждого типа MIME хранятся в файлах <code>mimeapps.list</code>, которые могут храниться в нескольких местах. Их проверяют в следующем порядке, причем более ранние ассоциации имеют приоритет над более поздними:
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Путь</th>
<th>Применение
</th>
</tr>
<tr>
<td><code>~/.config/mimeapps.list</code></td>
<td>пользовательские переопределения
</td>
</tr>
<tr>
<td><code>/etc/xdg/mimeapps.list</code></td>
<td>общесистемные переопределения
</td>
</tr>
<tr>
<td><code>~/.local/share/applications/mimeapps.list</code></td>
<td>(<b>Устаревшее</b>) пользовательские переопределения
</td>
</tr>
<tr>
<td>
<code>/usr/local/share/applications/mimeapps.list</code><br><code>/usr/share/applications/mimeapps.list</code>
</td>
<td>переопределения предоставляемые дистрибутивом по умолчанию
</td>
</tr>
</tbody>
</table>
<p>Кроме того, можно определить <a href="../ru/Desktop_environment.html" class="mw-redirect" title="Окружение рабочего стола">окружение рабочего стола</a> по умолчанию для конкретных приложений в файле с именем <code><i>desktop</i>-mimeapps.list</code> где <code><i>desktop</i></code> это имя окружения рабочего стола (Из переменной окружения <code>XDG_CURRENT_DESKTOP</code>). Например, <code>/etc/xdg/xfce-mimeapps.list</code> определяет общесистемные переопределения приложений по умолчанию для <a href="../ru/Xfce.html" title="Xfce (Русский)">Xfce</a>. Эти переопределения для рабочего стола имеют приоритет над соответствующим файлом, не относящимся к окружению рабочему столу. Например, <code>/etc/xdg/xfce-mimeapps.list</code> имеет приоритет над <code>/etc/xdg/mimeapps.list</code>, но по-прежнему переопределяется <code>~/.config/mimeapps.list</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Несмотря на то, что несколько устаревших приложений все еще читают/записывают в <code>~/.local/share/applications/mimeapps.list</code>. Чтобы облегчить обслуживание, просто соедините его ссылкой <pre>$ ln -s ~/.config/mimeapps.list ~/.local/share/applications/mimeapps.list</pre>. Обратите внимание, что символическая ссылка должна быть по этому пути, потому что <a href="#xdg-utils">#xdg-utils</a> удаляет и воссоздает <code>~/.config/mimeapps.list</code> при записи в него, что приведет к поломке любых символических/жестких ссылок.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Вы также можете найти файлы в этих местах с именем <code>defaults.list</code>. Этот файл похож на <code>mimeapps.list</code>, за исключением того, что он отображает только приложения по умолчанию (не добавленные/удаленные ассоциации). Сейчас он устарел и должен быть вручную объединен с <code>mimeapps.list</code>.</div>
<h4>
<span id=".D0.A4.D0.BE.D1.80.D0.BC.D0.B0.D1.82"></span><span class="mw-headline" id="Формат">Формат</span>
</h4>
<p>Рассмотрим следующий пример:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">mimeapps.list</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Added Associations]
image/jpeg=bar.desktop;baz.desktop
video/H264=bar.desktop
[Removed Associations]
video/H264=baz.desktop
[Default Applications]
image/jpeg=foo.desktop</pre>
<p>Каждый раздел назначает один или несколько ярлыков приложений типам MIME.
</p>
<ul>
<li>
<b>Added Associations</b> (Добавленные ассоциации) указывают, что приложения поддерживают открытие этого типа MIME. Например, <code>bar.desktop</code> и <code>baz.desktop</code> могут открывать изображения JPEG. Это может повлиять на список приложений, который вы видите при щелчке правой кнопкой мыши по файлу в файловом менеджере.</li>
<li>
<b>Removed Associations</b> (Удаленные ассоциации) указывают, что приложения <i>не</i> поддерживают этот тип MIME. Например, <code>baz.desktop</code> не может открыть видео H.264.</li>
<li>
<b>Default Applications</b> (Приложения по умолчанию) указывают, что приложения должны выбираться по умолчанию для открытия этого типа MIME. Например, изображения JPEG должны быть открыты с помощью <code>foo.desktop</code>. Это неявно добавляет связь между приложением и типом MIME. Если есть несколько приложений, они проверяются по порядку.</li>
</ul>
<p>Каждый раздел является необязательным и может быть опущен, если он не нужен.
</p>
<h3><span class="mw-headline" id="mailcap">mailcap</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Согласно <span class="plainlinks archwiki-template-man" title="$ man 4 mailcap"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/mailcap.4">mailcap(4)</a></span><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-08-24]</sup>, подстановочные знаки поддерживаются только для подтипа, а не для (основного) типа. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Default_applications_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)">Talk:Default applications (Русский)#</a>)</div>
</div>
<p>Формат <span class="plainlinks archwiki-template-man" title="$ man 4 mailcap"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/mailcap.4">mailcap(4)</a></span><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-05-22]</sup> используется почтовыми программами, такими как <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mutt">mutt</a></span> и <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sylpheed">sylpheed</a></span> для открытия нетекстовых файлов. Чтобы эти программы использовали <a href="#xdg-utils">xdg-open</a>, отредактируйте <code>~/.mailcap</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.mailcap</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">*/*; xdg-open "%s"
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Если вы используете <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/run-mailcap/">run-mailcap</a></span><sup><small>AUR</small></sup>, для него может быть делегирован <code>xdg-open</code>. Это вызовет бесконечный цикл, если вы настроили свой <code>.mailcap</code>, как описано выше.</div>
<h2>
<span id=".D0.A3.D1.82.D0.B8.D0.BB.D0.B8.D1.82.D1.8B"></span><span class="mw-headline" id="Утилиты">Утилиты</span>
</h2>
<p>Хотя можно настроить приложения по умолчанию и типы MIME путем прямого редактирования <a href="#%D0%A1%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82_XDG">#mimeapps.list</a> и <a href="#%D0%91%D0%B0%D0%B7%D0%B0_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85_MIME">#База данных MIME</a>, существует множество инструментов, которые могут упростить процесс. Эти инструменты также важны, поскольку приложения могут делегировать открытие файлов этими инструментами, а не пытаться реализовать стандарт типа MIME.
</p>
<p>Если вы используете <a href="../ru/Desktop_environment.html" class="mw-redirect" title="Окружение рабочего стола">окружение рабочего стола</a>, вы должны сначала проверить, предоставляет ли он свою собственную утилиту. Она должна быть предпочтительнее этих альтернатив.
</p>
<h3><span class="mw-headline" id="xdg-utils">xdg-utils</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xdg-utils">xdg-utils</a></span> предоставляет официальные утилиты для управления типами MIME и приложениями по умолчанию в соответствии со <a href="#%D0%A1%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82_XDG">стандартом XDG</a>. Самое главное, что он предоставляет <code>/usr/bin/xdg-open</code>, который используют многие приложения, чтобы открыть файл с помощью приложения по умолчанию. Он не зависит от окружения рабочего стола, в том смысле, что он пытается использовать собственный инструмент приложения по умолчанию для каждой среды и предоставляет свой собственный механизм, если неизвестная среда не обнаружена. Примеры:
</p>
<pre># определение типа MIME файла
$ xdg-mime query filetype photo.jpeg
image/jpeg

# определение приложения по умолчанию для типа MIME
$ xdg-mime query default image/jpeg
gimp.desktop

# изменение приложения по умолчанию для типа MIME
$ xdg-mime default feh.desktop image/jpeg

# открытие файла со своим стандартным приложением
$ xdg-open photo.jpeg

# ярлык для открытия всех веб типов MIME с помощью одного приложения
$ xdg-settings set default-web-browser firefox.desktop

# ярлык для установки приложения по умолчанию для схемы URL
$ xdg-settings set default-url-scheme-handler irc xchat.desktop
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Если окружение рабочего стола не обнаружено, обнаружение типа MIME возвращается к использованию <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=file">file</a></span> который—по иронии судьбы—не реализует стандарт XDG. Если вы хотите, чтобы <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xdg-utils">xdg-utils</a></span> работал нормально без окружения рабочего стола, вам необходимо установить <a href="#perl-file-mimeinfo">#perl-file-mimeinfo</a> или одну из <a href="#%D0%90%D0%BB%D1%8C%D1%82%D0%B5%D1%80%D0%BD%D0%B0%D1%82%D0%B8%D0%B2%D1%8B_xdg-open">альтернатив xdg-open</a>.</div>
<h3>
<span id=".D0.90.D0.BB.D1.8C.D1.82.D0.B5.D1.80.D0.BD.D0.B0.D1.82.D0.B8.D0.B2.D1.8B_xdg-open"></span><span class="mw-headline" id="Альтернативы_xdg-open">Альтернативы xdg-open</span>
</h3>
<p>Из-за сложности <a href="#xdg-utils">#xdg-utils</a> версии <code>xdg-open</code> может быть сложно отлаживать, когда открывается неправильное приложение по умолчанию. Из-за этого существует множество альтернатив, которые пытаются улучшить его. Некоторые из этих альтернатив заменяют двоичный файл <code>/usr/bin/xdg-open</code>, тем самым изменяя поведение приложений по умолчанию для большинства приложений. Другие просто предоставляют альтернативный метод выбора приложений по умолчанию.
</p>
<h4><span class="mw-headline" id="perl-file-mimeinfo">perl-file-mimeinfo</span></h4>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=perl-file-mimeinfo">perl-file-mimeinfo</a></span> предоставляет инструменты <code>mimeopen</code> и <code>mimetype</code>. Они имеют немного более приятный интерфейс, чем их эквиваленты <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xdg-utils">xdg-utils</a></span>:
</p>
<pre># определение типа MIME файла
$ mimetype photo.jpeg
photo.jpeg: image/jpeg

# выбор приложения по умолчанию для этого файла
$ mimeopen -d photo.jpeg
Please choose an application

    1) Feh (feh)
    2) GNU Image Manipulation Program (gimp)
    3) Pinta (pinta)

use application #

# открытие файла со своим стандартным приложением
$ mimeopen -n photo.jpeg
</pre>
<p>Самое главное, что приложения <a href="#xdg-utils">#xdg-utils</a> на самом деле вызывают <code>mimetype</code> вместо <code>file</code> для обнаружения типа MIME, если он не обнаруживает ваше <a href="../ru/Desktop_environment.html" class="mw-redirect" title="Окружение рабочего стола">окружение рабочего стола</a>. Это важно, потому что <code>file</code> не следует за <a href="#%D0%A1%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82_XDG">стандартом XDG</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=perl-file-mimeinfo">perl-file-mimeinfo</a></span> до версии 0.28-1 не <i>полностью</i> соответствует  <a href="#%D0%A1%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82_XDG">стандарту XDG</a>. Например, он не считывает <a rel="nofollow" class="external text" href="https://github.com/mbeijen/File-MimeInfo/issues/20">переопределения предоставляемые дистрибутивом по умолчанию</a> и сохраняет конфигурацию в <a rel="nofollow" class="external text" href="https://github.com/mbeijen/File-MimeInfo/issues/8">устаревших местах</a>.</div>
<h4><span class="mw-headline" id="mimeo">mimeo</span></h4>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mimeo/">mimeo</a></span><sup><small>AUR</small></sup> предоставляет инструмент <code>mimeo</code> который объединяет функции <code>xdg-open</code> и <code>xdg-mime</code>.
</p>
<pre># определение типа MIME файла
$ mimeo -m photo.jpeg
photo.jpeg
  image/jpeg

# выбор приложения по умолчанию для этого типа MIME
$ mimeo --add image/jpeg feh.desktop

# открытие файла со своим стандартным приложением
$ mimeo photo.jpeg
</pre>
<p>Однако большая разница с <i>xdg-utils</i> заключается в том, что mimeo также поддерживает пользовательские "файлы ассоциаций", которые допускают более сложные ассоциации. Например, передача определенных аргументов командной строки на основе регулярного выражения соответствует:
</p>
<pre># открытие ссылки на YouTube в VLC, не открывая новый экземпляр
vlc --one-instance --playlist-enqueue %U
  ^https?://(www.)?youtube.com/watch\?.*v=
</pre>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xdg-utils-mimeo/">xdg-utils-mimeo</a></span><sup><small>AUR</small></sup> исправляет <i>xdg-utils</i> так что <code>xdg-open</code> возвращается в mimeo, если окружение рабочего стола не обнаружено.
</p>
<h4><span class="mw-headline" id="whippet">whippet</span></h4>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/whippet/">whippet</a></span><sup><small>AUR</small></sup> предоставляет инструмент <code>whippet</code>, который похож на  <code>xdg-open</code>. Он имеет интеграцию с X11, используя <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libnotify">libnotify</a></span> для отображения ошибок и <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dmenu">dmenu</a></span> для отображения вариантов между открываемыми приложениями.
</p>
<pre># открытие файла со своим стандартным приложением
$ whippet -M photo.jpeg

# выбор из всех возможных приложений для открытия файла (без установки значения по умолчанию)
$ whippet -m photo.jpeg
</pre>
<p>В дополнение к стандарту <a href="#%D0%A1%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82_XDG">#mimeapps.list</a>, <i>whippet</i> также может использовать базу данных SQlite ассоциаций весового приложения/типа MIME/регулярных выражений для определения, какое приложение использовать.
</p>
<h4>
<span id=".D0.A1.D0.BE.D0.B1.D1.81.D1.82.D0.B2.D0.B5.D0.BD.D0.BD.D1.8B.D0.B5_.D0.B7.D0.B0.D0.BC.D0.B5.D0.BD.D1.8B"></span><span class="mw-headline" id="Собственные_замены">Собственные замены</span>
</h4>
<p>Следующие пакеты заменяют <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xdg-utils">xdg-utils</a></span>, однако они предоставляют только сценарий <code>xdg-open</code>. Эти версии <code>xdg-open</code> не выполняют каких-либо делегирования для инструментов, ориентированных на окружение рабочего стола и не читают/не записывают стандартный файл <a href="#%D0%A1%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82_XDG">#mimeapps.list</a> (каждый из них имеет свой собственный пользовательский конфиг), поэтому они не могут хорошо интегрироваться с другими программами, которые управляют приложениями по умолчанию. Однако вы можете найти их более простыми в использовании, если вы не используете окружение рабочего стола.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Если вам нужны какие-либо <code>xdg-*</code> двоичные файлы из <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xdg-utils">xdg-utils</a></span>, отличные от <code>xdg-open</code>, тогда вы не должны использовать эти приложения, так как они не предоставляют их.</div>
<table class="wikitable">
<tbody>
<tr>
<th>Пакет</th>
<th>Особенности
</th>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linopen/">linopen</a></span><sup><small>AUR</small></sup>
</td>
<td>Разрешает правила регулярного выражения, может указывать запасное приложение для открывания файлов
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mimi-git/">mimi-git</a></span><sup><small>AUR</small></sup>
</td>
<td>Может изменять аргументы команды для каждого типа MIME
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/busking-git/">busking-git</a></span><sup><small>AUR</small></sup>
</td>
<td>Аналогично <i>mimi</i>, но при этом поддерживает правила регулярных выражений
</td>
</tr>
<tr>
<td>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/sx-open/">sx-open</a></span><sup><small>AUR</small></sup>
</td>
<td>Использует простой конфигурационный файл на основе оболочки пользователя (shell)
</td>
</tr>
</tbody>
</table>
<h3><span class="mw-headline" id="lsdesktopf">lsdesktopf</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lsdesktopf/">lsdesktopf</a></span><sup><small>AUR</small></sup> предоставляет несколько способов поиска в базе данных MIME и ярлыков MIME на рабочем столе.
</p>
<p>Например, чтобы увидеть все расширения MIME в файлах <i>.desktop</i> в системе, которые имеют тип MIME <code>video</code>, вы можете использовать <code>lsdesktopf --gm -gx video</code> или для поиска в файлах базы данных XML, используйте <code>lsdesktopf --gdx -gx video</code>. Чтобы получить краткий обзор того, сколько и какие файлы <i>.desktop</i> могут быть связаны с определенным типом MIME, используйте <code>lsdesktopf --gen-mimeapps</code>. Чтобы просмотреть все расширения имен файлов в файлах базы данных XML, используйте <code>lsdesktopf --gdx -gfx</code>.
</p>
<h2>
<span id=".D0.A0.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC"></span><span class="mw-headline" id="Решение_проблем">Решение проблем</span>
</h2>
<p>Если файл не открывается вашим желаемым приложением по умолчанию, существует несколько возможных причин. Вам может потребоваться проверить каждый случай.
</p>
<h3>
<span id=".D0.9E.D1.82.D1.81.D1.83.D1.82.D1.81.D1.82.D0.B2.D1.83.D0.B5.D1.82_.D1.84.D0.B0.D0.B9.D0.BB_.desktop"></span><span class="mw-headline" id="Отсутствует_файл_.desktop">Отсутствует файл .desktop</span>
</h3>
<p>Для связывания приложений с типами MIME требуются <a href="../ru/Desktop_entries.html" class="mw-redirect" title="Ярлыки приложений">ярлыки приложений</a>. Убедитесь, что такая запись существует и может использоваться для открытия (вручную) файлов в приложении.
</p>
<h3>
<span id=".D0.9E.D1.82.D1.81.D1.83.D1.82.D1.81.D1.82.D0.B2.D1.83.D0.B5.D1.82_.D0.B0.D1.81.D1.81.D0.BE.D1.86.D0.B8.D0.B0.D1.86.D0.B8.D1.8F"></span><span class="mw-headline" id="Отсутствует_ассоциация">Отсутствует ассоциация</span>
</h3>
<p>Если в ярлыке приложения не указан тип MIME под его ключом <code>MimeType</code>, он не будет учитываться, когда приложение необходимо для открытия этого типа. Измените <a href="#%D0%A1%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82_XDG">#mimeapps.list</a>, чтобы добавить связь между файлом .desktop и типом MIME.
</p>
<h3>
<span id=".D0.9D.D0.B5.D1.82_.D0.BF.D1.80.D0.B8.D0.BB.D0.BE.D0.B6.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BF.D0.BE_.D1.83.D0.BC.D0.BE.D0.BB.D1.87.D0.B0.D0.BD.D0.B8.D1.8E"></span><span class="mw-headline" id="Нет_приложения_по_умолчанию">Нет приложения по умолчанию</span>
</h3>
<p>Если ярлык приложения связан с типом MIME, его просто нельзя установить как значение по умолчанию. Измените <a href="#%D0%A1%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82_XDG">#mimeapps.list</a>, чтобы установить связь по умолчанию.
</p>
<h3>
<span id=".D0.9D.D0.B5.D1.81.D1.82.D0.B0.D0.BD.D0.B4.D0.B0.D1.80.D1.82.D0.BD.D0.B0.D1.8F_.D0.B0.D1.81.D1.81.D0.BE.D1.86.D0.B8.D0.B0.D1.86.D0.B8.D1.8F"></span><span class="mw-headline" id="Нестандартная_ассоциация">Нестандартная ассоциация</span>
</h3>
<p>Приложения могут игнорировать или частично реализовывать <a href="#%D0%A1%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82_XDG">стандарт XDG</a>. Проверьте использование устаревших файлов, таких как <code>~/.local/share/applications/mimeapps.list</code> и <code>~/.local/share/applications/defaults.list</code>. Если вы пытаетесь открыть файл из другого приложения (например, веб-браузера или файлового менеджера), проверьте, имеет ли это приложение собственный способ выбора приложений по умолчанию.
</p>
<h3>
<span id=".D0.9F.D0.B5.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.BD.D1.8B.D0.B5_.D0.B2_.D1.84.D0.B0.D0.B9.D0.BB.D0.B0.D1.85_.desktop.2C_.D0.BA.D0.BE.D1.82.D0.BE.D1.80.D1.8B.D0.B5_.D0.B2.D0.BB.D0.B8.D1.8F.D1.8E.D1.82_.D0.BD.D0.B0_.D0.B7.D0.B0.D0.BF.D1.83.D1.81.D0.BA_.D0.BF.D1.80.D0.B8.D0.BB.D0.BE.D0.B6.D0.B5.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Переменные_в_файлах_.desktop,_которые_влияют_на_запуск_приложения">Переменные в файлах .desktop, которые влияют на запуск приложения</span>
</h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Тот факт, что записи <code>MimeType</code> могут отсутствовать в файлах рабочего стола, только подразумевается здесь, т. е. "Даже если приложение...",  хотя это есть общая причина ошибок. Некоторые приложения для открывания файлов могут также ассоциировать типы mime, явно не перечисленные в файле рабочего стола (такие как, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=exo">exo</a></span>). Большую роль играют дополнительные факторы, специфичные для окружающей среды, например, <code>Terminal=true</code> имеет последствия, хотя его следует, возможно, расширить в <a href="../ru/Desktop_entries.html" class="mw-redirect" title="Ярлыки приложений">Ярлыки приложений</a>. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Default_applications_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)">Talk:Default applications (Русский)#</a>)</div>
</div>
<p>Окружения рабочего стола и файловые менеджеры, поддерживающие программы запуска спецификаций в соответствии с определением в файлах <i>.desktop</i>. Смотрите раздел <a href="../ru/Desktop_entries.html#%D0%AF%D1%80%D0%BB%D1%8B%D0%BA_%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F" class="mw-redirect" title="Ярлыки приложений">Ярлыки приложений#Ярлык приложения</a>.
</p>
<p>Как правило, настройка упакованных файлов <i>.desktop</i> не требуется, но она может быть с ошибками. Даже если приложение содержит необходимое описание типа MIME в файле <i>.desktop</i>, то иногда переменная <code>MimeType</code>, которая используется для ассоциации, может неправильно запускаться или вообще не запускаться, или запускаться без открытия файла.
</p>
<p>Это может произойти, например, если в переменной <code>Exec</code> отсутствуют внутренние параметры, необходимые для открытия файла или того, как приложение отображается в меню. Переменная <code>Exec</code> обычно начинается с <code>%</code>; чтобы узнать поддерживаемые параметры в настоящее время смотрите <a rel="nofollow" class="external text" href="https://specifications.freedesktop.org/desktop-entry-spec/desktop-entry-spec-latest.html#exec-variables">exec-переменные</a>.
</p>
<p>В следующей таблице перечислены основные записи переменных файлов <i>.desktop</i> которые влияют на запуск приложения, если у него есть тип MIME, связанный с ним.
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Имена переменных</th>
<th>Пример 1</th>
<th>Пример 2</th>
<th>Описание
</th>
</tr>
<tr>
<td>DBusActivatable</td>
<td>DBusActivatable=true</td>
<td>DBusActivatable=false</td>
<td>Приложение взаимодействует с <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/dbus/">D-Bus</a>. <br> Смотрите также настройки: <a rel="nofollow" class="external text" href="https://specifications.freedesktop.org/desktop-entry-spec/desktop-entry-spec-latest.html#dbus">D-Bus</a>.
</td>
</tr>
<tr>
<td>MimeType</td>
<td>MimeType=application/vnd.oasis.opendocument.text</td>
<td>MimeType=application/vnd.sun.xml.math</td>
<td>Список типов MIME, поддерживаемых приложением
</td>
</tr>
<tr>
<td>StartupWMClass</td>
<td>StartupWMClass=google-chrome</td>
<td>StartupWMClass=xpad</td>
<td>Связывает окна с владельцем приложения
</td>
</tr>
<tr>
<td>Terminal</td>
<td>Terminal=true</td>
<td>Terminal=false</td>
<td>Запуск в терминале по умолчанию
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../ru/Category:System_administration.html" title="Category:System administration (Русский)">System administration (Русский)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Default_applications_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=660817">https://wiki.archlinux.org/index.php?title=Default_applications_(Русский)&amp;oldid=660817</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 16 April 2021, at 16:52.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
