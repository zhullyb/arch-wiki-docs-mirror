<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Fonts (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Fonts_Русский rootpage-Fonts_Русский skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Fonts (Русский)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../ru/Font_configuration.html" class="mw-redirect" title="Настройка шрифтов">Настройка шрифтов</a></li>
<li><a href="../ru/Font_configuration.html" class="mw-redirect" title="Infinality (Русский)">Infinality (Русский)</a></li>
<li><a href="../ru/Java_Runtime_Environment_fonts.html" class="mw-redirect" title="Шрифты окружения Java Runtime">Шрифты окружения Java Runtime</a></li>
<li><a href="../ru/Microsoft_fonts.html" class="mw-redirect" title="Шрифты Microsoft">Шрифты Microsoft</a></li>
</ul>
</div>
<p>Согласно <a rel="nofollow" class="external text" href="https://ru.wikipedia.org/wiki/%D0%A8%D1%80%D0%B8%D1%84%D1%82">Википедии</a>:
</p>
<dl><dd><i>Шрифт (нем. Schrift ← schreiben — писать) — графический рисунок начертаний букв и знаков, составляющих единую стилистическую и композиционную систему, набор символов определенного размера и рисунка.</i></dd></dl>
<p>Имейте в виду, что лицензия некоторых шрифтов может накладывать правовые ограничения.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D1%8B_%D1%88%D1%80%D0%B8%D1%84%D1%82%D0%BE%D0%B2"><span class="tocnumber">1</span> <span class="toctext">Форматы шрифтов</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#%D0%A0%D0%B0%D1%81%D0%BF%D1%80%D0%BE%D1%81%D1%82%D1%80%D0%B0%D0%BD%D1%91%D0%BD%D0%BD%D1%8B%D0%B5_%D1%80%D0%B0%D1%81%D1%88%D0%B8%D1%80%D0%B5%D0%BD%D0%B8%D1%8F"><span class="tocnumber">1.1</span> <span class="toctext">Распространённые расширения</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#%D0%94%D1%80%D1%83%D0%B3%D0%B8%D0%B5_%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D1%8B"><span class="tocnumber">1.2</span> <span class="toctext">Другие форматы</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4">
<a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0"><span class="tocnumber">2</span> <span class="toctext">Установка</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Pacman"><span class="tocnumber">2.1</span> <span class="toctext">Pacman</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%B0"><span class="tocnumber">2.2</span> <span class="toctext">Создание пакета</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%B2%D1%80%D1%83%D1%87%D0%BD%D1%83%D1%8E"><span class="tocnumber">2.3</span> <span class="toctext">Установка вручную</span></a></li>
</ul>
</li>
<li class="toclevel-1">
<a href="#%D0%A0%D0%B5%D0%BA%D0%BE%D0%BC%D0%B5%D0%BD%D0%B4%D0%B0%D1%86%D0%B8%D0%B8_%D0%BF%D0%BE_%D0%B2%D1%8B%D0%B1%D0%BE%D1%80%D1%83_%D1%88%D1%80%D0%B8%D1%84%D1%82%D0%BE%D0%B2"><span class="tocnumber">3</span> <span class="toctext">Рекомендации по выбору шрифтов</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_Droid_Fonts"><span class="tocnumber">3.1</span> <span class="toctext">Установка Droid Fonts</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_Bitstream_Vera_Fonts"><span class="tocnumber">3.2</span> <span class="toctext">Установка Bitstream Vera Fonts</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_Red_Hats_Liberation_Fonts"><span class="tocnumber">3.3</span> <span class="toctext">Установка Red Hats Liberation Fonts</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D1%88%D1%80%D0%B8%D1%84%D1%82%D0%BE%D0%B2_Microsoft%C2%AE"><span class="tocnumber">3.4</span> <span class="toctext">Установка шрифтов Microsoft<sup>®</sup></span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12">
<a href="#%D0%A8%D1%80%D0%B8%D1%84%D1%82%D1%8B_%D1%81_%D0%B2%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%BD%D1%8B%D0%BC_LCD_%D1%84%D0%B8%D0%BB%D1%8C%D1%82%D1%80%D0%BE%D0%BC"><span class="tocnumber">4</span> <span class="toctext">Шрифты с включенным LCD фильтром</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#%22LCD%22_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D1%8B"><span class="tocnumber">4.1</span> <span class="toctext">"LCD" пакеты</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#%22LCD%22_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D1%8B_c_%D0%BF%D0%B0%D1%82%D1%87%D0%B0%D0%BC%D0%B8_Ubuntu"><span class="tocnumber">4.2</span> <span class="toctext">"LCD" пакеты c патчами Ubuntu</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15">
<a href="#%D0%9A%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D1%8F"><span class="tocnumber">5</span> <span class="toctext">Конфигурация</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#%D0%9E%D0%B1%D1%89%D0%B8%D0%B5_%D0%BF%D0%BE%D0%BD%D1%8F%D1%82%D0%B8%D1%8F"><span class="tocnumber">5.1</span> <span class="toctext">Общие понятия</span></a></li>
<li class="toclevel-2 tocsection-17">
<a href="#%D0%A0%D0%B5%D0%BA%D0%BE%D0%BC%D0%B5%D0%BD%D0%B4%D0%B0%D1%86%D0%B8%D0%B8_%D0%BF%D0%BE_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B5_(%D0%B4%D0%BB%D1%8F_%D0%BF%D0%B0%D1%82%D1%87%D0%B5%D0%B9_*-ubuntu)"><span class="tocnumber">5.2</span> <span class="toctext">Рекомендации по настройке (для патчей *-ubuntu)</span></a>
<ul>
<li class="toclevel-3 tocsection-18"><a href="#cat_~/.fonts.conf_(%D0%B0%D0%BB%D1%8C%D1%82%D0%B5%D1%80%D0%BD%D0%B0%D1%82%D0%B8%D0%B2%D0%B0_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0%D0%BC_%D0%B2_/etc/fonts/...)"><span class="tocnumber">5.2.1</span> <span class="toctext">cat ~/.fonts.conf (альтернатива настройкам в /etc/fonts/...)</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-19">
<a href="#%D0%A8%D1%80%D0%B8%D1%84%D1%82_%D0%B2_%D0%BA%D0%BE%D0%BD%D1%81%D0%BE%D0%BB%D0%B8"><span class="tocnumber">6</span> <span class="toctext">Шрифт в консоли</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#%D0%A2%D0%B5%D0%BE%D1%80%D0%B8%D1%8F"><span class="tocnumber">6.1</span> <span class="toctext">Теория</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#%D0%9F%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D0%BA%D0%B0"><span class="tocnumber">6.2</span> <span class="toctext">Практика</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-22"><a href="#%D0%92%D0%BD%D0%B5%D1%88%D0%BD%D0%B8%D0%B5_%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B8"><span class="tocnumber">7</span> <span class="toctext">Внешние ссылки</span></a></li>
</ul>
</div>

<h2>
<span id=".D0.A4.D0.BE.D1.80.D0.BC.D0.B0.D1.82.D1.8B_.D1.88.D1.80.D0.B8.D1.84.D1.82.D0.BE.D0.B2"></span><span class="mw-headline" id="Форматы_шрифтов">Форматы шрифтов</span>
</h2>
<p>Большинство современных компьютерных шрифтов могут быть в <i>растровом</i> или <i>контурном</i> формате данных.
</p>
<dl>
<dt>Растровые шрифты</dt>
<dd>Состоит из матрицы точек или пикселей, представляющих рисунок каждого символа во всех размерах.</dd>
<dt>Контурные или <i>векторные</i> шрифты</dt>
<dd>Используются кривые Безье, инструкции отрисовки и математические формулы для описания каждого символа, что позволяет масштабировать символы в любой размер.</dd>
</dl>
<h3>
<span id=".D0.A0.D0.B0.D1.81.D0.BF.D1.80.D0.BE.D1.81.D1.82.D1.80.D0.B0.D0.BD.D1.91.D0.BD.D0.BD.D1.8B.D0.B5_.D1.80.D0.B0.D1.81.D1.88.D0.B8.D1.80.D0.B5.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Распространённые_расширения">Распространённые расширения</span>
</h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a><b>Эта статья или раздел нуждается в <a href="../ru/ArchWiki:Contributing.html#%D0%9F%D0%B5%D1%80%D0%B5%D0%B2%D0%BE%D0%B4" title="ArchWiki:Contributing (Русский)">переводе</a></b><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Примечания:</b> <span style="color:dimgrey; font-style: italic">пожалуйста, используйте первый аргумент шаблона для указания дополнительной информации.</span> (обсуждение: <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Fonts_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)">Talk:Fonts (Русский)#</a>)</div>
</div>
<ul>
<li>
<code>bdf</code> и <code>bdf.gz</code> – растровый шрифт, сжатый в gzip (BDF — <i>B</i>itmap <i>D</i>istribution <i>F</i>ormat)</li>
<li>
<code>pcf</code> и <code>pcf.gz</code> – растровый, переносимый скомпилированный шрифт, сжатый в gzip</li>
<li>
<code>psf</code>, <code>psfu</code>, <code>psf.gz</code> и <code>psfu.gz</code> – bitmaps, <i>P</i>C <i>s</i>creen <i>f</i>ont, <i>P</i>C <i>s</i>creen <i>f</i>ont <i>U</i>nicode and the gzipped versions (not compatible with X.Org)</li>
<li>
<code>pfa</code> and <code>pfb</code> – outline fonts, <i>P</i>ostScript <i>f</i>ont <i>A</i>SCII and <i>P</i>ostScript <i>f</i>ont <i>b</i>inary. PostScript fonts carry built-in printer instructions.</li>
<li>
<code>ttf</code> – outline, <i>T</i>rue<i>T</i>ype <i>f</i>ont. Originally designed as a replacement for the PostScript fonts.</li>
<li>
<code>otf</code> – outline, <i>O</i>pen<i>T</i>ype <i>f</i>ont. TrueType with PostScript typographic instructions.</li>
</ul>
<p>В большинстве случаев, технические различия между TrueType и OpenType можно проигнорировать, многие шрифты с расширением {{ic|ttf} обычно OpenType.
</p>
<h3>
<span id=".D0.94.D1.80.D1.83.D0.B3.D0.B8.D0.B5_.D1.84.D0.BE.D1.80.D0.BC.D0.B0.D1.82.D1.8B"></span><span class="mw-headline" id="Другие_форматы">Другие форматы</span>
</h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a><b>Эта статья или раздел нуждается в <a href="../ru/ArchWiki:Contributing.html#%D0%9F%D0%B5%D1%80%D0%B5%D0%B2%D0%BE%D0%B4" title="ArchWiki:Contributing (Русский)">переводе</a></b><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Примечания:</b> <span style="color:dimgrey; font-style: italic">пожалуйста, используйте первый аргумент шаблона для указания дополнительной информации.</span> (обсуждение: <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Fonts_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)">Talk:Fonts (Русский)#</a>)</div>
</div>
<p>The typesetting application, <i>TeX,</i> and its companion font software, <i>Metafont,</i> render characters using their own methods. Some of the file extensions used for fonts by these two programs are <code>*pk</code>, <code>*gf</code>, <code>mf</code> and <code>vf</code>.
</p>
<p><i>FontForge,</i> a font editing application, can store fonts in its native text-based format, <code>sfd</code>, <i>s</i>pline <i>f</i>ont <i>d</i>atabase.
</p>
<p>The <a rel="nofollow" class="external text" href="http://www.w3.org/TR/SVG/fonts.html">SVG</a> format also has its own font description method.
</p>
<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0"></span><span class="mw-headline" id="Установка">Установка</span>
</h2>
<p>Существует множество методов установки шрифтов.
</p>
<h3><span class="mw-headline" id="Pacman">Pacman</span></h3>
<p>Шрифты и их коллекции можно установить из включенных репозиториев используя <a href="../ru/Pacman.html" title="Pacman (Русский)">pacman</a>. Увидеть список доступных шрифтов можно командой:
</p>
<pre>$ pacman -Ss font
</pre>
<p>Или исключительно <code>ttf</code> шрифты:
</p>
<pre>$ pacman -Ss ttf
</pre>
<h3>
<span id=".D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.B0"></span><span class="mw-headline" id="Создание_пакета">Создание пакета</span>
</h3>
<p>Лучше всего предоставить pacman'у возможность управления установленными шрифтами, что можно сделать создав Arch пакет. Этим можно также поделиться с сообществом в <a href="../ru/Arch_User_Repository.html" class="mw-redirect" title="AUR (Русский)">AUR</a>. Ниже приведён пример создания пакета. Чтобы узнать об этой процедуре больше, смотрите страницу <a href="../ru/PKGBUILD.html" title="PKGBUILD (Русский)">PKGBUILD</a>.
</p>
<pre>pkgname=ttf-fontname
pkgver=1.0
pkgrel=1
pkgdesc="custom fonts"
arch=('any')
depends=('fontconfig' 'xorg-font-utils')
source=("http://someurl.org/$pkgname.tar.bz2")
install=$pkgname.install

package() {
  install -d "$pkgdir/usr/share/fonts/TTF"
  cp -dpr --no-preserve=ownership "$srcdir/$pkgname/"*.ttf "$pkgdir/usr/share/fonts/TTF/"
}
</pre>
<p>Данный PKGBUILD предполагает что шрифты - TrueType. Установочный файл (<code>ttf-fontname.install</code>) тоже должен быть создан для обновления кеша шрифтов:
</p>
<pre>post_install() {
  echo -n "Updating font cache... "
  fc-cache -fs &gt;/dev/null
  mkfontscale /usr/share/fonts/TTF /usr/share/fonts/Type1
  mkfontdir /usr/share/fonts/TTF /usr/share/fonts/Type1
  echo "done"
}

post_upgrade() {
  post_install
}

post_remove() {
  post_install
}
</pre>
<p>Для более удобного создания пакетов из ttf-fonts вы можете также использовать <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/makefontpkg/">makefontpkg</a></span><sup><small>AUR</small></sup> из <a href="../ru/Arch_User_Repository.html" class="mw-redirect" title="AUR (Русский)">AUR</a>.
</p>
<h3>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B2.D1.80.D1.83.D1.87.D0.BD.D1.83.D1.8E"></span><span class="mw-headline" id="Установка_вручную">Установка вручную</span>
</h3>
<p>Рекомендованный метод добавления шрифтов, недоступных в репозиториях, в систему описан в разделе <a href="#%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%B0">#Создание пакета</a>. Это даёт возможность пакетному менеджеру pacman удалять или обновлять их позднее. Шрифты также могут быть установлены вручную.
</p>
<p>Чтобы установить шрифты для всей системы (доступные для всех пользователей), переместите папку шрифтов в директорию <code>/usr/share/fonts/</code>. Чтобы установить шрифты только для одного пользователя, добавляйте их директорию <code>~/.local/share/fonts</code>.
</p>
<p>For Xserver to load fonts directly (as opposed to the use of a <i>font server</i>) the directory for your newly added font must be added with a FontPath entry.  This entry is located in the <i>Files</i> section <a href="../en/Xorg.html#Configuration" title="Xorg">of your Xorg configuration file</a> (e.g. <code>/etc/X11/xorg.conf</code> or <code>/etc/xorg.conf</code>). See <a href="#Older_applications">#Older applications</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">ссылка недействительна</a>: раздел не найден]</sup> for more detail.
</p>
<p>После чего обновите кеш шрифтов fontconfig:
</p>
<pre>$ fc-cache -vf
</pre>
<h1>
<span id=".D0.A0.D0.B5.D0.BA.D0.BE.D0.BC.D0.B5.D0.BD.D0.B4.D0.B0.D1.86.D0.B8.D0.B8_.D0.BF.D0.BE_.D0.B2.D1.8B.D0.B1.D0.BE.D1.80.D1.83_.D1.88.D1.80.D0.B8.D1.84.D1.82.D0.BE.D0.B2"></span><span class="mw-headline" id="Рекомендации_по_выбору_шрифтов">Рекомендации по выбору шрифтов</span>
</h1>
<p>В качестве основного шрифта рабочего окружения можно рекомендовать либо <a href="https://en.wikipedia.org/wiki/Droid_(font)" class="extiw" title="wikipedia:Droid (font)">Droid Fonts</a>, либо <a rel="nofollow" class="external text" href="https://ru.wikipedia.org/wiki/Bitstream_Vera">Bitstream Vera Fonts</a>, либо <a rel="nofollow" class="external text" href="http://www.redhat.com/promo/fonts">Red Hats Liberation Fonts</a>. Однако стоит заметить, что <a rel="nofollow" class="external text" href="http://i.imgur.com/osBDC4e.png">начертание некоторых букв</a> шрифта <i>Red Hats Liberation Fonts</i> на данный момент оставляет желать лучшего, поэтому его, в отличие от <i>Bitstream Vera Fonts</i>, необходимо устанавливать вручную, а не из репозитория.
</p>
<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_Droid_Fonts"></span><span class="mw-headline" id="Установка_Droid_Fonts">Установка Droid Fonts</span>
</h2>
<pre># pacman -S ttf-droid</pre>
<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_Bitstream_Vera_Fonts"></span><span class="mw-headline" id="Установка_Bitstream_Vera_Fonts">Установка Bitstream Vera Fonts</span>
</h2>
<pre># pacman -S ttf-dejavu</pre>
<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_Red_Hats_Liberation_Fonts"></span><span class="mw-headline" id="Установка_Red_Hats_Liberation_Fonts">Установка Red Hats Liberation Fonts</span>
</h2>
<pre># mkdir /usr/share/fonts/TTFmisc
# cd /usr/share/fonts/TTFmisc
# wget -O ./liberation-fonts.tar.gz <a rel="nofollow" class="external free" href="https://bugzilla.redhat.com/attachment.cgi?id=290976">https://bugzilla.redhat.com/attachment.cgi?id=290976</a> 
# tar -xf ./liberation-fonts.tar.gz
# cp ./liberation-fonts/*.ttf ./
# rm -R ./liberation-fonts/
# rm -R liberation-fonts.tar.gz
# mkfontscale
# mkfontdir</pre>
<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D1.88.D1.80.D0.B8.D1.84.D1.82.D0.BE.D0.B2_Microsoft.C2.AE"></span><span class="mw-headline" id="Установка_шрифтов_Microsoft®">Установка шрифтов Microsoft<sup>®</sup></span>
</h2>
<p>Так как в пакете <i>ttf-ms-fonts</i> присутствуют некоторые шрифты, начертание которых на данный момент оставляет желать лучшего, можно воспользоваться альтернативным вариантом их установки, который заключается в выборочной инсталляции только необходимых шрифтов.
</p>
<p>Необходимые шрифты Вы можете скачать на <a rel="nofollow" class="external text" href="https://sourceforge.net/project/showfiles.php?group_id=34153&amp;package_id=56408">этой</a> странице веб-сайта <a rel="nofollow" class="external text" href="https://ru.wikipedia.org/wiki/SourceForge.net">SourceForge.net</a>
</p>
<p><i><b>Не рекомендуется</b> скачивать шрифт </i>Arial<i>, т.к. </i>Red Hats Liberation Fonts<i>, загруженный с сайта <a rel="nofollow" class="external text" href="https://bugzilla.redhat.com/show_bug.cgi?id=427791">Red Hat Bugzilla</a>, имеет схожее начертание и более чёткие линии.</i>
</p>
<p>После того, как Вы скачали все необходимые exe-файлы — из них нужно извлечь шрифты в соответствующую папку (напр., <code>/usr/share/fonts/TTFmisc/</code>):
</p>
<pre># cabextract -F *.TTF -d /usr/share/fonts/TTFmisc &lt;имя-пакета&gt;.exe
# cd /usr/share/fonts/TTFmisc
# mkfontscale
# mkfontdir
</pre>
<h1>
<span id=".D0.A8.D1.80.D0.B8.D1.84.D1.82.D1.8B_.D1.81_.D0.B2.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.BD.D1.8B.D0.BC_LCD_.D1.84.D0.B8.D0.BB.D1.8C.D1.82.D1.80.D0.BE.D0.BC"></span><span class="mw-headline" id="Шрифты_с_включенным_LCD_фильтром">Шрифты с включенным LCD фильтром</span>
</h1>
<h2>
<span id=".22LCD.22_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D1.8B"></span><span class="mw-headline" id='"LCD"_пакеты'>"LCD" пакеты</span>
</h2>
<p><b>Установка:</b>
</p>
<p>Удалите оригинальные пакеты:
</p>
<pre># pacman -Rd libxft cairo
</pre>
<p>Установите патченные пакеты из <a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php">AUR</a>:
</p>
<pre>$ yaourt -S fontconfig-lcd
$ yaourt -S cairo-lcd
# pacman -S libxft-lcd
</pre>
<p>Перезапустите Xorg (<code>Ctrl+Alt+Backspace</code>)
</p>
<p><b>Удаление:</b>
</p>
<pre># pacman -Rd libxft-lcd cairo-lcd fontconfig-lcd
# pacman -S libxft cairo
</pre>
<h2>
<span id=".22LCD.22_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D1.8B_c_.D0.BF.D0.B0.D1.82.D1.87.D0.B0.D0.BC.D0.B8_Ubuntu"></span><span class="mw-headline" id='"LCD"_пакеты_c_патчами_Ubuntu'>"LCD" пакеты c патчами Ubuntu</span>
</h2>
<p><b>Установка:</b>
</p>
<p>Процесс установки этих пакетов несколько отличается от вышеописанных. Для быстрой и успешной инсталляции все действия должны производиться в такой последовательности:
</p>
<pre>$ yaourt -S freetype2-ubuntu
</pre>
<p>При установке yaourt сообщит о конфликте, конфликтующие пакеты нужно будет удалить.
</p>
<p>Аналогично устанавливаются остальные пакеты. Порядок установки пакетов должен быть таким:
</p>
<pre> 1. freetype2-ubuntu
 2. fontconfig-ubuntu
 3. cairo-ubuntu
</pre>
<h1>
<span id=".D0.9A.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F"></span><span class="mw-headline" id="Конфигурация">Конфигурация</span>
</h1>
<h2>
<span id=".D0.9E.D0.B1.D1.89.D0.B8.D0.B5_.D0.BF.D0.BE.D0.BD.D1.8F.D1.82.D0.B8.D1.8F"></span><span class="mw-headline" id="Общие_понятия">Общие понятия</span>
</h2>
<p>Настройки, касающиеся отрисовки шрифтов в Xorg, находятся в:
</p>
<ul>
<li>папке <code>/etc/fonts/</code>
</li>
<li>файле <code>/etc/X11/Xresources</code> (содержимое ниже)</li>
</ul>
<p>Содержимое <code>/etc/fonts/</code>:
</p>
<ul>
<li>папка conf.avail - содержит доступные файлы конфигураций</li>
<li>папка conf.d - содержит символические ссылки на файлы конфигураций (из папки <code>/etc/fonts/conf.d/</code>), определяющие параметры шрифтов (отрисовка, замена одних шрифтов другими и т.д.)</li>
<li>файл fonts.dtd</li>
<li>файл fonts.conf</li>
</ul>
<p>Например, для применения автохинтинга шрифтов Free Type необходимо создать в папке <code>/etc/fonts/conf.d/</code> символическую ссылку на файл <code>/etc/fonts/conf.avail/10-autohint.conf</code>:
</p>
<pre># ln -s /etc/fonts/conf.avail/10-autohint.conf /etc/fonts/conf.d/10-autohint.conf
</pre>
<p><b>Примечание:</b> В настоящее время не все шрифты с автохинтингом выглядят приемлемо, поэтому рекомендуется его использовать либо для отрисовки шрифтов малого размера, либо не использовать вообще.
</p>
<p>Как можно заметить, для файлов конфигурации применяется следующий формат именования:
</p>
<p><code>&lt;xx&gt;-&lt;sometext&gt;.conf</code>, где:
</p>
<p><code>&lt;sometext&gt;</code> - любой текст, описывающий параметры, находящиеся в этом файле (напр.: "hinting-full");
</p>
<p><code>&lt;xx&gt;</code> - двузначное число от 00 до 99, влияет на позицию файла при сортировке по имени, а, соответственно, и на его приоритет: чем больше число - тем выше приоритет.
</p>
<p>Например: если в дирректории будут находится два файла с именами <code>11-hinting-slight.conf</code> (применение слабого сглаживания) и <code>10-hinting-medium.conf</code> (применение среднего сглаживания), то файл <code>11-hinting-slight.conf</code> "перекроет" файл <code>10-hinting-medium.conf</code> и при отрисовке шрифтов будет использоваться слабое сглаживание.
</p>
<p><b>Примечание:</b> В файле <code>/etc/fonts/conf.d/README</code> Вы можете более подробно узнать о префиксном нумеровании, применяемого для этих файлов.
</p>
<h2>
<span id=".D0.A0.D0.B5.D0.BA.D0.BE.D0.BC.D0.B5.D0.BD.D0.B4.D0.B0.D1.86.D0.B8.D0.B8_.D0.BF.D0.BE_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B5_.28.D0.B4.D0.BB.D1.8F_.D0.BF.D0.B0.D1.82.D1.87.D0.B5.D0.B9_.2A-ubuntu.29"></span><span class="mw-headline" id="Рекомендации_по_настройке_(для_патчей_*-ubuntu)">Рекомендации по настройке (для патчей *-ubuntu)</span>
</h2>
<p>Здесь приведено содержимое конфигурационных файлов/каталогов, так или иначе влияющих на начертание шрифтов в системе.
</p>
<p><b>Примечание:</b> Если у Вас в системе всего один пользовательский аккаунт - настраивать шрифты рекомендуется посредством правки файла <code>~/.fonts.conf</code> (<a href="#cat_~/.fonts.conf_(%D0%B0%D0%BB%D1%8C%D1%82%D0%B5%D1%80%D0%BD%D0%B0%D1%82%D0%B8%D0%B2%D0%B0_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0%D0%BC_%D0%B2_/etc/fonts/...)">#cat ~/.fonts.conf (альтернатива настройкам в /etc/fonts/...)</a>), т.к. это:
</p>
<ul>
<li>избавит Вас от повторной настройки при переустановке/смене дистрибутива</li>
<li>удобно для быстрого отката изменений (достаточно сделать копию одного файла, а не нескольких)</li>
</ul>
<p>Файл <code>/etc/X11/Xresources</code>:
</p>
<pre>Xft.dpi: 96
! hintnone, hintslight, hintmedium, hintfull
Xft.hintstyle: hintfull
Xft.hinting: true
! lcdnone, lcddefault, lcdlight, lcdlegacy
Xft.lcdfilter: lcddefault
Xft.rgba: rgb
</pre>
<p>Эти настройки можно также задать персонально для пользователя в файле <code>~/.Xdefaults</code>. Подробнее об опциях Xft написано <a rel="nofollow" class="external text" href="http://www.freedesktop.org/wiki/ScreenFontSettings">здесь</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-08-02]</sup>.
</p>
<p>Каталог <code>/etc/fonts/conf.d/</code> :
</p>
<pre>lrwxrwxrwx 1 root root   31 Апр  9 10:48 10-antialias.conf -&gt; ../conf.avail/10-antialias.conf
lrwxrwxrwx 1 root root   42 Апр 17 13:18 10-hinting-full.conf -&gt; /etc/fonts/conf.avail/10-hinting-full.conf
lrwxrwxrwx 1 root root   29 Апр  9 10:48 10-hinting.conf -&gt; ../conf.avail/10-hinting.conf
lrwxrwxrwx 1 root root   43 Апр  8 18:17 10-sub-pixel-rgb.conf -&gt; /etc/fonts/conf.avail/10-sub-pixel-rgb.conf
lrwxrwxrwx 1 root root   51 Апр 17 13:14 11-lcd-filter-lcddefault.conf -&gt; /etc/fonts/conf.avail/11-lcd-filter-lcddefault.conf
...
lrwxrwxrwx 1 root root   41 Апр  9 10:49 45-latin.conf -&gt; /etc/fonts/conf.avail/45-latin.conf-droid
...
lrwxrwxrwx 1 root root   41 Апр  9 10:49 60-latin.conf -&gt; /etc/fonts/conf.avail/60-latin.conf-droid
...
lrwxrwxrwx 1 root root   34 Апр  8 18:18 99-misc.conf -&gt; /etc/fonts/conf.avail/99-misc.conf
</pre>
<p>Файл <code>/etc/fonts/conf.d/10-antialias.conf</code> :
</p>
<pre>&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE fontconfig SYSTEM "fonts.dtd"&gt;
&lt;fontconfig&gt;
  &lt;match target="font"&gt;
    &lt;edit name="antialias" mode="assign"&gt;&lt;bool&gt;true&lt;/bool&gt;&lt;/edit&gt;
  &lt;/match&gt;
&lt;/fontconfig&gt;</pre>
<p>Файл <code>/etc/fonts/conf.d/10-hinting-full.conf</code> :
</p>
<pre>&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE fontconfig SYSTEM "fonts.dtd"&gt;
&lt;fontconfig&gt;
  &lt;match target="font"&gt;
    &lt;edit name="hintstyle" mode="assign"&gt;&lt;const&gt;hintfull&lt;/const&gt;&lt;/edit&gt;
  &lt;/match&gt;
&lt;/fontconfig&gt;</pre>
<p>Файл <code>/etc/fonts/conf.d/10-hinting.conf</code> :
</p>
<pre>&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE fontconfig SYSTEM "fonts.dtd"&gt;
&lt;fontconfig&gt;
  &lt;match target="font"&gt;
    &lt;edit name="hinting" mode="assign"&gt;&lt;bool&gt;true&lt;/bool&gt;&lt;/edit&gt;
  &lt;/match&gt;
&lt;/fontconfig&gt;</pre>
<p>Файл <code>/etc/fonts/conf.d/10-sub-pixel-rgb.conf</code> :
</p>
<pre>&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE fontconfig SYSTEM "fonts.dtd"&gt;
&lt;fontconfig&gt;
  &lt;match target="font"&gt;
    &lt;edit name="rgba" mode="assign"&gt;&lt;const&gt;rgb&lt;/const&gt;&lt;/edit&gt;
  &lt;/match&gt;
&lt;/fontconfig&gt;</pre>
<p>Файл <code>/etc/fonts/conf.d/11-lcd-filter-lcddefault.conf</code> :
</p>
<pre>&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE fontconfig SYSTEM "fonts.dtd"&gt;
&lt;fontconfig&gt;
  &lt;match target="font"&gt;
    &lt;edit mode="assign" name="lcdfilter"&gt;
      &lt;const&gt;lcddefault&lt;/const&gt;
    &lt;/edit&gt;
  &lt;/match&gt;
&lt;/fontconfig&gt;</pre>
<p>Файл <code>/etc/fonts/conf.d/45-latin.conf-droid</code> :
</p>
<pre>&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE fontconfig SYSTEM "fonts.dtd"&gt;
&lt;fontconfig&gt;

	&lt;alias&gt;
		&lt;family&gt;Droid Serif&lt;/family&gt;
		&lt;family&gt;Bitstream Vera Serif&lt;/family&gt;
		&lt;family&gt;DejaVu Serif&lt;/family&gt;
		&lt;family&gt;Liberation Serif&lt;/family&gt;
		&lt;family&gt;Times New Roman&lt;/family&gt;
		&lt;family&gt;Times&lt;/family&gt;
		&lt;family&gt;Nimbus Roman No9 L&lt;/family&gt;
		&lt;family&gt;Luxi Serif&lt;/family&gt;
		&lt;family&gt;Thorndale AMT&lt;/family&gt;
		&lt;family&gt;Thorndale&lt;/family&gt;
		&lt;default&gt;&lt;family&gt;serif&lt;/family&gt;&lt;/default&gt;
	&lt;/alias&gt;
	&lt;alias&gt;
		&lt;family&gt;Droid Sans&lt;/family&gt;
		&lt;family&gt;Bitstream Vera Sans&lt;/family&gt;
		&lt;family&gt;DejaVu Sans&lt;/family&gt;
		&lt;family&gt;Liberation Sans&lt;/family&gt;
		&lt;family&gt;Arial&lt;/family&gt;
		&lt;family&gt;Helvetica&lt;/family&gt;
		&lt;family&gt;Verdana&lt;/family&gt;
		&lt;family&gt;Albany AMT&lt;/family&gt;
		&lt;family&gt;Albany&lt;/family&gt;
		&lt;family&gt;Nimbus Sans L&lt;/family&gt;
		&lt;family&gt;Luxi Sans&lt;/family&gt;
		&lt;default&gt;&lt;family&gt;sans-serif&lt;/family&gt;&lt;/default&gt;
	&lt;/alias&gt;
 	&lt;alias&gt;
		&lt;family&gt;Droid Sans Mono&lt;/family&gt;
		&lt;family&gt;Bitstream Vera Sans Mono&lt;/family&gt;
		&lt;family&gt;DejaVu Sans Mono&lt;/family&gt;
		&lt;family&gt;Liberation Mono&lt;/family&gt;
		&lt;family&gt;Courier New&lt;/family&gt;
		&lt;family&gt;Courier&lt;/family&gt;
		&lt;family&gt;Andale Mono&lt;/family&gt;
		&lt;family&gt;Luxi Mono&lt;/family&gt;
		&lt;family&gt;Cumberland AMT&lt;/family&gt;
		&lt;family&gt;Cumberland&lt;/family&gt;
		&lt;family&gt;Nimbus Mono L&lt;/family&gt;
		&lt;default&gt;&lt;family&gt;monospace&lt;/family&gt;&lt;/default&gt;
	&lt;/alias&gt;
 	&lt;alias&gt;
		&lt;family&gt;Impact&lt;/family&gt;
		&lt;family&gt;Copperplate Gothic Std&lt;/family&gt;
		&lt;family&gt;Cooper Std&lt;/family&gt;
		&lt;family&gt;Bauhaus Std&lt;/family&gt;
		&lt;default&gt;&lt;family&gt;fantasy&lt;/family&gt;&lt;/default&gt;
	&lt;/alias&gt;
	&lt;alias&gt;
		&lt;family&gt;ITC Zapf Chancery Std&lt;/family&gt;
		&lt;family&gt;Zapfino&lt;/family&gt;
		&lt;family&gt;Comic Sans MS&lt;/family&gt;
		&lt;default&gt;&lt;family&gt;cursive&lt;/family&gt;&lt;/default&gt;
	&lt;/alias&gt;
&lt;/fontconfig&gt;</pre>
<p>Файл <code>/etc/fonts/conf.d/60-latin.conf</code> :
</p>
<pre>&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE fontconfig SYSTEM "fonts.dtd"&gt;
&lt;fontconfig&gt;
	&lt;alias&gt;
		&lt;family&gt;serif&lt;/family&gt;
		&lt;prefer&gt;
			&lt;family&gt;Droid Serif&lt;/family&gt;
			&lt;family&gt;DejaVu Serif&lt;/family&gt;
			&lt;family&gt;Bitstream Vera Serif&lt;/family&gt;
			&lt;family&gt;Times New Roman&lt;/family&gt;
			&lt;family&gt;Thorndale AMT&lt;/family&gt;
			&lt;family&gt;Luxi Serif&lt;/family&gt;
			&lt;family&gt;Nimbus Roman No9 L&lt;/family&gt;
			&lt;family&gt;Times&lt;/family&gt;
		&lt;/prefer&gt;
	&lt;/alias&gt;
	&lt;alias&gt;
		&lt;family&gt;sans-serif&lt;/family&gt;
		&lt;prefer&gt;
			&lt;family&gt;Droid Sans&lt;/family&gt;
			&lt;family&gt;DejaVu Sans&lt;/family&gt;
			&lt;family&gt;Bitstream Vera Sans&lt;/family&gt;
			&lt;family&gt;Verdana&lt;/family&gt;
			&lt;family&gt;Arial&lt;/family&gt;
			&lt;family&gt;Albany AMT&lt;/family&gt;
			&lt;family&gt;Luxi Sans&lt;/family&gt;
			&lt;family&gt;Nimbus Sans L&lt;/family&gt;
			&lt;family&gt;Helvetica&lt;/family&gt;
			&lt;family&gt;Lucida Sans Unicode&lt;/family&gt;
			&lt;family&gt;BPG Glaho International&lt;/family&gt; 
			&lt;family&gt;Tahoma&lt;/family&gt; 
		&lt;/prefer&gt;
	&lt;/alias&gt;
	&lt;alias&gt;
		&lt;family&gt;monospace&lt;/family&gt;
		&lt;prefer&gt;
			&lt;family&gt;Droid Sans Mono&lt;/family&gt;
			&lt;family&gt;DejaVu Sans Mono&lt;/family&gt;
			&lt;family&gt;Bitstream Vera Sans Mono&lt;/family&gt;
			&lt;family&gt;Andale Mono&lt;/family&gt;
			&lt;family&gt;Courier New&lt;/family&gt;
			&lt;family&gt;Cumberland AMT&lt;/family&gt;
			&lt;family&gt;Luxi Mono&lt;/family&gt;
			&lt;family&gt;Nimbus Mono L&lt;/family&gt;
			&lt;family&gt;Courier&lt;/family&gt;
		&lt;/prefer&gt;
	&lt;/alias&gt;
 	&lt;alias&gt;
		&lt;family&gt;fantasy&lt;/family&gt;
		&lt;prefer&gt;
			&lt;family&gt;Impact&lt;/family&gt;
			&lt;family&gt;Copperplate Gothic Std&lt;/family&gt;
			&lt;family&gt;Cooper Std&lt;/family&gt;
			&lt;family&gt;Bauhaus Std&lt;/family&gt;
		&lt;/prefer&gt;
	&lt;/alias&gt;
	&lt;alias&gt;
		&lt;family&gt;cursive&lt;/family&gt;
		&lt;prefer&gt;
			&lt;family&gt;ITC Zapf Chancery Std&lt;/family&gt;
			&lt;family&gt;Zapfino&lt;/family&gt;
			&lt;family&gt;Comic Sans MS&lt;/family&gt;
		&lt;/prefer&gt;
	&lt;/alias&gt;
&lt;/fontconfig&gt;</pre>
<p>Файл <code>/etc/fonts/conf.d/99-misc.conf</code> :
</p>
<pre>&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE fontconfig SYSTEM "fonts.dtd"&gt;
&lt;fontconfig&gt;
    &lt;match target="font"&gt;
	&lt;edit name="rgba" mode="assign"&gt;
	    &lt;const&gt;rgb&lt;/const&gt;
	&lt;/edit&gt;
    &lt;/match&gt;

    &lt;match target="font"&gt;
	&lt;test name="size" compare="less_eq"&gt;
	    &lt;double&gt;8&lt;/double&gt;
	&lt;/test&gt;
	&lt;edit name="autohint" mode="assign"&gt;
	    &lt;bool&gt;true&lt;/bool&gt;
	&lt;/edit&gt;
    &lt;/match&gt;

    &lt;match target="font"&gt;
	&lt;test name="size" compare="more"&gt;
	    &lt;double&gt;10&lt;/double&gt;
	&lt;/test&gt;
	&lt;edit name="hintstyle" mode="assign"&gt;
	    &lt;const&gt;hintslight&lt;/const&gt;
	&lt;/edit&gt;
    &lt;/match&gt;

    
    &lt;match target="font"&gt;
	&lt;test name="family"&gt;
	    &lt;string&gt;Tahoma&lt;/string&gt;
	&lt;/test&gt;
	&lt;test name="size" compare="eq"&gt;
	    &lt;double&gt;6&lt;/double&gt;
	&lt;/test&gt;
	&lt;test name="weight" compare="more_eq"&gt;
	    &lt;const&gt;medium&lt;/const&gt;
	&lt;/test&gt;
	&lt;edit name="autohint" mode="assign"&gt;
	    &lt;bool&gt;true&lt;/bool&gt;
	&lt;/edit&gt;
    &lt;/match&gt;
    &lt;match target="pattern" name="family" &gt;
        &lt;test name="family" qual="any" &gt;
            &lt;string&gt;Clean&lt;/string&gt;
        &lt;/test&gt;
        &lt;edit mode="assign" name="family" &gt;
            &lt;string&gt;sans-serif&lt;/string&gt;
        &lt;/edit&gt;
    &lt;/match&gt;
    &lt;match target="pattern" name="family" &gt;
        &lt;test name="family" qual="any" &gt;
            &lt;string&gt;Fixed&lt;/string&gt;
        &lt;/test&gt;
        &lt;edit mode="assign" name="family" &gt;
            &lt;string&gt;monospace&lt;/string&gt;
        &lt;/edit&gt;
    &lt;/match&gt;
    &lt;match target="pattern" name="family" &gt;
        &lt;test name="family" qual="any" &gt;
            &lt;string&gt;Nimbus Sans L&lt;/string&gt;
        &lt;/test&gt;
        &lt;edit mode="assign" name="family" &gt;
            &lt;string&gt;sans-serif&lt;/string&gt;
        &lt;/edit&gt;
    &lt;/match&gt;
    &lt;match target="pattern" name="family" &gt;
        &lt;test name="family" qual="any" &gt;
            &lt;string&gt;Nimbus Roman No9 L&lt;/string&gt;
        &lt;/test&gt;
        &lt;edit mode="assign" name="family" &gt;
            &lt;string&gt;serif&lt;/string&gt;
        &lt;/edit&gt;
    &lt;/match&gt;
    &lt;match target="pattern" name="family" &gt;
        &lt;test name="family" qual="any" &gt;
            &lt;string&gt;Nimbus Mono L&lt;/string&gt;
        &lt;/test&gt;
        &lt;edit mode="assign" name="family" &gt;
            &lt;string&gt;monospace&lt;/string&gt;
        &lt;/edit&gt;
    &lt;/match&gt;
&lt;/fontconfig&gt;</pre>
<p><b>Примечание:</b> Рекомендации по настройке характерны для системы, в которой установлены следующие пакеты:
</p>
<pre>cairo-ubuntu
    Cairo vector graphics library, with Ubuntu's LCD rendering patches
fontconfig-ubuntu
    A library for configuring and customizing font access, with Ubuntu's LCD rendering patches
freetype2-ubuntu
    TrueType font rendering library, with Ubuntu's LCD rendering patches
libxft-ubuntu
    FreeType-based font drawing library for X, with Ubuntu's LCD rendering patches
ttf-droid
    A font created by Ascender Corporation for use by the Open Handset Alliance platform, Android.
</pre>
<h3>
<span id="cat_.7E.2F.fonts.conf_.28.D0.B0.D0.BB.D1.8C.D1.82.D0.B5.D1.80.D0.BD.D0.B0.D1.82.D0.B8.D0.B2.D0.B0_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0.D0.BC_.D0.B2_.2Fetc.2Ffonts.2F....29"></span><span class="mw-headline" id="cat_~/.fonts.conf_(альтернатива_настройкам_в_/etc/fonts/...)">cat <code>~/.fonts.conf</code> (альтернатива настройкам в <code>/etc/fonts/...</code>)</span>
</h3>
<pre>&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE fontconfig SYSTEM "fonts.dtd"&gt;
&lt;fontconfig&gt;
    &lt;match target="font"&gt;
        &lt;edit name="antialias" mode="assign"&gt;&lt;bool&gt;true&lt;/bool&gt;&lt;/edit&gt;
        &lt;edit name="autohint" mode="assign"&gt;&lt;bool&gt;false&lt;/bool&gt;&lt;/edit&gt;
        &lt;edit name="hintstyle" mode="assign"&gt;&lt;const&gt;hintfull&lt;/const&gt;&lt;/edit&gt;
        &lt;edit name="hinting" mode="assign"&gt;&lt;bool&gt;true&lt;/bool&gt;&lt;/edit&gt;
        &lt;edit name="rgba" mode="assign"&gt;&lt;const&gt;rgb&lt;/const&gt;&lt;/edit&gt;
	&lt;edit name="lcdfilter" mode="assign"&gt;&lt;const&gt;lcddefault&lt;/const&gt;&lt;/edit&gt;
    &lt;/match&gt;

    &lt;match target="font"&gt;
	&lt;test name="size" compare="less_eq"&gt;&lt;double&gt;8&lt;/double&gt;&lt;/test&gt;
        &lt;edit name="autohint" mode="assign"&gt;&lt;bool&gt;true&lt;/bool&gt;&lt;/edit&gt;
    &lt;/match&gt;
    &lt;match target="font"&gt;
	&lt;test name="size" compare="more_eq"&gt;&lt;double&gt;14&lt;/double&gt;&lt;/test&gt;
	&lt;edit name="rgba" mode="assign"&gt;&lt;const&gt;none&lt;/const&gt;&lt;/edit&gt;
    &lt;/match&gt;

    &lt;match target="font"&gt;
        &lt;test name="family"&gt;&lt;string&gt;Tahoma&lt;/string&gt;&lt;/test&gt;
        &lt;test name="size" compare="eq"&gt;&lt;double&gt;6&lt;/double&gt;&lt;/test&gt;
        &lt;test name="weight" compare="more_eq"&gt;&lt;const&gt;medium&lt;/const&gt;&lt;/test&gt;
        &lt;edit name="autohint" mode="assign"&gt;&lt;bool&gt;true&lt;/bool&gt;&lt;/edit&gt;
    &lt;/match&gt;
    &lt;match target="pattern" name="family" &gt;
        &lt;test name="family" qual="any" &gt;
            &lt;string&gt;Clean&lt;/string&gt;
        &lt;/test&gt;
        &lt;edit mode="assign" name="family" &gt;
            &lt;string&gt;sans-serif&lt;/string&gt;
        &lt;/edit&gt;
    &lt;/match&gt;
    &lt;match target="pattern" name="family" &gt;
        &lt;test name="family" qual="any" &gt;
            &lt;string&gt;Fixed&lt;/string&gt;
        &lt;/test&gt;
        &lt;edit mode="assign" name="family" &gt;
            &lt;string&gt;monospace&lt;/string&gt;
        &lt;/edit&gt;
    &lt;/match&gt;
    &lt;match target="pattern" name="family" &gt;
        &lt;test name="family" qual="any" &gt;
            &lt;string&gt;Nimbus Sans L&lt;/string&gt;
        &lt;/test&gt;
        &lt;edit mode="assign" name="family" &gt;
            &lt;string&gt;sans-serif&lt;/string&gt;
        &lt;/edit&gt;
    &lt;/match&gt;
    &lt;match target="pattern" name="family" &gt;
        &lt;test name="family" qual="any" &gt;
            &lt;string&gt;Nimbus Roman No9 L&lt;/string&gt;
        &lt;/test&gt;
        &lt;edit mode="assign" name="family" &gt;
            &lt;string&gt;serif&lt;/string&gt;
        &lt;/edit&gt;
    &lt;/match&gt;
    &lt;match target="pattern" name="family" &gt;
        &lt;test name="family" qual="any" &gt;
            &lt;string&gt;Nimbus Mono L&lt;/string&gt;
        &lt;/test&gt;
        &lt;edit mode="assign" name="family" &gt;
            &lt;string&gt;monospace&lt;/string&gt;
        &lt;/edit&gt;
    &lt;/match&gt;

    &lt;alias&gt;
        &lt;family&gt;Droid Serif&lt;/family&gt;
        &lt;default&gt;&lt;family&gt;serif&lt;/family&gt;&lt;/default&gt;
    &lt;/alias&gt;

    &lt;alias&gt;
        &lt;family&gt;Droid Sans&lt;/family&gt;
        &lt;default&gt;&lt;family&gt;sans-serif&lt;/family&gt;&lt;/default&gt;
    &lt;/alias&gt;

    &lt;alias&gt;
        &lt;family&gt;Liberation Mono&lt;/family&gt;
        &lt;default&gt;&lt;family&gt;monospace&lt;/family&gt;&lt;/default&gt;
    &lt;/alias&gt;

    &lt;alias&gt;
        &lt;family&gt;serif&lt;/family&gt;
        &lt;prefer&gt;&lt;family&gt;Droid Serif&lt;/family&gt;&lt;/prefer&gt;
    &lt;/alias&gt;
    &lt;alias&gt;
        &lt;family&gt;sans-serif&lt;/family&gt;
        &lt;prefer&gt;&lt;family&gt;Droid Sans&lt;/family&gt;&lt;/prefer&gt;
    &lt;/alias&gt;
    &lt;alias&gt;
        &lt;family&gt;monospace&lt;/family&gt;
        &lt;prefer&gt;&lt;family&gt;Liberation Mono&lt;/family&gt;&lt;/prefer&gt;
    &lt;/alias&gt;
&lt;/fontconfig&gt;</pre>
<h1>
<span id=".D0.A8.D1.80.D0.B8.D1.84.D1.82_.D0.B2_.D0.BA.D0.BE.D0.BD.D1.81.D0.BE.D0.BB.D0.B8"></span><span class="mw-headline" id="Шрифт_в_консоли">Шрифт в консоли</span>
</h1>
<h2>
<span id=".D0.A2.D0.B5.D0.BE.D1.80.D0.B8.D1.8F"></span><span class="mw-headline" id="Теория">Теория</span>
</h2>
<p>После запуска ядро Linux создаёт и поддерживает текстовую консоль.
</p>
<p>Текст, выводимый в символьное устройство <code>/dev/console</code> , записывается в специальный буфер в памяти вместе с информацией о цвете.
</p>
<p>Для отображения этого текста на экране используется другой буфер, в который загружен специально предназначенный для консоли растровый моноширинный шрифт.
</p>
<p>При инициализации консоли в этот буфер записывается дефолтный шрифт, вкомпилированный в ядро (как правило, без кириллицы), а в дальнейшем шрифт в буфере может быть заменён с помощью утилиты <code>setfont</code>. Так как в этом буфере находится только содержимое файла со шрифтом, но не его название, ядро не знает, какой шрифт в него загружен, и в случае создания консоли заново, как это происходит при переключении из текстового режима во фрэймбуфер после старта соответствующего видеокарте drm-модуля, шрифт снова сбрасывается в дефолт.
</p>
<p>В дополнение к "реальной" консоли, ядро поддерживает динамически расширяемый набор виртуальных консолей <code>/dev/tty1</code>, <code>tty2</code> и т.д., и корневую виртуальную консоль <code>/dev/tty0</code>
</p>
<p>Хотя устройства для первых 59 виртуальных консолей создаются заранее, сами консоли при этом остаются в представлении ядра лишь номерами. Реально они появляются только после первой попытки вывода в них текста. На экран все виртуальные консоли выводятся путём подмены буферов в единственной "реальной" консоли, причём буфер шрифта при создании новой виртуальной консоли берётся тот, что был в "реальной" на момент создания.
</p>
<p>В результате, если шрифт был загружен в реальную консоль <b>до</b> создания виртуальной консоли, в последующем он автоматически распространяется на все виртуальные, в противном случае этого не происходит, и каждая новая виртуальная наследует шрифт из предыдущей видимой, то есть тот, что был загружен в "реальную" в тот момент.
</p>
<h2>
<span id=".D0.9F.D1.80.D0.B0.D0.BA.D1.82.D0.B8.D0.BA.D0.B0"></span><span class="mw-headline" id="Практика">Практика</span>
</h2>
<p>В пакете <code>systemd</code> за загрузку консольного шрифта отвечает программа <code>/usr/lib/systemd/systemd-vconsole-setup</code> , которая читает его имя из параметра <code>FONT=</code> в конфиге <code>/etc/vconsole.conf</code> . Суффикс/расширение (.psf.gz) файла со шрифтом в конфиге писать не обязательно.
</p>
<p>Имеющиеся в системе консольные шрифты находятся в каталоге <code>/usr/share/kbd/consolefonts/</code> , проверить их можно, запустив команду <code>setfont</code> для каждого из них.
</p>
<p>Если для вашей видеокарты при загрузке системы подключается drm-модуль, например i915 для intel, его старт приводит к появлению нового устройства фреймбуфера <i>(или замене старого на новый)</i> (<code>/dev/fb0</code> и т.д.), и повторной инициализации консоли со сбросом шрифта. Если это происходит уже <b>после</b> того, как <code>systemd-vconsole-setup</code> загрузила ваш шрифт, вам требуется либо загрузить его повторно, либо <a href="../en/Kernel_mode_setting.html#Early_KMS_start" class="mw-redirect" title="KMS">обеспечить старт drm-модуля</a> заведомо раньше загрузки шрифта.
</p>
<p>Второе проще всего сделать, добавив ваш drm-модуль в строку <a href="../en/Mkinitcpio.html#MODULES" title="Mkinitcpio">MODULES=</a> конфига <code>/etc/mkinitcpio.conf</code> и перегенерировав образ initramfs. Для стационарной системы этого вполне достаточно.
</p>
<p>Если вы используете initramfs с хуком <code>systemd</code>, либо вообще не используете initramfs, или ваша же система "переносная", то есть находится на съёмном диске или флешке, и запускается на разных машинах, предпочтительнее первый вариант. Для этого нужно создать правило UDEV, которое будет срабатывать на появление нового устройства <code>/dev/fb*</code>
</p>
<ul><li><code>/etc/udev/rules.d/96-fb-all-vcs-setup.rules</code></li></ul>
<pre># Setup all vconsoles for a new framebuffer device
KERNEL=="fb*", ACTION=="add", RUN+="/bin/sh /etc/udev/all-vcs-set.sh"
</pre>
<p>и скрипт, который оно будет запускать:
</p>
<ul><li><code>/etc/udev/all-vcs-set.sh</code></li></ul>
<pre>#!/bin/sh
# We must load locale for $VCS util
. /etc/locale.conf
export LANG
VCS=/usr/lib/systemd/systemd-vconsole-setup
# Setup the "real" (current) console first
$VCS
# Setup all other active consoles
for VC in /dev/vcs[0-9]*
do $VCS /dev/tty${VC#/dev/vcs}
done
</pre>
<p>Скрипт читает локаль, которая требуется для нормальной работы утилиты <code>systemd-vconsole-setup</code>, после чего выполняет её для "реальной" консоли, и для каждой из созданных на этот момент виртуальных, если такие есть. Для определения инициализированных виртуальных консолей здесь использованы устройства произвольного доступа к текстовым буферам соответствующих консолей <code>/dev/vcs*</code>, которые в отличии от <code>/dev/tty*</code> создаются только для уже имеющихся консолей.
</p>
<p><br><br>
Возможен ещё один вариант решения – отсрочить загрузку шрифта до момента инициализации фреймбуфера. Для этого можно создать правило UDEV, которое заставит systemd создавать юниты для устройств фреймбуфера:
</p>
<ul><li><code>/etc/udev/rules.d/96-fb-systemd.rules</code></li></ul>
<pre># Register all framebuffer devices in systemd
SUBSYSTEM=="graphics", TAG+="systemd", ENV{SYSTEMD_ALIAS}+="/sys/subsystem/graphics/%k"
</pre>
<p>и дополнить <code>systemd-vconsole-setup.service</code>, указав, что установка шрифтов должна ожидать <b>первой</b> инициализации фреймбуфера:
</p>
<ul><li><code>/etc/systemd/system/systemd-vconsole-setup.service.d/ordering.conf</code></li></ul>
<pre>[Unit]
Requires=sys-subsystem-graphics-fb0.device
After=sys-subsystem-graphics-fb0.device
</pre>
<p>Этот вариант несколько проще, но менее универсален:
</p>
<ul>
<li>Он <b>не</b> будет работать в случаях <b>повторной</b> инициализации фреймбуфера, например, если при загрузке VESA-фреймбуфер сменяется на drm-фреймбуфер.</li>
<li>Также он <b>не</b> сможет загрузить шрифт в дополнительные виртуальные консоли, если они появились <b>до</b> инициализации фреймбуфера.</li>
<li>И наконец, он этот вариант <b>заблокирует загрузку шрифта при отсутствии фреймбуфера</b>.</li>
</ul>
<p><br><br>
Самый простой способ (пере)загрузки шрифта в консоли при инициализации фреймбуфера – прямой вызов утилиты <b>systemd-vconsole-setup</b> из правила UDEV:
</p>
<ul><li><code>/etc/udev/rules.d/96-fb-vconsole-setup.rules</code></li></ul>
<pre># Setup vconsole for a new framebuffer device
KERNEL=="fb*", ACTION=="add", IMPORT{file}="/etc/locale.conf", RUN+="/usr/lib/systemd/systemd-vconsole-setup"
</pre>
<p>В этом случае загрузка шрифта не блокируется при отсутствии фреймбуфера, и срабатывает автоматически даже при его повторной инициализации. Единственный недостаток – шрифт не будет загружен для дополнительных виртуальных консолей, если они инициализируются раньше фреймбуфера. Эту возможность учитывает и реализует только решение с шелл-скриптом <i>(см. выше)</i>.
</p>
<h1>
<span id=".D0.92.D0.BD.D0.B5.D1.88.D0.BD.D0.B8.D0.B5_.D1.81.D1.81.D1.8B.D0.BB.D0.BA.D0.B8"></span><span class="mw-headline" id="Внешние_ссылки">Внешние ссылки</span>
</h1>
<ul>
<li>
<a rel="nofollow" class="external text" href="http://posix.ru/desktop/x_and_fonts/">Рендеринг шрифтов в X Window: как в ... и даже лучше</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-08-02]</sup><br><br>
</li>
<li>
<a rel="nofollow" class="external text" href="http://archlinux.org.ru/forum/topic/1090/">Решение проблемы шрифта в консоли – archlinux.org.ru</a><br><br>
</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../ru/Category:Fonts.html" title="Category:Fonts (Русский)">Fonts (Русский)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../ru/Category:Pages_or_sections_flagged_with_Template:Translateme.html" title="Category:Pages or sections flagged with Template:Translateme (Русский)">Pages or sections flagged with Template:Translateme (Русский)</a></li>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Fonts_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=645012">https://wiki.archlinux.org/index.php?title=Fonts_(Русский)&amp;oldid=645012</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 13 December 2020, at 10:28.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
