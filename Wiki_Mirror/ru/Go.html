<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Go (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Go_Русский rootpage-Go_Русский skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Go (Русский)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p>Цитата из <a rel="nofollow" class="external text" href="https://golang.org/doc/">официальной документации по golang</a>
</p>
<dl><dd><i><a rel="nofollow" class="external text" href="https://golang.org/">Go</a> выразительный, лаконичный, чистый и эффективный язык. Его механизмы параллельности позволяют легко создавать программы, которые получают максимальную отдачу от многоядерных и сетевых машин, в то время как новая система типов позволяет создать гибкую и модульную программу. Go не только быстро компилирует в машинный код, но также имеет сборщик мусора и run-time рефлексию. Он быстр, статически типизирован и компилируемый язык но при этом выглядит как динамически типизированный и интерпретируемый язык.</i></dd></dl>
<p><br>
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0"><span class="tocnumber">1</span> <span class="toctext">Установка</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0_%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B8"><span class="tocnumber">1.1</span> <span class="toctext">Проверка установки</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D0%B1%D0%B0%D0%B7%D0%BE%D0%B2%D0%BE%D0%B3%D0%BE_%D1%80%D0%B0%D0%B1%D0%BE%D1%87%D0%B5%D0%B3%D0%BE_%D0%BE%D0%BA%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F"><span class="tocnumber">1.2</span> <span class="toctext">Настройка базового рабочего окружения</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="#%D0%94%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5_%D0%B1%D0%B8%D0%B1%D0%BB%D0%B8%D0%BE%D1%82%D0%B5%D0%BA%D0%B8"><span class="tocnumber">2</span> <span class="toctext">Динамические библиотеки</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#%D0%9A%D1%80%D0%BE%D1%81%D1%81-%D0%BA%D0%BE%D0%BC%D0%BF%D0%B8%D0%BB%D1%8F%D1%86%D0%B8%D1%8F"><span class="tocnumber">3</span> <span class="toctext">Кросс-компиляция</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#%D0%9E%D0%BF%D1%82%D0%B8%D0%BC%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F"><span class="tocnumber">4</span> <span class="toctext">Оптимизация</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#%D0%A1%D0%BC%D0%BE%D1%82%D1%80%D0%B8%D1%82%D0%B5_%D1%82%D0%B0%D0%BA%D0%B6%D0%B5"><span class="tocnumber">5</span> <span class="toctext">Смотрите также</span></a></li>
</ul>
</div>

<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0"></span><span class="mw-headline" id="Установка">Установка</span>
</h2>
<p>На сегодняшний день существует два компилятора Go и оба доступны в <a href="/title/Official_repositories_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Official repositories (Русский)">официальном репозитории</a>:
</p>
<ul><li>
<b>gc</b>: общее название для официального набора компиляторов 8g(x86), 6g(amd64), 5g(arm), с версии 1.5 заменяются на один единственный go tool compile, <a href="/title/Pacman_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BE%D1%82%D0%B4%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D1%85_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" title="Pacman (Русский)">устанавливается</a> с пакетом <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=go">go</a></span>
</li></ul>
<dl><dd><dl><dd>+ быстрая компиляция</dd></dl></dd></dl>
<ul><li>
<b>gccgo</b>: фронтэнд для <i>gcc</i>, входит в состав его коллекции компиляторов, <a href="/title/Pacman_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BE%D1%82%D0%B4%D0%B5%D0%BB%D1%8C%D0%BD%D1%8B%D1%85_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" title="Pacman (Русский)">устанавливается</a> с пакетом <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gcc-go">gcc-go</a></span>
</li></ul>
<dl><dd><dl>
<dd>+ малый размер двоичного файла</dd>
<dd>+ хорошая оптимизация</dd>
<dd>‒ goroutines здесь полновесные потоки(проблема решается использованием <a href="/title/Gold_linker_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" class="mw-redirect" title="Gold linker (Русский)"><i>gold-линковщика</i></a> (<a rel="nofollow" class="external text" href="https://blog.golang.org/gccgo-in-gcc-471"><i>info</i></a>)</dd>
</dl></dd></dl>
<p><br>
Также вместе с <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=go">go</a></span> можно установить пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=go-tools">go-tools</a></span> который включает в себя документацию(<i>godoc</i>) и дополнительные инструменты разработчика.
</p>
<h3>
<span id=".D0.9F.D1.80.D0.BE.D0.B2.D0.B5.D1.80.D0.BA.D0.B0_.D1.83.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B8"></span><span class="mw-headline" id="Проверка_установки">Проверка установки</span>
</h3>
<p>Для примера, скомпилируем первую программу из книги <a rel="nofollow" class="external text" href="https://www.gopl.io/">Алан А. А. Донован, Брайан У. Керниган "Язык программирования Go"</a>
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">helloworld.go</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">package main

import "fmt"

func main() {
	fmt.Println("Hello, мир")
}
</pre>
<p>Запуск кода с помощью интерпретатора:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ go run helloworld.go</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Hello, мир
</pre>
<p>Компиляция стандартным компилятором <i>gc</i>:
</p>
<pre>$ go build helloworld.go
</pre>
<p>аналогичен
</p>
<pre>$ go build -compiler=gc helloworld.go
</pre>
<p>Компиляция с помощью <i>gccgo</i>:
</p>
<pre>$ gccgo helloworld.go -o helloworld
</pre>
<p>аналогичен
</p>
<pre>$ go build -compiler=gccgo helloworld.go
</pre>
<p>Компиляция с помощью <i>gccgo</i> и <a href="/title/Gold_linker_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" class="mw-redirect" title="Gold linker (Русский)"><i>gold-линковщика</i></a>:
</p>
<pre>$ gccgo helloworld.go -fuse-ld=gold -o helloworld
</pre>
<h3>
<span id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.B1.D0.B0.D0.B7.D0.BE.D0.B2.D0.BE.D0.B3.D0.BE_.D1.80.D0.B0.D0.B1.D0.BE.D1.87.D0.B5.D0.B3.D0.BE_.D0.BE.D0.BA.D1.80.D1.83.D0.B6.D0.B5.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Настройка_базового_рабочего_окружения">Настройка базового рабочего окружения</span>
</h3>
<p>Для комфортной работы необходимо настроить как минимум две переменные: <code>$GOBIN</code> и <code>$GOPATH</code>.
</p>
<p>В языке Go поиск программ и их зависимостей (например, <code>import "<i>пакет</i>"</code>), сначала выполняется в каталогах, прописанных в переменную <code>$GOPATH</code>, а затем - в переменной <code>$GOROOT</code> (путь установки <i>go</i>, по умолчанию <code>/usr/lib/go</code>). Поэтому, чтобы использовать внешние зависимости, а не только базовые из <code>$GOROOT</code>, нужно определить область рабочего пространства:
</p>
<pre>$ export GOPATH=$HOME/go
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Для просмотра переменных Go используйте команду <code>go env</code>
</div>
<p>теперь создадим само рабочее пространство:
</p>
<pre>$ mkdir -p $GOPATH/src
</pre>
<p>каталог <code>src</code> предназначен для хранения исходных текстов проектов.
</p>
<p>Чтобы иметь возможность легко устанавливать пакеты с разных источников, таких например как <a rel="nofollow" class="external free" href="https://github.com">https://github.com</a> ( команда <code>go get github.com/<i>путь/к/пакету</i></code>) или же непосредственно из своего проекта (команда <code>go install пакет</code>), необходимо задать переменную окружения <code>$GOBIN</code>:
</p>
<pre>$ export GOBIN=$GOPATH/bin
$ mkdir $GOBIN
</pre>
<p><br>
<code>$GOBIN</code> можно также добавить в переменную окружения <code>$PATH</code> что позволит запускать установленные программы так же, как и стандартные системные утилиты:
</p>
<pre>$ export PATH="$PATH:$GOBIN"
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Для удобства переменные <code>$GOBIN</code> и <code>$GOPATH</code> можно поместить в ваш <code>~/.bash_profile</code> (или его эквивалент)</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Для получения дополнительной информации смотрите <code>go help gopath</code>
</div>
<h2>
<span id=".D0.94.D0.B8.D0.BD.D0.B0.D0.BC.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.B5_.D0.B1.D0.B8.D0.B1.D0.BB.D0.B8.D0.BE.D1.82.D0.B5.D0.BA.D0.B8"></span><span class="mw-headline" id="Динамические_библиотеки">Динамические библиотеки</span>
</h2>
<p>Компилятор Go собирает все зависимости программы в один исполняемый файл, но начиная с версии Go 1.5 появилась возможность использовать динамические библиотеки.
</p>
<p>Для подключения <i>всей стандартной библиотеки языка Go</i> нужно сначала скомпилировать её как динамическую:
</p>
<pre># go install -buildmode=shared std
</pre>
<p>скомпилированная библиотека станет доступна по адресу: <code>$(go env GOROOT)/pkg/$(go env GOOS)_$(go env GOARCH)_dynlink/libstd.so</code>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> После каждого обновления версии языка Go данную библиотек также следует пересобрать</div>
<p>теперь можно скомпилировать программу test.go с поддержкой динамических библиотек:
</p>
<pre>$ go build -linkshared -o test
</pre>
<p><br>
Если необходимо скомпилировать пакет как отдельную библиотеку, выполните:
</p>
<pre>$ go install -buildmode=shared -linkshared
</pre>
<p>после чего собранную библиотеку можно найти в папке <code>$GOPATH/pkg/$(go env GOOS)_$(go env GOARCH)_dynlink</code>.
</p>
<p><br>
Пользовательскую динамическую библиотеку в системе можно использовать если: 
</p>
<ul>
<li>поместить её в каталог который используются системой для стандартного расположения динамических библиотек, в Арче это <code>/usr/lib/</code>
</li>
<li>прописать путь до библиотеки в файле <code>/etc/ld.so.conf</code>, после чего обновить кеш командой <code>ldconfig</code>
</li>
<li>использовать специальную переменную среды <code>$LD_LIBRARY_PATH</code>:</li>
</ul>
<pre>$ export LD_LIBRARY_PATH="/путь/к/каталогу/с/пользовательскими/динамическими/библиотеками"
</pre>
<p>если такая переменная уже существует, то:
</p>
<pre>$ export LD_LIBRARY_PATH="/путь/к/каталогу/с/пользовательскими/динамическими/библиотеками:${LD_LIBRARY_PATH}"
</pre>
<h2>
<span id=".D0.9A.D1.80.D0.BE.D1.81.D1.81-.D0.BA.D0.BE.D0.BC.D0.BF.D0.B8.D0.BB.D1.8F.D1.86.D0.B8.D1.8F"></span><span class="mw-headline" id="Кросс-компиляция">Кросс-компиляция</span>
</h2>
<p><b>$GOOS и $GOARCH</b>
</p>
<pre>darwin     386
darwin     amd64
darwin     arm
darwin     arm64
dragonfly  amd64
freebsd    386
freebsd    amd64
freebsd    arm
linux      386
linux      amd64
linux      arm
linux      arm64
linux      ppc64
linux      ppc64le
linux      mips64
linux      mips64le
linux      s390x
netbsd     386
netbsd     amd64
netbsd     arm
openbsd    386
openbsd    amd64
openbsd    arm
plan9      386
plan9      amd64
plan9      arm
solaris    amd64
windows    386
windows    amd64
</pre>
<p>пример компиляции:
</p>
<pre>$ GOOS=windows GOARCH=amd64 go build -o test
</pre>
<h2>
<span id=".D0.9E.D0.BF.D1.82.D0.B8.D0.BC.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D1.8F"></span><span class="mw-headline" id="Оптимизация">Оптимизация</span>
</h2>
<p>Компилятор <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=go">go</a></span> по умолчанию собирает пакет с дополнительной информацией которая влияет только на отладку и анализ полученного файла.
</p>
<p>Чтобы этого избежать можно использовать ключ <i>-ldflags</i> с флагами отвечающими за отключения отладочной информации (<i>-w</i>) и сгенерированной таблицей символов (<i>-s</i>):
</p>
<pre>$ go build -ldflags '-w -s' test.go
</pre>
<h2>
<span id=".D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5"></span><span class="mw-headline" id="Смотрите_также">Смотрите также</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://golang.org/">Официальный веб-сайт языка Go (en)</a></li>
<li><a rel="nofollow" class="external text" href="https://go-tour-ru-ru.appspot.com/list">Тур по Go</a></li>
<li><a href="https://en.wikipedia.org/wiki/ru:Go" class="extiw" title="wikipedia:ru:Go">Статья в Википедии</a></li>
<li><a rel="nofollow" class="external text" href="https://gobyexample.ru/">Go в примерах</a></li>
<li><a rel="nofollow" class="external text" href="https://awesome-go.com/">Awesome Go</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/golang/go/wiki/IDEsAndTextEditorPlugins">IDE и плагины для Go</a></li>
<li><a href="/title/Go_package_guidelines" title="Go package guidelines">Руководство создания пакетов(AUR) для Go</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="/title/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/title/Category:Programming_languages_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Category:Programming languages (Русский)">Programming languages (Русский)</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Go_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=668854">https://wiki.archlinux.org/index.php?title=Go_(Русский)&amp;oldid=668854</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 8 May 2021, at 10:49.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="/title/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/title/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="/title/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
