<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Redshift (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Redshift_Русский rootpage-Redshift_Русский skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Redshift (Русский)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="/title/File:Tango-preferences-desktop-locale-modified.png" class="image"><img alt="Tango-preferences-desktop-locale-modified.png" src="../File:Tango-preferences-desktop-locale-modified.png" decoding="async" width="48" height="48"></a><b>The <a href="/title/ArchWiki:Contributing#Translating" title="ArchWiki:Contributing">translation</a> of this article or section does not reflect the original text.</b><a href="/title/File:Tango-preferences-desktop-locale-modified.png" class="image"><img alt="Tango-preferences-desktop-locale-modified.png" src="../File:Tango-preferences-desktop-locale-modified.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Last updated in 2015 (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:Redshift_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)">Talk:Redshift (Русский)#</a>)</div>
</div>
<p>Из <a rel="nofollow" class="external text" href="http://jonls.dk/redshift/">официальной страницы проекта</a>:
</p>
<dl><dd><i>Redshift adjusts the color temperature of your screen according to your surroundings. This may help your eyes hurt less if you are working in front of the screen at night. This program is inspired by <a rel="nofollow" class="external text" href="https://justgetflux.com">f.lux</a> [...].</i></dd></dl>
<p>Redshift регулирует цветовую температуру экрана в зависимости от вашего окружения. Это может помочь вашим глазам меньше уставать, если вы сидите за экраном в ночное время. Эта программа вдохновлена <a rel="nofollow" class="external text" href="https://justgetflux.com">f.lux</a>
</p>
<p>Проект разрабатывается на <a rel="nofollow" class="external text" href="https://github.com/jonls/redshift">GitHub</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> На данный момент Redshift <a rel="nofollow" class="external text" href="https://github.com/jonls/redshift/issues/55">работает только</a> в среде <a href="/title/Xorg_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Xorg (Русский)">Xorg</a>, а <a href="/title/Wayland_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Wayland (Русский)">Wayland</a> не поддерживается. Смотрите <a href="#%D0%94%D0%BB%D1%8F_%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D0%B5%D0%B9_Wayland">#Для пользователей Wayland</a>.</div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0"><span class="tocnumber">1</span> <span class="toctext">Установка</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#%D0%9E%D0%BA%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5_%D1%80%D0%B0%D0%B1%D0%BE%D1%87%D0%B5%D0%B3%D0%BE_%D1%81%D1%82%D0%BE%D0%BB%D0%B0"><span class="tocnumber">1.1</span> <span class="toctext">Окружение рабочего стола</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#%D0%90%D0%B2%D1%82%D0%BE%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA"><span class="tocnumber">1.2</span> <span class="toctext">Автозапуск</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4">
<a href="#%D0%9A%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D1%8F"><span class="tocnumber">2</span> <span class="toctext">Конфигурация</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#%D0%91%D1%8B%D1%81%D1%82%D1%80%D1%8B%D0%B9_%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA"><span class="tocnumber">2.1</span> <span class="toctext">Быстрый запуск</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5_%D0%BE%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%80%D0%B0%D1%81%D0%BF%D0%BE%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D1%8B%D0%B2%D0%B0%D1%8F%D1%81%D1%8C_%D0%BD%D0%B0_GPS"><span class="tocnumber">2.2</span> <span class="toctext">Автоматическое определение расположения основываясь на GPS</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#%D0%A0%D1%83%D1%87%D0%BD%D0%B0%D1%8F_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0"><span class="tocnumber">2.3</span> <span class="toctext">Ручная настройка</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Use_real_screen_brightness"><span class="tocnumber">2.4</span> <span class="toctext">Use real screen brightness</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC"><span class="tocnumber">3</span> <span class="toctext">Решение проблем</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#redshift-gtk_%D0%BD%D0%B5_%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA%D0%B0%D0%B5%D1%82%D1%81%D1%8F"><span class="tocnumber">3.1</span> <span class="toctext">redshift-gtk не запускается</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Failed_to_run_Redshift_due_to_geoclue2"><span class="tocnumber">3.2</span> <span class="toctext">Failed to run Redshift due to geoclue2</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#%D0%A1%D0%BF%D0%BE%D1%81%D0%BE%D0%B1_%D0%B0%D0%B2%D1%82%D0%BE%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA%D0%B0_redshift_%D0%B2_i3"><span class="tocnumber">3.3</span> <span class="toctext">Способ автозапуска redshift в i3</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#%D0%94%D0%BB%D1%8F_%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D0%B5%D0%B9_Wayland"><span class="tocnumber">3.4</span> <span class="toctext">Для пользователей Wayland</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#%D0%A1%D0%BC%D0%BE%D1%82%D1%80%D0%B8%D1%82%D0%B5_%D1%82%D0%B0%D0%BA%D0%B6%D0%B5"><span class="tocnumber">4</span> <span class="toctext">Смотрите также</span></a></li>
</ul>
</div>

<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0"></span><span class="mw-headline" id="Установка">Установка</span>
</h2>
<p><a href="/title/%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D0%B5" class="mw-redirect" title="Установите">Установите</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=redshift">redshift</a></span>. Или же можно установить собранный с минимальными зависимостями <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/redshift-minimal/">redshift-minimal</a></span><sup><small>AUR</small></sup> из <a href="/title/AUR_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" class="mw-redirect" title="AUR (Русский)">AUR</a>.
</p>
<h3>
<span id=".D0.9E.D0.BA.D1.80.D1.83.D0.B6.D0.B5.D0.BD.D0.B8.D0.B5_.D1.80.D0.B0.D0.B1.D0.BE.D1.87.D0.B5.D0.B3.D0.BE_.D1.81.D1.82.D0.BE.D0.BB.D0.B0"></span><span class="mw-headline" id="Окружение_рабочего_стола">Окружение рабочего стола</span>
</h3>
<p>Для окружения рабочего стола доступна утилита <code>redshift-gtk</code> входящая в пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=redshift">redshift</a></span>. <code>redshift-gtk</code> будет отображать значок в системном трее для управления приложением. Redshift-gtk для работы требует установки трёх дополнительных пакетов <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=python-gobject">python-gobject</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=python-pyxdg">python-pyxdg</a></span> и <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=librsvg">librsvg</a></span>, которые указаны в списке дополнительных зависимостей для основного пакета  <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=redshift">redshift</a></span>. Пользователи <a href="/title/KDE_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="KDE (Русский)">KDE</a> могут использовать пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/plasma5-applets-redshift-control-git/">plasma5-applets-redshift-control-git</a></span><sup><small>AUR</small></sup>.
</p>
<h3>
<span id=".D0.90.D0.B2.D1.82.D0.BE.D0.B7.D0.B0.D0.BF.D1.83.D1.81.D0.BA"></span><span class="mw-headline" id="Автозапуск">Автозапуск</span>
</h3>
<p>Известные реализации автозапуска redshift:
</p>
<ul>
<li>Вызов в скрипте <code>/etc/X11/xinit/xinitrc.d/</code>.</li>
<li>Активируя правым кликом значок системного трея redshift-gtk или plasma5-applets-redshift-control, выбрав 'Autostart'.</li>
<li>Используя один из двух предоставленных файлов <a href="/title/Systemd_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%BE%D0%B2" title="Systemd (Русский)">юнитов службы systemd</a>: <code>/usr/lib/systemd/user/redshift.service</code> или <code>/usr/lib/systemd/user/redshift-gtk.service</code>. Будьте осторожны: служба должна запускаться в пользовательском режиме, смотрите <a href="/title/Systemd/User_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D1%8B%D0%B5_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8" class="mw-redirect" title="Systemd/User (Русский)">основные настройки</a>. Переменная окружения <code>DISPLAY</code> должна быть установлена. Смотрите <a href="/title/Systemd/User_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#DISPLAY_%D0%B8_XAUTHORITY" class="mw-redirect" title="Systemd/User (Русский)">DISPLAY и XAUTHORITY</a>.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Файлы юнитов redshift содержат <code>Restart=always</code>, тем самым служба будет бесконечно перезагружаться (смотрите <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.service"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.service.5">systemd.service(5)</a></span>) </div>
<h2>
<span id=".D0.9A.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D1.8F"></span><span class="mw-headline" id="Конфигурация">Конфигурация</span>
</h2>
<p>Как минимум, для работы redshift требуется указать ваши координаты, т.е. широту и долготу вашего местоположения. Redshift использует несколько методов для получения вашего местонахождения. Если ни один из них не сработал (например не установлено ни одной из используемых вспомогательных программ), то вы должны ввести местоположение вручную. Значения большинства мест/городов можно взять в соответствующих страницах Википедии.
</p>
<h3>
<span id=".D0.91.D1.8B.D1.81.D1.82.D1.80.D1.8B.D0.B9_.D0.B7.D0.B0.D0.BF.D1.83.D1.81.D0.BA"></span><span class="mw-headline" id="Быстрый_запуск">Быстрый запуск</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Сервис <a rel="nofollow" class="external text" href="https://www.latlong.net/">Latlong.net</a> позволяет получить координаты широты и долготы.</div>
<p>Чтобы запустить приложение, используя базовую конфигурацию, задайте:
</p>
<pre> $ redshift -l LAT:LON
</pre>
<p>где соответственно LAT - широта и  LON - долгота вашего местонахождения.
</p>
<h3>
<span id=".D0.90.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.BE.D0.B5_.D0.BE.D0.BF.D1.80.D0.B5.D0.B4.D0.B5.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D1.80.D0.B0.D1.81.D0.BF.D0.BE.D0.BB.D0.BE.D0.B6.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BE.D1.81.D0.BD.D0.BE.D0.B2.D1.8B.D0.B2.D0.B0.D1.8F.D1.81.D1.8C_.D0.BD.D0.B0_GPS"></span><span class="mw-headline" id="Автоматическое_определение_расположения_основываясь_на_GPS">Автоматическое определение расположения основываясь на GPS</span>
</h3>
<p>Можно использовать <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gpsd">gpsd</a></span> для автоматического определения вашего местоположения посредством GPS и использовать его данные в Redshift. Создайте следующий скрипт, который будет передавать значения <code>$lat</code> и <code>$lon</code> в <code>redshift -l $lat;$lon</code>:
</p>
<pre>#!/bin/bash
date
#gpsdata=$( gpspipe -w -n 10 |   grep -m 1 lon )
gpsdata=$( gpspipe -w | grep -m 1 TPV )
lat=$( echo "$gpsdata"  | jsawk 'return this.lat' )
lon=$( echo "$gpsdata"  | jsawk 'return this.lon' )
alt=$( echo "$gpsdata"  | jsawk 'return this.alt' )
dt=$( echo "$gpsdata" | jsawk 'return this.time' )
echo "$dt"
echo "Вы здесь: $lat, $lon и $alt"
</pre>
<p>Для получения более подробной информации смотрите <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1389735#p1389735">форум</a>.
</p>
<h3>
<span id=".D0.A0.D1.83.D1.87.D0.BD.D0.B0.D1.8F_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0"></span><span class="mw-headline" id="Ручная_настройка">Ручная настройка</span>
</h3>
<p>Если был создан файл <code>~/.config/redshift.conf</code>, то Redshift будет использовать настройки, указанные в нем. Однако, Redshift самостоятельно не создаст конфигурационный файл, поэтому вам нужно создать его вручную.
</p>
<p>Пример для Витебска/Беларуси:
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Redshift имеет баг с настройкой transition в конфигурационном файле, которая работает не так, как описано: переход между дневным и ночным режимом вступит в силу <b>только</b> при перезапуске (как следствие - с задержками). Для получения подробностей смотрите <a href="/title/Talk:Redshift#Day_and_night_transition" title="Talk:Redshift">страницу обсуждения</a> и <a rel="nofollow" class="external text" href="https://github.com/jonls/redshift/issues/270">обсуждение на странице проекта Redshift</a>.</div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/redshift.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">; Общие настройки для redshift
[redshift]
; Установка дневной и ночной температур экрана
; Нейтральная температура цвета - 6500K. Использование этой величины
; не изменит температуру цвета дисплея. Установка температуры цвета
; больше этого значения приведет к более синему цвету экрана,
; установка меньшего значения - к более красному оттенку.
; Значения по умолчанию:
;  Температура цвета днем: 5500K
;  Температура цвета ночью: 3500K
temp-day=6500
temp-night=3500

; Включение/выключение плавного перехода между днём и ночью
; 0 сразу установит соответствующее значение температуры экрана по приходе дня  и ночи.
; 1 будет постепенно изменять цветовую температуру экрана
transition=1

; Установка яркости дисплея. По умолчанию 1.0
;brightness=0.9
; Начиная с версии 1.8 возможно использовать различные значения для дня и ночи.
brightness-day=0.8
brightness-night=0.7
; Установка гаммы экрана для (всех цветов, или каждого цветового канала в отдельности)
gamma=0.8
;gamma=0.8:0.7:0.8

; Установка источника местоположения: 'geoclue', 'gnome-clock', 'manual'
; наберите 'redshift -l list' чтобы увидеть возможные значения
; Их настройка производится в секции ниже
location-provider=manual

; Установка метода регулировки: 'randr', 'vidmode'
; наберите 'redshift -m list' чтобы увидеть все возможные значения
; 'randr' является предпочтительным методом, 'vidmode' на устаревшем API
; но работает в некоторых случаях, когда 'randr' отказывается.
; Их настройка производится в секции ниже.
adjustment-method=randr

; Конфигурация источников местоположения:
; наберите 'redshift -l ИСТОЧНИК:help' чтобы увидеть настройки
; напр.: 'redshift -l manual:help'
[manual]
lat=55.11
lon=30.1

; Конфигурация метода регулировки
; наберите 'redshift -m METHOD:help' чтобы увидеть настройки
; напр.: 'redshift -m randr:help'
; В этом примере, randr сконфигурирован для регулировки экрана 0
; Обратите внимание, что нумерация начинается с 0, так что это на самом деле это первый экран
[randr]
screen=0</pre>
<h3><span class="mw-headline" id="Use_real_screen_brightness">Use real screen brightness</span></h3>
<p>Redshift has a brightness adjustment setting, but it does not work the way most people might expect. In fact it is a fake brightness adjustment obtained by manipulating the gamma ramps, which means that it does not reduce the backlight of the screen. <a rel="nofollow" class="external autonumber" href="http://jonls.dk/redshift/#known-bugs-and-limitations">[1]</a>
</p>
<p>Changing screen backlight is possible with redshift hooks and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xrandr">xorg-xrandr</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xbacklight">xorg-xbacklight</a></span> but, please see <a href="/title/Backlight#xbacklight" title="Backlight">Backlight#xbacklight</a> as there are some limitations and you may have to find another method of controlling the backlight depending on your hardware.
</p>
<p>Вам необходимо создать исполняемый файл в <code>~/.config/redshift/hooks</code>. Вы можете воспользоваться приведённым примером: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/redshift/hooks/brightness.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh

# Set brightness via xbrightness when redshift status changes

# Set brightness values for each status.
# Range from 1 to 100 is valid
brightness_day="100"
brightness_transition="50"
brightness_night="10"
# Set fade time for changes to one minute
fade_time=60000

case $1 in
	period-changed)
		case $3 in
			night)
				xbacklight -set $brightness_night -time $fade_time
				;;
			transition)
				xbacklight -set $brightness_transition -time $fade_time
				;;
			daytime)
				xbacklight -set $brightness_day -time $fade_time
				;;
		esac
		;;
esac</pre>
<h2>
<span id=".D0.A0.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC"></span><span class="mw-headline" id="Решение_проблем">Решение проблем</span>
</h2>
<h3>
<span id="redshift-gtk_.D0.BD.D0.B5_.D0.B7.D0.B0.D0.BF.D1.83.D1.81.D0.BA.D0.B0.D0.B5.D1.82.D1.81.D1.8F"></span><span class="mw-headline" id="redshift-gtk_не_запускается">redshift-gtk не запускается</span>
</h3>
<p>Redshift-gtk требует дополнительных зависимостей для правильной работы. Для проверки недостающих зависимостей, запустите <code>redshift-gtk</code> из эмулятора терминала. Вывод будет примерно следующий:
</p>
<pre> Traceback (most recent call last):
   File "/usr/bin/redshift-gtk", line 26, in &lt;module&gt;
     from redshift_gtk.statusicon import run
   File "/usr/lib/python3.4/site-packages/redshift_gtk/statusicon.py", line 31, in &lt;module&gt;
     from gi.repository import Gtk, GLib
 ImportError: No module named 'gi.repository'
</pre>
<p>Чтобы решить эту проблему, установите <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=python-gobject">python-gobject</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/python-xdg/">python-xdg</a></span><sup><small>AUR</small></sup>, и <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=librsvg">librsvg</a></span> из <a href="/title/Official_repositories_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Official repositories (Русский)">официальных репозиториев</a>.
</p>
<h3><span class="mw-headline" id="Failed_to_run_Redshift_due_to_geoclue2">Failed to run Redshift due to geoclue2</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> До применения метода ниже закройте redshift-gtk и перезапустите службу geoclue. Sometimes the location service fails due to e.g. connection established after the location service.</div>
<p>По умолчанию сконфигурирован geoclue2 без доступа для Redshift.
Чтобы открыть доступ, добавьте следующие строки в <code>/etc/geoclue/geoclue.conf</code>
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/geoclue/geoclue.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[redshift]
allowed=true
system=false
users=</pre>
<h3>
<span id=".D0.A1.D0.BF.D0.BE.D1.81.D0.BE.D0.B1_.D0.B0.D0.B2.D1.82.D0.BE.D0.B7.D0.B0.D0.BF.D1.83.D1.81.D0.BA.D0.B0_redshift_.D0.B2_i3"></span><span class="mw-headline" id="Способ_автозапуска_redshift_в_i3">Способ автозапуска redshift в i3</span>
</h3>
<p>Вы можете добавить в конфигурационный файл i3 следующее:
</p>
<pre>exec --no-startup-id redshift-gtk
</pre>
<h3>
<span id=".D0.94.D0.BB.D1.8F_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D0.B5.D0.B9_Wayland"></span><span class="mw-headline" id="Для_пользователей_Wayland">Для пользователей Wayland</span>
</h3>
<p>Так как Wayland не поддерживает гамма-коррекцию, то на данный момент использование redhift в нём не даст никакого эффекта <a rel="nofollow" class="external autonumber" href="https://github.com/jonls/redshift/issues/260">[2]</a>. Предложение по реализации уже открыто в баг-трекере.<a rel="nofollow" class="external autonumber" href="https://github.com/jonls/redshift/issues/55">[3]</a>
</p>
<p>Если вы используете Gnome, то вы можете попробовать воспользоваться <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gnome-shell-extension-redshift-git/">gnome-shell-extension-redshift-git</a></span><sup><small>AUR</small></sup><sup>[<a href="/title/ArchWiki:Requests#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>. После установки этого пакета перезапустите Gnome и включите Gnome Redshift Extension.
</p>
<h2>
<span id=".D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5"></span><span class="mw-headline" id="Смотрите_также">Смотрите также</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="http://jonls.dk/redshift">Официальный сайт</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/jonls/redshift">Redshift на github</a></li>
<li>
<b>sct</b> — set color temperature</li>
</ul>
<dl><dd>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/sct/">sct</a></span><sup><small>AUR</small></sup> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/sct/">sct</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li><a href="https://en.wikipedia.org/wiki/ru:%D0%A6%D0%B2%D0%B5%D1%82%D0%BE%D0%B2%D0%B0%D1%8F_%D1%82%D0%B5%D0%BC%D0%BF%D0%B5%D1%80%D0%B0%D1%82%D1%83%D1%80%D0%B0" class="extiw" title="wikipedia:ru:Цветовая температура">Цветовая температура</a></li></ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="/title/Special:Categories" title="Special:Categories">Categories</a>: <ul>
<li><a href="/title/Category:X_server_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Category:X server (Русский)">X server (Русский)</a></li>
<li><a href="/title/Category:Eye_candy_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)" title="Category:Eye candy (Русский)">Eye candy (Русский)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="/title/Category:Pages_or_sections_flagged_with_Template:Bad_translation" title="Category:Pages or sections flagged with Template:Bad translation">Pages or sections flagged with Template:Bad translation</a></li>
<li><a href="/title/Category:Pages_with_broken_package_links" title="Category:Pages with broken package links">Pages with broken package links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Redshift_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=669311">https://wiki.archlinux.org/index.php?title=Redshift_(Русский)&amp;oldid=669311</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 8 May 2021, at 11:33.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="/title/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/title/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="/title/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
