<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>USB storage devices (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-USB_storage_devices_Русский rootpage-USB_storage_devices_Русский skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">USB storage devices (Русский)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Ссылки по теме</p>
<ul>
<li><a href="../ru/File_systems.html#%D0%9C%D0%BE%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D0%BE%D0%B9_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B" class="mw-redirect" title="Mount (Русский)">Mount (Русский)</a></li>
</ul>
</div>
<p>В этом документе описываются способы использования различных USB накопителей в Linux. Это также касается и других устройств, таких как цифровые камеры или телефоны, которые распознаются как обычные USB накопители.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%D0%9C%D0%BE%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_USB_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2"><span class="tocnumber">1</span> <span class="toctext">Монтирование USB устройств</span></a>
<ul>
<li class="toclevel-2 tocsection-2">
<a href="#%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5_%D0%BC%D0%BE%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81_%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8C%D1%8E_udev"><span class="tocnumber">1.1</span> <span class="toctext">Автоматическое монтирование с помощью udev</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%BE%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81_%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%D0%BC_systemd"><span class="tocnumber">1.1.1</span> <span class="toctext">Автомонтирование с использованием systemd</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-4">
<a href="#%D0%9C%D0%BE%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B2%D1%80%D1%83%D1%87%D0%BD%D1%83%D1%8E"><span class="tocnumber">1.2</span> <span class="toctext">Монтирование вручную</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#%D0%93%D0%B4%D0%B5_%D0%B2%D0%B7%D1%8F%D1%82%D1%8C_%D1%8F%D0%B4%D1%80%D0%BE,_%D0%BF%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%B8%D0%B2%D0%B0%D1%8E%D1%89%D0%B5%D0%B5_usb_storage"><span class="tocnumber">1.2.1</span> <span class="toctext">Где взять ядро, поддерживающее usb_storage</span></a></li>
<li class="toclevel-3 tocsection-6">
<a href="#%D0%9E%D0%BF%D0%BE%D0%B7%D0%BD%D0%B0%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2"><span class="tocnumber">1.2.2</span> <span class="toctext">Опознавание устройств</span></a>
<ul>
<li class="toclevel-4 tocsection-7"><a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%BD%D1%8B%D1%85_%D0%B8%D0%BC%D0%B5%D0%BD_(node_names)_(_/sd*_)"><span class="tocnumber">1.2.2.1</span> <span class="toctext">Использование системных имен (node names) ( /sd* )</span></a></li>
<li class="toclevel-4 tocsection-8"><a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_UUID"><span class="tocnumber">1.2.2.2</span> <span class="toctext">Использование UUID</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-9">
<a href="#%D0%9C%D0%BE%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_USB_%D1%84%D0%BB%D1%8D%D1%88-%D0%BF%D0%B0%D0%BC%D1%8F%D1%82%D0%B8"><span class="tocnumber">1.2.3</span> <span class="toctext">Монтирование USB флэш-памяти</span></a>
<ul>
<li class="toclevel-4 tocsection-10"><a href="#%D0%9E%D1%82_%D0%B8%D0%BC%D0%B5%D0%BD%D0%B8_%D1%81%D1%83%D0%BF%D0%B5%D1%80%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F_(root)"><span class="tocnumber">1.2.3.1</span> <span class="toctext">От имени суперпользователя (root)</span></a></li>
<li class="toclevel-4 tocsection-11"><a href="#%D0%9E%D1%82_%D0%B8%D0%BC%D0%B5%D0%BD%D0%B8_%D0%BE%D0%B1%D1%8B%D1%87%D0%BD%D0%BE%D0%B3%D0%BE_%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F_%D0%BF%D1%80%D0%B8_%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D0%B8_mount"><span class="tocnumber">1.2.3.2</span> <span class="toctext">От имени обычного пользователя при помощи mount</span></a></li>
<li class="toclevel-4 tocsection-12"><a href="#%D0%9E%D1%82_%D0%B8%D0%BC%D0%B5%D0%BD%D0%B8_%D0%BE%D0%B1%D1%8B%D1%87%D0%BD%D0%BE%D0%B3%D0%BE_%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F_%D0%BF%D0%BE%D1%81%D1%80%D0%B5%D0%B4%D1%81%D1%82%D0%B2%D0%BE%D0%BC_fstab"><span class="tocnumber">1.2.3.3</span> <span class="toctext">От имени обычного пользователя посредством fstab</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h2>
<span id=".D0.9C.D0.BE.D0.BD.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_USB_.D1.83.D1.81.D1.82.D1.80.D0.BE.D0.B9.D1.81.D1.82.D0.B2"></span><span class="mw-headline" id="Монтирование_USB_устройств">Монтирование USB устройств</span>
</h2>
<p>Если у вас свежая система со стандартным ядром Arch и современная <a href="../ru/Desktop_environment.html" class="mw-redirect" title="Среда рабочего стола">среда рабочего стола</a>, USB устройство должно автоматически появляться на рабочем столе при подключении, и лезть в консоль не потребуется.
</p>
<p>Если этого не произошло см. далее.
</p>
<h3>
<span id=".D0.90.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.BE.D0.B5_.D0.BC.D0.BE.D0.BD.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.81_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C.D1.8E_udev"></span><span class="mw-headline" id="Автоматическое_монтирование_с_помощью_udev">Автоматическое монтирование с помощью udev</span>
</h3>
<p>См. <a href="../ru/Udev.html#%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%BE%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_USB-%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2" title="Udev (Русский)">Udev:Автомонтирование USB-устройств</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">ссылка недействительна</a>: раздел не найден]</sup>.
Простой способ настройки автомонтирования жестких дисков для однопользовательских систем с использованием udev заключается в следующем: создается файл <code>/etc/udev/rules.d/automount.rules</code> со следующим содержимым: 
</p>
<pre>ACTION=="add", ENV{DEVTYPE}=="partition", RUN+="domount %N"</pre>
<p>и исполняемый от root файл <code>/usr/lib/udev/domount</code> со следующим содержимым  (необходимо вставить корректные для Вашей системы значения):
</p>
<pre>#!/bin/sh

#edit the following variables to suit your needs
MYUID=1000              # your user uid
MYGID=100               # your user gid
MYLOGIN=al              # your login
TERM=lxterminal         # your terminal emulator
MYSHELL=zsh             # your shell
export DISPLAY=:0       # your X display


TMPFILE=/run/automount.$RANDOM
DIR=`cat /etc/fstab | grep -v '#' | grep $* | awk '{print $2;}'`
if [ "x$DIR" = "x" ]; then
        MYUUID=`blkid -o value -s UUID $*`
        if [ "x$MYUUID" = "x" ]; then
                MYUUID="unknown"
        fi
        DIR=/run/media/$MYUUID
fi
mkdir -p /run/media
mkdir -p $DIR
cat &gt; $TMPFILE &lt;&lt; EOF
#!/bin/sh
echo "$* will be mounted on $DIR. "
sudo /bin/mount -o uid=$MYUID,gid=$MYGID $* $DIR
cd $DIR
$MYSHELL
cd
sudo /bin/umount $DIR
EOF
chmod a+x $TMPFILE
su $MYLOGIN -c "$TERM -t 'Terminal - $* mounted on $DIR' -e $TMPFILE"
sleep 1; rm -f $TMPFILE
</pre>
<p>При подключении USB-диска происходит автомонтирование и открывается окно терминала. Чтобы размонтировать устройства, просто нажмите Ctrl + D в окне терминала. Место монтирования определяется в <code>/etc/fstab</code> или, при его отсутствии, создается на основе UUID раздела.
</p>
<p>Чтобы ваш пароль не запрашивался при команде размонтирования, добавьте (заменить на ваше имя пользователя) <code>имя_пользователя</code> в <code>/etc/sudoers</code> с помощью команды visudo. См. <a href="../ru/Sudo.html" title="Sudo (Русский)">Sudo (Русский)</a>
</p>
<pre>имя_пользователя	ALL=(ALL) NOPASSWD: /bin/umount</pre>
<p>Если терминал не появляется проверьте команду его запуска. Например, в xfce4, используется команда "Terminal -T &lt;title&gt; -e &lt;script-file&gt; .
</p>
<h4>
<span id=".D0.90.D0.B2.D1.82.D0.BE.D0.BC.D0.BE.D0.BD.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.81_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5.D0.BC_systemd"></span><span class="mw-headline" id="Автомонтирование_с_использованием_systemd">Автомонтирование с использованием systemd</span>
</h4>
<p>Предыдущий способ плох тем что выключает скрипт через 3 минуты, и окно с консолью завершится в любом случае.
Поэтому создаем новый файл <b>/etc/systemd/flash-mount@.service</b> и пишем туда:
</p>
<pre>[Unit]
Description=Автомонтирование съемных устройств

[Service]
Type=oneshot
ExecStart=/usr/lib/udev/domount %I

[Install]
WantedBy=multi-user.target
</pre>
<p>Теперь отредактируем файл <b>/etc/udev/rules.d/automount.rules</b>:
</p>
<pre>ACTION=="add", ENV{DEVTYPE}=="partition", DRIVERS=="usb-storage", ENV{SYSTEMD_WANTS}="flash-mount@%N.service"
</pre>
<p>Теперь скрипт <b>/usr/lib/udev/domount</b>, вот улучшенная версия скрипта которая поддерживает русские символы:
</p>
<pre>#!/bin/sh

MYUID=1000              # Ваш uid
MYGID=100               # группа users
MYLOGIN=user            # ваш логин
TERM=xterm         	# ваш эмулятор терминала
MYSHELL=bash            # ваш шелл
export DISPLAY=:0       # Ваш X дисплей


TMPFILE=/run/automount.$RANDOM
DIR=`cat /etc/fstab | grep -v '#' | grep $* | awk '{print $2;}'`
if [ "x$DIR" = "x" ]; then
        MYUUID=`blkid -o value -s UUID $*`
        if [ "x$MYUUID" = "x" ]; then
                MYUUID="unknown"
        fi
        DIR=/run/media/$MYUUID
fi
mkdir -p /run/media
mkdir -p $DIR
cat &gt; $TMPFILE &lt;&lt; EOF
#!/bin/sh
echo "$* был примонтирован в $DIR. "
sudo /bin/mount -o iocharset=utf8,uid=$MYUID,gid=$MYGID $* $DIR
cd $DIR
$MYSHELL
sudo /bin/umount -l $DIR
EOF

export LANG=ru_RU.UTF-8
export LC_CTYPE=ru_RU.UTF-8
export LC_NUMERIC=ru_RU.UTF-8
export LC_TIME=ru_RU.UTF-8
export LC_COLLATE=ru_RU.UTF-8
export LC_MONETARY=ru_RU.UTF-8
export LC_MESSAGES=ru_RU.UTF-8
export LC_PAPER=ru_RU.UTF-8
export LC_NAME=ru_RU.UTF-8
export LC_ADDRESS=ru_RU.UTF-8
export LC_TELEPHONE=ru_RU.UTF-8
export LC_MEASUREMENT=ru_RU.UTF-8
export LC_IDENTIFICATION=ru_RU.UTF-8
export LC_ALL=
chmod a+x $TMPFILE

su $MYLOGIN -c "$TERM -e $TMPFILE"
sleep 1
rm -f $TMPFILE
rmdir "$DIR"
</pre>
<p>Теперь применяем правила:
</p>
<pre>udevadm control --reload-rules &amp;&amp; udevadm trigger
</pre>
<p>Монтируем флешку и проверяем!
</p>
<h3>
<span id=".D0.9C.D0.BE.D0.BD.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B2.D1.80.D1.83.D1.87.D0.BD.D1.83.D1.8E"></span><span class="mw-headline" id="Монтирование_вручную">Монтирование вручную</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Перед тем, как обвинить Arch Linux в том, что он не монтирует USB устройства, стоит проверить все доступные порты. Часть разъёмов могут не обслуживаться контроллером (или не подключены к контроллеру вообще, в случае портов на передней панели), и устройства физически не смогут монтироваться. Теоретически контроллер портов может оказаться выключенным; для того, чтобы это проверить, нужно зайти в BIOS и отыскать параметр с названием вроде "Onboard USB Controller" — должен быть "Enabled".</div>
<h4>
<span id=".D0.93.D0.B4.D0.B5_.D0.B2.D0.B7.D1.8F.D1.82.D1.8C_.D1.8F.D0.B4.D1.80.D0.BE.2C_.D0.BF.D0.BE.D0.B4.D0.B4.D0.B5.D1.80.D0.B6.D0.B8.D0.B2.D0.B0.D1.8E.D1.89.D0.B5.D0.B5_usb_storage"></span><span class="mw-headline" id="Где_взять_ядро,_поддерживающее_usb_storage">Где взять ядро, поддерживающее usb_storage</span>
</h4>
<p>Если не используется самодельное (самосборное) ядро, то можно скачать одно из готовых, все имеющиеся ядра Arch Linux настроены должным образом. В случае самосборного ядра, следует убедиться, что при компиляции была включена поддержка SCSI, SCSI-Disk и usb_storage. Если установлена последняя версия <a href="../ru/Udev.html" title="Udev (Русский)">udev</a>, то можно просто подключить носитель, и система автоматически подгрузит все необходимые модули ядра. Более ранним версиям udev дополнительно потребуется наличие HotPlug. Либо то же самое можно сделать вручную:
</p>
<pre># modprobe usb-storage
# modprobe sd_mod      (только для ядер без SCSI)
</pre>
<h4>
<span id=".D0.9E.D0.BF.D0.BE.D0.B7.D0.BD.D0.B0.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.83.D1.81.D1.82.D1.80.D0.BE.D0.B9.D1.81.D1.82.D0.B2"></span><span class="mw-headline" id="Опознавание_устройств">Опознавание устройств</span>
</h4>
<p>Самое первое, что нужно знать об устройстве, так это его идентификатор, присвоенный ядром.
</p>
<h5>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D0.BD.D1.8B.D1.85_.D0.B8.D0.BC.D0.B5.D0.BD_.28node_names.29_.28_.2Fsd.2A_.29"></span><span class="mw-headline" id="Использование_системных_имен_(node_names)_(_/sd*_)">Использование системных имен (node names) ( /sd* )</span>
</h5>
<p>Это наиболее простой способ, но присвоение имен зависит от порядка, в котором устройства были подключены. способы получения системных имён (именований по шине):
</p>
<ul><li>поиск среди результатов вывода команды <code>dmesg</code> системного имени устройства, для удобства можно использовать в сочетании с <code>grep</code>:</li></ul>
<pre>$ dmesg | egrep "sd[a-z]"
</pre>
<ul><li>выполнением команды:</li></ul>
<pre># fdisk -l
</pre>
<p>которая отобразит все доступные таблицы разделов.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Если среди результатов нет устройства, то можно использовать команду <code>lsusb</code>, чтобы убедиться, что оно действительно было опознано системой.</div>
<h5>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_UUID"></span><span class="mw-headline" id="Использование_UUID">Использование UUID</span>
</h5>
<p>Для каждого устройства существует <a href="https://en.wikipedia.org/wiki/UUID" class="extiw" title="wikipedia:UUID">UUID</a> (Universally Unique Identifier — уникальный идентификатор как один из методов постоянных именований устройств), эти идентификаторы предназначены для отслеживания устройств в независимости от их системных имен, а значит расположения на шине и порядка обнаружения (например <code>/dev/sda</code>).
</p>
<p>Чтобы узнать все UUIDы, известные системе, нужно выполнить:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># blkid -o list -c /dev/null</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">device         fs_type  label     mount point        UUID
------------------------------------------------------------------------------------------
/dev/sda1      ext2               /boot              7f4cef7e-7ee2-489a-b759-d52ba23b692c
/dev/sda2      swap               (not mounted)      a807fff3-e89f-46d0-ab17-9b7ad3efa7b5
/dev/sda3      ext4               /                  81917291-fd1a-4ffe-b95f-61c05cfba76f
/dev/sda4      ext4               /home              c4c23598-19fb-4562-892b-6fb18a09c7d3
/dev/sdb1      ext4     X2        /mnt/X1            4bf265f7-da17-4575-8758-acd40885617b
/dev/sdc1      ext4     X1        /mnt/X2            4bf265f7-da17-4575-8758-acd40885617b
/dev/sdd1      ext4     Y2        /mnt/Y2            8a976a06-3e56-476f-b73a-ea3cad41d915
/dev/sde1      ext4     Z2        /mnt/Z2            9d35eaae-983f-4eba-abc9-434ecd4da09c
/dev/sdf1      ext4     Y1        /mnt/Y1            e2ec37a9-0689-46a8-a07b-0609ce2b7ea2
/dev/sdg1      ext4     Z1        /mnt/Z1            9fa239c1-720f-42e0-8aed-39cf53a743ed
/dev/sdj1      ext4     RAPT      (not mounted)      a9ed7ecb-96ce-40fe-92fa-e07a532ed157
/dev/sdj2      swap               &lt;swap&gt;             20826c74-eb6d-46f8-84d8-69b933a4bf3f
</pre>
<p><i> Здесь можно видеть целый список дисков, видимых системой, и длинные строчки с символами. Так вот эти строчки и есть те самые uuidы.</i>
</p>
<ul><li>Теперь нужно подключить USB устройство и подождать несколько секунд . . .</li></ul>
<ul><li>Заново выполнить <code>blkid -o list -c /dev/null</code>
</li></ul>
<p><i> Появилось новое устройство и UUID? Это и есть USB накопитель</i>
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong>  Если <code>blkid</code> не работает так, как ожидалось (или не работает вообще), то можно заглянуть в поисках UUIDов в <code>/dev/disk/by-uuid/</code>:
<pre>$ ls -lF /dev/disk/by-uuid/
</pre>
</div>
<h4>
<span id=".D0.9C.D0.BE.D0.BD.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_USB_.D1.84.D0.BB.D1.8D.D1.88-.D0.BF.D0.B0.D0.BC.D1.8F.D1.82.D0.B8"></span><span class="mw-headline" id="Монтирование_USB_флэш-памяти">Монтирование USB флэш-памяти</span>
</h4>
<p>Для этого нужно создать папку, в которую в дальнейшем будет монтироваться флэшка:
</p>
<pre># mkdir /mnt/usbstick
</pre>
<h5>
<span id=".D0.9E.D1.82_.D0.B8.D0.BC.D0.B5.D0.BD.D0.B8_.D1.81.D1.83.D0.BF.D0.B5.D1.80.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8F_.28root.29"></span><span class="mw-headline" id="От_имени_суперпользователя_(root)">От имени суперпользователя (root)</span>
</h5>
<p>Монтировать устройство рутом при помощи команды (только нужно заменить <b>device_node</b> найденным устройством, как было показано выше):
</p>
<pre># mount <b>device_node</b> /mnt/usbstick
</pre>
<p>или
</p>
<pre># mount -U <b>UUID</b> /mnt/usbstick
</pre>
<p>Если <code>mount</code> не распознаёт формат устройства (файловой системы), то можно попробовать с ключом <code>-t &lt;тип файловой системы&gt;</code>, а также глянуть в <span class="plainlinks archwiki-template-man" title="$ man 8 mount"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/mount.8">mount(8)</a></span> для просвещения.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Если же вообще ничего не помогло, то, возможно, нужно чинить флэшку, см. <a href="../en/File_systems.html#Create_a_file_system" class="mw-redirect" title="Format a device">Format a device</a>. Но перед этим имеет смысл попробовать на другом компьютере или операционной системе.</div>
<h5>
<span id=".D0.9E.D1.82_.D0.B8.D0.BC.D0.B5.D0.BD.D0.B8_.D0.BE.D0.B1.D1.8B.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8F_.D0.BF.D1.80.D0.B8_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D0.B8_mount"></span><span class="mw-headline" id="От_имени_обычного_пользователя_при_помощи_mount">От имени обычного пользователя при помощи mount</span>
</h5>
<p>Чтобы непривилегированные пользователи могли записывать данные на USB носитель, нужно прописать следующую команду:
</p>
<pre>$ sudo mount -o gid=users,fmask=113,dmask=002 /dev/sda1 /mnt/usbstick
</pre>
<h5>
<span id=".D0.9E.D1.82_.D0.B8.D0.BC.D0.B5.D0.BD.D0.B8_.D0.BE.D0.B1.D1.8B.D1.87.D0.BD.D0.BE.D0.B3.D0.BE_.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D1.82.D0.B5.D0.BB.D1.8F_.D0.BF.D0.BE.D1.81.D1.80.D0.B5.D0.B4.D1.81.D1.82.D0.B2.D0.BE.D0.BC_fstab"></span><span class="mw-headline" id="От_имени_обычного_пользователя_посредством_fstab">От имени обычного пользователя посредством fstab</span>
</h5>
<p>Для того, чтобы простой поьзователь мог спокойно монтировать USB-накопитель через <a href="../ru/Fstab.html" title="Fstab (Русский)">fstab</a>, нужно добавить следующую строку в файл <code>/etc/fstab</code>:
</p>
<pre>/dev/sda1 /mnt/usbstick vfat <b>user</b>,noauto,noatime,flush 0 0
</pre>
<p>или, что ещё лучше:
</p>
<pre>UUID=E8F1-5438 /mnt/usbstick vfat <b>user</b>,noauto,noatime,flush 0 0
</pre>
<p>(см. описание для <b>user</b> и других параметров в статье <a href="../en/Fstab.html" title="Fstab">main article</a>)
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Здесь <code>/dev/sda1</code> должно быть заменено на имя флэшки (если оно не /dev/sda1, конечно). Если непонятно, см. <a href="#%D0%9C%D0%BE%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_USB_%D1%84%D0%BB%D1%8D%D1%88-%D0%BF%D0%B0%D0%BC%D1%8F%D1%82%D0%B8">Монтирование USB флэш-памяти</a>.</div>
<p>Все, теперь любой пользователь может монтировать флэшку при помощи:
</p>
<pre>$ mount /mnt/usbstick
</pre>
<p>И отмонтировать, используя:
</p>
<pre>$ umount /mnt/usbstick
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Извлекать флэшку, не выполнив размонтирование, опасно.</div>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../ru/Category:Storage.html" title="Category:Storage (Русский)">Storage (Русский)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=USB_storage_devices_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=645174">https://wiki.archlinux.org/index.php?title=USB_storage_devices_(Русский)&amp;oldid=645174</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 13 December 2020, at 14:35.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
