<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>systemd (العربية) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Systemd_العربية rootpage-Systemd_العربية skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">systemd (العربية)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><span></span>
</p>
<div style="text-align: right; direction:rtl;margin-right:30px;"> 
<p>جاء تعريفًا من <a rel="nofollow" class="external text" href="https://freedesktop.org/wiki/Software/systemd">صفحة المشروع</a>:
</p>
<p><i><b>النظام الرابع Systemd</b> هو مدير للنظام و الخدمات في لينكس ، متوافق مع المخطوطات الابتدائية بنوعيها SysV و LSB . يعمل <b>systemd</b> مقدّمًا قدرات الرد المتوازي ، مستعملًا نشاطي socket و <a href="../en/D-Bus.html" title="D-Bus">D-Bus</a> في تشغيل الخدمات ، عارضًا مقدّمات التشغيل مسبقة الطلب من المخدّمات ، محافظًا على قطاع العمليات من خلال <a href="../en/Cgroups.html" title="Cgroups">مجموعات التحكم</a> في لينكس ، داعمًا التوقف الفوري لحالة النظام و الاستمرارية فيما بعد ، مديرًا لنقاط الوصل و الوصل التلقائي ، منفّذًا معاملات المنطق الخدمي التحكمي القائمة على التّبعية . Systemd يشكل بديلًا متكاملًا لبرنامج <a href="../en/SysVinit.html" title="SysVinit">sysvinit</a> .</i>
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> ملاحظة: لمعرفة مزيد من التفاصيل عن أسباب انتقال Arch إلى systemd ، انظر  <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1149530#p1149530">منشور المنتدى</a>. </strong>: </div>
<p>انظر أيضًا مقالة systemd <a href="https://en.wikipedia.org/wiki/Systemd" class="extiw" title="wikipedia:Systemd">في ويكيبيديا</a>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%D8%AA%D8%AD%D8%B6%D9%8A%D8%B1%D8%A7%D8%AA_%D9%82%D8%A8%D9%84_%D8%A7%D9%84%D8%AA%D8%AD%D9%88%D9%91%D9%84"><span class="tocnumber">1</span> <span class="toctext">تحضيرات قبل التحوّل</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#%D8%A7%D9%84%D8%AA%D8%AB%D8%A8%D9%8A%D8%AA"><span class="tocnumber">2</span> <span class="toctext">التثبيت</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#%D9%85%D8%B9%D9%84%D9%88%D9%85%D8%A7%D8%AA_%D8%A5%D8%B6%D8%A7%D9%81%D9%8A%D8%A9"><span class="tocnumber">2.1</span> <span class="toctext">معلومات إضافية</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4">
<a href="#%D8%A7%D9%84%D8%A5%D8%B9%D8%AF%D8%A7%D8%AF%D8%A7%D8%AA_%D8%A7%D9%84%D8%A3%D8%B5%D9%84%D9%8A%D8%A9"><span class="tocnumber">3</span> <span class="toctext">الإعدادات الأصلية</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#%D8%A7%D9%84%D8%B7%D8%B1%D9%81%D9%8A%D8%A9_%D8%A7%D9%84%D8%A7%D9%81%D8%AA%D8%B1%D8%A7%D8%B6%D9%8A%D8%A9"><span class="tocnumber">3.1</span> <span class="toctext">الطرفية الافتراضية</span></a></li>
<li class="toclevel-2 tocsection-6">
<a href="#%D8%B3%D8%A7%D8%B9%D8%A9_%D8%A7%D9%84%D8%B9%D8%AA%D8%A7%D8%AF"><span class="tocnumber">3.2</span> <span class="toctext">ساعة العتاد</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#%D8%B3%D8%A7%D8%B9%D8%A9_%D8%A7%D9%84%D8%B9%D8%AA%D8%A7%D8%AF_%D8%A8%D8%A7%D9%84%D8%AA%D9%88%D9%82%D9%8A%D8%AA_%D8%A7%D9%84%D9%85%D8%AD%D9%84%D9%91%D9%8A"><span class="tocnumber">3.2.1</span> <span class="toctext">ساعة العتاد بالتوقيت المحلّي</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8">
<a href="#%D9%88%D8%AD%D8%AF%D8%A7%D8%AA_%D8%A7%D9%84%D9%86%D9%91%D9%88%D8%A7%D8%A9"><span class="tocnumber">3.3</span> <span class="toctext">وحدات النّواة</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#%D8%A7%D9%84%D9%88%D8%AD%D8%AF%D8%A7%D8%AA_%D8%A7%D9%84%D8%A5%D8%B6%D8%A7%D9%81%D9%8A%D8%A9_%D8%A7%D9%84%D9%85%D8%B9%D8%AF%D9%91%D8%A9_%D9%84%D9%84%D8%AA%D8%AD%D9%85%D9%8A%D9%84_%D9%85%D8%B9_%D8%A7%D9%84%D8%A5%D9%82%D9%84%D8%A7%D8%B9"><span class="tocnumber">3.3.1</span> <span class="toctext">الوحدات الإضافية المعدّة للتحميل مع الإقلاع</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#%D8%A5%D8%B9%D8%AF%D8%A7%D8%AF_%D8%AE%D9%8A%D8%A7%D8%B1%D8%A7%D8%AA_%D8%A7%D9%84%D9%88%D8%AD%D8%AF%D8%A7%D8%AA"><span class="tocnumber">3.3.2</span> <span class="toctext">إعداد خيارات الوحدات</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#%D8%A7%D9%84%D8%AD%D8%B8%D8%B1"><span class="tocnumber">3.3.3</span> <span class="toctext">الحظر</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-12">
<a href="#%D9%88%D8%B5%D9%84_%D9%86%D8%B8%D8%A7%D9%85_%D8%A7%D9%84%D9%85%D9%84%D9%81%D8%A7%D8%AA"><span class="tocnumber">3.4</span> <span class="toctext">وصل نظام الملفات</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#%D8%A7%D9%84%D9%88%D8%B5%D9%84_%D8%A7%D9%84%D8%AA%D9%84%D9%82%D8%A7%D8%A6%D9%8A"><span class="tocnumber">3.4.1</span> <span class="toctext">الوصل التلقائي</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#%D8%A5%D8%AF%D8%A7%D8%B1%D8%A9_%D8%A7%D9%84%D8%A3%D9%82%D8%B3%D8%A7%D9%85_%D8%A7%D9%84%D9%85%D9%86%D8%B7%D9%82%D9%8A%D8%A9_(_LVM_)"><span class="tocnumber">3.4.2</span> <span class="toctext">إدارة الأقسام المنطقية ( LVM )</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-15">
<a href="#%D8%A5%D8%AF%D8%A7%D8%B1%D8%A9_%D8%A7%D9%84%D8%B7%D8%A7%D9%82%D8%A9_(_%D9%85%D9%86_%D8%AE%D9%84%D8%A7%D9%84_%D8%A7%D9%84%D8%A8%D9%88%D8%A7%D8%A8%D8%A9_%D8%A7%D9%84%D9%85%D8%AA%D9%82%D8%AF%D9%85%D8%A9_ACPI_)"><span class="tocnumber">3.5</span> <span class="toctext">إدارة الطاقة ( من خلال البوابة المتقدمة ACPI )</span></a>
<ul>
<li class="toclevel-3 tocsection-16">
<a href="#%D8%A7%D9%84%D9%85%D9%8F%D8%B9%D9%8E%D9%84%D9%90%D9%91%D9%82%D8%A7%D8%AA"><span class="tocnumber">3.5.1</span> <span class="toctext">المُعَلِّقات</span></a>
<ul>
<li class="toclevel-4 tocsection-17"><a href="#%D9%85%D9%84%D9%81%D8%A7%D8%AA_%D8%AE%D8%AF%D9%85%D8%A7%D8%AA_%D8%A7%D9%84%D8%AA%D9%91%D8%B9%D9%84%D9%8A%D9%82_%D9%88_%D8%A7%D9%84%D8%A7%D8%B3%D8%AA%D9%83%D9%85%D8%A7%D9%84"><span class="tocnumber">3.5.1.1</span> <span class="toctext">ملفات خدمات التّعليق و الاستكمال</span></a></li>
<li class="toclevel-4 tocsection-18"><a href="#%D8%A7%D9%84%D9%85%D9%84%D9%81_%D8%A7%D9%84%D9%85%D9%8F%D8%AC%D9%8E%D9%85%D9%8E%D9%91%D8%B9_%D9%84%D8%AE%D8%AF%D9%85%D8%A7%D8%AA_%D8%A7%D9%84%D8%AA%D8%B9%D9%84%D9%8A%D9%82_%D9%88_%D8%A7%D9%84%D8%A7%D8%B3%D8%AA%D9%83%D9%85%D8%A7%D9%84"><span class="tocnumber">3.5.1.2</span> <span class="toctext">الملف المُجَمَّع لخدمات التعليق و الاستكمال</span></a></li>
<li class="toclevel-4 tocsection-19"><a href="#%D8%A7%D9%84%D9%85%D9%8F%D8%B9%D9%8E%D9%84%D9%90%D9%91%D9%82%D8%A7%D8%AA_%D9%81%D9%8A_/usr/lib/systemd/system-sleep"><span class="tocnumber">3.5.1.3</span> <span class="toctext">المُعَلِّقات في /usr/lib/systemd/system-sleep</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-20"><a href="#%D8%A7%D9%84%D9%85%D9%84%D9%81%D8%A7%D8%AA_%D8%A7%D9%84%D9%85%D8%A4%D9%82%D9%91%D8%AA%D8%A9"><span class="tocnumber">3.6</span> <span class="toctext">الملفات المؤقّتة</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#%D8%A7%D9%84%D9%88%D8%AD%D8%AF%D8%A7%D8%AA"><span class="tocnumber">3.7</span> <span class="toctext">الوحدات</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-22">
<a href="#%D8%A7%D9%84%D8%A7%D8%B3%D8%AA%D8%AE%D8%AF%D8%A7%D9%85_%D8%A7%D9%84%D8%A3%D9%88%D9%91%D9%84%D9%8A_%D9%84%D8%A3%D8%AF%D8%A7%D8%A9_systemctl"><span class="tocnumber">4</span> <span class="toctext">الاستخدام الأوّلي لأداة systemctl</span></a>
<ul>
<li class="toclevel-2 tocsection-23"><a href="#%D8%AA%D8%AD%D9%84%D9%8A%D9%84_%D8%AD%D8%A7%D9%84%D8%A9_%D8%A7%D9%84%D9%86%D8%B8%D8%A7%D9%85"><span class="tocnumber">4.1</span> <span class="toctext">تحليل حالة النظام</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#%D8%A7%D8%B3%D8%AA%D8%AE%D8%AF%D8%A7%D9%85_%D8%A7%D9%84%D9%88%D8%AD%D8%AF%D8%A7%D8%AA"><span class="tocnumber">4.2</span> <span class="toctext">استخدام الوحدات</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#%D8%A5%D8%AF%D8%A7%D8%B1%D8%A9_%D8%A7%D9%84%D8%B7%D9%91%D8%A7%D9%82%D8%A9"><span class="tocnumber">4.3</span> <span class="toctext">إدارة الطّاقة</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-26">
<a href="#%D8%AA%D8%B4%D8%BA%D9%8A%D9%84_%D8%A7%D9%84%D9%85%D9%8F%D8%AE%D8%AF%D9%91%D9%85%D8%A7%D8%AA_%D8%A7%D9%84%D8%B1%D8%B3%D9%88%D9%85%D9%8A%D8%A9_%D9%81%D9%8A_systemd"><span class="tocnumber">5</span> <span class="toctext">تشغيل المُخدّمات الرسومية في systemd</span></a>
<ul>
<li class="toclevel-2 tocsection-27"><a href="#%D8%A7%D8%B3%D8%AA%D8%AE%D8%AF%D8%A7%D9%85_%D9%85%D8%AF%D9%8A%D8%B1_%D8%A7%D9%84%D9%88%D9%84%D9%88%D8%AC_systemd-logind"><span class="tocnumber">5.1</span> <span class="toctext">استخدام مدير الولوج systemd-logind</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-28">
<a href="#%D9%83%D8%AA%D8%A7%D8%A8%D8%A9_%D9%85%D9%84%D9%81%D8%A7%D8%AA_%D8%AA%D8%AE%D8%B5%D8%B5%D9%8A%D8%A9_%D8%A8%D8%AA%D9%86%D8%B3%D9%8A%D9%82_.service"><span class="tocnumber">6</span> <span class="toctext">كتابة ملفات تخصصية بتنسيق .service</span></a>
<ul>
<li class="toclevel-2 tocsection-29"><a href="#%D8%A7%D8%B3%D8%AA%D9%86%D8%A8%D8%A7%D8%B7_%D8%A7%D9%84%D8%A7%D8%B9%D8%AA%D9%85%D8%A7%D8%AF%D9%8A%D9%91%D8%A7%D8%AA"><span class="tocnumber">6.1</span> <span class="toctext">استنباط الاعتماديّات</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#%D8%A7%D9%84%D9%86%D9%88%D8%B9"><span class="tocnumber">6.2</span> <span class="toctext">النوع</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#%D8%AA%D8%AD%D8%B1%D9%8A%D8%B1_%D9%85%D9%84%D9%81%D8%A7%D8%AA_%D8%A7%D9%84%D9%88%D8%AD%D8%AF%D8%A7%D8%AA_%D8%A7%D9%84%D9%85%D8%B6%D8%A7%D9%81%D8%A9"><span class="tocnumber">6.3</span> <span class="toctext">تحرير ملفات الوحدات المضافة</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#%D8%AA%D8%B3%D9%84%D9%8A%D8%B7_%D8%A7%D9%84%D8%B6%D9%88%D8%A1_%D8%B9%D9%84%D9%89_%D8%A8%D9%86%D8%A7%D8%A1_%D8%A7%D9%84%D9%88%D8%AD%D8%AF%D8%A7%D8%AA_%D8%A8%D9%88%D8%A7%D8%B3%D8%B7%D8%A9_Vim"><span class="tocnumber">6.4</span> <span class="toctext">تسليط الضوء على بناء الوحدات بواسطة Vim</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-33">
<a href="#%D8%A7%D9%84%D8%A3%D9%87%D8%AF%D8%A7%D9%81"><span class="tocnumber">7</span> <span class="toctext">الأهداف</span></a>
<ul>
<li class="toclevel-2 tocsection-34"><a href="#%D8%A7%D9%84%D8%A3%D9%87%D8%AF%D8%A7%D9%81_%D8%A7%D9%84%D8%AD%D8%A7%D9%84%D9%8A%D8%A9"><span class="tocnumber">7.1</span> <span class="toctext">الأهداف الحالية</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#%D8%A5%D9%86%D8%B4%D8%A7%D8%A1_%D9%87%D8%AF%D9%81_%D9%85%D8%B9%D9%8A%D9%91%D9%86"><span class="tocnumber">7.2</span> <span class="toctext">إنشاء هدف معيّن</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#%D8%AC%D8%AF%D9%88%D9%84%D8%A9_%D8%A7%D9%84%D8%A7%D9%87%D8%AF%D8%A7%D9%81"><span class="tocnumber">7.3</span> <span class="toctext">جدولة الاهداف</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#%D8%AA%D8%BA%D9%8A%D9%8A%D8%B1_%D8%A7%D9%84%D9%87%D8%AF%D9%81_%D8%A7%D9%84%D8%AD%D8%A7%D9%84%D9%8A"><span class="tocnumber">7.4</span> <span class="toctext">تغيير الهدف الحالي</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#%D8%AA%D8%BA%D9%8A%D9%8A%D8%B1_%D8%A7%D9%84%D9%87%D8%AF%D9%81_%D8%A7%D9%84%D8%A7%D9%81%D8%AA%D8%B1%D8%A7%D8%B6%D9%8A_%D9%84%D9%84%D8%A5%D9%82%D9%84%D8%A7%D8%B9_%D9%85%D9%86_%D8%AE%D9%84%D8%A7%D9%84%D9%87"><span class="tocnumber">7.5</span> <span class="toctext">تغيير الهدف الافتراضي للإقلاع من خلاله</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-39">
<a href="#%D8%A7%D9%84%D8%AF%D9%91%D9%88%D8%B1%D9%8A%D9%91%D8%A7%D8%AA"><span class="tocnumber">8</span> <span class="toctext">الدّوريّات</span></a>
<ul>
<li class="toclevel-2 tocsection-40"><a href="#%D8%AA%D9%86%D9%82%D9%8A%D8%AD_%D8%A7%D9%84%D9%85%D9%8F%D8%AE%D8%B1%D8%AC%D8%A7%D8%AA"><span class="tocnumber">8.1</span> <span class="toctext">تنقيح المُخرجات</span></a></li>
<li class="toclevel-2 tocsection-41"><a href="#%D8%A7%D9%84%D8%AD%D8%AC%D9%85_%D8%A7%D9%84%D8%A3%D9%82%D8%B5%D9%89_%D9%84%D9%84%D8%AF%D9%91%D9%88%D8%B1%D9%8A%D8%A9"><span class="tocnumber">8.2</span> <span class="toctext">الحجم الأقصى للدّورية</span></a></li>
<li class="toclevel-2 tocsection-42"><a href="#%D8%A7%D9%84%D8%AA%D8%B1%D8%A7%D8%A8%D8%B7_%D8%A8%D9%8A%D9%86_%D9%85%D8%AF%D9%8A%D8%B1_%D8%A7%D9%84%D8%AF%D9%91%D9%88%D8%B1%D9%8A%D8%A7%D8%AA_journald_%D9%88_%D8%B3%D8%AC%D9%84_%D8%A7%D9%84%D9%86%D8%B8%D8%A7%D9%85_syslog"><span class="tocnumber">8.3</span> <span class="toctext">الترابط بين مدير الدّوريات journald و سجل النظام syslog</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-43">
<a href="#%D8%A7%D9%84%D8%AA%D9%91%D8%AD%D8%B3%D9%8A%D9%86"><span class="tocnumber">9</span> <span class="toctext">التّحسين</span></a>
<ul>
<li class="toclevel-2 tocsection-44">
<a href="#%D8%AA%D8%AD%D9%84%D9%8A%D9%84_%D8%B9%D9%85%D9%84%D9%8A%D8%A9_%D8%A7%D9%84%D8%A5%D9%82%D9%84%D8%A7%D8%B9"><span class="tocnumber">9.1</span> <span class="toctext">تحليل عملية الإقلاع</span></a>
<ul>
<li class="toclevel-3 tocsection-45"><a href="#%D8%A7%D8%B3%D8%AA%D8%AE%D8%AF%D8%A7%D9%85_%D8%A3%D8%AF%D8%A7%D8%A9_%D8%A7%D9%84%D8%AA%D8%AD%D9%84%D9%8A%D9%84_systemd-analyze"><span class="tocnumber">9.1.1</span> <span class="toctext">استخدام أداة التحليل systemd-analyze</span></a></li>
<li class="toclevel-3 tocsection-46"><a href="#%D8%A7%D8%B3%D8%AA%D8%AE%D8%AF%D8%A7%D9%85_%D8%B1%D8%A7%D8%B3%D9%85_%D8%AE%D8%B1%D9%8A%D8%B7%D8%A9_%D8%A7%D9%84%D8%A5%D9%82%D9%84%D8%A7%D8%B9_systemd-bootchart"><span class="tocnumber">9.1.2</span> <span class="toctext">استخدام راسم خريطة الإقلاع systemd-bootchart</span></a></li>
<li class="toclevel-3 tocsection-47"><a href="#%D8%A7%D9%84%D9%85%D8%B1%D8%AD%D9%84%D8%A9_%D8%A7%D9%84%D8%AB%D8%A7%D9%86%D9%8A%D8%A9_%D9%85%D9%86_%D8%B1%D8%B3%D9%85_%D8%AE%D8%B1%D9%8A%D8%B7%D8%A9_%D8%A7%D9%84%D8%A5%D9%82%D9%84%D8%A7%D8%B9"><span class="tocnumber">9.1.3</span> <span class="toctext">المرحلة الثانية من رسم خريطة الإقلاع</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-48">
<a href="#%D8%A7%D8%B3%D8%AA%D9%83%D8%B4%D8%A7%D9%81_%D8%A7%D9%84%D8%A7%D8%AE%D8%B7%D8%A7%D8%A1_%D9%88_%D8%A5%D8%B5%D9%84%D8%A7%D8%AD%D9%87%D8%A7"><span class="tocnumber">10</span> <span class="toctext">استكشاف الاخطاء و إصلاحها</span></a>
<ul>
<li class="toclevel-2 tocsection-49"><a href="#%D8%A7%D9%84%D9%88%D9%82%D8%AA_%D8%A7%D9%84%D8%B7%D9%91%D9%88%D9%8A%D9%84_%D9%84%D8%A5%D9%8A%D9%82%D8%A7%D9%81_%D8%A3%D9%88_%D8%A5%D8%B9%D8%A7%D8%AF%D8%A9_%D8%A7%D9%84%D8%AA%D9%91%D8%B4%D8%BA%D9%8A%D9%84"><span class="tocnumber">10.1</span> <span class="toctext">الوقت الطّويل لإيقاف أو إعادة التّشغيل</span></a></li>
<li class="toclevel-2 tocsection-50"><a href="#%D8%B9%D8%AF%D9%85_%D9%88%D8%AC%D9%88%D8%AF_%D9%85%D9%8F%D8%AE%D8%B1%D8%AC%D8%A7%D8%AA_%D9%84%D9%84%D8%AA%D8%B7%D8%A8%D9%8A%D9%82%D8%A7%D8%AA_%D9%82%D8%B5%D9%8A%D8%B1%D8%A9_%D8%A7%D9%84%D8%B9%D9%8F%D9%85%D8%B1"><span class="tocnumber">10.2</span> <span class="toctext">عدم وجود مُخرجات للتطبيقات قصيرة العُمر</span></a></li>
<li class="toclevel-2 tocsection-51"><a href="#%D8%AA%D8%B4%D8%AE%D9%8A%D8%B5_%D9%85%D8%B4%D8%A7%D9%83%D9%84_%D8%A7%D9%84%D8%A5%D9%82%D9%84%D8%A7%D8%B9"><span class="tocnumber">10.3</span> <span class="toctext">تشخيص مشاكل الإقلاع</span></a></li>
<li class="toclevel-2 tocsection-52"><a href="#%D8%AA%D8%B9%D8%B7%D9%8A%D9%84_%D8%A7%D9%84%D8%AA%D8%B7%D8%A8%D9%8A%D9%82%D8%A7%D8%AA_%D9%85%D8%B3%D8%A8%D8%A8%D8%A9_%D8%A7%D9%84%D8%A7%D9%86%D9%87%D9%8A%D8%A7%D8%B1"><span class="tocnumber">10.4</span> <span class="toctext">تعطيل التطبيقات مسببة الانهيار</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-53"><a href="#%D8%A7%D9%86%D8%B8%D8%B1_%D8%A3%D9%8A%D8%B6%D9%8B%D8%A7"><span class="tocnumber">11</span> <span class="toctext">انظر أيضًا</span></a></li>
</ul>
</div>

<h2>
<span id=".D8.AA.D8.AD.D8.B6.D9.8A.D8.B1.D8.A7.D8.AA_.D9.82.D8.A8.D9.84_.D8.A7.D9.84.D8.AA.D8.AD.D9.88.D9.91.D9.84"></span><span class="mw-headline" id="تحضيرات_قبل_التحوّل">تحضيرات قبل التحوّل</span>
</h2>
<ul>
<li>اقرأ <a rel="nofollow" class="external text" href="https://freedesktop.org/wiki/Software/systemd/">بعض المعلومات</a> عن systemd.</li>
<li>لاحظ أن حقيقة systemd أنه نظام <b>دوريّ</b> التسجيل يقوم مقام أداة <b>syslog </b> ، ومع ذلك يمكن لهما أن يتعايشا معًا . راجع <a href="#%D8%A7%D9%84%D8%AF%D9%91%D9%88%D8%B1%D9%8A%D9%91%D8%A7%D8%AA">الدّوريّات</a> أدناه .</li>
<li>على الرّغم من إمكانية systemd على استبدال بعض وظائف <b>cron</b> و <b>acoid</b> و <b>xinetd</b> ، إلا أنه لا داعِ للتحول الكامل من المُخدّمات التقليدية ما لم ترغب في ذلك .</li>
<li>المخطوطات الابتدائية التفاعلية لا تعمل من خلال systemd . خصوصًا مخطوطة قائمة إعداد الشبكة netcfg-menu <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/31377">لا يمكن</a> أن تعمل أثناء الإقلاع .</li>
</ul>
<h2>
<span id=".D8.A7.D9.84.D8.AA.D8.AB.D8.A8.D9.8A.D8.AA"></span><span class="mw-headline" id="التثبيت">التثبيت</span>
</h2>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong>  ملاحظة:  </strong> كلًّا من الأداتين <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd">systemd</a></span> و <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd-sysvcompat">systemd-sysvcompat</a></span> مثبّتتان افتراضيًّا في وسيط التثبيت منذ <a rel="nofollow" class="external text" href="https://archlinux.org/news/systemd-is-now-the-default-on-new-installations/">2012-10-13</a>.</div>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong>  ملاحظة:  </strong>إذا هممت بتشغيل أرتش لينُكس داخل VPS ، راجِع <a href="../en/Arch_Linux_on_a_VPS.html#Moving_your_VPS_from_initscripts_to_systemd" class="mw-redirect" title="Virtual Private Server">الخيارات الملاءمة</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>.</div>
<p>The following section is aimed at Arch Linux installations that still rely on <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/sysvinit/">sysvinit</a></span><sup><small>AUR</small></sup> and initscripts which have not migrated to <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd">systemd</a></span>.
</p>
<ol>
<li>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd">systemd</a></span> and append the following to your <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a>: <code>init=/usr/lib/systemd/systemd</code>
</li>
<li>Once completed you may enable any desired services via the use of <code>systemctl enable &lt;service_name&gt;</code> (this roughly equates to what you included in the <code>DAEMONS</code> array. New names can be found <a href="../en/Daemons.html#List_of_daemons" class="mw-redirect" title="Daemons List">here</a>).</li>
<li>Reboot your system and verify that <code>systemd</code> is currently active by issuing the following command: <code>cat /proc/1/comm</code>. This should return the string <code>systemd</code>.</li>
<li>Make sure your hostname is set correctly under systemd: <code>hostnamectl set-hostname myhostname</code>.</li>
<li>Proceed to remove initscripts and sysvinit from your system and install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd-sysvcompat">systemd-sysvcompat</a></span>.</li>
<li>Optionally, remove the <code>init=/usr/lib/systemd/systemd</code> parameter as it is no longer needed. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd-sysvcompat">systemd-sysvcompat</a></span> provides the default init.</li>
</ol>
<h3>
<span id=".D9.85.D8.B9.D9.84.D9.88.D9.85.D8.A7.D8.AA_.D8.A5.D8.B6.D8.A7.D9.81.D9.8A.D8.A9"></span><span class="mw-headline" id="معلومات_إضافية">معلومات إضافية</span>
</h3>
<ul><li>If you have <code>quiet</code> in your kernel parameters, you might want to remove it for your first couple of systemd boots, to assist with identifying any issues during boot.</li></ul>
<ul><li>Adding your user to <a href="../en/Users_and_groups.html" title="Users and groups">groups</a> (<code>sys</code>, <code>disk</code>, <code>lp</code>, <code>network</code>, <code>video</code>, <code>audio</code>, <code>optical</code>, <code>storage</code>, <code>scanner</code>, <code>power</code>, etc.) is <b>not</b> necessary for most use cases with systemd. The groups can even cause some functionality to break. For example, the <code>audio</code> group will break fast user switching and allows applications to block software mixing. Every PAM login provides a logind session, which for a local session will give you permissions via <a href="https://en.wikipedia.org/wiki/Access_control_list" class="extiw" title="wikipedia:Access control list">POSIX ACLs</a> on audio/video devices, and allow certain operations like mounting removable storage via <a href="../en/Udisks.html" title="Udisks">udisks</a>.</li></ul>
<ul><li>See the <a href="../en/Network_configuration.html" title="Network configuration">Network configuration</a> article for how to set up networking targets.</li></ul>
<h2>
<span id=".D8.A7.D9.84.D8.A5.D8.B9.D8.AF.D8.A7.D8.AF.D8.A7.D8.AA_.D8.A7.D9.84.D8.A3.D8.B5.D9.84.D9.8A.D8.A9"></span><span class="mw-headline" id="الإعدادات_الأصلية">الإعدادات الأصلية</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> قد تحتاج إنشاء هذه الملفات. جميعها يجب أن تخضع للترخيص <code>644</code> و لملكية الجذر <code>root:root</code>.</div>
<h3>
<span id=".D8.A7.D9.84.D8.B7.D8.B1.D9.81.D9.8A.D8.A9_.D8.A7.D9.84.D8.A7.D9.81.D8.AA.D8.B1.D8.A7.D8.B6.D9.8A.D8.A9"></span><span class="mw-headline" id="الطرفية_الافتراضية">الطرفية الافتراضية</span>
</h3>
<p>The virtual console (keyboard mapping, console font and console map) is configured in <code>/etc/vconsole.conf</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/vconsole.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">KEYMAP=us
FONT=lat9w-16
FONT_MAP=8859-1_to_uni</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> As of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd">systemd</a></span>-194, the built-in <i>kernel</i> font and the <i>us</i> keymap are used if <code>KEYMAP=</code> and <code>FONT=</code> are empty or not set.</div>
<p>Another way to set the keyboard mapping (keymap) is doing:
</p>
<pre># localectl set-keymap de
</pre>
<p><code>localectl</code> can also be used to set the X11 keymap:
</p>
<pre># localectl set-x11-keymap de
</pre>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 1 localectl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/localectl.1">localectl(1)</a></span> and <span class="plainlinks archwiki-template-man" title="$ man 5 vconsole.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/vconsole.conf.5">vconsole.conf(5)</a></span> for details.
</p>
<ul><li>For more information, see <a href="../en/Fonts.html#Console_fonts" title="Fonts">console fonts</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> and <a href="../en/Linux_console/Keyboard_configuration.html" class="mw-redirect" title="KEYMAP">keymaps</a>.</li></ul>
<h3>
<span id=".D8.B3.D8.A7.D8.B9.D8.A9_.D8.A7.D9.84.D8.B9.D8.AA.D8.A7.D8.AF"></span><span class="mw-headline" id="ساعة_العتاد">ساعة العتاد</span>
</h3>
<p>Systemd will use <b>UTC</b> for the hardware clock by default.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> It is advised to have a <a href="../en/Category:Network_Time_Protocol.html" class="mw-redirect" title="NTP">Network Time Protocol daemon</a> running to keep the system time synchronized with Internet time and the hardware clock.</div>
<h4>
<span id=".D8.B3.D8.A7.D8.B9.D8.A9_.D8.A7.D9.84.D8.B9.D8.AA.D8.A7.D8.AF_.D8.A8.D8.A7.D9.84.D8.AA.D9.88.D9.82.D9.8A.D8.AA_.D8.A7.D9.84.D9.85.D8.AD.D9.84.D9.91.D9.8A"></span><span class="mw-headline" id="ساعة_العتاد_بالتوقيت_المحلّي">ساعة العتاد بالتوقيت المحلّي</span>
</h4>
<p>If you want to change the hardware clock to use local time (<b>STRONGLY DISCOURAGED</b>) do:
</p>
<pre># timedatectl set-local-rtc true
</pre>
<p>If you want to revert to the hardware clock being in UTC, do:
</p>
<pre># timedatectl set-local-rtc false
</pre>
<p>Be warned that, if the hardware clock is set to localtime, dealing with daylight saving time is messy. If the DST changes when your computer is off, your clock will be wrong on next boot (<a rel="nofollow" class="external text" href="http://www.cl.cam.ac.uk/~mgk25/mswish/ut-rtc.html">there is a lot more to it</a>). Recent kernels set the system time from the RTC directly on boot, assuming that the RTC is in UTC. This means that if the RTC is in local time, then the system time will first be set up wrongly and then corrected shortly afterwards on every boot. This is the root of certain weird bugs (time going backwards is rarely a good thing).
</p>
<p>One reason for allowing the RTC to be in local time is to allow dual boot with Windows (<a rel="nofollow" class="external text" href="http://blogs.msdn.com/b/oldnewthing/archive/2004/09/02/224672.aspx">which uses localtime</a>). However, Windows is able to deal with the RTC being in UTC with a simple <a href="../en/System_time.html#UTC_in_Windows" title="System time">registry fix</a>. It is recommended to configure Windows to use UTC, rather than Linux to use localtime. If you make Windows use UTC, also remember to disable the "Internet Time Update" Windows feature, so that Windows don't mess with the hardware clock, trying to sync it with internet time. You should instead leave touching the RTC and syncing it to internet time to Linux, by enabling an <a href="../en/Category:Network_Time_Protocol.html" class="mw-redirect" title="NTP">NTP</a> daemon, as suggested previously.
</p>
<ul><li>For more information, see <a href="../en/System_time.html" title="System time">System time</a>.</li></ul>
<h3>
<span id=".D9.88.D8.AD.D8.AF.D8.A7.D8.AA_.D8.A7.D9.84.D9.86.D9.91.D9.88.D8.A7.D8.A9"></span><span class="mw-headline" id="وحدات_النّواة">وحدات النّواة</span>
</h3>
<p>Today, all necessary module loading is handled automatically by <a href="../en/Udev.html" title="Udev">udev</a>, so that, if you don't want/need to use any out-of-tree kernel modules, there is no need to put modules that should be loaded at boot in any config file. However, there are cases where you might want to load an extra module during the boot process, or blacklist another one for your computer to function properly.
</p>
<h4>
<span id=".D8.A7.D9.84.D9.88.D8.AD.D8.AF.D8.A7.D8.AA_.D8.A7.D9.84.D8.A5.D8.B6.D8.A7.D9.81.D9.8A.D8.A9_.D8.A7.D9.84.D9.85.D8.B9.D8.AF.D9.91.D8.A9_.D9.84.D9.84.D8.AA.D8.AD.D9.85.D9.8A.D9.84_.D9.85.D8.B9_.D8.A7.D9.84.D8.A5.D9.82.D9.84.D8.A7.D8.B9"></span><span class="mw-headline" id="الوحدات_الإضافية_المعدّة_للتحميل_مع_الإقلاع">الوحدات الإضافية المعدّة للتحميل مع الإقلاع</span>
</h4>
<p>Extra kernel modules to be loaded during boot are configured as a static list in files under <code>/etc/modules-load.d/</code>. Each configuration file is named in the style of <code>/etc/modules-load.d/&lt;program&gt;.conf</code>. Configuration files simply contain a list of kernel module names to load, separated by newlines. Empty lines and lines whose first non-whitespace character is <code>#</code> or <code>;</code> are ignored.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modules-load.d/virtio-net.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Load virtio-net.ko at boot
virtio-net</pre>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 5 modules-load.d"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/modules-load.d.5">modules-load.d(5)</a></span> for more details.
</p>
<h4>
<span id=".D8.A5.D8.B9.D8.AF.D8.A7.D8.AF_.D8.AE.D9.8A.D8.A7.D8.B1.D8.A7.D8.AA_.D8.A7.D9.84.D9.88.D8.AD.D8.AF.D8.A7.D8.AA"></span><span class="mw-headline" id="إعداد_خيارات_الوحدات">إعداد خيارات الوحدات</span>
</h4>
<p>Additional module options must be set in the <code>/etc/modprobe.d/modprobe.conf</code>.
</p>
<p>Example:
</p>
<ul><li>we have <code>/etc/modules-load.d/loop.conf</code> with module <code>loop</code> inside to load during the boot.</li></ul>
<ul><li>in the <code>/etc/modprobe.d/modprobe.conf</code> specify the additional options, e.g. <code>options loop max_loop=64</code>
</li></ul>
<p>Afterwards, the newly set option might be verified via <code>cat /sys/module/loop/parameters/max_loop</code>
</p>
<h4>
<span id=".D8.A7.D9.84.D8.AD.D8.B8.D8.B1"></span><span class="mw-headline" id="الحظر">الحظر</span>
</h4>
<p>Module blacklisting works the same way as with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=initscripts">initscripts</a></span><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">broken link</a>: package not found]</sup> since it is actually handled by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kmod">kmod</a></span>. See <a href="../en/Kernel_module.html#Blacklisting" class="mw-redirect" title="Kernel modules">Module Blacklisting</a> for details.
</p>
<h3>
<span id=".D9.88.D8.B5.D9.84_.D9.86.D8.B8.D8.A7.D9.85_.D8.A7.D9.84.D9.85.D9.84.D9.81.D8.A7.D8.AA"></span><span class="mw-headline" id="وصل_نظام_الملفات">وصل نظام الملفات</span>
</h3>
<p>The default setup will automatically fsck and mount filesystems before starting services that need them to be mounted. For example, systemd automatically makes sure that remote filesystem mounts like <a href="../en/NFS.html" title="NFS">NFS</a> or <a href="../en/Samba.html" title="Samba">Samba</a> are only started after the network has been set up. Therefore, local and remote filesystem mounts specified in <code>/etc/fstab</code> should work out of the box.
</p>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.mount"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.mount.5">systemd.mount(5)</a></span> for details.
</p>
<h4>
<span id=".D8.A7.D9.84.D9.88.D8.B5.D9.84_.D8.A7.D9.84.D8.AA.D9.84.D9.82.D8.A7.D8.A6.D9.8A"></span><span class="mw-headline" id="الوصل_التلقائي">الوصل التلقائي</span>
</h4>
<ul><li>If you have a large <code>/home</code> partition, it might be better to allow services that do not depend on <code>/home</code> to start while <code>/home</code> is checked by fsck. This can be achieved by adding the following options to the <code>/etc/fstab</code> entry of your <code>/home</code> partition:</li></ul>
<pre>noauto,x-systemd.automount
</pre>
<p>This will fsck and mount <code>/home</code> when it is first accessed, and the kernel will buffer all file access to <code>/home</code> until it is ready.
</p>
<p>Note: this will make your <code>/home</code> filesystem type <code>autofs</code>, which is ignored by <a href="../en/Locate.html" class="mw-redirect" title="Mlocate">mlocate</a> by default. The speedup of automounting <code>/home</code> may not be more than a second or two, depending on your system, so this trick may not be worth it. 
</p>
<ul><li>The same applies to remote filesystem mounts. If you want them to be mounted only upon access, you will need to use the <code>noauto,x-systemd.automount</code> parameters. In addition, you can use the <code>x-systemd.device-timeout=#</code> option to specify a timeout in case the network resource is not available.</li></ul>
<ul><li>If you have encrypted filesystems with keyfiles, you can also add the <code>noauto</code> parameter to the corresponding entries in <code>/etc/crypttab</code>. Systemd will then not open the encrypted device on boot, but instead wait until it is actually accessed and then automatically open it with the specified keyfile before mounting it. This might save a few seconds on boot if you are using an encrypted RAID device for example, because systemd doesn't have to wait for the device to become available. For example:</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/crypttab</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">data /dev/md0 /root/key noauto</pre>
<h4>
<span id=".D8.A5.D8.AF.D8.A7.D8.B1.D8.A9_.D8.A7.D9.84.D8.A3.D9.82.D8.B3.D8.A7.D9.85_.D8.A7.D9.84.D9.85.D9.86.D8.B7.D9.82.D9.8A.D8.A9_.28_LVM_.29"></span><span class="mw-headline" id="إدارة_الأقسام_المنطقية_(_LVM_)">إدارة الأقسام المنطقية ( LVM )</span>
</h4>
<p>If you have <a href="../en/LVM.html" title="LVM">LVM</a> volumes not activated via the <a href="../en/Mkinitcpio.html" title="Mkinitcpio">initramfs</a>, enable the <code>lvm-monitoring</code> service, which is provided by the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lvm2">lvm2</a></span> package:
</p>
<pre># systemctl enable lvm-monitoring
</pre>
<h3>
<span id=".D8.A5.D8.AF.D8.A7.D8.B1.D8.A9_.D8.A7.D9.84.D8.B7.D8.A7.D9.82.D8.A9_.28_.D9.85.D9.86_.D8.AE.D9.84.D8.A7.D9.84_.D8.A7.D9.84.D8.A8.D9.88.D8.A7.D8.A8.D8.A9_.D8.A7.D9.84.D9.85.D8.AA.D9.82.D8.AF.D9.85.D8.A9_ACPI_.29"></span><span class="mw-headline" id="إدارة_الطاقة_(_من_خلال_البوابة_المتقدمة_ACPI_)">إدارة الطاقة ( من خلال البوابة المتقدمة ACPI )</span>
</h3>
<p>Systemd handles some power-related <a href="https://en.wikipedia.org/wiki/Advanced_Configuration_and_Power_Interface" class="extiw" title="wikipedia:Advanced Configuration and Power Interface">ACPI</a> events. They can be configured via the following options from <code>/etc/systemd/logind.conf</code>:
</p>
<ul>
<li>
<code>HandlePowerKey</code>: specifies which action is invoked when the power key is pressed.</li>
<li>
<code>HandleSuspendKey</code>: specifies which action is invoked when the suspend key is pressed.</li>
<li>
<code>HandleHibernateKey</code>: specifies which action is invoked when the hibernate key is pressed.</li>
<li>
<code>HandleLidSwitch</code>: specifies which action is invoked when the lid is closed.</li>
</ul>
<p>The specified action can be one of <code>ignore</code>, <code>poweroff</code>, <code>reboot</code>, <code>halt</code>, <code>suspend</code>, <code>hibernate</code>, <code>hybrid-sleep</code>, <code>lock</code> or <code>kexec</code>.
</p>
<p>If these options are not configured, systemd will use its defaults: <code>HandlePowerKey=poweroff</code>, <code>HandleSuspendKey=suspend</code>, <code>HandleHibernateKey=hibernate</code>, and <code>HandleLidSwitch=suspend</code>.
</p>
<p>On systems which run no graphical setup or only a simple window manager like <a href="../en/I3.html" title="I3">i3</a> or <a href="../en/Awesome.html" title="Awesome">awesome</a>, this may replace the <a href="../en/Acpid.html" title="Acpid">acpid</a> daemon which is usually used to react to these ACPI events.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Run <code>systemctl restart systemd-logind</code> for your changes to take effect.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Systemd cannot handle AC and Battery ACPI events, so if you use <a href="../en/Laptop_Mode_Tools.html" title="Laptop Mode Tools">Laptop Mode Tools</a> or other similar tools <a href="../en/Acpid.html" title="Acpid">acpid</a> is still required.</div>
<p>In the current version of systemd, the <code>Handle*</code> options will apply throughout the system unless they are "inhibited" (temporarily turned off) by a program, such as a power manager inside a desktop environment. If these inhibits are not taken, you can end up with a situation where systemd suspends your system, then when it wakes up the other power manager suspends it again.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Currently, the power managers in the newest versions of <a href="../en/KDE.html" title="KDE">KDE</a> and <a href="../en/GNOME.html" title="GNOME">GNOME</a> are the only ones that issue the necessary "inhibited" commands. Until the others do, you will need to set the <code>Handle</code> options to <code>ignore</code> if you want your ACPI events to be handled by <a href="../en/Xfce.html" title="Xfce">Xfce</a>, <a href="../en/Acpid.html" title="Acpid">acpid</a> or other programs.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Systemd can also use other suspend backends (such as <a href="../en/Uswsusp.html" title="Uswsusp">Uswsusp</a> or <a href="../en/ArchWiki:Archive.html" class="mw-redirect" title="TuxOnIce">TuxOnIce</a>), in addition to the default <i>kernel</i> backend, in order to put the computer to sleep or hibernate.</div>
<p>For <code>systemctl hibernate</code> to work on your system you need to follow instructions at <a href="../en/ArchWiki:Archive.html#Hibernation_.28suspend2disk.29" class="mw-redirect" title="Pm-utils">Hibernation</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> and possibly at <a href="../en/ArchWiki:Archive.html#Mkinitcpio_Resume_Hook" class="mw-redirect" title="Pm-utils">Mkinitcpio Resume Hook</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> (<code>pm-utils</code> does not need to be installed). 
</p>
<h4>
<span id=".D8.A7.D9.84.D9.85.D9.8F.D8.B9.D9.8E.D9.84.D9.90.D9.91.D9.82.D8.A7.D8.AA"></span><span class="mw-headline" id="المُعَلِّقات">المُعَلِّقات</span>
</h4>
<p>Systemd does not use <a href="../en/ArchWiki:Archive.html" class="mw-redirect" title="Pm-utils">pm-utils</a> to put the machine to sleep when using <code>systemctl suspend</code>, <code>systemctl hibernate</code> or <code>systemctl hybrid-sleep</code>; <a href="../en/ArchWiki:Archive.html" class="mw-redirect" title="Pm-utils">pm-utils</a> hooks, including any <a href="../en/ArchWiki:Archive.html#Creating_your_own_hooks" class="mw-redirect" title="Pm-utils">custom hooks</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>, will not be run. However, systemd provides two similar mechanisms to run custom scripts on these events.
</p>
<h5>
<span id=".D9.85.D9.84.D9.81.D8.A7.D8.AA_.D8.AE.D8.AF.D9.85.D8.A7.D8.AA_.D8.A7.D9.84.D8.AA.D9.91.D8.B9.D9.84.D9.8A.D9.82_.D9.88_.D8.A7.D9.84.D8.A7.D8.B3.D8.AA.D9.83.D9.85.D8.A7.D9.84"></span><span class="mw-headline" id="ملفات_خدمات_التّعليق_و_الاستكمال">ملفات خدمات التّعليق و الاستكمال</span>
</h5>
<p>Service files can be hooked into suspend.target, hibernate.target and sleep.target to execute actions before or after suspend/hibernate. Separate files should be created for user actions and root/system actions.  To activate the user service files, <code># systemctl enable suspend@&lt;user&gt; &amp;&amp; systemctl enable resume@&lt;user&gt;</code>. Examples:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/suspend@.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=User suspend actions
Before=sleep.target

[Service]
User=%I
Type=forking
Environment=DISPLAY=:0
ExecStartPre= -/usr/bin/pkill -u %u unison ; /usr/local/bin/music.sh stop ; /usr/bin/mysql -e 'slave stop'
ExecStart=/usr/bin/sflock

[Install]
WantedBy=sleep.target</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/resume@.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=User resume actions
After=suspend.target

[Service]
User=%I
Type=simple
ExecStartPre=/usr/local/bin/ssh-connect.sh
ExecStart=/usr/bin/mysql -e 'slave start'

[Install]
WantedBy=suspend.target</pre>
<p>For root/system actions (activate with <code># systemctl enable root-suspend</code>):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/root-resume.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Local system resume actions
After=suspend.target

[Service]
Type=simple
ExecStart=/usr/bin/systemctl restart mnt-media.automount

[Install]
WantedBy=suspend.target</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/root-suspend.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Local system suspend actions
Before=sleep.target

[Service]
Type=simple
ExecStart=-/usr/bin/pkill sshfs

[Install]
WantedBy=sleep.target</pre>
<p>A couple of handy hints about these service files (more in <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.service"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.service.5">systemd.service(5)</a></span>):
</p>
<ul>
<li>If <code>Type=OneShot</code> then you can use multiple <code>ExecStart=</code> lines. Otherwise only one ExecStart line is allowed. You can add more commands with either <code>ExecStartPre</code> or by separating commands with a semicolon (see the first example above -- note the spaces before and after the semicolon...these are required!).</li>
<li>A command prefixed with '-' will cause a non-zero exit status to be ignored and treated as a successful command.</li>
<li>The best place to find errors when troubleshooting these service files is of course with <code>journalctl</code>.</li>
</ul>
<h5>
<span id=".D8.A7.D9.84.D9.85.D9.84.D9.81_.D8.A7.D9.84.D9.85.D9.8F.D8.AC.D9.8E.D9.85.D9.8E.D9.91.D8.B9_.D9.84.D8.AE.D8.AF.D9.85.D8.A7.D8.AA_.D8.A7.D9.84.D8.AA.D8.B9.D9.84.D9.8A.D9.82_.D9.88_.D8.A7.D9.84.D8.A7.D8.B3.D8.AA.D9.83.D9.85.D8.A7.D9.84"></span><span class="mw-headline" id="الملف_المُجَمَّع_لخدمات_التعليق_و_الاستكمال">الملف المُجَمَّع لخدمات التعليق و الاستكمال</span>
</h5>
<p>With the combined suspend/resume service file, a single hook does all the work for different phases (sleep/resume) and for different targets (suspend/hibernate/hybrid-sleep).
</p>
<p>Example and explanation:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/wicd-sleep.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Wicd sleep hook
Before=sleep.target
StopWhenUnneeded=yes

[Service]
Type=oneshot
RemainAfterExit=yes
ExecStart=-/usr/share/wicd/daemon/suspend.py
ExecStop=-/usr/share/wicd/daemon/autoconnect.py

[Install]
WantedBy=sleep.target</pre>
<ul>
<li>
<code>RemainAfterExit=yes</code>: After started, the service is considered active until it is explicitly stopped.</li>
<li>
<code>StopWhenUnneeded=yes</code>: When active, the service will be stopped if no other active service requires it. In this specific example, it will be stopped after sleep.target is stopped.</li>
<li>Because sleep.target is pulled in by suspend.target, hibernate.target and hybrid-sleep.target and sleep.target itself is a StopWhenUnneeded service, the hook is guaranteed to start/stop properly for different tasks.</li>
</ul>
<h5>
<span id=".D8.A7.D9.84.D9.85.D9.8F.D8.B9.D9.8E.D9.84.D9.90.D9.91.D9.82.D8.A7.D8.AA_.D9.81.D9.8A_.2Fusr.2Flib.2Fsystemd.2Fsystem-sleep"></span><span class="mw-headline" id="المُعَلِّقات_في_/usr/lib/systemd/system-sleep">المُعَلِّقات في /usr/lib/systemd/system-sleep</span>
</h5>
<p>Systemd runs all executables in <code>/usr/lib/systemd/system-sleep/</code>, passing two arguments to each of them:
</p>
<ul>
<li>Argument 1: either <code>pre</code> or <code>post</code>, depending on whether the machine is going to sleep or waking up</li>
<li>Argument 2: <code>suspend</code>, <code>hibernate</code> or <code>hybrid-sleep</code>, depending on which is being invoked</li>
</ul>
<p>In contrast to <a href="../en/ArchWiki:Archive.html" class="mw-redirect" title="Pm-utils">pm-utils</a>, systemd will run these scripts concurrently and not one after another.
</p>
<p>The output of any custom script will be logged by <code>systemd-suspend.service</code>, <code>systemd-hibernate.service</code> or <code>systemd-hybrid-sleep.service</code>. You can see its output in systemd's <a href="../en/Systemd.html#Journal" title="Systemd">journal</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>:
</p>
<pre># journalctl -b -u systemd-suspend
</pre>
<p>Note that you can also use <code>sleep.target</code>, <code>suspend.target</code>, <code>hibernate.target</code> or <code>hybrid-sleep.target</code> to hook units into the sleep state logic instead of using custom scripts.
</p>
<p>An example of a custom sleep script:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/lib/systemd/system-sleep/example.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
case $1/$2 in
  pre/*)
    echo "Going to $2..."
    ;;
  post/*)
    echo "Waking up from $2..."
    ;;
esac</pre>
<p>Don't forget to make your script executable:
</p>
<pre># chmod a+x /usr/lib/systemd/system-sleep/example.sh
</pre>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 7 systemd.special"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.special.7">systemd.special(7)</a></span> and <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-sleep"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd-sleep.8">systemd-sleep(8)</a></span> for more details.
</p>
<h3>
<span id=".D8.A7.D9.84.D9.85.D9.84.D9.81.D8.A7.D8.AA_.D8.A7.D9.84.D9.85.D8.A4.D9.82.D9.91.D8.AA.D8.A9"></span><span class="mw-headline" id="الملفات_المؤقّتة">الملفات المؤقّتة</span>
</h3>
<p>Systemd-tmpfiles uses configuration files in <code>/usr/lib/tmpfiles.d/</code> and <code>/etc/tmpfiles.d/</code> to describe the creation, cleaning and removal of volatile and temporary files and directories which usually reside in directories such as <code>/run</code> or <code>/tmp</code>. Each configuration file is named in the style of <code>/etc/tmpfiles.d/&lt;program&gt;.conf</code>. This will also override any files in <code>/usr/lib/tmpfiles.d/</code> with the same name.
</p>
<p>tmpfiles are usually provided together with service files to create directories which are expected to exist by certain daemons. For example the <a href="../en/Samba.html" title="Samba">Samba</a> daemon expects the directory <code>/run/samba</code> to exist and to have the correct permissions. The corresponding tmpfile looks like this:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/lib/tmpfiles.d/samba.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">D /run/samba 0755 root root</pre>
<p>tmpfiles may also be used to write values into certain files on boot. For example, if you use <code>/etc/rc.local</code> to disable wakeup from USB devices with <code>echo USBE &gt; /proc/acpi/wakeup</code>, you may use the following tmpfile instead:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/tmpfiles.d/disable-usb-wake.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">w /proc/acpi/wakeup - - - - USBE</pre>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 5 tmpfiles.d"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/tmpfiles.d.5">tmpfiles.d(5)</a></span> for details.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> This method may not work to set options in <code>/sys</code> since the <code>systemd-tmpfiles-setup</code> service may run before the appropriate device modules is loaded. In this case you could check whether the module has a parameter for the option you want to set with <code>modinfo &lt;module&gt;</code> and set this option with a <a href="../en/Kernel_module.html#Configuration" class="mw-redirect" title="Modprobe.d">config file in <code>/etc/modprobe.d</code></a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>. Otherwise you will have to write a <a href="../en/Udev.html#About_udev_rules" title="Udev">udev rule</a> to set the appropriate attribute as soon as the device appears.</div>
<h3>
<span id=".D8.A7.D9.84.D9.88.D8.AD.D8.AF.D8.A7.D8.AA"></span><span class="mw-headline" id="الوحدات">الوحدات</span>
</h3>
<p>A unit configuration file encodes information about a service, a socket, a device, a mount point, an automount point, a swap file or partition, a start-up target, a file system path or a timer controlled and supervised by systemd. The syntax is inspired by XDG Desktop Entry Specification .desktop files, which are in turn inspired by Microsoft Windows .ini files.
</p>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.unit"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.unit.5">systemd.unit(5)</a></span> for details.
</p>
<h2>
<span id=".D8.A7.D9.84.D8.A7.D8.B3.D8.AA.D8.AE.D8.AF.D8.A7.D9.85_.D8.A7.D9.84.D8.A3.D9.88.D9.91.D9.84.D9.8A_.D9.84.D8.A3.D8.AF.D8.A7.D8.A9_systemctl"></span><span class="mw-headline" id="الاستخدام_الأوّلي_لأداة_systemctl">الاستخدام الأوّلي لأداة systemctl</span>
</h2>
<p>تمثّل الأداة <code>systemctl</code>  الأمر الرّئيسي للتّبحّر و التّحكم بـ systemd . بعض من استخداماته فحص حالة النظام وإدارته بالإضافة لإدارة الخدمات. انظر <span class="plainlinks archwiki-template-man" title="$ man 1 systemctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemctl.1">systemctl(1)</a></span> لمزيد من التّفاصيل.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> يمكنك استخدام جميع أوامر <code>systemctl</code> التّالية بصورة متغيّرة لكل <code>-H &lt;user&gt;@&lt;host&gt;</code> وذلك للتّحكم بنموذج systemd في الجهاز البعيد. لاتّباع هذه الطريقة نستخدم الأداة <a href="../en/Secure_Shell.html" class="mw-redirect" title="SSH">SSH</a> وذلك للاتصال بنموذج systemd البعيد.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> الواجهة الرسوميّة الرّسمية للأداة <code>systemctl</code> تتمثل بالأداة <code>systemadm</code>. تُؤمّن هذه الأداة الحزمةُ<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/systemd-ui-git/">systemd-ui-git</a></span><sup><small>AUR</small></sup> المتوفّرة ضمن مستودع <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>.</div>
<h3>
<span id=".D8.AA.D8.AD.D9.84.D9.8A.D9.84_.D8.AD.D8.A7.D9.84.D8.A9_.D8.A7.D9.84.D9.86.D8.B8.D8.A7.D9.85"></span><span class="mw-headline" id="تحليل_حالة_النظام">تحليل حالة النظام</span>
</h3>
<p>List running units:
</p>
<pre>$ systemctl
</pre>
<p>or:
</p>
<pre>$ systemctl list-units
</pre>
<p>List failed units:
</p>
<pre>$ systemctl --failed
</pre>
<p>The available unit files can be seen in <code>/usr/lib/systemd/system/</code> and <code>/etc/systemd/system/</code> (the latter takes precedence). You can see list installed unit files by:
</p>
<pre>$ systemctl list-unit-files
</pre>
<h3>
<span id=".D8.A7.D8.B3.D8.AA.D8.AE.D8.AF.D8.A7.D9.85_.D8.A7.D9.84.D9.88.D8.AD.D8.AF.D8.A7.D8.AA"></span><span class="mw-headline" id="استخدام_الوحدات">استخدام الوحدات</span>
</h3>
<p>Units can be, for example, services (<code>.service</code>), mount points (<code>.mount</code>), devices (<code>.device</code>) or sockets (<code>.socket</code>).
</p>
<p>When using <code>systemctl</code>, you generally have to specify the complete name of the unit file, including its suffix, for example <code>sshd.socket</code>. There are however a few shortforms when specifying the unit in the following <code>systemctl</code> commands:
</p>
<ul>
<li>If you don't specify the suffix, systemctl will assume <code>.service</code>. For example, <code>netcfg</code> and <code>netcfg.service</code> are treated equivalent.</li>
<li>Mount points will automatically be translated into the appropriate <code>.mount</code> unit. For example, specifying <code>/home</code> is equivalent to <code>home.mount</code>.</li>
<li>Similiar to mount points, devices are automatically translated into the appropriate <code>.device</code> unit, therefore specifying <code>/dev/sda2</code> is equivalent to <code>dev-sda2.device</code>.</li>
</ul>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.unit"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.unit.5">systemd.unit(5)</a></span> for details.
</p>
<p>Activate a unit immediately:
</p>
<pre># systemctl start &lt;unit&gt;
</pre>
<p>Deactivate a unit immediately:
</p>
<pre># systemctl stop &lt;unit&gt;
</pre>
<p>Restart a unit:
</p>
<pre># systemctl restart &lt;unit&gt;
</pre>
<p>Ask a unit to reload its configuration:
</p>
<pre># systemctl reload &lt;unit&gt;
</pre>
<p>Show the status of a unit, including whether it is running or not:
</p>
<pre>$ systemctl status &lt;unit&gt;
</pre>
<p>Check whether a unit is already enabled or not:
</p>
<pre>$ systemctl is-enabled &lt;unit&gt;
</pre>
<p>Enable a unit to be started on bootup:
</p>
<pre># systemctl enable &lt;unit&gt;
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Services without an <code>[Install]</code> section are usually called automatically by other services. If you need to install them manually, use the following command, replacing <code>foo</code> with the name of the service.
<pre># ln -s /usr/lib/systemd/system/<i>foo</i>.service /etc/systemd/system/graphical.target.wants/
</pre>
</div>
<p>Disable a unit to not start during bootup:
</p>
<pre># systemctl disable &lt;unit&gt;
</pre>
<p>Show the manual page associated with a unit (this has to be supported by the unit file):
</p>
<pre>$ systemctl help &lt;unit&gt;
</pre>
<p>Reload systemd, scanning for new or changed units:
</p>
<pre># systemctl daemon-reload
</pre>
<h3>
<span id=".D8.A5.D8.AF.D8.A7.D8.B1.D8.A9_.D8.A7.D9.84.D8.B7.D9.91.D8.A7.D9.82.D8.A9"></span><span class="mw-headline" id="إدارة_الطّاقة">إدارة الطّاقة</span>
</h3>
<p><code>polkit</code> is necessary for power management.
If you are in a local <code>systemd-logind</code> user session and no other session is active, the following commands will work without root privileges. If not (for example, because another user is logged into a tty), systemd will automatically ask you for the root password.
</p>
<p>Shut down and reboot the system:
</p>
<pre>$ systemctl reboot
</pre>
<p>Shut down and power-off the system:
</p>
<pre>$ systemctl poweroff
</pre>
<p>Suspend the system:
</p>
<pre>$ systemctl suspend
</pre>
<p>Put the system into hibernation:
</p>
<pre>$ systemctl hibernate
</pre>
<p>Put the system into hybrid-sleep state (or suspend-to-both):
</p>
<pre>$ systemctl hybrid-sleep
</pre>
<h2>
<span id=".D8.AA.D8.B4.D8.BA.D9.8A.D9.84_.D8.A7.D9.84.D9.85.D9.8F.D8.AE.D8.AF.D9.91.D9.85.D8.A7.D8.AA_.D8.A7.D9.84.D8.B1.D8.B3.D9.88.D9.85.D9.8A.D8.A9_.D9.81.D9.8A_systemd"></span><span class="mw-headline" id="تشغيل_المُخدّمات_الرسومية_في_systemd">تشغيل المُخدّمات الرسومية في systemd</span>
</h2>
<p>To enable graphical login, run your preferred <a href="../en/Display_manager.html" title="Display manager">Display manager</a> daemon (e.g. <a href="../en/ArchWiki:Archive.html" class="mw-redirect" title="KDM">KDM</a>). At the moment, service files exist for <a href="../en/GDM.html" title="GDM">GDM</a>, <a href="../en/ArchWiki:Archive.html" class="mw-redirect" title="KDM">KDM</a>, <a href="../en/SLiM.html" title="SLiM">SLiM</a>, <a href="../en/XDM.html" title="XDM">XDM</a>, <a href="../en/LXDM.html" title="LXDM">LXDM</a> and <a href="../en/LightDM.html" title="LightDM">LightDM</a>.
</p>
<pre># systemctl enable kdm
</pre>
<p>This should work out of the box. If not, you might have a <code>default.target</code> set manually or from a older install:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># ls -l /etc/systemd/system/default.target</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/etc/systemd/system/default.target -&gt; /usr/lib/systemd/system/graphical.target</pre>
<p>Simply delete the symlink and systemd will use its stock <code>default.target</code> (i.e. <code>graphical.target</code>).
</p>
<pre># rm /etc/systemd/system/default.target
</pre>
<h3>
<span id=".D8.A7.D8.B3.D8.AA.D8.AE.D8.AF.D8.A7.D9.85_.D9.85.D8.AF.D9.8A.D8.B1_.D8.A7.D9.84.D9.88.D9.84.D9.88.D8.AC_systemd-logind"></span><span class="mw-headline" id="استخدام_مدير_الولوج_systemd-logind">استخدام مدير الولوج systemd-logind</span>
</h3>
<p>In order to check the status of your user session, you can use <code>loginctl</code>. All <a href="../en/Polkit.html" class="mw-redirect" title="PolicyKit">PolicyKit</a> actions like suspending the system or mounting external drives will work out of the box.
</p>
<pre>$ loginctl show-session $XDG_SESSION_ID
</pre>
<h2>
<span id=".D9.83.D8.AA.D8.A7.D8.A8.D8.A9_.D9.85.D9.84.D9.81.D8.A7.D8.AA_.D8.AA.D8.AE.D8.B5.D8.B5.D9.8A.D8.A9_.D8.A8.D8.AA.D9.86.D8.B3.D9.8A.D9.82_.service"></span><span class="mw-headline" id="كتابة_ملفات_تخصصية_بتنسيق_.service">كتابة ملفات تخصصية بتنسيق .service</span>
</h2>
<p><i>انظر</i>
</p>
<h3>
<span id=".D8.A7.D8.B3.D8.AA.D9.86.D8.A8.D8.A7.D8.B7_.D8.A7.D9.84.D8.A7.D8.B9.D8.AA.D9.85.D8.A7.D8.AF.D9.8A.D9.91.D8.A7.D8.AA"></span><span class="mw-headline" id="استنباط_الاعتماديّات">استنباط الاعتماديّات</span>
</h3>
<p>With systemd, dependencies can be resolved by designing the unit files correctly. The most typical case is that the unit <code>A</code> requires the unit <code>B</code> to be running before <code>A</code> is started. In that case add <code>Requires=B</code> and <code>After=B</code> to the <code>[Unit]</code> section of <code>A</code>. If the dependency is optional, add <code>Wants=B</code> and <code>After=B</code> instead. Note that <code>Wants=</code> and <code>Requires=</code> do not imply <code>After=</code>, meaning that if <code>After=</code> is not specified, the two units will be started in parallel.
</p>
<p>Dependencies are typically placed on services and not on targets. For example, <code>network.target</code> is pulled in by whatever service configures your network interfaces, therefore ordering your custom unit after it is sufficient since <code>network.target</code> is started anyway.
</p>
<h3>
<span id=".D8.A7.D9.84.D9.86.D9.88.D8.B9"></span><span class="mw-headline" id="النوع">النوع</span>
</h3>
<p>There are several different start-up types to consider when writing a custom service file. This is set with the <code>Type=</code> parameter in the <code>[Service]</code> section. See <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.service"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/systemd.service.5">systemd.service(5)</a></span> for a more detailed explanation.
</p>
<ul>
<li>
<code>Type=simple</code> (default): systemd considers the service to be started up immediately. The process must not fork. Do not use this type if other services need to be ordered on this service, unless it is socket activated.</li>
<li>
<code>Type=forking</code>: systemd considers the service started up once the process forks and the parent has exited. For classic daemons use this type unless you know that it is not necessary. You should specify <code>PIDFile=</code> as well so systemd can keep track of the main process.</li>
<li>
<code>Type=oneshot</code>: This is useful for scripts that do a single job and then exit. You may want to set <code>RemainAfterExit=yes</code> as well so that systemd still considers the service as active after the process has exited.</li>
<li>
<code>Type=notify</code>: Identical to <code>Type=simple</code>, but with the stipulation that the daemon will send a signal to systemd when it is ready. The reference implementation for this notification is provided by <code>libsystemd-daemon.so</code>.</li>
<li>
<code>Type=dbus</code>: The service is considered ready when the specified <code>BusName</code> appears on DBus's system bus.</li>
</ul>
<h3>
<span id=".D8.AA.D8.AD.D8.B1.D9.8A.D8.B1_.D9.85.D9.84.D9.81.D8.A7.D8.AA_.D8.A7.D9.84.D9.88.D8.AD.D8.AF.D8.A7.D8.AA_.D8.A7.D9.84.D9.85.D8.B6.D8.A7.D9.81.D8.A9"></span><span class="mw-headline" id="تحرير_ملفات_الوحدات_المضافة">تحرير ملفات الوحدات المضافة</span>
</h3>
<p>To edit a unit file provided by a package, you can create a directory called <code>/etc/systemd/system/&lt;unit&gt;.d/</code> for example <code>/etc/systemd/system/httpd.service.d/</code>  and place <code>*.conf</code> files in there to override or add new options. Systemd will parse these <code>*.conf</code> files and apply them on top of the original unit. For example, if you simply want to add an additional dependency to a unit, you may create the following file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/&lt;unit&gt;.d/customdependency.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Requires=&lt;new dependency&gt;
After=&lt;new dependency&gt;</pre>
<p>Then run the following for your changes to take effect:
</p>
<pre># systemctl daemon-reload
# systemctl restart &lt;unit&gt;
</pre>
<p>Alternatively you can copy the old unit file from <code>/usr/lib/systemd/system/</code> to <code>/etc/systemd/system/</code> and make your changes there. A unit file in <code>/etc/systemd/system/</code> always overrides the same unit in <code>/usr/lib/systemd/system/</code>. Note that when the original unit in <code>/usr/lib/</code> is changed due to a package upgrade, these changes will not automatically apply to your custom unit file in <code>/etc/</code>. Additionally you will have to manually reenable the unit with <code>systemctl reenable &lt;unit&gt;</code>. It is therefore recommended to use the <code>*.conf</code> method described before instead.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> You can use <code>systemd-delta</code> to see which unit files have been overridden and what exactly has been changed.</div> As the provided unit files will be updated from time to time, use systemd-delta for system maintenance.
<h3>
<span id=".D8.AA.D8.B3.D9.84.D9.8A.D8.B7_.D8.A7.D9.84.D8.B6.D9.88.D8.A1_.D8.B9.D9.84.D9.89_.D8.A8.D9.86.D8.A7.D8.A1_.D8.A7.D9.84.D9.88.D8.AD.D8.AF.D8.A7.D8.AA_.D8.A8.D9.88.D8.A7.D8.B3.D8.B7.D8.A9_Vim"></span><span class="mw-headline" id="تسليط_الضوء_على_بناء_الوحدات_بواسطة_Vim">تسليط الضوء على بناء الوحدات بواسطة Vim</span>
</h3>
<p>Syntax highlighting for systemd unit files within <a href="../en/Vim.html" title="Vim">Vim</a> can be enabled by installing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/vim-systemd/">vim-systemd</a></span><sup><small>AUR</small></sup> from the <a href="../en/Official_repositories.html" title="Official repositories">official repositories</a>.
</p>
<h2>
<span id=".D8.A7.D9.84.D8.A3.D9.87.D8.AF.D8.A7.D9.81"></span><span class="mw-headline" id="الأهداف">الأهداف</span>
</h2>
<p>Systemd uses <i>targets</i> which serve a similar purpose as runlevels but act a little different. Each <i>target</i> is named instead of numbered and is intended to serve a specific purpose with the possibility of having multiple ones active at the same time. Some <i>targets</i> are implemented by inheriting all of the services of another <i>target</i> and adding additional services to it. There are systemd <i>target</i>s that mimic the common SystemVinit runlevels so you can still switch <i>target</i>s using the familiar <code>telinit RUNLEVEL</code> command.
</p>
<h3>
<span id=".D8.A7.D9.84.D8.A3.D9.87.D8.AF.D8.A7.D9.81_.D8.A7.D9.84.D8.AD.D8.A7.D9.84.D9.8A.D8.A9"></span><span class="mw-headline" id="الأهداف_الحالية">الأهداف الحالية</span>
</h3>
<p>The following should be used under systemd instead of <code>runlevel</code>:
</p>
<pre>$ systemctl list-units --type=target
</pre>
<h3>
<span id=".D8.A5.D9.86.D8.B4.D8.A7.D8.A1_.D9.87.D8.AF.D9.81_.D9.85.D8.B9.D9.8A.D9.91.D9.86"></span><span class="mw-headline" id="إنشاء_هدف_معيّن">إنشاء هدف معيّن</span>
</h3>
<p>The runlevels that are assigned a specific purpose on vanilla Fedora installs; 0, 1, 3, 5, and 6; have a 1:1 mapping with a specific systemd <i>target</i>. Unfortunately, there is no good way to do the same for the user-defined runlevels like 2 and 4. If you make use of those it is suggested that you make a new named systemd <i>target</i> as <code>/etc/systemd/system/&lt;your target&gt;</code> that takes one of the existing runlevels as a base (you can look at <code>/usr/lib/systemd/system/graphical.target</code> as an example), make a directory <code>/etc/systemd/system/&lt;your target&gt;.wants</code>, and then symlink the additional services from <code>/usr/lib/systemd/system/</code> that you wish to enable.
</p>
<h3>
<span id=".D8.AC.D8.AF.D9.88.D9.84.D8.A9_.D8.A7.D9.84.D8.A7.D9.87.D8.AF.D8.A7.D9.81"></span><span class="mw-headline" id="جدولة_الاهداف">جدولة الاهداف</span>
</h3>
<div dir="ltr">
<table class="wikitable">
<tbody>
<tr>
<th>SysV Runlevel</th>
<th>systemd Target</th>
<th>Notes
</th>
</tr>
<tr>
<td>0</td>
<td>runlevel0.target, poweroff.target</td>
<td>Halt the system.
</td>
</tr>
<tr>
<td>1, s, single</td>
<td>runlevel1.target, rescue.target</td>
<td>Single user mode.
</td>
</tr>
<tr>
<td>2, 4</td>
<td>runlevel2.target, runlevel4.target, multi-user.target</td>
<td>User-defined/Site-specific runlevels. By default, identical to 3.
</td>
</tr>
<tr>
<td>3</td>
<td>runlevel3.target, multi-user.target</td>
<td>Multi-user, non-graphical. Users can usually login via multiple consoles or via the network.
</td>
</tr>
<tr>
<td>5</td>
<td>runlevel5.target, graphical.target</td>
<td>Multi-user, graphical. Usually has all the services of runlevel 3 plus a graphical login.
</td>
</tr>
<tr>
<td>6</td>
<td>runlevel6.target, reboot.target</td>
<td>Reboot
</td>
</tr>
<tr>
<td>emergency</td>
<td>emergency.target</td>
<td>Emergency shell
</td>
</tr>
</tbody>
</table>
</div>
<h3>
<span id=".D8.AA.D8.BA.D9.8A.D9.8A.D8.B1_.D8.A7.D9.84.D9.87.D8.AF.D9.81_.D8.A7.D9.84.D8.AD.D8.A7.D9.84.D9.8A"></span><span class="mw-headline" id="تغيير_الهدف_الحالي">تغيير الهدف الحالي</span>
</h3>
<p>In systemd targets are exposed via "target units". You can change them like this:
</p>
<pre># systemctl isolate graphical.target
</pre>
<p>This will only change the current target, and has no effect on the next boot. This is equivalent to commands such as <code>telinit 3</code> or <code>telinit 5</code> in Sysvinit.
</p>
<h3>
<span id=".D8.AA.D8.BA.D9.8A.D9.8A.D8.B1_.D8.A7.D9.84.D9.87.D8.AF.D9.81_.D8.A7.D9.84.D8.A7.D9.81.D8.AA.D8.B1.D8.A7.D8.B6.D9.8A_.D9.84.D9.84.D8.A5.D9.82.D9.84.D8.A7.D8.B9_.D9.85.D9.86_.D8.AE.D9.84.D8.A7.D9.84.D9.87"></span><span class="mw-headline" id="تغيير_الهدف_الافتراضي_للإقلاع_من_خلاله">تغيير الهدف الافتراضي للإقلاع من خلاله</span>
</h3>
<p>The standard target is <code>default.target</code>, which is aliased by default to <code>graphical.target</code> (which roughly corresponds to the old runlevel 5). To change the default target at boot-time, append one of the following <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a> to your bootloader:
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> The <code>.target</code> extension can be left out.</div>
<ul>
<li>
<code>systemd.unit=multi-user.target</code> (which roughly corresponds to the old runlevel 3),</li>
<li>
<code>systemd.unit=rescue.target</code> (which roughly corresponds to the old runlevel 1).</li>
</ul>
<p>Alternatively, you may leave the bootloader alone and change <code>default.target</code>. This can be done using <code>systemctl</code>:
</p>
<pre># systemctl enable multi-user.target
</pre>
<p>The effect of this command is outputted by <code>systemctl</code>; a symlink to the new default target is made at <code>/etc/systemd/system/default.target</code>. This works if, and only if:
</p>
<pre>[Install]
Alias=default.target
</pre>
<p>is in the target's configuration file. Currently, <code>multi-user.target</code> and <code>graphical.target</code> both have it.
</p>
<h2>
<span id=".D8.A7.D9.84.D8.AF.D9.91.D9.88.D8.B1.D9.8A.D9.91.D8.A7.D8.AA"></span><span class="mw-headline" id="الدّوريّات">الدّوريّات</span>
</h2>
<p>Since version 38, systemd has its own logging system, the journal. Therefore, running a syslog daemon is no longer required. To read the log, use:
</p>
<pre># journalctl
</pre>
<p>By default (when <code>Storage=</code> is set to <code>auto</code> in <code>/etc/systemd/journald.conf</code>), the journal writes to <code>/var/log/journal/</code>. The directory <code>/var/log/journal/</code> is part of core/systemd. If you or some program delete it, systemd will <b>not</b> recreate it automatically, however it will be recreated during the next update of systemd. Till then, logs will be written to <code>/run/systemd/journal</code>. This means that logs will be lost on reboot.
</p>
<h3>
<span id=".D8.AA.D9.86.D9.82.D9.8A.D8.AD_.D8.A7.D9.84.D9.85.D9.8F.D8.AE.D8.B1.D8.AC.D8.A7.D8.AA"></span><span class="mw-headline" id="تنقيح_المُخرجات">تنقيح المُخرجات</span>
</h3>
<p><code>journalctl</code> allows you to filter the output by specific fields.
</p>
<p>Examples:
</p>
<p>Show all messages from this boot:
</p>
<pre># journalctl -b
</pre>
<p>However, often one is interested in messages not from the current, but from the previous boot (e.g. if an unrecoverable system crash happened). Currently, this feature is not implemented, though there was a discussion at <a rel="nofollow" class="external text" href="http://comments.gmane.org/gmane.comp.sysutils.systemd.devel/6608">systemd-devel@lists.freedesktop.org</a> (September/October 2012).
</p>
<p>As a workaround you can use at the moment:
</p>
<pre># journalctl --since=today | tac | sed -n '/-- Reboot --/{n;:r;/-- Reboot --/q;p;n;b r}' | tac
</pre>
<p>provided, that the previous boot happened today. Be aware that, if there are many messages for the current day, the output of this command can be delayed for quite some time.
</p>
<p>Follow new messages:
</p>
<pre># journalctl -f
</pre>
<p>Show all messages by a specific executable:
</p>
<pre># journalctl /usr/lib/systemd/systemd
</pre>
<p>Show all messages by a specific process:
</p>
<pre># journalctl _PID=1
</pre>
<p>Show all messages by a specific unit:
</p>
<pre># journalctl -u netcfg
</pre>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 1 journalctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/journalctl.1">journalctl(1)</a></span>, <code>systemd.journal-fields</code> or Lennert's <a rel="nofollow" class="external text" href="http://0pointer.de/blog/projects/journalctl.html">blog post</a> for details.
</p>
<h3>
<span id=".D8.A7.D9.84.D8.AD.D8.AC.D9.85_.D8.A7.D9.84.D8.A3.D9.82.D8.B5.D9.89_.D9.84.D9.84.D8.AF.D9.91.D9.88.D8.B1.D9.8A.D8.A9"></span><span class="mw-headline" id="الحجم_الأقصى_للدّورية">الحجم الأقصى للدّورية</span>
</h3>
<p>If the journal is persistent (non-volatile), its size limit is set to a default value of 10% of the size of the respective file system. For example, with <code>/var/log/journal</code> located on a 50 GiB root partition this would lead to 5 GiB of journal data. The maximum size of the persistent journal can be controlled by <code>SystemMaxUse</code> in <code>/etc/systemd/journald.conf</code>, so to limit it for example to 50 MiB uncomment and edit the corresponding line to:
</p>
<pre>SystemMaxUse=50M
</pre>
<p>Refer to <span class="plainlinks archwiki-template-man" title="$ man 5 journald.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/journald.conf.5">journald.conf(5)</a></span> for more info.
</p>
<h3>
<span id=".D8.A7.D9.84.D8.AA.D8.B1.D8.A7.D8.A8.D8.B7_.D8.A8.D9.8A.D9.86_.D9.85.D8.AF.D9.8A.D8.B1_.D8.A7.D9.84.D8.AF.D9.91.D9.88.D8.B1.D9.8A.D8.A7.D8.AA_journald_.D9.88_.D8.B3.D8.AC.D9.84_.D8.A7.D9.84.D9.86.D8.B8.D8.A7.D9.85_syslog"></span><span class="mw-headline" id="الترابط_بين_مدير_الدّوريات_journald_و_سجل_النظام_syslog">الترابط بين مدير الدّوريات journald و سجل النظام syslog</span>
</h3>
<p>Compatibility with classic syslog implementations is provided via a socket <code>/run/systemd/journal/syslog</code>, to which all messages are forwarded. To make the syslog daemon work with the journal, it has to bind to this socket instead of <code>/dev/log</code> (<a rel="nofollow" class="external text" href="http://lwn.net/Articles/474968/">official announcement</a>). The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=syslog-ng">syslog-ng</a></span> package in the repositories automatically provides the necessary configuration.
</p>
<pre># systemctl enable syslog-ng
</pre>
<p>A good <code>journalctl</code> tutorial is <a rel="nofollow" class="external text" href="http://0pointer.de/blog/projects/journalctl.html">here</a>.
</p>
<h2>
<span id=".D8.A7.D9.84.D8.AA.D9.91.D8.AD.D8.B3.D9.8A.D9.86"></span><span class="mw-headline" id="التّحسين">التّحسين</span>
</h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" decoding="async" width="48" height="48"></a><b>This article or section is a candidate for merging with <a href="../en/Improving_performance/Boot_process.html" class="mw-redirect" title="Improve Boot Performance">Improve Boot Performance</a>.</b><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Notes:</b> Should be moved to the article covering this topic. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Systemd_(%D8%A7%D9%84%D8%B9%D8%B1%D8%A8%D9%8A%D8%A9)">Talk:Systemd (العربية)#</a>)</div>
</div>
<p>See <a href="../en/Improving_performance/Boot_process.html" class="mw-redirect" title="Improve boot performance">Improve boot performance</a>.
</p>
<h3>
<span id=".D8.AA.D8.AD.D9.84.D9.8A.D9.84_.D8.B9.D9.85.D9.84.D9.8A.D8.A9_.D8.A7.D9.84.D8.A5.D9.82.D9.84.D8.A7.D8.B9"></span><span class="mw-headline" id="تحليل_عملية_الإقلاع">تحليل عملية الإقلاع</span>
</h3>
<h4>
<span id=".D8.A7.D8.B3.D8.AA.D8.AE.D8.AF.D8.A7.D9.85_.D8.A3.D8.AF.D8.A7.D8.A9_.D8.A7.D9.84.D8.AA.D8.AD.D9.84.D9.8A.D9.84_systemd-analyze"></span><span class="mw-headline" id="استخدام_أداة_التحليل_systemd-analyze">استخدام أداة التحليل systemd-analyze</span>
</h4>
<p>Systemd provides a tool called <code>systemd-analyze</code> that allows you to analyze your boot process so you can see which unit files are causing your boot process to slow down. You can then optimize your system accordingly.
</p>
<p>To see how much time was spent in kernelspace and userspace on boot, simply use:
</p>
<pre>$ systemd-analyze
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> 
<ul>
<li>If you append the <code>timestamp</code> hook to your <code>HOOKS</code> array in <code>/etc/<a href="../en/Mkinitcpio.html" title="Mkinitcpio">mkinitcpio</a>.conf</code> and rebuild your initramfs with <code>mkinitcpio -p linux</code>, systemd-analyze is also able to show you how much time was spent in the initramfs.</li>
<li>If you boot via <a href="../en/Unified_Extensible_Firmware_Interface.html" class="mw-redirect" title="UEFI">UEFI</a> and use a boot loader which implements systemds' <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/systemd/BootLoaderInterface">Boot Loader Interface</a> (which currently only <a href="../en/Systemd-boot.html" class="mw-redirect" title="Gummiboot">Gummiboot</a> does), systemd-analyze can additionally show you how much time was spent in the EFI firmware and the boot loader itself.</li>
</ul>
</div>
<p>To list the started unit files, sorted by the time each of them took to start up:
</p>
<pre>$ systemd-analyze blame
</pre>
<p>You can also create a SVG file which describes your boot process graphically, similiar to <a href="../en/Bootchart.html" title="Bootchart">Bootchart</a>:
</p>
<pre>$ systemd-analyze plot &gt; plot.svg
</pre>
<h4>
<span id=".D8.A7.D8.B3.D8.AA.D8.AE.D8.AF.D8.A7.D9.85_.D8.B1.D8.A7.D8.B3.D9.85_.D8.AE.D8.B1.D9.8A.D8.B7.D8.A9_.D8.A7.D9.84.D8.A5.D9.82.D9.84.D8.A7.D8.B9_systemd-bootchart"></span><span class="mw-headline" id="استخدام_راسم_خريطة_الإقلاع_systemd-bootchart">استخدام راسم خريطة الإقلاع systemd-bootchart</span>
</h4>
<p>Bootchart has been merged into systemd since Oct. 17, and you can use it to boot just as you would with the original bootchart. Add this to your kernel line:
</p>
<pre>initcall_debug printk.time=y init=/usr/lib/systemd/systemd-bootchart
</pre>
<h4>
<span id=".D8.A7.D9.84.D9.85.D8.B1.D8.AD.D9.84.D8.A9_.D8.A7.D9.84.D8.AB.D8.A7.D9.86.D9.8A.D8.A9_.D9.85.D9.86_.D8.B1.D8.B3.D9.85_.D8.AE.D8.B1.D9.8A.D8.B7.D8.A9_.D8.A7.D9.84.D8.A5.D9.82.D9.84.D8.A7.D8.B9"></span><span class="mw-headline" id="المرحلة_الثانية_من_رسم_خريطة_الإقلاع">المرحلة الثانية من رسم خريطة الإقلاع</span>
</h4>
<p>You could also use a version of bootchart to visualize the boot sequence. Since you are not able to put a second init into the kernel command line you won't be able to use any of the standard bootchart setups. However the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/bootchart2-git/">bootchart2-git</a></span><sup><small>AUR</small></sup> package from <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a> comes with an undocumented systemd service. After you've installed bootchart2 do:
</p>
<pre># systemctl enable bootchart
</pre>
<p>Read the <a rel="nofollow" class="external text" href="https://github.com/mmeeks/bootchart">bootchart documentation</a> for further details on using this version of bootchart.
</p>
<h2>
<span id=".D8.A7.D8.B3.D8.AA.D9.83.D8.B4.D8.A7.D9.81_.D8.A7.D9.84.D8.A7.D8.AE.D8.B7.D8.A7.D8.A1_.D9.88_.D8.A5.D8.B5.D9.84.D8.A7.D8.AD.D9.87.D8.A7"></span><span class="mw-headline" id="استكشاف_الاخطاء_و_إصلاحها">استكشاف الاخطاء و إصلاحها</span>
</h2>
<h3>
<span id=".D8.A7.D9.84.D9.88.D9.82.D8.AA_.D8.A7.D9.84.D8.B7.D9.91.D9.88.D9.8A.D9.84_.D9.84.D8.A5.D9.8A.D9.82.D8.A7.D9.81_.D8.A3.D9.88_.D8.A5.D8.B9.D8.A7.D8.AF.D8.A9_.D8.A7.D9.84.D8.AA.D9.91.D8.B4.D8.BA.D9.8A.D9.84"></span><span class="mw-headline" id="الوقت_الطّويل_لإيقاف_أو_إعادة_التّشغيل">الوقت الطّويل لإيقاف أو إعادة التّشغيل</span>
</h3>
<p>If the shutdown process takes a very long time (or seems to freeze) most likely a service not exiting is to blame. Systemd waits some time for each service to exit before trying to kill it. To find out if you are affected, see <a rel="nofollow" class="external text" href="https://freedesktop.org/wiki/Software/systemd/Debugging#Shutdown_Completes_Eventually">this article</a>.
</p>
<h3>
<span id=".D8.B9.D8.AF.D9.85_.D9.88.D8.AC.D9.88.D8.AF_.D9.85.D9.8F.D8.AE.D8.B1.D8.AC.D8.A7.D8.AA_.D9.84.D9.84.D8.AA.D8.B7.D8.A8.D9.8A.D9.82.D8.A7.D8.AA_.D9.82.D8.B5.D9.8A.D8.B1.D8.A9_.D8.A7.D9.84.D8.B9.D9.8F.D9.85.D8.B1"></span><span class="mw-headline" id="عدم_وجود_مُخرجات_للتطبيقات_قصيرة_العُمر">عدم وجود مُخرجات للتطبيقات قصيرة العُمر</span>
</h3>
<p>If <code>journalctl -u foounit</code> doesn't show any output for a short lived service, look at the PID instead. For example, if <code>systemd-modules-load.service</code> fails, and <code>systemctl status systemd-modules-load</code> shows that it ran as PID 123, then you might be able to see output in the journal for that PID, i.e. <code>journalctl -b _PID=123</code>. Metadata fields for the journal such as _SYSTEMD_UNIT and _COMM are collected asynchronously and rely on the <code>/proc</code> directory for the process existing. Fixing this requires fixing the kernel to provide this data via a socket connection, similar to SCM_CREDENTIALS.
</p>
<h3>
<span id=".D8.AA.D8.B4.D8.AE.D9.8A.D8.B5_.D9.85.D8.B4.D8.A7.D9.83.D9.84_.D8.A7.D9.84.D8.A5.D9.82.D9.84.D8.A7.D8.B9"></span><span class="mw-headline" id="تشخيص_مشاكل_الإقلاع">تشخيص مشاكل الإقلاع</span>
</h3>
<p>أضف هذه المُعامِلات لسطر النّواة أثناء الإقلاع :
</p>
<div style="text-align: left">
<p><code>systemd.log_level=debug systemd.log_target=kmsg log_buf_len=1M</code>
</p>
</div>
<p><a rel="nofollow" class="external text" href="https://freedesktop.org/wiki/Software/systemd/Debugging">معلومات أكثر عن الإصلاح</a>
</p>
<h3>
<span id=".D8.AA.D8.B9.D8.B7.D9.8A.D9.84_.D8.A7.D9.84.D8.AA.D8.B7.D8.A8.D9.8A.D9.82.D8.A7.D8.AA_.D9.85.D8.B3.D8.A8.D8.A8.D8.A9_.D8.A7.D9.84.D8.A7.D9.86.D9.87.D9.8A.D8.A7.D8.B1"></span><span class="mw-headline" id="تعطيل_التطبيقات_مسببة_الانهيار">تعطيل التطبيقات مسببة الانهيار</span>
</h3>
<p>فقط قم بإنشاء اختصار في العادم /dev/null للملف coredump.conf ، ثم طبق أداة التحكم بالنظام sysctl (<a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=154511">المصدر</a>) :
</p>
<div style="text-align: left">
<pre>ln -s /dev/null /etc/sysctl.d/coredump.conf
/lib/systemd/systemd-sysctl
ulimit -c unlimited
</pre>
</div>
<h2>
<span id=".D8.A7.D9.86.D8.B8.D8.B1_.D8.A3.D9.8A.D8.B6.D9.8B.D8.A7"></span><span class="mw-headline" id="انظر_أيضًا">انظر أيضًا</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/systemd">الموقع الرّسمي</a></li>
<li><a rel="nofollow" class="external text" href="http://0pointer.de/public/systemd-man/">دليل الاستخدام</a></li>
<li><a rel="nofollow" class="external text" href="https://freedesktop.org/wiki/Software/systemd/Optimizations">تحسين systemd</a></li>
<li><a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/systemd/FrequentlyAskedQuestions">الأسئلة الشّائِعة</a></li>
<li><a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/systemd/TipsAndTricks">تلميحات و خُدَع</a></li>
<li><a rel="nofollow" class="external text" href="http://0pointer.de/public/systemd-ebook-psankar.pdf">systemd للمُدراء (PDF)</a></li>
<li><a rel="nofollow" class="external text" href="http://fedoraproject.org/wiki/Systemd">مشروع فيدورا و systemd</a></li>
<li><a rel="nofollow" class="external text" href="http://fedoraproject.org/wiki/How_to_debug_Systemd_problems">كيف تُصلح مشاكل systemd</a></li>
<li>
<a rel="nofollow" class="external text" href="http://www.h-online.com/open/features/Control-Centre-The-systemd-Linux-init-system-1565543.html">جزء 2</a> <a rel="nofollow" class="external text" href="http://www.h-online.com/open/features/Booting-up-Tools-and-tips-for-systemd-1570630.html">جزء 1</a> المقالات التمهيدية في مجلة <i>The H Open</i>.</li>
<li><a rel="nofollow" class="external text" href="http://0pointer.de/blog/projects/systemd.html">Lennart's blog story</a></li>
<li><a rel="nofollow" class="external text" href="http://0pointer.de/blog/projects/systemd-update.html">حالة التحديث</a></li>
<li><a rel="nofollow" class="external text" href="http://0pointer.de/blog/projects/systemd-update-2.html">حالة التحديث 2</a></li>
<li><a rel="nofollow" class="external text" href="http://0pointer.de/blog/projects/systemd-update-3.html">حالة التحديث 3</a></li>
<li><a rel="nofollow" class="external text" href="http://0pointer.de/blog/projects/why.html">الخُلاصة الحديثة</a></li>
<li><a rel="nofollow" class="external text" href="http://fedoraproject.org/wiki/SysVinit_to_Systemd_Cheatsheet">ورقة عمل تحوُّل فيدورا من SysVinint إلى Systemd</a></li>
</ul>
</div>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../ar/Category:System_administration.html" title="Category:System administration (العربية)">System administration (العربية)</a></li>
<li><a href="../ar/Category:Boot_process.html" title="Category:Boot process (العربية)">Boot process (العربية)</a></li>
<li><a href="../en/Category:26b1b2b0a4193aabcc33455732de89ac.html" title="Category:العربية">العربية</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_using_duplicate_arguments_in_template_calls.html" title="Category:Pages using duplicate arguments in template calls">Pages using duplicate arguments in template calls</a></li>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Merge.html" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Systemd_(%D8%A7%D9%84%D8%B9%D8%B1%D8%A8%D9%8A%D8%A9)&amp;oldid=647065">https://wiki.archlinux.org/index.php?title=Systemd_(العربية)&amp;oldid=647065</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 26 December 2020, at 12:26.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
