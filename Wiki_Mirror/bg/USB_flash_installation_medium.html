<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>USB flash installation medium (Български) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-USB_flash_installation_medium_Български rootpage-USB_flash_installation_medium_Български skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">USB flash installation medium (Български)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a><b>This article or section is out of date.</b><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Може да съдържа не актуаклна информация. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:USB_flash_installation_medium_(%D0%91%D1%8A%D0%BB%D0%B3%D0%B0%D1%80%D1%81%D0%BA%D0%B8)">Talk:USB flash installation medium (Български)#</a>)</div>
</div>
<p>Тази страница обяснява как да приготви инсталационно USB (флашка) за ArchLinux. Крайният резултат е LiveCD от който можете да инсталирате.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%D0%A1%D1%8A%D0%B7%D0%B4%D0%B0%D0%B2%D0%B0%D0%BD%D0%B5_%D0%BF%D0%BE%D0%B4_GNU/Linux"><span class="tocnumber">1</span> <span class="toctext">Създаване под GNU/Linux</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Arch_USB_images"><span class="tocnumber">1.1</span> <span class="toctext">Arch USB images</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#%D0%A1_UNetBootin"><span class="tocnumber">1.2</span> <span class="toctext">С UNetBootin</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#%D0%A1_Gujin"><span class="tocnumber">1.3</span> <span class="toctext">С Gujin</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#%D0%A1%D1%8A%D0%B7%D0%B4%D0%B0%D0%B2%D0%B0%D0%BD%D0%B5_%D0%BF%D0%BE%D0%B4_Mac_OS_X"><span class="tocnumber">2</span> <span class="toctext">Създаване под Mac OS X</span></a></li>
<li class="toclevel-1 tocsection-6">
<a href="#%D0%A1%D1%8A%D0%B7%D0%B4%D0%B0%D0%B2%D0%B5%D0%BD%D0%B5_%D0%BF%D0%BE%D0%B4_Windows"><span class="tocnumber">3</span> <span class="toctext">Създавене под Windows</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#%D0%A1_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%B0%D1%82%D0%B0_Flashnul"><span class="tocnumber">3.1</span> <span class="toctext">С програмата Flashnul</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#%D0%A1%D1%8A%D1%81_Cygwin"><span class="tocnumber">3.2</span> <span class="toctext">Със Cygwin</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#win32_disk_imager"><span class="tocnumber">3.3</span> <span class="toctext">win32 disk imager</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#%D0%A1_UNetBootin_2"><span class="tocnumber">3.4</span> <span class="toctext">С UNetBootin</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11">
<a href="#%D0%A1%D1%82%D0%B0%D1%80_%D0%BC%D0%B5%D1%82%D0%BE%D0%B4_%D1%81_ISO"><span class="tocnumber">4</span> <span class="toctext">Стар метод с ISO</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#After_booting_from_the_USB_stick:"><span class="tocnumber">4.1</span> <span class="toctext">After booting from the USB stick:</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#%D0%91%D0%B5%D0%BB%D0%B5%D0%B6%D0%BA%D0%B8:"><span class="tocnumber">4.2</span> <span class="toctext">Бележки:</span></a></li>
</ul>
</li>
</ul>
</div>

<h2>
<span id=".D0.A1.D1.8A.D0.B7.D0.B4.D0.B0.D0.B2.D0.B0.D0.BD.D0.B5_.D0.BF.D0.BE.D0.B4_GNU.2FLinux"></span><span class="mw-headline" id="Създаване_под_GNU/Linux">Създаване под GNU/Linux</span>
</h2>
<h3><span class="mw-headline" id="Arch_USB_images">Arch USB images</span></h3>
<p>При всички версии след 2010.05, iso файловете могат директно да бъдат записвани върху USB медии. Свалете ги от <a rel="nofollow" class="external autonumber" href="https://archlinux.org/download/">[1]</a>. Демонтирайте USB устройството и след това въведете следната команда:
</p>
<pre>$ dd if=image.iso of=/dev/sd[x]
</pre>
<p><i>image.iso</i> е пътя към iso файла, а <i>/dev/sd[x]</i> е USB устройството.
<i><b>Проверете че ползвате /dev/sdx а НЕ /dev/sdx1.</b></i> <b>Това е често срещана грешка!</b>
</p>
<p>Тази команда ще изтрие всичко на USB устройството.
</p>
<h3>
<span id=".D0.A1_UNetBootin"></span><span class="mw-headline" id="С_UNetBootin">С UNetBootin</span>
</h3>
<p>Друг начин да създадете boot USB е с програмата <a rel="nofollow" class="external text" href="http://unetbootin.sourceforge.net/">UNetBootin</a>. Самата програма сваля дадената дистрибуция и я записва на флашката. UNetBootin не ползва най-новия Arch ISO, но за сметка на това можете да зададете собствен ISO файл. 
</p>
<p>След като Unetbootin приключи, трябва да модифицирате syslinux.cfg на root раздела на флашката преди да рестартирате. Поправете параметъра "archisolabel=" да ползва името на USB устройството, т.е.:
</p>
<pre>append initrd=/ubninit archisolabel=&lt;label&gt; tmpfs_size=75% locale=en_US.UTF-8
</pre>
<h3>
<span id=".D0.A1_Gujin"></span><span class="mw-headline" id="С_Gujin">С Gujin</span>
</h3>
<p>A third method is to follow the instructions about <a rel="nofollow" class="external text" href="http://psychoticspoon.blogspot.com/2009/01/booting-multiple-livecds-from-single.html">Booting multiple LiveCD's from a single USB stick</a>. In a nutshell, you create 2 partitions on your USB drive, copy the <a rel="nofollow" class="external text" href="http://gujin.sourceforge.net/">Gujin</a> boot loader image to the first partition, and copy Arch's ISO to the second.
</p>
<h2>
<span id=".D0.A1.D1.8A.D0.B7.D0.B4.D0.B0.D0.B2.D0.B0.D0.BD.D0.B5_.D0.BF.D0.BE.D0.B4_Mac_OS_X"></span><span class="mw-headline" id="Създаване_под_Mac_OS_X">Създаване под Mac OS X</span>
</h2>
<p>To be able to use dd on your usb device on a Mac you have to do some special maneuvers. First of all insert your usb device, OS X will automount it, and run
</p>
<pre>diskutil list
</pre>
<p>in Terminal.app. Figure out what your usb device is called - mine was called /dev/disk1. (Just use the `mount` command or `sudo dmesg | tail`.) Now you run
</p>
<pre>diskutil unmountDisk /dev/disk1
</pre>
<p>to unmount the partitions on the device (i.e., /dev/disk1s1) while keeping the device proper (i.e., /dev/disk1). Now we can continue in accordance with the Linux instructions above (but use bs=8192 if you're using the OS X dd, the number comes from 1024*8).
</p>
<pre> dd if=image.iso of=/dev/disk1 bs=8192
 20480+0 records in
 20480+0 records out
 167772160 bytes transferred in 220.016918 secs (762542 bytes/sec)
</pre>
<h2>
<span id=".D0.A1.D1.8A.D0.B7.D0.B4.D0.B0.D0.B2.D0.B5.D0.BD.D0.B5_.D0.BF.D0.BE.D0.B4_Windows"></span><span class="mw-headline" id="Създавене_под_Windows">Създавене под Windows</span>
</h2>
<p>To write the USB image on Windows, you will need <a rel="nofollow" class="external text" href="http://shounen.ru/soft/flashnul/">flashnul</a> (<a rel="nofollow" class="external text" href="http://translate.google.com/translate?u=http%3A%2F%2Fshounen.ru%2Fsoft%2Fflashnul%2F&amp;hl=en&amp;ie=UTF8&amp;sl=ru&amp;tl=en">English version of the page</a>) or <a rel="nofollow" class="external text" href="http://www.cygwin.com/">Cygwin</a>.
</p>
<h3>
<span id=".D0.A1_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.B0.D1.82.D0.B0_Flashnul"></span><span class="mw-headline" id="С_програмата_Flashnul">С програмата Flashnul</span>
</h3>
<p>From a command prompt, invoke flashnul with -p, and determine which device index is your USB drive.  For example, my output looks like this:
</p>
<pre>C:\&gt;flashnul -p

Avaible [sic] physical drives:
0       size = 200048565760 (186 Gb)
1       size = 400088457216 (372 Gb)
2       size = 400088457216 (372 Gb)
3       size = 4060086272 (3872 Mb)
</pre>
<p>In my case, with a 4 GB USB drive, it is device index 3.
</p>
<p>When you have determined which device is the correct one, you can write the image to your drive, by invoking flashnul with the device index, -L, and the path to your image.  In my case, it would be
</p>
<pre>C:\&gt;flashnul 3 -L path\to\arch\usb.iso
</pre>
<p>As long as you are really sure you want to write the data, type yes, then wait a bit for it to write.  If you get an access denied error, unplugging and re-attaching the drive worked for me.
</p>
<p>If under Vista or Win7, you should open the console as administrator, or else flashnul will fail to open the stick as a block device and will only be able to write via the drive handle windows provides
</p>
<p><b>Note:</b>
<i>I had to do "C:\flashnul\flashnul.exe <b>H:</b> -L c:\archlinux-2008.06-core-i686.img" for it to work. I kept getting access denied if i just used the number. -gejr </i> 
</p>
<p><b>Note:</b>
<i>The output of flashnul -p was considerably different for me. No numbers were returned or block information, just a list of logical drive mappings (C:, D:, etc..) so I just did flashnul -L archlinux.img E: --<a href="/index.php?title=User:Kahrn&amp;action=edit&amp;redlink=1" class="new" title="User:Kahrn (page does not exist)">Kahrn</a> 18:12, 28 April 2010 (EDT)</i>
</p>
<p><b>Note:</b>
<i>Confirmed that you need to use drive letter as opposed to number. flashnul 1rc1, Windows 7 x64. -bgalakazam</i>
</p>
<h3>
<span id=".D0.A1.D1.8A.D1.81_Cygwin"></span><span class="mw-headline" id="Със_Cygwin">Със Cygwin</span>
</h3>
<p>Make sure your cygwin installation contains the dd package.
Or if you don't want to install Cygwin, you can simply download dd for windows from <a rel="nofollow" class="external free" href="http://www.chrysocome.net/dd">http://www.chrysocome.net/dd</a>.
</p>
<p>Place your image file in your home directory, in my case it is:
</p>
<pre>C:\cygwin\home\John\
</pre>
<p>Run cygwin as administrator (required for cygwin to access hardware). To write to your USB drive use the following command:
</p>
<pre>dd if=image.iso of=\\.\[x]:
</pre>
<p>where image.iso is the path to the iso-image file within the cygwin directory and \\.\[x]: is your USB device where x is the windows designated letter, in my case "\\.\d:".
</p>
<p><b>Note:</b> This will irrevocably delete all files on your USB stick, so make sure you don't have any important files on the stick before doing this.
</p>
<h3><span class="mw-headline" id="win32_disk_imager">win32 disk imager</span></h3>
<p>Download  win32 disk imager from <a rel="nofollow" class="external free" href="http://launchpad.net/win32-image-writer">http://launchpad.net/win32-image-writer</a>. Run the program. Select the arch image-file and usb stick.  The Win32 Disk Imager's file browser assumes image files end with .img, so if the image-file you've selected ends with .iso, you will have to type its name in manually; this difference in suffixes is simply cosmetic however, the image will be written fine regardless.  Click on the write button. Now you should be able to boot from the usb stick and install Arch Linux from it.
</p>
<h3>
<span id=".D0.A1_UNetBootin_2"></span><span class="mw-headline" id="С_UNetBootin_2">С UNetBootin</span>
</h3>
<p>Another way to make a USB drive bootable, is by using UNetBootin (<a href="#%D0%A1_UNetBootin">see above</a>).
</p>
<h2>
<span id=".D0.A1.D1.82.D0.B0.D1.80_.D0.BC.D0.B5.D1.82.D0.BE.D0.B4_.D1.81_ISO"></span><span class="mw-headline" id="Стар_метод_с_ISO">Стар метод с ISO</span>
</h2>
<ul><li>Prepare USB stick:</li></ul>
<p>The arch-ftp.img is about 150 MB, so it should fit on a 256 MB USB stick. The arch-core.img  is ~300 MB and should fit on a 512 MB stick.
</p>
<p>1. Partition the USB stick.
Create one partition with FAT16 type, make it bootable. Remember its name, such as /dev/sd[x]1.
</p>
<pre>cfdisk /dev/sd[x]
</pre>
<p>2. Make a FAT16 filesystem (you need dosfstools)
</p>
<pre>mkdosfs /dev/sd[x]1
</pre>
<p>3. Get the arch-base install ISO from www.archlinux.org
</p>
<p>4. Mount the iso to an temporary directory
</p>
<pre>mkdir -p /mnt/archcd
mount -o loop /Path/to/iso /mnt/archcd
</pre>
<p>5. Mount the USB Stick
</p>
<pre>mkdir -p /mnt/usb/
mount /dev/sd[x]1 /mnt/usb/
</pre>
<p>6. Copy the .iso to the USB Stick
</p>
<pre>cp -ra /mnt/archcd/* /mnt/usb/
</pre>
<p><br>
7. Copy the boot data
</p>
<pre>cd /mnt/usb/isolinux/
cp vmlinuz /mnt/usb/
cp initrd.img /mnt/usb/
cp boot.* /mnt/usb/
cp isolinux.cfg /mnt/usb/syslinux.cfg
</pre>
<p>8. Install MBR and syslinux<sup>(1)</sup>
</p>
<pre>lilo -M /dev/sd[x] mbr
syslinux -s /dev/sd[x]1
</pre>
<h3><span class="mw-headline" id="After_booting_from_the_USB_stick:">After booting from the USB stick:</span></h3>
<p>Start the installation by logging in as root and invoke the command "/arch/setup".
</p>
<p>The installer should mount the source media automatically.  If it fails you can manually mount the source media on the stick to the /src directory with the following command:
</p>
<pre>mount /dev/sd[x] /src
</pre>
<h3>
<span id=".D0.91.D0.B5.D0.BB.D0.B5.D0.B6.D0.BA.D0.B8:"></span><span class="mw-headline" id="Бележки:">Бележки:</span>
</h3>
<p><sup>(1)</sup> Using lilo is not really needed because syslinux does the "floppy" loading stuff. But if you get some error like "Can't load operating system" you have to perform the lilo command.
</p>
<p><sup>(2)</sup> If you get "Cluster sizes larger than 16K not supported" error when booting this means you need to install more recent version of syslinux.
</p>
<p><sup>(3)</sup> Space not used on the USB stick can still be used for storing files...  Use a utility like gparted and add a partition to the unused space.
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../bg/Category:Installation_process.html" title="Category:Installation process (Български)">Installation process (Български)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=USB_flash_installation_medium_(%D0%91%D1%8A%D0%BB%D0%B3%D0%B0%D1%80%D1%81%D0%BA%D0%B8)&amp;oldid=618113">https://wiki.archlinux.org/index.php?title=USB_flash_installation_medium_(Български)&amp;oldid=618113</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 4 June 2020, at 06:49.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
