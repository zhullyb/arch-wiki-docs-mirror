<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>AUR Trusted User Guidelines (Português) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-AUR_Trusted_User_Guidelines_Português rootpage-AUR_Trusted_User_Guidelines_Português skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">AUR Trusted User Guidelines (Português)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Status de tradução:</strong> Esse artigo é uma tradução de <a href="/title/AUR_Trusted_User_Guidelines" title="AUR Trusted User Guidelines">AUR Trusted User Guidelines</a>. Data da última tradução: 2020-07-06. Você pode ajudar a sincronizar a tradução, se houver <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=AUR_Trusted_User_Guidelines&amp;diff=0&amp;oldid=624066">alterações</a> na versão em inglês.</div>
<div class="archwiki-template-meta-related-articles-start">
<p>Artigos relacionados</p>
<ul>
<li><a href="/title/Arch_User_Repository_(Portugu%C3%AAs)" title="Arch User Repository (Português)">Arch User Repository</a></li>
</ul>
</div>
<p>O <b>Trusted User (TU)</b> ("Usuário confiado") é um membro da comunidade encarregado de manter o AUR funcionando. Ele/Ela mantém pacotes populares (<a rel="nofollow" class="external text" href="https://mailman.archlinux.org/pipermail/aur-general/2010-September/010649.html">comunicando com o <i>upstream</i> e enviando-o patches quando necessário</a>) e vota em assuntos administrativos. Um TU é eleito de membros ativos da comunidade pelos atuais TUs em um processo democrático. TUs são os únicos membros que têm a última palavra na direção do AUR.
</p>
<p>Os TUs são governados usando as <a rel="nofollow" class="external text" href="https://aur.archlinux.org/trusted-user/TUbylaws.html">TU bylaws</a> ("Estatuto dos TUs")
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Lista_de_tarefas_para_novos_Trusted_Users"><span class="tocnumber">1</span> <span class="toctext">Lista de tarefas para novos Trusted Users</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#O_TU_e_o_AUR"><span class="tocnumber">2</span> <span class="toctext">O TU e o AUR</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Reescrevendo_hist%C3%B3rico_Git"><span class="tocnumber">2.1</span> <span class="toctext">Reescrevendo histórico Git</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4">
<a href="#O_TU_e_%5Bcommunity%5D,_Diretrizes_para_Manuten%C3%A7%C3%A3o_de_Pacotes"><span class="tocnumber">3</span> <span class="toctext">O TU e [community], Diretrizes para Manutenção de Pacotes</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Regras_para_a_Entrada_de_Pacotes_no_Reposit%C3%B3rio_%5Bcommunity%5D"><span class="tocnumber">3.1</span> <span class="toctext">Regras para a Entrada de Pacotes no Repositório [community]</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Acessando_e_Atualizando_o_Reposit%C3%B3rio"><span class="tocnumber">3.2</span> <span class="toctext">Acessando e Atualizando o Repositório</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Abandonando_pacotes"><span class="tocnumber">3.3</span> <span class="toctext">Abandonando pacotes</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Movendo_pacotes_do_unsupported_para_%5Bcommunity%5D"><span class="tocnumber">3.4</span> <span class="toctext">Movendo pacotes do unsupported para [community]</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Movendo_pacotes_do_%5Bcommunity%5D_para_unsupported"><span class="tocnumber">3.5</span> <span class="toctext">Movendo pacotes do [community] para unsupported</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Movendo_pacotes_do_%5Bcommunity-testing%5D_para_%5Bcommunity%5D"><span class="tocnumber">3.6</span> <span class="toctext">Movendo pacotes do [community-testing] para [community]</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Excluindo_pacotes_do_unsupported"><span class="tocnumber">3.7</span> <span class="toctext">Excluindo pacotes do unsupported</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Compila%C3%A7%C3%A3o_remota_no_PKGBUILD.com"><span class="tocnumber">3.8</span> <span class="toctext">Compilação remota no PKGBUILD.com</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href="#Lista_de_TODO_na_retirada_de_um_Trusted_User"><span class="tocnumber">4</span> <span class="toctext">Lista de TODO na retirada de um Trusted User</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#Veja_tamb%C3%A9m"><span class="tocnumber">5</span> <span class="toctext">Veja também</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Lista_de_tarefas_para_novos_Trusted_Users">Lista de tarefas para novos Trusted Users</span></h2>
<ol>
<li>Ler este artigo de wiki por completo.</li>
<li>Ler as <a rel="nofollow" class="external text" href="https://aur.archlinux.org/trusted-user/TUbylaws.html">TU Bylaws</a>.</li>
<li>Certificar-se de que os detalhes da sua conta no <a href="/title/AUR_(Portugu%C3%AAs)" class="mw-redirect" title="AUR (Português)">AUR</a> estejam atualizados.</li>
<li>Adicionar a si próprio à página de <a href="/title/Trusted_Users" title="Trusted Users">Trusted Users</a>.</li>
<li>Se inscrever na lista de discussão pública de desenvolvimento do Arch Linux, <a rel="nofollow" class="external text" href="https://lists.archlinux.org/listinfo/arch-dev-public">arch-dev-public</a>.</li>
<li>Solicitar inscrição à lista de discussão interna de trusted user.</li>
<li>Lembrar um <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/userlist.php?username=&amp;show_group=1&amp;sort_by=username&amp;sort_dir=ASC&amp;search=Submit">administrador do BBS</a> de alterar sua conta nos fóruns.</li>
<li>Perguntar a algum TU pela chave do #archlinux-tu@freenode e se fazer presente no canal. Você não tem que fazer isso, mas seria interessante já que é lá que a maioria dos segredos ocultos são apresentados e é onde muitas novas ideias são concebidas.
<ul>
<li>Se você precisar de um bouncer, peça ao heftig por um convite de <a href="/title/Matrix" title="Matrix">Matrix</a> ou execute <code>givemequassel</code> no servidor <i>soyuz.archlinux.org</i>, então autentique-se usando <a href="/title/Quassel" title="Quassel">Quassel</a>.</li>
<li>Uma vez no canal, se você quiser uma manta de @archlinux/trusteduser/*, peça ao nosso <a rel="nofollow" class="external text" href="https://freenode.net/groupreg#two-types-of-group-contacts-exist-for-freenode">contato no grupo</a>, ioni, para obter uma.</li>
</ul>
</li>
<li>Criar uma chave PGP para <a href="/title/Assinatura_de_pacote" class="mw-redirect" title="Assinatura de pacote">assinatura de pacotes</a> ou usar sua chave PGP existente. Certifique-se de que a chave também contém uma subchave criptográfica de forma você possa receber tokens de verificação criptografados.</li>
<li>Enviar um e-mail assinado para Jelle van der Waa (jelle@vdwaa.nl):
<ul>
<li>Anexar uma chave pública SSH. Se você não possuir uma, use <code>ssh-keygen</code> para gerar uma. Verifique na página wiki <a href="/title/Using_SSH_Keys" class="mw-redirect" title="Using SSH Keys">Using SSH Keys</a> para mais informações sobre chaves SSH.</li>
<li>Solicitar que ele lhe dê permissão à arch-dev-public.</li>
<li>Falar para ele se você deseja um e-mail @archlinux.org.</li>
<li>Nome de usuário e endereço de e-mail preferidos cuja senha inicial deve ser enviada para ter acesso na interface dev (archweb). Se você já tem uma conta, peça para ser adicionado ao grupo de Trusted Users.</li>
</ul>
</li>
<li>Pedir a seu patrocinador (<i>sponsor</i>):
<ul>
<li>para lhe conceder o status de TU no AUR.</li>
<li>para abrir uma nova tarefa no projeto "Keyring" do rastreador de erro seguindo as instruções <a rel="nofollow" class="external text" href="https://lists.archlinux.org/pipermail/arch-dev-public/2013-September/025456.html">nesta mensagem</a> na ordem de ter sua chave PGP assinado pelos três detentores de chave mestre.</li>
</ul>
</li>
<li>Instalar o pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=devtools">devtools</a></span>.</li>
<li>
<a href="/title/Diretrizes_de_envio_ao_AUR#Autentica%C3%A7%C3%A3o" class="mw-redirect" title="Diretrizes de envio ao AUR">Configurar sua chave privada ssh</a> para os servidores <code>orion.archlinux.org</code> e <code>repos.archlinux.org</code>.</li>
<li>Testar a conexão SSH para seunome@orion.archlinux.org (assim que você tiver permissões).</li>
<li>Se você não for promovido a um grupo de Trusted User no rastreador de erro em dois dias, relate isso como um bug para arch-dev-public.</li>
<li>Começar a contribuir!</li>
</ol>
<h2><span class="mw-headline" id="O_TU_e_o_AUR">O TU e o AUR</span></h2>
<p>Os TUs deveriam também fazer um esforço para verificar o envio de pacotes no <a href="/title/AUR_(Portugu%C3%AAs)" class="mw-redirect" title="AUR (Português)">AUR</a> por códigos maliciosos e o correto seguimento dos padrões dos PKGBUILD. Em cerca de 80% dos casos, os PKGBUILDs no UNSUPPORTED são muito simples e podem ter rapidamente verificadas a sanidade e os códigos maliciosos pela equipe de TUs.
</p>
<p>Os TUs devem também verificar os PKGBUILDs por pequenos erros, sugerir correções e melhoras.  O TU deve se tentar certificar-se de que todos os pacotes sigam Arch Packaging Guidelines/Standards (Diretrizes/Padrões de Empacotamento do Arch) e ao fazer isso, compartilhar suas habilidades com outros criadores de pacotes em um esforço em criar um padrão de criação de pacotes por toda a distribuição.
</p>
<p>Os TUs também estão em uma posição de documentar práticas recomendadas.
</p>
<h3>
<span id="Reescrevendo_hist.C3.B3rico_Git"></span><span class="mw-headline" id="Reescrevendo_histórico_Git">Reescrevendo histórico Git</span>
</h3>
<p>Em alguns casos, é necessário reescrever o histórico de um repositório do AUR, por exemplo, quando um usuário inadvertidamente usa seu nome real em um commit publicado. Isso pode ser automatizado com <span class="plainlinks archwiki-template-man" title="$ man 1 git-filter-branch"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/git-filter-branch.1">git-filter-branch(1)</a></span>. 
</p>
<p>Para realizar um push forçado para um novo histórico, encaminhe a variável de ambiente <code>AUR_OVERWRITE=1</code> para o <span class="plainlinks archwiki-template-man" title="$ man 1 git-push"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/git-push.1">git-push(1)</a></span>. Veja <a rel="nofollow" class="external autonumber" href="https://gitlab.archlinux.org/archlinux/aurweb/-/commit/c5302d3a33028f483cc2e01225226d4ae047dd4a">[1]</a> para detalhes.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> É recomendado criar um backup do repositório antes de reescrever o histórico.</div>
<dl><dt>Modificar a identidade do committer ou autor</dt></dl>
<p>Use <code>git filter-branch --env-filter</code> com as <a href="/title/Vari%C3%A1veis_de_ambiente" class="mw-redirect" title="Variáveis de ambiente">variáveis de ambiente</a> <code>GIT_AUTHOR_NAME</code>, <code>GIT_AUTHOR_EMAIL</code>, <code>GIT_COMMITTER_NAME</code> and <code>GIT_COMMITTER_EMAIL</code>. Por exemplo:
</p>
<pre>git filter-branch --env-filter '
if test "$GIT_AUTHOR_EMAIL" = "lepetit@prince.com"; then
  GIT_AUTHOR_EMAIL=user@users.noreply.github.com
fi
if test "$GIT_AUTHOR_NAME" = "Antoine de Saint-Exupéry"; then
  GIT_AUTHOR_NAME=user
fi'</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> <span class="plainlinks archwiki-template-man" title="$ man 1 git-log"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/git-log.1">git-log(1)</a></span> só exibe o <i>author</i> git por padrão. Use <code>git log --pretty=fuller</code> para exibir o <i>author</i> e o <i>committer</i>.</div>
<h2>
<span id="O_TU_e_.5Bcommunity.5D.2C_Diretrizes_para_Manuten.C3.A7.C3.A3o_de_Pacotes"></span><span class="mw-headline" id="O_TU_e_[community],_Diretrizes_para_Manutenção_de_Pacotes">O TU e [community], Diretrizes para Manutenção de Pacotes</span>
</h2>
<h3>
<span id="Regras_para_a_Entrada_de_Pacotes_no_Reposit.C3.B3rio_.5Bcommunity.5D"></span><span class="mw-headline" id="Regras_para_a_Entrada_de_Pacotes_no_Repositório_[community]">Regras para a Entrada de Pacotes no Repositório [community]</span>
</h3>
<ul><li>Um pacote não pode já existir em qualquer um dos repositórios do Arch Linux. você deve tomar os cuidados necessários para se certificar que nenhum outro empacotador está no processo de promoção do mesmo pacote. Veja os comentários do pacote do AUR, leia os últimos títulos de assuntos no <a rel="nofollow" class="external text" href="https://mailman.archlinux.org/mailman/listinfo/aur-general">aur-general</a>, pesquise <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/index.php?project=0&amp;do=index&amp;switch=1">todos os projetos no rastreador de erro</a>, use <a href="https://en.wikipedia.org/wiki/Grep" class="extiw" title="wikipedia:Grep">grep</a> no <a rel="nofollow" class="external text" href="http://svnbook.red-bean.com/en/1.7/svn.ref.svn.c.log.html">log do Subversion</a> e envie uma mensagem rápida para o <a href="/title/Canal_IRC" class="mw-redirect" title="Canal IRC">canal IRC</a> privado de TUs.</li></ul>
<ul><li>
<a href="/title/Auxiliares_do_AUR#Wrappers_do_pacman" class="mw-redirect" title="Auxiliares do AUR">Wrappers do pacman</a>, como uma exceção especial, nunca serão permitidos. Se desejar adicionar um <a href="/index.php?title=Auxiliar_do_AUR&amp;action=edit&amp;redlink=1" class="new" title="Auxiliar do AUR (page does not exist)">auxiliar do AUR</a>, escreva um e-mail para <code>arch-dev-public</code> com a adição proposta e respeite as objeções fornecidas pelos membros da equipe.</li></ul>
<ul><li>Somente pacotes "populares" podem entrar no repositório, sendo definido pelo 1% de uso no <a rel="nofollow" class="external text" href="https://www.archlinux.de/?page=PackageStatistics">pkgstats</a> ou 10 votos no AUR.</li></ul>
<ul><li>Exceções automáticas a esta regra são:
<ul>
<li>pacotes de internacionalização (i18n)</li>
<li>pacotes de acessibilidade</li>
<li>drivers</li>
<li>dependências de pacotes que satisfazem a definição de populares, incluindo <b>makedeps</b> e <b>optdeps</b>
</li>
<li>pacotes que são parte de uma coleção e têm a intenção de ser distribuídos juntos, fornecendo uma parte da coleção satisfaz a definição de popular</li>
</ul>
</li></ul>
<ul><li>Quaisquer adições não cobertas por nenhum dos critérios acima devem ser propostas na lista de discussão aur-general, explicando o motivo para a dispensa (ex.: pacote renomeado, novo pacote). O acordo de três outros TUs é necessário para que o pacote seja aceito na [community]. Adições propostas por TUs com grande número de pacotes "não-populares" provavelmente serão rejeitadas.</li></ul>
<ul><li>Os TUs são incentivados a mover os pacotes mantidos do [community], se eles tiverem baixo uso. Nenhuma aplicação será necessária, apesar de que a renúncia de pacotes de TUs pode ser filtrada antes que ocorra adoção.</li></ul>
<ul><li>É uma boa prática sempre incrementar o <b>pkgrel</b> em <i>1</i> (em outras palavras, defina o para <i>n + 1</i>) ao promover um pacote do AUR. Isso é para facilitar atualizações automáticas para aqueles que já têm o pacote instalado, de forma que eles podem continuar a receber atualizações a partir do canal oficial. Um outro efeito positivo disto é que usuários não são avisados que sua cópia local é mais nova, como é o caso se um empacotador redefinir o <b>pkgrel</b> para <i>1</i>.</li></ul>
<h3>
<span id="Acessando_e_Atualizando_o_Reposit.C3.B3rio"></span><span class="mw-headline" id="Acessando_e_Atualizando_o_Repositório">Acessando e Atualizando o Repositório</span>
</h3>
<p>O repositório [community] agora usa <b>devtools</b>, que é o mesmo sistema usado para enviar pacotes para o [core] e [extra], apesar de usar outro servidor <code>nymeria.archlinux.org</code> ao invés de <code>gerolde.archlinux.org</code>. Por isso, a maioria das instruções no <a href="/title/DeveloperWiki:HOWTO_Be_A_Packager" title="DeveloperWiki:HOWTO Be A Packager">Guia do Empacotador</a> funciona sem qualquer outro comentário. Informações que são específicas para o repositório [community] (como URLs alteradas) foram inseridas aqui. O devtools exige que os empacotadores <a href="/title/Makepkg_(Portugu%C3%AAs)#Informa%C3%A7%C3%A3o_do_empacotador" title="Makepkg (Português)">definam a variável PACKAGER</a> no <code>makepkg.conf</code>.
</p>
<p>Inicialmente, você deve fazer um <b>checkout não-recursivo</b> do repositório [community]: svn checkout -N svn+ssh://svn-community@repos.archlinux.org/srv/repos/svn-community/svn svn-community
</p>
<p>Isso cria um diretório chamado "svn-community" contendo nada, além de uma pasta ".svn".
</p>
<p>Para realizar <b>checkout</b>, <b>atualizar</b> todos os pacotes ou <b>adicionar</b> um pacote, veja o <a href="/title/DeveloperWiki:HOWTO_Be_A_Packager" title="DeveloperWiki:HOWTO Be A Packager">Guia do Empacotador</a>.
</p>
<p>Para <b>remover</b> um pacote:
</p>
<pre>ssh orion.archlinux.org /community/db-remove community arch pkgname
</pre>
<p>Aqui e no texto seguinte, <i>arch</i> pode ser <i>i686</i> ou <i>x86_64</i>, que são as duas arquiteturas às quais o Arch Linux oferece suporte.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Se você está editando pacotes da arquitetura <i>any</i>, você pode executar os scripts x64 que também vão funcionar.</div>
<p>Quando você tiver finalizado a edição do PKGBUILD, etc, você deve fazer um <b>commit</b> das alterações (<code>svn commit</code>).
</p>
<p>Compile o pacote com <code>mkarchroot</code> ou os scripts auxiliares <code>extra-i686-build</code> e <code>extra-x86_64-build</code>. Se você deseja enviar para <i>testing</i>, você também precisará compilar com os scripts de teste <code>testing-i686-build</code> e <code>testing-x86_64-build</code>.
</p>
<p>Assine o pacote com <code>gpg --detach-sign *.pkg.tar.xz</code>. Se você está usando uma chave PGP diferente para assinatura de pacote, você pode adicioná-la ao <code>~/.makepkg.conf</code> com <code>GPGKEY=&lt;identifier&gt;</code>.
</p>
<p>Quando você quiser publicar (<b>release</b>) um pacote, primeiro copie o pacote junto com sua assinatura para o diretório <i>staging/community</i> no <i>orion.archlinux.org</i> usando <code>scp</code> e, então, marque (<b>tag</b>) o pacote no diretório <i>pkgname/trunk</i> e chamando <code>archrelease community-arch</code>. Isso faz uma cópia svn das entradas do trunk em um diretório chamado <i>community-i686</i> ou <i>community-x86_64</i> indicando que este pacote está no repositório <i>community</i> para aquela arquitetura. Note que o diretório <i>staging</i> é diferente do repositório <i>staging</i> e todo pacote precisa ser enviado para o diretório <i>staging</i>. Esse processo pode ser automatizado com o script <code>communitypkg</code>. Veja o resumo abaixo.
</p>
<p><i><b>Nota:</b> Em alguns casos, especialmente para pacotes do [community], um TU de x86_64 pode incrementar o pkgrel por .1 (e não por +1). Isso indica que a alteração do PKGBUILD é especificamente de x86_64 e mantenedores de i686 <b>não devem</b> recompilar o pacote para i686. Quando o TU decide incrementar o pkgrel, isso deveria ser feito com o acréscimo normal de +1. Porém, um pkgrel=2.1 anterior não deve se tornar pkgrel=3.1 quando incrementado pelo TU e deve ser pkgrel=3. Em resumo, mantenha os lançamentos com ponto (.) exclusivamente para TUs de x86_64 para evitar confusão.</i>
</p>
<p><b>Resumo da atualização de pacote:</b>
</p>
<ul>
<li>
<b>Atualizar</b> o diretório de pacote (<code>svn update algum-pacote</code>)</li>
<li>
<b>Mudar</b> para o diretório trunk do pacote (<code>cd algum-pacote/trunk</code>)</li>
<li>
<b>Editar</b> o PKGBUILD, fazer alterações necessárias, atualizar o checksums com <code>updpkgsums</code>.</li>
<li>
<b>Compilar</b> o pacote: com <code>makechrootpkg</code> ou <code>extra-i686-build</code> e <code>extra-x86_64-build</code>. É <b>obrigatório</b> compilar em um <a href="/title/DeveloperWiki:Building_in_a_clean_chroot" title="DeveloperWiki:Building in a clean chroot"><i>chroot</i> limpo</a>.</li>
<li>
<b><a href="/title/Namcap_(Portugu%C3%AAs)" title="Namcap (Português)">Namcap</a></b> no PKGBUILD e no binário <code>pkg.tar.gz</code>.</li>
<li>
<b>Commit</b>, <b>Copiar</b> e <b>Tag</b> o pacote usando <code>communitypkg "mensagem de commit"</code>.  Isso automatiza o seguinte:
<ul>
<li>Fazer <b>commit</b> das alterações no trunk: <code>svn commit</code>.</li>
<li>
<b>Assinar</b> o pacote: <code>gpg --detach-sign *.pkg.tar.xz</code>.</li>
<li>
<b>Copiar</b> o pacote e sua assinatura para <i>orion.archlinux.org</i>: <code>scp *.pkg.tar.xz *.pkg.tar.xz.sig orion.archlinux.org:staging/community/</code>.</li>
<li>Aplicar um <b>tag</b> do pacote: {{ic|archrelease community-{i686,x86_64}}}.</li>
</ul>
</li>
<li>
<b>Atualizar</b> o repositório: <code>ssh orion.archlinux.org /community/db-update</code>.</li>
</ul>
<p>Veja também a seção de <i>Miscelânia</i> no <a href="/title/DeveloperWiki:HOWTO_Be_A_Packager" title="DeveloperWiki:HOWTO Be A Packager">Guia do Empacotador</a> and <a href="/title/SSH_keys#ssh-agent" title="SSH keys">SSH keys#ssh-agent</a>. Para a seção <i>Avoid having to enter your password all the time</i> ("evite de precisar digitar sua senha toda vez"), use <i>orion.archlinux.org</i> em vez do <i>gerolde.archlinux.org</i>.
</p>
<h3><span class="mw-headline" id="Abandonando_pacotes">Abandonando pacotes</span></h3>
<p>Se um TU não pode ou não quer mais manter um pacote, um aviso deve ser postado na Lista de Discussão do AUR, para que outro TU possa mantê-lo. Um pacote pode ainda ser abandonado mesmo se nenhum outro TU quiser mantê-lo, mas os TUs devem evitar de deixar muitos pacotes soltos (eles não deveriam manter mais do que possam dar conta). Se um pacote se tornou obsoleto ou não é mais usado, ele também pode ser completamente removido.
</p>
<p>Se um pacote foi removido completamente, o mesmo pode ser enviado novamente (do zero) para o UNSUPPORTED, onde um usuário normal pode manter o pacote ao invés de um TU.
</p>
<h3>
<span id="Movendo_pacotes_do_unsupported_para_.5Bcommunity.5D"></span><span class="mw-headline" id="Movendo_pacotes_do_unsupported_para_[community]">Movendo pacotes do unsupported para [community]</span>
</h3>
<p>Siga os procedimentos normais para adição de um pacote ao [community], mas lembre-se de remover o pacote correspondente do <i>unsupported</i>!
</p>
<h3>
<span id="Movendo_pacotes_do_.5Bcommunity.5D_para_unsupported"></span><span class="mw-headline" id="Movendo_pacotes_do_[community]_para_unsupported">Movendo pacotes do [community] para unsupported</span>
</h3>
<p>Remova o pacote usando as instruções acima e envie o seu tarball fonte para o AUR.
</p>
<h3>
<span id="Movendo_pacotes_do_.5Bcommunity-testing.5D_para_.5Bcommunity.5D"></span><span class="mw-headline" id="Movendo_pacotes_do_[community-testing]_para_[community]">Movendo pacotes do [community-testing] para [community]</span>
</h3>
<pre>$ ssh repos.archlinux.org /community/db-move community-testing community &lt;pacote&gt;
</pre>
<h3><span class="mw-headline" id="Excluindo_pacotes_do_unsupported">Excluindo pacotes do unsupported</span></h3>
<p>Não há sentido em remover pacotes-modelos, porque eles serão recriados na tentativa de atender dependências. Se alguém enviar um pacote real, então todos os dependentes irão apontar para o local correto.
</p>
<h3>
<span id="Compila.C3.A7.C3.A3o_remota_no_PKGBUILD.com"></span><span class="mw-headline" id="Compilação_remota_no_PKGBUILD.com">Compilação remota no PKGBUILD.com</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> Os procedimentos a seguir invalidam o modelo Web Of Trust: um usuário com acesso root ao PKGBUILD.com poderia alterar o pacote e/ou a assinatura antes de publicá-lo.</div>
<p>Trusted Users e desenvolvedores podem se conectar ao <a rel="nofollow" class="external text" href="https://pkgbuild.com/">PKGBUILD.com</a> via SSH para, entre outros, criar pacotes usando o devtools.
Isso tem diversas vantagens sobre a configuração local:
</p>
<ul>
<li>Compilações são rápidas e a velocidade de rede é alta.</li>
<li>O ambiente precisa ser configurado apenas uma vez.</li>
<li>Seu sistema local não precisa ser Arch Linux.</li>
</ul>
<p>O processo é semelhante ao de uma configuração local com devtools. Seu GnuPG privado é necessário para assinar, mas você não quer enviá-lo para soyuz por razões óbvias de segurança. Como tal, você precisará encaminhar o soquete de agente do GnuPG de sua máquina local para o servidor: isso permitirá que você assine pacotes em soyuz sem comunicar sua chave. Isso também significa que precisamos desabilitar o agente no servidor antes de podermos executar qualquer coisa.
</p>
<p>Primeiro, conecte-se ao soyuz e desabilite-o:
</p>
<pre> $ ssh soyuz.archlinux.org
 $ systemctl --user mask gpg-agent.service
</pre>
<p>Certifique-se de que o gpg-agent não esteja em execução (<code>systemctl --user stop gpg-agent.service</code>). Neste ponto, certifique-se de que não existem soquetes na pasta apontada por <code>gpgconf --list-dir socketdir</code>. Em caso afirmativo, remova-os ou efetue o logout e novamente.
Se você tem um $GNUPGHOME personalizado (por exemplo, para movê-lo para <code>~/.config/gnupg</code>), você precisará desmarcar isso, pois não é possível no gnupg definir o homedir sem configurar o socketdir.
No soyuz, <i>StreamLocalBindUnlink yes</i> está definido no <i>sshd_config</i>, então remover os soquetes manualmente no logout não é necessário.
</p>
<p>Enquanto as chaves privadas PGP permanecem em sua máquina local, as chaves públicas <b>devem</b> estar no soyuz. Exportar sua chave público para soyuz, por exemplo da sua máquina local
</p>
<pre> $ scp ~/.gnupg/pubring.gpg soyuz.archlinux.org:~/.gnupg/pubring.gpg
</pre>
<p>O SSH é necessário para fazer <i>checkout</i> e <i>commit</i> no repositório SVN. Você pode configurar um novo par de chaves SSH no servidor (é altamente desencorajado colocar sua chave privada local no soyuz por motivos de segurança) ou reutilizar as chaves locais por meio do encaminhamento de soquete. Se você optar por este último, certifique-se de desabilitar o ssh-agent no soyuz se você o habilitou anteriormente (ele não está em execução por padrão).
</p>
<p>Configure seu ambiente de compilação no soyuz:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.makepkg.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">PACKAGER="John Doe &lt;john@doe.example&gt;"
## Opcional
PKGDEST="/home/johndoe/packages"
SRCDEST="/home/johndoe/sources"
SRCPKGDEST="/home/johndoe/srcpackages"
LOGDEST="/home/johndoe/logs"
## Se sua chave PGP não é a padrão, especifique a impressão digital correta:
GPGKEY="ABCD1234..."</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> Encaminhar seu soquete gpg-agent para uma máquina remota possibilita que qualquer pessoa com acesso root a esse sistema use suas credenciais GPG desbloqueadas. Para contornar esse problema, precisamos desabilitar o armazenamento em cache da frase secreta.</div>
<p>desabilite o cache de senha com as seguintes configurações:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">gpg-agent.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">default-cache-ttl 0
max-cache-ttl 0
</pre>
<p>Como desejaremos manter nosso agente GPG normal em execução com suas configurações atuais, executaremos outro agente GPG dedicado à tarefa em questão. Crie uma pasta <code>~/.gnupg-archlinux</code> e crie uma ligação simbólica de <code>~/.gnupg</code>, exceto <code>~/.gnupg/gpg-agent.conf</code>. Configure o novo agente GPG:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.gnupg-archlinux</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">extra-socket /home/doe/.gnupg-archlinux/S.gpg-agent.extra
default-cache-ttl 0
max-cache-ttl 0
pinentry-program /usr/bin/pinentry-gtk-2
</pre>
<p>O <code>gpg-agent-extra.socket</code> será encaminhado para PKGBUILD.com.
</p>
<p>Inicie o agente dedicado com:
</p>
<pre> $ gpg-agent --homedir ~/.gnupg-archlinux --daemon
</pre>
<p>Conecte-se com:
</p>
<pre> $ ssh -R $REMOTE_SSH_AUTH_SOCK:$SSH_AUTH_SOCK -R /run/user/$REMOTE_UID/gnupg/S.gpg-agent:/home/doe/.gnupg-archlinux/S.gpg-agent.extra soyuz.archlinux.org
</pre>
<p>ou, se estiver usando GnuPG como seu agente SSH, com:
</p>
<pre> $ ssh -R /run/user/$REMOTE_UID/gnupg/S.gpg-agent.ssh:/run/user/$LOCAL_UID/gnupg/S.gpg-agent.ssh -R /run/user/$REMOTE_UID/gnupg/S.gpg-agent:/home/doe/.gnupg-archlinux/S.gpg-agent.extra soyuz.archlinux.org
</pre>
<p>Substitua <i>$REMOTE_UID</i> e <i>$LOCAL_UID</i> pelo seu identificador de usuário como retornado por <code>id -u</code> no soyuz e localmente, respectivamente.
Se estiver usando ssh-agent, substitua <i>$REMOTE_SSH_AUTH_SOCK</i> pelo caminho para o soquete SSH no host remoto (pode ser qualquer coisa).
</p>
<p>Você pode tornar o encaminhamento permanente para esse host. Por exemplo, com gpg-agent.ssh:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.ssh/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Host soyuz.archlinux.org
  RemoteForward /run/user/$REMOTE_UID/gnupg/S.gpg-agent /run/user/$LOCAL_UID/gnupg/S.gpg-agent.extra
  RemoteForward /run/user/$REMOTE_UID/gnupg/S.gpg-agent.ssh /run/user/$LOCAL_UID/gnupg/S.gpg-agent.ssh
</pre>
<p>Novamente, substitua <i>$REMOTE_UID</i> e <i>$LOCAL_UID</i> pelos seus respectivos valores.
</p>
<p>A partir de então, o procedimento deve ser exatamente igual a uma compilação local:
</p>
<pre> $ ssh soyuz.archlinux.org
 $ svn checkout -N svn+<a rel="nofollow" class="external free" href="ssh://svn-community@repos.archlinux.org/srv/repos/svn-community/svn">ssh://svn-community@repos.archlinux.org/srv/repos/svn-community/svn</a> svn-community
 $ ...
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> pinentry-curses pode não funcionar com encaminhamento de soquete. Se ele falhar para você, tente usar um pinentry diferente.</div>
<h2><span class="mw-headline" id="Lista_de_TODO_na_retirada_de_um_Trusted_User">Lista de TODO na retirada de um Trusted User</span></h2>
<p>Quando um TU renuncia, a seguinte lista tem que ser seguida -- essas etapas não se aplicam quando um TU renuncia, mas ainda é um desenvolvedor.
</p>
<ol>
<li>Todos os pacotes empacotados pelo TU retirado devem ser resignados (portanto, recompilados). Pacotes empacotados pelo retirado podem ser localizados no Archweb <a rel="nofollow" class="external free" href="https://archlinux.org/packages/?sort=&amp;q=&amp;empacotador=%24empacotador&amp;flagged=">https://archlinux.org/packages/?sort=&amp;q=&amp;empacotador=$empacotador&amp;flagged=</a>, sendo empacotador o nome de usuário no Archweb.</li>
<li>A conta do retirado deve ser desabilitada no Archweb e adicionada ao grupo "Retired Trusted users". O retirado deve ser removido dos "Trusted Users" e as permissões de repositório devem ser reduzidas a zero.</li>
<li>O acesso shell a nossos servidores devem ser desabilitados. (especialmente repos.archlinux.org, pkgbuild.com)</li>
<li>A chave GPG deve ser removida e um novo pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=archlinux-keyring">archlinux-keyring</a></span> deve ser enviado para os repositórios. Crie um relatório de erro no projeto do chaveiro para remover as chaves dos Trusted Users retirados.</li>
<li>Remova o grupo de TU de suas contas AUR.</li>
</ol>
<h2>
<span id="Veja_tamb.C3.A9m"></span><span class="mw-headline" id="Veja_também">Veja também</span>
</h2>
<ul><li><a href="/title/DeveloperWiki#Packaging_Guidelines" class="mw-redirect" title="DeveloperWiki">Diretrizes de Empacotamento</a></li></ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="/title/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/title/Category:Package_development_(Portugu%C3%AAs)" title="Category:Package development (Português)">Package development (Português)</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=AUR_Trusted_User_Guidelines_(Portugu%C3%AAs)&amp;oldid=670313">https://wiki.archlinux.org/index.php?title=AUR_Trusted_User_Guidelines_(Português)&amp;oldid=670313</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 10 May 2021, at 19:24.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="/title/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/title/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="/title/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
