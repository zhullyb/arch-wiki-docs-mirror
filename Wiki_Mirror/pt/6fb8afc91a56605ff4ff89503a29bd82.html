<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Linux console (Português)/Keyboard configuration (Português) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Linux_console_Português_Keyboard_configuration_Português rootpage-Linux_console_Português skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Linux console (Português)/Keyboard configuration (Português)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"><span class="subpages">&lt; <a href="../pt/Linux_console.html" title="Linux console (Português)">Linux console (Português)</a></span></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Status de tradução:</strong> Esse artigo é uma tradução de <a href="../en/Linux_console/Keyboard_configuration.html" title="Linux console/Keyboard configuration">Linux console/Keyboard configuration</a>. Data da última tradução: 2020-06-30. Você pode ajudar a sincronizar a tradução, se houver <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Linux_console/Keyboard_configuration&amp;diff=0&amp;oldid=598445">alterações</a> na versão em inglês.</div>
<div class="archwiki-template-meta-related-articles-start">
<p>Artigos relacionados</p>
<ul>
<li><a href="../en/Xorg/Keyboard_configuration.html" title="Xorg/Keyboard configuration">Xorg/Keyboard configuration</a></li>
<li><a href="../en/Keyboard_input.html" title="Keyboard input">Entrada de teclado</a></li>
<li><a href="../pt/Linux_console.html#Fontes" class="mw-redirect" title="Console do Linux">Console do Linux#Fontes</a></li>
</ul>
</div>
<p>Mapeamentos de teclado (conhecido pela abreviação inglesa como <i>keymaps</i>) para <a href="https://en.wikipedia.org/wiki/Virtual_console" class="extiw" title="wikipedia:Virtual console">console virtual</a>, fontes de console e mapas de console são fornecidos pelo pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kbd">kbd</a></span> (uma dependência de <a href="../pt/Systemd.html" title="Systemd (Português)">systemd</a>), que também fornece muitas ferramentas de baixo nível para gerenciar o console virtual. Além disso, o <i>systemd</i> também fornece a ferramenta <i>localectl</i>, que pode controlar tanto o <a href="../pt/Locale.html" title="Locale (Português)">locale</a> do sistema quanto as configurações de layout do teclado para o console virtual e o Xorg.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Vendo_as_configura%C3%A7%C3%B5es_do_teclado"><span class="tocnumber">1</span> <span class="toctext">Vendo as configurações do teclado</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Mapas_de_teclado"><span class="tocnumber">2</span> <span class="toctext">Mapas de teclado</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Listando_mapas_de_teclado"><span class="tocnumber">2.1</span> <span class="toctext">Listando mapas de teclado</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Loadkeys"><span class="tocnumber">2.2</span> <span class="toctext">Loadkeys</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Configura%C3%A7%C3%A3o_persistente"><span class="tocnumber">2.3</span> <span class="toctext">Configuração persistente</span></a></li>
<li class="toclevel-2 tocsection-6">
<a href="#Criando_um_mapa_de_teclado_personalizado"><span class="tocnumber">2.4</span> <span class="toctext">Criando um mapa de teclado personalizado</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#Adicionando_diretivas"><span class="tocnumber">2.4.1</span> <span class="toctext">Adicionando diretivas</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Outros_exemplos"><span class="tocnumber">2.4.2</span> <span class="toctext">Outros exemplos</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#Salvando_altera%C3%A7%C3%B5es"><span class="tocnumber">2.4.3</span> <span class="toctext">Salvando alterações</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-10">
<a href="#Ajustando_o_atraso_e_a_taxa_de_digita%C3%A7%C3%A3o"><span class="tocnumber">3</span> <span class="toctext">Ajustando o atraso e a taxa de digitação</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Servi%C3%A7o_do_systemd"><span class="tocnumber">3.1</span> <span class="toctext">Serviço do systemd</span></a></li>
</ul>
</li>
</ul>
</div>

<h2>
<span id="Vendo_as_configura.C3.A7.C3.B5es_do_teclado"></span><span class="mw-headline" id="Vendo_as_configurações_do_teclado">Vendo as configurações do teclado</span>
</h2>
<p>Use <code>localectl status</code> para ver as configurações atuais de teclado.
</p>
<h2><span class="mw-headline" id="Mapas_de_teclado">Mapas de teclado</span></h2>
<p>Os arquivos de mapas de teclado são armazenados na árvore de diretórios <code>/usr/share/kbd/keymaps/</code>. Geralmente, um arquivo de mapa de teclado corresponde a um layout de teclado (a instrução <code>include</code> pode ser usada para compartilhar partes comuns e um arquivo de mapa de teclado pode conter vários layouts com alguma combinação de teclas usada para alternar). Para mais detalhes, veja <span class="plainlinks archwiki-template-man" title="$ man 5 keymaps"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/keymaps.5">keymaps(5)</a></span>.
</p>
<h3><span class="mw-headline" id="Listando_mapas_de_teclado">Listando mapas de teclado</span></h3>
<p>As convenções de nomenclatura dos mapas de teclado do console são um pouco arbitrárias, mas geralmente são baseadas em:
</p>
<ul>
<li>
<a href="https://en.wikipedia.org/wiki/ISO_639-1" class="extiw" title="wikipedia:ISO 639-1">Códigos de idioma</a>: sendo que código de idioma (em inglês <i>language codes</i>) é o mesmo que seu código de país (ex., <code>de</code> para alemão ou <code>fr</code> para francês).</li>
<li>
<a href="https://en.wikipedia.org/wiki/pt:C%C3%B3digo_de_pa%C3%ADs" class="extiw" title="wikipedia:pt:Código de país">Códigos de país</a>: sendo que as variações do mesmo idioma são usadas em diferentes países (ex., <code>uk</code> para inglês do Reino Unido ou <code>us</code> para inglês dos Estados Unidos); uma lista de códigos de país também pode ser encontrada em <a href="https://en.wikipedia.org/wiki/ISO_3166-1#Officially_assigned_code_elements" class="extiw" title="wikipedia:ISO 3166-1">wikipedia:ISO 3166-1#Officially assigned code elements</a>.</li>
<li>
<a href="https://en.wikipedia.org/wiki/Keyboard_layout" class="extiw" title="wikipedia:Keyboard layout">Layouts de teclado</a>: sendo que o layout não está relacionado a um país ou idioma em particular (ex., <code>dvorak</code> para o <a href="https://en.wikipedia.org/wiki/pt:Teclado_Simplificado_Dvorak" class="extiw" title="wikipedia:pt:Teclado Simplificado Dvorak">layout de teclado Dvorak</a>).</li>
</ul>
<p>Para obter uma lista de todos os mapas de teclado disponíveis, use o comando:
</p>
<pre>$ localectl list-keymaps
</pre>
<p>Para procurar um mapa de teclado, use o seguinte comando, substituindo <code><i>termo_de_pesquisa</i></code> pelo código do seu idioma, país ou layout:
</p>
<pre>$ localectl list-keymaps | grep -i <i>termo_de_pesquisa</i>
</pre>
<p>Alternativamente, usando o <i>find</i>:
</p>
<pre>$ find /usr/share/kbd/keymaps/ -type f
</pre>
<h3><span class="mw-headline" id="Loadkeys">Loadkeys</span></h3>
<p>É possível definir um mapa de teclado apenas para a sessão atual. Isso é útil para testar diferentes mapas de teclado, resolver problemas etc.
</p>
<p>A ferramenta <i>loadkeys</i> é usada para este propósito, é usada internamente pelo <a href="../pt/Systemd.html" title="Systemd (Português)">systemd</a> ao carregar o mapa de teclas configurado no <code>/etc/vconsole.conf</code>. Pode ser usado muito simplesmente para este propósito:
</p>
<pre># loadkeys <i>mapa_de_teclado</i>
</pre>
<p>Veja <span class="plainlinks archwiki-template-man" title="$ man 1 loadkeys"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/loadkeys.1">loadkeys(1)</a></span> para detalhes.
</p>
<h3>
<span id="Configura.C3.A7.C3.A3o_persistente"></span><span class="mw-headline" id="Configuração_persistente">Configuração persistente</span>
</h3>
<p>Um mapa de teclado persistente pode ser configurado em <code>/etc/vconsole.conf</code>, que é lido por <a href="../pt/Systemd.html" title="Systemd (Português)">systemd</a> na inicialização. A variável <code>KEYMAP</code> é usada para especificar o mapa de teclado. Se a variável estiver vazia ou não definida, o mapa de teclado <code>us</code> será usado como valor padrão. Veja <span class="plainlinks archwiki-template-man" title="$ man 5 vconsole.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/vconsole.conf.5">vconsole.conf(5)</a></span> para todas as opções. Por exemplo:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/vconsole.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">KEYMAP=br-abnt2
...
</pre>
<p>Por conveniência, <i>localectl</i> pode ser usado para definir o mapa de teclado do console. Ele irá alterar a variável <code>KEYMAP</code> em <code>/etc/vconsole.conf</code> e também definirá o mapa de teclado da sessão atual:
</p>
<pre>$ localectl set-keymap --no-convert <i>mapa_de_teclado</i>
</pre>
<p>A opção <code>--no-convert</code> pode ser usada para evitar que o <code>localectl</code> altere automaticamente o <a href="../en/Xorg/Keyboard_configuration.html" class="mw-redirect" title="Keyboard configuration in Xorg">mapa de teclado do Xorg</a> para a correspondência mais próxima. Veja <span class="plainlinks archwiki-template-man" title="$ man 1 localectl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/localectl.1">localectl(1)</a></span> para mais informações.
</p>
<p>Se necessário, o mapa de teclado do <code>/etc/vconsole.conf</code> pode ser carregado anteriormente no espaço de usuário pelo <a href="../pt/Mkinitcpio.html" title="Mkinitcpio (Português)">#Hooks comuns|hook do mkinitcpio</a> <code>keymap</code>.
</p>
<h3><span class="mw-headline" id="Criando_um_mapa_de_teclado_personalizado">Criando um mapa de teclado personalizado</span></h3>
<p>Ao usar o console, você pode usar teclas de atalho <i>(hotkeys)</i> para imprimir um caractere específico. Além disso, podemos também imprimir uma sequência de caracteres e algumas sequências de escape. Assim, se imprimirmos a sequência de caracteres que constituem um comando e depois um caractere de escape para uma nova linha, esse comando será executado.
</p>
<p>Um método de fazer isso é editar o arquivo de mapa de teclado. No entanto, como ele será reescrito sempre que o pacote ao qual ele pertence for atualizado, a edição desse arquivo não será incentivada. É melhor integrar o mapa de chaves existente com um mapa de teclado pessoal. O utilitário <code>loadkeys</code> pode fazer isso.
</p>
<p>Primeiro, crie um arquivo de mapa de teclado. Esse arquivo de mapa de teclado pode estar em qualquer lugar, mas um método é imitar a hierarquia de diretórios em <code>/usr/local</code>:
</p>
<pre># mkdir -p /usr/local/share/kbd/keymaps
# vim /usr/local/share/kbd/keymaps/personal.map
</pre>
<p>Como um comentário adicional, vale a pena notar que um mapa de teclado pessoal também é útil para redefinir o comportamento de teclas já tratadas pelo mapa de teclado padrão: quando carregado com <code>loadkeys</code>, as diretivas no mapa de teclado padrão serão substituídas quando eles entram em conflito com as novas diretivas e serão conservadas. Dessa forma, somente as alterações no mapa de teclas devem ser especificadas no mapa de teclado pessoal.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> Você também pode editar um mapa de teclado existente localizado na árvore de diretórios <code>/usr/share/kbd/keymaps/</code>. Os mapas de teclado têm uma extensão <i>.map.gz</i> de forma que, por exemplo, <code>us.map.gz</code> é um mapa de teclado americano. Basta copiar o mapa de teclado para <code>/usr/local/share/kbd/keymaps/personal.map.gz</code> e executar <i>gunzip</i> nele.</div>
<h4><span class="mw-headline" id="Adicionando_diretivas">Adicionando diretivas</span></h4>
<p>Dois tipos de diretivas são necessários neste mapa de teclado pessoal. Em primeiro lugar, as diretivas <a href="../en/Extra_keyboard_keys.html" title="Extra keyboard keys"><i>keycode</i></a>, que correspondem ao formato visto nos mapas de teclado padrão. Essas diretivas associam um <i>keycode</i> (código de teclas) a um <i>keysym</i> (símbolo de teclas). <i>Keysyms</i> representam ações do teclado. As ações disponíveis incluem a saída de códigos de caracteres ou sequências de caracteres, consoles de comutação ou mapas de teclado, inicialização da máquina e muitas outras ações. O mapa de teclado completo atualmente ativo pode ser obtido com
</p>
<pre># dumpkeys -l
</pre>
<p>A maioria dos <i>keysyms</i> é intuitiva. Por exemplo, para definir tecla 112 para a retornar um "e", a diretiva será:
</p>
<pre>keycode 112  = e
</pre>
<p>Para definir a tecla 112 para retornar um símbolo de euro, a diretiva será:
</p>
<pre>keycode 112 = euro
</pre>
<p>Algumas <i>keysyms</i> não são imediatamente conectadas a ações de um teclado. Em particular, as <i>keysyms</i> prefixadas por um F maiúsculo e um a três dígitos (F1-F246) constituindo um número maior que 30 estão sempre livres. Isso é útil para direcionar a <i>hotkey</i> para retornar uma sequência de caracteres e outras ações:
</p>
<pre>keycode 112 = F70
</pre>
<p>Então, F70 pode ser vinculado para retornar um texto específico:
</p>
<pre>string F70 = "Opa"
</pre>
<p>Quando a tecla 112 é pressionada, ela mostrará o conteúdo de F70. Para executar um comando impresso em um terminal, um caractere de escape de nova linha deve ser anexado ao final da string de comando. Por exemplo, para inserir um sistema na hibernação, o seguinte mapa de teclado é adicionado:
</p>
<pre>string F70 = "sudo /usr/sbin/hibernate\n"
</pre>
<h4><span class="mw-headline" id="Outros_exemplos">Outros exemplos</span></h4>
<ul><li>Para fazer a tecla Alt da Direta ser o mesmo que a tecla Alt da Esquerda (para Emacs), use a seguinte linha em seu mapa de teclado. Isso vai incluir o arquivo <code>/usr/share/kbd/keymaps/i386/include/linux-with-two-alt-keys.inc</code> – acesse-o para detalhes.</li></ul>
<pre>include "linux-with-two-alt-keys"
</pre>
<ul><li>Para trocar CapsLock com Escape (para Vim), remapeie os respectivos <i>keycodes</i>:</li></ul>
<pre>keycode 1 = Caps_Lock
keycode 58 = Escape
</pre>
<ul><li>Para fazer o CapsLock uma outra tecla Control, remapeie o respectivo <i>keycode</i>:</li></ul>
<pre>keycode 58 = Control
</pre>
<ul><li>Para trocar CapsLock com a tecla Control da Esquerda, remapeie as respectivas <i>keycodes</i>:</li></ul>
<pre>keycode 29 = Caps_Lock
keycode 58 = Control
</pre>
<h4>
<span id="Salvando_altera.C3.A7.C3.B5es"></span><span class="mw-headline" id="Salvando_alterações">Salvando alterações</span>
</h4>
<p>Para fazer uso do mapa de teclado pessoal, ele deve ser carregado com <i>loadkeys</i>:
</p>
<pre># loadkeys /usr/local/share/kbd/keymaps/personal.map
</pre>
<p>No entanto, este mapa de teclado está ativo apenas para a sessão atual. Para carregar o mapa de teclado na inicialização, especifique o caminho completo para o arquivo na variável <code>KEYMAP</code> em <a href="#Configura%C3%A7%C3%A3o_persistente">/etc/vconsole.conf</a>. O arquivo não precisa ser compactado como os mapas de teclado oficiais fornecidos pelo <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kbd">kbd</a></span>.
</p>
<h2>
<span id="Ajustando_o_atraso_e_a_taxa_de_digita.C3.A7.C3.A3o"></span><span class="mw-headline" id="Ajustando_o_atraso_e_a_taxa_de_digitação">Ajustando o atraso e a taxa de digitação</span>
</h2>
<p>O "atraso de digitação" <i>(typematic delay)</i> indica a quantidade de tempo (normalmente em milissegundos) que uma tecla precisa ser pressionada e mantida para que o processo de repetição comece. Após o processo de repetição ter sido acionado, o caractere será repetido com uma certa frequência (geralmente dada em Hz) especificada pela "taxa de digitação" <i>(typematic rate)</i>. Estes valores podem ser alterados usando o comando <i>kbdrate</i>. Observe que essas configurações são configuradas separadamente para o console virtual e <a href="../en/Xorg/Keyboard_configuration.html#Adjusting_typematic_delay_and_rate" class="mw-redirect" title="Keyboard configuration in Xorg">para o Xorg</a>.
</p>
<pre># kbdrate [-d <i>atraso</i>] [-r <i>taxa</i>]
</pre>
<p>Por exemplo, para definir um atraso de digitação para 200ms e uma taxa de digitação para 30Hz, use o seguinte comando:
</p>
<pre># kbdrate -d 200 -r 30
</pre>
<p>A emissão do comando sem especificar o atraso e a taxa vai redefinir os valores de digitação para seus respectivos padrões; um atraso de 250ms e uma taxa de 11Hz:
</p>
<pre># kbdrate
</pre>
<h3>
<span id="Servi.C3.A7o_do_systemd"></span><span class="mw-headline" id="Serviço_do_systemd">Serviço do systemd</span>
</h3>
<p>Um serviço de systemd pode ser usado para definir a taxa de teclado. Por exemplo:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/kbdrate.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Keyboard repeat rate in tty.

[Service]
Type=oneshot
RemainAfterExit=yes
StandardInput=tty
StandardOutput=tty
ExecStart=/usr/bin/kbdrate -s -d 450 -r 60
 
[Install]
WantedBy=multi-user.target
</pre>
<p>Então <a href="../pt/Systemd.html#Usando_units" class="mw-redirect" title="Inicie/habilite">inicie/habilite</a> o serviço de systemd <code>kbdrate.service</code>.
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../pt/Category:Linux_console.html" title="Category:Linux console (Português)">Linux console (Português)</a></li>
<li><a href="../pt/Category:Keyboard_configuration.html" title="Category:Keyboard configuration (Português)">Keyboard configuration (Português)</a></li>
</ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Linux_console_(Portugu%C3%AAs)/Keyboard_configuration_(Portugu%C3%AAs)&amp;oldid=623008">https://wiki.archlinux.org/index.php?title=Linux_console_(Português)/Keyboard_configuration_(Português)&amp;oldid=623008</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 30 June 2020, at 12:38.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
