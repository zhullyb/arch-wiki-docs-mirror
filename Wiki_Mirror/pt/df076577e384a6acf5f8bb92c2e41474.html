<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>VirtualBox (Português)/Install Arch Linux as a guest (Português) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-VirtualBox_Português_Install_Arch_Linux_as_a_guest_Português rootpage-VirtualBox_Português skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">VirtualBox (Português)/Install Arch Linux as a guest (Português)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"><span class="subpages">&lt; <a href="/title/VirtualBox_(Portugu%C3%AAs)" title="VirtualBox (Português)">VirtualBox (Português)</a></span></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Artigos relacionados</p>
<ul>
<li><a href="/title/VirtualBox_(Portugu%C3%AAs)" title="VirtualBox (Português)">VirtualBox</a></li>
</ul>
</div>
<div class="noprint archwiki-template-message">
<p><a href="/title/File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a><b>Este artigo ou esta seção precisa de <a href="/title/ArchWiki:Contribuindo#Traduzindo" class="mw-redirect" title="ArchWiki:Contribuindo">tradução</a>.</b><a href="/title/File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Notas:</b> Esta página foi movida de <a href="/title/VirtualBox_(Portugu%C3%AAs)" title="VirtualBox (Português)">VirtualBox</a>, mas há uma pequena falta de sincronia em relação à página em inglês <a href="/title/VirtualBox/Install_Arch_Linux_as_a_guest" title="VirtualBox/Install Arch Linux as a guest">VirtualBox/Install Arch Linux as a guest</a>. (Discuta em <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:VirtualBox_(Portugu%C3%AAs)/Install_Arch_Linux_as_a_guest_(Portugu%C3%AAs)">Talk:VirtualBox (Português)/Install Arch Linux as a guest (Português)#</a>)</div>
</div>
<p>Este artigo trata sobre a instalação do Arch Linux no <a href="/title/VirtualBox_(Portugu%C3%AAs)" title="VirtualBox (Português)">VirtualBox</a>.
</p>
<p>Inicialize a mídia de instalação do Arch por meio de uma das unidades virtuais da máquina virtual. Em seguida, conclua a instalação de um sistema Arch básico, conforme explicado no <a href="/title/Guia_de_instala%C3%A7%C3%A3o" class="mw-redirect" title="Guia de instalação">Guia de instalação</a>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Instala%C3%A7%C3%A3o_no_modo_EFI"><span class="tocnumber">1</span> <span class="toctext">Instalação no modo EFI</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Instala%C3%A7%C3%A3o_no_modo_EFI_no_VirtualBox_&lt;_6.1"><span class="tocnumber">1.1</span> <span class="toctext">Instalação no modo EFI no VirtualBox &lt; 6.1</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#Instalar_os_adicionais_para_convidado"><span class="tocnumber">2</span> <span class="toctext">Instalar os adicionais para convidado</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Definir_a_melhor_resolu%C3%A7%C3%A3o_de_framebuffer"><span class="tocnumber">3</span> <span class="toctext">Definir a melhor resolução de framebuffer</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Carregar_os_m%C3%B3dulos_de_kernel_do_VirtualBox"><span class="tocnumber">4</span> <span class="toctext">Carregar os módulos de kernel do VirtualBox</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Iniciar_os_servi%C3%A7os_de_convidados_do_VirtualBox"><span class="tocnumber">5</span> <span class="toctext">Iniciar os serviços de convidados do VirtualBox</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Acelera%C3%A7%C3%A3o_de_hardware"><span class="tocnumber">6</span> <span class="toctext">Aceleração de hardware</span></a></li>
<li class="toclevel-1 tocsection-8">
<a href="#Habilitar_pastas_compartilhadas"><span class="tocnumber">7</span> <span class="toctext">Habilitar pastas compartilhadas</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Montagem_manual"><span class="tocnumber">7.1</span> <span class="toctext">Montagem manual</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Montagem_autom%C3%A1tica"><span class="tocnumber">7.2</span> <span class="toctext">Montagem automática</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Montar_na_inicializa%C3%A7%C3%A3o"><span class="tocnumber">7.3</span> <span class="toctext">Montar na inicialização</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12">
<a href="#Solu%C3%A7%C3%A3o_de_problemas"><span class="tocnumber">8</span> <span class="toctext">Solução de problemas</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#Acesso_a_porta_serial_pelo_convidado"><span class="tocnumber">8.1</span> <span class="toctext">Acesso a porta serial pelo convidado</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Convidado_trava_ap%C3%B3s_iniciar_o_Xorg"><span class="tocnumber">8.2</span> <span class="toctext">Convidado trava após iniciar o Xorg</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Modo_tela_cheia_mostra_uma_tela_branca"><span class="tocnumber">8.3</span> <span class="toctext">Modo tela cheia mostra uma tela branca</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Convidados_Linux_t%C3%AAm_%C3%A1udio_lento/distorcido"><span class="tocnumber">8.4</span> <span class="toctext">Convidados Linux têm áudio lento/distorcido</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Arch:_script_pacstrap_falhando"><span class="tocnumber">8.5</span> <span class="toctext">Arch: script pacstrap falhando</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Hospedeiro_Windows:_VERR_ACCESS_DENIED"><span class="tocnumber">8.6</span> <span class="toctext">Hospedeiro Windows: VERR_ACCESS_DENIED</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Nenhuma_acelera%C3%A7%C3%A3o_3D_de_hardware_no_convidado_Arch_Linux"><span class="tocnumber">8.7</span> <span class="toctext">Nenhuma aceleração 3D de hardware no convidado Arch Linux</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-20">
<a href="#Problemas_conhecidos"><span class="tocnumber">9</span> <span class="toctext">Problemas conhecidos</span></a>
<ul>
<li class="toclevel-2 tocsection-21"><a href="#Recursos_de_adicionais_para_convidados_n%C3%A3o_funcionam_no_convidado_Arch"><span class="tocnumber">9.1</span> <span class="toctext">Recursos de adicionais para convidados não funcionam no convidado Arch</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Missing_vboximg-mount"><span class="tocnumber">9.2</span> <span class="toctext">Missing vboximg-mount</span></a></li>
</ul>
</li>
</ul>
</div>

<h2>
<span id="Instala.C3.A7.C3.A3o_no_modo_EFI"></span><span class="mw-headline" id="Instalação_no_modo_EFI">Instalação no modo EFI</span>
</h2>
<p>Se você deseja instalar o Arch Linux no modo EFI dentro do VirtualBox, você deve alterar o modo de firmware da máquina virtual.
</p>
<p>Para habilitar EFI para uma máquina virtual usando a interface gráfica, abra as configurações da máquina virtual, escolha o item <i>Sistema</i> no painel à esquerda e a aba <i>Placa-mãe</i> no painel direito, e marque a caixa de seleção <i>Habilitar EFI (sistemas especiais apenas)</i>.
</p>
<p>Alternativamente, o mesmo pode ser alcançado a partir da linha de comando usando <i>VBoxManage</i>:
</p>
<pre>$ VBoxManage modifyvm "<i>Nome da máquina virtual</i>" --firmware efi
</pre>
<p><code>efi</code> vai definir o firmware da máquina virtual para EFI com <a href="/title/Unified_Extensible_Firmware_Interface#UEFI_firmware_bitness" title="Unified Extensible Firmware Interface">número de bits</a> correspondendo à CPU da máquina virtual. Para obter um número de bits EFI específico, defina o firmware para <code>efi64</code> para EFI x86_64 ou <code>efi32</code> para EFI IA32.
</p>
<p>Após selecionar o kernel no menu da mídia de instalação do Arch Linux, a mídia irá travar por um minuto ou dois e continuará a inicializar o kernel normalmente depois. Seja paciente.
</p>
<p>A partir do VirtualBox 6.1, foi corrigido o problema de esquecer o conteúdo da NVRAM no desligamento. Prossiga com a instalação, como em um sistema UEFI comum.
</p>
<h3>
<span id="Instala.C3.A7.C3.A3o_no_modo_EFI_no_VirtualBox_.3C_6.1"></span><span class="mw-headline" id="Instalação_no_modo_EFI_no_VirtualBox_&lt;_6.1">Instalação no modo EFI no VirtualBox &lt; 6.1</span>
</h3>
<p>Uma vez que o sistema e o gerenciador de boot sejam instalados, o VirtualBox tentará primeiro executar <code>/EFI/BOOT/BOOTX64.EFI</code> da <a href="/title/ESP_(Portugu%C3%AAs)" class="mw-redirect" title="ESP (Português)">ESP</a>. Se essa primeira opção falhar, o VirtualBox tentará o script de shell EFI <code>startup.nsh</code> da raiz da ESP. Isso significa que, para inicializar o sistema, você tem as seguintes opções:
</p>
<ul>
<li>
<a href="/title/Unified_Extensible_Firmware_Interface#UEFI_Shell" title="Unified Extensible Firmware Interface">Iniciar o gerenciador de boot manualmente</a> do shell EFI toda vez;</li>
<li>Mover o gerenciador de boot para o caminho padrão <code>/EFI/BOOT/BOOTX64.EFI</code>;</li>
<li>Criar um script chamado <code>startup.nsh</code> na raiz da ESP contendo o caminho para o aplicativo do gerenciador de boot, p.ex., <code>\EFI\grub\grubx64.efi</code>.</li>
<li>Inicializar diretamente da partição ESP usando um <a href="/title/EFISTUB_(Portugu%C3%AAs)#Usando_um_script_startup.nsh" title="EFISTUB (Português)">script startup.nsh</a>.</li>
</ul>
<p>Nem se incomode em usar o gerenciador de boot do VirtualBox (acessível com <code>F2</code> na inicialização), pois ele é cheio de bugs e está incompleto. Ele não armazena efivars configurados interativamente. Portanto, entradas EFI adicionadas a ele manualmente no firmware (acessado com <code>F12</code> no momento da inicialização) ou com <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=efibootmgr">efibootmgr</a></span> persistirão após a reinicialização, <a rel="nofollow" class="external text" href="https://www.virtualbox.org/ticket/11177">mas são perdidas quando a VM é desligada</a>.
</p>
<p>Veja também <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=158003">UEFI Virtualbox installation boot problems</a>.
</p>
<h2><span class="mw-headline" id="Instalar_os_adicionais_para_convidado">Instalar os adicionais para convidado</span></h2>
<p>As <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch04.html">Adicionais para Convidado</a> (<i>Guest Additions</i>) do VirtualBox fornecem drivers e aplicativos que otimizam o sistema operacional convidado, incluindo resolução de imagem aprimorada e melhor controle do mouse. Dentro do sistema convidado instalado, <a href="/title/Instale" class="mw-redirect" title="Instale">instale</a>:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=virtualbox-guest-utils">virtualbox-guest-utils</a></span> e <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-vmware">xf86-video-vmware</a></span> (<a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/61183">FS#61183</a>) para utilitários de convidados do VirtualBox com suporte a X</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=virtualbox-guest-utils-nox">virtualbox-guest-utils-nox</a></span> para utilitários de convidados do VirtualBox sem suporte a X</li>
</ul>
<p>Se você estiver usando um kernel diferente do kernel <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span> padrão e mais antigo que Linux 5.6, você deve instalar o pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=virtualbox-guest-dkms">virtualbox-guest-dkms</a></span> junto com o(s) pacote(s) de headers apropriado(s) para o(s) seu(s) kernel(s) instalado(s) (p.ex., <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-lts-headers">linux-lts-headers</a></span> para <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-lts">linux-lts</a></span>). <a rel="nofollow" class="external autonumber" href="https://lists.archlinux.org/pipermail/arch-dev-public/2016-March/027808.html">[1]</a> Quando o VirtualBox ou o kernel é atualizado, os módulos do kernel serão recompilados automaticamente graças ao hook do pacman de <a href="/title/DKMS_(Portugu%C3%AAs)" class="mw-redirect" title="DKMS (Português)">DKMS</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> 
<ul>
<li>Você pode alternativamente instalar os adicionais para convidado com o ISO do pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=virtualbox-guest-iso">virtualbox-guest-iso</a></span>, desde que você o tenha instalado no sistema hospedeiro. Para fazer isso, vá para o menu do dispositivo e clique em <i>Inserir imagem de CD dos Adicionais para Convidado</i>.</li>
<li>Para recompilar os módulos de kernel do vbox, execute <code>rcvboxdrv</code> como root.</li>
</ul>
</div>
<p>Os adicionais para convidado em execução no seu convidado e o aplicativo VirtualBox em execução no seu hospedeiro devem ter versões correspondentes, caso contrário, os adicionais para convidado (como a área de transferência compartilhada) podem parar de funcionar. Se você atualizar seu convidado (por exemplo, <code>pacman -Syu</code>), verifique se o aplicativo do VirtualBox neste hospedeiro também é a versão mais recente. "Verificar por atualizações" na GUI do VirtualBox às vezes não é suficiente; verifique o site <a rel="nofollow" class="external text" href="https://www.virtualbox.org/">VirtualBox.org</a>.
</p>
<h2>
<span id="Definir_a_melhor_resolu.C3.A7.C3.A3o_de_framebuffer"></span><span class="mw-headline" id="Definir_a_melhor_resolução_de_framebuffer">Definir a melhor resolução de framebuffer</span>
</h2>
<p>Normalmente, após a instalação dos Adicionais para Convidado, um convidado Arch em tela cheia executando o X será definido para a melhor resolução para o seu monitor; no entanto, o framebuffer do console virtual será configurado para uma resolução padrão, geralmente menor, detectada pelo driver VESA personalizado do VirtualBox.
</p>
<p>Para usar os consoles virtuais na resolução ideal, o Arch precisa reconhecer essa resolução como válida, o que, por sua vez, exige que o VirtualBox passe essas informações para o sistema operacional convidado.
</p>
<p>Primeiro, verifique se sua resolução desejada já não é reconhecida executando o comando:
</p>
<pre>hwinfo --framebuffer
</pre>
<p>Se a resolução ideal não aparecer, você precisará executar a ferramenta <code>VBoxManage</code> na máquina do hospedeiro e adicionar "resoluções extras" à sua máquina virtual (em um hospedeiro Windows, vá para o diretório de instalação do VirtualBox para encontrar <code>VBoxManage.exe</code>). Por exemplo:
</p>
<pre>$ VBoxManage setextradata "Arch Linux" "CustomVideoMode1" "1360x768x24"
</pre>
<p>Os parâmetros "Arch Linux" e "1360x768x24" no exemplo acima devem ser substituídos pelo nome da sua VM e pela resolução desejada do framebuffer. Aliás, este comando permite definir até 16 resoluções extras ("CustomVideoMode1" a "CustomVideoMode16").
</p>
<p>Depois, reinicie a máquina virtual e execute <code>hwinfo --framebuffer</code> mais uma vez para verificar se as novas resoluções foram reconhecidas pelo sistema convidado (o que não garante que todas elas funcionem, dependendo das limitações de hardware).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> A partir do VirtualBox 5.2, <code>hwinfo --framebuffer</code> pode não mostrar qualquer saída, mas você ainda deve ser capaz de definir uma resolução personalizada seguindo este procedimento.</div>
<p>Finalmente, adicione um <a href="/title/Par%C3%A2metro_do_kernel" class="mw-redirect" title="Parâmetro do kernel">parâmetro do kernel</a> <code>video=<i>resolução</i></code> para definir o framebuffer para uma nova resolução, por exemplo:
</p>
<pre>video=1360x768
</pre>
<p>Além disso, você pode querer configurar seu <a href="/title/Gerenciador_de_boot" class="mw-redirect" title="Gerenciador de boot">gerenciador de boot</a> para usar a mesma resolução. Se você usa GRUB, veja <a href="/title/GRUB/Tips_and_tricks#Setting_the_framebuffer_resolution" title="GRUB/Tips and tricks">GRUB/Tips and tricks#Setting the framebuffer resolution</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Nem o parâmetro do kernel <code>vga</code> nem as configurações de resolução do gerenciador de boot (p.ex., <code>GRUB_GFXPAYLOAD_LINUX</code> do GRUB) irão corrigir o framebuffer, uma vez que eles são substituídos pelo Kernel Mode Setting. A resolução do framebuffer deve ser definida pelo parâmetro do kernel <code>video</code> como descrito acima.</div>
<h2>
<span id="Carregar_os_m.C3.B3dulos_de_kernel_do_VirtualBox"></span><span class="mw-headline" id="Carregar_os_módulos_de_kernel_do_VirtualBox">Carregar os módulos de kernel do VirtualBox</span>
</h2>
<p>Para carregar os módulos automaticamente, <a href="/title/Habilite" class="mw-redirect" title="Habilite">habilite</a> <code>vboxservice.service</code> que carrega os módulos e sincroniza a hora do sistema do convidado com o hospedeiro.
</p>
<p>Para carregar os módulos manualmente, digite:
</p>
<pre># modprobe -a vboxguest vboxsf vboxvideo
</pre>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=virtualbox-guest-dkms">virtualbox-guest-dkms</a></span> usa <code>systemd-modules-load.service</code> para carregar seus módulos quando da inicialização.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Se você não quer que os módulos do VirtualBox sejam carregados no momento da inicialização, você tem que usar <a href="/title/Mask_(Portugu%C3%AAs)" class="mw-redirect" title="Mask (Português)">mask</a> para mascarar o padrão <code>/usr/lib/modules-load.d/virtualbox-guest-dkms.conf</code> criando um arquivo vazio (ou um link simbólico para <code>/dev/null</code>) com o mesmo nome em <code>/etc/modules-load.d/</code>.</div>
<h2>
<span id="Iniciar_os_servi.C3.A7os_de_convidados_do_VirtualBox"></span><span class="mw-headline" id="Iniciar_os_serviços_de_convidados_do_VirtualBox">Iniciar os serviços de convidados do VirtualBox</span>
</h2>
<p>Após o passo de instalação bastante grande lidando com módulos de kernel do VirtualBox, agora você precisa iniciar os serviços de convidado. Os serviços de convidado são na verdade apenas um executável binário chamado <code>VBoxClient</code> que irá interagir com o seu Sistema de Janelas X. O <code>VBoxClient</code> gerencia os seguintes recursos:
</p>
<ul>
<li>área de transferência compartilhada e arrastar e soltar entre o hospedeiro e o convidado;</li>
<li>modo de janela <i>seamless</i>;</li>
<li>a exibição de convidado é automaticamente redimensionada de acordo com o tamanho da janela do convidado;</li>
<li>verificação da versão do hospedeiro VirtualBox</li>
</ul>
<p>Todos esses recursos podem ser ativados independentemente com seus flags dedicados:
</p>
<pre>$ VBoxClient --clipboard
$ VBoxClient --draganddrop
$ VBoxClient --seamless
$ VBoxClient --display
$ VBoxClient --checkhostversion
$ VBoxClient --vmsvga-x11
</pre>
<p>Observe que <code>VBoxClient</code> só pode ser chamado com um sinalizador por vez, cada chamada gerando um processo de serviço dedicado. Como um atalho, o script <code>VBoxClient-all</code> permite todos esses recursos.
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=virtualbox-guest-utils">virtualbox-guest-utils</a></span> instala <code>/etc/xdg/autostart/vboxclient.desktop</code> que inicia <code>VBoxClient-all</code> ao iniciar a sessão. Se o seu <a href="/title/Ambiente_de_desktop" class="mw-redirect" title="Ambiente de desktop">ambiente de desktop</a> ou <a href="/title/Gerenciador_de_janela" class="mw-redirect" title="Gerenciador de janela">gerenciador de janela</a> não tiver suporte a <a href="/title/XDG_Autostart_(Portugu%C3%AAs)" title="XDG Autostart (Português)">XDG Autostart</a>, você precisará configurar a inicialização automática -- veja <a href="/title/Inicializa%C3%A7%C3%A3o_autom%C3%A1tica#Na_inicializa%C3%A7%C3%A3o_de_ambiente_de_desktop" class="mw-redirect" title="Inicialização automática">Inicialização automática#Na inicialização de ambiente de desktop</a> e <a href="/title/Inicializa%C3%A7%C3%A3o_autom%C3%A1tica#Na_inicializa%C3%A7%C3%A3o_do_gerenciador_de_janela" class="mw-redirect" title="Inicialização automática">Inicialização automática#Na inicialização do gerenciador de janela</a> para mais detalhes.
</p>
<p>O VirtualBox também pode sincronizar o tempo entre o hospedeiro e o convidado, para isso, <a href="/title/Inicie/habilite" class="mw-redirect" title="Inicie/habilite">inicie/habilite</a> o <code>vboxservice.service</code>.
</p>
<p>Agora, você deve ter um convidado Arch Linux. Observe que recursos como compartilhamento de área de transferência estão desabilitados por padrão no VirtualBox, e você precisará desabilitá-los nas configurações por VM se realmente quiser usá-los (p.ex., <i>Configurações &gt; Geral &gt; Avançado &gt; Área de Transferência Compartilhada</i>).
</p>
<h2>
<span id="Acelera.C3.A7.C3.A3o_de_hardware"></span><span class="mw-headline" id="Aceleração_de_hardware">Aceleração de hardware</span>
</h2>
<p>A aceleração de hardware pode ser ativada nas opções do VirtualBox. O gerenciador de exibição <a href="/title/GDM" title="GDM">GDM</a> 3.16+ é conhecido por quebrar o suporte de aceleração de hardware. <a rel="nofollow" class="external autonumber" href="https://bugzilla.gnome.org/show_bug.cgi?id=749390">[2]</a> Então, se você tiver problemas com a aceleração de hardware, experimente outro gerenciador de exibição (o lightdm parece funcionar bem). <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=200025">[3]</a> <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?pid=1607593#p1607593">[4]</a>
</p>
<p>Se a aceleração de hardware não funcionar como esperado, tente alterar a opção <i>Controladora Gráfica</i> localizada na aba <i>Tela</i> nas opções <i>Monitor</i> das configurações da  GUI. Parece que, dependendo do tipo de GPU do hospedeiro, nem todos as controladoras emuladas funcionam igualmente bem.
</p>
<h2><span class="mw-headline" id="Habilitar_pastas_compartilhadas">Habilitar pastas compartilhadas</span></h2>
<p>Pastas compartilhadas são gerenciadas no hospedeiro, nas configurações da máquina virtual acessível através da GUI do VirtualBox, na aba <i>Pastas Compartilhadas</i>. Lá, <i> Caminho da pasta</i>, o nome do ponto de montagem identificado por <i>Nome da pasta</i> e opções como <i>Apenas para Leitura</i>, <i>Montar Automaticamente</i> e <i>Tornar Permanente</i> podem ser especificados. Esses parâmetros podem ser definidos com o utilitário de linha de comando <code>VBoxManage</code>. Consulte <a rel="nofollow" class="external text" href="https://www.virtualbox.org/manual/ch04.html#sharedfolders">para mais detalhes</a>.
</p>
<p>Não importa qual método você usará para montar sua pasta, todos os métodos requerem algumas etapas primeiro.
</p>
<p>Para evitar este problema, <code>/sbin/mount.vboxsf: mounting failed with the error: No such device</code>, certifique-se de que o módulo do kernel <code>vboxsf</code> esteja carregado corretamente. Deveria ser, já que ativamos todos os módulos do kernel do convidado anteriormente.
</p>
<p>Duas etapas adicionais são necessárias para que o ponto de montagem seja acessível a partir de usuários que não sejam root:
</p>
<ul>
<li>o pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=virtualbox-guest-utils">virtualbox-guest-utils</a></span> criou um grupo <code>vboxsf</code> (feito em uma etapa anterior);</li>
<li>seu usuário deve estar no <a href="/title/Grupo_de_usu%C3%A1rios" class="mw-redirect" title="Grupo de usuários">grupo de usuários</a> <code>vboxsf</code>.</li>
</ul>
<h3><span class="mw-headline" id="Montagem_manual">Montagem manual</span></h3>
<p>Use o seguinte comando para montar sua pasta em seu convidado Arch Linux:
</p>
<pre># mount -t vboxsf -o gid=vboxsf <i>nome_da_pasta_compartilhada</i> <i>ponto_de_montagem_em_sistema_convidado</i>
</pre>
<p>sendo que <code><i>nome_da_pasta_compartilhada</i></code> é o <i>Nome da Pasta</i> atribuído pelo hipervisor quando o compartilhamento foi criado.
</p>
<p>Se o usuário não estiver no grupo <i>vboxsf</i>, para dar acesso ao nosso ponto de montagem, podemos especificar as opções <span class="plainlinks archwiki-template-man" title="$ man 8 mount"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/mount.8">mount(8)</a></span> <code>uid=</code> e <code>gid=</code> com os valores correspondentes do usuário. Estes valores podem ser obtidos do comando <code>id</code> executado contra este usuário. Por exemplo:
</p>
<pre># mount -t vboxsf -o uid=1000,gid=1000 home /mnt
</pre>
<h3>
<span id="Montagem_autom.C3.A1tica"></span><span class="mw-headline" id="Montagem_automática">Montagem automática</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> A montagem automática requer que o <code>vboxservice.service</code> esteja <a href="/title/Habilita" class="mw-redirect" title="Habilita">habilitado</a>/<a href="/title/Inicia" class="mw-redirect" title="Inicia">iniciado</a>.</div>
<p>Para que o recurso de montagem automática funcione, você deve marcar a caixa de seleção de <i>Montagem Automática</i> na GUI ou usar o argumento opcional <code>--automount</code> com o comando <code>VBoxManage sharedfolder</code>.
</p>
<p>A pasta compartilhada agora deve aparecer como <code>/media/sf_<i>nome_da_pasta_compartilhada</i></code>. Se os usuários não puderem acessar as pastas compartilhadas, verifique se <code>/media</code> tem <a href="/title/Permiss%C3%B5es" class="mw-redirect" title="Permissões">permissões</a> <code>755</code> ou é de propriedade do grupo <code>vboxsf</code> se estiver usando permissões <code>750</code>. Atualmente, esse não é o padrão se o diretório <code>/media</code> for criada por <code>vboxservice.service</code>.
</p>
<p>Você pode usar links simbólicos para ter um acesso mais conveniente e evitar de navegar naquele diretório, p.ex.:
</p>
<pre>$ ln -s /media/sf_<i>nome_da_pasta_compartilhada</i> ~/<i>meus_documentos</i>
</pre>
<h3>
<span id="Montar_na_inicializa.C3.A7.C3.A3o"></span><span class="mw-headline" id="Montar_na_inicialização">Montar na inicialização</span>
</h3>
<p>Você pode montar seu diretório com <a href="/title/Fstab_(Portugu%C3%AAs)" title="Fstab (Português)">fstab</a>. No entanto, para evitar problemas de inicialização com o systemd, <code>noauto,x-systemd.automount</code> deve ser adicionado ao <code>/etc/fstab</code>. Dessa forma, as pastas compartilhadas são montadas somente quando esses pontos de montagem são acessados e não durante a inicialização. Isso pode evitar alguns problemas, especialmente se os adicionais para convidados não forem carregados ainda quando o systemd ler fstab e montar as partições.
</p>
<pre><i>nomePastaCompartilhada</i>  <i>/caminho/para/PontoMontagemNaMáquinaConvidado</i>  vboxsf  uid=<i>usuário</i>,gid=<i>grupo</i>,rw,dmode=700,fmode=600,noauto,x-systemd.automount
</pre>
<ul>
<li>
<code><i>nomePastaCompartilhada</i></code>: o valor do menu <i> Configurações &gt; Pastas Compartilhadas &gt; Editar &gt; Nome da Pasta</i> da máquina virtual. Esse valor pode ser diferente do nome do nome real da pasta na máquina do hospedeiro. Para ver as <i>Configurações</i> da máquina virtual, vá para o aplicativo VirtualBox do sistema do hospedeiro, selecione a máquina virtual correspondente e clique em <i>Configurações</i>.</li>
<li>
<code><i>/caminho/para/PontoMontagemNaMáquinaConvidado</i></code>: se não existir, esse diretório deve ser criado manualmente (por exemplo, usando <a href="/title/Utilit%C3%A1rios_principais#Essenciais" class="mw-redirect" title="Utilitários principais">mkdir</a>).</li>
<li>
<code>dmode</code>/<code>fmode</code> são permissões de diretório/arquivo para diretórios/arquivos dentro <code><i>/caminho/para/PontoMontagemNaMáquinaConvidado</i></code>.</li>
</ul>
<p>Até 2012-08-02, mount.vboxsf não possui suporte à opção <code>nofail</code>:
</p>
<pre><i>desktop</i>  <i>/media/desktop</i>  vboxsf  uid=<i>user</i>,gid=<i>group</i>,rw,dmode=700,fmode=600,nofail  0  0
</pre>
<h2>
<span id="Solu.C3.A7.C3.A3o_de_problemas"></span><span class="mw-headline" id="Solução_de_problemas">Solução de problemas</span>
</h2>
<h3><span class="mw-headline" id="Acesso_a_porta_serial_pelo_convidado">Acesso a porta serial pelo convidado</span></h3>
<p>Veja <a href="/title/Working_with_the_serial_console#Connect_using_a_terminal_emulator_program" title="Working with the serial console">Working with the serial console#Connect using a terminal emulator program</a>.
</p>
<h3>
<span id="Convidado_trava_ap.C3.B3s_iniciar_o_Xorg"></span><span class="mw-headline" id="Convidado_trava_após_iniciar_o_Xorg">Convidado trava após iniciar o Xorg</span>
</h3>
<p>Drivers com defeito ou em falta podem fazer com que o convidado congele após iniciar o Xorg, veja por exemplo <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?pid=1167838">[5]</a> e <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=156079">[6]</a>. Tente desativar a aceleração 3D em <i>Configurações &gt; Monitor</i> e verifique se todos os drivers <a href="/title/Xorg_(Portugu%C3%AAs)" title="Xorg (Português)">Xorg</a> estão instalados.
</p>
<h3><span class="mw-headline" id="Modo_tela_cheia_mostra_uma_tela_branca">Modo tela cheia mostra uma tela branca</span></h3>
<p>Em alguns gerenciadores de janelas (<a href="/title/I3" title="I3">i3</a>, <a href="/title/Awesome" title="Awesome">awesome</a>), o VirtualBox tem problemas com o modo de tela cheia corretamente devido à barra de sobreposição. Para solucionar esse problema, desative a opção <i>Exibir em modos Tela-Cheia/Seamless</i> em <i>Configurações do convidado &gt; Interface do usuário &gt; Minibarra de Ferramentas</i>. Veja o <a rel="nofollow" class="external text" href="https://www.virtualbox.org/ticket/14323">relatório de erros do upstream</a> para mais informações.
</p>
<h3>
<span id="Convidados_Linux_t.C3.AAm_.C3.A1udio_lento.2Fdistorcido"></span><span class="mw-headline" id="Convidados_Linux_têm_áudio_lento/distorcido">Convidados Linux têm áudio lento/distorcido</span>
</h3>
<p>O driver de áudio AC97 dentro do kernel Linux ocasionalmente adivinha as configurações erradas do relógio quando executado dentro do VirtualBox, levando a um áudio que está muito lento ou muito rápido. Para corrigir isso, crie um arquivo em <code>/etc/modprobe.d/</code> com a seguinte linha:
</p>
<pre>options snd-intel8x0 ac97_clock=48000
</pre>
<h3><span class="mw-headline" id="Arch:_script_pacstrap_falhando">Arch: script pacstrap falhando</span></h3>
<p>Se você usou <i>pacstrap</i> nas <a href="#Etapas_de_instala%C3%A7%C3%A3o_para_convidados_Arch_Linux">#Etapas de instalação para convidados Arch Linux</a><sup>[<a href="/title/Help:Procedimentos#Corrigir_links_quebrados_de_se%C3%A7%C3%B5es" class="mw-redirect" title="Help:Procedimentos">link quebrado</a>: seção inválida]</sup> para também <a href="#Instalar_os_adicionais_para_convidado">#Instalar os adicionais para convidado</a> <b>antes de</b> executar uma primeira inicialização no novo convidado, você precisa <code>umount -l /mnt/dev</code> como root antes de usar <i>pacstrap</i> novamente; uma falha em fazer isso o tornará inutilizável.
</p>
<h3><span class="mw-headline" id="Hospedeiro_Windows:_VERR_ACCESS_DENIED">Hospedeiro Windows: VERR_ACCESS_DENIED</span></h3>
<p>Para acessar a imagem não tratada VMDK em um hospedeiro Windows, execute a GUI do VirtualBox como administrador.
</p>
<h3>
<span id="Nenhuma_acelera.C3.A7.C3.A3o_3D_de_hardware_no_convidado_Arch_Linux"></span><span class="mw-headline" id="Nenhuma_aceleração_3D_de_hardware_no_convidado_Arch_Linux">Nenhuma aceleração 3D de hardware no convidado Arch Linux</span>
</h3>
<p>O pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=virtualbox-guest-utils">virtualbox-guest-utils</a></span> a partir da versão 5.2.16-2 não contém o arquivo <code>VBoxEGL.so</code>. Isso faz com que o convidado Arch Linux não tenha uma aceleração 3D adequada. Veja <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/49752">FS#49752</a>.
</p>
<p>Para lidar com esse problema, aplique o conjunto de correções em <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/49752#comment152254">FS#49752#comment152254</a>. Algumas correções no conjunto de correções são necessárias para que funcione na versão 5.2.16-2.
</p>
<h2><span class="mw-headline" id="Problemas_conhecidos">Problemas conhecidos</span></h2>
<h3>
<span id="Recursos_de_adicionais_para_convidados_n.C3.A3o_funcionam_no_convidado_Arch"></span><span class="mw-headline" id="Recursos_de_adicionais_para_convidados_não_funcionam_no_convidado_Arch">Recursos de adicionais para convidados não funcionam no convidado Arch</span>
</h3>
<p>Dependendo da sua versão do VirtualBox, alguns recursos dos adicionais para convidados não funcionam quando instalados via <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=virtualbox-guest-utils">virtualbox-guest-utils</a></span> e <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=virtualbox-guest-utils-nox">virtualbox-guest-utils-nox</a></span>. Em vez disso, use as ISO de adicionais para convidados fornecidas com o hospedeiro do VirtualBox. Enquanto o convidado estiver em execução, vá para <i>Dispositivos &gt; Inserir imagem de CD dos Adicionais para Convidado...</i>, monte o CD e execute <code>VBoxLinuxAdditions.run</code> com permissões de root.
</p>
<p>Problemas conhecidos com os adicionais para convidados fornecido no pacote:
</p>
<ul><li>
<a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=243586">Redimensionamento automático da tela do convidado</a>.</li></ul>
<h3><span class="mw-headline" id="Missing_vboximg-mount">Missing vboximg-mount</span></h3>
<p>O binário <code>vboximg-mount</code> não está empacotado no pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=virtualbox">virtualbox</a></span>. Veja <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/64961">FS#64961</a>.
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="/title/Special:Categories" title="Special:Categories">Categories</a>: <ul>
<li><a href="/title/Category:Installation_process_(Portugu%C3%AAs)" title="Category:Installation process (Português)">Installation process (Português)</a></li>
<li><a href="/title/Category:Hypervisors_(Portugu%C3%AAs)" title="Category:Hypervisors (Português)">Hypervisors (Português)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="/title/Category:Pages_or_sections_flagged_with_Template:Translateme_(Portugu%C3%AAs)" title="Category:Pages or sections flagged with Template:Translateme (Português)">Pages or sections flagged with Template:Translateme (Português)</a></li>
<li><a href="/title/Category:Pages_with_broken_section_links" title="Category:Pages with broken section links">Pages with broken section links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=VirtualBox_(Portugu%C3%AAs)/Install_Arch_Linux_as_a_guest_(Portugu%C3%AAs)&amp;oldid=670251">https://wiki.archlinux.org/index.php?title=VirtualBox_(Português)/Install_Arch_Linux_as_a_guest_(Português)&amp;oldid=670251</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 10 May 2021, at 15:55.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="/title/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/title/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="/title/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
