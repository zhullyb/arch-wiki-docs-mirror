<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Archiso (Português) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Archiso_Português rootpage-Archiso_Português skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Archiso (Português)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Status de tradução:</strong> Esse artigo é uma tradução de <a href="../en/Archiso.html" title="Archiso">Archiso</a>. Data da última tradução: 2019-11-06. Você pode ajudar a sincronizar a tradução, se houver <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Archiso&amp;diff=0&amp;oldid=586811">alterações</a> na versão em inglês.</div>
<div class="archwiki-template-meta-related-articles-start">
<p>Artigos relacionados</p>
<ul>
<li><a href="../en/Archiso.html" class="mw-redirect" title="Remastering the Install ISO">Remasterizando a ISO de Instalação</a></li>
<li><a href="../pt/Preboot_Execution_Environment.html" class="mw-redirect" title="Archiso como servidor pxe">Archiso como servidor pxe</a></li>
<li><a href="../en/Archboot.html" title="Archboot">Archboot</a></li>
<li><a href="../en/Offline_installation.html" title="Offline installation">Instalação offline</a></li>
</ul>
</div>
<p><b>Archiso</b> é um pequeno conjunto de scripts bash capazes de construir imagens em CD/DVD/USB Live totalmente funcionais do Arch Linux. É a mesma ferramenta usada para gerar as imagens oficiais, mas como é uma ferramenta muito genérica, pode ser usada para gerar qualquer coisa desde sistemas de resgate, discos de instalação, até sistemas de CD/DVD/USB Live, e quem sabe o que outro. Simplificando, se envolve Arch em uma montanha russa brilhante, pode fazê-lo. O coração e a alma de Archiso são <i>mkarchiso</i>. Todas as suas opções estão documentadas em sua saída de uso, portanto, seu uso direto não será coberto aqui. Em vez disso, este artigo da wiki funcionará como um guia para rolar sua própria mídia ao vivo em pouco tempo!
</p>
<p>Se você precisar de um detalhamento técnico dos requisitos e das etapas de criação, consulte também a <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso/tree/master/docs">documentação oficial do projeto</a>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Configura%C3%A7%C3%A3o"><span class="tocnumber">1</span> <span class="toctext">Configuração</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Configurar_a_m%C3%ADdia_live"><span class="tocnumber">2</span> <span class="toctext">Configurar a mídia live</span></a>
<ul>
<li class="toclevel-2 tocsection-3">
<a href="#Instalando_pacotes"><span class="tocnumber">2.1</span> <span class="toctext">Instalando pacotes</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#Reposit%C3%B3rio_local_personalizado"><span class="tocnumber">2.1.1</span> <span class="toctext">Repositório local personalizado</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#Impedindo_a_instala%C3%A7%C3%A3o_de_pacotes_pertencentes_ao_grupo_base"><span class="tocnumber">2.1.2</span> <span class="toctext">Impedindo a instalação de pacotes pertencentes ao grupo base</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Instalando_pacotes_do_multilib"><span class="tocnumber">2.1.3</span> <span class="toctext">Instalando pacotes do multilib</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="#Adicionando_arquivos_%C3%A0_imagem"><span class="tocnumber">2.2</span> <span class="toctext">Adicionando arquivos à imagem</span></a></li>
<li class="toclevel-2 tocsection-8">
<a href="#Gerenciador_de_boot"><span class="tocnumber">2.3</span> <span class="toctext">Gerenciador de boot</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#Secure_Boot_do_UEFI"><span class="tocnumber">2.3.1</span> <span class="toctext">Secure Boot do UEFI</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-10"><a href="#Gerenciador_de_login"><span class="tocnumber">2.4</span> <span class="toctext">Gerenciador de login</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Alterando_login_autom%C3%A1tico"><span class="tocnumber">2.5</span> <span class="toctext">Alterando login automático</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12">
<a href="#Compilando_a_ISO"><span class="tocnumber">3</span> <span class="toctext">Compilando a ISO</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#Recompilar_a_ISO"><span class="tocnumber">3.1</span> <span class="toctext">Recompilar a ISO</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Remo%C3%A7%C3%A3o_do_diret%C3%B3rio_de_trabalho"><span class="tocnumber">3.2</span> <span class="toctext">Remoção do diretório de trabalho</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#Usando_a_ISO"><span class="tocnumber">4</span> <span class="toctext">Usando a ISO</span></a></li>
<li class="toclevel-1 tocsection-16">
<a href="#Veja_tamb%C3%A9m"><span class="tocnumber">5</span> <span class="toctext">Veja também</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="#Documenta%C3%A7%C3%A3o_e_tutoriais"><span class="tocnumber">5.1</span> <span class="toctext">Documentação e tutoriais</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Exemplo_de_modelo_para_personaliza%C3%A7%C3%A3o"><span class="tocnumber">5.2</span> <span class="toctext">Exemplo de modelo para personalização</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Criando_uma_ISO_de_instala%C3%A7%C3%A3o_offline"><span class="tocnumber">5.3</span> <span class="toctext">Criando uma ISO de instalação offline</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Encontrar_uma_vers%C3%A3o_anterior_de_uma_imagem_ISO"><span class="tocnumber">5.4</span> <span class="toctext">Encontrar uma versão anterior de uma imagem ISO</span></a></li>
</ul>
</li>
</ul>
</div>

<h2>
<span id="Configura.C3.A7.C3.A3o"></span><span class="mw-headline" id="Configuração">Configuração</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Recomenda-se atuar como root em todas as etapas a seguir. Caso contrário, é muito provável que tenha problemas com permissões falsas mais tarde.</div>
<p>Antes de começar, <a href="../pt/Help:Reading.html#Instala%C3%A7%C3%A3o_de_pacotes" class="mw-redirect" title="Instale">instale</a> o pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=archiso">archiso</a></span> ou <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/archiso-git/">archiso-git</a></span><sup><small>AUR</small></sup>.
</p>
<p>O Archiso vem com dois "perfis": <i>releng</i> e <i>baseline</i>.
</p>
<ul><li>Se você deseja criar uma versão live totalmente personalizada do Arch Linux, pré-instalada com todos os seus programas e configurações favoritos, use <i>releng</i>. Esse perfil também é usado para compilar ISO oficiais do Arch Linux.</li></ul>
<ul><li>Se você quer apenas criar a mídia <i>live</i> mais básica, sem pacotes pré-instalados e uma configuração minimalista, use <i>baseline</i>.</li></ul>
<p>Agora copie o perfil de sua escolha para um diretório (<i>archlive</i>, no exemplo abaixo) onde você pode fazer ajustes e compilá-lo. Execute o seguinte, substituindo <code><b>perfil</b></code> por <code>releng</code> ou <code>baseline</code>.
</p>
<pre># cp -r /usr/share/archiso/configs/<b>perfil</b>/<i>archlive</i>
</pre>
<ul><li>Se você estiver usando o perfil <code>releng</code> para criar uma imagem totalmente personalizada, poderá prosseguir para <a href="#Configurar_a_m%C3%ADdia_live">#Configurar a mídia live</a>.</li></ul>
<ul><li>Se você estiver usando o perfil <code>baseline</code> para criar uma imagem simples ou <code>releng</code> para replicar uma ISO oficial, não precisará fazer nenhuma personalização e prosseguir para <a href="#Compilando_a_ISO">#Compilando a ISO</a>.</li></ul>
<h2>
<span id="Configurar_a_m.C3.ADdia_live"></span><span class="mw-headline" id="Configurar_a_mídia_live">Configurar a mídia live</span>
</h2>
<p>Esta seção detalha a configuração da imagem que você criará, permitindo que você defina os pacotes e as configurações que deseja que sua imagem live contenha.
</p>
<p>Dentro do diretório <code><i>archlive</i></code> criado em <a href="#Configura%C3%A7%C3%A3o">#Configuração</a>, há vários arquivos e diretórios. Estamos preocupados apenas com alguns deles, principalmente:
</p>
<ul>
<li>
<code>packages.x86_64</code> - é aqui que você lista, linha por linha, os pacotes que deseja instalar e</li>
<li>o diretório <code>airootfs</code> - esse diretório age como uma sobreposição e é onde você faz todas as personalizações.</li>
</ul>
<p>Geralmente, cada tarefa administrativa que você faria normalmente após uma nova instalação, exceto a instalação do pacote, pode ser colocada no script <code><i>archlive</i>/airootfs/root/customize_airootfs.sh</code>. Tem que ser escrito a partir da perspectiva do novo ambiente, então <code>/</code> no script significa a raiz da iso live a ser criada.
</p>
<h3><span class="mw-headline" id="Instalando_pacotes">Instalando pacotes</span></h3>
<p>Edite as listas de pacotes em <code>packages.x86_64</code> para indicar quais pacotes estão instalados na mídia live.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Se você quiser usar um <a href="../pt/Window_manager.html" class="mw-redirect" title="Gerenciador de janela">gerenciador de janela</a> no Live CD, deverá adicionar os <a href="../pt/Xorg.html#Instala%C3%A7%C3%A3o_de_driver" class="mw-redirect" title="Drivers de vídeo">drivers de vídeo</a> necessários e corretos, ou o gerenciador de janela poderá congelar durante o carregamento.</div>
<h4>
<span id="Reposit.C3.B3rio_local_personalizado"></span><span class="mw-headline" id="Repositório_local_personalizado">Repositório local personalizado</span>
</h4>
<p>Para o propósito de preparar pacotes ou pacotes personalizados a partir de <a href="../pt/Arch_User_Repository.html" class="mw-redirect" title="AUR (Português)">AUR</a> / <a href="../pt/Arch_Build_System.html" class="mw-redirect" title="ABS (Português)">ABS</a>, você também pode <a href="../pt/e746729236f459b9c753b9b9307aab6d.html#Reposit%C3%B3rio_local_personalizado" class="mw-redirect" title="Repositório local personalizado">criar um repositório local personalizado</a>.
</p>
<p>Você pode então adicionar seu repositório colocando o seguinte em <code>~/archlive/pacman.conf</code>, acima das outras entradas do repositório (para prioridade máxima):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/archlive/pacman.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
# repositório personalizado
[customrepo]
SigLevel = Optional TrustAll
Server = file:///home/<b>usuário</b>/customrepo/$arch
...</pre>
<h4>
<span id="Impedindo_a_instala.C3.A7.C3.A3o_de_pacotes_pertencentes_ao_grupo_base"></span><span class="mw-headline" id="Impedindo_a_instalação_de_pacotes_pertencentes_ao_grupo_base">Impedindo a instalação de pacotes pertencentes ao grupo base</span>
</h4>
<p>Por padrão, <code>/usr/bin/mkarchiso</code>, um script usado por <code>~/archlive/build.sh</code>, chama um dos <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=arch-install-scripts">arch-install-scripts</a></span> chamados <code>pacstrap</code> sem a opção <code>-i</code>, que faz com que o <a href="../pt/Pacman.html" title="Pacman (Português)">pacman</a> não aguardar por entrada de usuário durante o processo de instalação.
</p>
<p>Ao colocar os pacotes do grupo base na lista negra adicionando-os à linha <code>IgnorePkg</code> em <code>~/archlive/pacman.conf</code>, o <a href="../pt/Pacman.html" title="Pacman (Português)">pacman</a> pergunta se eles ainda devem ser instalados, o que significa que eles quando eles forem, a entrada do usuário é ignorada. Para se livrar desses pacotes, existem várias opções:
</p>
<ul><li>
<b>Suja</b>: Adicionar a opção <code>-i</code> a cada linha chamando <code>pacstrap</code> no <code>/usr/bin/mkarchiso</code>.</li></ul>
<ul><li>
<b>Limpa</b>: Criar uma cópia de <code>/usr/bin/mkarchiso</code> na qual você adiciona a opção e adapta <code>~/archlive/build.sh</code> de forma que ela chama a versão modificada do script mkarchiso.</li></ul>
<ul><li>
<b>Avançado</b>: Criar uma função para <code>~/archlive/build.sh</code> que remova explicitamente os pacotes após a instalação base. Isso deixaria o conforto de não ter que digitar muito durante o processo de instalação.</li></ul>
<h4><span class="mw-headline" id="Instalando_pacotes_do_multilib">Instalando pacotes do multilib</span></h4>
<p>Para instalar pacotes do repositório <a href="../pt/Official_repositories.html#multilib" class="mw-redirect" title="Multilib (Português)">multilib</a>, simplesmente remova o comentário do repositório em <code>~/archlive/pacman.conf</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">pacman.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[multilib]
SigLevel = PackageRequired
Include = /etc/pacman.d/mirrorlist</pre>
<h3>
<span id="Adicionando_arquivos_.C3.A0_imagem"></span><span class="mw-headline" id="Adicionando_arquivos_à_imagem">Adicionando arquivos à imagem</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Você deve ser root para fazer isso, não altere a propriedade de nenhum dos arquivos que você copiou, <b>tudo</b> dentro do diretório airootfs deve ser propriedade da raiz. As propriedades apropriadas serão resolvidas em breve.</div>
<p>O diretório airootfs atua como uma sobreposição, pense nele como o diretório raiz '/' em seu sistema atual, portanto, todos os arquivos que você colocar dentro deste diretório serão copiados na inicialização.
</p>
<p>Então, se você tem um conjunto de scripts do iptables em seu sistema atual que deseja usar na imagem ao vivo, copie-os da seguinte forma:
</p>
<pre># cp -r /etc/iptables ~/archlive/airootfs/etc
</pre>
<p>Colocar arquivos no diretório inicial dos usuários é um pouco diferente. Não os coloque dentro de <code>airootfs/home</code>, mas crie um diretório skel dentro de <code>airootfs/</code> e coloque-os lá. Em seguida, adicionaremos os comandos relevantes ao <code>customize_airootfs.sh</code> que usaremos para copiá-los durante a inicialização e classificar as permissões.
</p>
<p>Primeiro, cria o diretório skel:
</p>
<pre># mkdir ~/archlive/airootfs/etc/skel
</pre>
<p>Agora, copie os arquivos 'home' para o diretório skel, por exemplo, para <code>.bashrc</code>:
</p>
<pre># cp ~/.bashrc ~/archlive/airootfs/etc/skel/
</pre>
<p>Quando <code>~/archlive/airootfs/root/customize_airootfs.sh</code> é executado e um novo usuário é criado, os arquivos do diretório skel serão automaticamente copiados para a nova pasta base, com as permissões definidas corretamente.
</p>
<p>Da mesma forma, alguns cuidados são necessários para arquivos de configuração especiais que residem em algum ponto da hierarquia. Como um exemplo, o arquivo de configuração <code>/etc/X11/xinit/xinitrc</code> reside em um caminho que pode ser sobrescrito pela instalação de um pacote. Para colocar o arquivo de configuração deve-se colocar o <code>xinitrc</code> personalizado em <code>~/archlive/airootfs/etc/skel/</code> e então modificar <code>customize_airootfs.sh</code> para movê-lo adequadamente.
</p>
<h3><span class="mw-headline" id="Gerenciador_de_boot">Gerenciador de boot</span></h3>
<p>O arquivo padrão deve funcionar bem, então você não precisa tocá-lo.
</p>
<p>Devido à natureza modular do isolinux, você pode usar muitos addons, pois todos os arquivos *.c32 são copiados e disponibilizados para você. Dê uma olhada no <a rel="nofollow" class="external text" href="http://syslinux.zytor.com/wiki/index.php/SYSLINUX">site oficial do syslinux</a> e no <a rel="nofollow" class="external text" href="https://projects.archlinux.org/archiso.git/tree/configs/syslinux-">repositório git  do archiso</a><sup title="Status da última verificação: 404">[<a href="https://en.wikipedia.org/wiki/pt:Wikip%C3%A9dia:Liga%C3%A7%C3%A3o_inativa" class="extiw" title="wikipedia:pt:Wikipédia:Ligação inativa">link inativo</a> 2020-08-02 ⓘ]</sup>. Utilizando os referidos addons, é possível fazer menus visualmente atraentes e complexos. Veja <a rel="nofollow" class="external text" href="http://syslinux.zytor.com/wiki/index.php/Comboot/menu.c32">aqui</a>.
</p>
<h4><span class="mw-headline" id="Secure_Boot_do_UEFI">Secure Boot do UEFI</span></h4>
<p>Se você deseja tornar seu Archiso inicializável em um ambiente ativado pelo UEFI Secure Boot, você deve usar um gerenciador de boot assinado. Você pode seguir as instruções em <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html#Booting_an_installation_medium" class="mw-redirect" title="Secure Boot">Secure Boot#Booting an installation medium</a>.
</p>
<h3><span class="mw-headline" id="Gerenciador_de_login">Gerenciador de login</span></h3>
<p>O início do X na inicialização do sistema é feita ativando o serviço <a href="../pt/Systemd.html" title="Systemd (Português)">systemd</a> do gerenciador de login. Se você souber qual arquivo .service precisa de um link de software: Ótimo. Caso contrário, você pode descobrir facilmente caso esteja usando o mesmo programa no sistema em que você criou sua iso. Apenas use:
</p>
<pre>$ ls -l /etc/systemd/system/display-manager.service
</pre>
<p>Agora, crie o mesmo link em <code>~/archlive/airootfs/etc/systemd/system</code>. Para LXDM:
</p>
<pre># ln -s /usr/lib/systemd/system/lxdm.service ~/archlive/airootfs/etc/systemd/system/display-manager.service
</pre>
<p>Isso vai habilitar LXDM na inicialização do sistema em seu sistema live.
</p>
<p>Alternativamente, você pode simplesmente habilitar o serviço em <code>airootfs/root/customize_airootfs.sh</code> junto com outros serviços que estão habilitados lá.
</p>
<p>Se você deseja que o ambiente gráfico inicie automaticamente durante a inicialização, certifique-se de editar <code>airootfs/root/customize_airootfs.sh</code> e substituir
</p>
<pre>systemctl set-default multi-user.target
</pre>
<p>com
</p>
<pre>systemctl set-default graphical.target
</pre>
<h3>
<span id="Alterando_login_autom.C3.A1tico"></span><span class="mw-headline" id="Alterando_login_automático">Alterando login automático</span>
</h3>
<p>A configuração para o login automático do getty está localizada em <code>airootfs/etc/systemd/system/getty@tty1.service.d/autologin.conf</code>.
</p>
<p>Você pode modificar este arquivo para alterar o usuário de login automático:
</p>
<pre>[Service]
ExecStart=
ExecStart=-/sbin/agetty --autologin <b>isouser</b> --noclear %I 38400 linux
</pre>
<p>Ou remova-o completamente para desativar o login automático.
</p>
<h2><span class="mw-headline" id="Compilando_a_ISO">Compilando a ISO</span></h2>
<p>Agora você está pronto para transformar seus arquivos no .iso que você pode gravar em CD ou USB.
</p>
<p>Dentro de <code>~/archlive</code>, execute:
</p>
<pre># ./build.sh -v
</pre>
<p>O script agora baixará e instalará os pacotes que você especificou para <code>work/*/airootfs</code>, criará o kernel e iniciará as imagens, aplicará suas personalizações e, finalmente, compilará a iso em <code>out/</code>.
</p>
<h3><span class="mw-headline" id="Recompilar_a_ISO">Recompilar a ISO</span></h3>
<p>Recompilar a iso após modificações não é oficialmente suportado. No entanto, é facilmente possível através da aplicação de dois passos. Primeiro você tem que remover os arquivos de bloqueio no diretório de trabalho:
</p>
<pre># rm -v work/build.make_*
</pre>
<p>Se você editou <code>airootfs/root/customize_airootfs.sh</code> para criar um usuário sem privilégios, a recompilação falhará ao criá-lo porque o usuário já existirá (<a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/41865">FS#41865</a>). Para evitar esse problema, você precisa verificar se o usuário existe antes de executar <code>useradd</code>, por exemplo, executando <code>id</code>:
</p>
<pre>! id arch &amp;&amp; useradd -m -p "" -g users -G "adm,audio,floppy,log,network,rfkill,scanner,storage,optical,power,wheel" -s /usr/bin/zsh arch
</pre>
<p>Também remova dados persistentes, como usuários criados ou links simbólicos, como <code>/etc/sudoers</code>.
</p>
<p>As recompilações podem ser aceleradas ligeiramente editando o script pacstrap (localizado em /bin/pacstrap) e alterando o seguinte na linha 361:
</p>
<p>Antes:
</p>
<pre>if ! pacman -r "$newroot" -Sy "${pacman_args[@]}"; then
</pre>
<p>Após:
</p>
<pre>if ! pacman -r "$newroot" -Sy --needed "${pacman_args[@]}"; then
</pre>
<p>Isso aumenta a velocidade do <i>bootstrap</i> inicial, já que ele não precisa baixar e instalar nenhum dos pacotes base que já estão instalados.
</p>
<h3>
<span id="Remo.C3.A7.C3.A3o_do_diret.C3.B3rio_de_trabalho"></span><span class="mw-headline" id="Remoção_do_diretório_de_trabalho">Remoção do diretório de trabalho</span>
</h3>
<p>Os arquivos temporários são copiados para o diretório de trabalho. Se o script build.sh for interrompido, verifique se não há ligações de montagem antes de excluí-lo. Caso contrário, você poderá perder dados (por exemplo, um dispositivo externo montado em <code>/run/media/$user/$label</code> fica vinculado a <code>work/x86_64/airootfs/run/media/$user/$label</code> durante o processo de compilação).
</p>
<h2><span class="mw-headline" id="Usando_a_ISO">Usando a ISO</span></h2>
<p>Veja o artigo <a href="../pt/Installation_guide.html" class="mw-redirect" title="Guia de instalação">Guia de instalação</a> para várias opções.
</p>
<h2>
<span id="Veja_tamb.C3.A9m"></span><span class="mw-headline" id="Veja_também">Veja também</span>
</h2>
<h3>
<span id="Documenta.C3.A7.C3.A3o_e_tutoriais"></span><span class="mw-headline" id="Documentação_e_tutoriais">Documentação e tutoriais</span>
</h3>
<ul>
<li><a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso">Página do projeto Archiso</a></li>
<li><a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso/tree/master/docs">Documentação oficial</a></li>
</ul>
<h3>
<span id="Exemplo_de_modelo_para_personaliza.C3.A7.C3.A3o"></span><span class="mw-headline" id="Exemplo_de_modelo_para_personalização">Exemplo de modelo para personalização</span>
</h3>
<ul><li><a rel="nofollow" class="external text" href="http://easy.open.and.free.fr/didjix/">Uma distribuição DJ live rodando ArchLinux e compilada com Archiso</a></li></ul>
<h3>
<span id="Criando_uma_ISO_de_instala.C3.A7.C3.A3o_offline"></span><span class="mw-headline" id="Criando_uma_ISO_de_instalação_offline">Criando uma ISO de instalação offline</span>
</h3>
<ul><li><a href="../pt/Archiso_offline.html" title="Archiso offline (Português)">Archiso offline</a></li></ul>
<h3>
<span id="Encontrar_uma_vers.C3.A3o_anterior_de_uma_imagem_ISO"></span><span class="mw-headline" id="Encontrar_uma_versão_anterior_de_uma_imagem_ISO">Encontrar uma versão anterior de uma imagem ISO</span>
</h3>
<ul><li><a href="../pt/Arch_Linux_Archive.html" title="Arch Linux Archive (Português)">Arch Linux Archive</a></li></ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../pt/Category:Live_Arch_systems.html" title="Category:Live Arch systems (Português)">Live Arch systems (Português)</a></li>
<li><a href="../pt/Category:Installation_process.html" title="Category:Installation process (Português)">Installation process (Português)</a></li>
<li><a href="../pt/Category:Arch_projects.html" title="Category:Arch projects (Português)">Arch projects (Português)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Archiso_(Portugu%C3%AAs)&amp;oldid=660020">https://wiki.archlinux.org/index.php?title=Archiso_(Português)&amp;oldid=660020</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 15 April 2021, at 15:34.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
