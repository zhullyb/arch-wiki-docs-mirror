<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>PKGBUILD (Português) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-PKGBUILD_Português rootpage-PKGBUILD_Português skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">PKGBUILD (Português)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Status de tradução:</strong> Esse artigo é uma tradução de <a href="../en/PKGBUILD.html" title="PKGBUILD">PKGBUILD</a>. Data da última tradução: 2020-06-19. Você pode ajudar a sincronizar a tradução, se houver <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=PKGBUILD&amp;diff=0&amp;oldid=620652">alterações</a> na versão em inglês.</div>
<div class="archwiki-template-meta-related-articles-start">
<p>Artigos relacionados</p>
<ul>
<li><a href="../pt/Arch_package_guidelines.html" class="mw-redirect" title="Padrões de empacotamento do Arch">Padrões de empacotamento do Arch</a></li>
<li><a href="../pt/Creating_packages.html" class="mw-redirect" title="Criando pacotes">Criando pacotes</a></li>
<li><a href="../pt/.SRCINFO.html" title=".SRCINFO (Português)">.SRCINFO</a></li>
<li><a href="../pt/Arch_User_Repository.html" title="Arch User Repository (Português)">Arch User Repository</a></li>
<li><a href="../pt/Category:Package_development.html" title="Category:Package development (Português)">Category:Package development (Português)</a></li>
<li><a href="../pt/Arch_Build_System.html" title="Arch Build System (Português)">Arch Build System</a></li>
<li><a href="../pt/Makepkg.html" title="Makepkg (Português)">makepkg</a></li>
</ul>
</div>
<p>Esse artigo discute variáveis definíveis pelo mantenedor em um <code>PKGBUILD</code>. Para informações sobre funções do <code>PKGBUILD</code> e criação de pacotes em geral, veja <a href="../pt/Creating_packages.html" class="mw-redirect" title="Criando pacotes">Criando pacotes</a>. Leia também <span class="plainlinks archwiki-template-man" title="$ man 5 PKGBUILD"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/PKGBUILD.5">PKGBUILD(5)</a></span>.
</p>
<p>Um <code>PKGBUILD</code> é um script shell contendo as informações de compilação necessárias por pacotes do <a href="../pt/Arch_Linux.html" title="Arch Linux (Português)">Arch Linux</a>.
</p>
<p>Pacotes no Arch Linux são compilados usando o utilitário <a href="../pt/Makepkg.html" title="Makepkg (Português)">makepkg</a>. Quando <i>makepkg</i> é executado, ele pesquisa por um arquivo <code>PKGBUILD</code> no diretório atual e segue as instruções dele para compilar ou obter os arquivos para compilar um pacote (<code><i>pkgname</i>.pkg.tar.xz</code>). O pacote resultante contém arquivos binários e instruções de instalação, prontos para serem instalados com <a href="../pt/Pacman.html" title="Pacman (Português)">pacman</a>.
</p>
<p>Variáveis obrigatórias são <code>pkgname</code>, <code>pkgver</code>, <code>pkgrel</code> e <code>arch</code>. <code>license</code> não é estritamente necessária para compilar um pacote, mas é recomendada para qualquer <code>PKGBUILD</code> compartilhado com outras pessoas, já que <i>makepkg</i> vai produzir um aviso se não estiver presente.
</p>
<p>É uma prática comum definir as variáveis no <code>PKGBUILD</code> da mesma forma dadas aqui. Porém, isso não é obrigatório, desde que a sintaxe <a href="../en/Bash.html" title="Bash">Bash</a> correta seja usada.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> Use <a href="../pt/Namcap.html" title="Namcap (Português)">namcap</a> para verificar <code>PKGBUILD</code>s por erros comuns de empacotamento.</div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Nome_do_pacote"><span class="tocnumber">1</span> <span class="toctext">Nome do pacote</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#pkgbase"><span class="tocnumber">1.1</span> <span class="toctext">pkgbase</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#pkgname"><span class="tocnumber">1.2</span> <span class="toctext">pkgname</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4">
<a href="#Vers%C3%A3o"><span class="tocnumber">2</span> <span class="toctext">Versão</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#pkgver"><span class="tocnumber">2.1</span> <span class="toctext">pkgver</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#pkgrel"><span class="tocnumber">2.2</span> <span class="toctext">pkgrel</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#epoch"><span class="tocnumber">2.3</span> <span class="toctext">epoch</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8">
<a href="#Gen%C3%A9rica"><span class="tocnumber">3</span> <span class="toctext">Genérica</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#pkgdesc"><span class="tocnumber">3.1</span> <span class="toctext">pkgdesc</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#arch"><span class="tocnumber">3.2</span> <span class="toctext">arch</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#url"><span class="tocnumber">3.3</span> <span class="toctext">url</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#license"><span class="tocnumber">3.4</span> <span class="toctext">license</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#groups"><span class="tocnumber">3.5</span> <span class="toctext">groups</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14">
<a href="#Depend%C3%AAncias"><span class="tocnumber">4</span> <span class="toctext">Dependências</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="#depends"><span class="tocnumber">4.1</span> <span class="toctext">depends</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#optdepends"><span class="tocnumber">4.2</span> <span class="toctext">optdepends</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#makedepends"><span class="tocnumber">4.3</span> <span class="toctext">makedepends</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#checkdepends"><span class="tocnumber">4.4</span> <span class="toctext">checkdepends</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19">
<a href="#Rela%C3%A7%C3%B5es_do_pacote"><span class="tocnumber">5</span> <span class="toctext">Relações do pacote</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#provides"><span class="tocnumber">5.1</span> <span class="toctext">provides</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#conflicts"><span class="tocnumber">5.2</span> <span class="toctext">conflicts</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#replaces"><span class="tocnumber">5.3</span> <span class="toctext">replaces</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-23">
<a href="#Outros"><span class="tocnumber">6</span> <span class="toctext">Outros</span></a>
<ul>
<li class="toclevel-2 tocsection-24"><a href="#backup"><span class="tocnumber">6.1</span> <span class="toctext">backup</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#options"><span class="tocnumber">6.2</span> <span class="toctext">options</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#install"><span class="tocnumber">6.3</span> <span class="toctext">install</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#changelog"><span class="tocnumber">6.4</span> <span class="toctext">changelog</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-28">
<a href="#Fontes"><span class="tocnumber">7</span> <span class="toctext">Fontes</span></a>
<ul>
<li class="toclevel-2 tocsection-29"><a href="#source"><span class="tocnumber">7.1</span> <span class="toctext">source</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#noextract"><span class="tocnumber">7.2</span> <span class="toctext">noextract</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#validpgpkeys"><span class="tocnumber">7.3</span> <span class="toctext">validpgpkeys</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-32">
<a href="#Integridade"><span class="tocnumber">8</span> <span class="toctext">Integridade</span></a>
<ul>
<li class="toclevel-2 tocsection-33"><a href="#md5sums"><span class="tocnumber">8.1</span> <span class="toctext">md5sums</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#sha1sums"><span class="tocnumber">8.2</span> <span class="toctext">sha1sums</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#sha256sums"><span class="tocnumber">8.3</span> <span class="toctext">sha256sums</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#sha224sums,_sha384sums,_sha512sums"><span class="tocnumber">8.4</span> <span class="toctext">sha224sums, sha384sums, sha512sums</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#b2sums"><span class="tocnumber">8.5</span> <span class="toctext">b2sums</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-38"><a href="#Veja_tamb%C3%A9m"><span class="tocnumber">9</span> <span class="toctext">Veja também</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Nome_do_pacote">Nome do pacote</span></h2>
<h3><span class="mw-headline" id="pkgbase">pkgbase</span></h3>
<p>Ao compilar pacotes comuns, esta variável não deve ser explicitamente declarada no <code>PKGBUILD</code>: seu valor é padronizado para o do <a href="#pkgname">#pkgname</a>.
</p>
<p>Ao criar um <a rel="nofollow" class="external text" href="https://man.archlinux.org/man/PKGBUILD.5#PACKAGE_SPLITTING">pacote dividido</a> (<i>split package</i>, em inglês), essa variável pode ser usada para especificar explicitamente o nome a ser usado para se referir ao grupo de pacotes na saída de <i>makepkg</i> e na nomeação de tarballs somente de origem. O valor não é permitido para começar com um hífen. Se não for especificado, o valor será o padrão para o primeiro elemento no vetor <code>pkgname</code>.
</p>
<p>Todas opções e diretivas para pacotes divididos têm como padrão os valores globais definidos no <code>PKGBUILD</code>. Mesmo assim, os seguintes podem ser sobrescritos dentro de cada função de empacotameto do pacote dividido: <a href="#pkgdesc">#pkgdesc</a>, <a href="#arch">#arch</a>, <a href="#url">#url</a>, <a href="#license">#license</a>, <a href="#groups">#groups</a>, <a href="#depends">#depends</a>, <a href="#optdepends">#optdepends</a>, <a href="#provides">#provides</a>, <a href="#conflicts">#conflicts</a>, <a href="#replaces">#replaces</a>, <a href="#backup">#backup</a>, <a href="#options">#options</a>, <a href="#install">#install</a> e <a href="#changelog">#changelog</a>.
</p>
<h3><span class="mw-headline" id="pkgname">pkgname</span></h3>
<p>O nome do pacote (por exemplo, <code>pkgname='foo'</code>) ou, para pacotes divididos, um vetor de nomes (por exemplo, <code>pkgname=('foo' 'bar')</code>). Nomes não podem iniciar com hífenes. Por uma questão de consistência, <code>pkgname</code> deve corresponder ao nome do tarball fonte do software: por exemplo, se o software está em <code>foobar-2.5.tar.gz</code>, use <code>pkgname=foobar</code>.
</p>
<h2>
<span id="Vers.C3.A3o"></span><span class="mw-headline" id="Versão">Versão</span>
</h2>
<h3><span class="mw-headline" id="pkgver">pkgver</span></h3>
<p>A versão do pacote. Ela deve ser a mesma que a versão publicada pelo autor do software <i>upstream</i>. Ela pode conter letras, números, pontos e sublinhados, mas <b>não</b> um hífen (<code>-</code>). Se o autor do software usa um hífen, substitua-o com um sublinhado (<code>_</code>). Se a variável <code>pkgver</code> é usada posteriormente no <code>PKGBUILD</code>, então o sublinhado pode ser facilmente substituído por um hífen, ex.: <code>source=("$pkgname-${pkgver//_/-}.tar.gz")</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Se o <i>upstream</i> usa um versionamento com marca de tempo como <code>30102014</code>, certifique-se de usar a data reversa, i.e. <code>20141030</code> (formato <a href="https://en.wikipedia.org/wiki/pt:ISO_8601" class="extiw" title="wikipedia:pt:ISO 8601">ISO 8601</a>). Do contrário, ela não aparecerá como uma versão mais nova</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> 
<ul>
<li>A ordem de valores incomuns pode ser testada com <a rel="nofollow" class="external text" href="https://archlinux.org/pacman/vercmp.8.html">vercmp</a>, que é fornecido pelo pacote <a href="../pt/Pacman.html" title="Pacman (Português)">pacman</a>.</li>
<li>
<a href="../pt/Makepkg.html" title="Makepkg (Português)">makepkg</a> pode <a rel="nofollow" class="external text" href="http://allanmcrae.com/2013/04/pacman-4-1-released/">atualizar</a> automaticamente essa variável definindo uma função <code>pkgver()</code> no <code>PKGBUILD</code>. Veja <a href="../pt/VCS_package_guidelines.html#A_fun%C3%A7%C3%A3o_pkgver()" class="mw-redirect" title="Diretrizes de pacotes VCS">Diretrizes de pacotes VCS#A função pkgver()</a> para detalhes.</li>
</ul>
</div>
<h3><span class="mw-headline" id="pkgrel">pkgrel</span></h3>
<p>O número de lançamento. Geralmente é um número inteiro positivo que permite diferenciar entre compilações consecutivas da mesma versão de um pacote. Na medida em que correções e funcionalidades adicionais são adicionadas ao <code>PKGBUILD</code> que influencie no pacote resultante, <code>pkgrel</code> deve ser incrementado em 1. Quando uma nova versão do software é lançada, esse valor deve ser redefinido para 1. Em casos excepcionais, outros formatos podem ser encontrados em uso, como em <i>maior.menor</i>.
</p>
<h3><span class="mw-headline" id="epoch">epoch</span></h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> <code>epoch</code> só deve ser usado quando absolutamente necessário.</div>
<p>Usado para forçar o pacote a ser visto como mais novo do que uma versão anterior com um <i>epoch</i> menor. Esse valor tem que ser um inteiro não negativo; o padrão é 0. É usado quando o esquema de numeração de versão de um pacote muda (ou é alfanumérico), quebrando a lógica de comparação de versão normal. Por exemplo:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">pkgver=5.13
pkgrel=2
epoch=1</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">1:5.13-2</pre>
<p>Veja <span class="plainlinks archwiki-template-man" title="$ man 8 pacman"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pacman.8">pacman(8)</a></span> para mais informações sobre comparações de versão.
</p>
<h2>
<span id="Gen.C3.A9rica"></span><span class="mw-headline" id="Genérica">Genérica</span>
</h2>
<h3><span class="mw-headline" id="pkgdesc">pkgdesc</span></h3>
<p>A descrição do pacote. É recomendado no máximo 80 caracteres e não deve incluir o nome do pacote em uma forma autorreferenciativa, a menos que o nome do aplicativo seja diferente do nome do pacote. Por exemplo, use <code>pkgdesc="Text editor for X11"</code> em vez de <code>pkgdesc="Nedit is a text editor for X11"</code>.
</p>
<p>Também é importante usar palavras-chaves com sabedoria para aumentar as chances de aparecer em consultas de pesquisas relevantes.
</p>
<h3><span class="mw-headline" id="arch">arch</span></h3>
<p>Um vetor de arquiteturas nas quais o <code>PKGBUILD</code> deve poder ser compilado e funcionar. Arch oferece suporte oficialmente apenas <code>x86_64</code>, mas outros projetos podem oferecer suporte a outras arquiteturas. Por exemplo, <a rel="nofollow" class="external text" href="https://archlinux32.org/">Arch Linux 32</a> fornece suporte a <code>i686</code> <a rel="nofollow" class="external text" href="http://archlinuxarm.org/">Arch Linux ARM</a> forense suporte a <code>arm</code> (armv5), <code>armv6h</code> (armv6 hardfloat), <code>armv7h</code> (armv7 hardfloat) e <code>aarch64</code> (armv8 64-bit).
</p>
<p>Há dois tipos de valores que o vetor pode usar:
</p>
<ul><li>
<code>arch=('any')</code> indica que o pacote pode ser compilado em uma arquitetura e, após compilado, independe da arquitetura em seu estado compilado (shell scripts, fontes, ema, muitos tipos de extensões etc.).</li></ul>
<ul><li>
<code>arch=('x86_64')</code> com uma ou mais arquiteturas indica que o pacote pode ser compilado para qualquer uma das arquiteturas especificadas, mas é específico da arquitetura depois de compilado. Para esses pacotes, especifique todas as arquiteturas as quais o <code>PKGBUILD</code> oficialmente possui suporte. Para repositórios oficiais e pacotes AUR, isso significa <i>x86_64</i>. Opcionalmente, os pacotes AUR podem optar por ter suporte adicional a outras arquiteturas que sabe-se que funcionam.</li></ul>
<p>A arquitetura alvo pode ser acessada com a variável <code>$CARCH</code> durante uma compilação.
</p>
<h3><span class="mw-headline" id="url">url</span></h3>
<p>A URL do site oficial do software sendo empacotado.
</p>
<h3><span class="mw-headline" id="license">license</span></h3>
<p>A licença sob a qual o software é distribuído. O pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=licenses">licenses</a></span> (uma dependência do <a href="../pt/Meta_package_and_package_group.html#Diferen%C3%A7a_entre_um_metapacote_e_um_grupo_de_pacotes" class="mw-redirect" title="Metapacote">metapacote</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span>) contém muitas licenças comumente usadas, que são instaladas em <code>/usr/share/licenses/common</code>. Se um pacote é licenciado sob uma dessas licenças, o valor deve ser definido para o nome do diretório (ex.: <code>license=('GPL')</code>). Se a licença adequada não estiver incluída, diversas coisas devem ser feitas:
</p>
<ol>
<li>Adicione <code>custom</code> ao vetor <code>license</code>. Opcionalmente, você pode substituir <code>custom</code> com <code>custom:<i>nome da licença</i></code>. Uma vez que uma licença é usada em dois ou mais pacotes em um repositório oficial (incluindo <a href="../pt/Official_repositories.html#community" class="mw-redirect" title="Repositório community">repositório community</a>), ela se torna parte do pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=licenses">licenses</a></span>.</li>
<li>Instale a licença em: <code>/usr/share/licenses/<i>pkgname</i>/</code> (ex.: <code>/usr/share/licenses/foobar/LICENSE</code>). Uma boa forma de fazer isso é usando: <pre>install -Dm644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"</pre>
</li>
<li>Se a licença é encontrada apenas em um site, então você precisa incluí-la separadamente no pacote.</li>
</ol>
<ul>
<li>As licenças <a href="https://en.wikipedia.org/wiki/pt:Licen%C3%A7a_BSD" class="extiw" title="wikipedia:pt:Licença BSD">BSD</a>, <a href="https://en.wikipedia.org/wiki/pt:Licen%C3%A7a_ISC" class="extiw" title="wikipedia:pt:Licença ISC">ISC</a>, <a href="https://en.wikipedia.org/wiki/pt:Licen%C3%A7a_MIT" class="extiw" title="wikipedia:pt:Licença MIT">MIT</a>, <a href="https://en.wikipedia.org/wiki/pt:Licen%C3%A7a_zlib" class="extiw" title="wikipedia:pt:Licença zlib">zlib/png</a>, <a href="https://en.wikipedia.org/wiki/pt:Python" class="extiw" title="wikipedia:pt:Python">Python</a> e <a href="https://en.wikipedia.org/wiki/SIL_Open_Font_License" class="extiw" title="wikipedia:SIL Open Font License">OFL</a> são casos especiais e não podem ser incluídos no pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=licenses">licenses</a></span>. Para manter a consistência no vetor <code>license</code>, é tratado como licença comum (<code>license=('BSD')</code>, <code>license=('ISC')</code>, <code>license=('MIT')</code>, <code>license=('ZLIB')</code>, <code>license=('Python')</code> e <code>license=('OFL')</code>), mas tecnicamente cada uma é uma licença personalizada, porque cada uma possui sua própria linha de copyright. Qualquer pacote licenciado sob essas cinco devem ter um arquivo de licença única armazenada em <code>/usr/share/licenses/<i>pkgname</i></code>.</li>
<li>Alguns pacotes podem não estar cobertos por uma única licença. Nestes casos, múltiplas entradas podem ser feitas no vetor <code>license</code> como, por exemplo, <code>license=('GPL' "custom:<i>nome da licença</i>")</code>.</li>
<li>(L)GPL possui muitas verões e permutações daquelas versões. Para softwares sob (L)GPL, a convenção é:
<ul>
<li>(L)GPL — (L)GPLv2 ou qualquer versão posterior</li>
<li>(L)GPL2 — (L)GPL2 apenas</li>
<li>(L)GPL3 — (L)GPL3 ou qualquer versão posterior</li>
</ul>
</li>
<li>Se após pesquisar a questão nenhuma licença puder ser determinada, <a rel="nofollow" class="external text" href="https://projects.archlinux.org/pacman.git/tree/proto/PKGBUILD.proto">PKGBUILD.proto</a> sugere <code>unknown</code>. Porém, o <i>upstream</i> deve ser contatado sobre as condições sob as quais o software está (e não está) disponível.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> Alguns autores de software não fornecem arquivo de licença separados e descrevem regras de distribuição em uma seção de <code>ReadMe.txt</code> comum. Essa informação pode ser extraída para um arquivo separado durante a <code>build()</code> com alguma coisa como <code>sed -n '/<b>This software</b>/,/<b>  thereof.</b>/p' ReadMe.txt &gt; LICENSE</code>
</div>
<p>Veja também <a href="../pt/Nonfree_applications_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes de aplicativos não livres">Diretrizes de pacotes de aplicativos não livres</a> (<i>nonfree</i>).
</p>
<p>Informações e perspectivas adicionais sobre licenças de software aberto e livre podem ser encontradas nas seguintes páginas:
</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/pt:Licen%C3%A7a_de_software_livre" class="extiw" title="wikipedia:pt:Licença de software livre">Wikipedia:pt:Licença de software livre</a></li>
<li><a href="https://en.wikipedia.org/wiki/Comparison_of_free_and_open-source_software_licenses" class="extiw" title="wikipedia:Comparison of free and open-source software licenses">Wikipedia:Comparison of free and open-source software licenses</a></li>
<li><a rel="nofollow" class="external text" href="https://www.softwarefreedom.org/resources/2008/foss-primer.html">A Legal Issues Primer for Open Source and Free Software Projects</a></li>
<li><a rel="nofollow" class="external text" href="https://www.gnu.org/licenses/license-list.html">Projeto GNU - Várias licenças e comentários sobre elas</a></li>
<li><a rel="nofollow" class="external text" href="https://www.debian.org/legal/licenses/">Debian - License information</a></li>
<li><a rel="nofollow" class="external text" href="http://www.opensource.org/licenses/alphabetical">Open Source Initiative - Licenses by Name</a></li>
</ul>
<h3><span class="mw-headline" id="groups">groups</span></h3>
<p>O <a href="../pt/Meta_package_and_package_group.html" class="mw-redirect" title="Grupo de pacotes">grupo</a> ao qual o pacote pertence. Por exemplo, ao instalar o <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/plasma/">plasma</a></span>, ele instala todos os pacotes pertencentes àquele grupo.
</p>
<h2>
<span id="Depend.C3.AAncias"></span><span class="mw-headline" id="Dependências">Dependências</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Vetores extras específicos por arquitetura podem ser adicionados anexando um sublinhado e o nome da arquitetura. Por exemplo: <code>optdepends_x86_64=()</code>.
</div>
<h3><span class="mw-headline" id="depends">depends</span></h3>
<p>Um vetor de pacotes que devem ser instalados para o software compilar <b>e</b> executar. Dependências definidas dentro da função <code>package()</code> são necessárias apenas para executar o software.
</p>
<p>Restrições de versões podem ser especificadas com operadores de comparação, como, por exemplo, <code>depends=('foobar&gt;=1.8.0')</code>; se múltiplas restrições forem necessárias, a dependência pode ser repetida para cada uma, como, por exemplo, <code>depends=('foobar&gt;=1.8.0' 'foobar&lt;2.0.0')</code>.
</p>
<p>O vetor <code>depends</code> deve listar todas as dependências diretas de primeiro nível, mesmo quando algumas já são declaradas transitivamente. Por exemplo, se um pacote <i>foo</i> depende de tanto <i>bar</i> quanto <i>baz</i>, e o pacote <i>bar</i> depende de <i>baz</i> também, acabará levando a um comportamento indesejado se <i>bar</i> parar de depender de <i>baz</i>. O pacman não aplicará a instalação de <i>baz</i> em sistemas que instalaram recentemente o pacote <i>foo</i> ou limparam pacotes órfãos, e o <i>foo</i> falhará durante a execução ou se comportará mal.
</p>
<p>Em alguns casos, isso não é necessário e pode ou não estar listado, por exemplo, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glibc">glibc</a></span> não pode ser desinstalado, pois todo sistema precisa de alguma biblioteca C ou <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=python">python</a></span> para um pacote que já depende de outro módulo <i>python-</i>, pois o segundo módulo deve, por definição, depender de <i>python</i> e não pode parar de puxá-lo como uma dependência.
</p>
<p>As dependências normalmente devem incluir os requisitos para criar todos os recursos opcionais de um pacote. Como alternativa, qualquer recurso cujas dependências não estejam incluídas deve ser explicitamente desabilitado por meio de uma opção de configuração. A falha em fazer isso pode levar a pacotes com recursos opcionais em tempo de compilação por "<a rel="nofollow" class="external text" href="https://wiki.gentoo.org/wiki/Project:Quality_Assurance/Automagic_dependencies">dependências automágicas</a>" que são imprevisivelmente ativados devido a dependências transitivas ou softwares não relacionados instalados na máquina de compilação, mas que não são refletidas nas dependências do pacote.
</p>
<p>Se o nome da dependência parece ser uma biblioteca, como, por exemplo, <code>depends=('libfoobar.so')</code>, makepkg vai tentar localizar um binário que depende da biblioteca no pacote compilado e anexar a versão de soname necessária pelo binário. Anexar você mesmo a versão desabilita a detecção automática, como, por exemplo, <code>depends=('libfoobar.so=2')</code>.
</p>
<h3><span class="mw-headline" id="optdepends">optdepends</span></h3>
<p>Um vetor de pacotes que não são necessários pelo software para funcionar, mas fornecem funcionalidades adicionais. Isso pode implicar em nem todos os executáveis fornecidos por um pacote funcionarem sem a respectiva <i>optdepends</i>. <a rel="nofollow" class="external autonumber" href="https://lists.archlinux.org/pipermail/arch-general/2014-December/038124.html">[1]</a> Se o software funciona em múltiplas dependências alternativas, todas elas podem ser listadas aqui, em vez de no vetor <code>depends</code>.
</p>
<p>Uma descrição curta da funcionalidade extra de cada <i>optdepend</i> também deve ser anotado:
</p>
<pre>optdepends=('cups: printing support'
            'sane: scanners support'
            'libgphoto2: digital cameras support'
            'alsa-lib: sound support'
            'giflib: GIF images support'
            'libjpeg: JPEG images support'
            'libpng: PNG images support')
</pre>
<h3><span class="mw-headline" id="makedepends">makedepends</span></h3>
<p>Um vetor de pacotes que são necessários <b>apenas</b> para compilar o software. A versão mínima de dependência pode ser especificada no mesmo formato que no vetor <code>depends</code>. Os pacotes no vetor <code>depends</code> são implicitamente necessários para compilar o pacote, então eles não devem ser duplicados aqui.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> O comando a seguir pode ser usado para verificar se um pacote em particular está no grupo <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/base-devel/">base-devel</a></span> ou é obtido por um membro do grupo:
<pre>$ LC_ALL=C pacman -Si $(pactree -rl ''pacote'') 2&gt;/dev/null | grep -q "^Groups *:.*base-devel"
</pre>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Presume-se que o grupo <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/base-devel/">base-devel</a></span> já esteja instalado ao compilar com <i>makepkg</i>. Membros deste grupo <b>não devem</b> ser incluídos no vetor <code>makedepends</code>.</div>
<h3><span class="mw-headline" id="checkdepends">checkdepends</span></h3>
<p>Um vetor de pacotes dos quais o software depende para executar sua suíte de testes, mas que não são necessários em tempo de execução. Pacotes nesta lista seguem o mesmo formato que <code>depends</code>. Essas dependências são consideradas apenas quando a função <a href="../pt/Creating_packages.html#check()" class="mw-redirect" title="Criando pacotes">check()</a> estiver presente e for ser executada pelo makepkg. 
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Presume-se que o grupo <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/base-devel/">base-devel</a></span> já esteja instalado ao compilar com <i>makepkg</i>. Membros deste grupo <b>não devem</b> ser incluídos no vetor <code>checkdepends</code>.</div>
<h2>
<span id="Rela.C3.A7.C3.B5es_do_pacote"></span><span class="mw-headline" id="Relações_do_pacote">Relações do pacote</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Vetores extras específicos por arquitetura podem ser adicionados anexando um sublinhado e o nome da arquitetura. Por exemplo: <code>conflicts_x86_64=()</code>.</div>
<h3><span class="mw-headline" id="provides">provides</span></h3>
<p>Um vetor de pacotes adicionais dos quais o software fornece as funcionalidades (ou um pacote virtual como o <code>cron</code> ou <code>sh</code>). Pacotes fornecendo o mesmo item podem ser instalados lado a lado, a menos que um deles use um vetor <code>conflicts</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> A versão que aquele pacote fornece deve ser mencionada (<code>pkgver</code> e potencialmente o <code>pkgrel</code>), no caso de pacotes referenciando software que exigem uma. Por exemplo, um pacote modificado do <i>qt</i> na versão 3.3.8, chamado <i>qt-foobar</i>, deve usar <code>provides=('qt=3.3.8')</code>; omitir o número de versão causaria as dependências a exigir uma versão específica do <i>qt</i> falharia. Não adicione <code>pkgname</code> ao vetor <code>provides</code>, pois isso é feito automaticamente.</div>
<h3><span class="mw-headline" id="conflicts">conflicts</span></h3>
<p>Um vetor de pacotes que conflitam com, ou causa problemas com o pacote, se instalado. Todos esses pacotes e pacotes fornecendo este item precisarão ser removidos. As propriedades da versão dos pacotes conflitantes também podem ser especificados no mesmo formato que o vetor <code>depends</code>.
</p>
<p>Isso significa que quando você escreve um pacote para o qual uma versão alternativa está disponível (esteja ela nos pacotes oficiais ou no <a href="../pt/Arch_User_Repository.html" class="mw-redirect" title="AUR (Português)">AUR</a> e seu pacote conflita com aquela versão, você também precisa colocar as outras versões em seu vetor <code>conflicts</code>.
</p>
<p>No entanto, há uma exceção a essa regra. Definir pacotes conflitantes em todas as direções nem sempre é aplicável, especialmente se todos esses pacotes forem mantidos por pessoas diferentes. De fato, ter que entrar em contato com todos os mantenedores de pacotes de pacotes em conflito com sua própria versão e pedir que eles incluam o nome do seu pacote em seu vetor <code>conflicts</code> é um processo complicado.
</p>
<p>É por isso que, neste contexto, se seu pacote fornece <code>provides</code> um recurso e outro pacote fornece <code>provides</code> o mesmo recurso, você não precisa especificar aquele pacote conflitante em seu vetor <code>conflicts</code>. Vejamos um exemplo concreto:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=netbeans">netbeans</a></span> fornece implicitamente <code>netbeans</code> como o <code>pkgname</code> em si</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/netbeans-javase/">netbeans-javase</a></span><sup><small>AUR</small></sup> fornece <code>netbeans</code> e conflita com <code>netbeans</code>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/netbeans-php/">netbeans-php</a></span><sup><small>AUR</small></sup> fornece <code>netbeans</code> e conflita com <code>netbeans</code>, mas não precisa conflitar com <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/netbeans-javase/">netbeans-javase</a></span><sup><small>AUR</small></sup> já que o pacman é suficientemente inteligente para descobrir que esses pacotes são incompatíveis, já que eles fornecem as mesmas funcionalidades e estão em conflito com isso.</li>
</ul>
<dl><dd>O mesmo se aplica no inverso: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/netbeans-javase/">netbeans-javase</a></span><sup><small>AUR</small></sup> também não precisa conflitar com <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/netbeans-php/">netbeans-php</a></span><sup><small>AUR</small></sup>, porque eles fornecem o mesmo pacote.</dd></dl>
<h3><span class="mw-headline" id="replaces">replaces</span></h3>
<p>Um vetor de pacotes obsoletos que são substituídos pelo pacote, como, por exemplo, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wireshark-qt">wireshark-qt</a></span> usa <code>replaces=('wireshark')</code>. Ao sincronizar, o <i>pacman</i> vai imediatamente substituir um pacote instalado ao encontrar outro pelo <code>replaces</code> correspondente nos repositórios. Se estiver fornecendo uma versão alternativa de um pacote já existente ou enviando para o <a href="../pt/Arch_User_Repository.html" class="mw-redirect" title="AUR (Português)">AUR</a>, use os vetores <code>conflicts</code> e <code>provides</code>, que são avaliados apenas ao instalar o pacote conflitante.
</p>
<h2><span class="mw-headline" id="Outros">Outros</span></h2>
<h3><span class="mw-headline" id="backup">backup</span></h3>
<p>Um array de arquivos que contêm alterações feitas pelo usuário e, portanto, devem ser preservados durante a atualização ou remoção de um pacote, destinado principalmente para arquivos em <code>/etc</code>.
</p>
<p>Arquivos neste vetor devem usar caminhos <b>relativos</b> sem a barra inicial (<code>/</code>) (ex.: <code>etc/pacman.conf</code>, em vez de <code>/etc/pacman.conf</code>).
</p>
<p>Ao atualizar, novas versões podem ser salvadas como <code>file.pacnew</code> para evitar sobrescrever um arquivo que já existe e foi previamente modificado pelo usuário. De forma similar, quando o pacote é removido, os arquivos modificados pelo usuário serão preservados como <code>file.pacsave</code> a menos que o pacote tenha sido removido com o comando <code>pacman -Rn</code>.
</p>
<p>Veja também os <a href="../pt/4838b87c75c60b4653d29aec2d3db029.html" class="mw-redirect" title="Arquivos Pacnew e Pacsave">arquivos Pacnew e Pacsave</a>.
</p>
<h3><span class="mw-headline" id="options">options</span></h3>
<p>Esse vetor permite sobrescrever alguns dos comportamentos padrões do <i>makepkg</i>, definidos no <code>/etc/makepkg.conf</code>. Para definir uma opção, inclua o nome no vetor. Para inverter o comportamento, coloque um <b><code>!</code></b> na frente.
</p>
<p>A lista completa das opções disponíveis podem ser localizadas em <span class="plainlinks archwiki-template-man" title="$ man 5 PKGBUILD"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/PKGBUILD.5">PKGBUILD(5)</a></span>.
</p>
<h3><span class="mw-headline" id="install">install</span></h3>
<p>O nome do script <i>.install</i> a ser incluído no pacote. Este deve ser o mesmo que <code>pkgname</code>. <i>pacman</i> possui a habilidade de armazenar e executar um script específico por pacote durante a instalação, remoção ou atualização de um pacote. O script contém as seguintes funções que são executadas em momentos diferentes:
</p>
<ul>
<li>
<code>pre_install</code> — O script é executado logo antes dos arquivos serem extraídos. Um argumento é passado: nova versão do pacote.</li>
<li>
<code>post_install</code> — O script é executado logo após os arquivos serem extraídos. Um argumento é passado: nova versão do pacote.</li>
<li>
<code>pre_upgrade</code> — O script é executado logo antes dos arquivos serem extraídos. Dois argumentos são passados na seguinte ordem: nova versão do pacote, versão antiga do pacote.</li>
<li>
<code>post_upgrade</code> — O script é executado logo após os arquivos serem extraídos. Dois argumentos são passados na seguinte ordem: nova versão do pacote, versão antiga do pacote.</li>
<li>
<code>pre_remove</code> — O script é executado logo antes dos arquivos serem removidos. Um argumento é passado: versão antiga do pacote.</li>
<li>
<code>post_remove</code> — O script é executado logo após os arquivos serem removidos. Um argumento é passado: versão antiga do pacote.</li>
</ul>
<p>Cada função é executada em <a href="../pt/Chroot.html" title="Chroot (Português)">chroot</a> dentro do diretório de instalação do <i>pacman</i>. Veja <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=913891">esse tópico</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> 
<ul>
<li>Um protótipo de <i>.install</i> é fornecido em <a rel="nofollow" class="external text" href="https://projects.archlinux.org/pacman.git/plain/proto/proto.install">/usr/share/pacman/proto.install</a>.</li>
<li>
<a href="../pt/Pacman.html#Hooks" title="Pacman (Português)">Hooks do pacman</a> fornecem funcionalidade similar.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Não termine o script com <code>exit</code>. Isso evitaria as funções contidas de serem executadas.</div>
<h3><span class="mw-headline" id="changelog">changelog</span></h3>
<p>O nome do <i>changelog</i> do pacote. Para ver os registros de alterações de pacotes instalados (que tenha esse arquivo):
</p>
<pre>$ pacman -Qc <i>pkgname</i>
</pre>
<h2><span class="mw-headline" id="Fontes">Fontes</span></h2>
<h3><span class="mw-headline" id="source">source</span></h3>
<p>Um vetor de arquivos necessários para compilar o pacote. Deve conter a localização do fonte do software, que na maioria dos casos é uma URL HTTP ou FTP completa. As variáveis anteriormente definidas <code>pkgname</code> e <code>pkgver</code> podem ser usadas efetivamente aqui como, por exemplo, <code>source=("https://exemplo.com/$pkgname-$pkgver.tar.gz")</code>.
</p>
<p>Os arquivos também podem ser fornecidos no mesmo diretório onde o <code>PKGBUILD</code> está localizado, e seus nomes adicionados a este vetor. Antes do processo de compilação iniciar, todos os arquivos referenciados neste vetor serão baixados ou verificados pela existência, e o <i>makepkg</i> não dará continuidade, se algum deles estiver faltando.
</p>
<p>Arquivos <i>.install</i> são reconhecidos automaticamente pelo <i>makepkg</i> e não devem ser incluídos no vetor de fontes. Arquivos no vetor de fontes com extensões <i>.sig</i>, <i>.sign</i> ou <i>.asc</i> são reconhecidos pelo <i>makepkg</i> como assinaturas PGP e serão usados automaticamente para verificar a integridade do arquivo fonte correspondente.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Atenção:</strong> Os nomes de arquivos de fontes baixados devem ser globalmente únicos porque o diretório <a href="../pt/Makepkg.html#Sa%C3%ADda_de_pacote" title="Makepkg (Português)">SRCDEST</a> pode ser o mesmo para todos pacotes. Por exemplo, usar o número de versão do projeto como um nome de arquivo potencialmente conflita com outros projetos com o mesmo número de versão. Neste caso, o nome de arquivo único alternativo a ser usado é fornecido com a sintaxe <code>source=('<i>nome_pacote_único</i>::<i>uri-arquivo</i>')</code> - por exemplo, <code>source=("$pkgname-$pkgver.tar.gz::https://github.com/codificador/programa/archive/v$pkgver.tar.gz")</code>.
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> 
<ul>
<li>Vetores extras específicos por arquitetura podem ser adicionados anexando um sublinhado e o nome da arquitetura, ex.: <code>x86_64=()</code>. Deve haver um vetor de integridade correspondente com somas de verificação (<i>checksums</i>), ex.: <code>sha256sums_x86_64=()</code>.</li>
<li>Alguns servidores restringem download filtrando a string "User-Agent" do cliente, a qual pode ser alterada com <a href="../pt/Nonfree_applications_package_guidelines.html#DLAGENTS_personalizados" class="mw-redirect" title="Diretrizes de pacotes de aplicativos não livres">DLAGENTS</a>.</li>
</ul>
</div>
<h3><span class="mw-headline" id="noextract">noextract</span></h3>
<p>Um vetor de arquivos listados sob <code>source</code> que não devem ser extraídos de seu formato empacotado pelo <a href="../pt/Makepkg.html" title="Makepkg (Português)">makepkg</a>. Isso pode ser usado com pacotes que não podem ser tratados pelo <code>/usr/bin/bsdtar</code> ou aqueles que precisam ser instalado como estão. Se uma ferramenta alternativa de extração for usada (e.g. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lrzip">lrzip</a></span>), ela deve ser adicionada no vetor <code>makedepends</code> e a primeira linha da função <a href="../pt/Creating_packages.html#prepare()" class="mw-redirect" title="Criando pacotes">prepare()</a> deve extrair manualmente o pacote fonte; por exemplo:
</p>
<pre>prepare() {
  lrzip -d <i>source</i>.tar.lrz
}
</pre>
<p>Note que enquanto o vetor <code>source</code> aceita URLs, <code>noextract</code> é <b>apenas</b> a porção de nome do arquivo:
</p>
<pre>source=("http://foo.org/bar/foobar.tar.xz")
noextract=('foobar.tar.xz')
</pre>
<p>Para extrair <i>nada</i>, você pode fazer alguma coisa como:
</p>
<ul><li>Se <code>source</code> contém apenas URLs planas sem nomes de arquivos personalizados, remova do vetor de fontes antes da última barra:</li></ul>
<dl><dd><pre>noextract=("${source[@]##*/}")</pre></dd></dl>
<ul><li>Se <code>source</code> contiver apenas entradas com nomes de arquivos personalizados, remova o vetor de entrada após o separador <code>::</code> (retirado do <a rel="nofollow" class="external text" href="https://github.com/archlinux/svntogit-packages/blob/packages/firefox-i18n/trunk/PKGBUILD#L123">PKGBUILD do firefox-i18n</a>):</li></ul>
<dl><dd><pre>noextract=("${source[@]%%::*}")</pre></dd></dl>
<h3><span class="mw-headline" id="validpgpkeys">validpgpkeys</span></h3>
<p>Um vetor de impressões digitais PGP. Se usado, <i>makepkg</i> só aceitará assinaturas das chaves listadas aqui e vai ignorar os valores de confiança do chaveiro. Se o arquivo fonte foi assinado com uma subchave, <i>makepkg</i> ainda vai usar a chave primária para comparação.
</p>
<p>Apenas impressões digitais completas são aceitas. Elas devem estar em caixa alta e não devem conter caracteres em branco.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Você pode usar <code>gpg --list-keys --fingerprint &lt;ID-CHAVE&gt;</code> para localizar a impressão digital da chave apropriada.</div>
<p>Por favor, leia <a href="../pt/Makepkg.html#Verifica%C3%A7%C3%A3o_de_assinatura" title="Makepkg (Português)">makepkg (Português)#Verificação de assinatura</a> para mais informações.
</p>
<h2><span class="mw-headline" id="Integridade">Integridade</span></h2>
<p>Essas variáveis são vetores cujos itens são strings de <i>checksums</i> (soma de verificação) que serão usadas para verificar a integridade dos respectivos arquivos no vetor <a href="#source">source</a>. Você também pode inserir <code>SKIP</code> para um arquivo em particular e seu <i>checksum</i> não será testado.
</p>
<p>O tipo e os valores da soma de verificação <i>(checksum)</i> devem ser sempre aqueles fornecidos pelo upstream, como nos anúncios de lançamento. Quando vários tipos estão disponíveis, a soma de verificação mais forte deve ser preferida: <code>sha256</code> em <code>sha1</code> e <code>sha1</code> em <code>md5</code>. Isso garante a integridade dos arquivos baixados, desde o anúncio do upstream até o desenvolvimento de pacotes.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Além disso, quando o upstream disponibiliza <a href="https://en.wikipedia.org/wiki/pt:Assinatura_digital" class="extiw" title="w:pt:Assinatura digital">assinaturas digitais</a>, os arquivos de assinatura devem ser adicionados ao vetor <a href="#source">source</a> e a impressão digital da chave PGP ao vetor <a href="#validpgpkeys">validpgpkeys</a>. Isso permite a autenticação dos arquivos no momento de compilação.</div>
<p>Os valores para essas variáveis podem ser geradas automaticamente pela opção <code>-g</code>/<code>--geninteg</code> do <a href="../pt/Makepkg.html" title="Makepkg (Português)">makepkg</a> e, então, anexado com <code>makepkg -g &gt;&gt; PKGBUILD</code>. O comando <code>updpkgsums</code> do <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman-contrib">pacman-contrib</a></span> é capaz de atualizar as variáveis onde quer que elas estejam no <code>PKGBUILD</code>. Ambas ferramentas usarão a variável que já está definida no <code>PKGBUILD</code>, ou voltarão para <code>md5sums</code> se nada estiver definido.
</p>
<p>As verificações de integridade de arquivo a serem usadas podem ser configuradas com a opção <code>INTEGRITY_CHECK</code> no <code>/etc/makepkg.conf</code>. Veja <span class="plainlinks archwiki-template-man" title="$ man 5 makepkg.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/makepkg.conf.5">makepkg.conf(5)</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Vetores adicionais específicos da arquitetura podem ser adicionadas anexando um sublinhado e o nome da arquitetura, p. ex. <code>sha256sums_x86_64=()</code>.</div>
<h3><span class="mw-headline" id="md5sums">md5sums</span></h3>
<p>Um vetor de <i>checksums</i> de <a href="https://en.wikipedia.org/wiki/pt:MD5" class="extiw" title="wikipedia:pt:MD5">MD5</a> de 128 bits dos arquivos listados no vetor <code>source</code>.
</p>
<h3><span class="mw-headline" id="sha1sums">sha1sums</span></h3>
<p>Um vetor de <i>checksums</i> de <a href="https://en.wikipedia.org/wiki/pt:SHA-1" class="extiw" title="wikipedia:pt:SHA-1">SHA-1</a> de 160 bits dos arquivos listados no vetor  <code>source</code>.
</p>
<h3><span class="mw-headline" id="sha256sums">sha256sums</span></h3>
<p>Um vetor de <i>checksums</i> de <a href="https://en.wikipedia.org/wiki/pt:SHA-2" class="extiw" title="wikipedia:pt:SHA-2">SHA-2</a> com tamanho de <i>digest</i> de 256 bits.
</p>
<h3>
<span id="sha224sums.2C_sha384sums.2C_sha512sums"></span><span class="mw-headline" id="sha224sums,_sha384sums,_sha512sums">sha224sums, sha384sums, sha512sums</span>
</h3>
<p>Um vetor de <i>checksums</i> de SHA-2 com tamanhos de <i>digest</i> 224, 384 e 512 bits, respectivamente. Essas são alternativas mais comuns a <code>sha256sums</code>.
</p>
<h3><span class="mw-headline" id="b2sums">b2sums</span></h3>
<p>Um vetor de <i>checksums</i> de <a href="https://en.wikipedia.org/wiki/BLAKE_(hash_function)#BLAKE2" class="extiw" title="wikipedia:BLAKE (hash function)">BLAKE2</a> com tamanho de <i>digest</i> de 512 bits.
</p>
<h2>
<span id="Veja_tamb.C3.A9m"></span><span class="mw-headline" id="Veja_também">Veja também</span>
</h2>
<ul>
<li>
<span class="plainlinks archwiki-template-man" title="$ man 5 PKGBUILD"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/PKGBUILD.5">PKGBUILD(5)</a></span> - página de manual do PKGBUILD</li>
<li><a rel="nofollow" class="external text" href="https://projects.archlinux.org/pacman.git/plain/proto/PKGBUILD.proto">Exemplo de arquivo PKGBUILD</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../pt/Category:Package_development.html" title="Category:Package development (Português)">Package development (Português)</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=PKGBUILD_(Portugu%C3%AAs)&amp;oldid=649048">https://wiki.archlinux.org/index.php?title=PKGBUILD_(Português)&amp;oldid=649048</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 16 January 2021, at 17:12.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
