<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>iwd (Português) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Iwd_Português rootpage-Iwd_Português skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">iwd (Português)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><span></span>
</p>
<div class="archwiki-template-meta-related-articles-start">
<p>Artigos relacionados</p>
<ul>
<li><a href="../pt/Network_configuration.html" class="mw-redirect" title="Configuração de rede">Configuração de rede</a></li>
<li><a href="../pt/b9b884f10bec6b20a2e6f1b1fe79d6b3.html" class="mw-redirect" title="Configuração de rede sem fio">Configuração de rede sem fio</a></li>
<li><a href="../en/Wpa_supplicant.html" class="mw-redirect" title="WPA supplicant">WPA supplicant</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Status de tradução:</strong> Esse artigo é uma tradução de <a href="../en/Iwd.html" title="Iwd">iwd</a>. Data da última tradução: 2020-07-20. Você pode ajudar a sincronizar a tradução, se houver <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Iwd&amp;diff=0&amp;oldid=623269">alterações</a> na versão em inglês.</div>
<p>O <a rel="nofollow" class="external text" href="https://iwd.wiki.kernel.org/">iwd</a> (iNet wireless daemon) é um daemon sem fio para Linux escrito pela Intel. O objetivo principal do projeto é otimizar a utilização de recursos, não dependendo de nenhuma biblioteca externa e, em vez disso, utilizando os recursos fornecidos pelo Kernel Linux na máxima extensão possível. <a rel="nofollow" class="external autonumber" href="https://www.youtube.com/watch?v=F2Q86cphKDo">[1]</a>
</p>
<p>O iwd pode funcionar no modo autônomo ou em combinação com gerentes de rede abrangentes, como <a href="../en/ConnMan.html" title="ConnMan">ConnMan</a>, <a href="../en/Systemd-networkd.html" title="Systemd-networkd">systemd-networkd</a> e <a href="../pt/NetworkManager.html#Usando_iwd_como_o_backend_de_Wi-Fi" title="NetworkManager (Português)">NetworkManager</a>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Instala%C3%A7%C3%A3o"><span class="tocnumber">1</span> <span class="toctext">Instalação</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Uso"><span class="tocnumber">2</span> <span class="toctext">Uso</span></a>
<ul>
<li class="toclevel-2 tocsection-3">
<a href="#iwctl"><span class="tocnumber">2.1</span> <span class="toctext">iwctl</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#Conectar_a_uma_rede"><span class="tocnumber">2.1.1</span> <span class="toctext">Conectar a uma rede</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#Conecte-se_a_uma_rede_usando_WPS/WSC"><span class="tocnumber">2.1.2</span> <span class="toctext">Conecte-se a uma rede usando WPS/WSC</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Desconectar_de_uma_rede"><span class="tocnumber">2.1.3</span> <span class="toctext">Desconectar de uma rede</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#Mostrar_informa%C3%A7%C3%B5es_do_dispositivo_e_da_conex%C3%A3o"><span class="tocnumber">2.1.4</span> <span class="toctext">Mostrar informações do dispositivo e da conexão</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Gerenciar_redes_conhecidas"><span class="tocnumber">2.1.5</span> <span class="toctext">Gerenciar redes conhecidas</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#WPA_Empresarial"><span class="tocnumber">3</span> <span class="toctext">WPA Empresarial</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#EAP-PWD"><span class="tocnumber">3.1</span> <span class="toctext">EAP-PWD</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#EAP-PEAP"><span class="tocnumber">3.2</span> <span class="toctext">EAP-PEAP</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#TTLS-PAP"><span class="tocnumber">3.3</span> <span class="toctext">TTLS-PAP</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Eduroam"><span class="tocnumber">3.4</span> <span class="toctext">Eduroam</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Outros_casos"><span class="tocnumber">3.5</span> <span class="toctext">Outros casos</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15">
<a href="#Configura%C3%A7%C3%A3o_opcional"><span class="tocnumber">4</span> <span class="toctext">Configuração opcional</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#Desativar_a_conex%C3%A3o_autom%C3%A1tica_para_uma_rede_espec%C3%ADfica"><span class="tocnumber">4.1</span> <span class="toctext">Desativar a conexão automática para uma rede específica</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Desativar_verifica%C3%A7%C3%A3o_peri%C3%B3dica_para_redes_dispon%C3%ADveis"><span class="tocnumber">4.2</span> <span class="toctext">Desativar verificação periódica para redes disponíveis</span></a></li>
<li class="toclevel-2 tocsection-18">
<a href="#Ativar_configura%C3%A7%C3%A3o_de_rede_embutida"><span class="tocnumber">4.3</span> <span class="toctext">Ativar configuração de rede embutida</span></a>
<ul>
<li class="toclevel-3 tocsection-19"><a href="#Definindo_o_endere%C3%A7o_IP_est%C3%A1tico_na_configura%C3%A7%C3%A3o_de_rede"><span class="tocnumber">4.3.1</span> <span class="toctext">Definindo o endereço IP estático na configuração de rede</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="#Selecione_o_gerenciador_de_DNS"><span class="tocnumber">4.3.2</span> <span class="toctext">Selecione o gerenciador de DNS</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-21"><a href="#Negar_que_o_usu%C3%A1rio_do_console_(local)_modifique_as_configura%C3%A7%C3%B5es"><span class="tocnumber">4.4</span> <span class="toctext">Negar que o usuário do console (local) modifique as configurações</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-22">
<a href="#Solu%C3%A7%C3%A3o_de_problemas"><span class="tocnumber">5</span> <span class="toctext">Solução de problemas</span></a>
<ul>
<li class="toclevel-2 tocsection-23"><a href="#Depura%C3%A7%C3%A3o_detalhada_do_TLS"><span class="tocnumber">5.1</span> <span class="toctext">Depuração detalhada do TLS</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Problemas_de_conex%C3%A3o_ap%C3%B3s_a_reinicializa%C3%A7%C3%A3o"><span class="tocnumber">5.2</span> <span class="toctext">Problemas de conexão após a reinicialização</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Unidade_systemd_falha_na_inicializa%C3%A7%C3%A3o_devido_ao_dispositivo_n%C3%A3o_estar_dispon%C3%ADvel"><span class="tocnumber">5.3</span> <span class="toctext">Unidade systemd falha na inicialização devido ao dispositivo não estar disponível</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#O_dispositivo_sem_fio_n%C3%A3o_%C3%A9_renomeado_pelo_udev"><span class="tocnumber">5.4</span> <span class="toctext">O dispositivo sem fio não é renomeado pelo udev</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-27"><a href="#Veja_tamb%C3%A9m"><span class="tocnumber">6</span> <span class="toctext">Veja também</span></a></li>
</ul>
</div>

<h2>
<span id="Instala.C3.A7.C3.A3o"></span><span class="mw-headline" id="Instalação">Instalação</span>
</h2>
<p><a href="../pt/Help:Reading.html#Instala%C3%A7%C3%A3o_de_pacotes" class="mw-redirect" title="Instale">Instale</a> o pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iwd">iwd</a></span>.
</p>
<h2><span class="mw-headline" id="Uso">Uso</span></h2>
<p>O pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iwd">iwd</a></span> fornece o programa cliente <code>iwctl</code>, o daemon <code>iwd</code> e a ferramenta de monitoramento Wi-Fi <code>iwmon</code>.
</p>
<p><a href="../pt/Systemd.html#Usando_units" class="mw-redirect" title="Inicie/habilite">Inicie/habilite</a> <code>iwd.service</code> para que possa ser controlado usando o comando <code>iwctl</code>.
</p>
<h3><span class="mw-headline" id="iwctl">iwctl</span></h3>
<p>Para obter um prompt interativo, faça:
</p>
<pre>$ iwctl
</pre>
<p>O prompt interativo é exibido com um prefixo de <code>[iwd]#</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> 
<ul>
<li>No prompt <code>iwctl</code> você pode concluir automaticamente os comandos e nomes de dispositivos pressionando <code>Tab</code>.</li>
<li>Para sair do prompt interativo, envie <a href="https://en.wikipedia.org/wiki/pt:EOF" class="extiw" title="wikipedia:pt:EOF">EOF</a> pressionando <code>Ctrl+d</code>.</li>
<li>Você pode usar todos os comandos como argumentos de linha de comando sem inserir um prompt interativo. Por exemplo: <code>iwctl device wlp3s0 show</code>.</li>
</ul>
</div>
<p>Para listar todos os comandos disponíveis:
</p>
<pre>[iwd]# help
</pre>
<h4><span class="mw-headline" id="Conectar_a_uma_rede">Conectar a uma rede</span></h4>
<p>Primeiro, se você não souber o nome do seu dispositivo sem fio, liste todos os dispositivos Wi-Fi:
</p>
<pre>[iwd]# device list
</pre>
<p>Em seguida, para procurar redes:
</p>
<pre>[iwd]# station <i>dispositivo</i> scan
</pre>
<p>Você pode listar todas as redes disponíveis:
</p>
<pre>[iwd]# station <i>dispositivo</i> get-networks
</pre>
<p>Por fim, para conectar-se a uma rede:
</p>
<pre>[iwd]# station <i>dispositivo</i> connect <i>SSID</i>
</pre>
<p>Se uma senha for necessária, você será solicitado a digitá-la. Como alternativa, você pode fornecer como argumento da linha de comando:
</p>
<pre>$ iwctl --passphrase <i>senha</i> station <i>dispositivo</i> connect <i>SSID</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> 
<ul>
<li>O <code>iwd</code> armazena automaticamente as senhas da rede no diretório <code>/var/lib/iwd</code> e os usa para se conectar automaticamente no futuro. Veja <a href="#Configura%C3%A7%C3%A3o_opcional">#Configuração opcional</a>.</li>
<li>Para conectar-se a uma rede com espaços no SSID, o nome da rede deve estar entre aspas duplas.</li>
<li>O iwd suporta apenas senhas PSK de 8 a 63 caracteres codificados em ASCII. A seguinte mensagem de erro será fornecida se os requisitos não forem atendidos: <code>PMK generation failed.  Ensure Crypto Engine is properly configured</code>.</li>
</ul>
</div>
<h4>
<span id="Conecte-se_a_uma_rede_usando_WPS.2FWSC"></span><span class="mw-headline" id="Conecte-se_a_uma_rede_usando_WPS/WSC">Conecte-se a uma rede usando WPS/WSC</span>
</h4>
<p>Se sua rede estiver configurada de forma que você possa conectar-se a ela pressionando um botão (<a href="https://en.wikipedia.org/wiki/Wi-Fi_Protected_Setup" class="extiw" title="wikipedia:Wi-Fi Protected Setup">Wikipedia:Wi-Fi Protected Setup</a>), verifique primeiro se o seu dispositivo de rede também é capaz de usar este procedimento de configuração.
</p>
<pre>[iwd]# wsc list
</pre>
<p>Então, desde que seu dispositivo apareça na lista acima,
</p>
<pre>[iwd]# wsc <i>dispositivo</i> push-button
</pre>
<p>e pressione o botão no seu roteador. O procedimento também funciona se o botão foi pressionado antes, menos de 2 minutos antes.
</p>
<p>Se sua rede precisar validar um número PIN para conectar-se dessa maneira, verifique o comando <code>help</code> saída para ver como fornecer as opções corretas para o comando <code>wsc</code>.
</p>
<h4><span class="mw-headline" id="Desconectar_de_uma_rede">Desconectar de uma rede</span></h4>
<p>Para desconectar-se de uma rede:
</p>
<pre>[iwd]# station <i>dispositivo</i> disconnect
</pre>
<h4>
<span id="Mostrar_informa.C3.A7.C3.B5es_do_dispositivo_e_da_conex.C3.A3o"></span><span class="mw-headline" id="Mostrar_informações_do_dispositivo_e_da_conexão">Mostrar informações do dispositivo e da conexão</span>
</h4>
<p>Para exibir os detalhes de um dispositivo Wi-Fi, como endereço MAC:
</p>
<pre>[iwd]# device <i>dispositivo</i> show
</pre>
<p>Para exibir o estado da conexão, incluindo a rede conectada de um dispositivo Wi-Fi:
</p>
<pre>[iwd]# station <i>dispositivo</i> show
</pre>
<h4><span class="mw-headline" id="Gerenciar_redes_conhecidas">Gerenciar redes conhecidas</span></h4>
<p>Para listar as redes às quais você se conectou anteriormente:
</p>
<pre>[iwd]# known-networks list
</pre>
<p>Para esquecer uma rede conhecida:
</p>
<pre>[iwd]# known-networks <i>SSID</i> forget
</pre>
<h2><span class="mw-headline" id="WPA_Empresarial">WPA Empresarial</span></h2>
<h3><span class="mw-headline" id="EAP-PWD">EAP-PWD</span></h3>
<p>Para conectar-se a um ponto de acesso corporativo protegido por EAP-PWD, é necessário criar um arquivo chamado: <code><i>essid</i>.8021x</code> na pasta <code>/var/lib/iwd</code> com o seguinte conteúdo:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/var/lib/iwd/<i>essid</i>.8021x</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Security]
EAP-Method=PWD
EAP-Identity=<i>seu_e-mail_empresarial</i>
EAP-Password=<i>sua_senha</i>

[Settings]
AutoConnect=True</pre>
<p>Se você não deseja se conectar automaticamente ao ponto de acesso, defina a opção como False e conecte manualmente ao ponto de acesso via <code>iwctl</code>. O mesmo se aplica à senha, se você não quiser armazená-la em texto sem formatação, deixe a opção fora do arquivo e apenas conecte-se ao AP da empresa.
</p>
<h3><span class="mw-headline" id="EAP-PEAP">EAP-PEAP</span></h3>
<p>Como o EAP-PWD, você também precisa criar um <code><i>essid</i>.8021x</code> na pasta Antes de prosseguir com a gravação do arquivo de configuração, este também é um bom momento para descobrir qual certificado CA sua organização usa. Este é um arquivo de configuração de exemplo que usa autenticação de senha MSCHAPv2:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/var/lib/iwd/<i>essid</i>.8021x</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Security]
EAP-Method=PEAP
EAP-Identity=anonymous@realm.edu
EAP-PEAP-CACert=/path/to/root.crt
EAP-PEAP-ServerDomainMask=radius.realm.edu
EAP-PEAP-Phase2-Method=MSCHAPV2
EAP-PEAP-Phase2-Identity=johndoe@realm.edu
EAP-PEAP-Phase2-Password=hunter2

[Settings]
AutoConnect=true</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> Se você planeja usar <i>eduroam</i>, veja também <a href="#Eduroam">#Eduroam</a>.</div>
<h3><span class="mw-headline" id="TTLS-PAP">TTLS-PAP</span></h3>
<p>Como o EAP-PWD, você também precisa criar um <code><i>essid</i>.8021x</code> na pasta Antes de prosseguir com a gravação do arquivo de configuração, este também é um bom momento para descobrir qual certificado CA sua organização usa. Este é um exemplo de arquivo de configuração que usa autenticação de senha PAP:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/var/lib/iwd/<i>essid</i>.8021x</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Security]
EAP-Method=TTLS
EAP-Identity=anonymous@uni-test.de
EAP-TTLS-CACert=cert.pem
EAP-TTLS-ServerDomainMask=*.uni-test.de
EAP-TTLS-Phase2-Method=Tunneled-PAP
EAP-TTLS-Phase2-Identity=user
EAP-TTLS-Phase2-Password=password

[Settings]
AutoConnect=true</pre>
<h3><span class="mw-headline" id="Eduroam">Eduroam</span></h3>
<p>Eduroam oferece uma <a rel="nofollow" class="external text" href="https://cat.eduroam.org/">configuration assistant tool (CAT)</a>, que infelizmente não suporta iwd. No entanto, o instalador, que você pode baixar clicando no botão de download e selecionando sua universidade, é apenas um script Python. É fácil extrair as opções de configuração necessárias, incluindo o certificado e a máscara de domínio do servidor.
</p>
<p>A tabela a seguir contém um mapeamento das opções de configuração do iwd para variáveis de script de instalação do CAT eduroam.
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Opção de configuração de Iwd</th>
<th>Variável de Script CAT
</th>
</tr>
<tr>
<td>nome do arquivo</td>
<td>um de <code>Config.ssids</code>
</td>
</tr>
<tr>
<td><code>EAP-Method</code></td>
<td>
<code>Config.eap_outer</code>
</td>
</tr>
<tr>
<td><code>EAP-Identity</code></td>
<td>
<code>Config.anonymous_identity</code>
</td>
</tr>
<tr>
<td><code>EAP-PEAP-CACert</code></td>
<td>
<code>Config.CA</code>
</td>
</tr>
<tr>
<td><code>EAP-PEAP-ServerDomainMask</code></td>
<td>um de <code>Config.servers</code>
</td>
</tr>
<tr>
<td><code>EAP-PEAP-Phase2-Method</code></td>
<td>
<code>Config.eap_inner</code>
</td>
</tr>
<tr>
<td><code>EAP-PEAP-Phase2-Identity</code></td>
<td>username@<code>Config.user_realm</code>
</td>
</tr>
</tbody>
</table>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong>  <code>EAP-Identity</code> pode não ser necessário pelo seu provedor Eduroam; nesse caso, você pode usar <code>anonymous</code> nesta área.</div>
<h3><span class="mw-headline" id="Outros_casos">Outros casos</span></h3>
<p>Mais exemplos de testes podem ser <a rel="nofollow" class="external text" href="https://git.kernel.org/pub/scm/network/wireless/iwd.git/tree/autotests">encontrados nos casos de teste</a> do repositório upstream.
</p>
<h2>
<span id="Configura.C3.A7.C3.A3o_opcional"></span><span class="mw-headline" id="Configuração_opcional">Configuração opcional</span>
</h2>
<p>O arquivo <code>/etc/iwd/main.conf</code> pode ser usado para a configuração principal. Veja <span class="plainlinks archwiki-template-man" title="$ man 5 iwd.config"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/iwd.config.5">iwd.config(5)</a></span>.
</p>
<p>Por padrão, <code>iwd</code> armazena a configuração de rede em <code>/var/lib/iwd</code>. O arquivo de configuração é nomeado como <code><i>rede</i>.<i>tipo</i></code> Onde <i>rede</i> é o SSID da rede e <i>tipo</i> é o tipo de rede por exemplo "open", "wep", "psk", "8021x". O arquivo é usado para armazenar o arquivo criptografado. <code>PreSharedKey</code> e opcionalmente o texto não criptografado <code>Passphrase</code> e pode ser criado pelo usuário sem chamar <code>iwctl</code>. O arquivo também pode ser usado para outras configurações que pertencem ao SSID da rede. Para mais informações, consulte o <span class="plainlinks archwiki-template-man" title="$ man 5 iwd.network"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/iwd.network.5">iwd.network(5)</a></span>.
</p>
<p>Um arquivo de exemplo mínimo para conectar-se a uma rede segura WPA2/PSK com SSID "spaceship" e senha "test1234":
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/var/lib/iwd/spaceship.psk</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Security]
PreSharedKey=aafb192ce2da24d8c7805c956136f45dd612103f086034c402ed266355297295</pre>
<p>O PreSharedKey pode ser calculado a partir do SSID e da senha WiFi usando <i>wpa_passphrase</i> (do pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wpa_supplicant">wpa_supplicant</a></span>) ou <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wpa-psk/">wpa-psk</a></span><sup><small>AUR</small></sup>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ wpa_passphrase spaceship test1234</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">network={
        ssid="spaceship"
        #psk="test1234"
        psk=aafb192ce2da24d8c7805c956136f45dd612103f086034c402ed266355297295
}</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> 
<ul>
<li>Se o SSID contiver espaços ou outros caracteres especiais, eles deverão ser citados para serem passados corretamente para <i>wpa_passphrase</i> pelo <a href="../pt/Command-line_shell.html" class="mw-redirect" title="Shell (Português)">shell</a>.</li>
<li>O SSID da rede é usado como nome de arquivo apenas quando contém apenas caracteres alfanuméricos ou um de <code>- _</code>. Se contiver outros caracteres, o nome será um caractere <code>=</code> seguido pela versão codificada em hexadecimal do SSID.</li>
</ul>
</div>
<h3>
<span id="Desativar_a_conex.C3.A3o_autom.C3.A1tica_para_uma_rede_espec.C3.ADfica"></span><span class="mw-headline" id="Desativar_a_conexão_automática_para_uma_rede_específica">Desativar a conexão automática para uma rede específica</span>
</h3>
<p>Criar/editar o arquivo <code>/var/lib/iwd/<i>rede</i>.<i>tipo</i></code>. Adicione a seguinte seção a ele:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/var/lib/iwd/spaceship.psk (por exemplo)</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Settings]
AutoConnect=false</pre>
<h3>
<span id="Desativar_verifica.C3.A7.C3.A3o_peri.C3.B3dica_para_redes_dispon.C3.ADveis"></span><span class="mw-headline" id="Desativar_verificação_periódica_para_redes_disponíveis">Desativar verificação periódica para redes disponíveis</span>
</h3>
<p>Por padrão, quando <code>iwd</code> estiver desconectado, ele verifica periodicamente as redes disponíveis. Para desativar a verificação periódica (para sempre verificar manualmente), criar/editar o arquivo <code>/etc/iwd/main.conf</code> e adicione a seguinte seção a ele:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/iwd/main.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Scan]
DisablePeriodicScan=true</pre>
<h3>
<span id="Ativar_configura.C3.A7.C3.A3o_de_rede_embutida"></span><span class="mw-headline" id="Ativar_configuração_de_rede_embutida">Ativar configuração de rede embutida</span>
</h3>
<p>Desde a versão 0.19, o iwd pode atribuir endereços IP e configurar rotas usando um cliente DHCP embutido ou com configuração estática. É uma boa alternativa para <a href="../pt/Network_configuration.html#DHCP" class="mw-redirect" title="Configuração de rede">clientes DHCP independentes</a>.
</p>
<p>Para ativar o recurso de configuração de rede do iwd, crie/edite o arquivo <code>/etc/iwd/main.conf</code> e adicione a seguinte seção a ele:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/iwd/main.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[General]
EnableNetworkConfiguration=true</pre>
<p>Também é possível definir métricas de rota com <code>route_priority_offset</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/iwd/main.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[General]
route_priority_offset=300</pre>
<h4>
<span id="Definindo_o_endere.C3.A7o_IP_est.C3.A1tico_na_configura.C3.A7.C3.A3o_de_rede"></span><span class="mw-headline" id="Definindo_o_endereço_IP_estático_na_configuração_de_rede">Definindo o endereço IP estático na configuração de rede</span>
</h4>
<p>Adicione a seguinte seção ao arquivo <code>/var/lib/iwd/<i>rede</i>.<i>tipo</i></code>. Por exemplo:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/var/lib/iwd/spaceship.psk</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[IPv4]
ip=192.168.1.10
netmask=255.255.255.0
gateway=192.168.1.1
broadcast=192.168.1.255
dns=192.168.1.1</pre>
<h4><span class="mw-headline" id="Selecione_o_gerenciador_de_DNS">Selecione o gerenciador de DNS</span></h4>
<p>No momento, o iwd suporta dois gerenciadores de DNS -<a href="../en/Systemd-resolved.html" title="Systemd-resolved">systemd-resolved</a> e <a href="../pt/Openresolv.html" class="mw-redirect" title="Resolvconf (Português)">resolvconf</a>.
</p>
<p>Adicione a seguinte seção ao <code>/etc/iwd/main.conf</code> para <code>systemd-resolved</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/iwd/main.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Network]
NameResolvingService=systemd</pre>
<p>Para <code>resolvconf</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/iwd/main.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Network]
NameResolvingService=resolvconf</pre>
<h3>
<span id="Negar_que_o_usu.C3.A1rio_do_console_.28local.29_modifique_as_configura.C3.A7.C3.B5es"></span><span class="mw-headline" id="Negar_que_o_usuário_do_console_(local)_modifique_as_configurações">Negar que o usuário do console (local) modifique as configurações</span>
</h3>
<p>Por padrão o <code>iwd</code> A interface D-Bus permite <i>qualquer</i> usuário do console ao qual se conectar <code>iwd</code> daemon e modifique as configurações, mesmo que esse usuário não seja um usuário <i>root</i>.
</p>
<p>Se você não quiser permitir que o usuário do console modifique as configurações, mas permita a leitura das informações de status, crie um arquivo de configuração do D-Bus da seguinte maneira.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/dbus-1/system.d/iwd-strict.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">&lt;!-- prevent local users from changing iwd settings, but allow
     reading status information. overrides some part of
     /usr/share/dbus-1/system.d/iwd-dbus.conf. --&gt;

&lt;!-- This configuration file specifies the required security policies
     for iNet Wireless Daemon to work. --&gt;

&lt;!DOCTYPE busconfig PUBLIC "-//freedesktop//DTD D-BUS Bus Configuration 1.0//EN"
 "http://www.freedesktop.org/standards/dbus/1.0/busconfig.dtd"&gt;
&lt;busconfig&gt;

  &lt;policy at_console="true"&gt;
    &lt;deny send_destination="net.connman.iwd"/&gt;
    &lt;allow send_destination="net.connman.iwd" send_interface="org.freedesktop.DBus.Properties" send_member="GetAll" /&gt;
    &lt;allow send_destination="net.connman.iwd" send_interface="org.freedesktop.DBus.Properties" send_member="Get" /&gt;
    &lt;allow send_destination="net.connman.iwd" send_interface="org.freedesktop.DBus.ObjectManager" send_member="GetManagedObjects" /&gt;
    &lt;allow send_destination="net.connman.iwd" send_interface="net.connman.iwd.Device" send_member="RegisterSignalLevelAgent" /&gt;
    &lt;allow send_destination="net.connman.iwd" send_interface="net.connman.iwd.Device" send_member="UnregisterSignalLevelAgent" /&gt;
  &lt;/policy&gt;

&lt;/busconfig&gt;
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> Remova linhas <i>&lt;allow&gt;</i> acima para negar a leitura das informações de status também.</div>
<h2>
<span id="Solu.C3.A7.C3.A3o_de_problemas"></span><span class="mw-headline" id="Solução_de_problemas">Solução de problemas</span>
</h2>
<h3>
<span id="Depura.C3.A7.C3.A3o_detalhada_do_TLS"></span><span class="mw-headline" id="Depuração_detalhada_do_TLS">Depuração detalhada do TLS</span>
</h3>
<p>Isso pode ser útil se você tiver problemas para configurar o MSCHAPv2 ou TTLS. Você pode definir o seguinte <a href="../pt/Environment_variables.html" class="mw-redirect" title="Variável de ambiente">variável de ambiente</a> via <a href="../pt/Systemd.html#Editando_units_fornecidas" class="mw-redirect" title="Trecho drop-in">trecho drop-in</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/iwd.service.d/tls-debug.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Service]
Environment=IWD_TLS_DEBUG=TRUE</pre>
<p>Verifique os logs do iwd posteriormente via <code>journalctl -u iwd.service</code>
</p>
<h3>
<span id="Problemas_de_conex.C3.A3o_ap.C3.B3s_a_reinicializa.C3.A7.C3.A3o"></span><span class="mw-headline" id="Problemas_de_conexão_após_a_reinicialização">Problemas de conexão após a reinicialização</span>
</h3>
<p>Um pool de baixa entropia pode causar problemas de conexão, particularmente perceptíveis após a reinicialização. Vejo <a href="../en/Random_number_generation.html" title="Random number generation">Random number generation</a> for suggestions to increase the entropy pool.
</p>
<h3>
<span id="Unidade_systemd_falha_na_inicializa.C3.A7.C3.A3o_devido_ao_dispositivo_n.C3.A3o_estar_dispon.C3.ADvel"></span><span class="mw-headline" id="Unidade_systemd_falha_na_inicialização_devido_ao_dispositivo_não_estar_disponível">Unidade systemd falha na inicialização devido ao dispositivo não estar disponível</span>
</h3>
<p>Alguns usuários relataram que a unidade systemd fornecida não espera o dispositivo sem fio ficar disponível <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=241803">[2]</a>. Infelizmente, se o iwd for iniciado antes da renomeação do udev, o dispositivo de rede será bloqueado e a renomeação falhará. Assim, a unidade falha na inicialização <a rel="nofollow" class="external autonumber" href="https://iwd.wiki.kernel.org/interface_lifecycle#udev_interface_renaming">[3]</a>. O problema pode ser resolvido forçando o iwd para o modo legado e, portanto, não renomeando os dispositivos recém-detectados, adicionando uma opção ao <code>/etc/iwd/main.conf</code> do seguinte modo:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/iwd/main.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[General]
use_default_interface=true</pre>
<p>Opcionalmente, vincule o iwd a um dispositivo sem fio específico criando uma unidade systemd com o seguinte conteúdo. A partir da versão <i>0.21</i>, observou-se que isso não impedirá que o iwd renomeie o dispositivo sem fio posteriormente, portanto, o uso do modo legado do iwd é obrigatório:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/iwd@.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Wireless service on %I
BindsTo=sys-subsystem-net-devices-%i.device
After=sys-subsystem-net-devices-%i.device

[Service]
Type=dbus
BusName=net.connman.iwd
ExecStart=/usr/lib/iwd/iwd --interface %i
LimitNPROC=1
Restart=on-failure</pre>
<p>Então desabilite <code>iwd.service</code> e habilite <code>iwd@<i>device</i>.service</code> unidade para o dispositivo sem fio específico <i>device</i>.
</p>
<p>Como alternativa, defina uma dependência adequada para o iwd ser executado após o systemd/udevd, criando um <a href="../pt/Systemd.html#Arquivos_drop-in" class="mw-redirect" title="Arquivo drop-in">arquivo drop-in</a> do seguinte modo: <a rel="nofollow" class="external autonumber" href="https://lists.01.org/pipermail/iwd/2019-March/005837.html">[4]</a>
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/iwd.service.d/override.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
After=systemd-udevd.service</pre>
<p>Se systemd-networkd for usado, uma vez que ambos systemd-udevd/networkd funcionam relativamente bem juntos e ambos estão envolvidos, é razoável iniciar o iwd após os dois:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/iwd.service.d/override.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
After=systemd-udevd.service systemd-networkd.service</pre>
<p>Veja <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/61367">FS#61367</a>.
</p>
<h3>
<span id="O_dispositivo_sem_fio_n.C3.A3o_.C3.A9_renomeado_pelo_udev"></span><span class="mw-headline" id="O_dispositivo_sem_fio_não_é_renomeado_pelo_udev">O dispositivo sem fio não é renomeado pelo udev</span>
</h3>
<p>Atualize para <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iwd">iwd</a></span> 1.0 introduz o arquivo de configuração do link de rede systemd:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/lib/systemd/network/80-iwd.link</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Match]
Type=wlan

[Link]
NamePolicy=keep kernel</pre>
<p>Isso impede que o udev renomeie a interface para <code>wlp#s#</code>. Como resultado, o nome do link sem fio <code>wlan#</code> é mantido após a inicialização.
</p>
<p>Se isso resultar em problemas, tente mascará-lo com:
</p>
<pre># ln -s /dev/null /etc/systemd/network/80-iwd.link
</pre>
<h2>
<span id="Veja_tamb.C3.A9m"></span><span class="mw-headline" id="Veja_também">Veja também</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://iwd.wiki.kernel.org/gettingstarted">Getting Started with iwd</a></li>
<li><a rel="nofollow" class="external text" href="https://iwd.wiki.kernel.org/networkconfigurationsettings">Network Configuration Settings</a></li>
<li><a rel="nofollow" class="external text" href="https://git.kernel.org/pub/scm/network/wireless/iwd.git/tree/autotests">Mais exemplos para WPA empresarial</a></li>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=237074">O tópico do IWD nos fóruns do Arch Linux</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../pt/Category:Wireless_networking.html" title="Category:Wireless networking (Português)">Wireless networking (Português)</a></li>
<li><a href="../pt/Category:Network_configuration.html" title="Category:Network configuration (Português)">Network configuration (Português)</a></li>
</ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Iwd_(Portugu%C3%AAs)&amp;oldid=637323">https://wiki.archlinux.org/index.php?title=Iwd_(Português)&amp;oldid=637323</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 6 October 2020, at 00:25.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
