<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>System maintenance (Português) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-System_maintenance_Português rootpage-System_maintenance_Português skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">System maintenance (Português)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Status de tradução:</strong> Esse artigo é uma tradução de <a href="../en/System_maintenance.html" title="System maintenance">System maintenance</a>. Data da última tradução: 2020-06-26. Você pode ajudar a sincronizar a tradução, se houver <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=System_maintenance&amp;diff=0&amp;oldid=615955">alterações</a> na versão em inglês.</div>
<div class="archwiki-template-meta-related-articles-start">
<p>Artigos relacionados</p>
<ul>
<li><a href="../pt/General_recommendations.html" class="mw-redirect" title="Recomendações gerais">Recomendações gerais</a></li>
</ul>
</div>
<p>Manutenção de sistema regular é necessário para o correto funcionamento do Arch por um período de tempo. Manutenção periódica é uma prática a que muitos usuários se acostumam.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Verifique_por_erros"><span class="tocnumber">1</span> <span class="toctext">Verifique por erros</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Falha_em_servi%C3%A7os_de_systemd"><span class="tocnumber">1.1</span> <span class="toctext">Falha em serviços de systemd</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Arquivos_de_log"><span class="tocnumber">1.2</span> <span class="toctext">Arquivos de log</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4">
<a href="#Backup"><span class="tocnumber">2</span> <span class="toctext">Backup</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Arquivos_de_configura%C3%A7%C3%A3o"><span class="tocnumber">2.1</span> <span class="toctext">Arquivos de configuração</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Lista_de_pacotes_instalados"><span class="tocnumber">2.2</span> <span class="toctext">Lista de pacotes instalados</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Base_de_dados_do_pacman"><span class="tocnumber">2.3</span> <span class="toctext">Base de dados do pacman</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Metadados_criptogr%C3%A1ficos"><span class="tocnumber">2.4</span> <span class="toctext">Metadados criptográficos</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Dados_de_sistema_e_de_usu%C3%A1rio"><span class="tocnumber">2.5</span> <span class="toctext">Dados de sistema e de usuário</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10">
<a href="#Atualizando_o_sistema"><span class="tocnumber">3</span> <span class="toctext">Atualizando o sistema</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Leia_antes_de_atualizar_o_sistema"><span class="tocnumber">3.1</span> <span class="toctext">Leia antes de atualizar o sistema</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Evite_certos_comandos_do_pacman"><span class="tocnumber">3.2</span> <span class="toctext">Evite certos comandos do pacman</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Sem_suporte_a_atualiza%C3%A7%C3%B5es_parciais"><span class="tocnumber">3.3</span> <span class="toctext">Sem suporte a atualizações parciais</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Aja_em_alertas_durante_uma_atualiza%C3%A7%C3%A3o"><span class="tocnumber">3.4</span> <span class="toctext">Aja em alertas durante uma atualização</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Lide_prontamente_com_os_novos_arquivos_de_configura%C3%A7%C3%A3o"><span class="tocnumber">3.5</span> <span class="toctext">Lide prontamente com os novos arquivos de configuração</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Reinicialize_ap%C3%B3s_atualiza%C3%A7%C3%B5es"><span class="tocnumber">3.6</span> <span class="toctext">Reinicialize após atualizações</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Reverta_atualiza%C3%A7%C3%B5es_quebradas"><span class="tocnumber">3.7</span> <span class="toctext">Reverta atualizações quebradas</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Verifique_por_pacotes_%C3%B3rf%C3%A3os_ou_abandonados"><span class="tocnumber">3.8</span> <span class="toctext">Verifique por pacotes órfãos ou abandonados</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19">
<a href="#Use_o_gerenciador_de_pacotes_para_instalar_softwares"><span class="tocnumber">4</span> <span class="toctext">Use o gerenciador de pacotes para instalar softwares</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#Escolha_drivers_c%C3%B3digo_aberto"><span class="tocnumber">4.1</span> <span class="toctext">Escolha drivers código aberto</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Tenha_cuidado_com_pacotes_n%C3%A3o_oficiais"><span class="tocnumber">4.2</span> <span class="toctext">Tenha cuidado com pacotes não oficiais</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Atualize_o_mirrorlist"><span class="tocnumber">4.3</span> <span class="toctext">Atualize o mirrorlist</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-23">
<a href="#Limpe_o_sistema_de_arquivos"><span class="tocnumber">5</span> <span class="toctext">Limpe o sistema de arquivos</span></a>
<ul>
<li class="toclevel-2 tocsection-24"><a href="#Cache_de_pacotes"><span class="tocnumber">5.1</span> <span class="toctext">Cache de pacotes</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Pacotes_n%C3%A3o_usados_(%C3%B3rf%C3%A3os)"><span class="tocnumber">5.2</span> <span class="toctext">Pacotes não usados (órfãos)</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Arquivos_de_configura%C3%A7%C3%A3o_antigos"><span class="tocnumber">5.3</span> <span class="toctext">Arquivos de configuração antigos</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#Links_simb%C3%B3licos_quebrados"><span class="tocnumber">5.4</span> <span class="toctext">Links simbólicos quebrados</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-28">
<a href="#Dicas_e_truques"><span class="tocnumber">6</span> <span class="toctext">Dicas e truques</span></a>
<ul>
<li class="toclevel-2 tocsection-29"><a href="#Use_pacotes_de_software_aprovados"><span class="tocnumber">6.1</span> <span class="toctext">Use pacotes de software aprovados</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#Instale_o_pacote_linux-lts"><span class="tocnumber">6.2</span> <span class="toctext">Instale o pacote linux-lts</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-31"><a href="#Veja_tamb%C3%A9m"><span class="tocnumber">7</span> <span class="toctext">Veja também</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Verifique_por_erros">Verifique por erros</span></h2>
<h3>
<span id="Falha_em_servi.C3.A7os_de_systemd"></span><span class="mw-headline" id="Falha_em_serviços_de_systemd">Falha em serviços de systemd</span>
</h3>
<p>Verifique se algum serviço do systemd entrou em um estado de falha:
</p>
<pre>$ systemctl --failed
</pre>
<p>Veja <a href="../pt/Systemd.html#Analisando_o_estado_do_sistema" title="Systemd (Português)">Systemd#Analisando o estado do sistema</a> para mais informações.
</p>
<h3><span class="mw-headline" id="Arquivos_de_log">Arquivos de log</span></h3>
<p>Procure por erros nos arquivos de log localizados em <code>/var/log</code>, bem como erros de alta prioridade no journal do systemd:
</p>
<pre># journalctl -p 3 -xb
</pre>
<p>Veja <a href="../pt/508d3afdfb62d49d74039238ef71cd04.html" title="Systemd (Português)/Journal (Português)">systemd/Journal</a> para mais informações.
</p>
<p>Veja <a href="../pt/Xorg.html#Solu%C3%A7%C3%A3o_de_problemas" title="Xorg (Português)">Xorg#Solução de problemas</a> para informações sobre onde e como o <a href="../pt/Xorg.html" title="Xorg (Português)">Xorg</a> registra os erros.
</p>
<h2><span class="mw-headline" id="Backup">Backup</span></h2>
<p>Crie backups de dados importante em intervalos regulares. Veja <a href="../en/Synchronization_and_backup_programs.html" title="Synchronization and backup programs">Programas de sincronização e backup</a> para muitas alternativas de aplicativos que podem se adequar ao seu caso. Veja <a href="../pt/Category:System_recovery.html" title="Category:System recovery (Português)">Category:System recovery (Português)</a> para outros artigos de internet.
</p>
<p>Os backups podem ser automatizados com <a href="../pt/af7c34017c1457f128a3bb40b9913e94.html" title="Systemd (Português)/Timers (Português)">systemd/Timers</a>.
</p>
<h3>
<span id="Arquivos_de_configura.C3.A7.C3.A3o"></span><span class="mw-headline" id="Arquivos_de_configuração">Arquivos de configuração</span>
</h3>
<p>Antes de editar quaisquer arquivos de configuração, crie um backup de forma que você possa reverter para uma versão funcional no caso de haver problemas. Editores como <a href="../en/Vim.html" title="Vim">vim</a> e <a href="../en/Emacs.html" title="Emacs">emacs</a> pode fazer isso automaticamente, assim como ferramentas como <a href="../en/Etckeeper.html" title="Etckeeper">etckeeper</a> que mantêm <code>/etc</code> em um <a href="../en/Category:Version_Control_System.html" class="mw-redirect" title="Version control system">sistema de controle de versão</a> (VCS); veja <a href="../pt/Dotfiles.html#Rastreando_dotfiles_diretamente_com_Git" title="Dotfiles (Português)">dotfiles#Rastreando dotfiles diretamente com Git</a> para mais.
</p>
<h3><span class="mw-headline" id="Lista_de_pacotes_instalados">Lista de pacotes instalados</span></h3>
<p>Mantenha uma lista de todos os pacotes instalados de forma que, se uma reinstalação completa for inevitável, seja mais fácil recriar o ambiente original.
</p>
<p>Veja <a href="../pt/e746729236f459b9c753b9b9307aab6d.html#Lista_de_pacotes_instalados" class="mw-redirect" title="Pacman/Dicas e truques">pacman/Dicas e truques#Lista de pacotes instalados</a> para detalhes.
</p>
<h3><span class="mw-headline" id="Base_de_dados_do_pacman">Base de dados do pacman</span></h3>
<p>Veja <a href="../pt/e746729236f459b9c753b9b9307aab6d.html#Fazer_backup_da_base_de_dados_do_pacman" class="mw-redirect" title="Pacman/Dicas e truques">pacman/Dicas e truques#Fazer backup da base de dados do pacman</a>.
</p>
<h3>
<span id="Metadados_criptogr.C3.A1ficos"></span><span class="mw-headline" id="Metadados_criptográficos">Metadados criptográficos</span>
</h3>
<p>Veja <a href="../pt/Data-at-rest_encryption.html#Backup_para_cen%C3%A1rios_de_criptografia_de_disco" class="mw-redirect" title="Criptografia de dados em repouso">Criptografia de dados em repouso#Backup para cenários de criptografia de disco</a>.
</p>
<h3>
<span id="Dados_de_sistema_e_de_usu.C3.A1rio"></span><span class="mw-headline" id="Dados_de_sistema_e_de_usuário">Dados de sistema e de usuário</span>
</h3>
<p>Veja <a href="../pt/System_backup.html" class="mw-redirect" title="Backup do sistema">Backup do sistema</a>.
</p>
<h2><span class="mw-headline" id="Atualizando_o_sistema">Atualizando o sistema</span></h2>
<p>É recomendado realizar atualizações completas do sistema regularmente via <a href="../pt/Pacman.html#Atualizando_pacotes" title="Pacman (Português)">Pacman#Atualizando pacotes</a>, para aproveitar as últimas correções de erros e atualizações de segurança, além de evitar de ter que lidar com muitas atualizações de pacotes que exigem intervenção manual de uma só vez. Ao solicitar suporte da comunidade, é geralmente presumido que o sistema esteja atualizado.
</p>
<p>Certifique-se de que a mídia de instalação do Arch ou outro CD/USB "live" de Linux esteja disponível, de forma que você possa facilmente recuperar seu sistema se houver um problema após a atualização. Se você está usando o Arch em um ambiente de produção, ou não puder se dar o luxo de tê-lo indisponível por algum motivo, teste alterações aos arquivos de configurações, bem como atualizações de pacotes de software, em um sistema duplicata não crítico (i.e sistema de homologação) primeiro. Então, se tudo funcionar corretamente, aplique as alterações no sistema de produção.
</p>
<p>Se o sistema possui pacotes do <a href="../pt/Arch_User_Repository.html" class="mw-redirect" title="AUR (Português)">AUR</a>, atualize todos eles com muito cuidado.
</p>
<p><i>pacman</i> é uma ferramenta de gerenciamento de pacotes poderosa, mas ela não tenta resolver todos problemas possíveis. Os usuários devem estar vigilantes e ter responsabilidade pela manutenção de seu próprio sistema.
</p>
<h3><span class="mw-headline" id="Leia_antes_de_atualizar_o_sistema">Leia antes de atualizar o sistema</span></h3>
<p>Antes de atualizar, espera-se que os usuários visitem a <a rel="nofollow" class="external text" href="https://archlinux.org/">página inicial do Arch Linux</a> (ou até o <a rel="nofollow" class="external text" href="http://www.archlinux-br.org/">Arch Linux Brasil</a>) para verificar as últimas notícias ou, alternativamente, estejam inscritos no <a rel="nofollow" class="external text" href="https://archlinux.org/feeds/news/">feed RSS</a> ou na <a rel="nofollow" class="external text" href="https://mailman.archlinux.org/mailman/listinfo/arch-announce/">lista de discussão arch-announce</a>. Quando atualizações exigirem intervenção fora do normal do usuário (mais do que pode ser tratado simplesmente seguindo as instruções fornecidas pelo <i>pacman</i>), uma notícia apropriada será publicada.
</p>
<p>Antes de atualizar softwares fundamentais (como o <a href="../pt/Kernel.html" title="Kernel (Português)">kernel</a>, <a href="../pt/Xorg.html" title="Xorg (Português)">xorg</a>, <a href="../pt/Systemd.html" title="Systemd (Português)">systemd</a> ou <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=glibc">glibc</a></span>) para uma nova versão, procure pelo <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/">fórum</a> apropriado por algum relato de problema.
</p>
<p>Da mesma forma, usuários devem estar cientes de que atualizar pacotes pode trazer problemas <b>inesperados</b> que podem precisar de intervenção imediata; portanto, é desencorajado atualizar um sistema estável logo antes dele ser necessário para realizar uma tarefa importante. Em vez disso, é sábio esperar ter tempo suficiente para poder lidar com possíveis problemas pós-atualização.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> Você pode usar um hook do pacman como <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/informant/">informant</a></span><sup><small>AUR</small></sup> que impede a atualização caso houverem noticias recentes do Arch que não foram lidas desde a última atualização.</div>
<h3><span class="mw-headline" id="Evite_certos_comandos_do_pacman">Evite certos comandos do pacman</span></h3>
<p>Evite fazer <a href="#Sem_suporte_a_atualiza%C3%A7%C3%B5es_parciais">atualizações parciais</a>. Em outras palavras, nunca execute <code>pacman -Sy</code>; em vez disso, sempre use <code>pacman -Syu</code>.
</p>
<p>Geralmente evite usar a opção <code>--overwrite</code> com o pacman. A opção <code>--overwrite</code> leva um argumento contendo um glob. Quando usado, o pacman ignorará as verificações de conflitos de arquivos em busca de arquivos que correspondam ao glob. Em um sistema adequadamente mantido, ele deve ser usado somente quando explicitamente recomendado pelos desenvolvedores do Arch. Veja a seção <a href="#Leia_antes_de_atualizar_o_sistema">#Leia antes de atualizar o sistema</a>.
</p>
<p>Evite usar a opção <code>-d</code> com o pacman. <code>pacman -Rdd <i>pacote</i></code> ignora verificações de dependência durante a remoção de pacote. Como resultado, um pacote fornecendo uma dependência crítica pode ser removido, resultando em um sistema quebrado.
</p>
<h3>
<span id="Sem_suporte_a_atualiza.C3.A7.C3.B5es_parciais"></span><span class="mw-headline" id="Sem_suporte_a_atualizações_parciais">Sem suporte a atualizações parciais</span>
</h3>
<p>Arch Linux é uma distribuição de <i><a href="https://en.wikipedia.org/wiki/pt:rolling_release" class="extiw" title="wikipedia:pt:rolling release">rolling release</a></i> (ou lançamento contínuo). Isso significa que quando novas versões das <a href="https://en.wikipedia.org/wiki/pt:Biblioteca_(computa%C3%A7%C3%A3o)" class="extiw" title="wikipedia:pt:Biblioteca (computação)">bibliotecas</a> são enviadas para os repositórios, os <a rel="nofollow" class="external text" href="https://archlinux.org/people/developers/">desenvolvedores</a> e <a href="../pt/Trusted_Users.html" title="Trusted Users (Português)">Trusted Users</a> recompilam todos os pacotes nos repositórios que precisam ser recompilados com as bibliotecas. Por exemplo, se dois pacotes dependem da mesma biblioteca, atualizar apenas um pacote pode também atualizar a biblioteca (como uma dependência), o que pode então quebrar o outro pacote que depende de uma versão antiga da biblioteca.
</p>
<p>É por esse motivo que <i>não há suporte</i> a atualizações parciais. Não use <code>pacman -Sy <i>pacote</i></code> ou qualquer comando equivalente, como <code>pacman -Sy</code> seguido por <code>pacman -S <i>pacote</i></code>. <b>Sempre</b> atualize (com <code>pacman -Syu</code>) antes de instalar um pacote. Tenha muito cuidado ao usar <code>IgnorePkg</code> e <code>IgnoreGroup</code> pelo mesmo motivo. Se o sistema possui pacotes compilados localmente (tal como pacote do <a href="../pt/Arch_User_Repository.html" class="mw-redirect" title="AUR (Português)">AUR</a>), os usuários precisarão recompilá-los quando suas dependências receberem uma mudança no <a href="https://en.wikipedia.org/wiki/pt:soname" class="extiw" title="wikipedia:pt:soname">soname</a>.
</p>
<p>Se um cenário de atualização parcial for criado, e os binários forem quebrados porque eles não conseguem localizar as bibliotecas às quais eles estão vinculados, <b>não "corrija" o problema usando apenas fazendo um link simbólico</b>. Bibliotecas recebem mudanças <a href="https://en.wikipedia.org/wiki/pt:soname" class="extiw" title="wikipedia:pt:soname">soname</a> quando elas <b>não possuem compatível com a versão anterior</b>. Um simples <code>pacman -Syu</code> com um espelho sincronizado corretamente irá corrigir o problema, desde que o <i>pacman</i> não esteja quebrado.
</p>
<p>O script bash <i>checkupdates</i>, incluído no pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman-contrib">pacman-contrib</a></span>, fornece uma forma segura de verificar por atualizações para pacotes instalados sem executar uma atualização do sistema ao mesmo tempo.
</p>
<h3>
<span id="Aja_em_alertas_durante_uma_atualiza.C3.A7.C3.A3o"></span><span class="mw-headline" id="Aja_em_alertas_durante_uma_atualização">Aja em alertas durante uma atualização</span>
</h3>
<p>Ao atualizar o sistema, certifique-se de prestar atenção aos avisos de alerta fornecidos pelo <a href="../pt/Pacman.html" title="Pacman (Português)">pacman</a>. Se quaisquer ações adicionais do usuário forem exigidas, assegure-se de resolvê-las imediatamente. Se um alerta do pacman estiver confuso, pesquise no fórum e notícias recentes para mais instruções detalhadas.
</p>
<h3>
<span id="Lide_prontamente_com_os_novos_arquivos_de_configura.C3.A7.C3.A3o"></span><span class="mw-headline" id="Lide_prontamente_com_os_novos_arquivos_de_configuração">Lide prontamente com os novos arquivos de configuração</span>
</h3>
<p>Quando o pacman é chamado, arquivos <code>.pacnew</code> e <code>.pacsave</code> podem ser criados. Pacman fornece aviso quando isso acontece e usuários devem lidar com esses arquivos imediatamente. Veja a página wiki <a href="../pt/4838b87c75c60b4653d29aec2d3db029.html" class="mw-redirect" title="Pacman/Pacnew e Pacsave">pacman/Pacnew e Pacsave</a> para instruções detalhadas.
</p>
<p>Também, pense em outros arquivos de configuração que você pode ter copiado ou criado. Se um pacote possuir um exemplo de configuração que você copiou para seu diretório home, verifique se um novo foi criado.
</p>
<h3>
<span id="Reinicialize_ap.C3.B3s_atualiza.C3.A7.C3.B5es"></span><span class="mw-headline" id="Reinicialize_após_atualizações">Reinicialize após atualizações</span>
</h3>
<p>As atualizações geralmente não são aplicadas aos processos existentes. Você deve reiniciar os processos para aplicar completamente a atualização.
</p>
<p>O kernel é particularmente difícil de corrigir sem uma reinicialização. Uma reinicialização é sempre a opção mais segura, mas, se isso for muito inconveniente, a <a href="../en/Kernel_live_patching.html" title="Kernel live patching">kernel live patching</a> pode ser usado para aplicar atualizações sem reinicialização.
</p>
<h3>
<span id="Reverta_atualiza.C3.A7.C3.B5es_quebradas"></span><span class="mw-headline" id="Reverta_atualizações_quebradas">Reverta atualizações quebradas</span>
</h3>
<p>Se uma atualização de pacote é esperada/sabido causar problemas, empacotadores vão se certificar de exibir uma mensagem apropriada quando o pacote é atualizado. Se você presenciar um problema após uma atualização, confira a saída do pacman olhando no <code>/var/log/pacman.log</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Dica:</strong> Você pode usar um visualização de log como o <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wat-git/">wat-git</a></span><sup><small>AUR</small></sup> para pesquisar por logs do pacman.</div>
<p>A esse ponto, somente após garantir que não haja informações disponíveis pelo pacman, que não há notícia relacionada no <a rel="nofollow" class="external free" href="https://archlinux.org/">https://archlinux.org/</a> e que não haja tópicos no fórum sobre a atualização, considere pedir ajuda no <a rel="nofollow" class="external text" href="https://bbs.archlinux.org">fórum</a>, pelo <a href="../pt/Arch_IRC_channels.html" class="mw-redirect" title="IRC (Português)">IRC</a> ou <a href="../pt/Downgrading_packages.html" class="mw-redirect" title="Fazendo downgrade">fazendo downgrade</a> da versão do pacote danoso.
</p>
<h3>
<span id="Verifique_por_pacotes_.C3.B3rf.C3.A3os_ou_abandonados"></span><span class="mw-headline" id="Verifique_por_pacotes_órfãos_ou_abandonados">Verifique por pacotes órfãos ou abandonados</span>
</h3>
<p>Após a atualização, você pode agora ter pacotes que não são mais necessários ou que não estão mais nos repositórios oficiais.
</p>
<p>Use <code>pacman -Qtd</code> para verificar se os pacotes foram instalados como uma dependência, mas agora, nenhum outro pacote depende deles. Se um pacote órfão ainda for necessário, é recomendável alterar o <a href="../pt/Pacman.html#Motivo_de_instala%C3%A7%C3%A3o" class="mw-redirect" title="Motivo de instalação">motivo de instalação</a> para explícito. Caso contrário, se o pacote não for mais necessário, ele pode ser removido.
</p>
<p>Além disso, alguns pacotes podem não estar nos repositórios remotos, mas eles ainda podem estar no seu sistema local. Para listar todos os pacotes externos use <code>pacman -Qm</code>. Observe que esta lista incluirá pacotes que foram instalados manualmente (p. ex., a partir do <a href="../pt/Arch_User_Repository.html" class="mw-redirect" title="AUR (Português)">AUR</a>). Para excluir pacotes que (ainda) estão disponíveis no AUR, use a ferramenta <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ancient-packages/">ancient-packages</a></span><sup><small>AUR</small></sup>.
</p>
<h2><span class="mw-headline" id="Use_o_gerenciador_de_pacotes_para_instalar_softwares">Use o gerenciador de pacotes para instalar softwares</span></h2>
<p>O <a href="../pt/Pacman.html" title="Pacman (Português)">pacman</a> faz um trabalho bem melhor do que você em manter rastro dos arquivos. Se você instalar coisas manualmente você <i>vai</i>, cedo ou tarde, esquecer o que você fez, esquecer onde você instalou, instalar softwares conflitantes, instalar as localizações erradas, etc.
</p>
<ul>
<li>Instale pacotes dos repositórios oficiais usando o método na seção <a href="../pt/Pacman.html#Instalando_pacotes" title="Pacman (Português)">Pacman#Instalando pacotes</a>.</li>
<li>Se o programa que você deseja não estiver disponível, verifique se alguém criou um pacote no <a href="../pt/Arch_User_Repository.html" class="mw-redirect" title="AUR (Português)">AUR</a>. Siga o método naquele artigo para instalação.</li>
<li>Por último, se o programa que você deseja não se encontra nos repositórios oficiais ou no AUR, aprenda como <a href="../pt/Creating_packages.html" class="mw-redirect" title="Criar um pacote">criar um pacote</a> para ele.</li>
</ul>
<p>Para limpar arquivos instalados inadequadamente, Veja <a href="../pt/e746729236f459b9c753b9b9307aab6d.html#Identificar_arquivos_que_perten%C3%A7am_a_nenhum_pacote" class="mw-redirect" title="Pacman/Dicas e truques">Pacman/Dicas e truques#Identificar arquivos que pertençam a nenhum pacote</a>.
</p>
<h3>
<span id="Escolha_drivers_c.C3.B3digo_aberto"></span><span class="mw-headline" id="Escolha_drivers_código_aberto">Escolha drivers código aberto</span>
</h3>
<p>Sempre tente usar drivers de código aberto antes de recorrer a drivers proprietários. Na maioria das vezes, drivers de código aberto são mais estáveis e confiáveis do que drivers proprietários. Bugs de drivers de código aberto são corrigidos com mais facilidade e rapidez. Apesar de drivers proprietários poderem oferecer mais recursos e capacidades, isso pode vir com o custo da perda de estabilidade. Para evitar esse dilema, tente escolher componentes de hardware conhecidos para ter um suporte maduro a driver de código aberto com todos os recursos. Informações sobre hardware com drivers Linux de código aberto estão disponíveis em <a rel="nofollow" class="external text" href="http://www.linux-drivers.org/">linux-drivers.org</a><sup>[<a href="https://en.wikipedia.org/wiki/pt:Wikip%C3%A9dia:Liga%C3%A7%C3%A3o_inativa" class="extiw" title="wikipedia:pt:Wikipédia:Ligação inativa">link inativo</a> 2019-10-12]</sup>.
</p>
<h3>
<span id="Tenha_cuidado_com_pacotes_n.C3.A3o_oficiais"></span><span class="mw-headline" id="Tenha_cuidado_com_pacotes_não_oficiais">Tenha cuidado com pacotes não oficiais</span>
</h3>
<p>Seja cauteloso ao usar pacotes do <a href="../pt/Arch_User_Repository.html" class="mw-redirect" title="AUR (Português)">AUR</a> ou um <a href="../en/Unofficial_user_repositories.html" class="mw-redirect" title="Unofficial user repository">repositório não oficial de usuários</a>. A maioria é fornecida pelos usuários e, portanto, pode não ter os mesmos padrões que aqueles nos repositórios oficiais. Evite <a href="../pt/AUR_helpers.html" class="mw-redirect" title="Auxiliares do AUR">auxiliares do AUR</a> que automatizam a instalação de pacotes do AUR. <b>Sempre</b> verifique PKGBUILDs por sanidade e sinais de erro ou código malicioso antes de compilar a/ou instalar o pacote.
</p>
<p>Para simplificar a manutenção, limite a quantidade de pacotes não oficiais usados. Faça verificações periódicas de quais estão em uso e remova (ou substitua por suas contrapartes oficiais) quaisquer outros. Veja <a href="../pt/e746729236f459b9c753b9b9307aab6d.html#Manuten%C3%A7%C3%A3o" class="mw-redirect" title="Pacman/Dicas e truques">pacman/Dicas e truques#Manutenção</a> para comandos úteis.
</p>
<h3><span class="mw-headline" id="Atualize_o_mirrorlist">Atualize o mirrorlist</span></h3>
<p>Atualize a lista de espelhos (<i>mirrorlist</i>) do pacman, pois a qualidade dos espelhos podem variar ao longo do tempo e alguns podem ficar inacessíveis ou sua taxa de download pode estar ruim.
</p>
<p>Veja <a href="../pt/Mirrors.html" class="mw-redirect" title="Espelhos">Espelhos</a> para detalhes.
</p>
<h2><span class="mw-headline" id="Limpe_o_sistema_de_arquivos">Limpe o sistema de arquivos</span></h2>
<p>Ao procurar por arquivos para remover, é importante localizar os arquivos que mais ocupam espaço do disco. Programas que ajudam nisso são localizados em:
</p>
<ul>
<li>
<a href="../en/List_of_applications.html#Disk_usage_display" title="List of applications">List of applications#Disk usage display</a>.</li>
<li>
<a href="../en/List_of_applications.html#Disk_cleaning" title="List of applications">List of applications#Disk cleaning</a>.</li>
</ul>
<h3><span class="mw-headline" id="Cache_de_pacotes">Cache de pacotes</span></h3>
<p>Remova arquivos <code>.pkg</code> indesejados de <code>/var/cache/pacman/pkg/</code> para liberar espaço em disco.
</p>
<p>Veja <a href="../pt/Pacman.html#Limpando_o_cache_de_pacotes" title="Pacman (Português)">Pacman#Limpando o cache de pacotes</a> para mais informações.
</p>
<h3>
<span id="Pacotes_n.C3.A3o_usados_.28.C3.B3rf.C3.A3os.29"></span><span class="mw-headline" id="Pacotes_não_usados_(órfãos)">Pacotes não usados (órfãos)</span>
</h3>
<p>Remova pacotes não usados do sistema para liberar espaço em disco e simplificar a manutenção
</p>
<p>Veja <a href="../pt/e746729236f459b9c753b9b9307aab6d.html#Removendo_pacotes_n%C3%A3o_usados_(%C3%B3rf%C3%A3os)" class="mw-redirect" title="Pacman/Dicas e truques">Pacman/Dicas e truques#Removendo pacotes não usados (órfãos)</a> para detalhes.
</p>
<h3>
<span id="Arquivos_de_configura.C3.A7.C3.A3o_antigos"></span><span class="mw-headline" id="Arquivos_de_configuração_antigos">Arquivos de configuração antigos</span>
</h3>
<p>Arquivos de configuração antigos podem conflitar com versões novas dos softwares ou se corromperem ao longo do tempo. Remova configurações desnecessárias periodicamente, em especial em sua pasta home e <code>~/.config</code>. Por motivos similares, tenha cuidado ao compartilhar pastas home entre instalações.
</p>
<p>Procure pelas seguintes pastas:
</p>
<ul>
<li>
<code>~/.config/</code> -- onde aplicativos armazenam suas configurações</li>
<li>
<code>~/.cache/</code> -- cache de alguns programas podem crescer em tamanho</li>
<li>
<code>~/.local/share/</code> -- arquivos antigos podem estar parados lá</li>
</ul>
<p>Veja <a href="../pt/XDG_Base_Directory.html" class="mw-redirect" title="Suporte a XDG Base Directory">Suporte a XDG Base Directory</a> para mais informações.
</p>
<p>Para manter o diretório home limpe de arquivos temporários criados no lugar errado, é uma boa ideia gerenciar uma lista de arquivos indesejados e removê-los regularmente, por exemplo, com <a rel="nofollow" class="external text" href="https://github.com/lahwaacz/Scripts/blob/master/rmshit.py">rmshit.py</a>.
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=rmlint">rmlint</a></span> pode ser usado para localizar e, opcionalmente, remover arquivos duplicados, arquivos vazios, diretórios vazios recursivamente e links simbólicos quebrados.
</p>
<h3>
<span id="Links_simb.C3.B3licos_quebrados"></span><span class="mw-headline" id="Links_simbólicos_quebrados">Links simbólicos quebrados</span>
</h3>
<p>Links simbólicos antigos e quebrados podem estar soltos no seu sistema; você deve removê-los. Pode-se encontrar exemplos sobre como conseguir isso <a rel="nofollow" class="external text" href="https://unix.stackexchange.com/questions/34248/how-can-i-find-broken-symlinks">aqui</a> e <a rel="nofollow" class="external text" href="http://www.commandlinefu.com/commands/view/8260/find-broken-symlinks">aqui</a>. Porém, você não deve excluir cegamente todos os links simbólicos quebrados, pois alguns deles servem a um propósito <a rel="nofollow" class="external autonumber" href="https://unix.stackexchange.com/questions/151763/is-there-a-downside-to-deleting-all-of-the-broken-symbolic-links-in-a-system">[1]</a>.
</p>
<p>Para listar rapidamente todos os links simbólicos em seu sistema, use:
</p>
<pre># find / -xtype l -print
</pre>
<p>Então, inspecione e remova todas as entradas desnecessárias desta lista.
</p>
<h2><span class="mw-headline" id="Dicas_e_truques">Dicas e truques</span></h2>
<p>As seguintes dicas geralmente não são necessários, mas certos usuários podem achá-los úteis.
</p>
<h3><span class="mw-headline" id="Use_pacotes_de_software_aprovados">Use pacotes de software aprovados</span></h3>
<p>O estilo <i>rolling release</i> do Arch pode ser benéfico para usuários que desejam tentar os últimos recursos ou obter atualizações do upstream o mais cedo possível, mas eles também podem dificultar a manutenção do sistema. Para simplificar a manutenção e melhorar a estabilidade, tente evitar softwares demasiadamente novos e instale apenas softwares aprovados e maduros. Tais pacotes têm menos chance de receber atualizações difíceis, como grandes alterações nas configurações ou remoções de recursos. Prefira um software que possua uma comunidade de desenvolvimento forte e ativa, bem como um alto número de usuários competentes, para simplificar suporte na eventualidade de ocorrer um problema.
</p>
<p>Evite qualquer uso do repositório de teste, até mesmo pacotes individuais de teste. Esses pacotes são experimentais e não são adequados para um sistema estável. Da mesma forma, evite pacotes que são compilados diretamente dos fontes de desenvolvimento do upstream. Esses geralmente são encontrados no <a href="../pt/Arch_User_Repository.html" class="mw-redirect" title="AUR (Português)">AUR</a>, com nomes incluindo coisas como: "dev", "devel", "svn", "cvs", "git", etc.
</p>
<h3><span class="mw-headline" id="Instale_o_pacote_linux-lts">Instale o pacote linux-lts</span></h3>
<p>O pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-lts">linux-lts</a></span> é uma pacote alternativo de kernel do Arch e está disponível no repositório <a href="../pt/Official_repositories.html#core" class="mw-redirect" title="Core (Português)">core</a>. Essa versão de kernel em particular possui suporte de longo prazo (LTS) do upstream, incluindo correções de segurança e alguns <i>backports</i> de recursos. É útil caso você prefira a estabilidade de atualizações menos frequentes de kernel ou caso você deseje um kernel <i>fallback</i> na eventualidade de um novo kernel causar problemas.
</p>
<p>Para disponibilizá-lo como uma opção de boot, você precisará atualizar as configurações de seu <a href="../pt/Arch_boot_process.html#Gerenciador_de_boot" class="mw-redirect" title="Gerenciador de boot">gerenciador de boot</a> para usar o kernel LTS e disco de ram: <code>vmlinuz-linux-lts</code> and <code>initramfs-linux-lts.img</code>.
</p>
<h2>
<span id="Veja_tamb.C3.A9m"></span><span class="mw-headline" id="Veja_também">Veja também</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=146850">Arch News Bash Script</a></li>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1791008">Automatic Arch System Maintenance</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../pt/Category:System_administration.html" title="Category:System administration (Português)">System administration (Português)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=System_maintenance_(Portugu%C3%AAs)&amp;oldid=647062">https://wiki.archlinux.org/index.php?title=System_maintenance_(Português)&amp;oldid=647062</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 26 December 2020, at 12:26.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
