<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Installation guide (正體中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Installation_guide_正體中文 rootpage-Installation_guide_正體中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Installation guide (正體中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻譯狀態：</strong>本文章是 <a href="../en/Installation_guide.html" title="Installation guide">Installation_guide</a> 的翻譯版本。最近一次的翻譯時間：2020-12-05。點擊<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Installation_guide&amp;diff=0&amp;oldid=%7B%7B%7B3%7D%7D%7D">本連結</a>查看英文頁面之後的變更。</div>
<p>此文件是引導你透過使用官方安裝鏡像製作的安裝媒介啓動的 live 系統安裝 <a href="../en/Arch_Linux.html" title="Arch Linux">Arch Linux</a> 的教學。安裝媒介提供無障礙功能，參見 <a href="../en/Install_Arch_Linux_with_accessibility_options.html" title="Install Arch Linux with accessibility options">Install Arch Linux with accessibility options</a>。其它安裝方式參見 <a href="../en/Category:Installation_process.html" title="Category:Installation process">Category:Installation process</a>。
</p>
<p>在安裝前，建議先閱讀 <a href="../en/Frequently_asked_questions.html" class="mw-redirect" title="FAQ">FAQ</a>。關於此文件使用的慣例字詞，請閱讀 <a href="../en/Help:Reading.html" title="Help:Reading">Help:Reading</a>。一些情況下，範例程式碼可能包含佔位符（以 <code><i>italics</i></code> 格式化），其需要手動替換。
</p>
<p>更詳細的指導可以參考對應的 <a href="../en/ArchWiki:About.html" class="mw-redirect" title="ArchWiki">ArchWiki</a> 文章或該程式的 <a href="../en/Man_page.html" title="Man page">手冊頁</a>。如需要互動式幫助，可以使用 <a href="../en/Arch_IRC_channels.html" class="mw-redirect" title="IRC channel">IRC channel</a> 及 <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/">英文論壇</a>。
</p>
<p>Arch Linux 可在任何 RAM 不小於 512 MiB 的 <a href="https://en.wikipedia.org/wiki/X86-64" class="extiw" title="wikipedia:X86-64">x86_64</a> 相容機器上運作，但用於安裝的 live 系統需要更多記憶體。<a rel="nofollow" class="external autonumber" href="https://lists.archlinux.org/pipermail/arch-releng/2020-May/003957.html">[1]</a> 基本安裝將佔用小於 2 GiB 的硬碟空間。由於安裝過程中需要從遠端軟體庫取得軟體包，因此此教學假設有可用的網際網路連線。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%E5%AE%89%E8%A3%9D%E5%89%8D%E7%9A%84%E6%BA%96%E5%82%99"><span class="tocnumber">1</span> <span class="toctext">安裝前的準備</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#%E7%8D%B2%E5%8F%96%E5%AE%89%E8%A3%9D%E9%8F%A1%E5%83%8F"><span class="tocnumber">1.1</span> <span class="toctext">獲取安裝鏡像</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#%E9%A9%97%E8%AD%89%E7%B0%BD%E7%AB%A0"><span class="tocnumber">1.2</span> <span class="toctext">驗證簽章</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#%E6%BA%96%E5%82%99%E5%AE%89%E8%A3%9D%E5%AA%92%E4%BB%8B"><span class="tocnumber">1.3</span> <span class="toctext">準備安裝媒介</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#%E5%95%93%E5%8B%95_live_%E7%92%B0%E5%A2%83"><span class="tocnumber">1.4</span> <span class="toctext">啓動 live 環境</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#%E8%A8%AD%E5%AE%9A%E9%8D%B5%E7%9B%A4%E9%85%8D%E7%BD%AE"><span class="tocnumber">1.5</span> <span class="toctext">設定鍵盤配置</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#%E7%A2%BA%E8%AA%8D%E5%95%93%E5%8B%95%E6%A8%A1%E5%BC%8F"><span class="tocnumber">1.6</span> <span class="toctext">確認啓動模式</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#%E9%80%A3%E7%B7%9A%E5%88%B0%E7%B6%B2%E9%9A%9B%E7%B6%B2%E8%B7%AF"><span class="tocnumber">1.7</span> <span class="toctext">連線到網際網路</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#%E6%9B%B4%E6%96%B0%E7%B3%BB%E7%B5%B1%E6%99%82%E9%96%93"><span class="tocnumber">1.8</span> <span class="toctext">更新系統時間</span></a></li>
<li class="toclevel-2 tocsection-10">
<a href="#%E5%88%86%E5%89%B2%E7%A1%AC%E7%A2%9F"><span class="tocnumber">1.9</span> <span class="toctext">分割硬碟</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="#%E5%88%86%E5%89%B2%E5%8D%80%E7%A4%BA%E4%BE%8B"><span class="tocnumber">1.9.1</span> <span class="toctext">分割區示例</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-12"><a href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%88%86%E5%89%B2"><span class="tocnumber">1.10</span> <span class="toctext">格式化分割</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#%E6%8E%9B%E8%BC%89%E6%AA%94%E6%A1%88%E7%B3%BB%E7%B5%B1"><span class="tocnumber">1.11</span> <span class="toctext">掛載檔案系統</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14">
<a href="#%E5%AE%89%E8%A3%9D"><span class="tocnumber">2</span> <span class="toctext">安裝</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="#%E9%81%B8%E6%93%87%E9%8F%A1%E5%83%8F%E7%AB%99"><span class="tocnumber">2.1</span> <span class="toctext">選擇鏡像站</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#%E5%AE%89%E8%A3%9D%E5%BF%85%E8%A6%81%E7%9A%84%E8%BB%9F%E9%AB%94%E5%8C%85"><span class="tocnumber">2.2</span> <span class="toctext">安裝必要的軟體包</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17">
<a href="#%E9%85%8D%E7%BD%AE%E7%B3%BB%E7%B5%B1"><span class="tocnumber">3</span> <span class="toctext">配置系統</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="#Fstab"><span class="tocnumber">3.1</span> <span class="toctext">Fstab</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Chroot"><span class="tocnumber">3.2</span> <span class="toctext">Chroot</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#%E6%99%82%E5%8D%80"><span class="tocnumber">3.3</span> <span class="toctext">時區</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#%E5%9C%A8%E5%9C%B0%E5%8C%96"><span class="tocnumber">3.4</span> <span class="toctext">在地化</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#%E9%85%8D%E7%BD%AE%E7%B6%B2%E8%B7%AF"><span class="tocnumber">3.5</span> <span class="toctext">配置網路</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Initramfs"><span class="tocnumber">3.6</span> <span class="toctext">Initramfs</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Root_%E5%AF%86%E7%A2%BC"><span class="tocnumber">3.7</span> <span class="toctext">Root 密碼</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#%E9%96%8B%E6%A9%9F%E5%BC%95%E5%B0%8E%E7%A8%8B%E5%BC%8F"><span class="tocnumber">3.8</span> <span class="toctext">開機引導程式</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-26"><a href="#%E9%87%8D%E6%96%B0%E5%95%93%E5%8B%95"><span class="tocnumber">4</span> <span class="toctext">重新啓動</span></a></li>
<li class="toclevel-1 tocsection-27"><a href="#%E5%AE%89%E8%A3%9D%E5%BE%8C"><span class="tocnumber">5</span> <span class="toctext">安裝後</span></a></li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.9D.E5.89.8D.E7.9A.84.E6.BA.96.E5.82.99"></span><span class="mw-headline" id="安裝前的準備">安裝前的準備</span>
</h2>
<h3>
<span id=".E7.8D.B2.E5.8F.96.E5.AE.89.E8.A3.9D.E9.8F.A1.E5.83.8F"></span><span class="mw-headline" id="獲取安裝鏡像">獲取安裝鏡像</span>
</h3>
<p>訪問 <a rel="nofollow" class="external text" href="https://archlinux.org/download/">下載</a> 頁，並根據需要的啓動方式獲取 ISO 檔或 netboot 鏡像，以及對應的 <a href="../en/GnuPG.html" title="GnuPG">GnuPG</a> 簽章。
</p>
<h3>
<span id=".E9.A9.97.E8.AD.89.E7.B0.BD.E7.AB.A0"></span><span class="mw-headline" id="驗證簽章">驗證簽章</span>
</h3>
<p>推薦在使用鏡像前先驗證簽章，特別是從容易被攔截而 <a rel="nofollow" class="external text" href="https://www2.cs.arizona.edu/stork/packagemanagersecurity/attacks-on-package-managers.html">提供惡意鏡像</a> 的 <i>HTTP 鏡像源</i> 下載時。
</p>
<p>在已經安裝 <a href="../en/GnuPG.html" title="GnuPG">GnuPG</a> 的系統上，下載 <i>PGP 簽章</i>（位於 <a rel="nofollow" class="external text" href="https://archlinux.org/download/">下載</a> 頁的 <i>Checksums</i> 下方）到 ISO 所在目錄，然後 <a href="../en/GnuPG.html#Verify_a_signature" title="GnuPG">進行驗證</a>：
</p>
<pre>$ gpg --keyserver-options auto-key-retrieve --verify archlinux-<i>version</i>-x86_64.iso.sig
</pre>
<p>或者，在現有的 Arch Linux 作業系統上運行：
</p>
<pre>$ pacman-key -v archlinux-<i>version</i>-x86_64.iso.sig
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 
<ul>
<li>如簽章是從鏡像源而非上文的 <a rel="nofollow" class="external text" href="https://archlinux.org/download/">archlinux.org</a> 下載，則其本身可被僞造。在這種情況下，確保用於解碼簽章的公鑰被另一可信任的金鑰簽名。<code>gpg</code> 指令會輸出公鑰的指紋。</li>
<li>另一種驗證簽章的方法是確保公鑰的指紋與簽署 ISO 檔案的 <a rel="nofollow" class="external text" href="https://archlinux.org/people/developers/">Arch Linux 開發者</a> 相同。要獲取更多關於公鑰認證的訊息，請閱讀 <a href="https://en.wikipedia.org/wiki/Public-key_cryptography" class="extiw" title="wikipedia:Public-key cryptography">Wikipedia:Public-key cryptography</a>。</li>
</ul>
</div>
<h3>
<span id=".E6.BA.96.E5.82.99.E5.AE.89.E8.A3.9D.E5.AA.92.E4.BB.8B"></span><span class="mw-headline" id="準備安裝媒介">準備安裝媒介</span>
</h3>
<p>安裝鏡像可通過 <a href="../en/USB_flash_installation_medium.html" title="USB flash installation medium">USB 隨身碟</a>、<a href="../en/Optical_disc_drive.html#Burning" title="Optical disc drive">光碟</a> 或含有 <a href="../en/Preboot_Execution_Environment.html" class="mw-redirect" title="PXE">PXE</a> 的網路提供給目標設備：跟隨對應的文章來準備安裝媒介。
</p>
<h3>
<span id=".E5.95.93.E5.8B.95_live_.E7.92.B0.E5.A2.83"></span><span class="mw-headline" id="啓動_live_環境">啓動 live 環境</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> Arch Linux 安裝鏡像不支援 Secure Boot。您需要 <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html#Disabling_Secure_Boot" title="Unified Extensible Firmware Interface/Secure Boot">關閉 Secure Boot</a> 來啓動安裝媒介。如有需要，可在安裝完成後設定 <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a>。</div>
<ol>
<li>將當前啓動設備指定爲含有 Arch Linux 安裝媒介的驅動器。通常通過按照螢幕上的提示在 <a href="https://en.wikipedia.org/wiki/Power-on_self_test" class="extiw" title="wikipedia:Power-on self test">POST</a> 階段按下某個按鍵來實現。更多細節請閱讀主機板的手冊。</li>
<li>在安裝媒介的開機引導程式選單出現時，選擇 <i>Arch Linux install medium</i> 並按下 <code>Enter</code> 來進入 live 環境。<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 安裝鏡像在 UEFI 模式下使用 <a href="../en/Systemd-boot.html" title="Systemd-boot">systemd-boot</a>，BIOS 模式下使用 <a href="../en/Syslinux.html" title="Syslinux">syslinux</a> 引導。閱讀 <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso/-/blob/master/docs/README.bootparams">README.bootparams</a> 來獲取 <a href="../en/Kernel_parameters.html#Configuration" title="Kernel parameters">啓動選項</a> 列表。</div>
</li>
<li>您會作爲 root 使用者登入第一個 <a href="https://en.wikipedia.org/wiki/Virtual_console" class="extiw" title="wikipedia:Virtual console">virtual console</a>，並進入 <a href="../en/Zsh.html" title="Zsh">Zsh</a> shell。</li>
</ol>
<p>要切換至另一終端機——比如要在安裝的同時使用 <a rel="nofollow" class="external text" href="https://lynx.invisible-island.net/lynx_help/Lynx_users_guide.html">Lynx</a> 閱讀此教學——使用 <code>Alt+<i>arrow</i></code> <a href="../en/Keyboard_shortcuts.html" title="Keyboard shortcuts">快捷鍵</a>。要 <a href="../en/Help:Reading.html#Append,_add,_create,_edit" class="mw-redirect" title="Textedit">編輯</a> 設定檔，可使用 <span class="plainlinks archwiki-template-man" title="$ man 1 mcedit"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/mcedit.1">mcedit(1)</a></span>、<a href="../en/Nano.html#Usage" title="Nano">nano</a> 和 <a href="../en/Vim.html#Usage" title="Vim">vim</a>。閱讀 <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso/-/blob/master/configs/releng/packages.x86_64">packages.x86_64</a> 來獲取安裝媒介包含的軟體包列表。
</p>
<h3>
<span id=".E8.A8.AD.E5.AE.9A.E9.8D.B5.E7.9B.A4.E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="設定鍵盤配置">設定鍵盤配置</span>
</h3>
<p>預設的 <a href="../en/Linux_console/Keyboard_configuration.html" class="mw-redirect" title="Console keymap">鍵盤配置</a> 為 <a href="https://en.wikipedia.org/wiki/File:KB_United_States-NoAltGr.svg" class="extiw" title="wikipedia:File:KB United States-NoAltGr.svg">US</a> 配置。可使用以下指令列出所有配置：
</p>
<pre># ls /usr/share/kbd/keymaps/**/*.map.gz
</pre>
<p>要更改鍵盤配置，將對應的檔案名稱，省略路徑和副檔名附加到 <span class="plainlinks archwiki-template-man" title="$ man 1 loadkeys"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/loadkeys.1">loadkeys(1)</a></span> 後。例如，要使用 <a href="https://en.wikipedia.org/wiki/File:KB_Germany.svg" class="extiw" title="wikipedia:File:KB Germany.svg">German</a> 鍵盤配置：
</p>
<pre># loadkeys de-latin1
</pre>
<p><a href="../en/Linux_console.html#Fonts" class="mw-redirect" title="Console fonts">終端字體</a> 位於 <code>/usr/share/kbd/consolefonts/</code>，且可以使用 <span class="plainlinks archwiki-template-man" title="$ man 8 setfont"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/setfont.8">setfont(8)</a></span> 設定。
</p>
<h3>
<span id=".E7.A2.BA.E8.AA.8D.E5.95.93.E5.8B.95.E6.A8.A1.E5.BC.8F"></span><span class="mw-headline" id="確認啓動模式">確認啓動模式</span>
</h3>
<p>可列出 <a href="../en/Unified_Extensible_Firmware_Interface.html#UEFI_variables" class="mw-redirect" title="Efivars">efivars</a> 目錄檢視啓動模式：
</p>
<pre># ls /sys/firmware/efi/efivars
</pre>
<p>如果指令沒有報錯，則系統在 UEFI 模式下啓動。如果目錄不存在，系統可能以 <a href="https://en.wikipedia.org/wiki/BIOS" class="extiw" title="wikipedia:BIOS">BIOS</a> 或 <a href="https://en.wikipedia.org/wiki/Compatibility_Support_Module" class="extiw" title="wikipedia:Compatibility Support Module">CSM</a> 模式啓動。如果啓動模式與您期望的不符，請參閱主機板說明。
</p>
<h3>
<span id=".E9.80.A3.E7.B7.9A.E5.88.B0.E7.B6.B2.E9.9A.9B.E7.B6.B2.E8.B7.AF"></span><span class="mw-headline" id="連線到網際網路">連線到網際網路</span>
</h3>
<p>按以下步驟連線到網際網路：
</p>
<ul>
<li>確認網路介面被列出且已被啓用，如使用 <span class="plainlinks archwiki-template-man" title="$ man 8 ip-link"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ip-link.8">ip-link(8)</a></span>：<pre># ip link</pre>
</li>
<li>對於無線網路，確認網路卡沒有被 <a href="../en/Network_configuration/Wireless.html#Rfkill_caveat" class="mw-redirect" title="Rfkill">rfkill</a> 禁用。</li>
<li>連線到網際網路：
<ul>
<li>乙太網路——接入網線。</li>
<li>Wi-Fi——使用 <a href="../en/Iwd.html#iwctl" class="mw-redirect" title="Iwctl">iwctl</a> 認證到無線網路。</li>
</ul>
</li>
<li>設定網路連線：
<ul>
<li>
<a href="../en/Network_configuration.html#DHCP" class="mw-redirect" title="DHCP">DHCP</a>：動態 IP 位址和 DNS 伺服器分配（由 <a href="../en/Systemd-networkd.html" title="Systemd-networkd">systemd-networkd</a> 和 <a href="../en/Systemd-resolved.html" title="Systemd-resolved">systemd-resolved</a> 提供）應該在 <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso/-/blob/master/configs/releng/airootfs/etc/systemd/network/20-ethernet.network">有線</a> 和 <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso/-/blob/master/configs/releng/airootfs/etc/systemd/network/20-wireless.network">無線</a> 網路介面上自動工作。</li>
<li>靜態 IP 位址：參見 <a href="../en/Network_configuration.html#Static_IP_address" title="Network configuration">Network configuration#Static IP address</a>。</li>
</ul>
</li>
<li>連線狀態可使用 <a href="https://en.wikipedia.org/wiki/ping_(networking_utility)" class="extiw" title="wikipedia:ping (networking utility)">ping</a> 來確認：<pre># ping archlinux.org</pre>
</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 安裝鏡像預設啓用 <code>systemd-networkd.service</code>、<code>systemd-resolved.service</code> 和 <code>iwd.service</code>，但在安裝完成的系統上並非如此。</div>
<h3>
<span id=".E6.9B.B4.E6.96.B0.E7.B3.BB.E7.B5.B1.E6.99.82.E9.96.93"></span><span class="mw-headline" id="更新系統時間">更新系統時間</span>
</h3>
<p>執行 <span class="plainlinks archwiki-template-man" title="$ man 1 timedatectl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/timedatectl.1">timedatectl(1)</a></span> 確保系統時間是準確的：
</p>
<pre># timedatectl set-ntp true
</pre>
<p>可以執行 <code>timedatectl status</code> 檢查時間同步服務的狀態。
</p>
<h3>
<span id=".E5.88.86.E5.89.B2.E7.A1.AC.E7.A2.9F"></span><span class="mw-headline" id="分割硬碟">分割硬碟</span>
</h3>
<p>在被 live 系統識別後，硬碟會被分配爲 <a href="../en/Device_file.html#Block_devices" class="mw-redirect" title="Block device">設備文件</a>，如 <code>/dev/sda</code>、<code>/dev/nvme0n1</code> 或 <code>/dev/mmcblk0</code>。可使用 <a href="../en/Device_file.html#lsblk" class="mw-redirect" title="Lsblk">lsblk</a> 或 <i>fdisk</i> 查看這些文件。
</p>
<pre># fdisk -l
</pre>
<p>可忽略以 <code>rom</code>、<code>loop</code> 或 <code>airoot</code> 結尾的結果。
</p>
<p>對於選中的設備，以下 <a href="../en/Partitioning.html" class="mw-redirect" title="Partition">分割區</a> 是 <b>必需</b> 的：
</p>
<ul>
<li>掛載在 <a href="https://en.wikipedia.org/wiki/Root_directory" class="extiw" title="wikipedia:Root directory">根目錄</a> <code>/</code> 的分割區。</li>
<li>在 <a href="../en/Unified_Extensible_Firmware_Interface.html" class="mw-redirect" title="UEFI">UEFI</a> 模式下啓動：一個 <a href="../en/EFI_system_partition.html" title="EFI system partition">EFI 系統分區</a>。</li>
</ul>
<p>如果想要使用 <a href="../en/LVM.html" title="LVM">LVM</a>、<a href="../en/Dm-crypt.html" title="Dm-crypt">system encryption</a> 或 <a href="../en/RAID.html" title="RAID">RAID</a> 等建立多級儲存，請在此時完成。
</p>
<h4>
<span id=".E5.88.86.E5.89.B2.E5.8D.80.E7.A4.BA.E4.BE.8B"></span><span class="mw-headline" id="分割區示例">分割區示例</span>
</h4>
<table class="wikitable">
<caption>BIOS 和 <a href="../en/Partitioning.html#Master_Boot_Record" class="mw-redirect" title="MBR">MBR</a>
</caption>
<tbody>
<tr>
<th>掛載點
</th>
<th>分割區
</th>
<th>
<a href="https://en.wikipedia.org/wiki/Partition_type" class="extiw" title="wikipedia:Partition type">分割區類型</a>
</th>
<th>建議的大小
</th>
</tr>
<tr>
<td>
<code>[SWAP]</code>
</td>
<td>
<code>/dev/<i>swap_partition</i></code>
</td>
<td>Linux swap
</td>
<td>大於 512 MiB
</td>
</tr>
<tr>
<td>
<code>/mnt</code>
</td>
<td>
<code>/dev/<i>root_partition</i></code>
</td>
<td>Linux
</td>
<td>剩餘的所有空間
</td>
</tr>
</tbody>
</table>
<table class="wikitable">
<caption>UEFI 和 <a href="../en/Partitioning.html#GUID_Partition_Table" class="mw-redirect" title="GPT">GPT</a>
</caption>
<tbody>
<tr>
<th>掛載點
</th>
<th>分割區
</th>
<th>
<a href="https://en.wikipedia.org/wiki/GUID_Partition_Table#Partition_type_GUIDs" class="extiw" title="wikipedia:GUID Partition Table">分割區類型</a>
</th>
<th>建議的大小
</th>
</tr>
<tr>
<td>
<code>/mnt/boot</code> 或 <code>/mnt/efi</code>
</td>
<td>
<code>/dev/<i>efi_system_partition</i></code>
</td>
<td>
<a href="../en/EFI_system_partition.html" title="EFI system partition">EFI system partition</a>
</td>
<td>至少 260 MiB
</td>
</tr>
<tr>
<td>
<code>[SWAP]</code>
</td>
<td>
<code>/dev/<i>swap_partition</i></code>
</td>
<td>Linux swap
</td>
<td>大於 512 MiB
</td>
</tr>
<tr>
<td>
<code>/mnt</code>
</td>
<td>
<code>/dev/<i>root_partition</i></code>
</td>
<td>Linux x86-64 root (/)
</td>
<td>剩餘的所有空間
</td>
</tr>
</tbody>
</table>
<p>參閱 <a href="../en/Partitioning.html#Example_layouts" title="Partitioning">Partitioning#Example layouts</a>。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 
<ul>
<li>使用 <a href="../en/Fdisk.html" title="Fdisk">fdisk</a> 或 <a href="../en/Parted.html" title="Parted">parted</a> 改動分區表，如 <code>fdisk <i>/dev/the_disk_to_be_partitioned</i></code>。</li>
<li>在支援的檔案系統上可使用 <a href="../en/Swap.html#Swap_file" class="mw-redirect" title="Swap file">swap file</a> 設定 <a href="../en/Swap.html" title="Swap">Swap</a> 空間。</li>
<li>如果想要用於啓動的硬碟 <a href="../en/EFI_system_partition.html#Check_for_an_existing_partition" title="EFI system partition">已有 EFI 系統分區</a>，請使用已有的分區而非建立新的。</li>
</ul>
</div>
<h3>
<span id=".E6.A0.BC.E5.BC.8F.E5.8C.96.E5.88.86.E5.89.B2"></span><span class="mw-headline" id="格式化分割">格式化分割</span>
</h3>
<p>一旦建立，每個分區都要用適當的 <a href="../en/File_systems.html" class="mw-redirect" title="File system">檔案系統</a> 進行格式化。例如，要在 <code>/dev/<i>root_partition</i></code> 上建立 Ext4 檔案系統，執行：
</p>
<pre># mkfs.ext4 /dev/<i>root_partition</i>
</pre>
<p>如果創建了 <a href="../en/Swap.html" title="Swap">swap</a> 分割，使用 <span class="plainlinks archwiki-template-man" title="$ man 8 mkswap"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/mkswap.8">mkswap(8)</a></span> 將其初始化：
</p>
<pre># mkswap /dev/<i>swap_partition</i>
# swapon /dev/<i>swap_partition</i>
</pre>
<p>詳情參見 <a href="../en/File_systems.html#Create_a_file_system" title="File systems">File systems#Create a file system</a>。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 對於堆疊式儲存的設備文件，將 <code>/dev/<i>*_partition</i></code> 替換爲對應的設備文件路徑。</div>
<h3>
<span id=".E6.8E.9B.E8.BC.89.E6.AA.94.E6.A1.88.E7.B3.BB.E7.B5.B1"></span><span class="mw-headline" id="掛載檔案系統">掛載檔案系統</span>
</h3>
<p>將根分區 <a href="../en/File_systems.html#Mount_a_file_system" class="mw-redirect" title="Mount">掛載</a> 到 <code>/mnt</code>。例如根分區是 <code>/dev/<i>root_partition</i></code>：
</p>
<pre># mount /dev/<i>root_partition</i> /mnt
</pre>
<p>使用 <span class="plainlinks archwiki-template-man" title="$ man 1 mkdir"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/mkdir.1">mkdir(1)</a></span> 創建剩餘的掛載點（如 <code>/mnt/efi</code>），然後掛載對應的分割區。
</p>
<p><span class="plainlinks archwiki-template-man" title="$ man 8 genfstab"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/genfstab.8">genfstab(8)</a></span> 稍後會檢測掛載的檔案系統和 swap 空間。
</p>
<h2>
<span id=".E5.AE.89.E8.A3.9D"></span><span class="mw-headline" id="安裝">安裝</span>
</h2>
<h3>
<span id=".E9.81.B8.E6.93.87.E9.8F.A1.E5.83.8F.E7.AB.99"></span><span class="mw-headline" id="選擇鏡像站">選擇鏡像站</span>
</h3>
<p>要安裝的包必須從在 <code>/etc/pacman.d/mirrorlist</code> 中設定的 <a href="../en/Mirrors.html" title="Mirrors">鏡像站</a> 下載。在 live 環境中，<a href="../en/Reflector.html" title="Reflector">reflector</a> 會在連線到網際網路後自動選擇 70 個最近同步過的 HTTPS 鏡像源，並根據下載率排序。<a rel="nofollow" class="external autonumber" href="https://gitlab.archlinux.org/archlinux/archiso/-/blob/master/configs/releng/airootfs/etc/systemd/system/reflector.service">[2]</a>
</p>
<p>在下載時，列表中越靠前的鏡像站擁有越高的優先級。你可以檢查檔案是否符合需求。如不符合，請進行編輯，並將地理位置最近的鏡像站移至頂端，同時也需要考慮其它標準。
</p>
<p><i>pacstrap</i> 稍後會將此文件複製到新系統中，所以請確保設定正確。
</p>
<h3>
<span id=".E5.AE.89.E8.A3.9D.E5.BF.85.E8.A6.81.E7.9A.84.E8.BB.9F.E9.AB.94.E5.8C.85"></span><span class="mw-headline" id="安裝必要的軟體包">安裝必要的軟體包</span>
</h3>
<p>使用 <span class="plainlinks archwiki-template-man" title="$ man 8 pacstrap"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pacstrap.8">pacstrap(8)</a></span> 腳本安裝 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span> 軟體包、Linux <a href="../en/Kernel.html" title="Kernel">核心</a> 及常規硬體的韌體：
</p>
<pre># pacstrap /mnt base linux linux-firmware
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 
<ul>
<li>可以將 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span> 替換爲其它可選擇的 <a href="../en/Kernel.html" title="Kernel">核心</a>，在容器中安裝系統時也可忽略它。</li>
<li>在虛擬機或容器中安裝系統時，可以不安裝 firmware 包。</li>
</ul>
</div>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span> 軟體包不包含 live 環境中的所有工具。要有一個完全可用的基本系統，你可能需要安裝其它軟體包。具體地說，考慮安裝：
</p>
<ul>
<li>管理所用 <a href="../en/File_systems.html" title="File systems">檔案系統</a> 的工具；</li>
<li>訪問 <a href="../en/RAID.html" title="RAID">RAID</a> 或 <a href="../en/LVM.html" title="LVM">LVM</a> 分割區的工具；</li>
<li>未包含在 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-firmware">linux-firmware</a></span> 中的設備韌體；</li>
<li>
<a href="../en/Network_configuration.html" class="mw-redirect" title="Networking">連線到網際網路</a> 所需的軟體；</li>
<li>
<a href="../en/List_of_applications.html#Text_editors" class="mw-redirect" title="Text editor">文本編輯器</a>；</li>
<li>訪問 <a href="../en/Man_page.html" class="mw-redirect" title="Man">man</a> 和 <a href="../en/GNU.html#Texinfo" class="mw-redirect" title="Info">info</a> 中文檔的工具：<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=man-db">man-db</a></span>、<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=man-pages">man-pages</a></span> 和 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=texinfo">texinfo</a></span>。</li>
</ul>
<p>要安裝其它軟體包/包組，將名字附加在上文的 <i>pacstrap</i> 指令之後（使用空格分隔），或在 <a href="#Chroot">Chroot 進入新系統</a> 後使用 <a href="../en/Pacman.html" title="Pacman">pacman</a>。可在 
<a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso/-/blob/master/configs/releng/packages.x86_64">packages.x86_64</a> 中找到 live 環境的軟體包列表。
</p>
<h2>
<span id=".E9.85.8D.E7.BD.AE.E7.B3.BB.E7.B5.B1"></span><span class="mw-headline" id="配置系統">配置系統</span>
</h2>
<h3><span class="mw-headline" id="Fstab">Fstab</span></h3>
<p>使用以下指令生成 <a href="../en/Fstab.html" title="Fstab">fstab</a> 文件（使用 <code>-U</code> 或 <code>-L</code> 來選擇 <a href="../en/Persistent_block_device_naming.html#by-uuid" class="mw-redirect" title="UUID">UUID</a> 或檔案系統標籤（LABEL））：
</p>
<pre># genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
</pre>
<p>檢查生成的 <code>/mnt/etc/fstab</code> 文件，如有錯誤請立即更正。
</p>
<h3><span class="mw-headline" id="Chroot">Chroot</span></h3>
<p><a href="../en/Chroot.html" class="mw-redirect" title="Change root">Change root</a> 進入新系統：
</p>
<pre># arch-chroot /mnt
</pre>
<h3>
<span id=".E6.99.82.E5.8D.80"></span><span class="mw-headline" id="時區">時區</span>
</h3>
<p>設定 <a href="../en/System_time.html#Time_zone" class="mw-redirect" title="Time zone">時區</a>：
</p>
<pre># ln -sf /usr/share/zoneinfo/<i>Region</i>/<i>City</i> /etc/localtime
</pre>
<p>執行 <span class="plainlinks archwiki-template-man" title="$ man 8 hwclock"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hwclock.8">hwclock(8)</a></span> 以生成 <code>/etc/adjtime</code>：
</p>
<pre># hwclock --systohc
</pre>
<p>這個命令假定硬體時間已被設定為 <a href="https://en.wikipedia.org/wiki/UTC" class="extiw" title="wikipedia:UTC">UTC</a> 時間。詳細資訊參見 <a href="../en/System_time.html#Time_standard" title="System time">System time#Time standard</a>。
</p>
<h3>
<span id=".E5.9C.A8.E5.9C.B0.E5.8C.96"></span><span class="mw-headline" id="在地化">在地化</span>
</h3>
<p>編輯 <code>/etc/locale.gen</code>，取消註釋 <code>en_US.UTF-8 UTF-8</code> 和其它需要的 <a href="../en/Locale.html" title="Locale">locale</a>，然後執行以下指令來生成它們：
</p>
<pre># locale-gen
</pre>
<p>創建 <span class="plainlinks archwiki-template-man" title="$ man 5 locale.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/locale.conf.5">locale.conf(5)</a></span> 文件，並按下方 <a href="../en/Locale.html#Setting_the_system_locale" title="Locale">設定 LANG 變數</a>：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/locale.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">LANG=<i>en_US.UTF-8</i></pre>
<p>如果 <a href="#%E8%A8%AD%E5%AE%9A%E9%8D%B5%E7%9B%A4%E9%85%8D%E7%BD%AE">設定了鍵盤配置</a>，編輯 <span class="plainlinks archwiki-template-man" title="$ man 5 vconsole.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/vconsole.conf.5">vconsole.conf(5)</a></span> 以保留更改：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/vconsole.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">KEYMAP=<i>de-latin1</i></pre>
<h3>
<span id=".E9.85.8D.E7.BD.AE.E7.B6.B2.E8.B7.AF"></span><span class="mw-headline" id="配置網路">配置網路</span>
</h3>
<p>創建 <a href="../en/Network_configuration.html#Set_the_hostname" class="mw-redirect" title="Hostname">hostname</a> 文件：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/hostname</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"><i>myhostname</i>
</pre>
<p>並添加對應的項目到 <span class="plainlinks archwiki-template-man" title="$ man 5 hosts"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hosts.5">hosts(5)</a></span>：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/hosts</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">127.0.0.1	localhost
::1		localhost
127.0.1.1	<i>myhostname</i>.localdomain	<i>myhostname</i>
</pre>
<p>如果系統擁有一個永久的 IP 位址，請使用其替代 <code>127.0.1.1</code>。
</p>
<p>為新安裝的環境 <a href="../en/Network_configuration.html" title="Network configuration">配置網路</a>，這包括安裝想要使用的 <a href="../en/Network_configuration.html#Network_management" class="mw-redirect" title="Network management">網路管理</a> 工具。
</p>
<h3><span class="mw-headline" id="Initramfs">Initramfs</span></h3>
<p>一般不需要創建新的 <i>initramfs</i>，因為在使用 <i>pacstrap</i> 安裝 <a href="../en/Kernel.html" title="Kernel">核心</a> 時，<a href="../en/Mkinitcpio.html" title="Mkinitcpio">mkinitcpio</a> 已經被自動執行。
</p>
<p>要在 <a href="../en/Install_Arch_Linux_on_LVM.html#Adding_mkinitcpio_hooks" title="Install Arch Linux on LVM">LVM</a>、<a href="../en/Dm-crypt.html" title="Dm-crypt">system encryption</a> 或 <a href="../en/RAID.html#Configure_mkinitcpio" title="RAID">RAID</a> 上安裝 Arch Linux，編輯 <span class="plainlinks archwiki-template-man" title="$ man 5 mkinitcpio.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/mkinitcpio.conf.5">mkinitcpio.conf(5)</a></span> 並重新生成 initramfs：
</p>
<pre># mkinitcpio -P
</pre>
<h3>
<span id="Root_.E5.AF.86.E7.A2.BC"></span><span class="mw-headline" id="Root_密碼">Root 密碼</span>
</h3>
<p>設置 root <a href="../en/Users_and_groups.html#User_database" class="mw-redirect" title="Password">密碼</a>：
</p>
<pre># passwd
</pre>
<h3>
<span id=".E9.96.8B.E6.A9.9F.E5.BC.95.E5.B0.8E.E7.A8.8B.E5.BC.8F"></span><span class="mw-headline" id="開機引導程式">開機引導程式</span>
</h3>
<p>選擇並安裝一個與 Linux 相容的 <a href="../en/Arch_boot_process.html#Boot_loader" class="mw-redirect" title="Boot loader">開機引導程式</a>。如使用 Intel 或 AMD CPU，需要額外地啓用 <a href="../en/Microcode.html" title="Microcode">microcode</a> 更新。
</p>
<h2>
<span id=".E9.87.8D.E6.96.B0.E5.95.93.E5.8B.95"></span><span class="mw-headline" id="重新啓動">重新啓動</span>
</h2>
<p>執行 <code>exit</code> 或按 <code>Ctrl+d</code> 退出 chroot 環境。
</p>
<p>可以手動執行 <code>umount -R /mnt</code> 以手動卸載所有分區：這有助於發現任何「繁忙」的分區，並通過 <span class="plainlinks archwiki-template-man" title="$ man 1 fuser"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/fuser.1">fuser(1)</a></span> 查找原因。
</p>
<p>最后，通過執行 <code>reboot</code> 重新啓動系統：<i>systemd</i> 將自動卸載所有掛載中的分區。記得移除安裝媒介，然後使用 root 帳戶登入新系統。
</p>
<h2>
<span id=".E5.AE.89.E8.A3.9D.E5.BE.8C"></span><span class="mw-headline" id="安裝後">安裝後</span>
</h2>
<p>系統管理與安裝後指南（如設定圖形使用者介面、聲音或觸控板）參見 <a href="../en/General_recommendations.html" title="General recommendations">General recommendations</a>。
</p>
<p>要尋找可能感興趣的各類程式，參見 <a href="../en/List_of_applications.html" title="List of applications">List of applications</a>。
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../zh-TW/Category:Installation_process.html" title="Category:Installation process (正體中文)">Installation process (正體中文)</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Installation_guide_(%E6%AD%A3%E9%AB%94%E4%B8%AD%E6%96%87)&amp;oldid=646859">https://wiki.archlinux.org/index.php?title=Installation_guide_(正體中文)&amp;oldid=646859</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 26 December 2020, at 12:02.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
