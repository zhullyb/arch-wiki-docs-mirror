<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Arch package guidelines (正體中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Arch_package_guidelines_正體中文 rootpage-Arch_package_guidelines_正體中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Arch package guidelines (正體中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a><b>本條目或段落需要進行<a href="../en/ArchWiki:Contributing.html#Translating" title="ArchWiki:Contributing">翻譯</a>。</b><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>註記: </b> <span style="color:red;">please use the first argument of the template to provide more detailed indications.</span> (<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Arch_package_guidelines_(%E6%AD%A3%E9%AB%94%E4%B8%AD%E6%96%87)">討論</a>)</div>
</div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%E5%A5%97%E4%BB%B6%E8%A6%8F%E7%AF%84"><span class="tocnumber">1</span> <span class="toctext">套件規範</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#%E5%A5%97%E4%BB%B6%E5%91%BD%E5%90%8D%E8%A6%8F%E5%89%87"><span class="tocnumber">1.1</span> <span class="toctext">套件命名規則</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#%E7%9B%AE%E9%8C%84"><span class="tocnumber">1.2</span> <span class="toctext">目錄</span></a></li>
<li class="toclevel-2 tocsection-4">
<a href="#makepkg_%E7%9A%84%E8%B2%AC%E4%BB%BB"><span class="tocnumber">1.3</span> <span class="toctext">makepkg 的責任</span></a>
<ul>
<li class="toclevel-3"><a href="#Submitting_Packages_to_the_AUR"><span class="tocnumber">1.3.1</span> <span class="toctext">Submitting Packages to the AUR</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-5"><a href="#%E5%A5%97%E4%BB%B6%E8%A6%8F%E7%9F%A9"><span class="tocnumber">1.4</span> <span class="toctext">套件規矩</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#%E8%A8%B1%E5%8F%AF"><span class="tocnumber">1.5</span> <span class="toctext">許可</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#%E6%8F%90%E4%BA%A4%E5%A5%97%E4%BB%B6"><span class="tocnumber">1.6</span> <span class="toctext">提交套件</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8">
<a href="#%E5%85%B6%E4%BB%96%E6%8C%87%E5%B0%8E%E6%96%B9%E9%87%9D"><span class="tocnumber">2</span> <span class="toctext">其他指導方針</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#CVS/SVN_%E5%A5%97%E4%BB%B6"><span class="tocnumber">2.1</span> <span class="toctext">CVS/SVN 套件</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Java_%E5%A5%97%E4%BB%B6"><span class="tocnumber">2.2</span> <span class="toctext">Java 套件</span></a></li>
</ul>
</li>
</ul>
</div>

<h2>
<span id=".E5.A5.97.E4.BB.B6.E8.A6.8F.E7.AF.84"></span><span class="mw-headline" id="套件規範">套件規範</span>
</h2>
<h3>
<span id=".E5.A5.97.E4.BB.B6.E5.91.BD.E5.90.8D.E8.A6.8F.E5.89.87"></span><span class="mw-headline" id="套件命名規則">套件命名規則</span>
</h3>
<ul>
<li>套件名稱只能以數字跟字母組成，且全部都需為小寫。</li>
<li>版本號(version)要跟原作者釋出的相同。版本號可以由字母、數字跟 '.' 組成，但不能有 '-'。</li>
<li>釋出版號(release)是 Arch Linux 特有的，這用來讓使用者識別新舊版本。當一個新的套件釋出，釋出版號(release) 是從 1 開始算，當之後有作修正或是最佳化的版本釋出的話，釋出版號(release) 則累加 1。當原作者釋出新版的話，則釋出版號(release)重設為 1。釋出版號(release)與版本號(version)遵守相同的命名規則。</li>
<li>例如：目前最新的 nmap 版本為 4.20-1，4.20即為版本號(version)，'-1'的部份表示釋出版號(release)為1。</li>
</ul>
<h3>
<span id=".E7.9B.AE.E9.8C.84"></span><span class="mw-headline" id="目錄">目錄</span>
</h3>
<ul>
<li>設定檔要被放在 <tt>/etc</tt> 目錄內。如果有超過一個以上的設定檔，應該在 <tt>/etc</tt> 內建立子目錄來放置，以保持 <tt>/etc</tt> 的整潔。使用如 <tt>/etc/{套件名}/</tt> 目錄來放置對應套件的設定檔，或是選用一個具有代表意義的亦可。</li>
<li>套件本身的檔案要遵守以下的規範：
<ul>
<li>
<tt>/etc</tt>: 系統必備的設定檔</li>
<li>
<tt>/usr/bin</tt>: 應用程式執行檔</li>
<li>
<tt>/usr/sbin</tt>: 系統執行檔</li>
<li>
<tt>/usr/lib</tt>: 函式庫</li>
<li>
<tt>/usr/include</tt>: 標頭檔</li>
<li>
<tt>/usr/lib/{pkg}</tt>: 套件 {pkg} 的模組、外掛等等</li>
<li>
<tt>/usr/man</tt>: Manpages</li>
<li>
<tt>/usr/share/{pkg}</tt>: 套件 {pkg} 的資料</li>
<li>
<tt>/etc/{pkg}</tt>: 套件 {pkg} 的設定檔</li>
<li>
<tt>/opt</tt>: Large self-contained packages such as KDE, Mozilla, etc.</li>
</ul>
</li>
</ul>
<h3>
<span id="makepkg_.E7.9A.84.E8.B2.AC.E4.BB.BB"></span><span class="mw-headline" id="makepkg_的責任">makepkg 的責任</span>
</h3>
<p>當你使用 makepkg 來製作套件時，它會自動為你做下列動作：
</p>
<ol>
<li>檢查套件的相依套件是否已被安裝</li>
<li>從伺服器上下載原始碼</li>
<li>解開原始碼</li>
<li>使用需要的補丁</li>
<li>編譯此軟體，並安裝在假的根目錄</li>
<li>移除 <tt>/usr/doc, /usr/info, /usr/share/doc, /usr/share/info</tt> 這些目錄中此軟體安裝的資料</li>
<li>去除掉二進位執行檔中的符號(symbols)</li>
<li>去除掉函式庫中的除錯用符號</li>
<li>產生每個套件中都會有的 meta file</li>
<li>將假的根目錄壓縮起來成為套件檔</li>
<li>將套件存在設定好的目的資料夾（預設是目前目錄）</li>
</ol>
<h4><span class="mw-headline" id="Submitting_Packages_to_the_AUR">Submitting Packages to the AUR</span></h4>
	<p>Note the following before submitting any packages to the AUR:</p>
	<ol>
        <li>
                The submitted PKGBUILDs <strong>MUST NOT</strong> build applications already in any of the official binary repositories under any circumstances. Exception to this strict rule may only be packages having extra features enabled and/or patches in compare to the official ones. In such an occasion the pkgname array should be different to express that differency.
eg. A GNU screen PKGBUILD submitted containing the sidebar patch, could be named screen-sidebar etc. Additionally the <strong>provides</strong>('screen') PKGBUILD array should be used in order to avoid conflicts with the official package.
        </li>
	<li>
		To ensure the security of pkgs submitted to the AUR please <strong>ensure</strong> that you have correctly filled the <code>md5sum</code> field.  The <code>md5sum</code>'s can be generated using the <code>makepkg -g</code> command.
	</li>
	<li>
		Please <strong>add a comment line</strong> to the top of your
		<code>PKGBUILD</code> file that follows this format:

<pre># Contributor: Your Name &lt;your.email&gt;</pre>
	</li>
	<li>
		Verify the package <strong>dependencies</strong> (eg, run
		<code>ldd</code> on dynamic executables, check tools required
		by scripts, etc).

		The TU team <strong>strongly</strong> recommend the use of the
		<code>namcap</code> utility, written by Jason Chu (jason@archlinux.org), to analyze the
		sanity of your package. <code>namcap</code> will tell you about
		bad permissions, missing dependencies, un-needed dependencies,
		and other common mistakes. You can install the
		<code>namcap</code> package with <code>pacman</code>.

		Remember <code>namcap</code> can be used to check both pkg.tar.gz files and PKGBUILDs
	</li>
<li> <strong>Dependencies</strong>
are the most common packaging error. Namcap can help detect them, but
it is not always correct. Verify dependencies by looking at source
documentation and the program website. </li>
<li>
<b>Don't use <tt>replaces</tt></b> in your PKGBUILD unless you want to rename your package, for example when <i>Ethereal</i> became <i>Wireshark</i>. If you just provide an alternate version of an already existing package, use <tt>conflicts</tt> (and <tt>provides</tt> if that package is required by others). The main difference is: after syncing (-Sy) pacman immediately wants to replace an installed, 'offending' package upon encountering a package with the matching <tt>replaces</tt> anywhere in its repositories; <tt>conflicts</tt> on the other hand is only evaluated when actually installing the package, which is pretty much always the desired behavior because you don't push your package down other people's throat this way.</li>
	<li>
		All files uploaded to the AUR should be contained in a <strong>compressed tar
			file</strong> containing a directory with the <strong><code>PKGBUILD</code></strong> and <strong>additional build files</strong> (patches, install, ...) in it.
<pre>foo/PKGBUILD
foo/foo.install
foo/foo_bar.diff
foo/foo.rc.conf</pre>
<p>		The archive name should contain the name of the package
		e.g. foo.tar.gz
</p>
<p>		The tarball <strong>should not</strong> contain the binary tarball created by makepkg, nor should it contain the filelist
</p>
	</li>

	</ol>
<h3>
<span id=".E5.A5.97.E4.BB.B6.E8.A6.8F.E7.9F.A9"></span><span class="mw-headline" id="套件規矩">套件規矩</span>
</h3>
<h3>
<span id=".E8.A8.B1.E5.8F.AF"></span><span class="mw-headline" id="許可">許可</span>
</h3>
<h3>
<span id=".E6.8F.90.E4.BA.A4.E5.A5.97.E4.BB.B6"></span><span class="mw-headline" id="提交套件">提交套件</span>
</h3>
<h2>
<span id=".E5.85.B6.E4.BB.96.E6.8C.87.E5.B0.8E.E6.96.B9.E9.87.9D"></span><span class="mw-headline" id="其他指導方針">其他指導方針</span>
</h2>
<h3>
<span id="CVS.2FSVN_.E5.A5.97.E4.BB.B6"></span><span class="mw-headline" id="CVS/SVN_套件">CVS/SVN 套件</span>
</h3>
<h3>
<span id="Java_.E5.A5.97.E4.BB.B6"></span><span class="mw-headline" id="Java_套件">Java 套件</span>
</h3>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:7d876dcc0aeb99723c8082d6986c7db5.html" title="Category:正體中文">正體中文</a></li>
<li><a href="../zh-TW/Category:About_Arch.html" title="Category:About Arch (正體中文)">About Arch (正體中文)</a></li>
<li><a href="../zh-TW/Category:Package_management.html" title="Category:Package management (正體中文)">Package management (正體中文)</a></li>
<li><a href="../zh-TW/Category:Package_development.html" title="Category:Package development (正體中文)">Package development (正體中文)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../zh-TW/Category:Pages_or_sections_flagged_with_Template:Translateme.html" title="Category:Pages or sections flagged with Template:Translateme (正體中文)">Pages or sections flagged with Template:Translateme (正體中文)</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Arch_package_guidelines_(%E6%AD%A3%E9%AB%94%E4%B8%AD%E6%96%87)&amp;oldid=593056">https://wiki.archlinux.org/index.php?title=Arch_package_guidelines_(正體中文)&amp;oldid=593056</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 28 December 2019, at 15:38.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
