<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>udev (正體中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Udev_正體中文 rootpage-Udev_正體中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">udev (正體中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><span></span>
</p>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a><b>This article or section is out of date.</b><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> <span style="color:red;">please use the first argument of the template to provide a brief explanation.</span> (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Udev_(%E6%AD%A3%E9%AB%94%E4%B8%AD%E6%96%87)">Talk:Udev (正體中文)#</a>)</div>
</div>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a><b>本條目或段落需要進行<a href="../en/ArchWiki:Contributing.html#Translating" title="ArchWiki:Contributing">翻譯</a>。</b><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>註記: </b> <span style="color:red;">please use the first argument of the template to provide more detailed indications.</span> (<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Udev_(%E6%AD%A3%E9%AB%94%E4%B8%AD%E6%96%87)">討論</a>)</div>
</div>
<p>其他關於 <b>udev</b> 的資訊可以參考下面的連接 :
</p>
<ul>
<li><a rel="nofollow" class="external free" href="https://web.archive.org/web/20080925233745/http://www.kernel.org/pub/linux/utils/kernel/hotplug/udev-FAQ">https://web.archive.org/web/20080925233745/http://www.kernel.org/pub/linux/utils/kernel/hotplug/udev-FAQ</a></li>
<li><a rel="nofollow" class="external free" href="https://web.archive.org/web/20070513164122/http://bbs.archlinux.org/viewtopic.php?t=5702&amp;start=0">https://web.archive.org/web/20070513164122/http://bbs.archlinux.org/viewtopic.php?t=5702&amp;start=0</a></li>
</ul>
<p>要把系統轉換到 Udev 下，你需要執行下列幾個步驟.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%E5%AE%89%E8%A3%9D_udev_%E5%A5%97%E4%BB%B6"><span class="tocnumber">1</span> <span class="toctext">安裝 udev 套件</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#%E7%B7%A8%E8%BC%AF_/etc/fstab"><span class="tocnumber">2</span> <span class="toctext">編輯 /etc/fstab</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#%E9%87%8D%E6%96%B0%E9%96%8B%E6%A9%9F"><span class="tocnumber">3</span> <span class="toctext">重新開機</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#%E8%AD%A6%E5%91%8A_:_%E7%84%A1%E6%B3%95%E9%96%8B%E5%95%9F%E4%B8%80%E5%80%8B_initial_console"><span class="tocnumber">3.1</span> <span class="toctext">警告 : 無法開啟一個 initial console</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#%E7%B3%BB%E7%B5%B1%E4%B8%80%E7%9B%B4%E9%80%A3%E7%BA%8C%E9%87%8D%E5%95%9F%E4%B8%8D%E5%81%9C"><span class="tocnumber">3.2</span> <span class="toctext">系統一直連續重啟不停</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#%E4%BD%BF%E7%94%A8%E8%80%85%E8%87%AA%E8%A8%82_Udev"><span class="tocnumber">4</span> <span class="toctext">使用者自訂 Udev</span></a></li>
<li class="toclevel-1 tocsection-7">
<a href="#%E4%B8%8B%E9%9D%A2%E9%80%99%E4%B8%80%E9%83%A8%E4%BB%BD%E5%8F%AA%E9%81%A9%E7%94%A8%E6%96%BC_udev_&gt;=_053"><span class="tocnumber">5</span> <span class="toctext">下面這一部份只適用於 udev &gt;= 053</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#%E7%B7%A8%E8%BC%AF%E6%AC%8A%E9%99%90%E5%92%8C%E8%A6%8F%E5%89%87"><span class="tocnumber">5.1</span> <span class="toctext">編輯權限和規則</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Symlinking_devices"><span class="tocnumber">6</span> <span class="toctext">Symlinking devices</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#%E7%9B%B8%E9%97%9C%E8%B3%87%E6%96%99"><span class="tocnumber">7</span> <span class="toctext">相關資料</span></a></li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.9D_udev_.E5.A5.97.E4.BB.B6"></span><span class="mw-headline" id="安裝_udev_套件">安裝 udev 套件</span>
</h2>
<pre>pacman -S udev
</pre>
<h2>
<span id=".E7.B7.A8.E8.BC.AF_.2Fetc.2Ffstab"></span><span class="mw-headline" id="編輯_/etc/fstab">編輯 /etc/fstab</span>
</h2>
<p>請先把 sysfs 這一行設定註解掉，然後 "usbdevfs" 這一行設定必須改為使用 "usbfs" (在同一行內有兩個地方要修改). 最後, 請檢查 <code>/etc/fstab</code> 內是否一行設定包含了 <code>/dev/shm</code> 這個指定. 在編輯完 <code>/etc/fstab</code> 後，上面提到的這幾行應該看起來如同下面列出的一般 :
</p>
<pre>#sysfs /sys sysfs defaults 0 0
usbfs /proc/bus/usb usbfs defaults 0 0
none /dev/shm tmpfs defaults 0 0
none /dev/pts devpts defaults 0 0
</pre>
<p>你可能還需要把 <code>/etc/fstab</code> 這個檔案內的其他設定也依照上面的解釋一併修正，以符合 udev 的命名規則.
</p>
<p>Make sure you use the <code>/dev/hda1</code> format and not <code>/dev/discs/disc0/part1</code> in <code>/etc/fstab</code> or you will get a false report of corrupt disk on booting.
</p>
<h2>
<span id=".E9.87.8D.E6.96.B0.E9.96.8B.E6.A9.9F"></span><span class="mw-headline" id="重新開機">重新開機</span>
</h2>
<p>大功告成, 系統轉換完畢.
</p>
<h3>
<span id=".E8.AD.A6.E5.91.8A_:_.E7.84.A1.E6.B3.95.E9.96.8B.E5.95.9F.E4.B8.80.E5.80.8B_initial_console"></span><span class="mw-headline" id="警告_:_無法開啟一個_initial_console">警告 : 無法開啟一個 initial console</span>
</h3>
<p>如果你的系統在開機載入核心時當機並出現下面這一行警告訊息
</p>
<pre>WARNING: Unable to open an initial console
</pre>
<ul>
<li>拿出你的 Arch Linux 安裝光碟然後用他來開機</li>
<li>掛載上你的 root 硬碟分割區 (例如 : "mount /dev/discs/disc0/part3 /mnt")</li>
<li>鍵入 chroot 轉移到新的掛載目錄上 (例如 : "chroot /mnt")</li>
<li>用下面的指令在 /dev 下建立缺少的 static nodes (靜態節點) :</li>
</ul>
<pre>cd /dev
mknod -m 660 console c 5 1
mknod -m 660 null c 1 3
</pre>
<p>These nodes are required for starting Udev. You might have both/only one of them/none missing.
</p>
<p>More information <a rel="nofollow" class="external text" href="http://webpages.charter.net/decibelshelp/LinuxHelp_UDEVPrimer.html#consnull">here</a>.
</p>
<h3>
<span id=".E7.B3.BB.E7.B5.B1.E4.B8.80.E7.9B.B4.E9.80.A3.E7.BA.8C.E9.87.8D.E5.95.9F.E4.B8.8D.E5.81.9C"></span><span class="mw-headline" id="系統一直連續重啟不停">系統一直連續重啟不停</span>
</h3>
<p>如果你的系統一直不停的連續重啟, 你可能需要把 menu.lst 裡面的下面這一行移除 :
</p>
<pre>devfs=nomount
</pre>
<p>然後當系統啟動完畢後, 請在終端機模式的命令列下鍵入:
</p>
<pre>/sbin/migrate-udev
</pre>
<p>現在，你可以再把 devfs=nomount 這一行放回 menu.lst 這個檔案內然後重新啟動系統. 這應該可以解決系統連續重啟的問題.
</p>
<h2>
<span id=".E4.BD.BF.E7.94.A8.E8.80.85.E8.87.AA.E8.A8.82_Udev"></span><span class="mw-headline" id="使用者自訂_Udev">使用者自訂 Udev</span>
</h2>
<p>When udev starts up, it will read all .rules files in <b>/etc/udev/rules.d/</b>.  When udev is adding a device node, it reads these rules files in lexicographical order until it finds a match.  That means that if you need any customizations, you should create a file that is lexicographically-less than the default file, <b>udev.rules</b>.  It is the Arch custom to use <b>00.rules</b> for customizations, but obviously you can be more creative if you wish.
</p>
<p>You should not edit the <b>/etc/udev/rules.d/udev.rules</b> file yourself, as it is used by the developers to improve the default ruleset for new users.  If you need to tweak a rule from the default ruleset, just copy the line(s) and paste them into a <b>00.rules</b> file.
</p>
<h2>
<span id=".E4.B8.8B.E9.9D.A2.E9.80.99.E4.B8.80.E9.83.A8.E4.BB.BD.E5.8F.AA.E9.81.A9.E7.94.A8.E6.96.BC_udev_.3E.3D_053"></span><span class="mw-headline" id="下面這一部份只適用於_udev_&gt;=_053">下面這一部份只適用於 udev &gt;= 053</span>
</h2>
<h3>
<span id=".E7.B7.A8.E8.BC.AF.E6.AC.8A.E9.99.90.E5.92.8C.E8.A6.8F.E5.89.87"></span><span class="mw-headline" id="編輯權限和規則">編輯權限和規則</span>
</h3>
<p>The latest version of udev has some upstream changes in the configuration layout.
</p>
<p>Permissions and user/group ownership are no longer defined in separate files -- instead they are specified within the rules file itself. Look at /etc/udev/rules.d/udev.rules for examples.
</p>
<p>This means that any custom permissions need to be moved into a rules file like /etc/udev/rules.d/udev.rules or /etc/udev/rules.d/00-my.rules. The old files in etc/udev/permissions.d/ have no effect anymore and can be removed.
</p>
<p>See the udev(8) manpage for more information on writing rules. The files in etc/udev/permissions.d/ have no effect anymore and can be removed.
</p>
<p>The normal user should not need to define new rules, all you have to do is to add the user to the right groups in /etc/group:
</p>
<pre>gpasswd -a &lt;username&gt; video
gpasswd -a &lt;username&gt; audio
gpasswd -a &lt;username&gt; optical
gpasswd -a &lt;username&gt; floppy
gpasswd -a &lt;username&gt; storage
gpasswd -a &lt;username&gt; scanner
</pre>
<p>關於 group 權限的解說 :
</p>
<pre>video: enable tv cards, framebuffer devices (not! graphic cards they belong to users group)
audio: get access to sound devices and rtc
optical: allow burning and ripping from cd/dvd devices
floppy: allow formating and partitioning on floppy devices
storage: allow formating and partitioning on removable storage devices, like usbsticks or usb harddrives.
scanner: allow using the scanner devices
</pre>
<p>Symlinks of cd/dvd devices are done automatically and should fit your needs.
</p>
<p>已知的問題:
</p>
<ul><li>如果你更新到 udev &gt;=053 同時系統無法辨識你的 usb 拇指碟，請記得從新開機，然後一切應該都會恢復正常了</li></ul>
<h2><span class="mw-headline" id="Symlinking_devices">Symlinking devices</span></h2>
<p>this is only an example but it should be clear how it works. Add this at the <code>/etc/udev/rules.d/00-myrules.rules</code>:
</p>
<pre># cdrom/cdrw links
KERNEL="hdc", SYMLINK="dvd"
KERNEL="hdd", SYMLINK="cdrom cdrecorder"
#important for modem users, change to ttyS1 if serial port 2 is used
KERNEL="ttyS0", SYMLINK="modem"</pre>
<p>to check if your symlinks work or to restart udev:
</p>
<pre>/sbin/udevstart
</pre>
<p>更多關於規則的設定的資料請參閱:<br>
<a rel="nofollow" class="external free" href="http://www.reactivated.net/udevrules.php">http://www.reactivated.net/udevrules.php</a>
</p>
<h2>
<span id=".E7.9B.B8.E9.97.9C.E8.B3.87.E6.96.99"></span><span class="mw-headline" id="相關資料">相關資料</span>
</h2>
<ul><li><a href="../en/Udev.html#Writing_udev_rules" class="mw-redirect" title="Map Custom Device Entries with udev">Map Custom Device Entries with udev</a></li></ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:7d876dcc0aeb99723c8082d6986c7db5.html" title="Category:正體中文">正體中文</a></li>
<li><a href="../zh-TW/Category:Hardware_detection_and_troubleshooting.html" title="Category:Hardware detection and troubleshooting (正體中文)">Hardware detection and troubleshooting (正體中文)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
<li><a href="../zh-TW/Category:Pages_or_sections_flagged_with_Template:Translateme.html" title="Category:Pages or sections flagged with Template:Translateme (正體中文)">Pages or sections flagged with Template:Translateme (正體中文)</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Udev_(%E6%AD%A3%E9%AB%94%E4%B8%AD%E6%96%87)&amp;oldid=662872">https://wiki.archlinux.org/index.php?title=Udev_(正體中文)&amp;oldid=662872</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 19 April 2021, at 18:09.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
