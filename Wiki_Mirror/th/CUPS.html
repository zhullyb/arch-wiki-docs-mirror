<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>CUPS (ไทย) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="referrer" content="no-referrer-when-downgrade">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-CUPS_ไทย rootpage-CUPS_ไทย skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">CUPS (ไทย)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="/title/File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a><b>This article or section needs to be <a href="/title/ArchWiki:Contributing#Translating" title="ArchWiki:Contributing">translated</a>.</b><a href="/title/File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Notes:</b> <span style="color:red;">please use the first argument of the template to provide more detailed indications.</span> (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/title/Talk:CUPS_(%E0%B9%84%E0%B8%97%E0%B8%A2)">Talk:CUPS (ไทย)#</a>)</div>
</div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%E0%B8%84%E0%B8%B3%E0%B9%81%E0%B8%99%E0%B8%B0%E0%B8%99%E0%B8%B3%E0%B9%80%E0%B8%9A%E0%B8%B7%E0%B9%89%E0%B8%AD%E0%B8%87%E0%B8%95%E0%B9%89%E0%B8%99"><span class="tocnumber">1</span> <span class="toctext">คำแนะนำเบื้องต้น</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#CUPS_%E0%B8%84%E0%B8%B7%E0%B8%AD%E0%B8%AD%E0%B8%B0%E0%B9%84%E0%B8%A3"><span class="tocnumber">1.1</span> <span class="toctext">CUPS คืออะไร</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#%E0%B8%81%E0%B8%B2%E0%B8%A3%E0%B9%81%E0%B8%81%E0%B9%89%E0%B8%9B%E0%B8%B1%E0%B8%8D%E0%B8%AB%E0%B8%B2_CUPS"><span class="tocnumber">1.2</span> <span class="toctext">การแก้ปัญหา CUPS</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4">
<a href="#%E0%B8%81%E0%B8%B2%E0%B8%A3%E0%B8%95%E0%B8%B4%E0%B8%94%E0%B8%95%E0%B8%B1%E0%B9%89%E0%B8%87_CUPS"><span class="tocnumber">2</span> <span class="toctext">การติดตั้ง CUPS</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Packages"><span class="tocnumber">2.1</span> <span class="toctext">Packages</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Download_Printer_PPD_(%E0%B9%84%E0%B8%9F%E0%B8%A5%E0%B9%8C%E0%B8%A3%E0%B8%B2%E0%B8%A2%E0%B8%A5%E0%B8%B0%E0%B9%80%E0%B8%AD%E0%B8%B5%E0%B8%A2%E0%B8%94%E0%B9%80%E0%B8%84%E0%B8%A3%E0%B8%B7%E0%B9%88%E0%B8%AD%E0%B8%87%E0%B8%9E%E0%B8%B4%E0%B8%A1%E0%B8%9E%E0%B9%8C)"><span class="tocnumber">2.2</span> <span class="toctext">Download Printer PPD (ไฟล์รายละเอียดเครื่องพิมพ์)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7">
<a href="#%E0%B8%81%E0%B8%B2%E0%B8%A3%E0%B8%95%E0%B8%B1%E0%B9%89%E0%B8%87%E0%B8%84%E0%B9%88%E0%B8%B2_CUPS"><span class="tocnumber">3</span> <span class="toctext">การตั้งค่า CUPS</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#%E0%B8%95%E0%B8%B1%E0%B8%A7%E0%B9%80%E0%B8%A5%E0%B8%B7%E0%B8%AD%E0%B8%81%E0%B8%95%E0%B9%88%E0%B8%B2%E0%B8%87%E0%B9%86"><span class="tocnumber">3.1</span> <span class="toctext">ตัวเลือกต่างๆ</span></a></li>
<li class="toclevel-2 tocsection-9">
<a href="#Kernel_Modules"><span class="tocnumber">3.2</span> <span class="toctext">Kernel Modules</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#%E0%B9%80%E0%B8%84%E0%B8%A3%E0%B8%B7%E0%B9%88%E0%B8%AD%E0%B8%87%E0%B8%9E%E0%B8%B4%E0%B8%A1%E0%B8%9E%E0%B9%8C_USB"><span class="tocnumber">3.2.1</span> <span class="toctext">เครื่องพิมพ์ USB</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#%E0%B9%80%E0%B8%84%E0%B8%A3%E0%B8%B7%E0%B9%88%E0%B8%AD%E0%B8%87%E0%B8%9E%E0%B8%B4%E0%B8%A1%E0%B8%9E%E0%B9%8C%E0%B8%9E%E0%B8%AD%E0%B8%A3%E0%B9%8C%E0%B8%97%E0%B8%82%E0%B8%99%E0%B8%B2%E0%B8%99"><span class="tocnumber">3.2.2</span> <span class="toctext">เครื่องพิมพ์พอร์ทขนาน</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#%E0%B8%81%E0%B8%B2%E0%B8%A3%E0%B9%80%E0%B8%A3%E0%B8%B5%E0%B8%A2%E0%B8%81%E0%B9%83%E0%B8%8A%E0%B9%89%E0%B8%87%E0%B8%B2%E0%B8%99%E0%B9%82%E0%B8%94%E0%B8%A2%E0%B8%AD%E0%B8%B1%E0%B8%95%E0%B9%82%E0%B8%99%E0%B8%A1%E0%B8%B1%E0%B8%95%E0%B8%B4"><span class="tocnumber">3.2.3</span> <span class="toctext">การเรียกใช้งานโดยอัตโนมัติ</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-13"><a href="#CUPS_Daemon"><span class="tocnumber">3.3</span> <span class="toctext">CUPS Daemon</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Web_Interface_%E0%B9%81%E0%B8%A5%E0%B8%B0%E0%B8%8A%E0%B8%B8%E0%B8%94%E0%B9%80%E0%B8%84%E0%B8%A3%E0%B8%B7%E0%B9%88%E0%B8%AD%E0%B8%87%E0%B8%A1%E0%B8%B7%E0%B8%AD"><span class="tocnumber">3.4</span> <span class="toctext">Web Interface และชุดเครื่องมือ</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15">
<a href="#%E0%B8%95%E0%B8%B1%E0%B9%89%E0%B8%87%E0%B8%84%E0%B9%88%E0%B8%B2%E0%B8%81%E0%B8%B2%E0%B8%A3_Share_%E0%B9%80%E0%B8%84%E0%B8%A3%E0%B8%B7%E0%B9%88%E0%B8%AD%E0%B8%87%E0%B8%9E%E0%B8%B4%E0%B8%A1%E0%B8%9E%E0%B9%8C"><span class="tocnumber">4</span> <span class="toctext">ตั้งค่าการ Share เครื่องพิมพ์</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#Linux_%E0%B8%81%E0%B8%B1%E0%B8%9A_Linux"><span class="tocnumber">4.1</span> <span class="toctext">Linux กับ Linux</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Linux_to_Windows"><span class="tocnumber">4.2</span> <span class="toctext">Linux to Windows</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Windows_to_Linux"><span class="tocnumber">4.3</span> <span class="toctext">Windows to Linux</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Windows_2000_and_Windows_XP_to_Linux"><span class="tocnumber">4.4</span> <span class="toctext">Windows 2000 and Windows XP to Linux</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Others_to_Linux,_Linux_to_others"><span class="tocnumber">4.5</span> <span class="toctext">Others to Linux, Linux to others</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-21">
<a href="#Appendix"><span class="tocnumber">5</span> <span class="toctext">Appendix</span></a>
<ul>
<li class="toclevel-2 tocsection-22"><a href="#Alternative_CUPS_Interfaces"><span class="tocnumber">5.1</span> <span class="toctext">Alternative CUPS Interfaces</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#PDF_Virtual_Printer"><span class="tocnumber">5.2</span> <span class="toctext">PDF Virtual Printer</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Online_Resources"><span class="tocnumber">5.3</span> <span class="toctext">Online Resources</span></a></li>
<li class="toclevel-2 tocsection-25">
<a href="#Specialized_Cases"><span class="tocnumber">5.4</span> <span class="toctext">Specialized Cases</span></a>
<ul>
<li class="toclevel-3 tocsection-26"><a href="#Printing_does_not_work/aborts_with_the_HP_Deskjet_700_Series_Printers."><span class="tocnumber">5.4.1</span> <span class="toctext">Printing does not work/aborts with the HP Deskjet 700 Series Printers.</span></a></li>
<li class="toclevel-3 tocsection-27"><a href="#Getting_HP_LaserJet_1010_to_work"><span class="tocnumber">5.4.2</span> <span class="toctext">Getting HP LaserJet 1010 to work</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-28"><a href="#Another_Source_for_Printer_Drivers"><span class="tocnumber">5.5</span> <span class="toctext">Another Source for Printer Drivers</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-29">
<a href="#Troubleshooting"><span class="tocnumber">6</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-30"><a href="#As_a_result_of_upgrade"><span class="tocnumber">6.1</span> <span class="toctext">As a result of upgrade</span></a></li>
</ul>
</li>
</ul>
</div>

<h2>
<span id=".E0.B8.84.E0.B8.B3.E0.B9.81.E0.B8.99.E0.B8.B0.E0.B8.99.E0.B8.B3.E0.B9.80.E0.B8.9A.E0.B8.B7.E0.B9.89.E0.B8.AD.E0.B8.87.E0.B8.95.E0.B9.89.E0.B8.99"></span><span class="mw-headline" id="คำแนะนำเบื้องต้น">คำแนะนำเบื้องต้น</span>
</h2>
<h3>
<span id="CUPS_.E0.B8.84.E0.B8.B7.E0.B8.AD.E0.B8.AD.E0.B8.B0.E0.B9.84.E0.B8.A3"></span><span class="mw-headline" id="CUPS_คืออะไร">CUPS คืออะไร</span>
</h3>
<p>คัดมาจากเว็บไซท์ของ CUPS "The Common UNIX Printing System (CUPS) เป็นระบบการพิมพ์ cross-platform สำหรับสภาพแวดล้อมการทำงานบน UNIX มันถูกสร้างขึ้นมาให้รองรับกับ "Internet Printing Protocol" และสามารถทำงานได้อย่างสมบูรณ์แบบกับเครื่องพิมพ์แบบ Postscript และ Raster ส่วนใหญ่ CUPS เป็นโปรแกรม open-source ภายใต้ลิขสิทธิ์แบบ GNU GPL" ถึงแม้ว่าจะมีระบบการพิมพ์อื่นๆ เช่น LPRNG แต่ CUPS ก็ยังเป็นที่นิยมและยังง่ายต่อการใช้งาน CUPS เป็นระบบการพิมพ์มาตรฐานบน Arch Linux รวมถึง Linux distro อื่นๆ ด้วยเช่นกัน
</p>
<h3>
<span id=".E0.B8.81.E0.B8.B2.E0.B8.A3.E0.B9.81.E0.B8.81.E0.B9.89.E0.B8.9B.E0.B8.B1.E0.B8.8D.E0.B8.AB.E0.B8.B2_CUPS"></span><span class="mw-headline" id="การแก้ปัญหา_CUPS">การแก้ปัญหา CUPS</span>
</h3>
<p>วิธีที่ง่ายที่สุดในการแก้ปัญหาที่เกิดขึ้น คือตั้งค่า LogLevel ในไฟล์ <code>/etc/cups/cupsd.conf</code> ให้เป็น
</p>
<pre>LogLevel debug2
</pre>
<p>และดูรายละเอียดข้อผิดพลาดจากไฟล์ '/var/log/cups/error_log' ดังนี้
</p>
<pre>tail -n 100 -f /var/log/cups/error_log
</pre>
<p>ตัวอักษรทางซ้ายของการแสดงผลมีความหมายดังนี้
</p>
<pre>D = Debug
E = Error
I = Information
etc...</pre>
<p>ไฟล์อื่นๆ เหล่านี้อาจจะมีประโยชน์ในการแก้ปัญหา
</p>
<pre>/var/log/cups/page_log 'แสดงรายละเอียดทุกครั้งที่การพิมพ์เสร็จสิ้น'
/var/log/cups/access_log 'แสดงรายละเอียดการเรียกใช้งาน web console'
</pre>
<p>และอีกสิ่งหนึ่งที่สำคัญคือ คุณต้องเข้าใจการทำงานของ CUPS เพื่อที่จะสามารถแก้ปัญหาที่เกิดขึ้นได้
</p>
<ol>
<li>Application ส่งไฟล์ .ps (PostScript เป็นไฟล์ที่เก็บรายละเอียดของเอกสารแต่ละหน้า) ไปยัง CUPS เมื่อคุณสั่งพิมพ์งาน (99% ของโปรแกรม)</li>
<li>ต่อจากนั้น CUPS จะค้นหาไฟล์ PPD (ไฟล์เก็บรายละเอียดของเครื่องพิมพ์) และพิจารณาว่าจะต้องใช้ filter อะไรในการแปลงข้อมูลจาก .ps ไปเป็นรูปแบบที่เครื่องพิมพ์เข้าใจ เช่น PJL หรือ PCL โดยส่วนมากจะเรียกใช้งาน ผ่านทาง GhostScript</li>
<li>GhostScript รับข้อมูลและพิจารณาว่าต้องใช้งาน filter อะไรเพื่อแปลงเอกสารจาก .ps ให้อยู่ในรูปแบบที่เครื่องพิมพ์เข้าใจได้</li>
<li>หลังจากนั้นข้อมูลก็จะถูกส่งกลับมาที่ backend ตัวอย่างเช่น หากคุณมีเครื่องพิม์เชื่อมต่ออยู่กับ USB port ระบบจะเรียกใช้งาน USB backend</li>
</ol>
<p>คุณสามารถทดลองพิมพ์เอกสารและดูรายละเอียดในไฟล์ 'error_log' เพื่อความเข้าใจมากขึ้นในกระบวนการทำงานของ CUPS
</p>
<h2>
<span id=".E0.B8.81.E0.B8.B2.E0.B8.A3.E0.B8.95.E0.B8.B4.E0.B8.94.E0.B8.95.E0.B8.B1.E0.B9.89.E0.B8.87_CUPS"></span><span class="mw-headline" id="การติดตั้ง_CUPS">การติดตั้ง CUPS</span>
</h2>
<h3><span class="mw-headline" id="Packages">Packages</span></h3>
<p>คุณต้องการ CUPS และ Ghostscript
</p>
<pre># pacman -S cups ghostscript
</pre>
<ul>
<li>
<b>cups</b> - คือแพคเกจของ CUPS</li>
<li>
<b>ghostscript</b> - ตัวแปลภาษา Postscript</li>
</ul>
<p>เหล่านี้คือชุดของ driver ซึ่งสามารถทำงานได้กับเครื่องพิมพ์ของคุณ หากคุณไม่แน่ใจ ให้ติดตั้ง gutenprint
</p>
<ul>
<li>
<b>gutenprint</b> - เป็นชุดของ driver ความละเอียดสูงสำหรับ Canon, Epson, Lexmark, Sony, Olympus และเครื่องพิมพ์ PCL สำหรับใช้งานกับ Ghostscript, CUPS, Foomatic และ the GIMP.</li>
<li>
<b>foomatic</b>, <b>foomatic-db</b>, <b>foomatic-db-engine</b>, <b>foomatic-db-ppd</b> และ <b>foomatic-filters</b> - Foomatic เป็นระบบที่ทำงานบนฐานข้อมูล สำหรับการรวม driver ซอฟท์แวร์ฟรีเข้าไว้กับระบบการพิมพ์ของ Unix</li>
<li>การติดตั้ง <b>foomatic-filters</b> น่าจะแก้ปัญหาได้ หากคุณพบข้อผิดพลาด "stopped with status 22!" ในไฟล์ error.log</li>
<li>
<b>hplip</b> - HP Linux inkjet driver สามารถใช้งานได้กับ DeskJet, OfficeJet, Photosmart, Business Inkjet และ LaserJet บางรุ่น</li>
<li>
<b>cups-pdf</b> - แพคเกจที่ช่วยให้คุณสร้าง Virtual PDF Printer ซึ่งจะแปลงเอกสารต่างๆ ให้เป็นไฟล์ PDF</li>
</ul>
<p>หากระบบของคุณเชื่อมต่ออยู่กับเครื่องพิมพ์ที่อยู่บนเครือข่ายซึ่งใช้โปรโตคอลของ samba (Windows Networking) หรือคุณต้องการให้เครื่องของคุณแบ่งปันเครื่องพิมพ์บนระบบเครือข่ายของ Windows คุณต้องติดตั้ samba
</p>
<pre># pacman -S samba
</pre>
<h3>
<span id="Download_Printer_PPD_.28.E0.B9.84.E0.B8.9F.E0.B8.A5.E0.B9.8C.E0.B8.A3.E0.B8.B2.E0.B8.A2.E0.B8.A5.E0.B8.B0.E0.B9.80.E0.B8.AD.E0.B8.B5.E0.B8.A2.E0.B8.94.E0.B9.80.E0.B8.84.E0.B8.A3.E0.B8.B7.E0.B9.88.E0.B8.AD.E0.B8.87.E0.B8.9E.E0.B8.B4.E0.B8.A1.E0.B8.9E.E0.B9.8C.29"></span><span class="mw-headline" id="Download_Printer_PPD_(ไฟล์รายละเอียดเครื่องพิมพ์)">Download Printer PPD (ไฟล์รายละเอียดเครื่องพิมพ์)</span>
</h3>
<p>ขั้นตอนนี้อาจจะไม่จำเป็นสำหรับเครื่องพิมพ์บางรุ่น เพราะ CUPS ได้มาพร้อมกับชุด driver มาตรฐาน (ส่วนใหญ่สำหรับเครื่องพิมพ์ PostScript) และที่มากไปกว่านั้น <i>foomatic-filters</i>, <i>gimp-print</i> และ <i>hplip</i> ได้รวมเอาไฟล์รายละเอียดเครื่องพิมพ์ไว้พอสมควร ซึ่ง CUPS จะตรวจพบได้เอง
</p>
<p>นี่คือคำอธิบายความหมายของไฟล์ PPD หรือไฟล์รายละเอียดเครื่องพิมพ์ ซึ่งได้มาจากเว็บไซท์ Linux Printing "สำหรับเครื่องพิมพ์ PostScript ทุกตัว ผู้ผลิตจะให้ไฟล์ PPD ซึ่งประกอบไปด้วยรายละเอียดต่างๆ เกี่ยวกับเครื่องพิมพ์รุ่นนั้นๆ เช่น ความสามารถมาตรฐานที่เครื่องพิมพ์สามารถทำได้ ความสามารถในการพิมพ์สี Font ต่างๆ และอื่นๆ อีกมากมาย รวมถึงการตั้งค่าที่ผู้ใช้สามารถเลือกได้ เช่น ขนาดกระดาษ หรือ ความละเอียดเป็นต้น"
</p>
<ul><li>การ Download ไฟล์ PPD</li></ul>
<p>ให้คุณเข้าไปยัง <a rel="nofollow" class="external free" href="http://www.linuxprinting.org/printer_list.cgi">http://www.linuxprinting.org/printer_list.cgi</a> และเลือกยี่ห้อกับรุ่นของเครื่องพิมพ์ของคุณ
</p>
<ul><li>หลังจากนั้น คุณต้องคัดลอกไฟล์ไปยัง directory ของ CUPS เพื่อให้ระบบสามารถตรวจสอบไฟล์ได้ ถ้าคุณอยู่ใน directory ที่คุณ download ไฟล์ PPD มา ให้ใช้คำสั่งดังนี้</li></ul>
<pre># cp ชื่อไฟล์.ppd /usr/share/cups/model/
</pre>
<p>ถ้าคุณหายี่ห้อและรุ่นของเครื่องพิมพ์คุณไม่พบ คุณสามารถลองใช้งานไฟล์ของรุ่นที่คล้ายๆ กันได้ หรือสามารถลองใช้ Driver มาตรฐาน (Generic) โปรดหารายละเอียดเพิ่มเติมจาก Google หรือสอบถามจากผู้ผลิตเครื่องพิมพ์ของคุณ (เราขอให้คุณโชคดี)
</p>
<h2>
<span id=".E0.B8.81.E0.B8.B2.E0.B8.A3.E0.B8.95.E0.B8.B1.E0.B9.89.E0.B8.87.E0.B8.84.E0.B9.88.E0.B8.B2_CUPS"></span><span class="mw-headline" id="การตั้งค่า_CUPS">การตั้งค่า CUPS</span>
</h2>
<h3>
<span id=".E0.B8.95.E0.B8.B1.E0.B8.A7.E0.B9.80.E0.B8.A5.E0.B8.B7.E0.B8.AD.E0.B8.81.E0.B8.95.E0.B9.88.E0.B8.B2.E0.B8.87.E0.B9.86"></span><span class="mw-headline" id="ตัวเลือกต่างๆ">ตัวเลือกต่างๆ</span>
</h3>
<p>หลังจากติดตั้งเสร็จสมบูรณ์ คุณมีตัวเลือกมากมายในการตั้งค่า CUPS คุณสามารถเรียกใช้งานการตั้งค่าจาก command line ได้ตลอดเวลา ในขณะเดียวกัน Desktop Environment ต่างๆ ได้รวมเครื่องมือที่มีประโยชน์ ซึ่งสามารถใช้ในการตั้งค่าเครื่องพิมพ์ได้ นอกจากนี้ CUPS ยังมี web interface เพื่อความสะดวกในการตั้งค่าและใช้งานอีกด้วย
</p>
<p>หากคุณต้องการเชื่อมต่อกับเครื่องพิมพ์ที่อยู่ในระบบเครือข่าย คุณสามารถข้ามไปอ่านส่วนของ Printer Sharing ก่อน การ Share เครื่องพิมพ์ระหว่าง Linux กับ Linux เป็นเรื่องง่าย ในทางกลับกัน การ Share เครื่องพิมพ์ระหว่าง Windows กับ Linux ต้องการการตั้งค่าเพิ่มเติม แต่ก็ไม่ยากเกิดความสามารถของผู้ใช้ทั่วไป
</p>
<h3><span class="mw-headline" id="Kernel_Modules">Kernel Modules</span></h3>
<p>ก่อนที่เราจะสามารถใช้งาน Web Interface ของ CUPS ได้ เราต้องติดตั้ง kernel module ที่ถูกต้องลงไปในระบบก่อน ขันตอนต่างๆ เหล่านี้ได้มาจากคู่มือการพิมพ์ของ Gentoo
</p>
<h4>
<span id=".E0.B9.80.E0.B8.84.E0.B8.A3.E0.B8.B7.E0.B9.88.E0.B8.AD.E0.B8.87.E0.B8.9E.E0.B8.B4.E0.B8.A1.E0.B8.9E.E0.B9.8C_USB"></span><span class="mw-headline" id="เครื่องพิมพ์_USB">เครื่องพิมพ์ USB</span>
</h4>
<p>ถ้าคุณต้องการใช้เครื่องพิมพ์ที่ใช้การเชื่อมต่อแบบ USB กับ Kernel รุ่น 2.6.x ให้ใช้คำสั่งดังนี้
</p>
<pre># modprobe usblp
</pre>
<p>หากคุณต้องการใช้เครื่องพิมพ์ USB กับ Kernel รุ่น 2.4.x ให้ใช้คำสั่งดังนี้
</p>
<pre># modprobe printer
</pre>
<p>ข้อสังเกต คำแนะนำนี้สำหรับผู้ใช้งานที่ใช้ Kernel ที่มากับตัว Arch เท่านั้น (Stock kernel) หากคุณใช้งาน kernel ของคุณเอง คุณอาจจะต้องเรียกใช้งานคำสั่งนี้ 
</p>
<pre># modprobe usbcore
</pre>
<p>หลังจากที่คุณติดตั้ง module ต่างๆ เป็นที่เรียบร้อยแล้ว คุณสามารถเชื่อมต่อเครื่องพิมพ์เข้ากับเครื่องคอมพิวเตอร์ของคุณ และตรวจสอบว่าระบบปฏิบัติการได้ค้นพบเครื่องพิมพ์ของคุณ โดยใช้คำสั่งดังนี้
</p>
<pre># tail /var/log/messages
</pre>
<p>หรือ
</p>
<pre># dmesg
</pre>
<p>คุณควรจะได้รับผลลัพธ์ใกล้เคียงกับรูปแบบนี้
</p>
<pre> Feb 19 20:17:11 kernel: printer.c: usblp0: USB Bidirectional
 printer dev 2 if 0 alt 0 proto 2 vid 0x04E8 pid 0x300E
 Feb 19 20:17:11 kernel: usb.c: usblp driver claimed interface cfef3920
 Feb 19 20:17:11 kernel: printer.c: v0.13: USB Printer Device Class driver
</pre>
<h4>
<span id=".E0.B9.80.E0.B8.84.E0.B8.A3.E0.B8.B7.E0.B9.88.E0.B8.AD.E0.B8.87.E0.B8.9E.E0.B8.B4.E0.B8.A1.E0.B8.9E.E0.B9.8C.E0.B8.9E.E0.B8.AD.E0.B8.A3.E0.B9.8C.E0.B8.97.E0.B8.82.E0.B8.99.E0.B8.B2.E0.B8.99"></span><span class="mw-headline" id="เครื่องพิมพ์พอร์ทขนาน">เครื่องพิมพ์พอร์ทขนาน</span>
</h4>
<p>หากคุณต้องการใช้เครื่องพิมพ์ที่เชื่อมต่อผ่านทางพอร์ทขนาน (Parallel Port) การตั้งค่าส่วนใหญ่จะเหมือนเดิม สำหรับ kernel รุ่น 2.6.x ให้ใช้คำสั่งดังนี้
</p>
<pre># modprobe lp
</pre>
<p>และสำหรับ kernel รุ่น 2.4 และ 2.6 ให้ใช้คำสั่งดังนี้ด้วย
</p>
<pre># modprobe parport
# modprobe parport_pc
</pre>
<p>คุณสามารถตรวจสอบการทำงานของระบบได้จาก
</p>
<pre># tail /var/log/messages
</pre>
<p>และคุณควรจะเห็นผลลัพธ์คล้ายๆ กับผลลัพธ์ดังนี้
</p>
<pre># lp0: using parport0 (polling).
</pre>
<p>ข้อสังเกต ในบางกรณี การตั้งค่า Permission อาจจะผิดพลาด ซึ่งทำให้ระบบไม่สามารถพิมพ์งานได้ ตัวอย่างการแก้ไข permission มีดังนี้
</p>
<pre>[root@mihal usb]# cd /dev/usb/
[root@mihal usb]# ls
lp0
[root@mihal usb]# chgrp lp lp0

</pre>
<h4>
<span id=".E0.B8.81.E0.B8.B2.E0.B8.A3.E0.B9.80.E0.B8.A3.E0.B8.B5.E0.B8.A2.E0.B8.81.E0.B9.83.E0.B8.8A.E0.B9.89.E0.B8.87.E0.B8.B2.E0.B8.99.E0.B9.82.E0.B8.94.E0.B8.A2.E0.B8.AD.E0.B8.B1.E0.B8.95.E0.B9.82.E0.B8.99.E0.B8.A1.E0.B8.B1.E0.B8.95.E0.B8.B4"></span><span class="mw-headline" id="การเรียกใช้งานโดยอัตโนมัติ">การเรียกใช้งานโดยอัตโนมัติ</span>
</h4>
<p>คุณอาจจะอยากให้ระบบเรียกใช้งาน kernel module อัตโนมัติทุกครั้งที่เริ่มทำงาน คุณสามารถตั้งค่าเหล่านี้ได้โดยการแก้ไขไฟล์ <code>/etc/rc.conf</code> และเพิ่มรายละเอียดในส่วนของ <i>MODULES=()</i> นี่คือตัวอย่างการตั้งค่าในส่วนของ MODULES
</p>
<pre>MODULES=(!usbserial scsi_mod sd_mod snd-ymfpci snd-pcm-oss printer ide-scsi)</pre>
<h3><span class="mw-headline" id="CUPS_Daemon">CUPS Daemon</span></h3>
<p>หลังจากที่ติดตั้ง Kernel Module เรียบร้อยแล้ว คุณสามารถเริ่มใช้งาน CUPS ได้ด้วยการใช้คำสั่งนี้
</p>
<pre># /etc/rc.d/cupsd start
</pre>
<p>และหากคุณต้องการใช้ CUPS เริ่มต้นทำงานโดยอัตโนมัติทุกครั้งที่คุณเริ่มใช้งานคอมพิวเตอร์ ให้เพิ่มข้อมูลเข้าไปในส่วนของ DAEMONS=() ในไฟล์ <i>/etc/rc.conf</i> ตัวอย่างเช่น
</p>
<pre># DAEMONS=(pcmcia syslogd klogd !fam esd mono network autofs cupsd crond gdm)</pre>
<h3>
<span id="Web_Interface_.E0.B9.81.E0.B8.A5.E0.B8.B0.E0.B8.8A.E0.B8.B8.E0.B8.94.E0.B9.80.E0.B8.84.E0.B8.A3.E0.B8.B7.E0.B9.88.E0.B8.AD.E0.B8.87.E0.B8.A1.E0.B8.B7.E0.B8.AD"></span><span class="mw-headline" id="Web_Interface_และชุดเครื่องมือ">Web Interface และชุดเครื่องมือ</span>
</h3>
<p>หลังจากที่คุณทำให้ Daemon ทำงานได้แล้ว คุณสามารถเข้าสู่ Web Interface ได้ โดยเปิด web browser แล้วเข้าไปยัง
</p>
<p><i><a rel="nofollow" class="external free" href="http://localhost:631">http://localhost:631</a></i>
</p>
<p>หรือติดตั้ง "Gnome Cups Manager" ซึ่งเป็น GUI frontend (โปรดดูภาคผนวกที่ A.1 <a href="/title/CUPS#Alternative_CUPS_Interfaces" title="CUPS">การเรียกใช้งาน CUPS ในรูปแบบอื่นๆ</a><sup>[<a href="/title/Help:Procedures#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>)
</p>
<p>จากจุดนี้ไป คุณเพียงแค่ทำตาม Wizard ต่างๆ เพื่อเพิ่มและจัดการกับเครื่องพิมพ์ของคุณ ตัวอย่างคร่าวๆ คือการคลิก <i>Manage Printers</i> และคลิกต่อไปที่ <i>Add Printer</i> เมื่อระบบถามหาชื่อผู้ใช้และรหัสผ่าน ให้ใส่ <i>root</i> และรหัสผ่านของ root จากนั้นใส่ชื่อ, ที่ตั้ง และคำอธิบายอื่นๆ ของเครื่องพิมพ์ หลังจากนั้นคุณจะต้องเลือกอุปกรณ์ และ Driver ที่เหมาะสมกับเครื่องพิมพ์ เป็นอันเสร็จสิ้นการติดตั้งเครื่องพิมพ์
</p>
<p>คุณสามารถพิมพ์หน้าทดสอบได้โดยการกดที่ปุ่ม <i>Print Test Page</i>
</p>
<h2>
<span id=".E0.B8.95.E0.B8.B1.E0.B9.89.E0.B8.87.E0.B8.84.E0.B9.88.E0.B8.B2.E0.B8.81.E0.B8.B2.E0.B8.A3_Share_.E0.B9.80.E0.B8.84.E0.B8.A3.E0.B8.B7.E0.B9.88.E0.B8.AD.E0.B8.87.E0.B8.9E.E0.B8.B4.E0.B8.A1.E0.B8.9E.E0.B9.8C"></span><span class="mw-headline" id="ตั้งค่าการ_Share_เครื่องพิมพ์">ตั้งค่าการ Share เครื่องพิมพ์</span>
</h2>
<h3>
<span id="Linux_.E0.B8.81.E0.B8.B1.E0.B8.9A_Linux"></span><span class="mw-headline" id="Linux_กับ_Linux">Linux กับ Linux</span>
</h3>
<p>หลังจากที่คุณติดตั้ง CUPS บนระบบ Linux ของคุณที่จะทำหน้าที่เป็นแม่ข่ายแล้ว การ share เครื่องพิมพ์กับระบบ Linux อื่นๆ สามารถทำได้อย่างง่ายดาย โดยมีหลายวิธีในการตั้งค่า ในที่นี้จะอธิบายการตั้งค่าด้วยมือแบบละเอียด บนเครื่องแม่ข่าย (เครื่องที่เชื่อมต่ออยู่กับเครื่องพิมพ์) ให้เปิดไฟล์ <i>/etc/cups/cupsd.conf</i> และอนุญาตให้เครื่องคอมพิวเตอร์อื่นๆ สามารถเข้าสู่ระบบได้ด้วยการแก้ไขการตั้งค่า ตัวอย่างเช่น
</p>
<pre>&lt;Location /&gt;
  Order Deny,Allow
  Deny From All
  Allow From 127.0.0.1
  Allow From 10.0.0.*
&lt;/Location&gt;
</pre>
<p>คุณต้องแน่ใจด้วย ว่าเครื่องแม่ข่ายกำลังรับการติดต่อจาก IP address ที่เครื่องลูกข่ายจะเรียกหา ตัวอย่างเช่น (ให้ใส่ไว้หลังจากบรรทัดที่เขียนว่า "Listen localhost:631"
</p>
<pre>Listen 10.0.0.1:631
</pre>
<p>โดยใช้ IP Address ของเครื่องแม่ข่ายของคุณแทนที่ 10.0.0.1.
</p>
<p>ใส่ IP Address ของเครื่องลูกข่ายในส่วนของ Allow From หลังจากนั้นคุณต้องเริ่มต้นใช้งาน CUPS ใหม่ โดยใช้คำสั่งดังนี้
</p>
<pre># /etc/rc.d/cupsd restart
</pre>
<p>ในส่วนของเครื่องลูกข่าย ให้เปิดไฟล์ <code>/etc/cups/client.conf</code> และแก้ไขในส่วนของ ServerName ให้ตรงกับ IP Address หรือชื่อของเครื่องแม่ข่าย ตัวอย่างเช่นเครื่องแม่ข่ายมี IP Address คือ 192.168.0.1 การตั้งค่าจะดูคล้ายกับแบบนี้ ในไฟล์ <i>client.conf</i>
</p>
<pre>ServerName 192.168.0.1
</pre>
<p>ต่อจากนั้นให้เรียกใช้คำสั่งนี้เพื่อ Update เครื่องคอมพิวเตอร์
</p>
<pre># lpq
</pre>
<p>คุณน่าจะเห็นผลลัพธ์ที่คล้ายๆ กับแบบนี้
</p>
<pre>ml1250 is ready
no entries
</pre>
<p>นอกจากนี้ยังมีการตั้งค่าอีกหลายแบบ ซึ่งรวมถึงการตั้งค่าอัตโนมัติ โดยคุณสามารถดูรายละเอียดได้จาก <a rel="nofollow" class="external free" href="http://localhost:631/sam.html#CLIENT_SETUP">http://localhost:631/sam.html#CLIENT_SETUP</a> (ลิงค์นี้จะทำงานบนเครื่องแม่ข่ายเท่านั้น)
</p>
<p>หากคุณถูกถามรหัสผู้ใช้งาน ให้ใส่ชื่อผู้ใช้และรหัสผ่านสำหรับ root และหากคุณใช้เครื่องพิมพ์ JetDirect ให้เข้าไปดูยังหน้านี้ <a rel="nofollow" class="external free" href="https://web.archive.org/web/20100311051035/http://www.digitalhermit.com/linux/printing/">https://web.archive.org/web/20100311051035/http://www.digitalhermit.com/linux/printing/</a>
</p>
<h3><span class="mw-headline" id="Linux_to_Windows">Linux to Windows</span></h3>
<p>If you are connected to a Windows print server (or any other Samba capable print server), you can skip the section about kernel modules and such.  All you have to do is start the CUPS daemon and complete the web interface as specified in section 3.3 and 3.4.  Before this, you need to activate the Samba CUPS backend.  You can do this by entering the following command:
</p>
<pre># ln -s `which smbspool` /usr/lib/cups/backend/smb
</pre>
<p>Note that the symbol before is ` (underneath the ~ on a standard US keyboard) and not '.  After this, you will have to restart CUPS using the command specified in the previous section.  Next, simply login into the CUPS web interface and choose to add a new printer.  For device, there should be an option that says something to the effect Windows Printer Via Samba near the button of the device list.  For the device location enter:
</p>
<pre>smb://username:password@hostname/printer_name
</pre>
<p>Or without a password:
</p>
<pre>smb://username@hostname/printer_name
</pre>
<p>Make sure that the user actually has access to the printer on Windows computer.  Select the appropriate drivers and that's about it. If the computer is located on a domain, make sure the username includes the domain: 
</p>
<pre>smb://username:password@domain/hostname/printer_name
</pre>
<p>Note: if your network contains many printers use "lpoptions -d your_desired_default_printer_name" to set your preferred printer
</p>
<h3><span class="mw-headline" id="Windows_to_Linux">Windows to Linux</span></h3>
<p>Sometimes, you might want to allow a Windows computer to connect to your computer.  There are a few ways to do this, and the one I am most familiar with is using Samba.  In order to do this, you will have to edit your <i>/etc/samba/smb.conf</i> file to allow access to your printers.  Your smb.conf can look something like this:
</p>
<pre>[global]
workgroup = Heroes
server string = Arch Linux Print Server
security = user

[printers]
    comment = All Printers
    path = /var/spool/samba
    browseable = yes
    # to allow user 'guest account' to print.
    guest ok = no
    writable = no
    printable = yes
    create mode = 0700
    write list = @adm root neocephas</pre>
<p>That should be enough to share your printer, but you just might want to add an individual printer entry:
</p>
<pre>[ML1250]
    comment = Samsung ML-1250 Laser Printer
    printer=ml1250
    path = /var/spool/samba
    printing = cups
    printable = yes
    printer admin = @admin root neocephas
    user client driver = yes
    # to allow user 'guest account' to print.
    guest ok = no
    writable = no
    write list = @adm root neocephas
    valid users = @adm root neocephas</pre>
<p>Please note that in my configuration I made it so that users must have a valid account to access the printer.  To have a public printer, set guest ok to yes, and remove the valid users line.  To add accounts, you must setup a regular Linux account and then setup a Samba password on the server.  For instance:
</p>
<pre># useradd neocephas
# smbpasswd -a neocephas
</pre>
<p>After setting up any user accounts that you need, you will also need to set up the samba spool folder:
</p>
<pre># mkdir /var/spool/samba
# chmod 777 /var/spool/samba
</pre>
<p>The next items that need changing are /etc/cups/mime.convs and /etc/cups/mime.types:
</p>
<p>mime.convs:
</p>
<pre># The following line is found at near the end of the file. Uncomment it.
application/octet-stream        application/vnd.cups-raw        0       -
</pre>
<p>mime.types:
</p>
<pre># Again near the end of the file.
application/octet-stream
</pre>
<p>The changes to mime.convs and mime.types are needed to make CUPS print Microsoft Office document files. Many people seem to need that.
</p>
<p>After this restart your Samba daemon:
</p>
<pre># /etc/rc.d/samba restart
</pre>
<p>Obvious, there are a lot of tweaks and customization that can be done with setting up a Samba print server, so I advise you to look at the Samba and CUPS documentation for more help.  The <i>smb.conf.example</i> file also has some good samples to that you might want to look at.
</p>
<h3><span class="mw-headline" id="Windows_2000_and_Windows_XP_to_Linux">Windows 2000 and Windows XP to Linux</span></h3>
<p>For the most modern flavours of Windows an alternative way of connecting to your Linux printer server is to use the CUPS protocol directly.  The Windows client will need to be using Windows 2000 or Windows XP.  Make sure you allows the clients to access the print server by editing the location settings as specified in section 4.1.
</p>
<p>On the Windows computer, go to the printer control panel and choose to Add a New Printer.  Next, choose to give an url.  For the url type in the location of your printer:
</p>
<p><i><a rel="nofollow" class="external free" href="http://host_ip_address:631/printers/printer_name">http://host_ip_address:631/printers/printer_name</a></i>
</p>
<p>where host_ip_address is the Linux server's IP address and printer_name is the name of the printer you are connecting to.  After this, install the printer drivers for the Windows computer.  If you setup the CUPS server to use its own printer drivers, then you can just select a generic postscript printer for the Windows client.  You can then test your print setup by printing a test page.
</p>
<h3>
<span id="Others_to_Linux.2C_Linux_to_others"></span><span class="mw-headline" id="Others_to_Linux,_Linux_to_others">Others to Linux, Linux to others</span>
</h3>
<p>More information on interfacing CUPS with other printing systems can be found in the CUPS manual, e.g. on <a rel="nofollow" class="external free" href="http://localhost:631/sam.html#PRINTING_OTHER">http://localhost:631/sam.html#PRINTING_OTHER</a>
</p>
<h2><span class="mw-headline" id="Appendix">Appendix</span></h2>
<h3><span class="mw-headline" id="Alternative_CUPS_Interfaces">Alternative CUPS Interfaces</span></h3>
<p>If you are a GNOME user, you can manage and configure your printer by using the gnome-cups-manager.
</p>
<p>Update: this package is now available through pacman if you have the "community" repository uncommented in /etc/pacman.conf
</p>
<pre>pacman -S gnome-cups-manager
</pre>
<p>The package is also still available from the <a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/?O=0&amp;L=0&amp;C=0&amp;K=cups&amp;SB=&amp;SO=&amp;PP=25&amp;do_MyPackages=0&amp;do_Orphans=0&amp;SeB=nd">AUR</a>.
</p>
<p>KDE users can modify their printers from the Control Center.  Both should refer the those desktop environments' documentation for more information on how to use the interfaces.
</p>
<p>There is also <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gtklp/">gtklp</a></span><sup><small>AUR</small></sup>. It is in the [extra] repository.
</p>
<h3><span class="mw-headline" id="PDF_Virtual_Printer">PDF Virtual Printer</span></h3>
<p>A nice little package that I submitted to the incoming folder (<a rel="nofollow" class="external free" href="ftp://ftp.archlinux.org/incoming">ftp://ftp.archlinux.org/incoming</a>) is CUPS-PDF.  This package allows one to setup a virtual printer that will generate a PDF from anything sent to it.  For example, I wrote this document in AbiWord and then printed it to the Virtual Printer which generated a PDF in my <code>/var/spool/cups-pdf/neocephas</code> folder.  Obviously, this package is not necessary, but it can be quite useful.  After downloading the package from the ftp server and installing it, you can set it up as you would for any other printer in the web interface.  Select Virtual PDF Printer as the device and choose Postscript -&gt; Postscript Color Printer for the drivers.
</p>
<h3><span class="mw-headline" id="Online_Resources">Online Resources</span></h3>
<p>Here is a listing of websites that may be of use to you:
</p>
<ul>
<li>
<b>Official CUPS documentation on your computer</b> <a rel="nofollow" class="external free" href="http://localhost:631/documentation.html">http://localhost:631/documentation.html</a>
</li>
<li>
<b>Official CUPS Website</b> - <a rel="nofollow" class="external free" href="http://www.cups.org/">http://www.cups.org/</a>
</li>
<li>
<b>Linux Printing</b> - <a rel="nofollow" class="external free" href="http://www.linuxprinting.org/">http://www.linuxprinting.org/</a>
</li>
<li>
<b>Tips and Suggestions on common CUPS problems</b> - <a rel="nofollow" class="external free" href="https://web.archive.org/web/20080918042956/http://home.nyc.rr.com/computertaijutsu/cups.html">https://web.archive.org/web/20080918042956/http://home.nyc.rr.com/computertaijutsu/cups.html</a>
</li>
<li>
<b>Gentoo's Printing Guide</b> - <a rel="nofollow" class="external free" href="https://www.gentoo.org/doc/en/printing-howto.xml">https://www.gentoo.org/doc/en/printing-howto.xml</a>
</li>
<li>
<b>Arch Linux User Forums</b> - <a rel="nofollow" class="external free" href="https://bbs.archlinux.org/">https://bbs.archlinux.org/</a>
</li>
</ul>
<h3><span class="mw-headline" id="Specialized_Cases">Specialized Cases</span></h3>
<p>This section is dedicated to specific problems and their solutions. If you managed to get some <i>unusual</i> printer working, please put the solution here.
</p>
<h4>
<span id="Printing_does_not_work.2Faborts_with_the_HP_Deskjet_700_Series_Printers."></span><span class="mw-headline" id="Printing_does_not_work/aborts_with_the_HP_Deskjet_700_Series_Printers.">Printing does not work/aborts with the HP Deskjet 700 Series Printers.</span>
</h4>
<ul><li>The solution is to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pnm2ppa/">pnm2ppa</a></span><sup><small>AUR</small></sup> printer filter for the HP Deskjet 700 series. Without this the print jobs will be aborted by the system.  A <a href="/title/PKGBUILD" title="PKGBUILD">PKGBUILD</a> for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pnm2ppa/">pnm2ppa</a></span><sup><small>AUR</small></sup> can be found in the <a href="/title/AUR" class="mw-redirect" title="AUR">AUR</a>.</li></ul>
<h4><span class="mw-headline" id="Getting_HP_LaserJet_1010_to_work">Getting HP LaserJet 1010 to work</span></h4>
<p>I had to compile ghostscript myself because ESP gs in rep was 7.07 and had not fixed some bugs like ESP 8.15.1 had. I never downloaded 'foomatic' in rep. I think that is an old package. 
</p>
<p>kris|~/temp$ P -Qs cups a2ps psutils foo ghost
local/cups 1.1.23-3
</p>
<pre>   The CUPS Printing System
</pre>
<p>local/a2ps 4.13b-3
</p>
<pre>   a2ps is an Any to PostScript filter
</pre>
<p>local/psutils p17-3
</p>
<pre>   A set of postscript utilities.
</pre>
<p>local/foomatic-db 3.0.2-1
</p>
<pre>   Foomatic is a system for using free software printer drivers with common
   spoolers on Unix
</pre>
<p>local/foomatic-db-engine 3.0.2-1
</p>
<pre>   Foomatic is a system for using free software printer drivers with common
   spoolers on Unix
</pre>
<p>local/foomatic-db-ppd 3.0.2-1
</p>
<pre>   Foomatic is a system for using free software printer drivers with common
   spoolers on Unix
</pre>
<p>local/foomatic-filters 3.0.2-1
</p>
<pre>   Foomatic is a system for using free software printer drivers with common
   spoolers on Unix
</pre>
<p>local/espgs 8.15.1-1
</p>
<pre>   ESP Ghostscript
</pre>
<p>I also had to set LogLevel in /etc/cups/cupsd.conf to debug2 before i saw that I missed some "Nimbus" fonts. Then I had to rename &amp; put them where the log told me to. Some fancy google searching had to be applied, example: <a rel="nofollow" class="external free" href="https://www.google.com/search?q=n019003l+filetype%3Apfb">https://www.google.com/search?q=n019003l+filetype%3Apfb</a> since the fonts turned out to be propriatory(i'm sure windows comes with these default). Nevertheless after downloading them(about 7 fonts) and putting them in the correct folder printing started working.
</p>
<p>Before that i were getting all the errors said here: <a rel="nofollow" class="external free" href="https://linuxprinting.org/show_printer.cgi?recnum=HP-LaserJet_1010">https://linuxprinting.org/show_printer.cgi?recnum=HP-LaserJet_1010</a> 'Unsupport PCL' etc...
</p>
<p>I'm sure it could have worked with ESP gs 7.07 too(in rep) if i was smart enough to turn on DebugLevel2 sooner :/ UPDATE: yeah it did... maybe this info is useful for someone else though.. sorry for the inconvienice
</p>
<h3><span class="mw-headline" id="Another_Source_for_Printer_Drivers">Another Source for Printer Drivers</span></h3>
<p>On <i><a rel="nofollow" class="external free" href="http://www.turboprint.de/english.html">http://www.turboprint.de/english.html</a></i> is a really good printer driver for many printers not yet supported by Linux (especially Canon i*). The only problem is that high-quality-prints are either marked with a turboprint-logo or you have to pay for it... It's not Open-Source.
</p>
<p><a href="https://en.wikipedia.org/wiki/Common_Unix_Printing_System" class="extiw" title="wikipedia:Common Unix Printing System">Wikipedia:Common_Unix_Printing_System</a>
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="As_a_result_of_upgrade">As a result of upgrade</span></h3>
<p>After updating, if you get something like :
</p>
<pre> /usr/sbin/cupsd: error while loading shared libraries: libgnutls.so.13: cannot open shared object file: No such file or directory
</pre>
<p>You need to update <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnutls">gnutls</a></span>.
</p>
<p>In addition, in <code>/etc/cups</code>, there will be a file named <code>cupsd.conf.pacnew</code>.  Rename it <code>cupsd.conf</code>.
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="/title/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/title/Category:Printers_(%E0%B9%84%E0%B8%97%E0%B8%A2)" title="Category:Printers (ไทย)">Printers (ไทย)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="/title/Category:Pages_or_sections_flagged_with_Template:Translateme" title="Category:Pages or sections flagged with Template:Translateme">Pages or sections flagged with Template:Translateme</a></li>
<li><a href="/title/Category:Pages_with_broken_section_links" title="Category:Pages with broken section links">Pages with broken section links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=CUPS_(%E0%B9%84%E0%B8%97%E0%B8%A2)&amp;oldid=668552">https://wiki.archlinux.org/index.php?title=CUPS_(ไทย)&amp;oldid=668552</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 8 May 2021, at 10:11.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="/title/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="/title/ArchWiki:About" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="/title/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
